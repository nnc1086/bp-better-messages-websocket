/*! For license information please see react.min.js.LICENSE.txt */
(this.webpackChunkBetterMessages=this.webpackChunkBetterMessages||[]).push([["node_modules_uppy_react_lib_index_js"],{3517:e=>{e.exports=function(e,t){if(e===t)return!0;for(var n in e)if(!(n in t))return!1;for(var n in t)if(e[n]!==t[n])return!1;return!0}},4294:(e,t,n)=>{"use strict";var r=n(46518),i=n(97751),a=n(18745),o=n(79039),s=n(14601),l="AggregateError",u=i(l),c=!o((function(){return 1!==u([1]).errors[0]}))&&o((function(){return 7!==u([1],l,{cause:7}).cause}));r({global:!0,constructor:!0,arity:2,forced:c},{AggregateError:s(l,(function(e){return function(t,n){return a(e,this,arguments)}}),c,!0)})},10826:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(18180);function i(e){return"object"===(0,r.A)(e)&&null!==e&&("nodeType"in e&&e.nodeType===Node.ELEMENT_NODE)}},13656:(e,t,n)=>{"use strict";n.d(t,{A:()=>m});var r=n(51531),i=n(18180),a=n(58237),o=n(84285);n(52675),n(83237),n(31073),n(16280),n(76918),n(2008),n(51629),n(64346),n(48598),n(44114),n(69085),n(67945),n(84185),n(83851),n(81278),n(79432),n(26099),n(84864),n(57465),n(27495),n(87745),n(38781),n(25440),n(90744),n(98992),n(54520),n(3949),n(23500);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var c=0;function p(e){return"__private_"+c+++"_"+e}function d(e,t,n){var r=[];return e.forEach((function(e){return"string"!=typeof e?r.push(e):t[Symbol.split](e).forEach((function(e,t,i){""!==e&&r.push(e),t<i.length-1&&r.push(n)}))})),r}function h(e,t){var n=/\$/g,r=[e];if(null==t)return r;for(var i=0,a=Object.keys(t);i<a.length;i++){var o=a[i];if("_"!==o){var s=t[o];"string"==typeof s&&(s=n[Symbol.replace](s,"$$$$")),r=d(r,new RegExp("%\\{".concat(o,"\\}"),"g"),s)}}return r}var f=function(e){throw new Error("missing string: ".concat(e))},g=p("onMissingKey"),v=p("apply"),m=function(){return(0,o.A)((function e(t,n){(0,a.A)(this,e);var r=(void 0===n?{}:n).onMissingKey,i=void 0===r?f:r;Object.defineProperty(this,v,{value:y}),Object.defineProperty(this,g,{writable:!0,value:void 0}),this.locale={strings:{},pluralize:function(e){return 1===e?0:1}},Array.isArray(t)?t.forEach(u(this,v)[v],this):u(this,v)[v](t),u(this,g)[g]=i}),[{key:"translate",value:function(e,t){return this.translateArray(e,t).join("")}},{key:"translateArray",value:function(e,t){var n=this.locale.strings[e];if(null==n&&(u(this,g)[g](e),n=e),"object"===(0,i.A)(n)){if(t&&void 0!==t.smart_count)return h(n[this.locale.pluralize(t.smart_count)],t);throw new Error("Attempted to use a string with plural forms, but no value was given for %{smart_count}")}if("string"!=typeof n)throw new Error("string was not a string");return h(n,t)}}])}();function y(e){if(null!=e&&e.strings){var t=this.locale;Object.assign(this.locale,{strings:l(l({},t.strings),e.strings),pluralize:e.pluralize||t.pluralize})}}},17145:(e,t,n)=>{"use strict";var r=n(46518),i=n(1625),a=n(42787),o=n(52967),s=n(77740),l=n(2360),u=n(66699),c=n(6980),p=n(77584),d=n(80747),h=n(72652),f=n(32603),g=n(78227)("toStringTag"),v=Error,m=[].push,y=function(e,t){var n,r=i(b,this);o?n=o(new v,r?a(this):b):(n=r?this:l(b),u(n,g,"Error")),void 0!==t&&u(n,"message",f(t)),d(n,y,n.stack,1),arguments.length>2&&p(n,arguments[2]);var s=[];return h(e,m,{that:s}),u(n,"errors",s),n};o?o(y,v):s(y,v,{name:!0});var b=y.prototype=l(v.prototype,{constructor:c(1,y),message:c(1,""),name:c(1,"AggregateError")});r({global:!0,constructor:!0,arity:2},{AggregateError:y})},21214:(e,t,n)=>{"use strict";n.d(t,{N:()=>l});var r=n(51531),i=(n(76918),n(52675),n(2008),n(51629),n(23792),n(44114),n(23288),n(62010),n(67945),n(84185),n(83851),n(81278),n(79432),n(26099),n(27495),n(38781),n(31415),n(47764),n(25440),n(98992),n(54520),n(3949),n(23500),n(62953),n(51494));function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e){var t="";return e.replace(/[^A-Z0-9]/gi,(function(e){return t+="-".concat(function(e){return e.charCodeAt(0).toString(32)}(e)),"/"}))+t}function l(e,t){if(function(e){return!(!e.isRemote||!e.remote)&&new Set(["box","dropbox","drive","facebook","unsplash"]).has(e.remote.provider)}(e))return e.id;var n=(0,i.A)(e);return function(e,t){var n=t||"uppy";return"string"==typeof e.name&&(n+="-".concat(s(e.name.toLowerCase()))),void 0!==e.type&&(n+="-".concat(e.type)),e.meta&&"string"==typeof e.meta.relativePath&&(n+="-".concat(s(e.meta.relativePath.toLowerCase()))),void 0!==e.data.size&&(n+="-".concat(e.data.size)),void 0!==e.data.lastModified&&(n+="-".concat(e.data.lastModified)),n}(o(o({},e),{},{type:n}),t)}},21397:(e,t,n)=>{var r=n(29119),i=/[\/\+\.]/;e.exports=function(e,t){function n(t){var n=r(t,e,i);return n&&n.length>=2}return t?n(t.split(";")[0]):n}},23546:(e,t,n)=>{var r,i=n(89990);n(76918),n(74423),n(64346),n(23288),n(26099),n(38781),n(21699),function(){"use strict";var a={}.hasOwnProperty;function o(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=l(e,s(n)))}return e}function s(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!==i(e))return"";if(Array.isArray(e))return o.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)a.call(e,n)&&e[n]&&(t=l(t,n));return t}function l(e,t){return t?e?e+" "+t:e+t:e}e.exports?(o.default=o,e.exports=o):"object"===i(n.amdO)&&n.amdO?void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r):window.classNames=o}()},29119:(e,t,n)=>{"use strict";var r=n(89990);function i(e,t){this.text=e=e||"",this.hasWild=~e.indexOf("*"),this.separator=t,this.parts=e.split(t)}n(25276),n(54554),n(27495),n(71761),n(90744),i.prototype.match=function(e){var t,n,i=!0,a=this.parts,o=a.length;if("string"==typeof e||e instanceof String)if(this.hasWild||this.text==e){for(n=(e||"").split(this.separator),t=0;i&&t<o;t++)"*"!==a[t]&&(i=t<n.length&&a[t]===n[t]);i=i&&n}else i=!1;else if("function"==typeof e.splice)for(i=[],t=e.length;t--;)this.match(e[t])&&(i[i.length]=e[t]);else if("object"==r(e))for(var s in i={},e)this.match(s)&&(i[s]=e[s]);return i},e.exports=function(e,t,n){var r=new i(e,n||/[\/\.]/);return void 0!==t?r.match(t):r}},30067:(e,t,n)=>{"use strict";n(17145)},30237:(e,t,n)=>{"use strict";n(6469)("flatMap")},30531:(e,t,n)=>{"use strict";var r=n(46518),i=n(69565),a=n(79306),o=n(28551),s=n(1767),l=n(48646),u=n(19462),c=n(9539),p=n(96395),d=u((function(){for(var e,t,n=this.iterator,r=this.mapper;;){if(t=this.inner)try{if(!(e=o(i(t.next,t.iterator))).done)return e.value;this.inner=null}catch(e){c(n,"throw",e)}if(e=o(i(this.next,n)),this.done=!!e.done)return;try{this.inner=l(r(e.value,this.counter++),!1)}catch(e){c(n,"throw",e)}}}));r({target:"Iterator",proto:!0,real:!0,forced:p},{flatMap:function(e){return o(this),a(e),new d(s(this),{mapper:e,inner:null})}})},30670:(e,t,n)=>{"use strict";n(30531)},31073:(e,t,n)=>{"use strict";n(70511)("split")},32744:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});n(52675),n(2008),n(51629),n(44114),n(67945),n(84185),n(83851),n(81278),n(79432),n(26099),n(98992),n(54520),n(3949),n(23500);var r=n(51531),i=n(58237),a=n(84285),o=(n(16280),n(76918),n(94170),n(13656));function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(){return(0,a.A)((function e(t,n){(0,i.A)(this,e),this.uppy=t,this.opts=null!=n?n:{}}),[{key:"getPluginState",value:function(){var e=this.uppy.getState().plugins;return(null==e?void 0:e[this.id])||{}}},{key:"setPluginState",value:function(e){if(e){var t=this.uppy.getState().plugins;this.uppy.setState({plugins:l(l({},t),{},(0,r.A)({},this.id,l(l({},t[this.id]),e)))})}}},{key:"setOptions",value:function(e){this.opts=l(l({},this.opts),e),this.setPluginState(void 0),this.i18nInit()}},{key:"i18nInit",value:function(){var e=new o.A([this.defaultLocale,this.uppy.locale,this.opts.locale]);this.i18n=e.translate.bind(e),this.i18nArray=e.translateArray.bind(e),this.setPluginState(void 0)}},{key:"addTarget",value:function(e){throw new Error("Extend the addTarget method to add your plugin to another plugin's target")}},{key:"install",value:function(){}},{key:"uninstall",value:function(){}},{key:"update",value:function(e){}},{key:"afterUpdate",value:function(){}}])}()},33758:(e,t,n)=>{var r=n(89990);n(16280),n(76918),n(34782),n(23288),n(26099),n(58940),n(27495),n(90906),n(38781),n(25440),n(13611),n(76031);var i="Expected a function",a=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt,c="object"==(void 0===n.g?"undefined":r(n.g))&&n.g&&n.g.Object===Object&&n.g,p="object"==("undefined"==typeof self?"undefined":r(self))&&self&&self.Object===Object&&self,d=c||p||Function("return this")(),h=Object.prototype.toString,f=Math.max,g=Math.min,v=function(){return d.Date.now()};function m(e,t,n){var r,a,o,s,l,u,c=0,p=!1,d=!1,h=!0;if("function"!=typeof e)throw new TypeError(i);function m(t){var n=r,i=a;return r=a=void 0,c=t,s=e.apply(i,n)}function b(e){var n=e-u;return void 0===u||n>=t||n<0||d&&e-c>=o}function P(){var e=v();if(b(e))return O(e);l=setTimeout(P,function(e){var n=t-(e-u);return d?g(n,o-(e-c)):n}(e))}function O(e){return l=void 0,h&&r?m(e):(r=a=void 0,s)}function k(){var e=v(),n=b(e);if(r=arguments,a=this,u=e,n){if(void 0===l)return function(e){return c=e,l=setTimeout(P,t),p?m(e):s}(u);if(d)return l=setTimeout(P,t),m(u)}return void 0===l&&(l=setTimeout(P,t)),s}return t=w(t)||0,y(n)&&(p=!!n.leading,o=(d="maxWait"in n)?f(w(n.maxWait)||0,t):o,h="trailing"in n?!!n.trailing:h),k.cancel=function(){void 0!==l&&clearTimeout(l),c=0,r=u=a=l=void 0},k.flush=function(){return void 0===l?s:O(v())},k}function y(e){var t=r(e);return!!e&&("object"==t||"function"==t)}function b(e){return"symbol"==r(e)||function(e){return!!e&&"object"==r(e)}(e)&&"[object Symbol]"==h.call(e)}function w(e){if("number"==typeof e)return e;if(b(e))return NaN;if(y(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=y(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var n=s.test(e);return n||l.test(e)?u(e.slice(2),n?2:8):o.test(e)?NaN:+e}e.exports=function(e,t,n){var r=!0,a=!0;if("function"!=typeof e)throw new TypeError(i);return y(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),m(e,t,{"leading":r,"maxWait":t,"trailing":a})}},34034:(e,t,n)=>{n(16280),n(76918);var r=n(59209),i=n(67873);e.exports=function(e,t,n){var a=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return i(n)&&(a="leading"in n?!!n.leading:a,o="trailing"in n?!!n.trailing:o),r(e,t,{"leading":a,"maxWait":t,"trailing":o})}},35252:(e,t,n)=>{n(34782),n(27495),n(25440);var r=n(79876),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},36118:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(e){for(var t;e&&!e.dir;)e=e.parentNode;return null==(t=e)?void 0:t.dir}},36480:(e,t,n)=>{"use strict";n.d(t,{FK:()=>S,Ob:()=>K,XX:()=>W,_3:()=>k,fF:()=>i,h:()=>P,uA:()=>F,v2:()=>E});var r,i,a,o,s,l,u,c,p,d,h,f=n(18180),g=(n(51629),n(25276),n(64346),n(23792),n(62062),n(44114),n(34782),n(15086),n(26910),n(94170),n(62010),n(26099),n(3362),n(27495),n(90906),n(31415),n(47764),n(25440),n(48718),n(98992),n(3949),n(81454),n(37550),n(23500),n(62953),n(76031),{}),v=[],m=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,y=Array.isArray;function b(e,t){for(var n in t)e[n]=t[n];return e}function w(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function P(e,t,n){var i,a,o,s={};for(o in t)"key"==o?i=t[o]:"ref"==o?a=t[o]:s[o]=t[o];if(arguments.length>2&&(s.children=arguments.length>3?r.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(o in e.defaultProps)null==s[o]&&(s[o]=e.defaultProps[o]);return O(e,s,i,a,null)}function O(e,t,n,r,o){var s={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:null==o?++a:o,__i:-1,__u:0};return null==o&&null!=i.vnode&&i.vnode(s),s}function k(){return{current:null}}function S(e){return e.children}function F(e,t){this.props=e,this.context=t}function A(e,t){if(null==t)return e.__?A(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?A(e):null}function _(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return _(e)}}function C(e){(!e.__d&&(e.__d=!0)&&o.push(e)&&!D.__r++||s!=i.debounceRendering)&&((s=i.debounceRendering)||l)(D)}function D(){for(var e,t,n,r,a,s,l,c=1;o.length;)o.length>c&&o.sort(u),e=o.shift(),c=o.length,e.__d&&(n=void 0,a=(r=(t=e).__v).__e,s=[],l=[],t.__P&&((n=b({},r)).__v=r.__v+1,i.vnode&&i.vnode(n),M(t.__P,n,r,t.__n,t.__P.namespaceURI,32&r.__u?[a]:null,s,null==a?A(r):a,!!(32&r.__u),l),n.__v=r.__v,n.__.__k[n.__i]=n,R(s,n,l),n.__e!=a&&_(n)));D.__r=0}function x(e,t,n,r,i,a,o,s,l,u,c){var p,d,h,f,m,y,b=r&&r.__k||v,w=t.length;for(l=B(n,t,b,l,w),p=0;p<w;p++)null!=(h=n.__k[p])&&(d=-1==h.__i?g:b[h.__i]||g,h.__i=p,y=M(e,h,d,i,a,o,s,l,u,c),f=h.__e,h.ref&&d.ref!=h.ref&&(d.ref&&H(d.ref,null,h),c.push(h.ref,h.__c||f,h)),null==m&&null!=f&&(m=f),4&h.__u||d.__k===h.__k?l=T(h,l,e):"function"==typeof h.type&&void 0!==y?l=y:f&&(l=f.nextSibling),h.__u&=-7);return n.__e=m,l}function B(e,t,n,r,i){var a,o,s,l,u,c=n.length,p=c,d=0;for(e.__k=new Array(i),a=0;a<i;a++)null!=(o=t[a])&&"boolean"!=typeof o&&"function"!=typeof o?(l=a+d,(o=e.__k[a]="string"==typeof o||"number"==typeof o||"bigint"==typeof o||o.constructor==String?O(null,o,null,null,null):y(o)?O(S,{children:o},null,null,null):null==o.constructor&&o.__b>0?O(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o).__=e,o.__b=e.__b+1,s=null,-1!=(u=o.__i=U(o,n,l,p))&&(p--,(s=n[u])&&(s.__u|=2)),null==s||null==s.__v?(-1==u&&(i>c?d--:i<c&&d++),"function"!=typeof o.type&&(o.__u|=4)):u!=l&&(u==l-1?d--:u==l+1?d++:(u>l?d--:d++,o.__u|=4))):e.__k[a]=null;if(p)for(a=0;a<c;a++)null!=(s=n[a])&&!(2&s.__u)&&(s.__e==r&&(r=A(s)),q(s,s));return r}function T(e,t,n){var r,i;if("function"==typeof e.type){for(r=e.__k,i=0;r&&i<r.length;i++)r[i]&&(r[i].__=e,t=T(r[i],t,n));return t}e.__e!=t&&(t&&e.type&&!n.contains(t)&&(t=A(e)),n.insertBefore(e.__e,t||null),t=e.__e);do{t=t&&t.nextSibling}while(null!=t&&8==t.nodeType);return t}function E(e,t){return t=t||[],null==e||"boolean"==typeof e||(y(e)?e.some((function(e){E(e,t)})):t.push(e)),t}function U(e,t,n,r){var i,a,o=e.key,s=e.type,l=t[n];if(null===l&&null==e.key||l&&o==l.key&&s==l.type&&!(2&l.__u))return n;if(r>(null==l||2&l.__u?0:1))for(i=n-1,a=n+1;i>=0||a<t.length;){if(i>=0){if((l=t[i])&&!(2&l.__u)&&o==l.key&&s==l.type)return i;i--}if(a<t.length){if((l=t[a])&&!(2&l.__u)&&o==l.key&&s==l.type)return a;a++}}return-1}function j(e,t,n){"-"==t[0]?e.setProperty(t,null==n?"":n):e[t]=null==n?"":"number"!=typeof n||m.test(t)?n:n+"px"}function N(e,t,n,r,i){var a;e:if("style"==t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||j(e.style,t,"");if(n)for(t in n)r&&n[t]==r[t]||j(e.style,t,n[t])}else if("o"==t[0]&&"n"==t[1])a=t!=(t=t.replace(c,"$1")),t=t.toLowerCase()in e||"onFocusOut"==t||"onFocusIn"==t?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+a]=n,n?r?n.u=r.u:(n.u=p,e.addEventListener(t,a?h:d,a)):e.removeEventListener(t,a?h:d,a);else{if("http://www.w3.org/2000/svg"==i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=t&&"height"!=t&&"href"!=t&&"list"!=t&&"form"!=t&&"tabIndex"!=t&&"download"!=t&&"rowSpan"!=t&&"colSpan"!=t&&"role"!=t&&"popover"!=t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null==n||!1===n&&"-"!=t[4]?e.removeAttribute(t):e.setAttribute(t,"popover"==t&&1==n?"":n))}}function I(e){return function(t){if(this.l){var n=this.l[t.type+e];if(null==t.t)t.t=p++;else if(t.t<n.u)return;return n(i.event?i.event(t):t)}}}function M(e,t,n,r,a,o,s,l,u,c){var p,d,h,f,g,v,m,P,O,k,A,_,C,D,B,T,E,U=t.type;if(null!=t.constructor)return null;128&n.__u&&(u=!!(32&n.__u),o=[l=t.__e=n.__e]),(p=i.__b)&&p(t);e:if("function"==typeof U)try{if(P=t.props,O="prototype"in U&&U.prototype.render,k=(p=U.contextType)&&r[p.__c],A=p?k?k.props.value:p.__:r,n.__c?m=(d=t.__c=n.__c).__=d.__E:(O?t.__c=d=new U(P,A):(t.__c=d=new F(P,A),d.constructor=U,d.render=V),k&&k.sub(d),d.props=P,d.state||(d.state={}),d.context=A,d.__n=r,h=d.__d=!0,d.__h=[],d._sb=[]),O&&null==d.__s&&(d.__s=d.state),O&&null!=U.getDerivedStateFromProps&&(d.__s==d.state&&(d.__s=b({},d.__s)),b(d.__s,U.getDerivedStateFromProps(P,d.__s))),f=d.props,g=d.state,d.__v=t,h)O&&null==U.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),O&&null!=d.componentDidMount&&d.__h.push(d.componentDidMount);else{if(O&&null==U.getDerivedStateFromProps&&P!==f&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(P,A),!d.__e&&null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(P,d.__s,A)||t.__v==n.__v){for(t.__v!=n.__v&&(d.props=P,d.state=d.__s,d.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some((function(e){e&&(e.__=t)})),_=0;_<d._sb.length;_++)d.__h.push(d._sb[_]);d._sb=[],d.__h.length&&s.push(d);break e}null!=d.componentWillUpdate&&d.componentWillUpdate(P,d.__s,A),O&&null!=d.componentDidUpdate&&d.__h.push((function(){d.componentDidUpdate(f,g,v)}))}if(d.context=A,d.props=P,d.__P=e,d.__e=!1,C=i.__r,D=0,O){for(d.state=d.__s,d.__d=!1,C&&C(t),p=d.render(d.props,d.state,d.context),B=0;B<d._sb.length;B++)d.__h.push(d._sb[B]);d._sb=[]}else do{d.__d=!1,C&&C(t),p=d.render(d.props,d.state,d.context),d.state=d.__s}while(d.__d&&++D<25);d.state=d.__s,null!=d.getChildContext&&(r=b(b({},r),d.getChildContext())),O&&!h&&null!=d.getSnapshotBeforeUpdate&&(v=d.getSnapshotBeforeUpdate(f,g)),T=p,null!=p&&p.type===S&&null==p.key&&(T=L(p.props.children)),l=x(e,y(T)?T:[T],t,n,r,a,o,s,l,u,c),d.base=t.__e,t.__u&=-161,d.__h.length&&s.push(d),m&&(d.__E=d.__=null)}catch(e){if(t.__v=null,u||null!=o)if(e.then){for(t.__u|=u?160:128;l&&8==l.nodeType&&l.nextSibling;)l=l.nextSibling;o[o.indexOf(l)]=null,t.__e=l}else for(E=o.length;E--;)w(o[E]);else t.__e=n.__e,t.__k=n.__k;i.__e(e,t,n)}else null==o&&t.__v==n.__v?(t.__k=n.__k,t.__e=n.__e):l=t.__e=z(n.__e,t,n,r,a,o,s,u,c);return(p=i.diffed)&&p(t),128&t.__u?void 0:l}function R(e,t,n){for(var r=0;r<n.length;r++)H(n[r],n[++r],n[++r]);i.__c&&i.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){i.__e(e,t.__v)}}))}function L(e){return"object"!=(0,f.A)(e)||null==e||e.__b&&e.__b>0?e:y(e)?e.map(L):b({},e)}function z(e,t,n,a,o,s,l,u,c){var p,d,h,f,v,m,b,P=n.props,O=t.props,k=t.type;if("svg"==k?o="http://www.w3.org/2000/svg":"math"==k?o="http://www.w3.org/1998/Math/MathML":o||(o="http://www.w3.org/1999/xhtml"),null!=s)for(p=0;p<s.length;p++)if((v=s[p])&&"setAttribute"in v==!!k&&(k?v.localName==k:3==v.nodeType)){e=v,s[p]=null;break}if(null==e){if(null==k)return document.createTextNode(O);e=document.createElementNS(o,k,O.is&&O),u&&(i.__m&&i.__m(t,s),u=!1),s=null}if(null==k)P===O||u&&e.data==O||(e.data=O);else{if(s=s&&r.call(e.childNodes),P=n.props||g,!u&&null!=s)for(P={},p=0;p<e.attributes.length;p++)P[(v=e.attributes[p]).name]=v.value;for(p in P)if(v=P[p],"children"==p);else if("dangerouslySetInnerHTML"==p)h=v;else if(!(p in O)){if("value"==p&&"defaultValue"in O||"checked"==p&&"defaultChecked"in O)continue;N(e,p,null,v,o)}for(p in O)v=O[p],"children"==p?f=v:"dangerouslySetInnerHTML"==p?d=v:"value"==p?m=v:"checked"==p?b=v:u&&"function"!=typeof v||P[p]===v||N(e,p,v,P[p],o);if(d)u||h&&(d.__html==h.__html||d.__html==e.innerHTML)||(e.innerHTML=d.__html),t.__k=[];else if(h&&(e.innerHTML=""),x("template"==t.type?e.content:e,y(f)?f:[f],t,n,a,"foreignObject"==k?"http://www.w3.org/1999/xhtml":o,s,l,s?s[0]:n.__k&&A(n,0),u,c),null!=s)for(p=s.length;p--;)w(s[p]);u||(p="value","progress"==k&&null==m?e.removeAttribute("value"):null!=m&&(m!==e[p]||"progress"==k&&!m||"option"==k&&m!=P[p])&&N(e,p,m,P[p],o),p="checked",null!=b&&b!=e[p]&&N(e,p,b,P[p],o))}return e}function H(e,t,n){try{if("function"==typeof e){var r="function"==typeof e.__u;r&&e.__u(),r&&null==t||(e.__u=e(t))}else e.current=t}catch(e){i.__e(e,n)}}function q(e,t,n){var r,a;if(i.unmount&&i.unmount(e),(r=e.ref)&&(r.current&&r.current!=e.__e||H(r,null,t)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){i.__e(e,t)}r.base=r.__P=null}if(r=e.__k)for(a=0;a<r.length;a++)r[a]&&q(r[a],t,n||"function"!=typeof e.type);n||w(e.__e),e.__c=e.__=e.__e=void 0}function V(e,t,n){return this.constructor(e,n)}function W(e,t,n){var a,o,s,l;t==document&&(t=document.documentElement),i.__&&i.__(e,t),o=(a="function"==typeof n)?null:n&&n.__k||t.__k,s=[],l=[],M(t,e=(!a&&n||t).__k=P(S,null,[e]),o||g,g,t.namespaceURI,!a&&n?[n]:o?null:t.firstChild?r.call(t.childNodes):null,s,!a&&n?n:o?o.__e:t.firstChild,a,l),R(s,e,l)}function K(e,t,n){var i,a,o,s,l=b({},e.props);for(o in e.type&&e.type.defaultProps&&(s=e.type.defaultProps),t)"key"==o?i=t[o]:"ref"==o?a=t[o]:l[o]=null==t[o]&&null!=s?s[o]:t[o];return arguments.length>2&&(l.children=arguments.length>3?r.call(arguments,2):n),O(e.type,l,i||e.key,a||e.ref,null)}r=v.slice,i={__e:function(e,t,n,r){for(var i,a,o;t=t.__;)if((i=t.__c)&&!i.__)try{if((a=i.constructor)&&null!=a.getDerivedStateFromError&&(i.setState(a.getDerivedStateFromError(e)),o=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e,r||{}),o=i.__d),o)return i.__E=i}catch(t){e=t}throw e}},a=0,F.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!=this.state?this.__s:this.__s=b({},this.state),"function"==typeof e&&(e=e(b({},n),this.props)),e&&b(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),C(this))},F.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),C(this))},F.prototype.render=S,o=[],l="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,u=function(e,t){return e.__v.__b-t.__v.__b},D.__r=0,c=/(PointerCapture)$|Capture$/i,p=0,d=I(!1),h=I(!0)},43146:(e,t,n)=>{n(34782),n(58940),n(27495),n(90906);var r=n(35252),i=n(67873),a=n(78766),o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(a(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||l.test(e)?u(e.slice(2),n?2:8):o.test(e)?NaN:+e}},48646:(e,t,n)=>{"use strict";var r=n(69565),i=n(28551),a=n(1767),o=n(50851);e.exports=function(e,t){t&&"string"==typeof e||i(e);var n=o(e);return a(i(void 0!==n?r(n,e):e))}},51391:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var r=function(){for(var e="",t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;t--;)e+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return e}},51494:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});n(62010);var r=n(77943),i=n(63265);function a(e){var t;if(e.type)return e.type;var n=e.name?null==(t=(0,r.A)(e.name).extension)?void 0:t.toLowerCase():null;return n&&n in i.A?i.A[n]:"application/octet-stream"}},53921:(e,t,n)=>{"use strict";var r=n(46518),i=n(72652),a=n(97040);r({target:"Object",stat:!0},{fromEntries:function(e){var t={};return i(e,(function(e,n){a(t,e,n)}),{AS_ENTRIES:!0}),t}})},59209:(e,t,n)=>{n(16280),n(76918),n(76031);var r=n(67873),i=n(93224),a=n(43146),o=Math.max,s=Math.min;e.exports=function(e,t,n){var l,u,c,p,d,h,f=0,g=!1,v=!1,m=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=l,r=u;return l=u=void 0,f=t,p=e.apply(r,n)}function b(e){var n=e-h;return void 0===h||n>=t||n<0||v&&e-f>=c}function w(){var e=i();if(b(e))return P(e);d=setTimeout(w,function(e){var n=t-(e-h);return v?s(n,c-(e-f)):n}(e))}function P(e){return d=void 0,m&&l?y(e):(l=u=void 0,p)}function O(){var e=i(),n=b(e);if(l=arguments,u=this,h=e,n){if(void 0===d)return function(e){return f=e,d=setTimeout(w,t),g?y(e):p}(h);if(v)return clearTimeout(d),d=setTimeout(w,t),y(h)}return void 0===d&&(d=setTimeout(w,t)),p}return t=a(t)||0,r(n)&&(g=!!n.leading,c=(v="maxWait"in n)?o(a(n.maxWait)||0,t):c,m="trailing"in n?!!n.trailing:m),O.cancel=function(){void 0!==d&&clearTimeout(d),f=0,l=h=u=d=void 0},O.flush=function(){return void 0===d?p:P(i())},O}},61643:(e,t,n)=>{var r=n(89990);n(16280),n(76918),n(28706),n(2892),n(9868),e.exports=function(e){if("number"!=typeof e||isNaN(e))throw new TypeError("Expected a number, got ".concat(r(e)));var t=e<0,n=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];if(t&&(e=-e),e<1)return"".concat((t?"-":"")+e," B");var i=Math.min(Math.floor(Math.log(e)/Math.log(1024)),n.length-1);e=Number(e/Math.pow(1024,i));var a=n[i];return e>=10||e%1==0?"".concat((t?"-":"")+e.toFixed(0)," ").concat(a):"".concat((t?"-":"")+e.toFixed(1)," ").concat(a)}},63265:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r={__proto__:null,md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",webp:"image/webp",gif:"image/gif",heic:"image/heic",heif:"image/heif",yaml:"text/yaml",yml:"text/yaml",csv:"text/csv",tsv:"text/tab-separated-values",tab:"text/tab-separated-values",avi:"video/x-msvideo",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",dicom:"application/dicom",doc:"application/msword",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",txt:"text/plain",text:"text/plain",conf:"text/plain",log:"text/plain",pdf:"application/pdf",zip:"application/zip","7z":"application/x-7z-compressed",rar:"application/x-rar-compressed",tar:"application/x-tar",gz:"application/gzip",dmg:"application/x-apple-diskimage"}},70647:(e,t,n)=>{n(28706),n(25276),n(44114),n(79432),e.exports=function(){var e={},t=e._fns={};return e.emit=function(e,n,r,i,a,o,s){var l=function(e){var n=t[e]?t[e]:[],r=e.indexOf(":"),i=-1===r?[e]:[e.substring(0,r),e.substring(r+1)],a=Object.keys(t),o=0,s=a.length;for(;o<s;o++){var l=a[o];if("*"===l&&(n=n.concat(t[l])),2===i.length&&i[0]===l){n=n.concat(t[l]);break}}return n}(e);l.length&&function(e,t,n){var r=0,i=t.length;for(;r<i&&t[r];r++)t[r].event=e,t[r].apply(t[r],n)}(e,l,[n,r,i,a,o,s])},e.on=function(e,n){t[e]||(t[e]=[]),t[e].push(n)},e.once=function(t,n){this.on(t,(function r(){n.apply(this,arguments),e.off(t,r)}))},e.off=function(e,t){var n=[];if(e&&t)for(var r=this._fns[e],i=0,a=r?r.length:0;i<a;i++)r[i]!==t&&n.push(r[i]);n.length?this._fns[e]=n:delete this._fns[e]},e}},73848:(e,t,n)=>{"use strict";n.d(t,{A:()=>b});var r=n(58237),i=n(84285),a=n(68119),o=n(36858),s=n(31061),l=n(46983),u=(n(16280),n(76918),n(28706),n(84185),n(26099),n(3362),n(60825),n(36480)),c=n(10826);const p=function(e,t){return void 0===t&&(t=document),"string"==typeof e?t.querySelector(e):(0,c.A)(e)?e:null};var d=n(36118),h=n(32744);function f(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(f=function(){return!!e})()}function g(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var v=0;function m(e){return"__private_"+v+++"_"+e}var y=m("updateUI");const b=function(e){function t(){var e,n,i,s;return(0,r.A)(this,t),n=this,i=t,s=arguments,i=(0,o.A)(i),e=(0,a.A)(n,f()?Reflect.construct(i,s||[],(0,o.A)(n).constructor):i.apply(n,s)),Object.defineProperty(e,y,{writable:!0,value:void 0}),e}return(0,s.A)(t,e),(0,i.A)(t,[{key:"getTargetPlugin",value:function(e){var n;if("function"==typeof(null==e?void 0:e.addTarget))(n=e)instanceof t||console.warn(new Error("The provided plugin is not an instance of UIPlugin. This is an indication of a bug with the way Uppy is bundled.",{cause:{targetPlugin:n,UIPlugin:t}}));else if("function"==typeof e){var r=e;this.uppy.iteratePlugins((function(e){e instanceof r&&(n=e)}))}return n}},{key:"mount",value:function(e,t){var n,r,i,a=this,o=t.id,s=p(e);if(s){this.isTargetDOMEl=!0;var c=document.createElement("div");return c.classList.add("uppy-Root"),g(this,y)[y]=(n=function(e){a.uppy.getPlugin(a.id)&&((0,u.XX)(a.render(e),c),a.afterUpdate())},i=null,function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return r=t,i||(i=Promise.resolve().then((function(){return i=null,n.apply(void 0,(0,l.A)(r))}))),i}),this.uppy.log("Installing ".concat(o," to a DOM element '").concat(e,"'")),this.opts.replaceTargetContent&&(s.innerHTML=""),(0,u.XX)(this.render(this.uppy.getState()),c),this.el=c,s.appendChild(c),c.dir=this.opts.direction||(0,d.A)(c)||"ltr",this.onMount(),this.el}var h=this.getTargetPlugin(e);if(h)return this.uppy.log("Installing ".concat(o," to ").concat(h.id)),this.parent=h,this.el=h.addTarget(t),this.onMount(),this.el;this.uppy.log("Not installing ".concat(o));var f="Invalid target option given to ".concat(o,".");throw f+="function"==typeof e?" The given target is not a Plugin class. Please check that you're not specifying a React Component instead of a plugin. If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.":"If you meant to target an HTML element, please make sure that the element exists. Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. (see https://github.com/transloadit/uppy/issues/1042)\n\nIf you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.",new Error(f)}},{key:"render",value:function(e){throw new Error("Extend the render method to add your plugin to a DOM element")}},{key:"update",value:function(e){var t,n;null!=this.el&&(null==(t=(n=g(this,y))[y])||t.call(n,e))}},{key:"unmount",value:function(){var e;this.isTargetDOMEl&&(null==(e=this.el)||e.remove());this.onUnmount()}},{key:"onMount",value:function(){}},{key:"onUnmount",value:function(){}}])}(h.A)},77001:(e,t,n)=>{"use strict";n.d(t,{w:()=>o,I:()=>a});n(28706),n(76918),n(23288),n(26099),n(38781);function r(e){return e<10?"0".concat(e):e.toString()}function i(){var e=new Date,t=r(e.getHours()),n=r(e.getMinutes()),i=r(e.getSeconds());return"".concat(t,":").concat(n,":").concat(i)}var a={debug:function(){},warn:function(){},error:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=console).error.apply(e,["[Uppy] [".concat(i(),"]")].concat(n))}},o={debug:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=console).debug.apply(e,["[Uppy] [".concat(i(),"]")].concat(n))},warn:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=console).warn.apply(e,["[Uppy] [".concat(i(),"]")].concat(n))},error:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=console).error.apply(e,["[Uppy] [".concat(i(),"]")].concat(n))}}},77943:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});n(8921),n(34782);function r(e){var t=e.lastIndexOf(".");return-1===t||t===e.length-1?{name:e,extension:void 0}:{name:e.slice(0,t),extension:e.slice(t+1)}}},78029:(e,t,n)=>{"use strict";var r=n(89990);n(16280),n(76918),n(28706),n(2892),n(40150),n(9868),e.exports=function(e){if("number"!=typeof e||Number.isNaN(e))throw new TypeError("Expected a number, got ".concat(r(e)));var t=e<0,n=Math.abs(e);if(t&&(n=-n),0===n)return"0 B";var i=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],a=Math.min(Math.floor(Math.log(n)/Math.log(1024)),i.length-1),o=Number(n/Math.pow(1024,a)),s=i[a];return"".concat(o>=10||o%1==0?Math.round(o):o.toFixed(1)," ").concat(s)}},78347:(e,t,n)=>{"use strict";n(46518)({target:"Object",stat:!0},{hasOwn:n(39297)})},78350:(e,t,n)=>{"use strict";var r=n(46518),i=n(70259),a=n(79306),o=n(48981),s=n(26198),l=n(1469);r({target:"Array",proto:!0},{flatMap:function(e){var t,n=o(this),r=s(n);return a(e),(t=l(n,0)).length=i(t,n,n,r,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},78655:(e,t,n)=>{"use strict";n.d(t,{A:()=>Te});var r=n(18443),i=n(46983),a=n(18180),o=n(80241),s=n(51531),l=n(58237),u=n(84285),c=n(61792),p=(n(16280),n(52675),n(89463),n(2259),n(76918),n(30067),n(4294),n(28706),n(2008),n(50113),n(48980),n(46449),n(78350),n(51629),n(23418),n(25276),n(64346),n(23792),n(48598),n(62062),n(44114),n(72712),n(34782),n(15086),n(54554),n(93514),n(30237),n(59089),n(23288),n(94170),n(62010),n(36033),n(25428),n(59904),n(67945),n(84185),n(5506),n(53921),n(78347),n(79432),n(83851),n(81278),n(26099),n(16034),n(3362),n(27495),n(90906),n(38781),n(31415),n(47764),n(42762),n(98992),n(54520),n(72577),n(30670),n(3949),n(81454),n(8872),n(37550),n(23500),n(62953),n(76031),n(13656)),d=n(70647),h=n(51391),f=n(34034);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,s.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var y=0;function b(e){return"__private_"+y+++"_"+e}var w=b("callbacks"),P=b("publish"),O=function(){return(0,u.A)((function e(){(0,l.A)(this,e),Object.defineProperty(this,P,{value:k}),this.state={},Object.defineProperty(this,w,{writable:!0,value:new Set})}),[{key:"getState",value:function(){return this.state}},{key:"setState",value:function(e){var t=v({},this.state),n=v(v({},this.state),e);this.state=n,m(this,P)[P](t,n,e)}},{key:"subscribe",value:function(e){var t=this;return m(this,w)[w].add(e),function(){m(t,w)[w].delete(e)}}}])}();function k(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];m(this,w)[w].forEach((function(e){e.apply(void 0,t)}))}O.VERSION="3.2.2";const S=O;var F=n(51494),A=n(77943),_=n(21214);n(58940);function C(e){if(null==e&&"undefined"!=typeof navigator&&(e=navigator.userAgent),!e)return!0;var t=/Edge\/(\d+\.\d+)/.exec(e);if(!t)return!0;var n=t[1].split(".",2),r=parseInt(n[0],10),i=parseInt(n[1],10);return r<15||15===r&&i<15063||(r>18||18===r&&i>=18218)}var D=n(77001),x=(n(60825),n(68119)),B=n(36858),T=n(31061),E=n(81700),U=(n(74423),n(21699),n(25440),n(78029)),j=n(21397);function N(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return I(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function M(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(M=function(){return!!e})()}var R={maxFileSize:null,minFileSize:null,maxTotalFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null,requiredMetaFields:[]},L=function(e){function t(e,n){var r,i,a,o,s;return(0,l.A)(this,t),a=this,o=t,s=[e],o=(0,B.A)(o),(r=(0,x.A)(a,M()?Reflect.construct(o,s||[],(0,B.A)(a).constructor):o.apply(a,s))).isRestriction=!0,r.isUserFacing=null==(i=null==n?void 0:n.isUserFacing)||i,null!=n&&n.file&&(r.file=n.file),r}return(0,T.A)(t,e),(0,u.A)(t)}((0,E.A)(Error)),z=function(){return(0,u.A)((function e(t,n){(0,l.A)(this,e),this.i18n=n,this.getOpts=function(){var e,n=t();if(null!=(null==(e=n.restrictions)?void 0:e.allowedFileTypes)&&!Array.isArray(n.restrictions.allowedFileTypes))throw new TypeError("`restrictions.allowedFileTypes` must be an array");return n}}),[{key:"validateAggregateRestrictions",value:function(e,t){var n=this.getOpts().restrictions,r=n.maxTotalFileSize,i=n.maxNumberOfFiles;if(i&&e.filter((function(e){return!e.isGhost})).length+t.length>i)throw new L("".concat(this.i18n("youCanOnlyUploadX",{smart_count:i})));if(r){var a,o=e.reduce((function(e,t){var n;return e+(null!=(n=t.size)?n:0)}),0),s=N(t);try{for(s.s();!(a=s.n()).done;){var l=a.value;if(null!=l.size&&(o+=l.size)>r)throw new L(this.i18n("exceedsSize",{size:U(r),file:l.name}))}}catch(e){s.e(e)}finally{s.f()}}}},{key:"validateSingleFile",value:function(e){var t=this.getOpts().restrictions,n=t.maxFileSize,r=t.minFileSize,i=t.allowedFileTypes;if(i&&!i.some((function(t){return t.includes("/")?!!e.type&&j(e.type.replace(/;.*?$/,""),t):!("."!==t[0]||!e.extension)&&e.extension.toLowerCase()===t.slice(1).toLowerCase()}))){var a=i.join(", ");throw new L(this.i18n("youCanOnlyUploadFileTypes",{types:a}),{file:e})}if(n&&null!=e.size&&e.size>n)throw new L(this.i18n("exceedsSize",{size:U(n),file:e.name}),{file:e});if(r&&null!=e.size&&e.size<r)throw new L(this.i18n("inferiorSize",{size:U(r)}),{file:e})}},{key:"validate",value:function(e,t){var n=this;t.forEach((function(e){n.validateSingleFile(e)})),this.validateAggregateRestrictions(e,t)}},{key:"validateMinNumberOfFiles",value:function(e){var t=this.getOpts().restrictions.minNumberOfFiles;if(t&&Object.keys(e).length<t)throw new L(this.i18n("youHaveToAtLeastSelectX",{smart_count:t}))}},{key:"getMissingRequiredMetaFields",value:function(e){var t,n=new L(this.i18n("missingRequiredMetaFieldOnFile",{fileName:e.name})),r=[],i=N(this.getOpts().restrictions.requiredMetaFields);try{for(i.s();!(t=i.n()).done;){var a=t.value;Object.hasOwn(e.meta,a)&&""!==e.meta[a]||r.push(a)}}catch(e){i.e(e)}finally{i.f()}return{missingFields:r,error:n}}}])}();const H={strings:{addBulkFilesFailed:{0:"Failed to add %{smart_count} file due to an internal error",1:"Failed to add %{smart_count} files due to internal errors"},youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},exceedsSize:"%{file} exceeds maximum allowed size of %{size}",missingRequiredMetaField:"Missing required meta fields",missingRequiredMetaFieldOnFile:"Missing required meta fields in %{fileName}",inferiorSize:"This file is smaller than the allowed size of %{size}",youCanOnlyUploadFileTypes:"You can only upload: %{types}",noMoreFilesAllowed:"Cannot add more files",noDuplicates:"Cannot add the duplicate file '%{fileName}', it already exists",companionError:"Connection with Companion failed",authAborted:"Authentication aborted",companionUnauthorizeHint:"To unauthorize to your %{provider} account, please go to %{url}",failedToUpload:"Failed to upload %{file}",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Internet",noFilesFound:"You have no files or folders here",noSearchResults:"Unfortunately, there are no results for this search",selectX:{0:"Select %{smart_count}",1:"Select %{smart_count}"},allFilesFromFolderNamed:"All files from folder %{name}",openFolderNamed:"Open folder %{name}",cancel:"Cancel",logOut:"Log out",filter:"Filter",resetFilter:"Reset filter",loading:"Loading...",loadedXFiles:"Loaded %{numFiles} files",authenticateWithTitle:"Please authenticate with %{pluginName} to select files",authenticateWith:"Connect to %{pluginName}",signInWithGoogle:"Sign in with Google",searchImages:"Search for images",enterTextToSearch:"Enter text to search for images",search:"Search",resetSearch:"Reset search",emptyFolderAdded:"No files were added from empty folder",addedNumFiles:"Added %{numFiles} file(s)",folderAlreadyAdded:'The folder "%{folder}" was already added',folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"},additionalRestrictionsFailed:"%{count} additional restrictions were not fulfilled"}};function q(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return V(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?V(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){(0,s.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function G(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var $=0;function X(e){return"__private_"+$+++"_"+e}var Y={totalProgress:0,allowNewUpload:!0,error:null,recoveredState:null},Q=X("plugins"),J=X("restricter"),Z=X("storeUnsubscribe"),ee=X("emitter"),te=X("preProcessors"),ne=X("uploaders"),re=X("postProcessors"),ie=X("informAndEmit"),ae=X("checkRequiredMetaFieldsOnFile"),oe=X("checkRequiredMetaFields"),se=X("assertNewUploadAllowed"),le=X("transformFile"),ue=X("startIfAutoProceed"),ce=X("checkAndUpdateFileState"),pe=X("addListeners"),de=X("updateOnlineStatus"),he=X("requestClientById"),fe=X("createUpload"),ge=X("getUpload"),ve=X("removeUpload"),me=X("runUpload"),ye=function(e,t){return(0,u.A)((function e(t){var n=this;(0,l.A)(this,e),Object.defineProperty(this,me,{value:xe}),Object.defineProperty(this,ve,{value:De}),Object.defineProperty(this,ge,{value:Ce}),Object.defineProperty(this,fe,{value:_e}),Object.defineProperty(this,pe,{value:Ae}),Object.defineProperty(this,ce,{value:Fe}),Object.defineProperty(this,ue,{value:Se}),Object.defineProperty(this,le,{value:ke}),Object.defineProperty(this,se,{value:Oe}),Object.defineProperty(this,oe,{value:Pe}),Object.defineProperty(this,ae,{value:we}),Object.defineProperty(this,ie,{value:be}),Object.defineProperty(this,Q,{writable:!0,value:Object.create(null)}),Object.defineProperty(this,J,{writable:!0,value:void 0}),Object.defineProperty(this,Z,{writable:!0,value:void 0}),Object.defineProperty(this,ee,{writable:!0,value:d()}),Object.defineProperty(this,te,{writable:!0,value:new Set}),Object.defineProperty(this,ne,{writable:!0,value:new Set}),Object.defineProperty(this,re,{writable:!0,value:new Set}),this.scheduledAutoProceed=null,this.wasOffline=!1,this.calculateProgress=f((function(e,t){var r=n.getFile(null==e?void 0:e.id);if(null!=e&&r)if(100!==r.progress.percentage){var i=Number.isFinite(t.bytesTotal)&&t.bytesTotal>0;n.setFileState(e.id,{progress:K(K({},r.progress),{},{bytesUploaded:t.bytesUploaded,bytesTotal:t.bytesTotal,percentage:i?Math.round(t.bytesUploaded/t.bytesTotal*100):0})}),n.calculateTotalProgress()}else n.log("Not setting progress for a file that has been already uploaded: ".concat(e.id));else n.log("Not setting progress for a file that has been removed: ".concat(null==e?void 0:e.id))}),500,{leading:!0,trailing:!0}),Object.defineProperty(this,de,{writable:!0,value:this.updateOnlineStatus.bind(this)}),Object.defineProperty(this,he,{writable:!0,value:new Map}),this.defaultLocale=H;var r={id:"uppy",autoProceed:!1,allowMultipleUploadBatches:!0,debug:!1,restrictions:R,meta:{},onBeforeFileAdded:function(e,t){return!Object.hasOwn(t,e.id)},onBeforeUpload:function(e){return e},store:new S,logger:D.I,infoTimeout:5e3},i=K(K({},r),t);this.opts=K(K({},i),{},{restrictions:K(K({},r.restrictions),t&&t.restrictions)}),t&&t.logger&&t.debug?this.log("You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.","warning"):t&&t.debug&&(this.opts.logger=D.w),this.log("Using Core v".concat(e.VERSION)),this.i18nInit(),this.store=this.opts.store,this.setState(K(K({},Y),{},{plugins:{},files:{},currentUploads:{},capabilities:{uploadProgress:C(),individualCancellation:!0,resumableUploads:!1},meta:K({},this.opts.meta),info:[]})),G(this,J)[J]=new z((function(){return n.opts}),this.i18n),G(this,Z)[Z]=this.store.subscribe((function(e,t,r){n.emit("state-update",e,t,r),n.updateAll(t)})),this.opts.debug&&"undefined"!=typeof window&&(window[this.opts.id]=this),G(this,pe)[pe]()}),[{key:"emit",value:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=G(this,ee)[ee]).emit.apply(t,[e].concat(r))}},{key:"on",value:function(e,t){return G(this,ee)[ee].on(e,t),this}},{key:"once",value:function(e,t){return G(this,ee)[ee].once(e,t),this}},{key:"off",value:function(e,t){return G(this,ee)[ee].off(e,t),this}},{key:"updateAll",value:function(e){this.iteratePlugins((function(t){t.update(e)}))}},{key:"setState",value:function(e){this.store.setState(e)}},{key:"getState",value:function(){return this.store.getState()}},{key:"patchFilesState",value:function(e){var t=this.getState().files;this.setState({files:K(K({},t),Object.fromEntries(Object.entries(e).map((function(e){var n=(0,o.A)(e,2),r=n[0],i=n[1];return[r,K(K({},t[r]),i)]}))))})}},{key:"setFileState",value:function(e,t){if(!this.getState().files[e])throw new Error("Can’t set state for ".concat(e," (the file could have been removed)"));this.patchFilesState((0,s.A)({},e,t))}},{key:"i18nInit",value:function(){var e=this,t=new p.A([this.defaultLocale,this.opts.locale],{onMissingKey:function(t){return e.log("Missing i18n string: ".concat(t),"error")}});this.i18n=t.translate.bind(t),this.i18nArray=t.translateArray.bind(t),this.locale=t.locale}},{key:"setOptions",value:function(e){this.opts=K(K(K({},this.opts),e),{},{restrictions:K(K({},this.opts.restrictions),null==e?void 0:e.restrictions)}),e.meta&&this.setMeta(e.meta),this.i18nInit(),e.locale&&this.iteratePlugins((function(t){t.setOptions(e)})),this.setState(void 0)}},{key:"resetProgress",value:function(){var e={percentage:0,bytesUploaded:0,uploadComplete:!1,uploadStarted:null},t=K({},this.getState().files),n={};Object.keys(t).forEach((function(r){n[r]=K(K({},t[r]),{},{progress:K(K({},t[r].progress),e)})})),this.setState(K({files:n},Y)),this.emit("reset-progress")}},{key:"clearUploadedFiles",value:function(){this.setState(K(K({},Y),{},{files:{}}))}},{key:"addPreProcessor",value:function(e){G(this,te)[te].add(e)}},{key:"removePreProcessor",value:function(e){return G(this,te)[te].delete(e)}},{key:"addPostProcessor",value:function(e){G(this,re)[re].add(e)}},{key:"removePostProcessor",value:function(e){return G(this,re)[re].delete(e)}},{key:"addUploader",value:function(e){G(this,ne)[ne].add(e)}},{key:"removeUploader",value:function(e){return G(this,ne)[ne].delete(e)}},{key:"setMeta",value:function(e){var t=K(K({},this.getState().meta),e),n=K({},this.getState().files);Object.keys(n).forEach((function(t){n[t]=K(K({},n[t]),{},{meta:K(K({},n[t].meta),e)})})),this.log("Adding metadata:"),this.log(e),this.setState({meta:t,files:n})}},{key:"setFileMeta",value:function(e,t){var n=K({},this.getState().files);if(n[e]){var r=K(K({},n[e].meta),t);n[e]=K(K({},n[e]),{},{meta:r}),this.setState({files:n})}else this.log("Was trying to set metadata for a file that has been removed: ",e)}},{key:"getFile",value:function(e){return this.getState().files[e]}},{key:"getFiles",value:function(){var e=this.getState().files;return Object.values(e)}},{key:"getFilesByIds",value:function(e){var t=this;return e.map((function(e){return t.getFile(e)}))}},{key:"getObjectOfFilesPerState",value:function(){var e=this.getState(),t=e.files,n=e.totalProgress,r=e.error,i=Object.values(t),a=i.filter((function(e){var t=e.progress;return!t.uploadComplete&&t.uploadStarted})),o=i.filter((function(e){return!e.progress.uploadStarted})),s=i.filter((function(e){return e.progress.uploadStarted||e.progress.preprocess||e.progress.postprocess})),l=i.filter((function(e){return e.progress.uploadStarted})),u=i.filter((function(e){return e.isPaused})),c=i.filter((function(e){return e.progress.uploadComplete})),p=i.filter((function(e){return e.error})),d=a.filter((function(e){return!e.isPaused})),h=i.filter((function(e){return e.progress.preprocess||e.progress.postprocess}));return{newFiles:o,startedFiles:s,uploadStartedFiles:l,pausedFiles:u,completeFiles:c,erroredFiles:p,inProgressFiles:a,inProgressNotPausedFiles:d,processingFiles:h,isUploadStarted:l.length>0,isAllComplete:100===n&&c.length===i.length&&0===h.length,isAllErrored:!!r&&p.length===i.length,isAllPaused:0!==a.length&&u.length===a.length,isUploadInProgress:a.length>0,isSomeGhost:i.some((function(e){return e.isGhost}))}}},{key:"validateRestrictions",value:function(e,t){void 0===t&&(t=this.getFiles());try{G(this,J)[J].validate(t,[e])}catch(e){return e}return null}},{key:"checkIfFileAlreadyExists",value:function(e){var t=this.getState().files;return!(!t[e]||t[e].isGhost)}},{key:"addFile",value:function(e){G(this,se)[se](e);var t=G(this,ce)[ce]([e]),n=t.nextFilesState,r=t.validFilesToAdd,i=t.errors,a=i.filter((function(e){return e.isRestriction}));if(G(this,ie)[ie](a),i.length>0)throw i[0];this.setState({files:n});var s=(0,o.A)(r,1)[0];return this.emit("file-added",s),this.emit("files-added",r),this.log("Added file: ".concat(s.name,", ").concat(s.id,", mime type: ").concat(s.type)),G(this,ue)[ue](),s.id}},{key:"addFiles",value:function(e){var t=this;G(this,se)[se]();var n=G(this,ce)[ce](e),r=n.nextFilesState,i=n.validFilesToAdd,a=n.errors,o=a.filter((function(e){return e.isRestriction}));G(this,ie)[ie](o);var s=a.filter((function(e){return!e.isRestriction}));if(s.length>0){var l="Multiple errors occurred while adding files:\n";if(s.forEach((function(e){l+="\n * ".concat(e.message)})),this.info({message:this.i18n("addBulkFilesFailed",{smart_count:s.length}),details:l},"error",this.opts.infoTimeout),"function"==typeof AggregateError)throw new AggregateError(s,l);var u=new Error(l);throw u.errors=s,u}this.setState({files:r}),i.forEach((function(e){t.emit("file-added",e)})),this.emit("files-added",i),i.length>5?this.log("Added batch of ".concat(i.length," files")):Object.values(i).forEach((function(e){t.log("Added file: ".concat(e.name,"\n id: ").concat(e.id,"\n type: ").concat(e.type))})),i.length>0&&G(this,ue)[ue]()}},{key:"removeFiles",value:function(e,t){var n=this,r=this.getState(),i=r.files,a=r.currentUploads,o=K({},i),s=K({},a),l=Object.create(null);function u(e){return void 0===l[e]}e.forEach((function(e){i[e]&&(l[e]=i[e],delete o[e])})),Object.keys(s).forEach((function(e){var t=a[e].fileIDs.filter(u);if(0!==t.length){var r=n.getState().capabilities;if(t.length!==a[e].fileIDs.length&&!r.individualCancellation)throw new Error("individualCancellation is disabled");s[e]=K(K({},a[e]),{},{fileIDs:t})}else delete s[e]}));var c={currentUploads:s,files:o};0===Object.keys(o).length&&(c.allowNewUpload=!0,c.error=null,c.recoveredState=null),this.setState(c),this.calculateTotalProgress();var p=Object.keys(l);p.forEach((function(e){n.emit("file-removed",l[e],t)})),p.length>5?this.log("Removed ".concat(p.length," files")):this.log("Removed files: ".concat(p.join(", ")))}},{key:"removeFile",value:function(e,t){this.removeFiles([e],t)}},{key:"pauseResume",value:function(e){if(this.getState().capabilities.resumableUploads&&!this.getFile(e).progress.uploadComplete){var t=!(this.getFile(e).isPaused||!1);return this.setFileState(e,{isPaused:t}),this.emit("upload-pause",e,t),t}}},{key:"pauseAll",value:function(){var e=K({},this.getState().files);Object.keys(e).filter((function(t){return!e[t].progress.uploadComplete&&e[t].progress.uploadStarted})).forEach((function(t){var n=K(K({},e[t]),{},{isPaused:!0});e[t]=n})),this.setState({files:e}),this.emit("pause-all")}},{key:"resumeAll",value:function(){var e=K({},this.getState().files);Object.keys(e).filter((function(t){return!e[t].progress.uploadComplete&&e[t].progress.uploadStarted})).forEach((function(t){var n=K(K({},e[t]),{},{isPaused:!1,error:null});e[t]=n})),this.setState({files:e}),this.emit("resume-all")}},{key:"retryAll",value:function(){var e=K({},this.getState().files),t=Object.keys(e).filter((function(t){return e[t].error}));if(t.forEach((function(t){var n=K(K({},e[t]),{},{isPaused:!1,error:null});e[t]=n})),this.setState({files:e,error:null}),this.emit("retry-all",t),0===t.length)return Promise.resolve({successful:[],failed:[]});var n=G(this,fe)[fe](t,{forceAllowNewUpload:!0});return G(this,me)[me](n)}},{key:"cancelAll",value:function(e){var t=(void 0===e?{}:e).reason,n=void 0===t?"user":t;if(this.emit("cancel-all",{reason:n}),"user"===n){var r=this.getState().files,i=Object.keys(r);i.length&&this.removeFiles(i,"cancel-all"),this.setState(Y)}}},{key:"retryUpload",value:function(e){this.setFileState(e,{error:null,isPaused:!1}),this.emit("upload-retry",e);var t=G(this,fe)[fe]([e],{forceAllowNewUpload:!0});return G(this,me)[me](t)}},{key:"logout",value:function(){this.iteratePlugins((function(e){var t;null==(t=e.provider)||null==t.logout||t.logout()}))}},{key:"calculateTotalProgress",value:function(){var e=this.getFiles().filter((function(e){return e.progress.uploadStarted||e.progress.preprocess||e.progress.postprocess}));if(0===e.length)return this.emit("progress",0),void this.setState({totalProgress:0});var t=e.filter((function(e){return null!=e.progress.bytesTotal})),n=e.filter((function(e){return null==e.progress.bytesTotal}));if(0!==t.length){var r=t.reduce((function(e,t){var n;return e+(null!=(n=t.progress.bytesTotal)?n:0)}),0),i=r/t.length;r+=i*n.length;var a=0;t.forEach((function(e){a+=e.progress.bytesUploaded})),n.forEach((function(e){a+=i*(e.progress.percentage||0)/100}));var o=0===r?0:Math.round(a/r*100);o>100&&(o=100),this.setState({totalProgress:o}),this.emit("progress",o)}else{var s=100*e.length,l=n.reduce((function(e,t){return e+t.progress.percentage}),0),u=Math.round(l/s*100);this.setState({totalProgress:u})}}},{key:"updateOnlineStatus",value:function(){var e;null==(e=window.navigator.onLine)||e?(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3e3),this.wasOffline=!1)):(this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0)}},{key:"getID",value:function(){return this.opts.id}},{key:"use",value:function(e,t){if("function"!=typeof e){var n="Expected a plugin class, but got ".concat(null===e?"null":(0,a.A)(e),".")+" Please verify that the plugin was imported and spelled correctly.";throw new TypeError(n)}var r=new e(this,t),i=r.id;if(!i)throw new Error("Your plugin must have an id");if(!r.type)throw new Error("Your plugin must have a type");var o=this.getPlugin(i);if(o){var s="Already found a plugin named '".concat(o.id,"'. ")+"Tried to use: '".concat(i,"'.\n")+"Uppy plugins must have unique `id` options. See https://uppy.io/docs/plugins/#id.";throw new Error(s)}return e.VERSION&&this.log("Using ".concat(i," v").concat(e.VERSION)),r.type in G(this,Q)[Q]?G(this,Q)[Q][r.type].push(r):G(this,Q)[Q][r.type]=[r],r.install(),this.emit("plugin-added",r),this}},{key:"getPlugin",value:function(e){for(var t=0,n=Object.values(G(this,Q)[Q]);t<n.length;t++){var r=n[t].find((function(t){return t.id===e}));if(null!=r)return r}}},{key:e,value:function(e){return G(this,Q)[Q][e]}},{key:"iteratePlugins",value:function(e){Object.values(G(this,Q)[Q]).flat(1).forEach(e)}},{key:"removePlugin",value:function(e){this.log("Removing plugin ".concat(e.id)),this.emit("plugin-remove",e),e.uninstall&&e.uninstall();var t=G(this,Q)[Q][e.type],n=t.findIndex((function(t){return t.id===e.id}));-1!==n&&t.splice(n,1);var r={plugins:K(K({},this.getState().plugins),{},(0,s.A)({},e.id,void 0))};this.setState(r)}},{key:"close",value:function(e){var t=this,n=(void 0===e?{}:e).reason;this.log("Closing Uppy instance ".concat(this.opts.id,": removing all files and uninstalling plugins")),this.cancelAll({reason:n}),G(this,Z)[Z](),this.iteratePlugins((function(e){t.removePlugin(e)})),"undefined"!=typeof window&&window.removeEventListener&&(window.removeEventListener("online",G(this,de)[de]),window.removeEventListener("offline",G(this,de)[de]))}},{key:"hideInfo",value:function(){var e=this.getState().info;this.setState({info:e.slice(1)}),this.emit("info-hidden")}},{key:"info",value:function(e,t,n){var r=this;void 0===t&&(t="info"),void 0===n&&(n=3e3);var o="object"===(0,a.A)(e);this.setState({info:[].concat((0,i.A)(this.getState().info),[{type:t,message:o?e.message:e,details:o?e.details:null}])}),setTimeout((function(){return r.hideInfo()}),n),this.emit("info-visible")}},{key:"log",value:function(e,t){var n=this.opts.logger;switch(t){case"error":n.error(e);break;case"warning":n.warn(e);break;default:n.debug(e)}}},{key:"registerRequestClient",value:function(e,t){G(this,he)[he].set(e,t)}},{key:"getRequestClientForFile",value:function(e){if(!e.remote)throw new Error("Tried to get RequestClient for a non-remote file ".concat(e.id));var t=G(this,he)[he].get(e.remote.requestClientId);if(null==t)throw new Error('requestClientId "'.concat(e.remote.requestClientId,'" not registered for file "').concat(e.id,'"'));return t}},{key:"restore",value:function(e){return this.log('Core: attempting to restore upload "'.concat(e,'"')),this.getState().currentUploads[e]?G(this,me)[me](e):(G(this,ve)[ve](e),Promise.reject(new Error("Nonexistent upload")))}},{key:t,value:function(){var e;return(e=G(this,fe))[fe].apply(e,arguments)}},{key:"addResultData",value:function(e,t){if(G(this,ge)[ge](e)){var n=this.getState().currentUploads,r=K(K({},n[e]),{},{result:K(K({},n[e].result),t)});this.setState({currentUploads:K(K({},n),{},(0,s.A)({},e,r))})}else this.log("Not setting result for an upload that has been removed: ".concat(e))}},{key:"upload",value:function(){var e,t=this;null!=(e=G(this,Q)[Q].uploader)&&e.length||this.log("No uploader type plugins are used","warning");var n=this.getState().files,r=this.opts.onBeforeUpload(n);return!1===r?Promise.reject(new Error("Not starting the upload because onBeforeUpload returned false")):(r&&"object"===(0,a.A)(r)&&(n=r,this.setState({files:n})),Promise.resolve().then((function(){return G(t,J)[J].validateMinNumberOfFiles(n)})).catch((function(e){throw G(t,ie)[ie]([e]),e})).then((function(){if(!G(t,oe)[oe](n))throw new L(t.i18n("missingRequiredMetaField"))})).catch((function(e){throw e})).then((function(){var e=t.getState().currentUploads,r=Object.values(e).flatMap((function(e){return e.fileIDs})),i=[];Object.keys(n).forEach((function(e){var n=t.getFile(e);n.progress.uploadStarted||-1!==r.indexOf(e)||i.push(n.id)}));var a=G(t,fe)[fe](i);return G(t,me)[me](a)})).catch((function(e){throw t.emit("error",e),t.log(e,"error"),e})))}}])}(Symbol.for("uppy test: getPlugins"),Symbol.for("uppy test: createUpload"));function be(e){var t,n=this,r=q(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;i.isRestriction?this.emit("restriction-failed",i.file,i):this.emit("error",i,i.file),this.log(i,"warning")}}catch(e){r.e(e)}finally{r.f()}var a=e.filter((function(e){return e.isUserFacing})),o=a.slice(0,4),s=a.slice(4);o.forEach((function(e){var t=e.message,r=e.details,i=void 0===r?"":r;n.info({message:t,details:i},"error",n.opts.infoTimeout)})),s.length>0&&this.info({message:this.i18n("additionalRestrictionsFailed",{count:s.length})})}function we(e){var t=G(this,J)[J].getMissingRequiredMetaFields(e),n=t.missingFields,r=t.error;return!(n.length>0)||(this.setFileState(e.id,{missingRequiredMetaFields:n}),this.log(r.message),this.emit("restriction-failed",e,r),!1)}function Pe(e){for(var t=!0,n=0,r=Object.values(e);n<r.length;n++){var i=r[n];G(this,ae)[ae](i)||(t=!1)}return t}function Oe(e){if(!1===this.getState().allowNewUpload){var t=new L(this.i18n("noMoreFilesAllowed"),{file:e});throw G(this,ie)[ie]([t]),t}}function ke(e){var t=e instanceof File?{name:e.name,type:e.type,size:e.size,data:e}:e,n=(0,F.A)(t),r=function(e,t){return t.name?t.name:"image"===e.split("/")[0]?"".concat(e.split("/")[0],".").concat(e.split("/")[1]):"noname"}(n,t),i=(0,A.A)(r).extension,a=(0,_.N)(t),o=t.meta||{};o.name=r,o.type=n;var s=Number.isFinite(t.data.size)?t.data.size:null;return{source:t.source||"",id:a,name:r,extension:i||"",meta:K(K({},this.getState().meta),o),type:n,data:t.data,progress:{percentage:0,bytesUploaded:0,bytesTotal:s,uploadComplete:!1,uploadStarted:null},size:s,isGhost:!1,isRemote:t.isRemote||!1,remote:t.remote||"",preview:t.preview}}function Se(){var e=this;this.opts.autoProceed&&!this.scheduledAutoProceed&&(this.scheduledAutoProceed=setTimeout((function(){e.scheduledAutoProceed=null,e.upload().catch((function(t){t.isRestriction||e.log(t.stack||t.message||t)}))}),4))}function Fe(e){var t,n=this.getState().files,r=K({},n),i=[],o=[],s=q(e);try{for(s.s();!(t=s.n()).done;){var l=t.value;try{var u,c=G(this,le)[le](l),p=null==(u=n[c.id])?void 0:u.isGhost;if(p)c=K(K({},n[c.id]),{},{isGhost:!1,data:l.data}),this.log("Replaced the blob in the restored ghost file: ".concat(c.name,", ").concat(c.id));var d=this.opts.onBeforeFileAdded(c,r);if(!d&&this.checkIfFileAlreadyExists(c.id))throw new L(this.i18n("noDuplicates",{fileName:c.name}),{file:l});if(!1===d&&!p)throw new L("Cannot add the file because onBeforeFileAdded returned false.",{isUserFacing:!1,file:l});"object"===(0,a.A)(d)&&null!==d&&(c=d),G(this,J)[J].validateSingleFile(c),r[c.id]=c,i.push(c)}catch(e){o.push(e)}}}catch(e){s.e(e)}finally{s.f()}try{G(this,J)[J].validateAggregateRestrictions(Object.values(n),i)}catch(e){return o.push(e),{nextFilesState:n,validFilesToAdd:[],errors:o}}return{nextFilesState:r,validFilesToAdd:i,errors:o}}function Ae(){var e=this,t=function(t,n,r){var i=t.message||"Unknown error";t.details&&(i+=" ".concat(t.details)),e.setState({error:i}),null!=n&&n.id in e.getState().files&&e.setFileState(n.id,{error:i,response:r})};this.on("error",t),this.on("upload-error",(function(n,r,i){if(t(r,n,i),"object"===(0,a.A)(r)&&r.message){var o;e.log(r.message,"error");var s=new Error(e.i18n("failedToUpload",{file:null!=(o=null==n?void 0:n.name)?o:""}));s.isUserFacing=!0,s.details=r.message,r.details&&(s.details+=" ".concat(r.details)),G(e,ie)[ie]([s])}else G(e,ie)[ie]([r])}));var n=null;this.on("upload-stalled",(function(t,r){var i=t.message,a=r.map((function(e){return e.meta.name})).join(", ");n||(e.info({message:i,details:a},"warning",e.opts.infoTimeout),n=setTimeout((function(){n=null}),e.opts.infoTimeout)),e.log("".concat(i," ").concat(a).trim(),"warning")})),this.on("upload",(function(){e.setState({error:null})}));this.on("upload-start",(function(t){t.forEach((function(t){e.emit("upload-started",t)})),function(t){var n=t.filter((function(t){var n=null!=t&&e.getFile(t.id);return n||e.log("Not setting progress for a file that has been removed: ".concat(null==t?void 0:t.id)),n})),r=Object.fromEntries(n.map((function(e){return[e.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,percentage:0,bytesUploaded:0,bytesTotal:e.size}}]})));e.patchFilesState(r)}(t)})),this.on("upload-progress",this.calculateProgress),this.on("upload-success",(function(t,n){if(null!=t&&e.getFile(t.id)){var r=e.getFile(t.id).progress;e.setFileState(t.id,{progress:K(K({},r),{},{postprocess:G(e,re)[re].size>0?{mode:"indeterminate"}:void 0,uploadComplete:!0,percentage:100,bytesUploaded:r.bytesTotal}),response:n,uploadURL:n.uploadURL,isPaused:!1}),null==t.size&&e.setFileState(t.id,{size:n.bytesUploaded||r.bytesTotal}),e.calculateTotalProgress()}else e.log("Not setting progress for a file that has been removed: ".concat(null==t?void 0:t.id))})),this.on("preprocess-progress",(function(t,n){null!=t&&e.getFile(t.id)?e.setFileState(t.id,{progress:K(K({},e.getFile(t.id).progress),{},{preprocess:n})}):e.log("Not setting progress for a file that has been removed: ".concat(null==t?void 0:t.id))})),this.on("preprocess-complete",(function(t){if(null!=t&&e.getFile(t.id)){var n=K({},e.getState().files);n[t.id]=K(K({},n[t.id]),{},{progress:K({},n[t.id].progress)}),delete n[t.id].progress.preprocess,e.setState({files:n})}else e.log("Not setting progress for a file that has been removed: ".concat(null==t?void 0:t.id))})),this.on("postprocess-progress",(function(t,n){null!=t&&e.getFile(t.id)?e.setFileState(t.id,{progress:K(K({},e.getState().files[t.id].progress),{},{postprocess:n})}):e.log("Not setting progress for a file that has been removed: ".concat(null==t?void 0:t.id))})),this.on("postprocess-complete",(function(t){if(null!=t&&e.getFile(t.id)){var n=K({},e.getState().files);n[t.id]=K(K({},n[t.id]),{},{progress:K({},n[t.id].progress)}),delete n[t.id].progress.postprocess,e.setState({files:n})}else e.log("Not setting progress for a file that has been removed: ".concat(null==t?void 0:t.id))})),this.on("restored",(function(){e.calculateTotalProgress()})),this.on("dashboard:file-edit-complete",(function(t){t&&G(e,ae)[ae](t)})),"undefined"!=typeof window&&window.addEventListener&&(window.addEventListener("online",G(this,de)[de]),window.addEventListener("offline",G(this,de)[de]),setTimeout(G(this,de)[de],3e3))}function _e(e,t){void 0===t&&(t={});var n=t.forceAllowNewUpload,r=void 0!==n&&n,i=this.getState(),a=i.allowNewUpload,o=i.currentUploads;if(!a&&!r)throw new Error("Cannot create a new upload: already uploading.");var l=(0,h.A)();return this.emit("upload",{id:l,fileIDs:e}),this.setState({allowNewUpload:!1!==this.opts.allowMultipleUploadBatches&&!1!==this.opts.allowMultipleUploads,currentUploads:K(K({},o),{},(0,s.A)({},l,{fileIDs:e,step:0,result:{}}))}),l}function Ce(e){return this.getState().currentUploads[e]}function De(e){var t=K({},this.getState().currentUploads);delete t[e],this.setState({currentUploads:t})}function xe(e){return Be.apply(this,arguments)}function Be(){return(Be=(0,r.A)(c.mark((function e(t){var n,r,a,o,l,u,p,d,h,f,g=this;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=(n=function(){return g.getState().currentUploads[t]})(),a=[].concat((0,i.A)(G(this,te)[te]),(0,i.A)(G(this,ne)[ne]),(0,i.A)(G(this,re)[re])),e.prev=3,o=r.step||0;case 5:if(!(o<a.length)){e.next=17;break}if(r){e.next=8;break}return e.abrupt("break",17);case 8:return l=a[o],this.setState({currentUploads:K(K({},this.getState().currentUploads),{},(0,s.A)({},t,K(K({},r),{},{step:o})))}),u=r.fileIDs,e.next=13,l(u,t);case 13:r=n();case 14:o++,e.next=5;break;case 17:e.next=23;break;case 19:throw e.prev=19,e.t0=e.catch(3),G(this,ve)[ve](t),e.t0;case 23:return r&&(r.fileIDs.forEach((function(e){var t=g.getFile(e);t&&t.progress.postprocess&&g.emit("postprocess-complete",t)})),p=r.fileIDs.map((function(e){return g.getFile(e)})),d=p.filter((function(e){return!e.error})),h=p.filter((function(e){return e.error})),this.addResultData(t,{successful:d,failed:h,uploadID:t}),r=n()),r&&(f=r.result,this.emit("complete",f),G(this,ve)[ve](t)),null==f&&this.log("Not setting result for an upload that has been removed: ".concat(t)),e.abrupt("return",f);case 27:case"end":return e.stop()}}),e,this,[[3,19]])})))).apply(this,arguments)}ye.VERSION="3.9.3";const Te=ye},79876:(e,t,n)=>{n(27495),n(90906);var r=/\s/;e.exports=function(e){for(var t=e.length;t--&&r.test(e.charAt(t)););return t}},83237:(e,t,n)=>{"use strict";n(70511)("replace")},85661:(e,t,n)=>{"use strict";n(52675),n(16280),n(76918),n(28706),n(44114),n(34782),n(59904),n(63548);var r=Object.prototype.hasOwnProperty,i="~";function a(){}function o(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(e,t,n,r,a){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new o(n,r||e,a),l=i?i+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function l(e,t){0==--e._eventsCount?e._events=new a:delete e._events[t]}function u(){this._events=new a,this._eventsCount=0}Object.create&&(a.prototype=Object.create(null),(new a).__proto__||(i=!1)),u.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)r.call(e,t)&&n.push(i?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},u.prototype.listeners=function(e){var t=i?i+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,a=n.length,o=new Array(a);r<a;r++)o[r]=n[r].fn;return o},u.prototype.listenerCount=function(e){var t=i?i+e:e,n=this._events[t];return n?n.fn?1:n.length:0},u.prototype.emit=function(e,t,n,r,a,o){var s=i?i+e:e;if(!this._events[s])return!1;var l,u,c=this._events[s],p=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),p){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,n),!0;case 4:return c.fn.call(c.context,t,n,r),!0;case 5:return c.fn.call(c.context,t,n,r,a),!0;case 6:return c.fn.call(c.context,t,n,r,a,o),!0}for(u=1,l=new Array(p-1);u<p;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var d,h=c.length;for(u=0;u<h;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),p){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,n);break;case 4:c[u].fn.call(c[u].context,t,n,r);break;default:if(!l)for(d=1,l=new Array(p-1);d<p;d++)l[d-1]=arguments[d];c[u].fn.apply(c[u].context,l)}}return!0},u.prototype.on=function(e,t,n){return s(this,e,t,n,!1)},u.prototype.once=function(e,t,n){return s(this,e,t,n,!0)},u.prototype.removeListener=function(e,t,n,r){var a=i?i+e:e;if(!this._events[a])return this;if(!t)return l(this,a),this;var o=this._events[a];if(o.fn)o.fn!==t||r&&!o.once||n&&o.context!==n||l(this,a);else{for(var s=0,u=[],c=o.length;s<c;s++)(o[s].fn!==t||r&&!o[s].once||n&&o[s].context!==n)&&u.push(o[s]);u.length?this._events[a]=1===u.length?u[0]:u:l(this,a)}return this},u.prototype.removeAllListeners=function(e){var t;return e?(t=i?i+e:e,this._events[t]&&l(this,t)):(this._events=new a,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=i,u.EventEmitter=u,e.exports=u},93224:(e,t,n)=>{var r=n(42785);e.exports=function(){return r.Date.now()}},97635:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Dashboard:()=>Xo,DashboardModal:()=>es,DragDrop:()=>cs,FileInput:()=>vl,ProgressBar:()=>ws,StatusBar:()=>sl,useUppy:()=>ml});n(52675),n(2008),n(51629),n(44114),n(67945),n(84185),n(83851),n(81278),n(79432),n(26099),n(60825),n(98992),n(54520),n(3949),n(23500);var r=n(51531),i=n(58237),a=n(84285),o=n(68119),s=n(36858),l=n(31061),u=n(55384),c=n(18443),p=n(61792),d=(n(16280),n(89463),n(2259),n(76918),n(74423),n(25276),n(23418),n(64346),n(23792),n(62062),n(34782),n(15086),n(23288),n(62010),n(3362),n(27495),n(90906),n(38781),n(47764),n(81454),n(37550),n(62953),n(76031),n(73848));n(72712),n(94170),n(16034),n(8872);function h(e,t,n,r){return 0===n||e===t?e:0===r?t:e+(t-e)*Math.pow(2,-r/n)}var f=n(36118);const g="error",v="waiting",m="preprocessing",y="uploading",b="postprocessing",w="complete";var P=n(36480),O=n(23546);function k(e){for(var t,n=[],r="indeterminate",i=0,a=Object.values(e);i<a.length;i++){var o=a[i].progress,s=o.preprocess,l=o.postprocess;if(null==t&&(s||l)){var u=s||l;r=u.mode,t=u.message}"determinate"===(null==s?void 0:s.mode)&&n.push(s.value),"determinate"===(null==l?void 0:l.mode)&&n.push(l.value)}return{mode:r,message:t,value:n.reduce((function(e,t){return e+t/n.length}),0)}}n(28706);var S=n(78029);n(68156);function F(e){var t,n=(t=e,{hours:Math.floor(t/3600)%24,minutes:Math.floor(t/60)%60,seconds:Math.floor(t%60)}),r=0===n.hours?"":"".concat(n.hours,"h"),i=0===n.minutes?"":"".concat(0===n.hours?n.minutes:" ".concat(n.minutes.toString(10).padStart(2,"0")),"m"),a=0!==n.hours?"":"".concat(0===n.minutes?n.seconds:" ".concat(n.seconds.toString(10).padStart(2,"0")),"s");return"".concat(r).concat(i).concat(a)}var A=function(){return" ".concat("·"," ")};function _(e){var t=e.newFiles,n=e.isUploadStarted,r=e.recoveredState,i=e.i18n,a=e.uploadState,o=e.isSomeGhost,s=e.startUpload,l=O("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--upload",{"uppy-c-btn-primary":a===v},{"uppy-StatusBar-actionBtn--disabled":o}),u=i(t&&n&&!r?"uploadXNewFiles":"uploadXFiles",{smart_count:t});return(0,P.h)("button",{type:"button",className:l,"aria-label":i("uploadXFiles",{smart_count:t}),onClick:s,disabled:o,"data-uppy-super-focusable":!0},u)}function C(e){var t=e.i18n,n=e.uppy;return(0,P.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--retry","aria-label":t("retryUpload"),onClick:function(){return n.retryAll().catch((function(){}))},"data-uppy-super-focusable":!0,"data-cy":"retry"},(0,P.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"8",height:"10",viewBox:"0 0 8 10"},(0,P.h)("path",{d:"M4 2.408a2.75 2.75 0 1 0 2.75 2.75.626.626 0 0 1 1.25.018v.023a4 4 0 1 1-4-4.041V.25a.25.25 0 0 1 .389-.208l2.299 1.533a.25.25 0 0 1 0 .416l-2.3 1.533A.25.25 0 0 1 4 3.316v-.908z"})),t("retry"))}function D(e){var t=e.i18n,n=e.uppy;return(0,P.h)("button",{type:"button",className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",title:t("cancel"),"aria-label":t("cancel"),onClick:function(){return n.cancelAll()},"data-cy":"cancel","data-uppy-super-focusable":!0},(0,P.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},(0,P.h)("g",{fill:"none",fillRule:"evenodd"},(0,P.h)("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),(0,P.h)("path",{fill:"#FFF",d:"M9.283 8l2.567 2.567-1.283 1.283L8 9.283 5.433 11.85 4.15 10.567 6.717 8 4.15 5.433 5.433 4.15 8 6.717l2.567-2.567 1.283 1.283z"}))))}function x(e){var t=e.isAllPaused,n=e.i18n,r=e.isAllComplete,i=e.resumableUploads,a=e.uppy,o=n(t?"resume":"pause");return(0,P.h)("button",{title:o,"aria-label":o,className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",type:"button",onClick:function(){r||(i?t?a.resumeAll():a.pauseAll():a.cancelAll())},"data-cy":"togglePauseResume","data-uppy-super-focusable":!0},(0,P.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},(0,P.h)("g",{fill:"none",fillRule:"evenodd"},(0,P.h)("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),(0,P.h)("path",{fill:"#FFF",d:t?"M6 4.25L11.5 8 6 11.75z":"M5 4.5h2v7H5v-7zm4 0h2v7H9v-7z"}))))}function B(e){var t=e.i18n,n=e.doneButtonHandler;return(0,P.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--done",onClick:n,"data-uppy-super-focusable":!0},t("done"))}function T(){return(0,P.h)("svg",{className:"uppy-StatusBar-spinner","aria-hidden":"true",focusable:"false",width:"14",height:"14"},(0,P.h)("path",{d:"M13.983 6.547c-.12-2.509-1.64-4.893-3.939-5.936-2.48-1.127-5.488-.656-7.556 1.094C.524 3.367-.398 6.048.162 8.562c.556 2.495 2.46 4.52 4.94 5.183 2.932.784 5.61-.602 7.256-3.015-1.493 1.993-3.745 3.309-6.298 2.868-2.514-.434-4.578-2.349-5.153-4.84a6.226 6.226 0 0 1 2.98-6.778C6.34.586 9.74 1.1 11.373 3.493c.407.596.693 1.282.842 1.988.127.598.073 1.197.161 1.794.078.525.543 1.257 1.15.864.525-.341.49-1.05.456-1.592-.007-.15.02.3 0 0",fillRule:"evenodd"}))}function E(e){var t=e.progress,n=t.value,r=t.mode,i=t.message;return(0,P.h)("div",{className:"uppy-StatusBar-content"},(0,P.h)(T,null),"determinate"===r?"".concat(Math.round(100*n),"% ").concat("·"," "):"",i)}function U(e){var t=e.numUploads,n=e.complete,r=e.totalUploadedSize,i=e.totalSize,a=e.totalETA,o=e.i18n,s=t>1;return(0,P.h)("div",{className:"uppy-StatusBar-statusSecondary"},s&&o("filesUploadedOfTotal",{complete:n,smart_count:t}),(0,P.h)("span",{className:"uppy-StatusBar-additionalInfo"},s&&A(),o("dataUploadedOfTotal",{complete:S(r),total:S(i)}),A(),o("xTimeLeft",{time:F(a)})))}function j(e){var t=e.i18n,n=e.complete,r=e.numUploads;return(0,P.h)("div",{className:"uppy-StatusBar-statusSecondary"},t("filesUploadedOfTotal",{complete:n,smart_count:r}))}function N(e){var t=e.i18n,n=e.newFiles,r=e.startUpload,i=O("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--uploadNewlyAdded");return(0,P.h)("div",{className:"uppy-StatusBar-statusSecondary"},(0,P.h)("div",{className:"uppy-StatusBar-statusSecondaryHint"},t("xMoreFilesAdded",{smart_count:n})),(0,P.h)("button",{type:"button",className:i,"aria-label":t("uploadXFiles",{smart_count:n}),onClick:r},t("upload")))}function I(e){var t=e.i18n,n=e.supportsUploadProgress,r=e.totalProgress,i=e.showProgressDetails,a=e.isUploadStarted,o=e.isAllComplete,s=e.isAllPaused,l=e.newFiles,u=e.numUploads,c=e.complete,p=e.totalUploadedSize,d=e.totalSize,h=e.totalETA,f=e.startUpload,g=l&&a;if(!a||o)return null;var v=t(s?"paused":"uploading");return(0,P.h)("div",{className:"uppy-StatusBar-content","aria-label":v,title:v},s?null:(0,P.h)(T,null),(0,P.h)("div",{className:"uppy-StatusBar-status"},(0,P.h)("div",{className:"uppy-StatusBar-statusPrimary"},n?"".concat(v,": ").concat(r,"%"):v),s||g||!i?null:n?(0,P.h)(U,{numUploads:u,complete:c,totalUploadedSize:p,totalSize:d,totalETA:h,i18n:t}):(0,P.h)(j,{i18n:t,complete:c,numUploads:u}),g?(0,P.h)(N,{i18n:t,newFiles:l,startUpload:f}):null))}function M(e){var t=e.i18n;return(0,P.h)("div",{className:"uppy-StatusBar-content",role:"status",title:t("complete")},(0,P.h)("div",{className:"uppy-StatusBar-status"},(0,P.h)("div",{className:"uppy-StatusBar-statusPrimary"},(0,P.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"15",height:"11",viewBox:"0 0 15 11"},(0,P.h)("path",{d:"M.414 5.843L1.627 4.63l3.472 3.472L13.202 0l1.212 1.213L5.1 10.528z"})),t("complete"))))}function R(e){var t=e.error,n=e.i18n,r=e.complete,i=e.numUploads;return(0,P.h)("div",{className:"uppy-StatusBar-content",title:n("uploadFailed")},(0,P.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"11",height:"11",viewBox:"0 0 11 11"},(0,P.h)("path",{d:"M4.278 5.5L0 1.222 1.222 0 5.5 4.278 9.778 0 11 1.222 6.722 5.5 11 9.778 9.778 11 5.5 6.722 1.222 11 0 9.778z"})),(0,P.h)("div",{className:"uppy-StatusBar-status"},(0,P.h)("div",{className:"uppy-StatusBar-statusPrimary"},n("uploadFailed"),(0,P.h)("button",{className:"uppy-u-reset uppy-StatusBar-details","aria-label":n("showErrorDetails"),"data-microtip-position":"top-right","data-microtip-size":"medium",onClick:function(){var e="".concat(n("uploadFailed")," \n\n ").concat(t);alert(e)},type:"button"},"?")),(0,P.h)(j,{i18n:n,complete:r,numUploads:i})))}var L=g,z=v,H=m,q=y,V=b,W=w;function K(e){var t=e.newFiles,n=e.allowNewUpload,r=e.isUploadInProgress,i=e.isAllPaused,a=e.resumableUploads,o=e.error,s=e.hideUploadButton,l=e.hidePauseResumeButton,u=e.hideCancelButton,c=e.hideRetryButton,p=e.recoveredState,d=e.uploadState,h=e.totalProgress,f=e.files,g=e.supportsUploadProgress,v=e.hideAfterFinish,m=e.isSomeGhost,y=e.doneButtonHandler,b=e.isUploadStarted,w=e.i18n,S=e.startUpload,F=e.uppy,A=e.isAllComplete,T=e.showProgressDetails,U=e.numUploads,j=e.complete,N=e.totalSize,K=e.totalETA,G=e.totalUploadedSize;var $=function(){switch(d){case V:case H:var e=k(f);return"determinate"===e.mode?100*e.value:h;case L:return null;case q:return g?h:null;default:return h}}(),X=function(){if(p)return!1;switch(d){case z:return s||0===t;case W:return v;default:return!1}}(),Y=null!=$?$:100,Q=!o&&t&&!r&&!i&&n&&!s,J=!u&&d!==z&&d!==W,Z=a&&!l&&d===q,ee=o&&!A&&!c,te=y&&d===W,ne=O("uppy-StatusBar-progress",{"is-indeterminate":function(){switch(d){case V:case H:return"indeterminate"===k(f).mode;case q:return!g;default:return!1}}()}),re=O("uppy-StatusBar","is-".concat(d),{"has-ghosts":m});return(0,P.h)("div",{className:re,"aria-hidden":X},(0,P.h)("div",{className:ne,style:{width:"".concat(Y,"%")},role:"progressbar","aria-label":"".concat(Y,"%"),"aria-valuetext":"".concat(Y,"%"),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":$}),function(){switch(d){case H:case V:return(0,P.h)(E,{progress:k(f)});case W:return(0,P.h)(M,{i18n:w});case L:return(0,P.h)(R,{error:o,i18n:w,numUploads:U,complete:j});case q:return(0,P.h)(I,{i18n:w,supportsUploadProgress:g,totalProgress:h,showProgressDetails:T,isUploadStarted:b,isAllComplete:A,isAllPaused:i,newFiles:t,numUploads:U,complete:j,totalUploadedSize:G,totalSize:N,totalETA:K,startUpload:S});default:return null}}(),(0,P.h)("div",{className:"uppy-StatusBar-actions"},p||Q?(0,P.h)(_,{newFiles:t,isUploadStarted:b,recoveredState:p,i18n:w,isSomeGhost:m,startUpload:S,uploadState:d}):null,ee?(0,P.h)(C,{i18n:w,uppy:F}):null,Z?(0,P.h)(x,{isAllPaused:i,i18n:w,isAllComplete:A,resumableUploads:a,uppy:F}):null,J?(0,P.h)(D,{i18n:w,uppy:F}):null,te?(0,P.h)(B,{i18n:w,doneButtonHandler:y}):null))}K.defaultProps={doneButtonHandler:void 0,hideAfterFinish:!1,hideCancelButton:!1,hidePauseResumeButton:!1,hideRetryButton:!1,hideUploadButton:void 0,showProgressDetails:void 0};const G={strings:{uploading:"Uploading",complete:"Complete",uploadFailed:"Upload failed",paused:"Paused",retry:"Retry",cancel:"Cancel",pause:"Pause",resume:"Resume",done:"Done",filesUploadedOfTotal:{0:"%{complete} of %{smart_count} file uploaded",1:"%{complete} of %{smart_count} files uploaded"},dataUploadedOfTotal:"%{complete} of %{total}",xTimeLeft:"%{time} left",uploadXFiles:{0:"Upload %{smart_count} file",1:"Upload %{smart_count} files"},uploadXNewFiles:{0:"Upload +%{smart_count} file",1:"Upload +%{smart_count} files"},upload:"Upload",retryUpload:"Retry upload",xMoreFilesAdded:{0:"%{smart_count} more file added",1:"%{smart_count} more files added"},showErrorDetails:"Show error details"}};function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Y(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Y=function(){return!!e})()}function Q(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var J=0;function Z(e){return"__private_"+J+++"_"+e}function ee(e,t,n,r){if(e)return g;if(t)return w;if(n)return v;for(var i=v,a=Object.keys(r),o=0;o<a.length;o++){var s=r[a[o]].progress;if(s.uploadStarted&&!s.uploadComplete)return y;s.preprocess&&(i=m),s.postprocess&&i!==m&&(i=b)}return i}var te={target:"body",hideUploadButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideCancelButton:!1,showProgressDetails:!1,hideAfterFinish:!0,doneButtonHandler:null},ne=Z("lastUpdateTime"),re=Z("previousUploadedBytes"),ie=Z("previousSpeed"),ae=Z("previousETA"),oe=Z("computeSmoothETA"),se=Z("onUploadStart"),le=function(e){function t(e,n){var r;return(0,i.A)(this,t),r=function(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,Y()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}(this,t,[e,X(X({},te),n)]),Object.defineProperty(r,oe,{value:ue}),Object.defineProperty(r,ne,{writable:!0,value:void 0}),Object.defineProperty(r,re,{writable:!0,value:void 0}),Object.defineProperty(r,ie,{writable:!0,value:void 0}),Object.defineProperty(r,ae,{writable:!0,value:void 0}),r.startUpload=function(){return r.uppy.upload().catch((function(){}))},Object.defineProperty(r,se,{writable:!0,value:function(){var e=r.uppy.getState().recoveredState;if(Q(r,ie)[ie]=null,Q(r,ae)[ae]=null,e)return Q(r,re)[re]=Object.values(e.files).reduce((function(e,t){return e+t.progress.bytesUploaded}),0),void r.uppy.emit("restore-confirmed");Q(r,ne)[ne]=performance.now(),Q(r,re)[re]=0}}),r.id=r.opts.id||"StatusBar",r.title="StatusBar",r.type="progressindicator",r.defaultLocale=G,r.i18nInit(),r.render=r.render.bind(r),r.install=r.install.bind(r),r}return(0,l.A)(t,e),(0,a.A)(t,[{key:"render",value:function(e){var t=e.capabilities,n=e.files,r=e.allowNewUpload,i=e.totalProgress,a=e.error,o=e.recoveredState,s=this.uppy.getObjectOfFilesPerState(),l=s.newFiles,u=s.startedFiles,c=s.completeFiles,p=s.isUploadStarted,d=s.isAllComplete,h=s.isAllErrored,f=s.isAllPaused,g=s.isUploadInProgress,v=s.isSomeGhost,m=o?Object.values(n):l,y=!!t.resumableUploads,b=!1!==t.uploadProgress,w=0,P=0;u.forEach((function(e){w+=e.progress.bytesTotal||0,P+=e.progress.bytesUploaded||0}));var O=Q(this,oe)[oe]({uploaded:P,total:w,remaining:w-P});return K({error:a,uploadState:ee(a,d,o,e.files||{}),allowNewUpload:r,totalProgress:i,totalSize:w,totalUploadedSize:P,isAllComplete:!1,isAllPaused:f,isAllErrored:h,isUploadStarted:p,isUploadInProgress:g,isSomeGhost:v,recoveredState:o,complete:c.length,newFiles:m.length,numUploads:u.length,totalETA:O,files:n,i18n:this.i18n,uppy:this.uppy,startUpload:this.startUpload,doneButtonHandler:this.opts.doneButtonHandler,resumableUploads:y,supportsUploadProgress:b,showProgressDetails:this.opts.showProgressDetails,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,hideCancelButton:this.opts.hideCancelButton,hideAfterFinish:this.opts.hideAfterFinish,isTargetDOMEl:this.isTargetDOMEl})}},{key:"onMount",value:function(){var e=this.el;(0,f.A)(e)||(e.dir="ltr")}},{key:"install",value:function(){var e=this.opts.target;e&&this.mount(e,this),this.uppy.on("upload",Q(this,se)[se]),Q(this,ne)[ne]=performance.now(),Q(this,re)[re]=this.uppy.getFiles().reduce((function(e,t){return e+t.progress.bytesUploaded}),0)}},{key:"uninstall",value:function(){this.unmount(),this.uppy.off("upload",Q(this,se)[se])}}])}(d.A);function ue(e){var t;if(0===e.total||0===e.remaining)return 0;null!=(t=Q(this,ne))[ne]||(t[ne]=performance.now());var n,r=performance.now()-Q(this,ne)[ne];if(0===r)return Math.round((null!=(n=Q(this,ae)[ae])?n:0)/100)/10;var i,a=e.uploaded-Q(this,re)[re];if(Q(this,re)[re]=e.uploaded,a<=0)return Math.round((null!=(i=Q(this,ae)[ae])?i:0)/100)/10;var o=a/r,s=null==Q(this,ie)[ie]?o:h(o,Q(this,ie)[ie],2e3,r);Q(this,ie)[ie]=s;var l=e.remaining/s,u=Math.max(Q(this,ae)[ae]-r,0),c=null==Q(this,ae)[ae]?l:h(l,u,2e3,r);return Q(this,ae)[ae]=c,Q(this,ne)[ne]=performance.now(),Math.round(c/100)/10}function ce(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ce=function(){return!!e})()}le.VERSION="3.3.3";var pe=function(e){function t(){var e;return(0,i.A)(this,t),e=function(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,ce()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}(this,t,arguments),e.ref=(0,P._3)(),e}return(0,l.A)(t,e),(0,a.A)(t,[{key:"componentWillEnter",value:function(e){this.ref.current.style.opacity="1",this.ref.current.style.transform="none",setTimeout(e,300)}},{key:"componentWillLeave",value:function(e){this.ref.current.style.opacity="0",this.ref.current.style.transform="translateY(350%)",setTimeout(e,300)}},{key:"render",value:function(){var e=this.props.children;return(0,P.h)("div",{className:"uppy-Informer-animated",ref:this.ref},e)}}])}(P.uA),de=n(80241),he=n(35754),fe=(n(54554),n(69085),n(5506),["childFactory","transitionLeave","transitionName","transitionAppear","transitionEnter","transitionLeaveTimeout","transitionEnterTimeout","transitionAppearTimeout","component"]);function ge(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ge=function(){return!!e})()}function ve(e){for(var t,n,r,i={},a=0;a<e.length;a++){if(null!=e[a])i[(t=e[a],n=a.toString(36),r=void 0,null!=(r=null==t?void 0:t.key)?r:n)]=e[a]}return i}function me(e,t){e=e||{},t=t||{};var n=function(n){return t.hasOwnProperty(n)?t[n]:e[n]},r={},i=[];for(var a in e)t.hasOwnProperty(a)?i.length&&(r[a]=i,i=[]):i.push(a);var o={};for(var s in t){if(r.hasOwnProperty(s))for(var l=0;l<r[s].length;l++){var u=r[s][l];o[r[s][l]]=n(u)}o[s]=n(s)}for(var c=0;c<i.length;c++)o[i[c]]=n(i[c]);return o}var ye=function(e){function t(e,n){var r;return(0,i.A)(this,t),r=function(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,ge()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}(this,t,[e,n]),r.refs={},r.state={children:ve((0,P.v2)((0,P.v2)(r.props.children))||[])},r.performAppear=r.performAppear.bind(r),r.performEnter=r.performEnter.bind(r),r.performLeave=r.performLeave.bind(r),r}return(0,l.A)(t,e),(0,a.A)(t,[{key:"componentWillMount",value:function(){this.currentlyTransitioningKeys={},this.keysToAbortLeave=[],this.keysToEnter=[],this.keysToLeave=[]}},{key:"componentDidMount",value:function(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t)}},{key:"componentWillReceiveProps",value:function(e){var t,n=ve((0,P.v2)(e.children)||[]),r=this.state.children;for(t in this.setState((function(e){return{children:me(e.children,n)}})),n)if(n.hasOwnProperty(t)){var i=r&&r.hasOwnProperty(t);n[t]&&i&&this.currentlyTransitioningKeys[t]?(this.keysToEnter.push(t),this.keysToAbortLeave.push(t)):!n[t]||i||this.currentlyTransitioningKeys[t]||this.keysToEnter.push(t)}for(t in r)if(r.hasOwnProperty(t)){var a=n&&n.hasOwnProperty(t);!r[t]||a||this.currentlyTransitioningKeys[t]||this.keysToLeave.push(t)}}},{key:"componentDidUpdate",value:function(){var e=this.keysToEnter;this.keysToEnter=[],e.forEach(this.performEnter);var t=this.keysToLeave;this.keysToLeave=[],t.forEach(this.performLeave)}},{key:"_finishAbort",value:function(e){var t=this.keysToAbortLeave.indexOf(e);-1!==t&&this.keysToAbortLeave.splice(t,1)}},{key:"performAppear",value:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];null!=t&&t.componentWillAppear?t.componentWillAppear(this._handleDoneAppearing.bind(this,e)):this._handleDoneAppearing(e)}},{key:"_handleDoneAppearing",value:function(e){var t=this.refs[e];null!=t&&t.componentDidAppear&&t.componentDidAppear(),delete this.currentlyTransitioningKeys[e],this._finishAbort(e);var n=ve((0,P.v2)(this.props.children)||[]);n&&n.hasOwnProperty(e)||this.performLeave(e)}},{key:"performEnter",value:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];null!=t&&t.componentWillEnter?t.componentWillEnter(this._handleDoneEntering.bind(this,e)):this._handleDoneEntering(e)}},{key:"_handleDoneEntering",value:function(e){var t=this.refs[e];null!=t&&t.componentDidEnter&&t.componentDidEnter(),delete this.currentlyTransitioningKeys[e],this._finishAbort(e);var n=ve((0,P.v2)(this.props.children)||[]);n&&n.hasOwnProperty(e)||this.performLeave(e)}},{key:"performLeave",value:function(e){if(-1===this.keysToAbortLeave.indexOf(e)){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];null!=t&&t.componentWillLeave?t.componentWillLeave(this._handleDoneLeaving.bind(this,e)):this._handleDoneLeaving(e)}}},{key:"_handleDoneLeaving",value:function(e){if(-1===this.keysToAbortLeave.indexOf(e)){var t=this.refs[e];null!=t&&t.componentDidLeave&&t.componentDidLeave(),delete this.currentlyTransitioningKeys[e];var n,r,i=ve((0,P.v2)(this.props.children)||[]);if(i&&i.hasOwnProperty(e))this.performEnter(e);else{var a=(n={},r=this.state.children,Object.assign(n,r));delete a[e],this.setState({children:a})}}}},{key:"render",value:function(e,t){var n=this,r=e.childFactory,i=(e.transitionLeave,e.transitionName,e.transitionAppear,e.transitionEnter,e.transitionLeaveTimeout,e.transitionEnterTimeout,e.transitionAppearTimeout,e.component),a=(0,he.A)(e,fe),o=t.children,s=Object.entries(o).map((function(e){var t=(0,de.A)(e,2),i=t[0],a=t[1];if(a){var o=function(e,t){var n=e._ptgLinkedRefs||(e._ptgLinkedRefs={});return n[t]||(n[t]=function(n){e.refs[t]=n})}(n,i);return(0,P.Ob)(r(a),{ref:o,key:i})}})).filter(Boolean);return(0,P.h)(i,a,s)}}])}(P.uA);ye.defaultProps={component:"span",childFactory:function(e){return e}};const be=ye;function we(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(we=function(){return!!e})()}var Pe=function(e){function t(e,n){var r;return(0,i.A)(this,t),r=function(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,we()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}(this,t,[e,n]),r.render=function(e){return(0,P.h)("div",{className:"uppy uppy-Informer"},(0,P.h)(be,null,e.info.map((function(e){return(0,P.h)(pe,{key:e.message},(0,P.h)("p",{role:"alert"},e.message," ",e.details&&(0,P.h)("span",{"aria-label":e.details,"data-microtip-position":"top-left","data-microtip-size":"medium",role:"tooltip",onClick:function(){return alert("".concat(e.message," \n\n ").concat(e.details))}},"?")))}))))},r.type="progressindicator",r.id=r.opts.id||"Informer",r.title="Informer",r}return(0,l.A)(t,e),(0,a.A)(t,[{key:"install",value:function(){var e=this.opts.target;e&&this.mount(e,this)}}])}(d.A);Pe.VERSION="3.1.0";n(33748),n(3296),n(27208),n(48408),n(54743),n(11745),n(38309),n(21489),n(48140),n(81630),n(72170),n(75044),n(69539),n(31694),n(89955),n(21903),n(91134),n(33206),n(44496),n(66651),n(12887),n(19369),n(66812),n(8995),n(31575),n(36072),n(88747),n(28845),n(29423),n(57301),n(373),n(86614),n(41405),n(33684),n(43250),n(10149),n(24082),n(2945),n(55815),n(64979),n(79739);var Oe=/^data:([^/]+\/[^,;]+(?:[^,]*?))(;base64)?,([\s\S]*)$/;const ke=function(e,t,n){var r,i,a,o=Oe.exec(e),s=null!=(r=null!=(i=t.mimeType)?i:null==o?void 0:o[1])?r:"plain/text";if(null!=(null==o?void 0:o[2])){for(var l=atob(decodeURIComponent(o[3])),u=new Uint8Array(l.length),c=0;c<l.length;c++)u[c]=l.charCodeAt(c);a=[u]}else null!=(null==o?void 0:o[3])&&(a=[decodeURIComponent(o[3])]);return n?new File(a,t.name||"",{type:s}):new Blob(a,{type:s})};n(11392);function Se(e){return e.startsWith("blob:")}function Fe(e){return!!e&&/^[^/]+\/(jpe?g|gif|png|svg|svg\+xml|bmp|webp|avif)$/.test(e)}var Ae=n(8498);function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ce="undefined"!=typeof self?self:global;const De="undefined"!=typeof navigator,xe=De&&"undefined"==typeof HTMLImageElement,Be=!("undefined"==typeof global||void 0===Ae||!Ae.versions||!Ae.versions.node),Te=Ce.Buffer,Ee=!!Te,Ue=e=>void 0!==e;function je(e){return void 0===e||(e instanceof Map?0===e.size:0===Object.values(e).filter(Ue).length)}function Ne(e){let t=new Error(e);throw delete t.stack,t}function Ie(e){let t=function(e){let t=0;return e.ifd0.enabled&&(t+=1024),e.exif.enabled&&(t+=2048),e.makerNote&&(t+=2048),e.userComment&&(t+=1024),e.gps.enabled&&(t+=512),e.interop.enabled&&(t+=100),e.ifd1.enabled&&(t+=1024),t+2048}(e);return e.jfif.enabled&&(t+=50),e.xmp.enabled&&(t+=2e4),e.iptc.enabled&&(t+=14e3),e.icc.enabled&&(t+=6e3),t}const Me=e=>String.fromCharCode.apply(null,e),Re="undefined"!=typeof TextDecoder?new TextDecoder("utf-8"):void 0;class Le{static from(e,t){return e instanceof this&&e.le===t?e:new Le(e,void 0,void 0,t)}constructor(e,t=0,n,r){if("boolean"==typeof r&&(this.le=r),Array.isArray(e)&&(e=new Uint8Array(e)),0===e)this.byteOffset=0,this.byteLength=0;else if(e instanceof ArrayBuffer){void 0===n&&(n=e.byteLength-t);let r=new DataView(e,t,n);this._swapDataView(r)}else if(e instanceof Uint8Array||e instanceof DataView||e instanceof Le){void 0===n&&(n=e.byteLength-t),(t+=e.byteOffset)+n>e.byteOffset+e.byteLength&&Ne("Creating view outside of available memory in ArrayBuffer");let r=new DataView(e.buffer,t,n);this._swapDataView(r)}else if("number"==typeof e){let t=new DataView(new ArrayBuffer(e));this._swapDataView(t)}else Ne("Invalid input argument for BufferView: "+e)}_swapArrayBuffer(e){this._swapDataView(new DataView(e))}_swapBuffer(e){this._swapDataView(new DataView(e.buffer,e.byteOffset,e.byteLength))}_swapDataView(e){this.dataView=e,this.buffer=e.buffer,this.byteOffset=e.byteOffset,this.byteLength=e.byteLength}_lengthToEnd(e){return this.byteLength-e}set(e,t,n=Le){return e instanceof DataView||e instanceof Le?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer&&(e=new Uint8Array(e)),e instanceof Uint8Array||Ne("BufferView.set(): Invalid data argument."),this.toUint8().set(e,t),new n(this,t,e.byteLength)}subarray(e,t){return t=t||this._lengthToEnd(e),new Le(this,e,t)}toUint8(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}getUint8Array(e,t){return new Uint8Array(this.buffer,this.byteOffset+e,t)}getString(e=0,t=this.byteLength){return n=this.getUint8Array(e,t),Re?Re.decode(n):Ee?Buffer.from(n).toString("utf8"):decodeURIComponent(escape(Me(n)));var n}getLatin1String(e=0,t=this.byteLength){let n=this.getUint8Array(e,t);return Me(n)}getUnicodeString(e=0,t=this.byteLength){const n=[];for(let r=0;r<t&&e+r<this.byteLength;r+=2)n.push(this.getUint16(e+r));return Me(n)}getInt8(e){return this.dataView.getInt8(e)}getUint8(e){return this.dataView.getUint8(e)}getInt16(e,t=this.le){return this.dataView.getInt16(e,t)}getInt32(e,t=this.le){return this.dataView.getInt32(e,t)}getUint16(e,t=this.le){return this.dataView.getUint16(e,t)}getUint32(e,t=this.le){return this.dataView.getUint32(e,t)}getFloat32(e,t=this.le){return this.dataView.getFloat32(e,t)}getFloat64(e,t=this.le){return this.dataView.getFloat64(e,t)}getFloat(e,t=this.le){return this.dataView.getFloat32(e,t)}getDouble(e,t=this.le){return this.dataView.getFloat64(e,t)}getUintBytes(e,t,n){switch(t){case 1:return this.getUint8(e,n);case 2:return this.getUint16(e,n);case 4:return this.getUint32(e,n);case 8:return this.getUint64&&this.getUint64(e,n)}}getUint(e,t,n){switch(t){case 8:return this.getUint8(e,n);case 16:return this.getUint16(e,n);case 32:return this.getUint32(e,n);case 64:return this.getUint64&&this.getUint64(e,n)}}toString(e){return this.dataView.toString(e,this.constructor.name)}ensureChunk(){}}function ze(e,t){Ne(`${e} '${t}' was not loaded, try using full build of exifr.`)}class He extends Map{constructor(e){super(),this.kind=e}get(e,t){return this.has(e)||ze(this.kind,e),t&&(e in t||function(e,t){Ne(`Unknown ${e} '${t}'.`)}(this.kind,e),t[e].enabled||ze(this.kind,e)),super.get(e)}keyList(){return Array.from(this.keys())}}var qe=new He("file parser"),Ve=new He("segment parser"),We=new He("file reader");let Ke=Ce.fetch;function Ge(e,t){return(n=e).startsWith("data:")||n.length>1e4?Xe(e,t,"base64"):Be&&e.includes("://")?$e(e,t,"url",Ye):Be?Xe(e,t,"fs"):De?$e(e,t,"url",Ye):void Ne("Invalid input argument");var n}async function $e(e,t,n,r){return We.has(n)?Xe(e,t,n):r?async function(e,t){let n=await t(e);return new Le(n)}(e,r):void Ne(`Parser ${n} is not loaded`)}async function Xe(e,t,n){let r=new(We.get(n))(e,t);return await r.read(),r}const Ye=e=>Ke(e).then((e=>e.arrayBuffer())),Qe=e=>new Promise(((t,n)=>{let r=new FileReader;r.onloadend=()=>t(r.result||new ArrayBuffer),r.onerror=n,r.readAsArrayBuffer(e)}));class Je extends Map{get tagKeys(){return this.allKeys||(this.allKeys=Array.from(this.keys())),this.allKeys}get tagValues(){return this.allValues||(this.allValues=Array.from(this.values())),this.allValues}}function Ze(e,t,n){let r=new Je;for(let[e,t]of n)r.set(e,t);if(Array.isArray(t))for(let n of t)e.set(n,r);else e.set(t,r);return r}function et(e,t,n){let r,i=e.get(t);for(r of n)i.set(r[0],r[1])}const tt=new Map,nt=new Map,rt=new Map,it=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],at=["jfif","xmp","icc","iptc","ihdr"],ot=["tiff",...at],st=["ifd0","ifd1","exif","gps","interop"],lt=[...ot,...st],ut=["makerNote","userComment"],ct=["translateKeys","translateValues","reviveValues","multiSegment"],pt=[...ct,"sanitize","mergeOutput","silentErrors"];class dt{get translate(){return this.translateKeys||this.translateValues||this.reviveValues}}class ht extends dt{get needed(){return this.enabled||this.deps.size>0}constructor(e,t,n,r){if(super(),_e(this,"enabled",!1),_e(this,"skip",new Set),_e(this,"pick",new Set),_e(this,"deps",new Set),_e(this,"translateKeys",!1),_e(this,"translateValues",!1),_e(this,"reviveValues",!1),this.key=e,this.enabled=t,this.parse=this.enabled,this.applyInheritables(r),this.canBeFiltered=st.includes(e),this.canBeFiltered&&(this.dict=tt.get(e)),void 0!==n)if(Array.isArray(n))this.parse=this.enabled=!0,this.canBeFiltered&&n.length>0&&this.translateTagSet(n,this.pick);else if("object"==typeof n){if(this.enabled=!0,this.parse=!1!==n.parse,this.canBeFiltered){let{pick:e,skip:t}=n;e&&e.length>0&&this.translateTagSet(e,this.pick),t&&t.length>0&&this.translateTagSet(t,this.skip)}this.applyInheritables(n)}else!0===n||!1===n?this.parse=this.enabled=n:Ne(`Invalid options argument: ${n}`)}applyInheritables(e){let t,n;for(t of ct)n=e[t],void 0!==n&&(this[t]=n)}translateTagSet(e,t){if(this.dict){let n,r,{tagKeys:i,tagValues:a}=this.dict;for(n of e)"string"==typeof n?(r=a.indexOf(n),-1===r&&(r=i.indexOf(Number(n))),-1!==r&&t.add(Number(i[r]))):t.add(n)}else for(let n of e)t.add(n)}finalizeFilters(){!this.enabled&&this.deps.size>0?(this.enabled=!0,bt(this.pick,this.deps)):this.enabled&&this.pick.size>0&&bt(this.pick,this.deps)}}var ft={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},gt=new Map;class vt extends dt{static useCached(e){let t=gt.get(e);return void 0!==t||(t=new this(e),gt.set(e,t)),t}constructor(e){super(),!0===e?this.setupFromTrue():void 0===e?this.setupFromUndefined():Array.isArray(e)?this.setupFromArray(e):"object"==typeof e?this.setupFromObject(e):Ne(`Invalid options argument ${e}`),void 0===this.firstChunkSize&&(this.firstChunkSize=De?this.firstChunkSizeBrowser:this.firstChunkSizeNode),this.mergeOutput&&(this.ifd1.enabled=!1),this.filterNestedSegmentTags(),this.traverseTiffDependencyTree(),this.checkLoadedPlugins()}setupFromUndefined(){let e;for(e of it)this[e]=ft[e];for(e of pt)this[e]=ft[e];for(e of ut)this[e]=ft[e];for(e of lt)this[e]=new ht(e,ft[e],void 0,this)}setupFromTrue(){let e;for(e of it)this[e]=ft[e];for(e of pt)this[e]=ft[e];for(e of ut)this[e]=!0;for(e of lt)this[e]=new ht(e,!0,void 0,this)}setupFromArray(e){let t;for(t of it)this[t]=ft[t];for(t of pt)this[t]=ft[t];for(t of ut)this[t]=ft[t];for(t of lt)this[t]=new ht(t,!1,void 0,this);this.setupGlobalFilters(e,void 0,st)}setupFromObject(e){let t;for(t of(st.ifd0=st.ifd0||st.image,st.ifd1=st.ifd1||st.thumbnail,Object.assign(this,e),it))this[t]=yt(e[t],ft[t]);for(t of pt)this[t]=yt(e[t],ft[t]);for(t of ut)this[t]=yt(e[t],ft[t]);for(t of ot)this[t]=new ht(t,ft[t],e[t],this);for(t of st)this[t]=new ht(t,ft[t],e[t],this.tiff);this.setupGlobalFilters(e.pick,e.skip,st,lt),!0===e.tiff?this.batchEnableWithBool(st,!0):!1===e.tiff?this.batchEnableWithUserValue(st,e):Array.isArray(e.tiff)?this.setupGlobalFilters(e.tiff,void 0,st):"object"==typeof e.tiff&&this.setupGlobalFilters(e.tiff.pick,e.tiff.skip,st)}batchEnableWithBool(e,t){for(let n of e)this[n].enabled=t}batchEnableWithUserValue(e,t){for(let n of e){let e=t[n];this[n].enabled=!1!==e&&void 0!==e}}setupGlobalFilters(e,t,n,r=n){if(e&&e.length){for(let e of r)this[e].enabled=!1;let t=mt(e,n);for(let[e,n]of t)bt(this[e].pick,n),this[e].enabled=!0}else if(t&&t.length){let e=mt(t,n);for(let[t,n]of e)bt(this[t].skip,n)}}filterNestedSegmentTags(){let{ifd0:e,exif:t,xmp:n,iptc:r,icc:i}=this;this.makerNote?t.deps.add(37500):t.skip.add(37500),this.userComment?t.deps.add(37510):t.skip.add(37510),n.enabled||e.skip.add(700),r.enabled||e.skip.add(33723),i.enabled||e.skip.add(34675)}traverseTiffDependencyTree(){let{ifd0:e,exif:t,gps:n,interop:r}=this;r.needed&&(t.deps.add(40965),e.deps.add(40965)),t.needed&&e.deps.add(34665),n.needed&&e.deps.add(34853),this.tiff.enabled=st.some((e=>!0===this[e].enabled))||this.makerNote||this.userComment;for(let e of st)this[e].finalizeFilters()}get onlyTiff(){return!at.map((e=>this[e].enabled)).some((e=>!0===e))&&this.tiff.enabled}checkLoadedPlugins(){for(let e of ot)this[e].enabled&&!Ve.has(e)&&ze("segment parser",e)}}function mt(e,t){let n,r,i,a,o=[];for(i of t){for(a of(n=tt.get(i),r=[],n))(e.includes(a[0])||e.includes(a[1]))&&r.push(a[0]);r.length&&o.push([i,r])}return o}function yt(e,t){return void 0!==e?e:void 0!==t?t:void 0}function bt(e,t){for(let n of t)e.add(n)}_e(vt,"default",ft);class wt{constructor(e){_e(this,"parsers",{}),_e(this,"output",{}),_e(this,"errors",[]),_e(this,"pushToErrors",(e=>this.errors.push(e))),this.options=vt.useCached(e)}async read(e){this.file=await function(e,t){return"string"==typeof e?Ge(e,t):De&&!xe&&e instanceof HTMLImageElement?Ge(e.src,t):e instanceof Uint8Array||e instanceof ArrayBuffer||e instanceof DataView?new Le(e):De&&e instanceof Blob?$e(e,t,"blob",Qe):void Ne("Invalid input argument")}(e,this.options)}setup(){if(this.fileParser)return;let{file:e}=this,t=e.getUint16(0);for(let[n,r]of qe)if(r.canHandle(e,t))return this.fileParser=new r(this.options,this.file,this.parsers),e[n]=!0;this.file.close&&this.file.close(),Ne("Unknown file format")}async parse(){let{output:e,errors:t}=this;return this.setup(),this.options.silentErrors?(await this.executeParsers().catch(this.pushToErrors),t.push(...this.fileParser.errors)):await this.executeParsers(),this.file.close&&this.file.close(),this.options.silentErrors&&t.length>0&&(e.errors=t),je(n=e)?void 0:n;var n}async executeParsers(){let{output:e}=this;await this.fileParser.parse();let t=Object.values(this.parsers).map((async t=>{let n=await t.parse();t.assignToOutput(e,n)}));this.options.silentErrors&&(t=t.map((e=>e.catch(this.pushToErrors)))),await Promise.all(t)}async extractThumbnail(){this.setup();let{options:e,file:t}=this,n=Ve.get("tiff",e);var r;if(t.tiff?r={start:0,type:"tiff"}:t.jpeg&&(r=await this.fileParser.getOrFindSegment("tiff")),void 0===r)return;let i=await this.fileParser.ensureSegmentChunk(r),a=this.parsers.tiff=new n(i,e,t),o=await a.extractThumbnail();return t.close&&t.close(),o}}async function Pt(e,t){let n=new wt(t);return await n.read(e),n.parse()}var Ot=Object.freeze({__proto__:null,parse:Pt,Exifr:wt,fileParsers:qe,segmentParsers:Ve,fileReaders:We,tagKeys:tt,tagValues:nt,tagRevivers:rt,createDictionary:Ze,extendDictionary:et,fetchUrlAsArrayBuffer:Ye,readBlobAsArrayBuffer:Qe,chunkedProps:it,otherSegments:at,segments:ot,tiffBlocks:st,segmentsAndBlocks:lt,tiffExtractables:ut,inheritables:ct,allFormatters:pt,Options:vt});class kt{static findPosition(e,t){let n=e.getUint16(t+2)+2,r="function"==typeof this.headerLength?this.headerLength(e,t,n):this.headerLength,i=t+r,a=n-r;return{offset:t,length:n,headerLength:r,start:i,size:a,end:i+a}}static parse(e,t={}){return new this(e,new vt({[this.type]:t}),e).parse()}normalizeInput(e){return e instanceof Le?e:new Le(e)}constructor(e,t={},n){_e(this,"errors",[]),_e(this,"raw",new Map),_e(this,"handleError",(e=>{if(!this.options.silentErrors)throw e;this.errors.push(e.message)})),this.chunk=this.normalizeInput(e),this.file=n,this.type=this.constructor.type,this.globalOptions=this.options=t,this.localOptions=t[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}translate(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}get output(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}translateBlock(e,t){let n=rt.get(t),r=nt.get(t),i=tt.get(t),a=this.options[t],o=a.reviveValues&&!!n,s=a.translateValues&&!!r,l=a.translateKeys&&!!i,u={};for(let[t,a]of e)o&&n.has(t)?a=n.get(t)(a):s&&r.has(t)&&(a=this.translateValue(a,r.get(t))),l&&i.has(t)&&(t=i.get(t)||t),u[t]=a;return u}translateValue(e,t){return t[e]||t.DEFAULT||e}assignToOutput(e,t){this.assignObjectToOutput(e,this.constructor.type,t)}assignObjectToOutput(e,t,n){if(this.globalOptions.mergeOutput)return Object.assign(e,n);e[t]?Object.assign(e[t],n):e[t]=n}}function St(e){return 192===e||194===e||196===e||219===e||221===e||218===e||254===e}function Ft(e){return e>=224&&e<=239}function At(e,t,n){for(let[r,i]of Ve)if(i.canHandle(e,t,n))return r}_e(kt,"headerLength",4),_e(kt,"type",void 0),_e(kt,"multiSegment",!1),_e(kt,"canHandle",(()=>!1));class _t extends class{constructor(e,t,n){_e(this,"errors",[]),_e(this,"ensureSegmentChunk",(async e=>{let t=e.start,n=e.size||65536;if(this.file.chunked)if(this.file.available(t,n))e.chunk=this.file.subarray(t,n);else try{e.chunk=await this.file.readChunk(t,n)}catch(t){Ne(`Couldn't read segment: ${JSON.stringify(e)}. ${t.message}`)}else this.file.byteLength>t+n?e.chunk=this.file.subarray(t,n):void 0===e.size?e.chunk=this.file.subarray(t):Ne("Segment unreachable: "+JSON.stringify(e));return e.chunk})),this.extendOptions&&this.extendOptions(e),this.options=e,this.file=t,this.parsers=n}injectSegment(e,t){this.options[e].enabled&&this.createParser(e,t)}createParser(e,t){let n=new(Ve.get(e))(t,this.options,this.file);return this.parsers[e]=n}createParsers(e){for(let t of e){let{type:e,chunk:n}=t,r=this.options[e];if(r&&r.enabled){let t=this.parsers[e];t&&t.append||t||this.createParser(e,n)}}}async readSegments(e){let t=e.map(this.ensureSegmentChunk);await Promise.all(t)}}{constructor(...e){super(...e),_e(this,"appSegments",[]),_e(this,"jpegSegments",[]),_e(this,"unknownSegments",[])}static canHandle(e,t){return 65496===t}async parse(){await this.findAppSegments(),await this.readSegments(this.appSegments),this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments)}setupSegmentFinderArgs(e){!0===e?(this.findAll=!0,this.wanted=new Set(Ve.keyList())):(e=void 0===e?Ve.keyList().filter((e=>this.options[e].enabled)):e.filter((e=>this.options[e].enabled&&Ve.has(e))),this.findAll=!1,this.remaining=new Set(e),this.wanted=new Set(e)),this.unfinishedMultiSegment=!1}async findAppSegments(e=0,t){this.setupSegmentFinderArgs(t);let{file:n,findAll:r,wanted:i,remaining:a}=this;if(!r&&this.file.chunked&&(r=Array.from(i).some((e=>{let t=Ve.get(e),n=this.options[e];return t.multiSegment&&n.multiSegment})),r&&await this.file.readWhole()),e=this.findAppSegmentsInRange(e,n.byteLength),!this.options.onlyTiff&&n.chunked){let t=!1;for(;a.size>0&&!t&&(n.canReadNextChunk||this.unfinishedMultiSegment);){let{nextChunkOffset:r}=n,i=this.appSegments.some((e=>!this.file.available(e.offset||e.start,e.length||e.size)));if(t=e>r&&!i?!(await n.readNextChunk(e)):!(await n.readNextChunk(r)),void 0===(e=this.findAppSegmentsInRange(e,n.byteLength)))return}}}findAppSegmentsInRange(e,t){t-=2;let n,r,i,a,o,s,{file:l,findAll:u,wanted:c,remaining:p,options:d}=this;for(;e<t;e++)if(255===l.getUint8(e))if(n=l.getUint8(e+1),Ft(n)){if(r=l.getUint16(e+2),i=At(l,e,r),i&&c.has(i)&&(a=Ve.get(i),o=a.findPosition(l,e),s=d[i],o.type=i,this.appSegments.push(o),!u&&(a.multiSegment&&s.multiSegment?(this.unfinishedMultiSegment=o.chunkNumber<o.chunkCount,this.unfinishedMultiSegment||p.delete(i)):p.delete(i),0===p.size)))break;d.recordUnknownSegments&&(o=kt.findPosition(l,e),o.marker=n,this.unknownSegments.push(o)),e+=r+1}else if(St(n)){if(r=l.getUint16(e+2),218===n&&!1!==d.stopAfterSos)return;d.recordJpegSegments&&this.jpegSegments.push({offset:e,length:r,marker:n}),e+=r+1}return e}mergeMultiSegments(){if(!this.appSegments.some((e=>e.multiSegment)))return;let e=function(e){let t,n,r,i=new Map;for(let a=0;a<e.length;a++)t=e[a],n=t.type,i.has(n)?r=i.get(n):i.set(n,r=[]),r.push(t);return Array.from(i)}(this.appSegments);this.mergedAppSegments=e.map((([e,t])=>{let n=Ve.get(e,this.options);return n.handleMultiSegments?{type:e,chunk:n.handleMultiSegments(t)}:t[0]}))}getSegment(e){return this.appSegments.find((t=>t.type===e))}async getOrFindSegment(e){let t=this.getSegment(e);return void 0===t&&(await this.findAppSegments(0,[e]),t=this.getSegment(e)),t}}_e(_t,"type","jpeg"),qe.set("jpeg",_t);const Ct=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4];class Dt extends kt{parseHeader(){var e=this.chunk.getUint16();18761===e?this.le=!0:19789===e&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}parseTags(e,t,n=new Map){let{pick:r,skip:i}=this.options[t];r=new Set(r);let a=r.size>0,o=0===i.size,s=this.chunk.getUint16(e);e+=2;for(let l=0;l<s;l++){let s=this.chunk.getUint16(e);if(a){if(r.has(s)&&(n.set(s,this.parseTag(e,s,t)),r.delete(s),0===r.size))break}else!o&&i.has(s)||n.set(s,this.parseTag(e,s,t));e+=12}return n}parseTag(e,t,n){let{chunk:r}=this,i=r.getUint16(e+2),a=r.getUint32(e+4),o=Ct[i];if(o*a<=4?e+=8:e=r.getUint32(e+8),(i<1||i>13)&&Ne(`Invalid TIFF value type. block: ${n.toUpperCase()}, tag: ${t.toString(16)}, type: ${i}, offset ${e}`),e>r.byteLength&&Ne(`Invalid TIFF value offset. block: ${n.toUpperCase()}, tag: ${t.toString(16)}, type: ${i}, offset ${e} is outside of chunk size ${r.byteLength}`),1===i)return r.getUint8Array(e,a);if(2===i)return""===(s=function(e){for(;e.endsWith("\0");)e=e.slice(0,-1);return e}(s=r.getString(e,a)).trim())?void 0:s;var s;if(7===i)return r.getUint8Array(e,a);if(1===a)return this.parseTagValue(i,e);{let t=new(function(e){switch(e){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:case 10:default:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 11:return Float32Array;case 12:return Float64Array}}(i))(a),n=o;for(let r=0;r<a;r++)t[r]=this.parseTagValue(i,e),e+=n;return t}}parseTagValue(e,t){let{chunk:n}=this;switch(e){case 1:return n.getUint8(t);case 3:return n.getUint16(t);case 4:case 13:return n.getUint32(t);case 5:return n.getUint32(t)/n.getUint32(t+4);case 6:return n.getInt8(t);case 8:return n.getInt16(t);case 9:return n.getInt32(t);case 10:return n.getInt32(t)/n.getInt32(t+4);case 11:return n.getFloat(t);case 12:return n.getDouble(t);default:Ne(`Invalid tiff type ${e}`)}}}class xt extends Dt{static canHandle(e,t){return 225===e.getUint8(t+1)&&1165519206===e.getUint32(t+4)&&0===e.getUint16(t+8)}async parse(){this.parseHeader();let{options:e}=this;return e.ifd0.enabled&&await this.parseIfd0Block(),e.exif.enabled&&await this.safeParse("parseExifBlock"),e.gps.enabled&&await this.safeParse("parseGpsBlock"),e.interop.enabled&&await this.safeParse("parseInteropBlock"),e.ifd1.enabled&&await this.safeParse("parseThumbnailBlock"),this.createOutput()}safeParse(e){let t=this[e]();return void 0!==t.catch&&(t=t.catch(this.handleError)),t}findIfd0Offset(){void 0===this.ifd0Offset&&(this.ifd0Offset=this.chunk.getUint32(4))}findIfd1Offset(){if(void 0===this.ifd1Offset){this.findIfd0Offset();let e=this.chunk.getUint16(this.ifd0Offset),t=this.ifd0Offset+2+12*e;this.ifd1Offset=this.chunk.getUint32(t)}}parseBlock(e,t){let n=new Map;return this[t]=n,this.parseTags(e,t,n),n}async parseIfd0Block(){if(this.ifd0)return;let{file:e}=this;this.findIfd0Offset(),this.ifd0Offset<8&&Ne("Malformed EXIF data"),!e.chunked&&this.ifd0Offset>e.byteLength&&Ne(`IFD0 offset points to outside of file.\nthis.ifd0Offset: ${this.ifd0Offset}, file.byteLength: ${e.byteLength}`),e.tiff&&await e.ensureChunk(this.ifd0Offset,Ie(this.options));let t=this.parseBlock(this.ifd0Offset,"ifd0");return 0!==t.size?(this.exifOffset=t.get(34665),this.interopOffset=t.get(40965),this.gpsOffset=t.get(34853),this.xmp=t.get(700),this.iptc=t.get(33723),this.icc=t.get(34675),this.options.sanitize&&(t.delete(34665),t.delete(40965),t.delete(34853),t.delete(700),t.delete(33723),t.delete(34675)),t):void 0}async parseExifBlock(){if(this.exif)return;if(this.ifd0||await this.parseIfd0Block(),void 0===this.exifOffset)return;this.file.tiff&&await this.file.ensureChunk(this.exifOffset,Ie(this.options));let e=this.parseBlock(this.exifOffset,"exif");return this.interopOffset||(this.interopOffset=e.get(40965)),this.makerNote=e.get(37500),this.userComment=e.get(37510),this.options.sanitize&&(e.delete(40965),e.delete(37500),e.delete(37510)),this.unpack(e,41728),this.unpack(e,41729),e}unpack(e,t){let n=e.get(t);n&&1===n.length&&e.set(t,n[0])}async parseGpsBlock(){if(this.gps)return;if(this.ifd0||await this.parseIfd0Block(),void 0===this.gpsOffset)return;let e=this.parseBlock(this.gpsOffset,"gps");return e&&e.has(2)&&e.has(4)&&(e.set("latitude",Bt(...e.get(2),e.get(1))),e.set("longitude",Bt(...e.get(4),e.get(3)))),e}async parseInteropBlock(){if(!this.interop&&(this.ifd0||await this.parseIfd0Block(),void 0!==this.interopOffset||this.exif||await this.parseExifBlock(),void 0!==this.interopOffset))return this.parseBlock(this.interopOffset,"interop")}async parseThumbnailBlock(e=!1){if(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||e))return this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,"ifd1"),this.ifd1Parsed=!0),this.ifd1}async extractThumbnail(){if(this.headerParsed||this.parseHeader(),this.ifd1Parsed||await this.parseThumbnailBlock(!0),void 0===this.ifd1)return;let e=this.ifd1.get(513),t=this.ifd1.get(514);return this.chunk.getUint8Array(e,t)}get image(){return this.ifd0}get thumbnail(){return this.ifd1}createOutput(){let e,t,n,r={};for(t of st)if(e=this[t],!je(e))if(n=this.canTranslate?this.translateBlock(e,t):Object.fromEntries(e),this.options.mergeOutput){if("ifd1"===t)continue;Object.assign(r,n)}else r[t]=n;return this.makerNote&&(r.makerNote=this.makerNote),this.userComment&&(r.userComment=this.userComment),r}assignToOutput(e,t){if(this.globalOptions.mergeOutput)Object.assign(e,t);else for(let[n,r]of Object.entries(t))this.assignObjectToOutput(e,n,r)}}function Bt(e,t,n,r){var i=e+t/60+n/3600;return"S"!==r&&"W"!==r||(i*=-1),i}_e(xt,"type","tiff"),_e(xt,"headerLength",10),Ve.set("tiff",xt);Object.freeze({__proto__:null,default:Ot,Exifr:wt,fileParsers:qe,segmentParsers:Ve,fileReaders:We,tagKeys:tt,tagValues:nt,tagRevivers:rt,createDictionary:Ze,extendDictionary:et,fetchUrlAsArrayBuffer:Ye,readBlobAsArrayBuffer:Qe,chunkedProps:it,otherSegments:at,segments:ot,tiffBlocks:st,segmentsAndBlocks:lt,tiffExtractables:ut,inheritables:ct,allFormatters:pt,Options:vt,parse:Pt});const Tt={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1};Object.assign({},Tt,{firstChunkSize:4e4,gps:[1,2,3,4]});Object.assign({},Tt,{tiff:!1,ifd1:!0,mergeOutput:!1});const Et=Object.assign({},Tt,{firstChunkSize:4e4,ifd0:[274]});const Ut=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}});let jt=!0,Nt=!0;if("object"==typeof navigator){let e=navigator.userAgent;if(e.includes("iPad")||e.includes("iPhone")){let t=e.match(/OS (\d+)_(\d+)/);if(t){let[,e,n]=t,r=Number(e)+.1*Number(n);jt=r<13.4,Nt=!1}}else if(e.includes("OS X 10")){let[,t]=e.match(/OS X 10[_.](\d+)/);jt=Nt=Number(t)<15}if(e.includes("Chrome/")){let[,t]=e.match(/Chrome\/(\d+)/);jt=Nt=Number(t)<81}else if(e.includes("Firefox/")){let[,t]=e.match(/Firefox\/(\d+)/);jt=Nt=Number(t)<77}}async function It(e){let t=await async function(e){let t=new wt(Et);await t.read(e);let n=await t.parse();if(n&&n.ifd0)return n.ifd0[274]}(e);return Object.assign({canvas:jt,css:Nt},Ut[t])}class Mt extends Le{constructor(...e){super(...e),_e(this,"ranges",new Rt),0!==this.byteLength&&this.ranges.add(0,this.byteLength)}_tryExtend(e,t,n){if(0===e&&0===this.byteLength&&n){let e=new DataView(n.buffer||n,n.byteOffset,n.byteLength);this._swapDataView(e)}else{let n=e+t;if(n>this.byteLength){let{dataView:e}=this._extend(n);this._swapDataView(e)}}}_extend(e){let t;t=Ee?Te.allocUnsafe(e):new Uint8Array(e);let n=new DataView(t.buffer,t.byteOffset,t.byteLength);return t.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:t,dataView:n}}subarray(e,t,n=!1){return t=t||this._lengthToEnd(e),n&&this._tryExtend(e,t),this.ranges.add(e,t),super.subarray(e,t)}set(e,t,n=!1){n&&this._tryExtend(t,e.byteLength,e);let r=super.set(e,t);return this.ranges.add(t,r.byteLength),r}async ensureChunk(e,t){this.chunked&&(this.ranges.available(e,t)||await this.readChunk(e,t))}available(e,t){return this.ranges.available(e,t)}}class Rt{constructor(){_e(this,"list",[])}get length(){return this.list.length}add(e,t,n=0){let r=e+t,i=this.list.filter((t=>Lt(e,t.offset,r)||Lt(e,t.end,r)));if(i.length>0){e=Math.min(e,...i.map((e=>e.offset))),r=Math.max(r,...i.map((e=>e.end))),t=r-e;let n=i.shift();n.offset=e,n.length=t,n.end=r,this.list=this.list.filter((e=>!i.includes(e)))}else this.list.push({offset:e,length:t,end:r})}available(e,t){let n=e+t;return this.list.some((t=>t.offset<=e&&n<=t.end))}}function Lt(e,t,n){return e<=t&&t<=n}class zt extends Mt{constructor(e,t){super(0),_e(this,"chunksRead",0),this.input=e,this.options=t}async readWhole(){this.chunked=!1,await this.readChunk(this.nextChunkOffset)}async readChunked(){this.chunked=!0,await this.readChunk(0,this.options.firstChunkSize)}async readNextChunk(e=this.nextChunkOffset){if(this.fullyRead)return this.chunksRead++,!1;let t=this.options.chunkSize,n=await this.readChunk(e,t);return!!n&&n.byteLength===t}async readChunk(e,t){if(this.chunksRead++,0!==(t=this.safeWrapAddress(e,t)))return this._readChunk(e,t)}safeWrapAddress(e,t){return void 0!==this.size&&e+t>this.size?Math.max(0,this.size-e):t}get nextChunkOffset(){if(0!==this.ranges.list.length)return this.ranges.list[0].length}get canReadNextChunk(){return this.chunksRead<this.options.chunkLimit}get fullyRead(){return void 0!==this.size&&this.nextChunkOffset===this.size}read(){return this.options.chunked?this.readChunked():this.readWhole()}close(){}}We.set("blob",class extends zt{async readWhole(){this.chunked=!1;let e=await Qe(this.input);this._swapArrayBuffer(e)}readChunked(){return this.chunked=!0,this.size=this.input.size,super.readChunked()}async _readChunk(e,t){let n=t?e+t:void 0,r=this.input.slice(e,n),i=await Qe(r);return this.set(i,e,!0)}});const Ht={strings:{generatingThumbnails:"Generating thumbnails..."}};function qt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qt(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Wt=function(){return!!e})()}var Kt={thumbnailWidth:null,thumbnailHeight:null,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,lazy:!1},Gt=function(e){function t(e,n){var r;if((0,i.A)(this,t),r=function(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,Wt()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}(this,t,[e,Vt(Vt({},Kt),n)]),r.onFileAdded=function(e){!e.preview&&e.data&&Fe(e.type)&&!e.isRemote&&r.addToQueue(e.id)},r.onCancelRequest=function(e){var t=r.queue.indexOf(e.id);-1!==t&&r.queue.splice(t,1)},r.onFileRemoved=function(e){var t=r.queue.indexOf(e.id);-1!==t&&r.queue.splice(t,1),e.preview&&Se(e.preview)&&URL.revokeObjectURL(e.preview)},r.onRestored=function(){r.uppy.getFiles().filter((function(e){return e.isRestored})).forEach((function(e){e.preview&&!Se(e.preview)||r.addToQueue(e.id)}))},r.onAllFilesRemoved=function(){r.queue=[]},r.waitUntilAllProcessed=function(e){e.forEach((function(e){var t=r.uppy.getFile(e);r.uppy.emit("preprocess-progress",t,{mode:"indeterminate",message:r.i18n("generatingThumbnails")})}));var t=function(){e.forEach((function(e){var t=r.uppy.getFile(e);r.uppy.emit("preprocess-complete",t)}))};return new Promise((function(e){r.queueProcessing?r.uppy.once("thumbnail:all-generated",(function(){t(),e()})):(t(),e())}))},r.type="modifier",r.id=r.opts.id||"ThumbnailGenerator",r.title="Thumbnail Generator",r.queue=[],r.queueProcessing=!1,r.defaultThumbnailDimension=200,r.thumbnailType=r.opts.thumbnailType,r.defaultLocale=Ht,r.i18nInit(),r.opts.lazy&&r.opts.waitForThumbnailsBeforeUpload)throw new Error("ThumbnailGenerator: The `lazy` and `waitForThumbnailsBeforeUpload` options are mutually exclusive. Please ensure at most one of them is set to `true`.");return r}return(0,l.A)(t,e),(0,a.A)(t,[{key:"createThumbnail",value:function(e,t,n){var r=this,i=URL.createObjectURL(e.data),a=new Promise((function(e,t){var n=new Image;n.src=i,n.addEventListener("load",(function(){URL.revokeObjectURL(i),e(n)})),n.addEventListener("error",(function(e){URL.revokeObjectURL(i),t(e.error||new Error("Could not create thumbnail"))}))})),o=It(e.data).catch((function(){return 1}));return Promise.all([a,o]).then((function(e){var i=(0,de.A)(e,2),a=i[0],o=i[1],s=r.getProportionalDimensions(a,t,n,o.deg),l=function(e,t){var n=e.width,r=e.height;90!==t.deg&&270!==t.deg||(n=e.height,r=e.width);var i=document.createElement("canvas");i.width=n,i.height=r;var a=i.getContext("2d");return a.translate(n/2,r/2),t.canvas&&(a.rotate(t.rad),a.scale(t.scaleX,t.scaleY)),a.drawImage(e,-e.width/2,-e.height/2,e.width,e.height),i}(a,o);return function(e,t,n){try{e.getContext("2d").getImageData(0,0,1,1)}catch(e){if(18===e.code)return Promise.reject(new Error("cannot read image, probably an svg with external resources"))}return e.toBlob?new Promise((function(r){e.toBlob(r,t,n)})).then((function(e){if(null===e)throw new Error("cannot read image, probably an svg with external resources");return e})):Promise.resolve().then((function(){return ke(e.toDataURL(t,n),{})})).then((function(e){if(null===e)throw new Error("could not extract blob, probably an old browser");return e}))}(r.resizeImage(l,s.width,s.height),r.thumbnailType,80)})).then((function(e){return URL.createObjectURL(e)}))}},{key:"getProportionalDimensions",value:function(e,t,n,r){var i=e.width/e.height;return 90!==r&&270!==r||(i=e.height/e.width),null!=t?{width:t,height:Math.round(t/i)}:null!=n?{width:Math.round(n*i),height:n}:{width:this.defaultThumbnailDimension,height:Math.round(this.defaultThumbnailDimension/i)}}},{key:"resizeImage",value:function(e,t,n){var r=function(e){var t=e.width/e.height,n=5e6,r=4096,i=Math.floor(Math.sqrt(n*t)),a=Math.floor(n/Math.sqrt(n*t));if(i>r&&(i=r,a=Math.round(i/t)),a>r&&(a=r,i=Math.round(t*a)),e.width>i){var o=document.createElement("canvas");return o.width=i,o.height=a,o.getContext("2d").drawImage(e,0,0,i,a),o}return e}(e),i=Math.ceil(Math.log2(r.width/t));i<1&&(i=1);for(var a=t*Math.pow(2,i-1),o=n*Math.pow(2,i-1);i--;){var s=document.createElement("canvas");s.width=a,s.height=o,s.getContext("2d").drawImage(r,0,0,a,o),r=s,a=Math.round(a/2),o=Math.round(o/2)}return r}},{key:"setPreviewURL",value:function(e,t){this.uppy.setFileState(e,{preview:t})}},{key:"addToQueue",value:function(e){this.queue.push(e),!1===this.queueProcessing&&this.processQueue()}},{key:"processQueue",value:function(){var e=this;if(this.queueProcessing=!0,this.queue.length>0){var t=this.uppy.getFile(this.queue.shift());return t?this.requestThumbnail(t).catch((function(){})).then((function(){return e.processQueue()})):(this.uppy.log("[ThumbnailGenerator] file was removed before a thumbnail could be generated, but not removed from the queue. This is probably a bug","error"),Promise.resolve())}return this.queueProcessing=!1,this.uppy.log("[ThumbnailGenerator] Emptied thumbnail queue"),this.uppy.emit("thumbnail:all-generated"),Promise.resolve()}},{key:"requestThumbnail",value:function(e){var t=this;return Fe(e.type)&&!e.isRemote?this.createThumbnail(e,this.opts.thumbnailWidth,this.opts.thumbnailHeight).then((function(n){t.setPreviewURL(e.id,n),t.uppy.log("[ThumbnailGenerator] Generated thumbnail for ".concat(e.id)),t.uppy.emit("thumbnail:generated",t.uppy.getFile(e.id),n)})).catch((function(n){t.uppy.log("[ThumbnailGenerator] Failed thumbnail for ".concat(e.id,":"),"warning"),t.uppy.log(n,"warning"),t.uppy.emit("thumbnail:error",t.uppy.getFile(e.id),n)})):Promise.resolve()}},{key:"install",value:function(){this.uppy.on("file-removed",this.onFileRemoved),this.uppy.on("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("thumbnail:cancel",this.onCancelRequest)):(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("file-added",this.onFileAdded),this.uppy.on("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.addPreProcessor(this.waitUntilAllProcessed)}},{key:"uninstall",value:function(){this.uppy.off("file-removed",this.onFileRemoved),this.uppy.off("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("thumbnail:cancel",this.onCancelRequest)):(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("file-added",this.onFileAdded),this.uppy.off("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.removePreProcessor(this.waitUntilAllProcessed)}}])}(d.A);Gt.VERSION="3.1.0";var $t=n(18180),Xt=n(10826);const Yt=function(e){if("string"==typeof e){var t=document.querySelectorAll(e);return 0===t.length?null:Array.from(t)}return"object"===(0,$t.A)(e)&&(0,Xt.A)(e)?[e]:null},Qt=Array.from;n(66412);var Jt=n(71392),Zt=n(40178),en=n(87167),tn=n(46983);n(122);function nn(e,t,n,r){var i=r.onSuccess;e.readEntries((function(r){var a=[].concat((0,tn.A)(t),(0,tn.A)(r));r.length?queueMicrotask((function(){nn(e,a,n,{onSuccess:i})})):i(a)}),(function(e){n(e),i(t)}))}function rn(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return an(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?an(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function an(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function on(e){var t,n,r,i=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);i--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new sn(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function sn(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return sn=function(e){this.s=e,this.n=e.next},sn.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},"return":function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},"throw":function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new sn(e)}function ln(e,t){return null==e?e:{kind:e.isFile?"file":e.isDirectory?"directory":void 0,name:e.name,getFile:function(){return new Promise((function(t,n){return e.file(t,n)}))},values:function(){return(0,Jt.A)(p.mark((function n(){var r,i;return p.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.createReader(),n.next=3,(0,Zt.A)(new Promise((function(e){nn(r,[],t,{onSuccess:function(n){return e(n.map((function(e){return ln(e,t)})))}})})));case 3:return i=n.sent,n.delegateYield((0,en.A)(on(i),Zt.A),"t0",5);case 5:case"end":return n.stop()}}),n)})))()},isSameEntry:void 0}}function un(e,t,n){try{return void 0===n&&(n=void 0),(0,Jt.A)(p.mark((function r(){var i,a,o,s,l,u,c,d;return p.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=function(){return"".concat(t,"/").concat(e.name)},"file"!==e.kind){r.next=17;break}return r.next=4,(0,Zt.A)(e.getFile());case 4:if(null==(a=r.sent)){r.next=12;break}return a.relativePath=t?i():null,r.next=10,a;case 10:r.next=15;break;case 12:if(null==n){r.next=15;break}return r.next=15,n;case 15:r.next=51;break;case 17:if("directory"!==e.kind){r.next=48;break}o=!1,s=!1,r.prev=20,u=on(e.values());case 22:return r.next=24,(0,Zt.A)(u.next());case 24:if(!(o=!(c=r.sent).done)){r.next=30;break}return d=c.value,r.delegateYield((0,en.A)(on(un(d,t?i():e.name)),Zt.A),"t0",27);case 27:o=!1,r.next=22;break;case 30:r.next=36;break;case 32:r.prev=32,r.t1=r.catch(20),s=!0,l=r.t1;case 36:if(r.prev=36,r.prev=37,!o||null==u.return){r.next=41;break}return r.next=41,(0,Zt.A)(u.return());case 41:if(r.prev=41,!s){r.next=44;break}throw l;case 44:return r.finish(41);case 45:return r.finish(36);case 46:r.next=51;break;case 48:if(null==n){r.next=51;break}return r.next=51,n;case 51:case"end":return r.stop()}}),r,null,[[20,32,36,46],[37,,41,45]])})))()}catch(e){return Promise.reject(e)}}function cn(e,t){return pn.apply(this,arguments)}function pn(){return pn=(0,Jt.A)(p.mark((function e(t,n){var r,i,a,o,s,l;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Zt.A)(Promise.all(Array.from(t.items,function(){var e=(0,c.A)(p.mark((function e(t){var r,i;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=function(){return"function"==typeof t.getAsEntry?t.getAsEntry():t.webkitGetAsEntry()},null!=r||(r=ln(i(),n)),e.abrupt("return",{fileSystemHandle:r,lastResortFile:t.getAsFile()});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())));case 2:r=e.sent,i=rn(r),e.prev=4,i.s();case 6:if((a=i.n()).done){e.next=28;break}if(o=a.value,s=o.lastResortFile,null==(l=o.fileSystemHandle)){e.next=23;break}return e.prev=9,e.delegateYield((0,en.A)(on(un(l,"",s)),Zt.A),"t0",11);case 11:e.next=21;break;case 13:if(e.prev=13,e.t1=e.catch(9),null==s){e.next=20;break}return e.next=18,s;case 18:e.next=21;break;case 20:n(e.t1);case 21:e.next=26;break;case 23:if(null==s){e.next=26;break}return e.next=26,s;case 26:e.next=6;break;case 28:e.next=33;break;case 30:e.prev=30,e.t2=e.catch(4),i.e(e.t2);case 33:return e.prev=33,i.f(),e.finish(33);case 36:case"end":return e.stop()}}),e,null,[[4,30,33,36],[9,13]])}))),pn.apply(this,arguments)}function dn(e){var t=Qt(e.files);return Promise.resolve(t)}function hn(e){var t,n,r,i=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);i--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new fn(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function fn(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return fn=function(e){this.s=e,this.n=e.next},fn.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},"return":function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},"throw":function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new fn(e)}function gn(e,t){return vn.apply(this,arguments)}function vn(){return(vn=(0,c.A)(p.mark((function e(t,n){var r,i,a,o,s,l,u,c,d;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=null!=(r=null==n?void 0:n.logDropError)?r:Function.prototype,e.prev=1,a=[],o=!1,s=!1,e.prev=5,u=hn(cn(t,i));case 7:return e.next=9,u.next();case 9:if(!(o=!(c=e.sent).done)){e.next=15;break}d=c.value,a.push(d);case 12:o=!1,e.next=7;break;case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(5),s=!0,l=e.t0;case 21:if(e.prev=21,e.prev=22,!o||null==u.return){e.next=26;break}return e.next=26,u.return();case 26:if(e.prev=26,!s){e.next=29;break}throw l;case 29:return e.finish(26);case 30:return e.finish(21);case 31:return e.abrupt("return",a);case 34:return e.prev=34,e.t1=e.catch(1),e.abrupt("return",dn(t));case 37:case"end":return e.stop()}}),e,null,[[1,34],[5,17,21,31],[22,,26,30]])})))).apply(this,arguments)}n(48980),n(48598),n(25440);var mn=n(81700),yn=(n(59089),n(2892),n(25428),n(73772),n(30958),n(85661));n(5914);function bn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wn(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,Pn()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}function Pn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Pn=function(){return!!e})()}var On=function(e){function t(e){var n;return(0,i.A)(this,t),(n=wn(this,t,[e])).name="TimeoutError",n}return(0,l.A)(t,e),(0,a.A)(t)}((0,mn.A)(Error)),kn=function(e){function t(e){var n;return(0,i.A)(this,t),(n=wn(this,t)).name="AbortError",n.message=e,n}return(0,l.A)(t,e),(0,a.A)(t)}((0,mn.A)(Error)),Sn=function(e){return void 0===globalThis.DOMException?new kn(e):new DOMException(e)},Fn=function(e){var t=void 0===e.reason?Sn("This operation was aborted."):e.reason;return t instanceof Error?t:Sn(t)};function An(e,t,n,i){var a,o=new Promise((function(o,s){if("number"!=typeof t||1!==Math.sign(t))throw new TypeError("Expected `milliseconds` to be a positive number, got `".concat(t,"`"));if(t!==Number.POSITIVE_INFINITY){if(i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bn(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({customTimers:{setTimeout,clearTimeout}},i),i.signal){var l=i.signal;l.aborted&&s(Fn(l)),l.addEventListener("abort",(function(){s(Fn(l))}))}a=i.customTimers.setTimeout.call(void 0,(function(){if("function"!=typeof n){var r="string"==typeof n?n:"Promise timed out after ".concat(t," milliseconds"),i=n instanceof Error?n:new On(r);"function"==typeof e.cancel&&e.cancel(),s(i)}else try{o(n())}catch(e){s(e)}}),t),(0,c.A)(p.mark((function t(){return p.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.t0=o,t.next=4,e;case 4:t.t1=t.sent,(0,t.t0)(t.t1),t.next=11;break;case 8:t.prev=8,t.t2=t.catch(0),s(t.t2);case 11:return t.prev=11,i.customTimers.clearTimeout.call(void 0,a),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])})))()}else o(e)}));return o.clear=function(){clearTimeout(a),a=void 0},o}n(70761);function _n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Cn,Dn=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},xn=function(){return(0,a.A)((function e(){(0,i.A)(this,e),Cn.set(this,[])}),[{key:"enqueue",value:function(e,t){t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_n(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_n(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({priority:0},t);var n={priority:t.priority,run:e};if(this.size&&Dn(this,Cn,"f")[this.size-1].priority>=t.priority)Dn(this,Cn,"f").push(n);else{var i=function(e,t,n){for(var r=0,i=e.length;i>0;){var a=Math.trunc(i/2),o=r+a;n(e[o],t)<=0?(r=++o,i-=a+1):i=a}return r}(Dn(this,Cn,"f"),n,(function(e,t){return t.priority-e.priority}));Dn(this,Cn,"f").splice(i,0,n)}}},{key:"dequeue",value:function(){var e=Dn(this,Cn,"f").shift();return null==e?void 0:e.run}},{key:"filter",value:function(e){return Dn(this,Cn,"f").filter((function(t){return t.priority===e.priority})).map((function(e){return e.run}))}},{key:"size",get:function(){return Dn(this,Cn,"f").length}}])}();Cn=new WeakMap;const Bn=xn;function Tn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function En(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tn(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Un(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,jn()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}function jn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(jn=function(){return!!e})()}var Nn,In,Mn,Rn,Ln,zn,Hn,qn,Vn,Wn,Kn,Gn,$n,Xn,Yn,Qn,Jn,Zn,er,tr,nr,rr,ir,ar,or,sr,lr=function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},ur=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},cr=function(e){function t(){return(0,i.A)(this,t),Un(this,t,arguments)}return(0,l.A)(t,e),(0,a.A)(t)}((0,mn.A)(Error)),pr=function(e){function t(e){var n,r,a,o,s;if((0,i.A)(this,t),n=Un(this,t),Nn.add(n),In.set(n,void 0),Mn.set(n,void 0),Rn.set(n,0),Ln.set(n,void 0),zn.set(n,void 0),Hn.set(n,0),qn.set(n,void 0),Vn.set(n,void 0),Wn.set(n,void 0),Kn.set(n,void 0),Gn.set(n,0),$n.set(n,void 0),Xn.set(n,void 0),Yn.set(n,void 0),Object.defineProperty(n,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!("number"==typeof(e=En({carryoverConcurrencyCount:!1,intervalCap:Number.POSITIVE_INFINITY,interval:0,concurrency:Number.POSITIVE_INFINITY,autoStart:!0,queueClass:Bn},e)).intervalCap&&e.intervalCap>=1))throw new TypeError("Expected `intervalCap` to be a number from 1 and up, got `".concat(null!==(a=null===(r=e.intervalCap)||void 0===r?void 0:r.toString())&&void 0!==a?a:"","` (").concat((0,$t.A)(e.intervalCap),")"));if(void 0===e.interval||!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError("Expected `interval` to be a finite number >= 0, got `".concat(null!==(s=null===(o=e.interval)||void 0===o?void 0:o.toString())&&void 0!==s?s:"","` (").concat((0,$t.A)(e.interval),")"));return lr(n,In,e.carryoverConcurrencyCount,"f"),lr(n,Mn,e.intervalCap===Number.POSITIVE_INFINITY||0===e.interval,"f"),lr(n,Ln,e.intervalCap,"f"),lr(n,zn,e.interval,"f"),lr(n,Wn,new e.queueClass,"f"),lr(n,Kn,e.queueClass,"f"),n.concurrency=e.concurrency,n.timeout=e.timeout,lr(n,Yn,!0===e.throwOnTimeout,"f"),lr(n,Xn,!1===e.autoStart,"f"),n}return(0,l.A)(t,e),(0,a.A)(t,[{key:"concurrency",get:function(){return ur(this,$n,"f")},set:function(e){if(!("number"==typeof e&&e>=1))throw new TypeError("Expected `concurrency` to be a number from 1 and up, got `".concat(e,"` (").concat((0,$t.A)(e),")"));lr(this,$n,e,"f"),ur(this,Nn,"m",ar).call(this)}},{key:"add",value:(u=(0,c.A)(p.mark((function e(t){var n,r=this,i=arguments;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},n=En({timeout:this.timeout,throwOnTimeout:ur(this,Yn,"f")},n),e.abrupt("return",new Promise((function(e,i){ur(r,Wn,"f").enqueue((0,c.A)(p.mark((function a(){var o,s,l,u,c;return p.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(lr(r,Gn,(s=ur(r,Gn,"f"),++s),"f"),lr(r,Rn,(l=ur(r,Rn,"f"),++l),"f"),a.prev=2,!(null===(o=n.signal)||void 0===o?void 0:o.aborted)){a.next=5;break}throw new cr("The task was aborted.");case 5:return u=t({signal:n.signal}),n.timeout&&(u=An(Promise.resolve(u),n.timeout)),n.signal&&(u=Promise.race([u,ur(r,Nn,"m",or).call(r,n.signal)])),a.next=10,u;case 10:c=a.sent,e(c),r.emit("completed",c),a.next=22;break;case 15:if(a.prev=15,a.t0=a.catch(2),!(a.t0 instanceof On)||n.throwOnTimeout){a.next=20;break}return e(),a.abrupt("return");case 20:i(a.t0),r.emit("error",a.t0);case 22:return a.prev=22,ur(r,Nn,"m",Zn).call(r),a.finish(22);case 25:case"end":return a.stop()}}),a,null,[[2,15,22,25]])}))),n),r.emit("add"),ur(r,Nn,"m",nr).call(r)})));case 3:case"end":return e.stop()}}),e,this)}))),function(e){return u.apply(this,arguments)})},{key:"addAll",value:(s=(0,c.A)(p.mark((function e(t,n){var r=this;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t.map(function(){var e=(0,c.A)(p.mark((function e(t){return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.add(t,n));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())));case 1:case"end":return e.stop()}}),e)}))),function(e,t){return s.apply(this,arguments)})},{key:"start",value:function(){return ur(this,Xn,"f")?(lr(this,Xn,!1,"f"),ur(this,Nn,"m",ar).call(this),this):this}},{key:"pause",value:function(){lr(this,Xn,!0,"f")}},{key:"clear",value:function(){lr(this,Wn,new(ur(this,Kn,"f")),"f")}},{key:"onEmpty",value:(o=(0,c.A)(p.mark((function e(){return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==ur(this,Wn,"f").size){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,ur(this,Nn,"m",sr).call(this,"empty");case 4:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"onSizeLessThan",value:(r=(0,c.A)(p.mark((function e(t){var n=this;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(ur(this,Wn,"f").size<t)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,ur(this,Nn,"m",sr).call(this,"next",(function(){return ur(n,Wn,"f").size<t}));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"onIdle",value:(n=(0,c.A)(p.mark((function e(){return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==ur(this,Gn,"f")||0!==ur(this,Wn,"f").size){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,ur(this,Nn,"m",sr).call(this,"idle");case 4:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"size",get:function(){return ur(this,Wn,"f").size}},{key:"sizeBy",value:function(e){return ur(this,Wn,"f").filter(e).length}},{key:"pending",get:function(){return ur(this,Gn,"f")}},{key:"isPaused",get:function(){return ur(this,Xn,"f")}}]);var n,r,o,s,u}(yn);In=new WeakMap,Mn=new WeakMap,Rn=new WeakMap,Ln=new WeakMap,zn=new WeakMap,Hn=new WeakMap,qn=new WeakMap,Vn=new WeakMap,Wn=new WeakMap,Kn=new WeakMap,Gn=new WeakMap,$n=new WeakMap,Xn=new WeakMap,Yn=new WeakMap,Nn=new WeakSet,Qn=function(){return ur(this,Mn,"f")||ur(this,Rn,"f")<ur(this,Ln,"f")},Jn=function(){return ur(this,Gn,"f")<ur(this,$n,"f")},Zn=function(){var e;lr(this,Gn,(e=ur(this,Gn,"f"),--e),"f"),ur(this,Nn,"m",nr).call(this),this.emit("next")},er=function(){ur(this,Nn,"m",ir).call(this),ur(this,Nn,"m",rr).call(this),lr(this,Vn,void 0,"f")},tr=function(){var e=this,t=Date.now();if(void 0===ur(this,qn,"f")){var n=ur(this,Hn,"f")-t;if(!(n<0))return void 0===ur(this,Vn,"f")&&lr(this,Vn,setTimeout((function(){ur(e,Nn,"m",er).call(e)}),n),"f"),!0;lr(this,Rn,ur(this,In,"f")?ur(this,Gn,"f"):0,"f")}return!1},nr=function(){if(0===ur(this,Wn,"f").size)return ur(this,qn,"f")&&clearInterval(ur(this,qn,"f")),lr(this,qn,void 0,"f"),this.emit("empty"),0===ur(this,Gn,"f")&&this.emit("idle"),!1;if(!ur(this,Xn,"f")){var e=!ur(this,Nn,"a",tr);if(ur(this,Nn,"a",Qn)&&ur(this,Nn,"a",Jn)){var t=ur(this,Wn,"f").dequeue();return!!t&&(this.emit("active"),t(),e&&ur(this,Nn,"m",rr).call(this),!0)}}return!1},rr=function(){var e=this;ur(this,Mn,"f")||void 0!==ur(this,qn,"f")||(lr(this,qn,setInterval((function(){ur(e,Nn,"m",ir).call(e)}),ur(this,zn,"f")),"f"),lr(this,Hn,Date.now()+ur(this,zn,"f"),"f"))},ir=function(){0===ur(this,Rn,"f")&&0===ur(this,Gn,"f")&&ur(this,qn,"f")&&(clearInterval(ur(this,qn,"f")),lr(this,qn,void 0,"f")),lr(this,Rn,ur(this,In,"f")?ur(this,Gn,"f"):0,"f"),ur(this,Nn,"m",ar).call(this)},ar=function(){for(;ur(this,Nn,"m",nr).call(this););},or=function(){var e=(0,c.A)(p.mark((function e(t){return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){t.addEventListener("abort",(function(){n(new cr("The task was aborted."))}),{once:!0})})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),sr=function(){var e=(0,c.A)(p.mark((function e(t,n){var r=this;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var i=function(){n&&!n()||(r.off(t,i),e())};r.on(t,i)})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();const dr=pr;var hr,fr,gr,vr,mr=n(21214),yr=(n(88431),n(48718),n(23215),0),br=[],wr=P.fF,Pr=wr.__b,Or=wr.__r,kr=wr.diffed,Sr=wr.__c,Fr=wr.unmount,Ar=wr.__;function _r(e,t){wr.__h&&wr.__h(fr,e,yr||t),yr=0;var n=fr.__H||(fr.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function Cr(e){return yr=1,function(e,t,n){var r=_r(hr++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):Mr(void 0,t),function(e){var t=r.__N?r.__N[0]:r.__[0],n=r.t(t,e);t!==n&&(r.__N=[n,r.__[1]],r.__c.setState({}))}],r.__c=fr,!fr.__f)){var i=function(e,t,n){if(!r.__c.__H)return!0;var i=r.__c.__H.__.filter((function(e){return!!e.__c}));if(i.every((function(e){return!e.__N})))return!a||a.call(this,e,t,n);var o=r.__c.props!==e;return i.forEach((function(e){if(e.__N){var t=e.__[0];e.__=e.__N,e.__N=void 0,t!==e.__[0]&&(o=!0)}})),a&&a.call(this,e,t,n)||o};fr.__f=!0;var a=fr.shouldComponentUpdate,o=fr.componentWillUpdate;fr.componentWillUpdate=function(e,t,n){if(this.__e){var r=a;a=void 0,i(e,t,n),a=r}o&&o.call(this,e,t,n)},fr.shouldComponentUpdate=i}return r.__N||r.__}(Mr,e)}function Dr(e,t){var n=_r(hr++,3);!wr.__s&&Ir(n.__H,t)&&(n.__=e,n.u=t,fr.__H.__h.push(n))}function xr(e,t){var n=_r(hr++,7);return Ir(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function Br(e,t){return yr=8,xr((function(){return e}),t)}function Tr(){for(var e;e=br.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(jr),e.__H.__h.forEach(Nr),e.__H.__h=[]}catch(t){e.__H.__h=[],wr.__e(t,e.__v)}}wr.__b=function(e){fr=null,Pr&&Pr(e)},wr.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),Ar&&Ar(e,t)},wr.__r=function(e){Or&&Or(e),hr=0;var t=(fr=e.__c).__H;t&&(gr===fr?(t.__h=[],fr.__h=[],t.__.forEach((function(e){e.__N&&(e.__=e.__N),e.u=e.__N=void 0}))):(t.__h.forEach(jr),t.__h.forEach(Nr),t.__h=[],hr=0)),gr=fr},wr.diffed=function(e){kr&&kr(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==br.push(t)&&vr===wr.requestAnimationFrame||((vr=wr.requestAnimationFrame)||Ur)(Tr)),t.__H.__.forEach((function(e){e.u&&(e.__H=e.u),e.u=void 0}))),gr=fr=null},wr.__c=function(e,t){t.some((function(e){try{e.__h.forEach(jr),e.__h=e.__h.filter((function(e){return!e.__||Nr(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],wr.__e(n,e.__v)}})),Sr&&Sr(e,t)},wr.unmount=function(e){Fr&&Fr(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach((function(e){try{jr(e)}catch(e){t=e}})),n.__H=void 0,t&&wr.__e(t,n.__v))};var Er="function"==typeof requestAnimationFrame;function Ur(e){var t,n=function(){clearTimeout(r),Er&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);Er&&(t=requestAnimationFrame(n))}function jr(e){var t=fr,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),fr=t}function Nr(e){var t=fr;e.__c=e.__(),fr=t}function Ir(e,t){return!e||e.length!==t.length||t.some((function(t,n){return t!==e[n]}))}function Mr(e,t){return"function"==typeof t?t(e):t}function Rr(){return(0,P.h)("svg",{width:"26",height:"26",viewBox:"0 0 26 26",xmlns:"http://www.w3.org/2000/svg"},(0,P.h)("g",{fill:"none","fill-rule":"evenodd"},(0,P.h)("circle",{fill:"#FFF",cx:"13",cy:"13",r:"13"}),(0,P.h)("path",{d:"M21.64 13.205c0-.639-.057-1.252-.164-1.841H13v3.481h4.844a4.14 4.14 0 01-1.796 2.716v2.259h2.908c1.702-1.567 2.684-3.875 2.684-6.615z",fill:"#4285F4","fill-rule":"nonzero"}),(0,P.h)("path",{d:"M13 22c2.43 0 4.467-.806 5.956-2.18l-2.908-2.259c-.806.54-1.837.86-3.048.86-2.344 0-4.328-1.584-5.036-3.711H4.957v2.332A8.997 8.997 0 0013 22z",fill:"#34A853","fill-rule":"nonzero"}),(0,P.h)("path",{d:"M7.964 14.71A5.41 5.41 0 017.682 13c0-.593.102-1.17.282-1.71V8.958H4.957A8.996 8.996 0 004 13c0 1.452.348 2.827.957 4.042l3.007-2.332z",fill:"#FBBC05","fill-rule":"nonzero"}),(0,P.h)("path",{d:"M13 7.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C17.463 4.891 15.426 4 13 4a8.997 8.997 0 00-8.043 4.958l3.007 2.332C8.672 9.163 10.656 7.58 13 7.58z",fill:"#EA4335","fill-rule":"nonzero"}),(0,P.h)("path",{d:"M4 4h18v18H4z"})))}function Lr(e){var t=e.pluginName,n=e.i18n,r=e.onAuth,i="Google Drive"===t,a=Br((function(e){e.preventDefault(),r()}),[r]);return(0,P.h)("form",{onSubmit:a},i?(0,P.h)("button",{type:"submit",className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Provider-authBtn uppy-Provider-btn-google","data-uppy-super-focusable":!0},(0,P.h)(Rr,null),n("signInWithGoogle")):(0,P.h)("button",{type:"submit",className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Provider-authBtn","data-uppy-super-focusable":!0},n("authenticateWith",{pluginName:t})))}var zr=function(e){var t=e.pluginName,n=e.i18n,r=e.onAuth;return(0,P.h)(Lr,{pluginName:t,i18n:n,onAuth:r})};function Hr(e){var t=e.loading,n=e.pluginName,r=e.pluginIcon,i=e.i18n,a=e.handleAuth,o=e.renderForm,s=void 0===o?zr:o;return(0,P.h)("div",{className:"uppy-Provider-auth"},(0,P.h)("div",{className:"uppy-Provider-authIcon"},r()),(0,P.h)("div",{className:"uppy-Provider-authTitle"},i("authenticateWithTitle",{pluginName:n})),(0,P.h)("div",{className:"uppy-Provider-authForm"},s({pluginName:n,i18n:i,loading:t,onAuth:a})))}function qr(e){var t=e.i18n,n=e.logout,r=e.username;return(0,P.h)(P.FK,null,(0,P.h)("span",{className:"uppy-ProviderBrowser-user",key:"username"},r),(0,P.h)("button",{type:"button",onClick:n,className:"uppy-u-reset uppy-c-btn uppy-ProviderBrowser-userLogout",key:"logout"},t("logOut")))}var Vr=function(e){var t=e.getFolder,n=e.title,r=e.isLast;return(0,P.h)(P.FK,null,(0,P.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn",onClick:t},n),r?"":" / ")};function Wr(e){var t=e.getFolder,n=e.title,r=e.breadcrumbsIcon,i=e.breadcrumbs;return(0,P.h)("div",{className:"uppy-Provider-breadcrumbs"},(0,P.h)("div",{className:"uppy-Provider-breadcrumbsIcon"},r),i.map((function(e,r){return(0,P.h)(Vr,{key:e.id,getFolder:function(){return t(e.requestPath,e.name)},title:0===r?n:e.name,isLast:r+1===i.length})})))}function Kr(e){return(0,P.h)(P.FK,null,e.showBreadcrumbs&&(0,P.h)(Wr,{getFolder:e.getFolder,breadcrumbs:e.breadcrumbs,breadcrumbsIcon:e.pluginIcon&&e.pluginIcon(),title:e.title}),(0,P.h)(qr,{logout:e.logout,username:e.username,i18n:e.i18n}))}n(5746);var Gr=n(77943);function $r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$r(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Yr(e){return Xr(Xr({},e),{},{type:e.mimeType,extension:e.name?(0,Gr.A)(e.name).extension:null})}var Qr=["data","rowHeight","renderRow","overscanCount"];function Jr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jr(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ei(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ei=function(){return!!e})()}function ti(){return ti=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ti.apply(this,arguments)}var ni={position:"relative",width:"100%",minHeight:"100%"},ri={position:"absolute",top:0,left:0,width:"100%",overflow:"visible"},ii=function(e){function t(e){var n;return(0,i.A)(this,t),n=function(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,ei()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}(this,t,[e]),n.handleScroll=function(){n.setState({offset:n.base.scrollTop})},n.handleResize=function(){n.resize()},n.focusElement=null,n.state={offset:0,height:0},n}return(0,l.A)(t,e),(0,a.A)(t,[{key:"componentDidMount",value:function(){this.resize(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUpdate",value:function(){this.base.contains(document.activeElement)&&(this.focusElement=document.activeElement)}},{key:"componentDidUpdate",value:function(){this.focusElement&&this.focusElement.parentNode&&document.activeElement!==this.focusElement&&this.focusElement.focus(),this.focusElement=null,this.resize()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize)}},{key:"resize",value:function(){this.state.height!==this.base.offsetHeight&&this.setState({height:this.base.offsetHeight})}},{key:"render",value:function(e){var t=e.data,n=e.rowHeight,r=e.renderRow,i=e.overscanCount,a=void 0===i?10:i,o=(0,he.A)(e,Qr),s=this.state,l=s.offset,u=s.height,c=Math.floor(l/n),p=Math.floor(u/n);a&&(c=Math.max(0,c-c%a),p+=a);var d=c+p+4,h=t.slice(c,d),f=Zr(Zr({},ni),{},{height:t.length*n}),g=Zr(Zr({},ri),{},{top:c*n});return(0,P.h)("div",ti({onScroll:this.handleScroll},o),(0,P.h)("div",{role:"presentation",style:f},(0,P.h)("div",{role:"presentation",style:g},h.map(r))))}}])}(P.uA);const ai=ii;var oi=n(51391);function si(e){var t=e.search,n=e.searchOnInput,r=e.searchTerm,i=e.showButton,a=e.inputLabel,o=e.clearSearchLabel,s=e.buttonLabel,l=e.clearSearch,u=e.inputClassName,c=e.buttonCSSClassName,p=Cr(null!=r?r:""),d=(0,de.A)(p,2),h=d[0],f=d[1],g=Br((function(e){e.preventDefault(),t(h)}),[t,h]),v=Br((function(e){var r=e.target.value;f(r),n&&t(r)}),[f,n,t]),m=Cr((function(){var e=document.createElement("form");return e.setAttribute("tabindex","-1"),e.id=(0,oi.A)(),e})),y=(0,de.A)(m,1)[0];return Dr((function(){return document.body.appendChild(y),y.addEventListener("submit",g),function(){y.removeEventListener("submit",g),document.body.removeChild(y)}}),[y,g]),(0,P.h)(P.FK,null,(0,P.h)("input",{className:"uppy-u-reset ".concat(u),type:"search","aria-label":a,placeholder:a,value:h,onInput:v,form:y.id,"data-uppy-super-focusable":!0}),!i&&(0,P.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-ProviderBrowser-searchFilterIcon",width:"12",height:"12",viewBox:"0 0 12 12"},(0,P.h)("path",{d:"M8.638 7.99l3.172 3.172a.492.492 0 1 1-.697.697L7.91 8.656a4.977 4.977 0 0 1-2.983.983C2.206 9.639 0 7.481 0 4.819 0 2.158 2.206 0 4.927 0c2.721 0 4.927 2.158 4.927 4.82a4.74 4.74 0 0 1-1.216 3.17zm-3.71.685c2.176 0 3.94-1.726 3.94-3.856 0-2.129-1.764-3.855-3.94-3.855C2.75.964.984 2.69.984 4.819c0 2.13 1.765 3.856 3.942 3.856z"})),!i&&h&&(0,P.h)("button",{className:"uppy-u-reset uppy-ProviderBrowser-searchFilterReset",type:"button","aria-label":o,title:o,onClick:function(){f(""),l&&l()}},(0,P.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",viewBox:"0 0 19 19"},(0,P.h)("path",{d:"M17.318 17.232L9.94 9.854 9.586 9.5l-.354.354-7.378 7.378h.707l-.62-.62v.706L9.318 9.94l.354-.354-.354-.354L1.94 1.854v.707l.62-.62h-.706l7.378 7.378.354.354.354-.354 7.378-7.378h-.707l.622.62v-.706L9.854 9.232l-.354.354.354.354 7.378 7.378.708-.707-7.38-7.378v.708l7.38-7.38.353-.353-.353-.353-.622-.622-.353-.353-.354.352-7.378 7.38h.708L2.56 1.23 2.208.88l-.353.353-.622.62-.353.355.352.353 7.38 7.38v-.708l-7.38 7.38-.353.353.352.353.622.622.353.353.354-.353 7.38-7.38h-.708l7.38 7.38z"}))),i&&(0,P.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary ".concat(c),type:"submit",form:y.id},s))}function li(e){var t=e.cancel,n=e.done,r=e.i18n,i=e.selected;return(0,P.h)("div",{className:"uppy-ProviderBrowser-footer"},(0,P.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary",onClick:n,type:"button"},r("selectX",{smart_count:i})),(0,P.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-link",onClick:t,type:"button"},r("cancel")))}function ui(){return(0,P.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:11,height:14.5,viewBox:"0 0 44 58"},(0,P.h)("path",{d:"M27.437.517a1 1 0 0 0-.094.03H4.25C2.037.548.217 2.368.217 4.58v48.405c0 2.212 1.82 4.03 4.03 4.03H39.03c2.21 0 4.03-1.818 4.03-4.03V15.61a1 1 0 0 0-.03-.28 1 1 0 0 0 0-.093 1 1 0 0 0-.03-.032 1 1 0 0 0 0-.03 1 1 0 0 0-.032-.063 1 1 0 0 0-.03-.063 1 1 0 0 0-.032 0 1 1 0 0 0-.03-.063 1 1 0 0 0-.032-.03 1 1 0 0 0-.03-.063 1 1 0 0 0-.063-.062l-14.593-14a1 1 0 0 0-.062-.062A1 1 0 0 0 28 .708a1 1 0 0 0-.374-.157 1 1 0 0 0-.156 0 1 1 0 0 0-.03-.03l-.003-.003zM4.25 2.547h22.218v9.97c0 2.21 1.82 4.03 4.03 4.03h10.564v36.438a2.02 2.02 0 0 1-2.032 2.032H4.25c-1.13 0-2.032-.9-2.032-2.032V4.58c0-1.13.902-2.032 2.03-2.032zm24.218 1.345l10.375 9.937.75.718H30.5c-1.13 0-2.032-.9-2.032-2.03V3.89z"}))}function ci(){return(0,P.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",style:{minWidth:16,marginRight:3},viewBox:"0 0 276.157 276.157"},(0,P.h)("path",{d:"M273.08 101.378c-3.3-4.65-8.86-7.32-15.254-7.32h-24.34V67.59c0-10.2-8.3-18.5-18.5-18.5h-85.322c-3.63 0-9.295-2.875-11.436-5.805l-6.386-8.735c-4.982-6.814-15.104-11.954-23.546-11.954H58.73c-9.292 0-18.638 6.608-21.737 15.372l-2.033 5.752c-.958 2.71-4.72 5.37-7.596 5.37H18.5C8.3 49.09 0 57.39 0 67.59v167.07c0 .886.16 1.73.443 2.52.152 3.306 1.18 6.424 3.053 9.064 3.3 4.652 8.86 7.32 15.255 7.32h188.487c11.395 0 23.27-8.425 27.035-19.18l40.677-116.188c2.11-6.035 1.43-12.164-1.87-16.816zM18.5 64.088h8.864c9.295 0 18.64-6.607 21.738-15.37l2.032-5.75c.96-2.712 4.722-5.373 7.597-5.373h29.565c3.63 0 9.295 2.876 11.437 5.806l6.386 8.735c4.982 6.815 15.104 11.954 23.546 11.954h85.322c1.898 0 3.5 1.602 3.5 3.5v26.47H69.34c-11.395 0-23.27 8.423-27.035 19.178L15 191.23V67.59c0-1.898 1.603-3.5 3.5-3.5zm242.29 49.15l-40.676 116.188c-1.674 4.78-7.812 9.135-12.877 9.135H18.75c-1.447 0-2.576-.372-3.02-.997-.442-.625-.422-1.814.057-3.18l40.677-116.19c1.674-4.78 7.812-9.134 12.877-9.134h188.487c1.448 0 2.577.372 3.02.997.443.625.423 1.814-.056 3.18z"}))}function pi(){return(0,P.h)("svg",{"aria-hidden":"true",focusable:"false",style:{width:16,marginRight:4},viewBox:"0 0 58 58"},(0,P.h)("path",{d:"M36.537 28.156l-11-7a1.005 1.005 0 0 0-1.02-.033C24.2 21.3 24 21.635 24 22v14a1 1 0 0 0 1.537.844l11-7a1.002 1.002 0 0 0 0-1.688zM26 34.18V23.82L34.137 29 26 34.18z"}),(0,P.h)("path",{d:"M57 6H1a1 1 0 0 0-1 1v44a1 1 0 0 0 1 1h56a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1zM10 28H2v-9h8v9zm-8 2h8v9H2v-9zm10 10V8h34v42H12V40zm44-12h-8v-9h8v9zm-8 2h8v9h-8v-9zm8-22v9h-8V8h8zM2 8h8v9H2V8zm0 42v-9h8v9H2zm54 0h-8v-9h8v9z"}))}function di(e){var t=e.itemIconString;if(null===t)return null;switch(t){case"file":return(0,P.h)(ui,null);case"folder":return(0,P.h)(ci,null);case"video":return(0,P.h)(pi,null);default:var n=e.alt;return(0,P.h)("img",{src:t,alt:n,referrerPolicy:"no-referrer",loading:"lazy",width:16,height:16})}}const hi=function(e){var t=e.className,n=e.isDisabled,r=e.restrictionError,i=e.isChecked,a=e.title,o=e.itemIconEl,s=e.showTitles,l=e.toggleCheckbox,u=e.recordShiftKeyPress,c=e.id,p=e.children,d=O("uppy-u-reset","uppy-ProviderBrowserItem-checkbox","uppy-ProviderBrowserItem-checkbox--grid",{"uppy-ProviderBrowserItem-checkbox--is-checked":i});return(0,P.h)("li",{className:t,title:n?null==r?void 0:r.message:void 0},(0,P.h)("input",{type:"checkbox",className:d,onChange:l,onKeyDown:u,onMouseDown:u,name:"listitem",id:c,checked:i,disabled:n,"data-uppy-super-focusable":!0}),(0,P.h)("label",{htmlFor:c,"aria-label":a,className:"uppy-u-reset uppy-ProviderBrowserItem-inner"},o,s&&a,p))};function fi(e){var t=e.className,n=e.isDisabled,r=e.restrictionError,i=e.isCheckboxDisabled,a=e.isChecked,o=e.toggleCheckbox,s=e.recordShiftKeyPress,l=e.type,u=e.id,c=e.itemIconEl,p=e.title,d=e.handleFolderClick,h=e.showTitles,f=e.i18n;return(0,P.h)("li",{className:t,title:n?null==r?void 0:r.message:void 0},i?null:(0,P.h)("input",{type:"checkbox",className:"uppy-u-reset uppy-ProviderBrowserItem-checkbox ".concat(a?"uppy-ProviderBrowserItem-checkbox--is-checked":""),onChange:o,onKeyDown:s,onMouseDown:s,name:"listitem",id:u,checked:a,"aria-label":"file"===l?null:f("allFilesFromFolderNamed",{name:p}),disabled:n,"data-uppy-super-focusable":!0}),"file"===l?(0,P.h)("label",{htmlFor:u,className:"uppy-u-reset uppy-ProviderBrowserItem-inner"},(0,P.h)("div",{className:"uppy-ProviderBrowserItem-iconWrap"},c),h&&p):(0,P.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-ProviderBrowserItem-inner",onClick:d,"aria-label":f("openFolderNamed",{name:p})},(0,P.h)("div",{className:"uppy-ProviderBrowserItem-iconWrap"},c),h&&p?(0,P.h)("span",null,p):f("unnamed")))}function gi(){return gi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gi.apply(this,arguments)}function vi(e){var t=e.author,n=e.getItemIcon,r=e.isChecked,i=e.isDisabled,a=e.viewType,o=n(),s=O("uppy-ProviderBrowserItem",{"uppy-ProviderBrowserItem--selected":r},{"uppy-ProviderBrowserItem--disabled":i},{"uppy-ProviderBrowserItem--noPreview":"video"===o}),l=(0,P.h)(di,{itemIconString:o});switch(a){case"grid":return(0,P.h)(hi,gi({},e,{className:s,itemIconEl:l}));case"list":return(0,P.h)(fi,gi({},e,{className:s,itemIconEl:l}));case"unsplash":return(0,P.h)(hi,gi({},e,{className:s,itemIconEl:l}),(0,P.h)("a",{href:"".concat(t.url,"?utm_source=Companion&utm_medium=referral"),target:"_blank",rel:"noopener noreferrer",className:"uppy-ProviderBrowserItem-author",tabIndex:-1},t.name));default:throw new Error("There is no such type ".concat(a))}}function mi(e){var t=e.currentSelection,n=e.uppyFiles,r=e.viewType,i=e.isChecked,a=e.toggleCheckbox,o=e.recordShiftKeyPress,s=e.showTitles,l=e.i18n,u=e.validateRestrictions,c=e.getNextFolder,p=e.f;if(p.isFolder)return vi({showTitles:s,viewType:r,i18n:l,id:p.id,title:p.name,getItemIcon:function(){return p.icon},isChecked:i(p),toggleCheckbox:function(e){return a(e,p)},recordShiftKeyPress:o,type:"folder",isDisabled:!1,isCheckboxDisabled:"shared-with-me"===p.id,handleFolderClick:function(){return c(p)}});var d=u(Yr(p),[].concat((0,tn.A)(n),(0,tn.A)(t)));return vi({id:p.id,title:p.name,author:p.author,getItemIcon:function(){return"grid"===r&&p.thumbnail?p.thumbnail:p.icon},isChecked:i(p),toggleCheckbox:function(e){return a(e,p)},isCheckboxDisabled:!1,recordShiftKeyPress:o,showTitles:s,viewType:r,i18n:l,type:"file",isDisabled:Boolean(d)&&!i(p),restrictionError:d})}const yi=function(e){var t=e.currentSelection,n=e.folders,r=e.files,i=e.uppyFiles,a=e.viewType,o=e.headerComponent,s=e.showBreadcrumbs,l=e.isChecked,u=e.toggleCheckbox,c=e.recordShiftKeyPress,p=e.handleScroll,d=e.showTitles,h=e.i18n,f=e.validateRestrictions,g=e.isLoading,v=e.showSearchFilter,m=e.search,y=e.searchTerm,b=e.clearSearch,w=e.searchOnInput,k=e.searchInputLabel,S=e.clearSearchLabel,F=e.getNextFolder,A=e.cancel,_=e.done,C=e.noResultsLabel,D=e.virtualList,x=t.length,B=xr((function(){return[].concat((0,tn.A)(n),(0,tn.A)(r))}),[n,r]);return(0,P.h)("div",{className:O("uppy-ProviderBrowser","uppy-ProviderBrowser-viewType--".concat(a))},o&&(0,P.h)("div",{className:"uppy-ProviderBrowser-header"},(0,P.h)("div",{className:O("uppy-ProviderBrowser-headerBar",!s&&"uppy-ProviderBrowser-headerBar--simple")},o)),v&&(0,P.h)("div",{"class":"uppy-ProviderBrowser-searchFilter"},(0,P.h)(si,{search:m,searchTerm:y,clearSearch:b,inputLabel:k,clearSearchLabel:S,inputClassName:"uppy-ProviderBrowser-searchFilterInput",searchOnInput:w})),g?(0,P.h)("div",{className:"uppy-Provider-loading"},(0,P.h)("span",null,"string"==typeof g?g:h("loading"))):n.length||r.length?D?(0,P.h)("div",{className:"uppy-ProviderBrowser-body"},(0,P.h)("ul",{className:"uppy-ProviderBrowser-list"},(0,P.h)(ai,{data:B,renderRow:function(e){return(0,P.h)(mi,{currentSelection:t,uppyFiles:i,viewType:a,isChecked:l,toggleCheckbox:u,recordShiftKeyPress:c,showTitles:d,i18n:h,validateRestrictions:f,getNextFolder:F,f:e})},rowHeight:31}))):(0,P.h)("div",{className:"uppy-ProviderBrowser-body"},(0,P.h)("ul",{className:"uppy-ProviderBrowser-list",onScroll:p,role:"listbox",tabIndex:-1},B.map((function(e){return(0,P.h)(mi,{currentSelection:t,uppyFiles:i,viewType:a,isChecked:l,toggleCheckbox:u,recordShiftKeyPress:c,showTitles:d,i18n:h,validateRestrictions:f,getNextFolder:F,f:e})})))):(0,P.h)("div",{className:"uppy-Provider-empty"},C),x>0&&(0,P.h)(li,{selected:x,done:_,cancel:A,i18n:h}))};function bi(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(bi=function(){return!!e})()}var wi=function(e){function t(){return(0,i.A)(this,t),function(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,bi()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}(this,t,arguments)}return(0,l.A)(t,e),(0,a.A)(t,[{key:"componentWillUnmount",value:function(){(0,this.props.onUnmount)()}},{key:"render",value:function(){var e=this.props.children;return(0,P.v2)(e)[0]}}])}(P.uA);n(31415);function Pi(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Oi(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Oi(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Oi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ki=function(){return(0,a.A)((function e(t,n){var r=this;(0,i.A)(this,e),this.filterItems=function(e){var t=r.plugin.getPluginState();return t.filterInput&&""!==t.filterInput?e.filter((function(e){return-1!==e.name.toLowerCase().indexOf(t.filterInput.toLowerCase())})):e},this.recordShiftKeyPress=function(e){r.isShiftKeyPressed=e.shiftKey},this.isChecked=function(e){return r.plugin.getPluginState().currentSelection.some((function(t){return t.id===e.id}))},this.plugin=t,this.provider=n.provider,this.opts=n,this.isHandlingScroll=!1,this.preFirstRender=this.preFirstRender.bind(this),this.handleError=this.handleError.bind(this),this.clearSelection=this.clearSelection.bind(this),this.cancelPicking=this.cancelPicking.bind(this)}),[{key:"preFirstRender",value:function(){this.plugin.setPluginState({didFirstRender:!0}),this.plugin.onFirstRender()}},{key:"shouldHandleScroll",value:function(e){var t=e.target;return t.scrollHeight-(t.scrollTop+t.offsetHeight)<50&&!this.isHandlingScroll}},{key:"clearSelection",value:function(){this.plugin.setPluginState({currentSelection:[],filterInput:""})}},{key:"cancelPicking",value:function(){this.clearSelection();var e=this.plugin.uppy.getPlugin("Dashboard");e&&e.hideAllPanels()}},{key:"handleError",value:function(e){var t,n=this.plugin.uppy,r=n.i18n("companionError");n.log(e.toString()),e.isAuthError||"AbortError"===(null==(t=e.cause)?void 0:t.name)||n.info({message:r,details:e.toString()},"error",5e3)}},{key:"registerRequestClient",value:function(){this.requestClientId=this.provider.provider,this.plugin.uppy.registerRequestClient(this.requestClientId,this.provider)}},{key:"getTagFile",value:function(e){var t={id:e.id,source:this.plugin.id,name:e.name||e.id,type:e.mimeType,isRemote:!0,data:e,meta:{},body:{fileId:e.id},remote:{companionUrl:this.plugin.opts.companionUrl,url:"".concat(this.provider.fileUrl(e.requestPath)),body:{fileId:e.id},providerName:this.provider.name,provider:this.provider.provider,requestClientId:this.requestClientId}};return e.thumbnail&&(t.preview=e.thumbnail),e.author&&(null!=e.author.name&&(t.meta.authorName=String(e.author.name)),e.author.url&&(t.meta.authorUrl=e.author.url)),null!=e.relDirPath&&(t.meta.relativePath=e.relDirPath?"".concat(e.relDirPath,"/").concat(t.name):null),null!=e.absDirPath&&(t.meta.absolutePath=e.absDirPath?"/".concat(e.absDirPath,"/").concat(t.name):"/".concat(t.name)),t}},{key:"toggleCheckbox",value:function(e,t){e.stopPropagation(),e.preventDefault(),e.currentTarget.focus();var n=this.plugin.getPluginState(),r=n.folders,i=n.files,a=this.filterItems(r.concat(i));if(this.lastCheckbox&&this.isShiftKeyPressed){var o,s=this.plugin.getPluginState().currentSelection,l=a.indexOf(this.lastCheckbox),u=a.indexOf(t),c=[],p=Pi(l<u?a.slice(l,u+1):a.slice(u,l+1));try{for(p.s();!(o=p.n()).done;){var d=o.value,h=this.plugin.uppy,f=h.validateRestrictions(Yr(d),[].concat((0,tn.A)(h.getFiles()),c));f?h.info({message:f.message},"error",h.opts.infoTimeout):c.push(d)}}catch(e){p.e(e)}finally{p.f()}this.plugin.setPluginState({currentSelection:(0,tn.A)(new Set([].concat((0,tn.A)(s),c)))})}else{this.lastCheckbox=t;var g=this.plugin.getPluginState().currentSelection;this.isChecked(t)?this.plugin.setPluginState({currentSelection:g.filter((function(e){return e.id!==t.id}))}):this.plugin.setPluginState({currentSelection:g.concat([t])})}}},{key:"setLoading",value:function(e){this.plugin.setPluginState({loading:e})}}])}();function Si(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Fi(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fi(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Fi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Ai(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ai(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ai(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ci(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ci=function(){return!!e})()}function Di(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var xi=0;function Bi(e){return"__private_"+xi+++"_"+e}function Ti(e){return e.slice(1).map((function(e){return e.name})).join("/")}function Ei(e,t){return e?"".concat(e,"/").concat(t):t}function Ui(){return(0,P.h)("svg",{"aria-hidden":"true",focusable:"false",width:"30",height:"30",viewBox:"0 0 30 30"},(0,P.h)("path",{d:"M15 30c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15C6.716 0 0 6.716 0 15c0 8.284 6.716 15 15 15zm4.258-12.676v6.846h-8.426v-6.846H5.204l9.82-12.364 9.82 12.364H19.26z"}))}var ji={viewType:"list",showTitles:!0,showFilter:!0,showBreadcrumbs:!0,loadAllFiles:!1,virtualList:!1},Ni=Bi("abortController"),Ii=Bi("withAbort"),Mi=Bi("list"),Ri=Bi("listFilesAndFolders"),Li=Bi("recursivelyListAllFiles"),zi=function(e){function t(e,n){var r;return(0,i.A)(this,t),r=function(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,Ci()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}(this,t,[e,_i(_i({},ji),n)]),Object.defineProperty(r,Li,{value:$i}),Object.defineProperty(r,Ri,{value:Ki}),Object.defineProperty(r,Mi,{value:Vi}),Object.defineProperty(r,Ii,{value:Hi}),Object.defineProperty(r,Ni,{writable:!0,value:void 0}),r.filterQuery=r.filterQuery.bind(r),r.clearFilter=r.clearFilter.bind(r),r.getFolder=r.getFolder.bind(r),r.getNextFolder=r.getNextFolder.bind(r),r.logout=r.logout.bind(r),r.handleAuth=r.handleAuth.bind(r),r.handleScroll=r.handleScroll.bind(r),r.donePicking=r.donePicking.bind(r),r.render=r.render.bind(r),r.plugin.setPluginState({authenticated:void 0,files:[],folders:[],breadcrumbs:[],filterInput:"",isSearchVisible:!1,currentSelection:[]}),r.registerRequestClient(),r}return(0,l.A)(t,e),(0,a.A)(t,[{key:"tearDown",value:function(){}},{key:"getFolder",value:(h=(0,c.A)(p.mark((function e(t,n){var r=this;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setLoading(!0),e.prev=1,e.next=4,Di(this,Ii)[Ii](function(){var e=(0,c.A)(p.mark((function e(i){var a,o,s,l,u,c,d,h;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.lastCheckbox=void 0,a=r.plugin.getPluginState(),o=a.breadcrumbs,s=o.findIndex((function(e){return t===e.requestPath})),o=-1!==s?o.slice(0,s+1):[].concat((0,tn.A)(o),[{requestPath:t,name:n}]),r.nextPagePath=t,l=[],u=[];case 7:return e.next=9,Di(r,Ri)[Ri]({breadcrumbs:o,signal:i});case 9:c=e.sent,d=c.files,h=c.folders,l=l.concat(d),u=u.concat(h),r.setLoading(r.plugin.uppy.i18n("loadedXFiles",{numFiles:l.length+u.length}));case 15:if(r.opts.loadAllFiles&&r.nextPagePath){e.next=7;break}case 16:r.plugin.setPluginState({folders:u,files:l,breadcrumbs:o,filterInput:""});case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:e.next=12;break;case 6:if(e.prev=6,e.t0=e.catch(1),"UserFacingApiError"!==(null==e.t0?void 0:e.t0.name)){e.next=11;break}return this.plugin.uppy.info({message:this.plugin.uppy.i18n(e.t0.message)},"warning",5e3),e.abrupt("return");case 11:this.handleError(e.t0);case 12:return e.prev=12,this.setLoading(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,this,[[1,6,12,15]])}))),function(e,t){return h.apply(this,arguments)})},{key:"getNextFolder",value:function(e){this.getFolder(e.requestPath,e.name),this.lastCheckbox=void 0}},{key:"logout",value:(d=(0,c.A)(p.mark((function e(){var t=this;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Di(this,Ii)[Ii](function(){var e=(0,c.A)(p.mark((function e(n){var r,i,a;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.provider.logout({signal:n});case 2:(r=e.sent).ok&&(r.revoked||(i=t.plugin.uppy.i18n("companionUnauthorizeHint",{provider:t.plugin.title,url:r.manual_revoke_url}),t.plugin.uppy.info(i,"info",7e3)),a={authenticated:!1,files:[],folders:[],breadcrumbs:[],filterInput:""},t.plugin.setPluginState(a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),this.handleError(e.t0);case 8:case"end":return e.stop()}}),e,this,[[0,5]])}))),function(){return d.apply(this,arguments)})},{key:"filterQuery",value:function(e){this.plugin.setPluginState({filterInput:e})}},{key:"clearFilter",value:function(){this.plugin.setPluginState({filterInput:""})}},{key:"handleAuth",value:(u=(0,c.A)(p.mark((function e(t){var n=this;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Di(this,Ii)[Ii](function(){var e=(0,c.A)(p.mark((function e(r){return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setLoading(!0),e.next=3,n.provider.login({authFormData:t,signal:r});case 3:n.plugin.setPluginState({authenticated:!0}),n.preFirstRender();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:e.next=11;break;case 5:if(e.prev=5,e.t0=e.catch(0),"UserFacingApiError"!==e.t0.name){e.next=10;break}return this.plugin.uppy.info({message:this.plugin.uppy.i18n(e.t0.message)},"warning",5e3),e.abrupt("return");case 10:this.plugin.uppy.log("login failed: ".concat(e.t0.message));case 11:return e.prev=11,this.setLoading(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,this,[[0,5,11,14]])}))),function(e){return u.apply(this,arguments)})},{key:"handleScroll",value:(r=(0,c.A)(p.mark((function e(t){var n=this;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldHandleScroll(t)||!this.nextPagePath){e.next=13;break}return this.isHandlingScroll=!0,e.prev=2,e.next=5,Di(this,Ii)[Ii](function(){var e=(0,c.A)(p.mark((function e(t){var r,i,a,o,s,l,u,c,d;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.plugin.getPluginState(),i=r.files,a=r.folders,o=r.breadcrumbs,e.next=3,Di(n,Ri)[Ri]({breadcrumbs:o,signal:t});case 3:s=e.sent,l=s.files,u=s.folders,c=i.concat(l),d=a.concat(u),n.plugin.setPluginState({folders:d,files:c});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),this.handleError(e.t0);case 10:return e.prev=10,this.isHandlingScroll=!1,e.finish(10);case 13:case"end":return e.stop()}}),e,this,[[2,7,10,13]])}))),function(e){return r.apply(this,arguments)})},{key:"donePicking",value:(n=(0,c.A)(p.mark((function e(){var t=this;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setLoading(!0),e.prev=1,e.next=4,Di(this,Ii)[Ii](function(){var e=(0,c.A)(p.mark((function e(n){var r,i,a,o,s,l,u;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.plugin.getPluginState(),i=r.currentSelection,a=[],o=[],s=Si(i),e.prev=4,u=p.mark((function e(){var r,i,s,u,c,d,h,f;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=l.value,i=r.requestPath,s=function(e){return _i(_i({},e),{},{relDirPath:e.absDirPath.replace(r.absDirPath,"").replace(/^\//,"")})},!r.isFolder){e.next=16;break}return u=!0,c=0,d=new dr({concurrency:6}),h=function(e){var n,r=Si(e);try{for(r.s();!(n=r.n()).done;){var i=n.value,a=t.getTagFile(i),l=(0,mr.N)(a,t.plugin.uppy.getID());t.plugin.uppy.checkIfFileAlreadyExists(l)||(o.push(s(i)),c++,t.setLoading(t.plugin.uppy.i18n("addedNumFiles",{numFiles:c}))),u=!1}}catch(e){r.e(e)}finally{r.f()}},e.next=10,Di(t,Li)[Li]({requestPath:i,absDirPath:Ei(r.absDirPath,r.name),relDirPath:r.name,queue:d,onFiles:h,signal:n});case 10:return e.next=12,d.onIdle();case 12:f=u?t.plugin.uppy.i18n("emptyFolderAdded"):0===c?t.plugin.uppy.i18n("folderAlreadyAdded",{folder:r.name}):t.plugin.uppy.i18n("folderAdded",{smart_count:c,folder:r.name}),a.push(f),e.next=17;break;case 16:o.push(s(r));case 17:case"end":return e.stop()}}),e)})),s.s();case 7:if((l=s.n()).done){e.next=11;break}return e.delegateYield(u(),"t0",9);case 9:e.next=7;break;case 11:e.next=16;break;case 13:e.prev=13,e.t1=e.catch(4),s.e(e.t1);case 16:return e.prev=16,s.f(),e.finish(16);case 19:t.plugin.uppy.log("Adding files from a remote provider"),t.plugin.uppy.addFiles(o.map((function(e){return t.getTagFile(e,t.requestClientId)}))),t.plugin.setPluginState({filterInput:""}),a.forEach((function(e){return t.plugin.uppy.info(e)})),t.clearSelection();case 24:case"end":return e.stop()}}),e,null,[[4,13,16,19]])})));return function(t){return e.apply(this,arguments)}}());case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),this.handleError(e.t0);case 9:return e.prev=9,this.setLoading(!1),e.finish(9);case 12:case"end":return e.stop()}}),e,this,[[1,6,9,12]])}))),function(){return n.apply(this,arguments)})},{key:"render",value:function(e,t){var n=this;void 0===t&&(t={});var r=this.plugin.getPluginState(),i=r.authenticated,a=r.didFirstRender,o=this.plugin.uppy.i18n;a||this.preFirstRender();var s=_i(_i({},this.opts),t),l=this.plugin.getPluginState(),u=l.files,c=l.folders,p=l.filterInput,d=l.loading,h=l.currentSelection,f=this.isChecked,g=this.recordShiftKeyPress,v=this.filterItems,m=""!==p,y=this.plugin.icon||Ui,b={showBreadcrumbs:s.showBreadcrumbs,getFolder:this.getFolder,breadcrumbs:this.plugin.getPluginState().breadcrumbs,pluginIcon:y,title:this.plugin.title,logout:this.logout,username:this.username,i18n:o},w={isChecked:f,toggleCheckbox:this.toggleCheckbox.bind(this),recordShiftKeyPress:g,currentSelection:h,files:m?v(u):u,folders:m?v(c):c,getNextFolder:this.getNextFolder,getFolder:this.getFolder,loadAllFiles:this.opts.loadAllFiles,virtualList:this.opts.virtualList,showSearchFilter:s.showFilter,search:this.filterQuery,clearSearch:this.clearFilter,searchTerm:p,searchOnInput:!0,searchInputLabel:o("filter"),clearSearchLabel:o("resetFilter"),noResultsLabel:o("noFilesFound"),logout:this.logout,handleScroll:this.handleScroll,done:this.donePicking,cancel:this.cancelPicking,headerComponent:(0,P.h)(Kr,b),title:this.plugin.title,viewType:s.viewType,showTitles:s.showTitles,showBreadcrumbs:s.showBreadcrumbs,pluginIcon:y,i18n:this.plugin.uppy.i18n,uppyFiles:this.plugin.uppy.getFiles(),validateRestrictions:function(){var e;return(e=n.plugin.uppy).validateRestrictions.apply(e,arguments)},isLoading:d};return!1===i?(0,P.h)(wi,{onUnmount:this.clearSelection},(0,P.h)(Hr,{pluginName:this.plugin.title,pluginIcon:y,handleAuth:this.handleAuth,i18n:this.plugin.uppy.i18nArray,renderForm:this.opts.renderAuthForm,loading:d})):(0,P.h)(wi,{onUnmount:this.clearSelection},(0,P.h)(yi,w))}}]);var n,r,u,d,h}(ki);function Hi(e){return qi.apply(this,arguments)}function qi(){return(qi=(0,c.A)(p.mark((function e(t){var n,r,i,a=this;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==(n=Di(this,Ni)[Ni])||n.abort(),r=new AbortController,Di(this,Ni)[Ni]=r,i=function(){r.abort(),a.clearSelection()},e.prev=4,this.plugin.uppy.on("dashboard:close-panel",i),this.plugin.uppy.on("cancel-all",i),e.next=9,t(r.signal);case 9:return e.prev=9,this.plugin.uppy.off("dashboard:close-panel",i),this.plugin.uppy.off("cancel-all",i),Di(this,Ni)[Ni]=void 0,e.finish(9);case 14:case"end":return e.stop()}}),e,this,[[4,,9,14]])})))).apply(this,arguments)}function Vi(e){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,c.A)(p.mark((function e(t){var n,r,i,a,o,s,l;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.requestPath,r=t.absDirPath,i=t.signal,e.next=3,this.provider.list(n,{signal:i});case 3:return a=e.sent,o=a.username,s=a.nextPagePath,l=a.items,this.username=o||this.username,e.abrupt("return",{items:l.map((function(e){return _i(_i({},e),{},{absDirPath:r})})),nextPagePath:s});case 9:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function Ki(e){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,c.A)(p.mark((function e(t){var n,r,i,a,o,s,l,u;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.breadcrumbs,r=t.signal,i=Ti(n),e.next=4,Di(this,Mi)[Mi]({requestPath:this.nextPagePath,absDirPath:i,signal:r});case 4:return a=e.sent,o=a.items,s=a.nextPagePath,this.nextPagePath=s,l=[],u=[],o.forEach((function(e){e.isFolder?u.push(e):l.push(e)})),e.abrupt("return",{files:l,folders:u});case 12:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function $i(e){return Xi.apply(this,arguments)}function Xi(){return Xi=(0,c.A)(p.mark((function e(t){var n,r,i,a,o,s,l,u,d,h,f,g=this;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.requestPath,r=t.absDirPath,i=t.relDirPath,a=t.queue,o=t.onFiles,s=t.signal,l=n;case 2:if(!l){e.next=15;break}return e.next=5,Di(this,Mi)[Mi]({requestPath:l,absDirPath:r,signal:s});case 5:return u=e.sent,l=u.nextPagePath,d=u.items.filter((function(e){return!e.isFolder})),h=u.items.filter((function(e){return e.isFolder})),o(d),f=h.map(function(){var e=(0,c.A)(p.mark((function e(t){return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.add((0,c.A)(p.mark((function e(){return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Di(g,Li)[Li]({requestPath:t.requestPath,absDirPath:Ei(r,t.name),relDirPath:Ei(i,t.name),queue:a,onFiles:o,signal:s}));case 1:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=13,Promise.all(f);case 13:e.next=2;break;case 15:case"end":return e.stop()}}),e,this)}))),Xi.apply(this,arguments)}function Yi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yi(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ji(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ji=function(){return!!e})()}function Zi(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}zi.VERSION="3.13.0";var ea=0;function ta(e){return"__private_"+ea+++"_"+e}var na={isInputMode:!0,files:[],folders:[],breadcrumbs:[],filterInput:"",currentSelection:[],searchTerm:null},ra={viewType:"grid",showTitles:!0,showFilter:!0,showBreadcrumbs:!0},ia=ta("updateFilesAndInputMode"),aa=function(e){function t(e,n){var r;return(0,i.A)(this,t),r=function(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,Ji()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}(this,t,[e,Qi(Qi({},ra),n)]),Object.defineProperty(r,ia,{value:oa}),r.nextPageQuery=null,r.search=r.search.bind(r),r.clearSearch=r.clearSearch.bind(r),r.resetPluginState=r.resetPluginState.bind(r),r.handleScroll=r.handleScroll.bind(r),r.donePicking=r.donePicking.bind(r),r.render=r.render.bind(r),r.plugin.setPluginState(na),r.registerRequestClient(),r}return(0,l.A)(t,e),(0,a.A)(t,[{key:"tearDown",value:function(){}},{key:"resetPluginState",value:function(){this.plugin.setPluginState(na)}},{key:"search",value:(r=(0,c.A)(p.mark((function e(t){var n,r,i;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.plugin.getPluginState(),r=n.searchTerm,!t||t!==r){e.next=3;break}return e.abrupt("return");case 3:return this.setLoading(!0),e.prev=4,e.next=7,this.provider.search(t);case 7:i=e.sent,Zi(this,ia)[ia](i,[]),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),this.handleError(e.t0);case 14:return e.prev=14,this.setLoading(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[4,11,14,17]])}))),function(e){return r.apply(this,arguments)})},{key:"clearSearch",value:function(){this.plugin.setPluginState({currentSelection:[],files:[],searchTerm:null})}},{key:"handleScroll",value:(n=(0,c.A)(p.mark((function e(t){var n,r,i,a,o;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.nextPageQuery||null,!this.shouldHandleScroll(t)||!n){e.next=17;break}return this.isHandlingScroll=!0,e.prev=3,r=this.plugin.getPluginState(),i=r.files,a=r.searchTerm,e.next=7,this.provider.search(a,n);case 7:o=e.sent,Zi(this,ia)[ia](o,i),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),this.handleError(e.t0);case 14:return e.prev=14,this.isHandlingScroll=!1,e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[3,11,14,17]])}))),function(e){return n.apply(this,arguments)})},{key:"donePicking",value:function(){var e=this,t=this.plugin.getPluginState().currentSelection;this.plugin.uppy.log("Adding remote search provider files"),this.plugin.uppy.addFiles(t.map((function(t){return e.getTagFile(t)}))),this.resetPluginState()}},{key:"render",value:function(e,t){var n=this;void 0===t&&(t={});var r=this.plugin.getPluginState(),i=r.didFirstRender,a=r.isInputMode,o=r.searchTerm,s=this.plugin.uppy.i18n;i||this.preFirstRender();var l=Qi(Qi({},this.opts),t),u=this.plugin.getPluginState(),c=u.files,p=u.folders,d=u.filterInput,h=u.loading,f=u.currentSelection,g=this.isChecked,v=this.filterItems,m=this.recordShiftKeyPress,y=""!==d,b={isChecked:g,toggleCheckbox:this.toggleCheckbox.bind(this),recordShiftKeyPress:m,currentSelection:f,files:y?v(c):c,folders:y?v(p):p,handleScroll:this.handleScroll,done:this.donePicking,cancel:this.cancelPicking,showSearchFilter:l.showFilter,search:this.search,clearSearch:this.clearSearch,searchTerm:o,searchOnInput:!1,searchInputLabel:s("search"),clearSearchLabel:s("resetSearch"),noResultsLabel:s("noSearchResults"),title:this.plugin.title,viewType:l.viewType,showTitles:l.showTitles,showFilter:l.showFilter,isLoading:h,showBreadcrumbs:l.showBreadcrumbs,pluginIcon:this.plugin.icon,i18n:s,uppyFiles:this.plugin.uppy.getFiles(),validateRestrictions:function(){var e;return(e=n.plugin.uppy).validateRestrictions.apply(e,arguments)}};return a?(0,P.h)(wi,{onUnmount:this.resetPluginState},(0,P.h)("div",{className:"uppy-SearchProvider"},(0,P.h)(si,{search:this.search,inputLabel:s("enterTextToSearch"),buttonLabel:s("searchImages"),inputClassName:"uppy-c-textInput uppy-SearchProvider-input",buttonCSSClassName:"uppy-SearchProvider-searchButton",showButton:!0}))):(0,P.h)(wi,{onUnmount:this.resetPluginState},(0,P.h)(yi,b))}}]);var n,r}(ki);function oa(e,t){this.nextPageQuery=e.nextPageQuery,e.items.forEach((function(e){t.push(e)})),this.plugin.setPluginState({currentSelection:[],isInputMode:!1,files:t,searchTerm:e.searchedFor})}aa.VERSION="3.13.0";var sa=n(24063);const la=['a[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','area[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])',"input:not([disabled]):not([inert]):not([aria-hidden])","select:not([disabled]):not([inert]):not([aria-hidden])","textarea:not([disabled]):not([inert]):not([aria-hidden])","button:not([disabled]):not([inert]):not([aria-hidden])",'iframe:not([tabindex^="-"]):not([inert]):not([aria-hidden])','object:not([tabindex^="-"]):not([inert]):not([aria-hidden])','embed:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[contenteditable]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[tabindex]:not([tabindex^="-"]):not([inert]):not([aria-hidden])'];function ua(e,t){if(t){var n=e.querySelector('[data-uppy-paneltype="'.concat(t,'"]'));if(n)return n}return e}function ca(e,t){var n=t[0];n&&(n.focus(),e.preventDefault())}function pa(e,t,n){var r=ua(n,t),i=Qt(r.querySelectorAll(la)),a=i.indexOf(document.activeElement);!function(e){return e.contains(document.activeElement)}(r)?ca(e,i):e.shiftKey&&0===a?function(e,t){var n=t[t.length-1];n&&(n.focus(),e.preventDefault())}(e,i):e.shiftKey||a!==i.length-1||ca(e,i)}var da=n(59209);function ha(){var e=document.body;return"draggable"in e&&"ondragstart"in e&&"ondrop"in e&&("FormData"in window&&"FileReader"in window)}n(26910);var fa=n(3517);function ga(e){var t={color:"#838999",icon:(0,P.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},(0,P.h)("g",{fill:"#A7AFB7",fillRule:"nonzero"},(0,P.h)("path",{d:"M5.5 22a.5.5 0 0 1-.5-.5v-18a.5.5 0 0 1 .5-.5h10.719a.5.5 0 0 1 .367.16l3.281 3.556a.5.5 0 0 1 .133.339V21.5a.5.5 0 0 1-.5.5h-14zm.5-1h13V7.25L16 4H6v17z"}),(0,P.h)("path",{d:"M15 4v3a1 1 0 0 0 1 1h3V7h-3V4h-1z"})))};if(!e)return t;var n=e.split("/")[0],r=e.split("/")[1];if("text"===n)return{color:"#5a5e69",icon:(0,P.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},(0,P.h)("path",{d:"M4.5 7h13a.5.5 0 1 1 0 1h-13a.5.5 0 0 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h10a.5.5 0 1 1 0 1h-10a.5.5 0 1 1 0-1z",fill:"#5A5E69",fillRule:"nonzero"}))};if("image"===n)return{color:"#686de0",icon:(0,P.h)("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25"},(0,P.h)("g",{fill:"#686DE0",fillRule:"evenodd"},(0,P.h)("path",{d:"M5 7v10h15V7H5zm0-1h15a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1z",fillRule:"nonzero"}),(0,P.h)("path",{d:"M6.35 17.172l4.994-5.026a.5.5 0 0 1 .707 0l2.16 2.16 3.505-3.505a.5.5 0 0 1 .707 0l2.336 2.31-.707.72-1.983-1.97-3.505 3.505a.5.5 0 0 1-.707 0l-2.16-2.159-3.938 3.939-1.409.026z",fillRule:"nonzero"}),(0,P.h)("circle",{cx:"7.5",cy:"9.5",r:"1.5"})))};if("audio"===n)return{color:"#068dbb",icon:(0,P.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},(0,P.h)("path",{d:"M9.5 18.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V7.25a.5.5 0 0 1 .379-.485l9-2.25A.5.5 0 0 1 18.5 5v11.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V8.67l-8 2v7.97zm8-11v-2l-8 2v2l8-2zM7 19.64c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1zm9-2c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1z",fill:"#049BCF",fillRule:"nonzero"}))};if("video"===n)return{color:"#19af67",icon:(0,P.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},(0,P.h)("path",{d:"M16 11.834l4.486-2.691A1 1 0 0 1 22 10v6a1 1 0 0 1-1.514.857L16 14.167V17a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v2.834zM15 9H5v8h10V9zm1 4l5 3v-6l-5 3z",fill:"#19AF67",fillRule:"nonzero"}))};if("application"===n&&"pdf"===r)return{color:"#e25149",icon:(0,P.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},(0,P.h)("path",{d:"M9.766 8.295c-.691-1.843-.539-3.401.747-3.726 1.643-.414 2.505.938 2.39 3.299-.039.79-.194 1.662-.537 3.148.324.49.66.967 1.055 1.51.17.231.382.488.629.757 1.866-.128 3.653.114 4.918.655 1.487.635 2.192 1.685 1.614 2.84-.566 1.133-1.839 1.084-3.416.249-1.141-.604-2.457-1.634-3.51-2.707a13.467 13.467 0 0 0-2.238.426c-1.392 4.051-4.534 6.453-5.707 4.572-.986-1.58 1.38-4.206 4.914-5.375.097-.322.185-.656.264-1.001.08-.353.306-1.31.407-1.737-.678-1.059-1.2-2.031-1.53-2.91zm2.098 4.87c-.033.144-.068.287-.104.427l.033-.01-.012.038a14.065 14.065 0 0 1 1.02-.197l-.032-.033.052-.004a7.902 7.902 0 0 1-.208-.271c-.197-.27-.38-.526-.555-.775l-.006.028-.002-.003c-.076.323-.148.632-.186.8zm5.77 2.978c1.143.605 1.832.632 2.054.187.26-.519-.087-1.034-1.113-1.473-.911-.39-2.175-.608-3.55-.608.845.766 1.787 1.459 2.609 1.894zM6.559 18.789c.14.223.693.16 1.425-.413.827-.648 1.61-1.747 2.208-3.206-2.563 1.064-4.102 2.867-3.633 3.62zm5.345-10.97c.088-1.793-.351-2.48-1.146-2.28-.473.119-.564 1.05-.056 2.405.213.566.52 1.188.908 1.859.18-.858.268-1.453.294-1.984z",fill:"#E2514A",fillRule:"nonzero"}))};return"application"===n&&-1!==["zip","x-7z-compressed","x-rar-compressed","x-tar","x-gzip","x-apple-diskimage"].indexOf(r)?{color:"#00C469",icon:(0,P.h)("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25"},(0,P.h)("path",{d:"M10.45 2.05h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V2.55a.5.5 0 0 1 .5-.5zm2.05 1.024h1.05a.5.5 0 0 1 .5.5V3.6a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5v-.001zM10.45 0h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V.5a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 3.074h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 1.024h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm-2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-1.656 3.074l-.82 5.946c.52.302 1.174.458 1.976.458.803 0 1.455-.156 1.975-.458l-.82-5.946h-2.311zm0-1.025h2.312c.512 0 .946.378 1.015.885l.82 5.946c.056.412-.142.817-.501 1.026-.686.398-1.515.597-2.49.597-.974 0-1.804-.199-2.49-.597a1.025 1.025 0 0 1-.5-1.026l.819-5.946c.07-.507.503-.885 1.015-.885zm.545 6.6a.5.5 0 0 1-.397-.561l.143-.999a.5.5 0 0 1 .495-.429h.74a.5.5 0 0 1 .495.43l.143.998a.5.5 0 0 1-.397.561c-.404.08-.819.08-1.222 0z",fill:"#00C469",fillRule:"nonzero"}))}:t}function va(e){var t=e.file;if(t.preview)return(0,P.h)("img",{className:"uppy-Dashboard-Item-previewImg",alt:t.name,src:t.preview});var n=ga(t.type),r=n.color,i=n.icon;return(0,P.h)("div",{className:"uppy-Dashboard-Item-previewIconWrap"},(0,P.h)("span",{className:"uppy-Dashboard-Item-previewIcon",style:{color:r}},i),(0,P.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-Dashboard-Item-previewIconBg",width:"58",height:"76",viewBox:"0 0 58 76"},(0,P.h)("rect",{fill:"#FFF",width:"58",height:"76",rx:"3",fillRule:"evenodd"})))}function ma(e){var t=e.file,n=e.toggleFileCard,r=e.i18n,i=e.metaFields,a=t.missingRequiredMetaFields;if(null==a||!a.length)return null;var o=a.map((function(e){return function(e,t){var n=("function"==typeof t?t():t).filter((function(t){return t.id===e}));return n[0].name}(e,i)})).join(", ");return(0,P.h)("div",{className:"uppy-Dashboard-Item-errorMessage"},r("missingRequiredMetaFields",{smart_count:a.length,fields:o})," ",(0,P.h)("button",{type:"button","class":"uppy-u-reset uppy-Dashboard-Item-errorMessageBtn",onClick:function(){return n(!0,t.id)}},r("editFile")))}function ya(e){var t=e.file,n=e.i18n,r=e.toggleFileCard,i=e.metaFields,a=e.showLinkToFileUploadResult,o=t.preview?"rgba(255, 255, 255, 0.5)":ga(e.file.type).color;return(0,P.h)("div",{className:"uppy-Dashboard-Item-previewInnerWrap",style:{backgroundColor:o}},a&&t.uploadURL&&(0,P.h)("a",{className:"uppy-Dashboard-Item-previewLink",href:t.uploadURL,rel:"noreferrer noopener",target:"_blank","aria-label":t.meta.name},(0,P.h)("span",{hidden:!0},t.meta.name)),(0,P.h)(va,{file:t}),(0,P.h)(ma,{file:t,i18n:n,toggleFileCard:r,metaFields:i}))}function ba(e){return e.isUploaded?e.i18n("uploadComplete"):e.error?e.i18n("retryUpload"):e.resumableUploads?e.file.isPaused?e.i18n("resumeUpload"):e.i18n("pauseUpload"):e.individualCancellation?e.i18n("cancelUpload"):""}function wa(e){return(0,P.h)("div",{className:"uppy-Dashboard-Item-progress"},(0,P.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-progressIndicator",type:"button","aria-label":ba(e),title:ba(e),onClick:function(){return function(e){e.isUploaded||(!e.error||e.hideRetryButton?e.resumableUploads&&!e.hidePauseResumeButton?e.uppy.pauseResume(e.file.id):e.individualCancellation&&!e.hideCancelButton&&e.uppy.removeFile(e.file.id):e.uppy.retryUpload(e.file.id))}(e)}},e.children))}function Pa(e){var t=e.children;return(0,P.h)("svg",{"aria-hidden":"true",focusable:"false",width:"70",height:"70",viewBox:"0 0 36 36",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--circle"},t)}function Oa(e){var t=e.progress,n=2*Math.PI*15;return(0,P.h)("g",null,(0,P.h)("circle",{className:"uppy-Dashboard-Item-progressIcon--bg",r:"15",cx:"18",cy:"18","stroke-width":"2",fill:"none"}),(0,P.h)("circle",{className:"uppy-Dashboard-Item-progressIcon--progress",r:"15",cx:"18",cy:"18",transform:"rotate(-90, 18, 18)",fill:"none","stroke-width":"2","stroke-dasharray":n,"stroke-dashoffset":n-n/100*t}))}function ka(e){return e.file.progress.uploadStarted?e.isUploaded?(0,P.h)("div",{className:"uppy-Dashboard-Item-progress"},(0,P.h)("div",{className:"uppy-Dashboard-Item-progressIndicator"},(0,P.h)(Pa,null,(0,P.h)("circle",{r:"15",cx:"18",cy:"18",fill:"#1bb240"}),(0,P.h)("polygon",{className:"uppy-Dashboard-Item-progressIcon--check",transform:"translate(2, 3)",points:"14 22.5 7 15.2457065 8.99985857 13.1732815 14 18.3547104 22.9729883 9 25 11.1005634"})))):e.recoveredState?void 0:e.error&&!e.hideRetryButton?(0,P.h)(wa,e,(0,P.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--retry",width:"28",height:"31",viewBox:"0 0 16 19"},(0,P.h)("path",{d:"M16 11a8 8 0 1 1-8-8v2a6 6 0 1 0 6 6h2z"}),(0,P.h)("path",{d:"M7.9 3H10v2H7.9z"}),(0,P.h)("path",{d:"M8.536.5l3.535 3.536-1.414 1.414L7.12 1.914z"}),(0,P.h)("path",{d:"M10.657 2.621l1.414 1.415L8.536 7.57 7.12 6.157z"}))):e.resumableUploads&&!e.hidePauseResumeButton?(0,P.h)(wa,e,(0,P.h)(Pa,null,(0,P.h)(Oa,{progress:e.file.progress.percentage}),e.file.isPaused?(0,P.h)("polygon",{className:"uppy-Dashboard-Item-progressIcon--play",transform:"translate(3, 3)",points:"12 20 12 10 20 15"}):(0,P.h)("g",{className:"uppy-Dashboard-Item-progressIcon--pause",transform:"translate(14.5, 13)"},(0,P.h)("rect",{x:"0",y:"0",width:"2",height:"10",rx:"0"}),(0,P.h)("rect",{x:"5",y:"0",width:"2",height:"10",rx:"0"})))):e.resumableUploads||!e.individualCancellation||e.hideCancelButton?(0,P.h)("div",{className:"uppy-Dashboard-Item-progress"},(0,P.h)("div",{className:"uppy-Dashboard-Item-progressIndicator"},(0,P.h)(Pa,null,(0,P.h)(Oa,{progress:e.file.progress.percentage})))):(0,P.h)(wa,e,(0,P.h)(Pa,null,(0,P.h)(Oa,{progress:e.file.progress.percentage}),(0,P.h)("polygon",{className:"cancel",transform:"translate(2, 2)",points:"19.8856516 11.0625 16 14.9481516 12.1019737 11.0625 11.0625 12.1143484 14.9481516 16 11.0625 19.8980263 12.1019737 20.9375 16 17.0518484 19.8856516 20.9375 20.9375 19.8980263 17.0518484 16 20.9375 12"}))):null}var Sa="...";function Fa(e,t){if(0===t)return"";if(e.length<=t)return e;if(t<=4)return"".concat(e.slice(0,t-1),"…");var n=t-3,r=Math.ceil(n/2),i=Math.floor(n/2);return e.slice(0,r)+Sa+e.slice(-i)}var Aa=function(e){var t=e.file,n=e.onClick;return t.error?(0,P.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-errorDetails","aria-label":t.error,"data-microtip-position":"bottom","data-microtip-size":"medium",onClick:n,type:"button"},"?"):null};function _a(e){var t=e.file;return(0,P.h)("div",{className:"uppy-Dashboard-Item-fileInfo","data-uppy-file-source":t.source},(0,P.h)("div",{className:"uppy-Dashboard-Item-fileName"},function(e){var t=e.file.meta,n=t.author,r=t.name;return(0,P.h)("div",{className:"uppy-Dashboard-Item-name",title:r},Fa(r,e.isSingleFile&&e.containerHeight>=350?90:e.containerWidth<=352?35:e.containerWidth<=576?60:n?20:30))}(e),(0,P.h)(Aa,{file:e.file,onClick:function(){return alert(e.file.error)}})),(0,P.h)("div",{className:"uppy-Dashboard-Item-status"},function(e){var t,n=e.file.meta.author,r=null==(t=e.file.remote)?void 0:t.providerName;return n?(0,P.h)("div",{className:"uppy-Dashboard-Item-author"},(0,P.h)("a",{href:"".concat(n.url,"?utm_source=Companion&utm_medium=referral"),target:"_blank",rel:"noopener noreferrer"},Fa(n.name,13)),r?(0,P.h)(P.FK,null," ".concat("·"," "),r," ".concat("·"," ")):null):null}(e),function(e){return e.file.size&&(0,P.h)("div",{className:"uppy-Dashboard-Item-statusSize"},S(e.file.size))}(e),function(e){return e.file.isGhost&&(0,P.h)("span",null," • ",(0,P.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-reSelect",type:"button",onClick:e.toggleAddFilesPanel},e.i18n("reSelect")))}(e)),(0,P.h)(ma,{file:e.file,i18n:e.i18n,toggleFileCard:e.toggleFileCard,metaFields:e.metaFields}))}function Ca(e){var t=e.file,n=e.uploadInProgressOrComplete,r=e.metaFields,i=e.canEditFile,a=e.i18n,o=e.onClick;return!n&&r&&r.length>0||!n&&i(t)?(0,P.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-action uppy-Dashboard-Item-action--edit",type:"button","aria-label":a("editFileWithFilename",{file:t.meta.name}),title:a("editFileWithFilename",{file:t.meta.name}),onClick:function(){return o()}},(0,P.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 14"},(0,P.h)("g",{fillRule:"evenodd"},(0,P.h)("path",{d:"M1.5 10.793h2.793A1 1 0 0 0 5 10.5L11.5 4a1 1 0 0 0 0-1.414L9.707.793a1 1 0 0 0-1.414 0l-6.5 6.5A1 1 0 0 0 1.5 8v2.793zm1-1V8L9 1.5l1.793 1.793-6.5 6.5H2.5z",fillRule:"nonzero"}),(0,P.h)("rect",{x:"1",y:"12.293",width:"11",height:"1",rx:".5"}),(0,P.h)("path",{fillRule:"nonzero",d:"M6.793 2.5L9.5 5.207l.707-.707L7.5 1.793z"})))):null}function Da(e){var t=e.i18n,n=e.onClick,r=e.file;return(0,P.h)("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--remove",type:"button","aria-label":t("removeFile",{file:r.meta.name}),title:t("removeFile",{file:r.meta.name}),onClick:function(){return n()}},(0,P.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"18",height:"18",viewBox:"0 0 18 18"},(0,P.h)("path",{d:"M9 0C4.034 0 0 4.034 0 9s4.034 9 9 9 9-4.034 9-9-4.034-9-9-9z"}),(0,P.h)("path",{fill:"#FFF",d:"M13 12.222l-.778.778L9 9.778 5.778 13 5 12.222 8.222 9 5 5.778 5.778 5 9 8.222 12.222 5l.778.778L9.778 9z"})))}var xa=function(e,t){var n,r;(n=t.file.uploadURL,r=t.i18n("copyLinkToClipboardFallback"),void 0===r&&(r="Copy the URL below"),new Promise((function(e){var t=document.createElement("textarea");t.setAttribute("style",{position:"fixed",top:0,left:0,width:"2em",height:"2em",padding:0,border:"none",outline:"none",boxShadow:"none",background:"transparent"}),t.value=n,document.body.appendChild(t),t.select();var i=function(){document.body.removeChild(t),window.prompt(r,n),e()};try{return document.execCommand("copy")?(document.body.removeChild(t),e()):i()}catch(e){return document.body.removeChild(t),i()}}))).then((function(){t.uppy.log("Link copied to clipboard."),t.uppy.info(t.i18n("copyLinkToClipboardSuccess"),"info",3e3)})).catch(t.uppy.log).then((function(){return e.target.focus({preventScroll:!0})}))};function Ba(e){var t=e.i18n;return(0,P.h)("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--copyLink",type:"button","aria-label":t("copyLink"),title:t("copyLink"),onClick:function(t){return xa(t,e)}},(0,P.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 12"},(0,P.h)("path",{d:"M7.94 7.703a2.613 2.613 0 0 1-.626 2.681l-.852.851a2.597 2.597 0 0 1-1.849.766A2.616 2.616 0 0 1 2.764 7.54l.852-.852a2.596 2.596 0 0 1 2.69-.625L5.267 7.099a1.44 1.44 0 0 0-.833.407l-.852.851a1.458 1.458 0 0 0 1.03 2.486c.39 0 .755-.152 1.03-.426l.852-.852c.231-.231.363-.522.406-.824l1.04-1.038zm4.295-5.937A2.596 2.596 0 0 0 10.387 1c-.698 0-1.355.272-1.849.766l-.852.851a2.614 2.614 0 0 0-.624 2.688l1.036-1.036c.041-.304.173-.6.407-.833l.852-.852c.275-.275.64-.426 1.03-.426a1.458 1.458 0 0 1 1.03 2.486l-.852.851a1.442 1.442 0 0 1-.824.406l-1.04 1.04a2.596 2.596 0 0 0 2.683-.628l.851-.85a2.616 2.616 0 0 0 0-3.697zm-6.88 6.883a.577.577 0 0 0 .82 0l3.474-3.474a.579.579 0 1 0-.819-.82L5.355 7.83a.579.579 0 0 0 0 .819z"})))}function Ta(e){var t=e.uppy,n=e.file,r=e.uploadInProgressOrComplete,i=e.canEditFile,a=e.metaFields,o=e.showLinkToFileUploadResult,s=e.showRemoveButton,l=e.i18n,u=e.toggleFileCard,c=e.openFileEditor;return(0,P.h)("div",{className:"uppy-Dashboard-Item-actionWrapper"},(0,P.h)(Ca,{i18n:l,file:n,uploadInProgressOrComplete:r,canEditFile:i,metaFields:a,onClick:function(){a&&a.length>0?u(!0,n.id):c(n)}}),o&&n.uploadURL?(0,P.h)(Ba,{file:n,uppy:t,i18n:l}):null,s?(0,P.h)(Da,{i18n:l,file:n,uppy:t,onClick:function(){return e.uppy.removeFile(n.id,"removed-by-user")}}):null)}function Ea(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ea=function(){return!!e})()}var Ua=function(e){function t(){return(0,i.A)(this,t),function(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,Ea()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}(this,t,arguments)}return(0,l.A)(t,e),(0,a.A)(t,[{key:"componentDidMount",value:function(){var e=this.props.file;e.preview||this.props.handleRequestThumbnail(e)}},{key:"shouldComponentUpdate",value:function(e){return!fa(this.props,e)}},{key:"componentDidUpdate",value:function(){var e=this.props.file;e.preview||this.props.handleRequestThumbnail(e)}},{key:"componentWillUnmount",value:function(){var e=this.props.file;e.preview||this.props.handleCancelThumbnail(e)}},{key:"render",value:function(){var e=this.props.file,t=e.progress.preprocess||e.progress.postprocess,n=e.progress.uploadComplete&&!t&&!e.error,r=e.progress.uploadStarted||t,i=e.progress.uploadStarted&&!e.progress.uploadComplete||t,a=e.error||!1,o=e.isGhost,s=(this.props.individualCancellation||!i)&&!n;n&&this.props.showRemoveButtonAfterComplete&&(s=!0);var l=O({"uppy-Dashboard-Item":!0,"is-inprogress":i&&!this.props.recoveredState,"is-processing":t,"is-complete":n,"is-error":!!a,"is-resumable":this.props.resumableUploads,"is-noIndividualCancellation":!this.props.individualCancellation,"is-ghost":o});return(0,P.h)("div",{className:l,id:"uppy_".concat(e.id),role:this.props.role},(0,P.h)("div",{className:"uppy-Dashboard-Item-preview"},(0,P.h)(ya,{file:e,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,i18n:this.props.i18n,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields}),(0,P.h)(ka,{uppy:this.props.uppy,file:e,error:a,isUploaded:n,hideRetryButton:this.props.hideRetryButton,hideCancelButton:this.props.hideCancelButton,hidePauseResumeButton:this.props.hidePauseResumeButton,recoveredState:this.props.recoveredState,showRemoveButtonAfterComplete:this.props.showRemoveButtonAfterComplete,resumableUploads:this.props.resumableUploads,individualCancellation:this.props.individualCancellation,i18n:this.props.i18n})),(0,P.h)("div",{className:"uppy-Dashboard-Item-fileInfoAndButtons"},(0,P.h)(_a,{file:e,id:this.props.id,acquirers:this.props.acquirers,containerWidth:this.props.containerWidth,containerHeight:this.props.containerHeight,i18n:this.props.i18n,toggleAddFilesPanel:this.props.toggleAddFilesPanel,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields,isSingleFile:this.props.isSingleFile}),(0,P.h)(Ta,{file:e,metaFields:this.props.metaFields,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,showRemoveButton:s,canEditFile:this.props.canEditFile,uploadInProgressOrComplete:r,toggleFileCard:this.props.toggleFileCard,openFileEditor:this.props.openFileEditor,uppy:this.props.uppy,i18n:this.props.i18n})))}}])}(P.uA);const ja=function(e){var t=e.id,n=e.error,r=e.i18n,i=e.uppy,a=e.files,o=e.acquirers,s=e.resumableUploads,l=e.hideRetryButton,u=e.hidePauseResumeButton,c=e.hideCancelButton,p=e.showLinkToFileUploadResult,d=e.showRemoveButtonAfterComplete,h=e.isWide,f=e.metaFields,g=e.isSingleFile,v=e.toggleFileCard,m=e.handleRequestThumbnail,y=e.handleCancelThumbnail,b=e.recoveredState,w=e.individualCancellation,O=e.itemsPerRow,k=e.openFileEditor,S=e.canEditFile,F=e.toggleAddFilesPanel,A=e.containerWidth,_=e.containerHeight,C=1===O?71:200,D=xr((function(){var e,t,n,r=Object.keys(a);return b&&r.sort((function(e,t){return a[t].isGhost-a[e].isGhost})),e=O,t=[],n=[],r.forEach((function(r){n.length<e?n.push(r):(t.push(n),n=[r])})),n.length&&t.push(n),t}),[a,O,b]),x=function(e){return(0,P.h)("div",{"class":"uppy-Dashboard-filesInner",role:"presentation",key:e[0]},e.map((function(e){return(0,P.h)(Ua,{key:e,uppy:i,id:t,error:n,i18n:r,acquirers:o,resumableUploads:s,individualCancellation:w,hideRetryButton:l,hidePauseResumeButton:u,hideCancelButton:c,showLinkToFileUploadResult:p,showRemoveButtonAfterComplete:d,isWide:h,metaFields:f,recoveredState:b,isSingleFile:g,containerWidth:A,containerHeight:_,toggleFileCard:v,handleRequestThumbnail:m,handleCancelThumbnail:y,role:"listitem",openFileEditor:k,canEditFile:S,toggleAddFilesPanel:F,file:a[e]})})))};return g?(0,P.h)("div",{"class":"uppy-Dashboard-files"},x(D[0])):(0,P.h)(ai,{"class":"uppy-Dashboard-files",role:"list",data:D,renderRow:x,rowHeight:C})};function Na(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Na=function(){return!!e})()}var Ia;Ia=Symbol.for("uppy test: disable unused locale key warning");var Ma=function(e,t){function n(){var e;return(0,i.A)(this,n),e=function(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,Na()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}(this,n,arguments),e.triggerFileInputClick=function(){e.fileInput.click()},e.triggerFolderInputClick=function(){e.folderInput.click()},e.triggerVideoCameraInputClick=function(){e.mobileVideoFileInput.click()},e.triggerPhotoCameraInputClick=function(){e.mobilePhotoFileInput.click()},e.onFileInputChange=function(t){e.props.handleInputChange(t),t.target.value=null},e.renderHiddenInput=function(t,n){return(0,P.h)("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,webkitdirectory:t,type:"file",name:"files[]",multiple:1!==e.props.maxNumberOfFiles,onChange:e.onFileInputChange,accept:e.props.allowedFileTypes,ref:n})},e.renderHiddenCameraInput=function(t,n,r){var i={photo:"image/*",video:"video/*"}[t];return(0,P.h)("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,type:"file",name:"camera-".concat(t),onChange:e.onFileInputChange,capture:n,accept:i,ref:r})},e.renderMyDeviceAcquirer=function(){return(0,P.h)("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MyDevice"},(0,P.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:e.triggerFileInputClick},(0,P.h)("div",{className:"uppy-DashboardTab-inner"},(0,P.h)("svg",{className:"uppy-DashboardTab-iconMyDevice","aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},(0,P.h)("path",{d:"M8.45 22.087l-1.305-6.674h17.678l-1.572 6.674H8.45zm4.975-12.412l1.083 1.765a.823.823 0 00.715.386h7.951V13.5H8.587V9.675h4.838zM26.043 13.5h-1.195v-2.598c0-.463-.336-.75-.798-.75h-8.356l-1.082-1.766A.823.823 0 0013.897 8H7.728c-.462 0-.815.256-.815.718V13.5h-.956a.97.97 0 00-.746.37.972.972 0 00-.19.81l1.724 8.565c.095.44.484.755.933.755H24c.44 0 .824-.3.929-.727l2.043-8.568a.972.972 0 00-.176-.825.967.967 0 00-.753-.38z",fill:"currentcolor","fill-rule":"evenodd"}))),(0,P.h)("div",{className:"uppy-DashboardTab-name"},e.props.i18n("myDevice"))))},e.renderPhotoCamera=function(){return(0,P.h)("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobilePhotoCamera"},(0,P.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:e.triggerPhotoCameraInputClick},(0,P.h)("div",{className:"uppy-DashboardTab-inner"},(0,P.h)("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},(0,P.h)("path",{d:"M23.5 9.5c1.417 0 2.5 1.083 2.5 2.5v9.167c0 1.416-1.083 2.5-2.5 2.5h-15c-1.417 0-2.5-1.084-2.5-2.5V12c0-1.417 1.083-2.5 2.5-2.5h2.917l1.416-2.167C13 7.167 13.25 7 13.5 7h5c.25 0 .5.167.667.333L20.583 9.5H23.5zM16 11.417a4.706 4.706 0 00-4.75 4.75 4.704 4.704 0 004.75 4.75 4.703 4.703 0 004.75-4.75c0-2.663-2.09-4.75-4.75-4.75zm0 7.825c-1.744 0-3.076-1.332-3.076-3.074 0-1.745 1.333-3.077 3.076-3.077 1.744 0 3.074 1.333 3.074 3.076s-1.33 3.075-3.074 3.075z",fill:"#02B383","fill-rule":"nonzero"}))),(0,P.h)("div",{className:"uppy-DashboardTab-name"},e.props.i18n("takePictureBtn"))))},e.renderVideoCamera=function(){return(0,P.h)("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobileVideoCamera"},(0,P.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:e.triggerVideoCameraInputClick},(0,P.h)("div",{className:"uppy-DashboardTab-inner"},(0,P.h)("svg",{"aria-hidden":"true",width:"32",height:"32",viewBox:"0 0 32 32"},(0,P.h)("path",{fill:"#FF675E",fillRule:"nonzero",d:"m21.254 14.277 2.941-2.588c.797-.313 1.243.818 1.09 1.554-.01 2.094.02 4.189-.017 6.282-.126.915-1.145 1.08-1.58.34l-2.434-2.142c-.192.287-.504 1.305-.738.468-.104-1.293-.028-2.596-.05-3.894.047-.312.381.823.426 1.069.063-.384.206-.744.362-1.09zm-12.939-3.73c3.858.013 7.717-.025 11.574.02.912.129 1.492 1.237 1.351 2.217-.019 2.412.04 4.83-.03 7.239-.17 1.025-1.166 1.59-2.029 1.429-3.705-.012-7.41.025-11.114-.019-.913-.129-1.492-1.237-1.352-2.217.018-2.404-.036-4.813.029-7.214.136-.82.83-1.473 1.571-1.454z "}))),(0,P.h)("div",{className:"uppy-DashboardTab-name"},e.props.i18n("recordVideoBtn"))))},e.renderBrowseButton=function(t,n){var r=e.props.acquirers.length;return(0,P.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-browse",onClick:n,"data-uppy-super-focusable":0===r},t)},e.renderDropPasteBrowseTagline=function(t){var n=e.renderBrowseButton(e.props.i18n("browseFiles"),e.triggerFileInputClick),r=e.renderBrowseButton(e.props.i18n("browseFolders"),e.triggerFolderInputClick),i=e.props.fileManagerSelectionType,a=i.charAt(0).toUpperCase()+i.slice(1);return(0,P.h)("div",{"class":"uppy-Dashboard-AddFiles-title"},e.props.disableLocalFiles?e.props.i18n("importFiles"):t>0?e.props.i18nArray("dropPasteImport".concat(a),{browseFiles:n,browseFolders:r,browse:n}):e.props.i18nArray("dropPaste".concat(a),{browseFiles:n,browseFolders:r,browse:n}))},e.renderAcquirer=function(t){return(0,P.h)("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":t.id},(0,P.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-cy":t.id,"aria-controls":"uppy-DashboardContent-panel--".concat(t.id),"aria-selected":e.props.activePickerPanel.id===t.id,"data-uppy-super-focusable":!0,onClick:function(){return e.props.showPanel(t.id)}},(0,P.h)("div",{className:"uppy-DashboardTab-inner"},t.icon()),(0,P.h)("div",{className:"uppy-DashboardTab-name"},t.name)))},e.renderAcquirers=function(t){var n=(0,tn.A)(t),r=n.splice(t.length-2,t.length);return(0,P.h)(P.FK,null,n.map((function(t){return e.renderAcquirer(t)})),(0,P.h)("span",{role:"presentation",style:{"white-space":"nowrap"}},r.map((function(t){return e.renderAcquirer(t)}))))},e.renderSourcesList=function(t,n){var r,i=e.props,a=i.showNativePhotoCameraButton,o=i.showNativeVideoCameraButton,s=[],l="myDevice";n||s.push({key:l,elements:e.renderMyDeviceAcquirer()}),a&&s.push({key:"nativePhotoCameraButton",elements:e.renderPhotoCamera()}),o&&s.push({key:"nativePhotoCameraButton",elements:e.renderVideoCamera()}),(r=s).push.apply(r,(0,tn.A)(t.map((function(t){return{key:t.id,elements:e.renderAcquirer(t)}})))),1===s.length&&s[0].key===l&&(s=[]);var u=(0,tn.A)(s),c=u.splice(s.length-2,s.length),p=function(e){return e.map((function(e){var t=e.key,n=e.elements;return(0,P.h)(P.FK,{key:t},n)}))};return(0,P.h)(P.FK,null,e.renderDropPasteBrowseTagline(s.length),(0,P.h)("div",{className:"uppy-Dashboard-AddFiles-list",role:"tablist"},p(u),(0,P.h)("span",{role:"presentation",style:{"white-space":"nowrap"}},p(c))))},e}return(0,l.A)(n,e),(0,a.A)(n,[{key:t,value:function(){this.props.i18nArray("dropPasteBoth"),this.props.i18nArray("dropPasteFiles"),this.props.i18nArray("dropPasteFolders"),this.props.i18nArray("dropPasteImportBoth"),this.props.i18nArray("dropPasteImportFiles"),this.props.i18nArray("dropPasteImportFolders")}},{key:"renderPoweredByUppy",value:function(){var e=(0,this.props.i18nArray)("poweredBy",{uppy:(0,P.h)("span",null,(0,P.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-poweredByIcon",width:"11",height:"11",viewBox:"0 0 11 11"},(0,P.h)("path",{d:"M7.365 10.5l-.01-4.045h2.612L5.5.806l-4.467 5.65h2.604l.01 4.044h3.718z",fillRule:"evenodd"})),(0,P.h)("span",{className:"uppy-Dashboard-poweredByUppy"},"Uppy"))});return(0,P.h)("a",{tabIndex:"-1",href:"https://uppy.io",rel:"noreferrer noopener",target:"_blank",className:"uppy-Dashboard-poweredBy"},e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.showNativePhotoCameraButton,r=t.showNativeVideoCameraButton,i=t.nativeCameraFacingMode;return(0,P.h)("div",{className:"uppy-Dashboard-AddFiles"},this.renderHiddenInput(!1,(function(t){e.fileInput=t})),this.renderHiddenInput(!0,(function(t){e.folderInput=t})),n&&this.renderHiddenCameraInput("photo",i,(function(t){e.mobilePhotoFileInput=t})),r&&this.renderHiddenCameraInput("video",i,(function(t){e.mobileVideoFileInput=t})),this.renderSourcesList(this.props.acquirers,this.props.disableLocalFiles),(0,P.h)("div",{className:"uppy-Dashboard-AddFiles-info"},this.props.note&&(0,P.h)("div",{className:"uppy-Dashboard-note"},this.props.note),this.props.proudlyDisplayPoweredByUppy&&this.renderPoweredByUppy(this.props)))}}])}(P.uA,Ia);const Ra=Ma;const La=function(e){return(0,P.h)("div",{className:O("uppy-Dashboard-AddFilesPanel",e.className),"data-uppy-panelType":"AddFiles","aria-hidden":!e.showAddFilesPanel},(0,P.h)("div",{className:"uppy-DashboardContent-bar"},(0,P.h)("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},e.i18n("addingMoreFiles")),(0,P.h)("button",{className:"uppy-DashboardContent-back",type:"button",onClick:function(){return e.toggleAddFilesPanel(!1)}},e.i18n("back"))),(0,P.h)(Ra,e))};const za=function(e){var t=e.target.tagName;"INPUT"!==t&&"TEXTAREA"!==t?(e.preventDefault(),e.stopPropagation()):e.stopPropagation()};const Ha=function(e){var t=e.activePickerPanel,n=e.className,r=e.hideAllPanels,i=e.i18n,a=e.state,o=e.uppy;return(0,P.h)("div",{className:O("uppy-DashboardContent-panel",n),role:"tabpanel","data-uppy-panelType":"PickerPanel",id:"uppy-DashboardContent-panel--".concat(t.id),onDragOver:za,onDragLeave:za,onDrop:za,onPaste:za},(0,P.h)("div",{className:"uppy-DashboardContent-bar"},(0,P.h)("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},i("importFrom",{name:t.name})),(0,P.h)("button",{className:"uppy-DashboardContent-back",type:"button",onClick:r},i("cancel"))),(0,P.h)("div",{className:"uppy-DashboardContent-panelBody"},o.getPlugin(t.id).render(a)))};const qa=function(e){var t=e.files[e.fileCardFor];return(0,P.h)("div",{className:O("uppy-DashboardContent-panel",e.className),role:"tabpanel","data-uppy-panelType":"FileEditor",id:"uppy-DashboardContent-panel--editor"},(0,P.h)("div",{className:"uppy-DashboardContent-bar"},(0,P.h)("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},e.i18nArray("editing",{file:(0,P.h)("span",{className:"uppy-DashboardContent-titleFile"},t.meta?t.meta.name:t.name)})),(0,P.h)("button",{className:"uppy-DashboardContent-back",type:"button",onClick:function(){e.uppy.emit("file-editor:cancel",t),e.closeFileEditor()}},e.i18n("cancel")),(0,P.h)("button",{className:"uppy-DashboardContent-save",type:"button",onClick:e.saveFileEditor},e.i18n("save"))),(0,P.h)("div",{className:"uppy-DashboardContent-panelBody"},e.editors.map((function(t){return e.uppy.getPlugin(t.id).render(e.state)}))))};var Va="error",Wa="waiting",Ka="preprocessing",Ga="uploading",$a="postprocessing",Xa="complete",Ya="paused";function Qa(e){var t=e.files,n=e.i18n,r=e.isAllComplete,i=e.isAllErrored,a=e.isAllPaused,o=e.inProgressNotPausedFiles,s=e.newFiles,l=e.processingFiles,u=function(e,t,n,r){if(void 0===r&&(r={}),e)return Va;if(t)return Xa;if(n)return Ya;for(var i=Wa,a=Object.keys(r),o=0;o<a.length;o++){var s=r[a[o]].progress;if(s.uploadStarted&&!s.uploadComplete)return Ga;s.preprocess&&i!==Ga&&(i=Ka),s.postprocess&&i!==Ga&&i!==Ka&&(i=$a)}return i}(i,r,a,t);switch(u){case"uploading":return n("uploadingXFiles",{smart_count:o.length});case"preprocessing":case"postprocessing":return n("processingXFiles",{smart_count:l.length});case"paused":return n("uploadPaused");case"waiting":return n("xFilesSelected",{smart_count:s.length});case"complete":return n("uploadComplete");case"error":return n("error")}}const Ja=function(e){var t=e.i18n,n=e.isAllComplete,r=e.hideCancelButton,i=e.maxNumberOfFiles,a=e.toggleAddFilesPanel,o=e.uppy,s=e.allowNewUpload;return s&&i&&(s=e.totalFileCount<e.maxNumberOfFiles),(0,P.h)("div",{className:"uppy-DashboardContent-bar"},n||r?(0,P.h)("div",null):(0,P.h)("button",{className:"uppy-DashboardContent-back",type:"button",onClick:function(){return o.cancelAll()}},t("cancel")),(0,P.h)("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},(0,P.h)(Qa,e)),s?(0,P.h)("button",{className:"uppy-DashboardContent-addMore",type:"button","aria-label":t("addMoreFiles"),title:t("addMoreFiles"),onClick:function(){return a(!0)}},(0,P.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"15",height:"15",viewBox:"0 0 15 15"},(0,P.h)("path",{d:"M8 6.5h6a.5.5 0 0 1 .5.5v.5a.5.5 0 0 1-.5.5H8v6a.5.5 0 0 1-.5.5H7a.5.5 0 0 1-.5-.5V8h-6a.5.5 0 0 1-.5-.5V7a.5.5 0 0 1 .5-.5h6v-6A.5.5 0 0 1 7 0h.5a.5.5 0 0 1 .5.5v6z"})),(0,P.h)("span",{className:"uppy-DashboardContent-addMoreCaption"},t("addMore"))):(0,P.h)("div",null))};n(21699);function Za(e){var t=e.computedMetaFields,n=e.requiredMetaFields,r=e.updateMeta,i=e.form,a=e.formState,o={text:"uppy-u-reset uppy-c-textInput uppy-Dashboard-FileCard-input"};return t.map((function(e){var t="uppy-Dashboard-FileCard-input-".concat(e.id),s=n.includes(e.id);return(0,P.h)("fieldset",{key:e.id,className:"uppy-Dashboard-FileCard-fieldset"},(0,P.h)("label",{className:"uppy-Dashboard-FileCard-label",htmlFor:t},e.name),void 0!==e.render?e.render({value:a[e.id],onChange:function(t){return r(t,e.id)},fieldCSSClasses:o,required:s,form:i.id},P.h):(0,P.h)("input",{className:o.text,id:t,form:i.id,type:e.type||"text",required:s,value:a[e.id],placeholder:e.placeholder,onInput:function(t){return r(t.target.value,e.id)},"data-uppy-super-focusable":!0}))}))}function eo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function to(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eo(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function no(e){var t,n=e.files,i=e.fileCardFor,a=e.toggleFileCard,o=e.saveFileCard,s=e.metaFields,l=e.requiredMetaFields,u=e.openFileEditor,c=e.i18n,p=e.i18nArray,d=e.className,h=e.canEditFile,f=n[i],g=null!=(t="function"==typeof s?s(n[i]):s)?t:[],v=h(f),m={};g.forEach((function(e){var t;m[e.id]=null!=(t=f.meta[e.id])?t:""}));var y=Cr(m),b=(0,de.A)(y,2),w=b[0],k=b[1],S=Br((function(e){e.preventDefault(),o(w,i)}),[o,w,i]),F=function(){a(!1)},A=Cr((function(){var e=document.createElement("form");return e.setAttribute("tabindex","-1"),e.id=(0,oi.A)(),e})),_=(0,de.A)(A,1)[0];return Dr((function(){return document.body.appendChild(_),_.addEventListener("submit",S),function(){_.removeEventListener("submit",S),document.body.removeChild(_)}}),[_,S]),(0,P.h)("div",{className:O("uppy-Dashboard-FileCard",d),"data-uppy-panelType":"FileCard",onDragOver:za,onDragLeave:za,onDrop:za,onPaste:za},(0,P.h)("div",{className:"uppy-DashboardContent-bar"},(0,P.h)("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},p("editing",{file:(0,P.h)("span",{className:"uppy-DashboardContent-titleFile"},f.meta?f.meta.name:f.name)})),(0,P.h)("button",{className:"uppy-DashboardContent-back",type:"button",form:_.id,title:c("finishEditingFile"),onClick:F},c("cancel"))),(0,P.h)("div",{className:"uppy-Dashboard-FileCard-inner"},(0,P.h)("div",{className:"uppy-Dashboard-FileCard-preview",style:{backgroundColor:ga(f.type).color}},(0,P.h)(va,{file:f}),v&&(0,P.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-FileCard-edit",onClick:function(e){S(e),u(f)}},c("editImage"))),(0,P.h)("div",{className:"uppy-Dashboard-FileCard-info"},(0,P.h)(Za,{computedMetaFields:g,requiredMetaFields:l,updateMeta:function(e,t){k(to(to({},w),{},(0,r.A)({},t,e)))},form:_,formState:w})),(0,P.h)("div",{className:"uppy-Dashboard-FileCard-actions"},(0,P.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Dashboard-FileCard-actionsBtn",type:"submit",form:_.id},c("saveChanges")),(0,P.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-link uppy-Dashboard-FileCard-actionsBtn",type:"button",onClick:F,form:_.id},c("cancel")))))}function ro(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ro=function(){return!!e})()}var io="uppy-transition-slideDownUp",ao=function(e){function t(e){var n;return(0,i.A)(this,t),n=function(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,ro()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}(this,t,[e]),n.state={cachedChildren:null,className:""},n}return(0,l.A)(t,e),(0,a.A)(t,[{key:"componentWillUpdate",value:function(e){var t=this,n=this.state.cachedChildren,r=(0,P.v2)(e.children)[0];if(n===r)return null;var i={cachedChildren:r};r&&!n&&(i.className="".concat(io,"-enter"),cancelAnimationFrame(this.animationFrame),clearTimeout(this.leaveTimeout),this.leaveTimeout=void 0,this.animationFrame=requestAnimationFrame((function(){t.setState({className:"".concat(io,"-enter ").concat(io,"-enter-active")}),t.enterTimeout=setTimeout((function(){t.setState({className:""})}),250)}))),n&&!r&&void 0===this.leaveTimeout&&(i.cachedChildren=n,i.className="".concat(io,"-leave"),cancelAnimationFrame(this.animationFrame),clearTimeout(this.enterTimeout),this.enterTimeout=void 0,this.animationFrame=requestAnimationFrame((function(){t.setState({className:"".concat(io,"-leave ").concat(io,"-leave-active")}),t.leaveTimeout=setTimeout((function(){t.setState({cachedChildren:null,className:""})}),250)}))),this.setState(i)}},{key:"render",value:function(){var e=this.state,t=e.cachedChildren,n=e.className;return t?(0,P.Ob)(t,{className:O(n,t.props.className)}):null}}])}(P.uA);const oo=ao;function so(){return so=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},so.apply(this,arguments)}const lo={strings:{closeModal:"Close Modal",addMoreFiles:"Add more files",addingMoreFiles:"Adding more files",importFrom:"Import from %{name}",dashboardWindowTitle:"Uppy Dashboard Window (Press escape to close)",dashboardTitle:"Uppy Dashboard",copyLinkToClipboardSuccess:"Link copied to clipboard.",copyLinkToClipboardFallback:"Copy the URL below",copyLink:"Copy link",back:"Back",removeFile:"Remove file",editFile:"Edit file",editImage:"Edit image",editing:"Editing %{file}",error:"Error",finishEditingFile:"Finish editing file",saveChanges:"Save changes",myDevice:"My Device",dropHint:"Drop your files here",uploadComplete:"Upload complete",uploadPaused:"Upload paused",resumeUpload:"Resume upload",pauseUpload:"Pause upload",retryUpload:"Retry upload",cancelUpload:"Cancel upload",xFilesSelected:{0:"%{smart_count} file selected",1:"%{smart_count} files selected"},uploadingXFiles:{0:"Uploading %{smart_count} file",1:"Uploading %{smart_count} files"},processingXFiles:{0:"Processing %{smart_count} file",1:"Processing %{smart_count} files"},poweredBy:"Powered by %{uppy}",addMore:"Add more",editFileWithFilename:"Edit file %{file}",save:"Save",cancel:"Cancel",dropPasteFiles:"Drop files here or %{browseFiles}",dropPasteFolders:"Drop files here or %{browseFolders}",dropPasteBoth:"Drop files here, %{browseFiles} or %{browseFolders}",dropPasteImportFiles:"Drop files here, %{browseFiles} or import from:",dropPasteImportFolders:"Drop files here, %{browseFolders} or import from:",dropPasteImportBoth:"Drop files here, %{browseFiles}, %{browseFolders} or import from:",importFiles:"Import files from:",browseFiles:"browse files",browseFolders:"browse folders",recoveredXFiles:{0:"We could not fully recover 1 file. Please re-select it and resume the upload.",1:"We could not fully recover %{smart_count} files. Please re-select them and resume the upload."},recoveredAllFiles:"We restored all files. You can now resume the upload.",sessionRestored:"Session restored",reSelect:"Re-select",missingRequiredMetaFields:{0:"Missing required meta field: %{fields}.",1:"Missing required meta fields: %{fields}."},takePictureBtn:"Take Picture",recordVideoBtn:"Record Video"}};function uo(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return co(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?co(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function co(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function po(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ho(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?po(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):po(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fo(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(fo=function(){return!!e})()}function go(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var vo=0;function mo(e){return"__private_"+vo+++"_"+e}var yo=sa.A.default||sa.A;function bo(){var e={};return e.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),e}var wo=mo("disabledNodes"),Po=mo("generateLargeThumbnailIfSingleFile"),Oo=mo("openFileEditorWhenFilesAdded"),ko=mo("attachRenderFunctionToTarget"),So=mo("isTargetSupported"),Fo=mo("getAcquirers"),Ao=mo("getProgressIndicators"),_o=mo("getEditors"),Co=mo("addSpecifiedPluginsFromOptions"),Do=mo("autoDiscoverPlugins"),xo=mo("addSupportedPluginIfNoTarget"),Bo=function(e){function t(e,n){var a,l;(0,i.A)(this,t),a=function(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,fo()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}(this,t,[e,n]),l=a,Object.defineProperty(a,wo,{writable:!0,value:null}),a.removeTarget=function(e){var t=a.getPluginState().targets.filter((function(t){return t.id!==e.id}));a.setPluginState({targets:t})},a.addTarget=function(e){var t=e.id||e.constructor.name,n=e.title||t,r=e.type;if("acquirer"===r||"progressindicator"===r||"editor"===r){var i={id:t,name:n,type:r},o=a.getPluginState().targets.slice();return o.push(i),a.setPluginState({targets:o}),a.el}a.uppy.log("Dashboard: can only be targeted by plugins of types: acquirer, progressindicator, editor","error")},a.hideAllPanels=function(){var e=a.getPluginState(),t={activePickerPanel:!1,showAddFilesPanel:!1,activeOverlayType:null,fileCardFor:null,showFileEditor:!1};e.activePickerPanel===t.activePickerPanel&&e.showAddFilesPanel===t.showAddFilesPanel&&e.showFileEditor===t.showFileEditor&&e.activeOverlayType===t.activeOverlayType||(a.setPluginState(t),a.uppy.emit("dashboard:close-panel",e.activePickerPanel.id))},a.showPanel=function(e){var t=a.getPluginState().targets.filter((function(t){return"acquirer"===t.type&&t.id===e}))[0];a.setPluginState({activePickerPanel:t,activeOverlayType:"PickerPanel"}),a.uppy.emit("dashboard:show-panel",e)},a.canEditFile=function(e){var t=a.getPluginState().targets;return go(a,_o)[_o](t).some((function(t){return a.uppy.getPlugin(t.id).canEditFile(e)}))},a.openFileEditor=function(e){var t=a.getPluginState().targets,n=go(a,_o)[_o](t);a.setPluginState({showFileEditor:!0,fileCardFor:e.id||null,activeOverlayType:"FileEditor"}),n.forEach((function(t){a.uppy.getPlugin(t.id).selectFile(e)}))},a.closeFileEditor=function(){var e=a.getPluginState().metaFields;e&&e.length>0?a.setPluginState({showFileEditor:!1,activeOverlayType:"FileCard"}):a.setPluginState({showFileEditor:!1,fileCardFor:null,activeOverlayType:"AddFiles"})},a.saveFileEditor=function(){var e=a.getPluginState().targets;go(a,_o)[_o](e).forEach((function(e){a.uppy.getPlugin(e.id).save()})),a.closeFileEditor()},a.openModal=function(){var e=bo(),t=e.promise,n=e.resolve;if(a.savedScrollPosition=window.pageYOffset,a.savedActiveElement=document.activeElement,a.opts.disablePageScrollWhenModalOpen&&document.body.classList.add("uppy-Dashboard-isFixed"),a.opts.animateOpenClose&&a.getPluginState().isClosing){var r=function(){a.setPluginState({isHidden:!1}),a.el.removeEventListener("animationend",r,!1),n()};a.el.addEventListener("animationend",r,!1)}else a.setPluginState({isHidden:!1}),n();return a.opts.browserBackButtonClose&&a.updateBrowserHistory(),document.addEventListener("keydown",a.handleKeyDownInModal),a.uppy.emit("dashboard:modal-open"),t},a.closeModal=function(e){void 0===e&&(e={});var t=e.manualClose,n=void 0===t||t,r=l.getPluginState(),i=r.isHidden,a=r.isClosing;if(!i&&!a){var o,s=bo(),u=s.promise,c=s.resolve;if(l.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),l.opts.animateOpenClose){l.setPluginState({isClosing:!0});var p=function(){l.setPluginState({isHidden:!0,isClosing:!1}),l.superFocus.cancel(),l.savedActiveElement.focus(),l.el.removeEventListener("animationend",p,!1),c()};l.el.addEventListener("animationend",p,!1)}else l.setPluginState({isHidden:!0}),l.superFocus.cancel(),l.savedActiveElement.focus(),c();if(document.removeEventListener("keydown",l.handleKeyDownInModal),n)if(l.opts.browserBackButtonClose)null!=(o=history.state)&&o[l.modalName]&&history.back();return l.uppy.emit("dashboard:modal-closed"),u}},a.isModalOpen=function(){return!a.getPluginState().isHidden||!1},a.requestCloseModal=function(){return a.opts.onRequestCloseModal?a.opts.onRequestCloseModal():a.closeModal()},a.setDarkModeCapability=function(e){var t=a.uppy.getState().capabilities;a.uppy.setState({capabilities:ho(ho({},t),{},{darkMode:e})})},a.handleSystemDarkModeChange=function(e){var t=e.matches;a.uppy.log("[Dashboard] Dark mode is ".concat(t?"on":"off")),a.setDarkModeCapability(t)},a.toggleFileCard=function(e,t){var n=a.uppy.getFile(t);e?a.uppy.emit("dashboard:file-edit-start",n):a.uppy.emit("dashboard:file-edit-complete",n),a.setPluginState({fileCardFor:e?t:null,activeOverlayType:e?"FileCard":null})},a.toggleAddFilesPanel=function(e){a.setPluginState({showAddFilesPanel:e,activeOverlayType:e?"AddFiles":null})},a.addFiles=function(e){var t=e.map((function(e){return{source:a.id,name:e.name,type:e.type,data:e,meta:{relativePath:e.relativePath||e.webkitRelativePath||null}}}));try{a.uppy.addFiles(t)}catch(e){a.uppy.log(e)}},a.startListeningToResize=function(){a.resizeObserver=new ResizeObserver((function(e){var t=e[0].contentRect,n=t.width,r=t.height;a.setPluginState({containerWidth:n,containerHeight:r,areInsidesReadyToBeVisible:!0})})),a.resizeObserver.observe(a.el.querySelector(".uppy-Dashboard-inner")),a.makeDashboardInsidesVisibleAnywayTimeout=setTimeout((function(){var e=a.getPluginState(),t=!a.opts.inline&&e.isHidden;e.areInsidesReadyToBeVisible||t||(a.uppy.log("[Dashboard] resize event didn’t fire on time: defaulted to mobile layout","warning"),a.setPluginState({areInsidesReadyToBeVisible:!0}))}),1e3)},a.stopListeningToResize=function(){a.resizeObserver.disconnect(),clearTimeout(a.makeDashboardInsidesVisibleAnywayTimeout)},a.recordIfFocusedOnUppyRecently=function(e){a.el.contains(e.target)?a.ifFocusedOnUppyRecently=!0:(a.ifFocusedOnUppyRecently=!1,a.superFocus.cancel())},a.disableInteractiveElements=function(e){var t,n,r=null!=(t=go(a,wo)[wo])?t:Qt(a.el.querySelectorAll(["a[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])",'[role="button"]:not([disabled])'])).filter((function(e){return!e.classList.contains("uppy-Dashboard-close")})),i=uo(r);try{for(i.s();!(n=i.n()).done;){var o=n.value;"A"===o.tagName?o.setAttribute("aria-disabled",e):o.disabled=e}}catch(e){i.e(e)}finally{i.f()}go(a,wo)[wo]=e?r:null,a.dashboardIsDisabled=e},a.updateBrowserHistory=function(){var e;null!=(e=history.state)&&e[a.modalName]||history.pushState(ho(ho({},history.state),{},(0,r.A)({},a.modalName,!0)),""),window.addEventListener("popstate",a.handlePopState,!1)},a.handlePopState=function(e){var t;!a.isModalOpen()||e.state&&e.state[a.modalName]||a.closeModal({manualClose:!1}),!a.isModalOpen()&&null!=(t=e.state)&&t[a.modalName]&&history.back()},a.handleKeyDownInModal=function(e){27===e.keyCode&&a.requestCloseModal(e),9===e.keyCode&&pa(e,a.getPluginState().activeOverlayType,a.el)},a.handleClickOutside=function(){a.opts.closeModalOnClickOutside&&a.requestCloseModal()},a.handlePaste=function(e){a.uppy.iteratePlugins((function(t){"acquirer"===t.type&&(null==t.handleRootPaste||t.handleRootPaste(e))}));var t=Qt(e.clipboardData.files);t.length>0&&(a.uppy.log("[Dashboard] Files pasted"),a.addFiles(t))},a.handleInputChange=function(e){e.preventDefault();var t=Qt(e.target.files);t.length>0&&(a.uppy.log("[Dashboard] Files selected through input"),a.addFiles(t))},a.handleDragOver=function(e){var t,n;e.preventDefault(),e.stopPropagation();var r=function(){var t=!0;return a.uppy.iteratePlugins((function(n){null!=n.canHandleRootDrop&&n.canHandleRootDrop(e)&&(t=!0)})),t}(),i=e.dataTransfer.types.some((function(e){return"Files"===e}));if(!r&&!i||a.opts.disabled||a.opts.disableLocalFiles&&(i||!r)||!a.uppy.getState().allowNewUpload)return e.dataTransfer.dropEffect="none",void clearTimeout(a.removeDragOverClassTimeout);e.dataTransfer.dropEffect="copy",clearTimeout(a.removeDragOverClassTimeout),a.setPluginState({isDraggingOver:!0}),null==(t=(n=a.opts).onDragOver)||t.call(n,e)},a.handleDragLeave=function(e){var t,n;e.preventDefault(),e.stopPropagation(),clearTimeout(a.removeDragOverClassTimeout),a.removeDragOverClassTimeout=setTimeout((function(){a.setPluginState({isDraggingOver:!1})}),50),null==(t=(n=a.opts).onDragLeave)||t.call(n,e)},a.handleDrop=function(){var e=(0,c.A)(p.mark((function e(t){var n,r,i,o,s;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),t.stopPropagation(),clearTimeout(a.removeDragOverClassTimeout),a.setPluginState({isDraggingOver:!1}),a.uppy.iteratePlugins((function(e){"acquirer"===e.type&&(null==e.handleRootDrop||e.handleRootDrop(t))})),i=!1,o=function(e){a.uppy.log(e,"error"),i||(a.uppy.info(e.message,"error"),i=!0)},a.uppy.log("[Dashboard] Processing dropped files"),e.next=10,gn(t.dataTransfer,{logDropError:o});case 10:(s=e.sent).length>0&&(a.uppy.log("[Dashboard] Files dropped"),a.addFiles(s)),null==(n=(r=a.opts).onDrop)||n.call(r,t);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleRequestThumbnail=function(e){a.opts.waitForThumbnailsBeforeUpload||a.uppy.emit("thumbnail:request",e)},a.handleCancelThumbnail=function(e){a.opts.waitForThumbnailsBeforeUpload||a.uppy.emit("thumbnail:cancel",e)},a.handleKeyDownInInline=function(e){9===e.keyCode&&function(e,t,n){null===t||pa(e,t,n)}(e,a.getPluginState().activeOverlayType,a.el)},a.handlePasteOnBody=function(e){a.el.contains(document.activeElement)&&a.handlePaste(e)},a.handleComplete=function(e){var t=e.failed;a.opts.closeAfterFinish&&0===t.length&&a.requestCloseModal()},a.handleCancelRestore=function(){a.uppy.emit("restore-canceled")},Object.defineProperty(a,Po,{writable:!0,value:function(){if(!a.opts.disableThumbnailGenerator){var e=a.uppy.getFiles();if(1===e.length){var t=a.uppy.getPlugin("".concat(a.id,":ThumbnailGenerator"));null==t||t.setOptions({thumbnailWidth:600});var n=ho(ho({},e[0]),{},{preview:void 0});t.requestThumbnail(n).then((function(){null==t||t.setOptions({thumbnailWidth:a.opts.thumbnailWidth})}))}}}}),Object.defineProperty(a,Oo,{writable:!0,value:function(e){var t=e[0],n=a.getPluginState().metaFields,r=n&&n.length>0,i=a.canEditFile(t);r?a.toggleFileCard(!0,t.id):i&&a.openFileEditor(t)}}),a.initEvents=function(){if(a.opts.trigger&&!a.opts.inline){var e=Yt(a.opts.trigger);e?e.forEach((function(e){return e.addEventListener("click",a.openModal)})):a.uppy.log("Dashboard modal trigger not found. Make sure `trigger` is set in Dashboard options, unless you are planning to call `dashboard.openModal()` method yourself","warning")}a.startListeningToResize(),document.addEventListener("paste",a.handlePasteOnBody),a.uppy.on("plugin-added",go(a,xo)[xo]),a.uppy.on("plugin-remove",a.removeTarget),a.uppy.on("file-added",a.hideAllPanels),a.uppy.on("dashboard:modal-closed",a.hideAllPanels),a.uppy.on("complete",a.handleComplete),a.uppy.on("files-added",go(a,Po)[Po]),a.uppy.on("file-removed",go(a,Po)[Po]),document.addEventListener("focus",a.recordIfFocusedOnUppyRecently,!0),document.addEventListener("click",a.recordIfFocusedOnUppyRecently,!0),a.opts.inline&&a.el.addEventListener("keydown",a.handleKeyDownInInline),a.opts.autoOpenFileEditor&&a.uppy.on("files-added",go(a,Oo)[Oo])},a.removeEvents=function(){var e=Yt(a.opts.trigger);!a.opts.inline&&e&&e.forEach((function(e){return e.removeEventListener("click",a.openModal)})),a.stopListeningToResize(),document.removeEventListener("paste",a.handlePasteOnBody),window.removeEventListener("popstate",a.handlePopState,!1),a.uppy.off("plugin-added",go(a,xo)[xo]),a.uppy.off("plugin-remove",a.removeTarget),a.uppy.off("file-added",a.hideAllPanels),a.uppy.off("dashboard:modal-closed",a.hideAllPanels),a.uppy.off("complete",a.handleComplete),a.uppy.off("files-added",go(a,Po)[Po]),a.uppy.off("file-removed",go(a,Po)[Po]),document.removeEventListener("focus",a.recordIfFocusedOnUppyRecently),document.removeEventListener("click",a.recordIfFocusedOnUppyRecently),a.opts.inline&&a.el.removeEventListener("keydown",a.handleKeyDownInInline),a.opts.autoOpenFileEditor&&a.uppy.off("files-added",go(a,Oo)[Oo])},a.superFocusOnEachUpdate=function(){var e=a.el.contains(document.activeElement),t=document.activeElement===document.body||null===document.activeElement,n=0===a.uppy.getState().info.length,r=!a.opts.inline;n&&(r||e||t&&a.ifFocusedOnUppyRecently)?a.superFocus(a.el,a.getPluginState().activeOverlayType):a.superFocus.cancel()},a.afterUpdate=function(){!a.opts.disabled||a.dashboardIsDisabled?(!a.opts.disabled&&a.dashboardIsDisabled&&a.disableInteractiveElements(!1),a.superFocusOnEachUpdate()):a.disableInteractiveElements(!0)},a.saveFileCard=function(e,t){a.uppy.setFileMeta(t,e),a.toggleFileCard(!1,t)},Object.defineProperty(a,ko,{writable:!0,value:function(e){var t=a.uppy.getPlugin(e.id);return ho(ho({},e),{},{icon:t.icon||a.opts.defaultPickerIcon,render:t.render})}}),Object.defineProperty(a,So,{writable:!0,value:function(e){var t=a.uppy.getPlugin(e.id);return"function"!=typeof t.isSupported||t.isSupported()}}),Object.defineProperty(a,Fo,{writable:!0,value:yo((function(e){return e.filter((function(e){return"acquirer"===e.type&&go(a,So)[So](e)})).map(go(a,ko)[ko])}))}),Object.defineProperty(a,Ao,{writable:!0,value:yo((function(e){return e.filter((function(e){return"progressindicator"===e.type})).map(go(a,ko)[ko])}))}),Object.defineProperty(a,_o,{writable:!0,value:yo((function(e){return e.filter((function(e){return"editor"===e.type})).map(go(a,ko)[ko])}))}),a.render=function(e){var t,n=a.getPluginState(),r=e.files,i=e.capabilities,o=e.allowNewUpload,s=a.uppy.getObjectOfFilesPerState(),l=s.newFiles,u=s.uploadStartedFiles,c=s.completeFiles,p=s.erroredFiles,d=s.inProgressFiles,h=s.inProgressNotPausedFiles,f=s.processingFiles,g=s.isUploadStarted,v=s.isAllComplete,m=s.isAllErrored,y=s.isAllPaused,b=go(a,Fo)[Fo](n.targets),w=go(a,Ao)[Ao](n.targets),k=go(a,_o)[_o](n.targets);return t="auto"===a.opts.theme?i.darkMode?"dark":"light":a.opts.theme,["files","folders","both"].indexOf(a.opts.fileManagerSelectionType)<0&&(a.opts.fileManagerSelectionType="files",console.warn('Unsupported option for "fileManagerSelectionType". Using default of "'.concat(a.opts.fileManagerSelectionType,'".'))),function(e){var t=0===e.totalFileCount,n=1===e.totalFileCount,r=e.containerWidth>576,i=e.containerHeight>330,a=O({"uppy-Dashboard":!0,"uppy-Dashboard--isDisabled":e.disabled,"uppy-Dashboard--animateOpenClose":e.animateOpenClose,"uppy-Dashboard--isClosing":e.isClosing,"uppy-Dashboard--isDraggingOver":e.isDraggingOver,"uppy-Dashboard--modal":!e.inline,"uppy-size--md":e.containerWidth>576,"uppy-size--lg":e.containerWidth>700,"uppy-size--xl":e.containerWidth>900,"uppy-size--height-md":e.containerHeight>330,"uppy-Dashboard--isAddFilesPanelVisible":e.showAddFilesPanel,"uppy-Dashboard--isInnerWrapVisible":e.areInsidesReadyToBeVisible,"uppy-Dashboard--singleFile":e.singleFileFullScreen&&n&&i}),o=1;e.containerWidth>900?o=5:e.containerWidth>700?o=4:e.containerWidth>576&&(o=3);var s=e.showSelectedFiles&&!t,l=e.recoveredState?Object.keys(e.recoveredState.files).length:null,u=e.files?Object.keys(e.files).filter((function(t){return e.files[t].isGhost})).length:null;return(0,P.h)("div",{className:a,"data-uppy-theme":e.theme,"data-uppy-num-acquirers":e.acquirers.length,"data-uppy-drag-drop-supported":!e.disableLocalFiles&&ha(),"aria-hidden":e.inline?"false":e.isHidden,"aria-disabled":e.disabled,"aria-label":e.inline?e.i18n("dashboardTitle"):e.i18n("dashboardWindowTitle"),onPaste:e.handlePaste,onDragOver:e.handleDragOver,onDragLeave:e.handleDragLeave,onDrop:e.handleDrop},(0,P.h)("div",{"aria-hidden":"true",className:"uppy-Dashboard-overlay",tabIndex:-1,onClick:e.handleClickOutside}),(0,P.h)("div",{className:"uppy-Dashboard-inner","aria-modal":!e.inline&&"true",role:!e.inline&&"dialog",style:{width:e.inline&&e.width?e.width:"",height:e.inline&&e.height?e.height:""}},e.inline?null:(0,P.h)("button",{className:"uppy-u-reset uppy-Dashboard-close",type:"button","aria-label":e.i18n("closeModal"),title:e.i18n("closeModal"),onClick:e.closeModal},(0,P.h)("span",{"aria-hidden":"true"},"×")),(0,P.h)("div",{className:"uppy-Dashboard-innerWrap"},(0,P.h)("div",{className:"uppy-Dashboard-dropFilesHereHint"},e.i18n("dropHint")),s&&(0,P.h)(Ja,e),l&&(0,P.h)("div",{className:"uppy-Dashboard-serviceMsg"},(0,P.h)("svg",{className:"uppy-Dashboard-serviceMsg-icon","aria-hidden":"true",focusable:"false",width:"21",height:"16",viewBox:"0 0 24 19"},(0,P.h)("g",{transform:"translate(0 -1)",fill:"none",fillRule:"evenodd"},(0,P.h)("path",{d:"M12.857 1.43l10.234 17.056A1 1 0 0122.234 20H1.766a1 1 0 01-.857-1.514L11.143 1.429a1 1 0 011.714 0z",fill:"#FFD300"}),(0,P.h)("path",{fill:"#000",d:"M11 6h2l-.3 8h-1.4z"}),(0,P.h)("circle",{fill:"#000",cx:"12",cy:"17",r:"1"}))),(0,P.h)("strong",{className:"uppy-Dashboard-serviceMsg-title"},e.i18n("sessionRestored")),(0,P.h)("div",{className:"uppy-Dashboard-serviceMsg-text"},u>0?e.i18n("recoveredXFiles",{smart_count:u}):e.i18n("recoveredAllFiles"))),s?(0,P.h)(ja,{id:e.id,error:e.error,i18n:e.i18n,uppy:e.uppy,files:e.files,acquirers:e.acquirers,resumableUploads:e.resumableUploads,hideRetryButton:e.hideRetryButton,hidePauseResumeButton:e.hidePauseResumeButton,hideCancelButton:e.hideCancelButton,showLinkToFileUploadResult:e.showLinkToFileUploadResult,showRemoveButtonAfterComplete:e.showRemoveButtonAfterComplete,isWide:e.isWide,metaFields:e.metaFields,toggleFileCard:e.toggleFileCard,handleRequestThumbnail:e.handleRequestThumbnail,handleCancelThumbnail:e.handleCancelThumbnail,recoveredState:e.recoveredState,individualCancellation:e.individualCancellation,openFileEditor:e.openFileEditor,canEditFile:e.canEditFile,toggleAddFilesPanel:e.toggleAddFilesPanel,isSingleFile:n,itemsPerRow:o}):(0,P.h)(Ra,so({},e,{isSizeMD:r})),(0,P.h)(oo,null,e.showAddFilesPanel?(0,P.h)(La,so({key:"AddFiles"},e,{isSizeMD:r})):null),(0,P.h)(oo,null,e.fileCardFor?(0,P.h)(no,so({key:"FileCard"},e)):null),(0,P.h)(oo,null,e.activePickerPanel?(0,P.h)(Ha,so({key:"Picker"},e)):null),(0,P.h)(oo,null,e.showFileEditor?(0,P.h)(qa,so({key:"Editor"},e)):null),(0,P.h)("div",{className:"uppy-Dashboard-progressindicators"},e.progressindicators.map((function(t){return e.uppy.getPlugin(t.id).render(e.state)}))))))}({state:e,isHidden:n.isHidden,files:r,newFiles:l,uploadStartedFiles:u,completeFiles:c,erroredFiles:p,inProgressFiles:d,inProgressNotPausedFiles:h,processingFiles:f,isUploadStarted:g,isAllComplete:v,isAllErrored:m,isAllPaused:y,totalFileCount:Object.keys(r).length,totalProgress:e.totalProgress,allowNewUpload:o,acquirers:b,theme:t,disabled:a.opts.disabled,disableLocalFiles:a.opts.disableLocalFiles,direction:a.opts.direction,activePickerPanel:n.activePickerPanel,showFileEditor:n.showFileEditor,saveFileEditor:a.saveFileEditor,closeFileEditor:a.closeFileEditor,disableInteractiveElements:a.disableInteractiveElements,animateOpenClose:a.opts.animateOpenClose,isClosing:n.isClosing,progressindicators:w,editors:k,autoProceed:a.uppy.opts.autoProceed,id:a.id,closeModal:a.requestCloseModal,handleClickOutside:a.handleClickOutside,handleInputChange:a.handleInputChange,handlePaste:a.handlePaste,inline:a.opts.inline,showPanel:a.showPanel,hideAllPanels:a.hideAllPanels,i18n:a.i18n,i18nArray:a.i18nArray,uppy:a.uppy,note:a.opts.note,recoveredState:e.recoveredState,metaFields:n.metaFields,resumableUploads:i.resumableUploads||!1,individualCancellation:i.individualCancellation,isMobileDevice:i.isMobileDevice,fileCardFor:n.fileCardFor,toggleFileCard:a.toggleFileCard,toggleAddFilesPanel:a.toggleAddFilesPanel,showAddFilesPanel:n.showAddFilesPanel,saveFileCard:a.saveFileCard,openFileEditor:a.openFileEditor,canEditFile:a.canEditFile,width:a.opts.width,height:a.opts.height,showLinkToFileUploadResult:a.opts.showLinkToFileUploadResult,fileManagerSelectionType:a.opts.fileManagerSelectionType,proudlyDisplayPoweredByUppy:a.opts.proudlyDisplayPoweredByUppy,hideCancelButton:a.opts.hideCancelButton,hideRetryButton:a.opts.hideRetryButton,hidePauseResumeButton:a.opts.hidePauseResumeButton,showRemoveButtonAfterComplete:a.opts.showRemoveButtonAfterComplete,containerWidth:n.containerWidth,containerHeight:n.containerHeight,areInsidesReadyToBeVisible:n.areInsidesReadyToBeVisible,isTargetDOMEl:a.isTargetDOMEl,parentElement:a.el,allowedFileTypes:a.uppy.opts.restrictions.allowedFileTypes,maxNumberOfFiles:a.uppy.opts.restrictions.maxNumberOfFiles,requiredMetaFields:a.uppy.opts.restrictions.requiredMetaFields,showSelectedFiles:a.opts.showSelectedFiles,showNativePhotoCameraButton:a.opts.showNativePhotoCameraButton,showNativeVideoCameraButton:a.opts.showNativeVideoCameraButton,nativeCameraFacingMode:a.opts.nativeCameraFacingMode,singleFileFullScreen:a.opts.singleFileFullScreen,handleCancelRestore:a.handleCancelRestore,handleRequestThumbnail:a.handleRequestThumbnail,handleCancelThumbnail:a.handleCancelThumbnail,isDraggingOver:n.isDraggingOver,handleDragOver:a.handleDragOver,handleDragLeave:a.handleDragLeave,handleDrop:a.handleDrop})},Object.defineProperty(a,Co,{writable:!0,value:function(){(a.opts.plugins||[]).forEach((function(e){var t=a.uppy.getPlugin(e);t?t.mount(a,t):a.uppy.log("[Uppy] Dashboard could not find plugin '".concat(e,"', make sure to uppy.use() the plugins you are specifying"),"warning")}))}}),Object.defineProperty(a,Do,{writable:!0,value:function(){a.uppy.iteratePlugins(go(a,xo)[xo])}}),Object.defineProperty(a,xo,{writable:!0,value:function(e){var t;!e||null!=(t=e.opts)&&t.target||!["acquirer","editor"].includes(e.type)||(a.getPluginState().targets.some((function(t){return e.id===t.id}))||e.mount(a,e))}}),a.install=function(){a.setPluginState({isHidden:!0,fileCardFor:null,activeOverlayType:null,showAddFilesPanel:!1,activePickerPanel:!1,showFileEditor:!1,metaFields:a.opts.metaFields,targets:[],areInsidesReadyToBeVisible:!1,isDraggingOver:!1});var e=a.opts,t=e.inline,n=e.closeAfterFinish;if(t&&n)throw new Error("[Dashboard] `closeAfterFinish: true` cannot be used on an inline Dashboard, because an inline Dashboard cannot be closed at all. Either set `inline: false`, or disable the `closeAfterFinish` option.");var r=a.uppy.opts,i=r.allowMultipleUploads,o=r.allowMultipleUploadBatches;(i||o)&&n&&a.uppy.log("[Dashboard] When using `closeAfterFinish`, we recommended setting the `allowMultipleUploadBatches` option to `false` in the Uppy constructor. See https://uppy.io/docs/uppy/#allowMultipleUploads-true","warning");var s=a.opts.target;s&&a.mount(s,a),a.opts.disableStatusBar||a.uppy.use(le,{id:"".concat(a.id,":StatusBar"),target:a,hideUploadButton:a.opts.hideUploadButton,hideRetryButton:a.opts.hideRetryButton,hidePauseResumeButton:a.opts.hidePauseResumeButton,hideCancelButton:a.opts.hideCancelButton,showProgressDetails:a.opts.showProgressDetails,hideAfterFinish:a.opts.hideProgressAfterFinish,locale:a.opts.locale,doneButtonHandler:a.opts.doneButtonHandler}),a.opts.disableInformer||a.uppy.use(Pe,{id:"".concat(a.id,":Informer"),target:a}),a.opts.disableThumbnailGenerator||a.uppy.use(Gt,{id:"".concat(a.id,":ThumbnailGenerator"),thumbnailWidth:a.opts.thumbnailWidth,thumbnailHeight:a.opts.thumbnailHeight,thumbnailType:a.opts.thumbnailType,waitForThumbnailsBeforeUpload:a.opts.waitForThumbnailsBeforeUpload,lazy:!a.opts.waitForThumbnailsBeforeUpload}),a.darkModeMediaQuery="undefined"!=typeof window&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null;var l=!!a.darkModeMediaQuery&&a.darkModeMediaQuery.matches;a.uppy.log("[Dashboard] Dark mode is ".concat(l?"on":"off")),a.setDarkModeCapability(l),"auto"===a.opts.theme&&a.darkModeMediaQuery.addListener(a.handleSystemDarkModeChange),go(a,Co)[Co](),go(a,Do)[Do](),a.initEvents()},a.uninstall=function(){if(!a.opts.disableInformer){var e=a.uppy.getPlugin("".concat(a.id,":Informer"));e&&a.uppy.removePlugin(e)}if(!a.opts.disableStatusBar){var t=a.uppy.getPlugin("".concat(a.id,":StatusBar"));t&&a.uppy.removePlugin(t)}if(!a.opts.disableThumbnailGenerator){var n=a.uppy.getPlugin("".concat(a.id,":ThumbnailGenerator"));n&&a.uppy.removePlugin(n)}(a.opts.plugins||[]).forEach((function(e){var t=a.uppy.getPlugin(e);t&&t.unmount()})),"auto"===a.opts.theme&&a.darkModeMediaQuery.removeListener(a.handleSystemDarkModeChange),a.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),a.unmount(),a.removeEvents()},a.id=a.opts.id||"Dashboard",a.title="Dashboard",a.type="orchestrator",a.modalName="uppy-Dashboard-".concat((0,oi.A)()),a.defaultLocale=lo;var u,d={target:"body",metaFields:[],trigger:null,inline:!1,width:750,height:550,thumbnailWidth:280,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,defaultPickerIcon:Ui,showLinkToFileUploadResult:!1,showProgressDetails:!1,hideUploadButton:!1,hideCancelButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideProgressAfterFinish:!1,doneButtonHandler:function(){a.uppy.clearUploadedFiles(),a.requestCloseModal()},note:null,closeModalOnClickOutside:!1,closeAfterFinish:!1,singleFileFullScreen:!0,disableStatusBar:!1,disableInformer:!1,disableThumbnailGenerator:!1,disablePageScrollWhenModalOpen:!0,animateOpenClose:!0,fileManagerSelectionType:"files",proudlyDisplayPoweredByUppy:!0,onRequestCloseModal:function(){return a.closeModal()},showSelectedFiles:!0,showRemoveButtonAfterComplete:!1,browserBackButtonClose:!1,showNativePhotoCameraButton:!1,showNativeVideoCameraButton:!1,theme:"light",autoOpenFileEditor:!1,disabled:!1,disableLocalFiles:!1};return a.opts=ho(ho({},d),n),a.i18nInit(),a.superFocus=(u=!1,da((function(e,t){var n=ua(e,t),r=n.contains(document.activeElement);if(!r||!u){var i=n.querySelector("[data-uppy-super-focusable]");if(!r||i)if(i)i.focus({preventScroll:!0}),u=!0;else{var a=n.querySelector(la);null==a||a.focus({preventScroll:!0}),u=!1}}}),260)),a.ifFocusedOnUppyRecently=!1,a.makeDashboardInsidesVisibleAnywayTimeout=null,a.removeDragOverClassTimeout=null,a}return(0,l.A)(t,e),(0,a.A)(t)}(d.A);Bo.VERSION="3.7.5";var To=n(1352),Eo=n(78655),Uo=To.instanceOf(Eo.A),jo=To.arrayOf(To.string),No=To.shape({strings:To.object,pluralize:To.func}),Io=To.shape({id:To.string.isRequired,name:To.string.isRequired,placeholder:To.string}),Mo=To.oneOfType([To.arrayOf(Io),To.func]),Ro=To.oneOfType([To.string,To.number]),Lo={uppy:Uo,inline:To.bool,plugins:jo,width:Ro,height:Ro,showProgressDetails:To.bool,hideUploadButton:To.bool,hideProgressAfterFinish:To.bool,note:To.string,metaFields:Mo,proudlyDisplayPoweredByUppy:To.bool,disableStatusBar:To.bool,disableInformer:To.bool,disableThumbnailGenerator:To.bool,thumbnailWidth:To.number,locale:No},zo=(n(53921),["defaultChecked","defaultValue","suppressContentEditableWarning","suppressHydrationWarning","dangerouslySetInnerHTML","accessKey","className","contentEditable","contextMenu","dir","draggable","hidden","id","lang","placeholder","slot","spellCheck","style","tabIndex","title","translate","radioGroup","role","about","datatype","inlist","prefix","property","resource","typeof","vocab","autoCapitalize","autoCorrect","autoSave","color","itemProp","itemScope","itemType","itemID","itemRef","results","security","unselectable","inputMode","is","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"]),Ho=/^(aria-|data-)/;const qo=function(e){return Object.fromEntries(Object.entries(e).filter((function(e){var t=(0,de.A)(e,1)[0];return Ho.test(t)||zo.includes(t)})))};n(78347);function Vo(e,t){return Object.keys(e).some((function(n){return!Object.hasOwn(e,n)&&e[n]!==t[n]}))}function Wo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ko(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wo(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Go(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Go=function(){return!!e})()}var $o=function(e){function t(){return(0,i.A)(this,t),function(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,Go()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}(this,t,arguments)}return(0,l.A)(t,e),(0,a.A)(t,[{key:"componentDidMount",value:function(){this.installPlugin()}},{key:"componentDidUpdate",value:function(e){if(e.uppy!==this.props.uppy)this.uninstallPlugin(e),this.installPlugin();else if(Vo(this.props,e)){var t=Ko(Ko({},this.props),{},{target:this.container});delete t.uppy,this.plugin.setOptions(t)}}},{key:"componentWillUnmount",value:function(){this.uninstallPlugin()}},{key:"installPlugin",value:function(){var e=this.props.uppy,t=Ko(Ko({id:"react:Dashboard"},this.props),{},{target:this.container});delete t.uppy,e.use(Bo,t),this.plugin=e.getPlugin(t.id)}},{key:"uninstallPlugin",value:function(e){void 0===e&&(e=this.props),e.uppy.removePlugin(this.plugin)}},{key:"render",value:function(){var e=this;return(0,u.createElement)("div",Ko({className:"uppy-Container",ref:function(t){e.container=t}},qo(this.props)))}}])}(u.Component);$o.propTypes=Lo,$o.defaultProps={inline:!0};const Xo=$o;function Yo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yo(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jo(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Jo=function(){return!!e})()}var Zo=function(e){function t(){return(0,i.A)(this,t),function(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,Jo()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}(this,t,arguments)}return(0,l.A)(t,e),(0,a.A)(t,[{key:"componentDidMount",value:function(){this.installPlugin()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.uppy,r=t.open,i=t.onRequestClose;if(e.uppy!==n)this.uninstallPlugin(e),this.installPlugin();else if(Vo(this.props,e)){var a=Qo(Qo({},this.props),{},{onRequestCloseModal:i});delete a.uppy,this.plugin.setOptions(a)}e.open&&!r?this.plugin.closeModal():!e.open&&r&&this.plugin.openModal()}},{key:"componentWillUnmount",value:function(){this.uninstallPlugin()}},{key:"installPlugin",value:function(){var e=this.props,t=e.id,n=void 0===t?"react:DashboardModal":t,r=e.uppy,i=e.target,a=e.open,o=e.onRequestClose,s={id:n,target:i,closeModalOnClickOutside:e.closeModalOnClickOutside,disablePageScrollWhenModalOpen:e.disablePageScrollWhenModalOpen,inline:e.inline,plugins:e.plugins,width:e.width,height:e.height,showProgressDetails:e.showProgressDetails,note:e.note,metaFields:e.metaFields,proudlyDisplayPoweredByUppy:e.proudlyDisplayPoweredByUppy,autoOpenFileEditor:e.autoOpenFileEditor,animateOpenClose:e.animateOpenClose,browserBackButtonClose:e.browserBackButtonClose,closeAfterFinish:e.closeAfterFinish,disableStatusBar:e.disableStatusBar,disableInformer:e.disableInformer,disableThumbnailGenerator:e.disableThumbnailGenerator,disableLocalFiles:e.disableLocalFiles,disabled:e.disabled,hideCancelButton:e.hideCancelButton,hidePauseResumeButton:e.hidePauseResumeButton,hideProgressAfterFinish:e.hideProgressAfterFinish,hideRetryButton:e.hideRetryButton,hideUploadButton:e.hideUploadButton,showLinkToFileUploadResult:e.showLinkToFileUploadResult,showRemoveButtonAfterComplete:e.showRemoveButtonAfterComplete,showSelectedFiles:e.showSelectedFiles,waitForThumbnailsBeforeUpload:e.waitForThumbnailsBeforeUpload,fileManagerSelectionType:e.fileManagerSelectionType,theme:e.theme,thumbnailType:e.thumbnailType,thumbnailWidth:e.thumbnailWidth,locale:e.locale,onRequestCloseModal:o};s.target||(s.target=this.container),delete s.uppy,r.use(Bo,s),this.plugin=r.getPlugin(s.id),a&&this.plugin.openModal()}},{key:"uninstallPlugin",value:function(e){void 0===e&&(e=this.props),e.uppy.removePlugin(this.plugin)}},{key:"render",value:function(){var e=this;return(0,u.createElement)("div",Qo({className:"uppy-Container",ref:function(t){e.container=t}},qo(this.props)))}}])}(u.Component);Zo.propTypes={uppy:Uo.isRequired,target:"undefined"!=typeof window?To.instanceOf(window.HTMLElement):To.any,open:To.bool,onRequestClose:To.func,closeModalOnClickOutside:To.bool,disablePageScrollWhenModalOpen:To.bool,inline:To.bool,plugins:jo,width:Ro,height:Ro,showProgressDetails:To.bool,note:To.string,metaFields:Mo,proudlyDisplayPoweredByUppy:To.bool,autoOpenFileEditor:To.bool,animateOpenClose:To.bool,browserBackButtonClose:To.bool,closeAfterFinish:To.bool,disableStatusBar:To.bool,disableInformer:To.bool,disableThumbnailGenerator:To.bool,disableLocalFiles:To.bool,disabled:To.bool,hideCancelButton:To.bool,hidePauseResumeButton:To.bool,hideProgressAfterFinish:To.bool,hideRetryButton:To.bool,hideUploadButton:To.bool,showLinkToFileUploadResult:To.bool,showRemoveButtonAfterComplete:To.bool,showSelectedFiles:To.bool,waitForThumbnailsBeforeUpload:To.bool,fileManagerSelectionType:To.string,theme:To.string,thumbnailType:To.string,thumbnailWidth:To.number,locale:No},Zo.defaultProps={metaFields:[],plugins:[],inline:!1,width:750,height:550,thumbnailWidth:280,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,showLinkToFileUploadResult:!1,showProgressDetails:!1,hideUploadButton:!1,hideCancelButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideProgressAfterFinish:!1,note:null,closeModalOnClickOutside:!1,closeAfterFinish:!1,disableStatusBar:!1,disableInformer:!1,disableThumbnailGenerator:!1,disablePageScrollWhenModalOpen:!0,animateOpenClose:!0,fileManagerSelectionType:"files",proudlyDisplayPoweredByUppy:!0,showSelectedFiles:!0,showRemoveButtonAfterComplete:!1,browserBackButtonClose:!1,theme:"light",autoOpenFileEditor:!1,disabled:!1,disableLocalFiles:!1,open:void 0,target:void 0,locale:null,onRequestClose:void 0};const es=Zo,ts={strings:{dropHereOr:"Drop here or %{browse}",browse:"browse"}};function ns(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ns(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ns(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function is(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(is=function(){return!!e})()}var as=function(e){function t(e,n){var r;(0,i.A)(this,t),r=function(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,is()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}(this,t,[e,n]),r.handleDrop=function(){var e=(0,c.A)(p.mark((function e(t){var n,i,a,o;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),t.stopPropagation(),clearTimeout(r.removeDragOverClassTimeout),r.setPluginState({isDraggingOver:!1}),a=function(e){r.uppy.log(e,"error")},e.next=7,gn(t.dataTransfer,{logDropError:a});case 7:(o=e.sent).length>0&&(r.uppy.log("[DragDrop] Files dropped"),r.addFiles(o)),null==(n=(i=r.opts).onDrop)||n.call(i,t);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.type="acquirer",r.id=r.opts.id||"DragDrop",r.title="Drag & Drop",r.defaultLocale=ts;return r.opts=rs(rs({},{target:null,inputName:"files[]",width:"100%",height:"100%",note:null}),n),r.i18nInit(),r.isDragDropSupported=ha(),r.removeDragOverClassTimeout=null,r.onInputChange=r.onInputChange.bind(r),r.handleDragOver=r.handleDragOver.bind(r),r.handleDragLeave=r.handleDragLeave.bind(r),r.handleDrop=r.handleDrop.bind(r),r.addFiles=r.addFiles.bind(r),r.render=r.render.bind(r),r}return(0,l.A)(t,e),(0,a.A)(t,[{key:"addFiles",value:function(e){var t=this,n=e.map((function(e){return{source:t.id,name:e.name,type:e.type,data:e,meta:{relativePath:e.relativePath||null}}}));try{this.uppy.addFiles(n)}catch(e){this.uppy.log(e)}}},{key:"onInputChange",value:function(e){var t=Qt(e.target.files);t.length>0&&(this.uppy.log("[DragDrop] Files selected through input"),this.addFiles(t)),e.target.value=null}},{key:"handleDragOver",value:function(e){var t,n;e.preventDefault(),e.stopPropagation();var r=e.dataTransfer.types.some((function(e){return"Files"===e})),i=this.uppy.getState().allowNewUpload;if(!r||!i)return e.dataTransfer.dropEffect="none",void clearTimeout(this.removeDragOverClassTimeout);e.dataTransfer.dropEffect="copy",clearTimeout(this.removeDragOverClassTimeout),this.setPluginState({isDraggingOver:!0}),null==(t=(n=this.opts).onDragOver)||t.call(n,e)}},{key:"handleDragLeave",value:function(e){var t,n,r=this;e.preventDefault(),e.stopPropagation(),clearTimeout(this.removeDragOverClassTimeout),this.removeDragOverClassTimeout=setTimeout((function(){r.setPluginState({isDraggingOver:!1})}),50),null==(t=(n=this.opts).onDragLeave)||t.call(n,e)}},{key:"renderHiddenFileInput",value:function(){var e=this,t=this.uppy.opts.restrictions;return(0,P.h)("input",{className:"uppy-DragDrop-input",type:"file",hidden:!0,ref:function(t){e.fileInputRef=t},name:this.opts.inputName,multiple:1!==t.maxNumberOfFiles,accept:t.allowedFileTypes,onChange:this.onInputChange})}},{key:"renderLabel",value:function(){return(0,P.h)("div",{className:"uppy-DragDrop-label"},this.i18nArray("dropHereOr",{browse:(0,P.h)("span",{className:"uppy-DragDrop-browse"},this.i18n("browse"))}))}},{key:"renderNote",value:function(){return(0,P.h)("span",{className:"uppy-DragDrop-note"},this.opts.note)}},{key:"render",value:function(){var e=this,n="uppy-u-reset\n      uppy-DragDrop-container\n      ".concat(this.isDragDropSupported?"uppy-DragDrop--isDragDropSupported":"","\n      ").concat(this.getPluginState().isDraggingOver?"uppy-DragDrop--isDraggingOver":"","\n    "),r={width:this.opts.width,height:this.opts.height};return(0,P.h)("button",{type:"button",className:n,style:r,onClick:function(){return e.fileInputRef.click()},onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop},this.renderHiddenFileInput(),(0,P.h)("div",{className:"uppy-DragDrop-inner"},t.renderArrowSvg(),this.renderLabel(),this.renderNote()))}},{key:"install",value:function(){var e=this.opts.target;this.setPluginState({isDraggingOver:!1}),e&&this.mount(e,this)}},{key:"uninstall",value:function(){this.unmount()}}],[{key:"renderArrowSvg",value:function(){return(0,P.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-DragDrop-arrow",width:"16",height:"16",viewBox:"0 0 16 16"},(0,P.h)("path",{d:"M11 10V0H5v10H2l6 6 6-6h-3zm0 0",fillRule:"evenodd"}))}}])}(d.A);function os(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ss(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?os(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):os(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ls(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ls=function(){return!!e})()}as.VERSION="3.0.3";var us=function(e){function t(){return(0,i.A)(this,t),function(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,ls()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}(this,t,arguments)}return(0,l.A)(t,e),(0,a.A)(t,[{key:"componentDidMount",value:function(){this.installPlugin()}},{key:"componentDidUpdate",value:function(e){if(e.uppy!==this.props.uppy)this.uninstallPlugin(e),this.installPlugin();else if(Vo(this.props,e)){var t=ss(ss({},this.props),{},{target:this.container});delete t.uppy,this.plugin.setOptions(t)}}},{key:"componentWillUnmount",value:function(){this.uninstallPlugin()}},{key:"installPlugin",value:function(){var e=this.props,t=e.uppy,n={id:"react:DragDrop",locale:e.locale,inputName:e.inputName,width:e.width,height:e.height,note:e.note,target:this.container};delete n.uppy,t.use(as,n),this.plugin=t.getPlugin(n.id)}},{key:"uninstallPlugin",value:function(e){void 0===e&&(e=this.props),e.uppy.removePlugin(this.plugin)}},{key:"render",value:function(){var e=this;return(0,u.createElement)("div",ss({className:"uppy-Container",ref:function(t){e.container=t}},qo(this.props)))}}])}(u.Component);us.propTypes={uppy:Uo.isRequired,locale:No,inputName:To.string,width:To.string,height:To.string,note:To.string},us.defaultProps={locale:null,inputName:"files[]",width:"100%",height:"100%",note:null};const cs=us;n(94298);function ps(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ds(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ps(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ps(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hs(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(hs=function(){return!!e})()}var fs={target:"body",fixed:!1,hideAfterFinish:!0},gs=function(e){function t(e,n){var r;return(0,i.A)(this,t),r=function(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,hs()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}(this,t,[e,ds(ds({},fs),n)]),r.id=r.opts.id||"ProgressBar",r.title="Progress Bar",r.type="progressindicator",r.render=r.render.bind(r),r}return(0,l.A)(t,e),(0,a.A)(t,[{key:"render",value:function(e){var t=e.totalProgress||0,n=(0===t||100===t)&&this.opts.hideAfterFinish;return(0,P.h)("div",{className:"uppy uppy-ProgressBar",style:{position:this.opts.fixed?"fixed":"initial"},"aria-hidden":n},(0,P.h)("div",{className:"uppy-ProgressBar-inner",style:{width:"".concat(t,"%")}}),(0,P.h)("div",{className:"uppy-ProgressBar-percentage"},t))}},{key:"install",value:function(){var e=this.opts.target;e&&this.mount(e,this)}},{key:"uninstall",value:function(){this.unmount()}}])}(d.A);function vs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ms(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vs(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ys(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ys=function(){return!!e})()}gs.VERSION="3.1.0";var bs=function(e){function t(){return(0,i.A)(this,t),function(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,ys()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}(this,t,arguments)}return(0,l.A)(t,e),(0,a.A)(t,[{key:"componentDidMount",value:function(){this.installPlugin()}},{key:"componentDidUpdate",value:function(e){if(e.uppy!==this.props.uppy)this.uninstallPlugin(e),this.installPlugin();else if(Vo(this.props,e)){var t=ms(ms({},this.props),{},{target:this.container});delete t.uppy,this.plugin.setOptions(t)}}},{key:"componentWillUnmount",value:function(){this.uninstallPlugin()}},{key:"installPlugin",value:function(){var e=this.props,t=e.uppy,n={id:"react:ProgressBar",fixed:e.fixed,hideAfterFinish:e.hideAfterFinish,target:this.container};delete n.uppy,t.use(gs,n),this.plugin=t.getPlugin(n.id)}},{key:"uninstallPlugin",value:function(e){void 0===e&&(e=this.props),e.uppy.removePlugin(this.plugin)}},{key:"render",value:function(){var e=this;return(0,u.createElement)("div",ms({className:"uppy-Container",ref:function(t){e.container=t}},qo(this.props)))}}])}(u.Component);bs.propTypes={uppy:Uo.isRequired,fixed:To.bool,hideAfterFinish:To.bool},bs.defaultProps={fixed:!1,hideAfterFinish:!0};const ws=bs;const Ps="error",Os="waiting",ks="preprocessing",Ss="uploading",Fs="postprocessing",As="complete";function _s(e){for(var t,n,r=[],i=0,a=Object.values(e);i<a.length;i++){var o=a[i].progress,s=o.preprocess,l=o.postprocess;if(null==n&&(s||l)){var u=s||l;t=u.mode,n=u.message}"determinate"===(null==s?void 0:s.mode)&&r.push(s.value),"determinate"===(null==l?void 0:l.mode)&&r.push(l.value)}return{mode:t,message:n,value:r.reduce((function(e,t){return e+t/r.length}),0)}}var Cs=n(33758),Ds=n(61643),xs=function(){return" ".concat("·"," ")};function Bs(e){var t=e.newFiles,n=e.isUploadStarted,r=e.recoveredState,i=e.i18n,a=e.uploadState,o=e.isSomeGhost,s=e.startUpload,l=O("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--upload",{"uppy-c-btn-primary":a===Os},{"uppy-StatusBar-actionBtn--disabled":o}),u=i(t&&n&&!r?"uploadXNewFiles":"uploadXFiles",{smart_count:t});return(0,P.h)("button",{type:"button",className:l,"aria-label":i("uploadXFiles",{smart_count:t}),onClick:s,disabled:o,"data-uppy-super-focusable":!0},u)}function Ts(e){var t=e.i18n,n=e.uppy;return(0,P.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--retry","aria-label":t("retryUpload"),onClick:function(){return n.retryAll()},"data-uppy-super-focusable":!0},(0,P.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"8",height:"10",viewBox:"0 0 8 10"},(0,P.h)("path",{d:"M4 2.408a2.75 2.75 0 1 0 2.75 2.75.626.626 0 0 1 1.25.018v.023a4 4 0 1 1-4-4.041V.25a.25.25 0 0 1 .389-.208l2.299 1.533a.25.25 0 0 1 0 .416l-2.3 1.533A.25.25 0 0 1 4 3.316v-.908z"})),t("retry"))}function Es(e){var t=e.i18n,n=e.uppy;return(0,P.h)("button",{type:"button",className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",title:t("cancel"),"aria-label":t("cancel"),onClick:function(){return n.cancelAll()},"data-cy":"cancel","data-uppy-super-focusable":!0},(0,P.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},(0,P.h)("g",{fill:"none",fillRule:"evenodd"},(0,P.h)("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),(0,P.h)("path",{fill:"#FFF",d:"M9.283 8l2.567 2.567-1.283 1.283L8 9.283 5.433 11.85 4.15 10.567 6.717 8 4.15 5.433 5.433 4.15 8 6.717l2.567-2.567 1.283 1.283z"}))))}function Us(e){var t=e.isAllPaused,n=e.i18n,r=e.isAllComplete,i=e.resumableUploads,a=e.uppy,o=n(t?"resume":"pause");return(0,P.h)("button",{title:o,"aria-label":o,className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",type:"button",onClick:function(){return r?null:i?t?a.resumeAll():a.pauseAll():a.cancelAll()},"data-uppy-super-focusable":!0},(0,P.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},(0,P.h)("g",{fill:"none",fillRule:"evenodd"},(0,P.h)("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),(0,P.h)("path",{fill:"#FFF",d:t?"M6 4.25L11.5 8 6 11.75z":"M5 4.5h2v7H5v-7zm4 0h2v7H9v-7z"}))))}function js(e){var t=e.i18n,n=e.doneButtonHandler;return(0,P.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--done",onClick:n,"data-uppy-super-focusable":!0},t("done"))}function Ns(){return(0,P.h)("svg",{className:"uppy-StatusBar-spinner","aria-hidden":"true",focusable:"false",width:"14",height:"14"},(0,P.h)("path",{d:"M13.983 6.547c-.12-2.509-1.64-4.893-3.939-5.936-2.48-1.127-5.488-.656-7.556 1.094C.524 3.367-.398 6.048.162 8.562c.556 2.495 2.46 4.52 4.94 5.183 2.932.784 5.61-.602 7.256-3.015-1.493 1.993-3.745 3.309-6.298 2.868-2.514-.434-4.578-2.349-5.153-4.84a6.226 6.226 0 0 1 2.98-6.778C6.34.586 9.74 1.1 11.373 3.493c.407.596.693 1.282.842 1.988.127.598.073 1.197.161 1.794.078.525.543 1.257 1.15.864.525-.341.49-1.05.456-1.592-.007-.15.02.3 0 0",fillRule:"evenodd"}))}function Is(e){var t=e.progress,n=t.value,r=t.mode,i=t.message,a=Math.round(100*n);return(0,P.h)("div",{className:"uppy-StatusBar-content"},(0,P.h)(Ns,null),"determinate"===r?"".concat(a,"% ").concat("·"," "):"",i)}function Ms(e){var t=e.i18n,n=e.complete,r=e.numUploads;return(0,P.h)("div",{className:"uppy-StatusBar-statusSecondary"},t("filesUploadedOfTotal",{complete:n,smart_count:r}))}function Rs(e){var t=e.i18n,n=e.newFiles,r=e.startUpload,i=O("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--uploadNewlyAdded");return(0,P.h)("div",{className:"uppy-StatusBar-statusSecondary"},(0,P.h)("div",{className:"uppy-StatusBar-statusSecondaryHint"},t("xMoreFilesAdded",{smart_count:n})),(0,P.h)("button",{type:"button",className:i,"aria-label":t("uploadXFiles",{smart_count:n}),onClick:r},t("upload")))}var Ls=Cs((function(e){var t=e.numUploads,n=e.complete,r=e.totalUploadedSize,i=e.totalSize,a=e.totalETA,o=e.i18n,s=t>1;return(0,P.h)("div",{className:"uppy-StatusBar-statusSecondary"},s&&o("filesUploadedOfTotal",{complete:n,smart_count:t}),(0,P.h)("span",{className:"uppy-StatusBar-additionalInfo"},s&&xs(),o("dataUploadedOfTotal",{complete:Ds(r),total:Ds(i)}),xs(),o("xTimeLeft",{time:F(a)})))}),500,{leading:!0,trailing:!0});function zs(e){var t=e.i18n,n=e.supportsUploadProgress,r=e.totalProgress,i=e.showProgressDetails,a=e.isUploadStarted,o=e.isAllComplete,s=e.isAllPaused,l=e.newFiles,u=e.numUploads,c=e.complete,p=e.totalUploadedSize,d=e.totalSize,h=e.totalETA,f=e.startUpload,g=l&&a;if(!a||o)return null;var v=t(s?"paused":"uploading");return(0,P.h)("div",{className:"uppy-StatusBar-content","aria-label":v,title:v},s?null:(0,P.h)(Ns,null),(0,P.h)("div",{className:"uppy-StatusBar-status"},(0,P.h)("div",{className:"uppy-StatusBar-statusPrimary"},n?"".concat(v,": ").concat(r,"%"):v),s||g||!i?null:n?(0,P.h)(Ls,{numUploads:u,complete:c,totalUploadedSize:p,totalSize:d,totalETA:h,i18n:t}):(0,P.h)(Ms,{i18n:t,complete:c,numUploads:u}),g?(0,P.h)(Rs,{i18n:t,newFiles:l,startUpload:f}):null))}function Hs(e){var t=e.i18n;return(0,P.h)("div",{className:"uppy-StatusBar-content",role:"status",title:t("complete")},(0,P.h)("div",{className:"uppy-StatusBar-status"},(0,P.h)("div",{className:"uppy-StatusBar-statusPrimary"},(0,P.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"15",height:"11",viewBox:"0 0 15 11"},(0,P.h)("path",{d:"M.414 5.843L1.627 4.63l3.472 3.472L13.202 0l1.212 1.213L5.1 10.528z"})),t("complete"))))}function qs(e){var t=e.error,n=e.i18n,r=e.complete,i=e.numUploads;return(0,P.h)("div",{className:"uppy-StatusBar-content",title:n("uploadFailed")},(0,P.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"11",height:"11",viewBox:"0 0 11 11"},(0,P.h)("path",{d:"M4.278 5.5L0 1.222 1.222 0 5.5 4.278 9.778 0 11 1.222 6.722 5.5 11 9.778 9.778 11 5.5 6.722 1.222 11 0 9.778z"})),(0,P.h)("div",{className:"uppy-StatusBar-status"},(0,P.h)("div",{className:"uppy-StatusBar-statusPrimary"},n("uploadFailed"),(0,P.h)("button",{className:"uppy-u-reset uppy-StatusBar-details","aria-label":n("showErrorDetails"),"data-microtip-position":"top-right","data-microtip-size":"medium",onClick:function(){var e="".concat(n("uploadFailed")," \n\n ").concat(t);alert(e)},type:"button"},"?")),(0,P.h)(Ms,{i18n:n,complete:r,numUploads:i})))}var Vs=Ps,Ws=Os,Ks=ks,Gs=Ss,$s=Fs,Xs=As;const Ys={strings:{uploading:"Uploading",complete:"Complete",uploadFailed:"Upload failed",paused:"Paused",retry:"Retry",cancel:"Cancel",pause:"Pause",resume:"Resume",done:"Done",filesUploadedOfTotal:{0:"%{complete} of %{smart_count} file uploaded",1:"%{complete} of %{smart_count} files uploaded"},dataUploadedOfTotal:"%{complete} of %{total}",xTimeLeft:"%{time} left",uploadXFiles:{0:"Upload %{smart_count} file",1:"Upload %{smart_count} files"},uploadXNewFiles:{0:"Upload +%{smart_count} file",1:"Upload +%{smart_count} files"},upload:"Upload",retryUpload:"Retry upload",xMoreFilesAdded:{0:"%{smart_count} more file added",1:"%{smart_count} more files added"},showErrorDetails:"Show error details"}};function Qs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Js(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qs(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zs(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Zs=function(){return!!e})()}function el(e){var t=0;return e.forEach((function(e){t+=function(e){if(!e.bytesUploaded)return 0;var t=Date.now()-e.uploadStarted;return e.bytesUploaded/(t/1e3)}(e.progress)})),t}function tl(e,t,n,r){if(e)return Ps;if(t)return As;if(n)return Os;for(var i=Os,a=Object.keys(r),o=0;o<a.length;o++){var s=r[a[o]].progress;if(s.uploadStarted&&!s.uploadComplete)return Ss;s.preprocess&&i!==Ss&&(i=ks),s.postprocess&&i!==Ss&&i!==ks&&(i=Fs)}return i}var nl=function(e){function t(e,n){var r;(0,i.A)(this,t),r=function(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,Zs()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}(this,t,[e,n]),r.startUpload=function(){if(!r.uppy.getState().recoveredState)return r.uppy.upload().catch((function(){}));r.uppy.emit("restore-confirmed")},r.id=r.opts.id||"StatusBar",r.title="StatusBar",r.type="progressindicator",r.defaultLocale=Ys;return r.opts=Js(Js({},{target:"body",hideUploadButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideCancelButton:!1,showProgressDetails:!1,hideAfterFinish:!0,doneButtonHandler:null}),n),r.i18nInit(),r.render=r.render.bind(r),r.install=r.install.bind(r),r}return(0,l.A)(t,e),(0,a.A)(t,[{key:"render",value:function(e){var t=e.capabilities,n=e.files,r=e.allowNewUpload,i=e.totalProgress,a=e.error,o=e.recoveredState,s=this.uppy.getObjectOfFilesPerState(),l=s.newFiles,u=s.startedFiles,c=s.completeFiles,p=s.inProgressNotPausedFiles,d=s.isUploadStarted,h=s.isAllComplete,f=s.isAllErrored,g=s.isAllPaused,v=s.isUploadInProgress,m=s.isSomeGhost,y=o?Object.values(n):l,b=function(e){var t=el(e);if(0===t)return 0;var n=e.reduce((function(e,t){return e+(null==(n=t.progress).bytesTotal?0:n.bytesTotal-n.bytesUploaded);var n}),0);return Math.round(n/t*10)/10}(p),w=!!t.resumableUploads,k=!1!==t.uploadProgress,S=0,F=0;return u.forEach((function(e){S+=e.progress.bytesTotal||0,F+=e.progress.bytesUploaded||0})),function(e){var t=e.newFiles,n=e.allowNewUpload,r=e.isUploadInProgress,i=e.isAllPaused,a=e.resumableUploads,o=e.error,s=e.hideUploadButton,l=e.hidePauseResumeButton,u=e.hideCancelButton,c=e.hideRetryButton,p=e.recoveredState,d=e.uploadState,h=e.totalProgress,f=e.files,g=e.supportsUploadProgress,v=e.hideAfterFinish,m=e.isSomeGhost,y=e.doneButtonHandler,b=e.isUploadStarted,w=e.i18n,k=e.startUpload,S=e.uppy,F=e.isAllComplete,A=e.showProgressDetails,_=e.numUploads,C=e.complete,D=e.totalSize,x=e.totalETA,B=e.totalUploadedSize,T=function(){switch(d){case $s:case Ks:var e=_s(f);return"determinate"===e.mode?100*e.value:h;case Vs:return null;case Gs:return g?h:null;default:return h}}(),E=function(){if(p)return!1;switch(d){case Ws:return s||0===t;case Xs:return v;default:return!1}}(),U=null!=T?T:100,j=!o&&t&&!r&&!i&&n&&!s,N=!u&&d!==Ws&&d!==Xs,I=a&&!l&&d===Gs,M=o&&!F&&!c,R=y&&d===Xs,L=O("uppy-StatusBar-progress",{"is-indeterminate":function(){switch(d){case $s:case Ks:return"indeterminate"===_s(f).mode;case Gs:return!g;default:return!1}}()}),z=O("uppy-StatusBar","is-".concat(d),{"has-ghosts":m});return(0,P.h)("div",{className:z,"aria-hidden":E},(0,P.h)("div",{className:L,style:{width:"".concat(U,"%")},role:"progressbar","aria-label":"".concat(U,"%"),"aria-valuetext":"".concat(U,"%"),"aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":T}),function(){switch(d){case Ks:case $s:return(0,P.h)(Is,{progress:_s(f)});case Xs:return(0,P.h)(Hs,{i18n:w});case Vs:return(0,P.h)(qs,{error:o,i18n:w,numUploads:_,complete:C});case Gs:return(0,P.h)(zs,{i18n:w,supportsUploadProgress:g,totalProgress:h,showProgressDetails:A,isUploadStarted:b,isAllComplete:F,isAllPaused:i,newFiles:t,numUploads:_,complete:C,totalUploadedSize:B,totalSize:D,totalETA:x,startUpload:k});default:return null}}(),(0,P.h)("div",{className:"uppy-StatusBar-actions"},p||j?(0,P.h)(Bs,{newFiles:t,isUploadStarted:b,recoveredState:p,i18n:w,isSomeGhost:m,startUpload:k,uploadState:d}):null,M?(0,P.h)(Ts,{i18n:w,uppy:S}):null,I?(0,P.h)(Us,{isAllPaused:i,i18n:w,isAllComplete:F,resumableUploads:a,uppy:S}):null,N?(0,P.h)(Es,{i18n:w,uppy:S}):null,R?(0,P.h)(js,{i18n:w,doneButtonHandler:y}):null))}({error:a,uploadState:tl(a,h,o,e.files||{}),allowNewUpload:r,totalProgress:i,totalSize:S,totalUploadedSize:F,isAllComplete:!1,isAllPaused:g,isAllErrored:f,isUploadStarted:d,isUploadInProgress:v,isSomeGhost:m,recoveredState:o,complete:c.length,newFiles:y.length,numUploads:u.length,totalETA:b,files:n,i18n:this.i18n,uppy:this.uppy,startUpload:this.startUpload,doneButtonHandler:this.opts.doneButtonHandler,resumableUploads:w,supportsUploadProgress:k,showProgressDetails:this.opts.showProgressDetails,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,hideCancelButton:this.opts.hideCancelButton,hideAfterFinish:this.opts.hideAfterFinish,isTargetDOMEl:this.isTargetDOMEl})}},{key:"onMount",value:function(){var e=this.el;(0,f.A)(e)||(e.dir="ltr")}},{key:"install",value:function(){var e=this.opts.target;e&&this.mount(e,this)}},{key:"uninstall",value:function(){this.unmount()}}])}(d.A);function rl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function il(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rl(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function al(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(al=function(){return!!e})()}nl.VERSION="3.1.0";var ol=function(e){function t(){return(0,i.A)(this,t),function(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,al()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}(this,t,arguments)}return(0,l.A)(t,e),(0,a.A)(t,[{key:"componentDidMount",value:function(){this.installPlugin()}},{key:"componentDidUpdate",value:function(e){if(e.uppy!==this.props.uppy)this.uninstallPlugin(e),this.installPlugin();else if(Vo(this.props,e)){var t=il(il({},this.props),{},{target:this.container});delete t.uppy,this.plugin.setOptions(t)}}},{key:"componentWillUnmount",value:function(){this.uninstallPlugin()}},{key:"installPlugin",value:function(){var e=this.props,t=e.uppy,n={id:"react:StatusBar",hideUploadButton:e.hideUploadButton,hideRetryButton:e.hideRetryButton,hidePauseResumeButton:e.hidePauseResumeButton,hideCancelButton:e.hideCancelButton,showProgressDetails:e.showProgressDetails,hideAfterFinish:e.hideAfterFinish,doneButtonHandler:e.doneButtonHandler,target:this.container};delete n.uppy,t.use(nl,n),this.plugin=t.getPlugin(n.id)}},{key:"uninstallPlugin",value:function(e){void 0===e&&(e=this.props),e.uppy.removePlugin(this.plugin)}},{key:"render",value:function(){var e=this;return(0,u.createElement)("div",il({className:"uppy-Container",ref:function(t){e.container=t}},qo(this.props)))}}])}(u.Component);ol.propTypes={uppy:Uo.isRequired,hideUploadButton:To.bool,hideRetryButton:To.bool,hidePauseResumeButton:To.bool,hideCancelButton:To.bool,showProgressDetails:To.bool,hideAfterFinish:To.bool,doneButtonHandler:To.func},ol.defaultProps={hideUploadButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideCancelButton:!1,showProgressDetails:!1,hideAfterFinish:!0,doneButtonHandler:null};const sl=ol,ll={strings:{chooseFiles:"Choose files"}};function ul(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ul(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ul(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pl(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(pl=function(){return!!e})()}var dl={pretty:!0,inputName:"files[]"},hl=function(e){function t(e,n){var r;return(0,i.A)(this,t),r=function(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,pl()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}(this,t,[e,cl(cl({},dl),n)]),r.id=r.opts.id||"FileInput",r.title="File Input",r.type="acquirer",r.defaultLocale=ll,r.i18nInit(),r.render=r.render.bind(r),r.handleInputChange=r.handleInputChange.bind(r),r.handleClick=r.handleClick.bind(r),r}return(0,l.A)(t,e),(0,a.A)(t,[{key:"addFiles",value:function(e){var t=this,n=e.map((function(e){return{source:t.id,name:e.name,type:e.type,data:e}}));try{this.uppy.addFiles(n)}catch(e){this.uppy.log(e)}}},{key:"handleInputChange",value:function(e){this.uppy.log("[FileInput] Something selected through input...");var t=Qt(e.target.files);this.addFiles(t),e.target.value=null}},{key:"handleClick",value:function(){this.input.click()}},{key:"render",value:function(){var e=this,t=this.uppy.opts.restrictions,n=t.allowedFileTypes?t.allowedFileTypes.join(","):void 0;return(0,P.h)("div",{className:"uppy-FileInput-container"},(0,P.h)("input",{className:"uppy-FileInput-input",style:this.opts.pretty?{width:"0.1px",height:"0.1px",opacity:0,overflow:"hidden",position:"absolute",zIndex:-1}:void 0,type:"file",name:this.opts.inputName,onChange:this.handleInputChange,multiple:1!==t.maxNumberOfFiles,accept:n,ref:function(t){e.input=t}}),this.opts.pretty&&(0,P.h)("button",{className:"uppy-FileInput-btn",type:"button",onClick:this.handleClick},this.i18n("chooseFiles")))}},{key:"install",value:function(){var e=this.opts.target;e&&this.mount(e,this)}},{key:"uninstall",value:function(){this.unmount()}}])}(d.A);function fl(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(fl=function(){return!!e})()}hl.VERSION="3.1.0";var gl=function(e){function t(){return(0,i.A)(this,t),function(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,fl()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}(this,t,arguments)}return(0,l.A)(t,e),(0,a.A)(t,[{key:"componentDidMount",value:function(){this.installPlugin()}},{key:"componentDidUpdate",value:function(e){e.uppy!==this.props.uppy&&(this.uninstallPlugin(e),this.installPlugin())}},{key:"componentWillUnmount",value:function(){this.uninstallPlugin()}},{key:"installPlugin",value:function(){var e=this.props,t=e.uppy,n={id:"react:FileInput",locale:e.locale,pretty:e.pretty,inputName:e.inputName,target:this.container};delete n.uppy,t.use(hl,n),this.plugin=t.getPlugin(n.id)}},{key:"uninstallPlugin",value:function(e){void 0===e&&(e=this.props),e.uppy.removePlugin(this.plugin)}},{key:"render",value:function(){var e=this;return(0,u.createElement)("div",{className:"uppy-Container",ref:function(t){e.container=t}})}}])}(u.Component);gl.propTypes={uppy:Uo.isRequired,locale:No,pretty:To.bool,inputName:To.string},gl.defaultProps={locale:void 0,pretty:!0,inputName:"files[]"};const vl=gl;function ml(e){if("function"!=typeof e)throw new TypeError("useUppy: expected a function that returns a new Uppy instance");var t=(0,u.useRef)(void 0);if(void 0===t.current&&(t.current=e(),!(t.current instanceof Eo.A)))throw new TypeError("useUppy: factory function must return an Uppy instance, got ".concat((0,$t.A)(t.current)));return(0,u.useEffect)((function(){return function(){var e;null==(e=t.current)||e.close({reason:"unmount"}),t.current=void 0}}),[t]),t.current}}}]);