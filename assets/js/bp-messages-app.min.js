/*! For license information please see bp-messages-app.min.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.BetterMessages=t():e.BetterMessages=t()}(this,(()=>(()=>{var __webpack_modules__={122:(e,t,n)=>{"use strict";var r=n(46518),i=n(44576),a=n(91955),o=n(79306),s=n(22812),u=n(79039),c=n(43724);r({global:!0,enumerable:!0,dontCallGetSet:!0,forced:u((function(){return c&&1!==Object.getOwnPropertyDescriptor(i,"queueMicrotask").value.length}))},{queueMicrotask:function(e){s(arguments.length,1),a(o(e))}})},286:(e,t,n)=>{var r=n(89990);e.exports=function(e){return null!=e&&"object"==r(e)}},373:(e,t,n)=>{"use strict";var r=n(44576),i=n(27476),a=n(79039),o=n(79306),s=n(74488),u=n(94644),c=n(13709),l=n(13763),d=n(39519),p=n(3607),f=u.aTypedArray,h=u.exportTypedArrayMethod,m=r.Uint16Array,v=m&&i(m.prototype.sort),g=!(!v||a((function(){v(new m(2),null)}))&&a((function(){v(new m(2),{})}))),y=!!v&&!a((function(){if(d)return d<74;if(c)return c<67;if(l)return!0;if(p)return p<602;var e,t,n=new m(516),r=Array(516);for(e=0;e<516;e++)t=e%4,n[e]=515-e,r[e]=e-2*t+3;for(v(n,(function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(n[e]!==r[e])return!0}));h("sort",(function(e){return void 0!==e&&o(e),y?v(this,e):s(f(this),function(e){return function(t,n){return void 0!==e?+e(t,n)||0:n!=n?-1:t!=t?1:0===t&&0===n?1/t>0&&1/n<0?1:-1:t>n}}(e))}),!y||g)},563:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},615:(e,t,n)=>{e.exports=n(85192),n(90092),n(96882),n(53486),n(39760),n(27499),n(3826),n(37540),n(74668),n(61305),n(25743),n(15318),n(66978),n(90005),n(26849),n(31899),n(12507),n(49979),n(61312),n(95906),n(22205),n(78008),n(47896),n(77945),n(70966),n(32807)},655:(e,t,n)=>{"use strict";var r=n(36955),i=String;e.exports=function(e){if("Symbol"===r(e))throw new TypeError("Cannot convert a Symbol value to a string");return i(e)}},1103:e=>{"use strict";e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},1231:(e,t,n)=>{n(44114);var r=n(66665),i=n(24432),a=n(39887);function o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}o.prototype.add=o.prototype.push=i,o.prototype.has=a,e.exports=o},1238:(e,t,n)=>{var r=n(85192);e.exports=r.md=r.md||{},r.md.algorithms=r.md.algorithms||{}},1352:(e,t,n)=>{e.exports=n(28834)()},1469:(e,t,n)=>{"use strict";var r=n(87433);e.exports=function(e,t){return new(r(e))(0===t?0:t)}},1480:(e,t,n)=>{"use strict";var r=n(46518),i=n(79039),a=n(10298).f;r({target:"Object",stat:!0,forced:i((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:a})},1497:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{var _typeof=__webpack_require__(89990);__webpack_require__(16280),__webpack_require__(76918),__webpack_require__(48598),__webpack_require__(44114),__webpack_require__(34782),__webpack_require__(60739),__webpack_require__(23288),__webpack_require__(33110),__webpack_require__(2892),__webpack_require__(79432),__webpack_require__(26099),__webpack_require__(27495),__webpack_require__(90906),__webpack_require__(38781),__webpack_require__(25440),"object"!==("undefined"==typeof JSON?"undefined":_typeof(JSON))&&(JSON={}),function(){"use strict";var rx_one=/^[\],:{}\s]*$/,rx_two=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rx_three=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rx_four=/(?:^|:|,)(?:\s*\[)+/g,rx_escapable=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta,rep;function f(e){return e<10?"0"+e:e}function this_value(){return this.valueOf()}function quote(e){return rx_escapable.lastIndex=0,rx_escapable.test(e)?'"'+e.replace(rx_escapable,(function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'}function str(e,t){var n,r,i,a,o,s=gap,u=t[e];switch(u&&"object"===_typeof(u)&&"function"==typeof u.toJSON&&(u=u.toJSON(e)),"function"==typeof rep&&(u=rep.call(t,e,u)),_typeof(u)){case"string":return quote(u);case"number":return isFinite(u)?String(u):"null";case"boolean":case"null":return String(u);case"object":if(!u)return"null";if(gap+=indent,o=[],"[object Array]"===Object.prototype.toString.apply(u)){for(a=u.length,n=0;n<a;n+=1)o[n]=str(n,u)||"null";return i=0===o.length?"[]":gap?"[\n"+gap+o.join(",\n"+gap)+"\n"+s+"]":"["+o.join(",")+"]",gap=s,i}if(rep&&"object"===_typeof(rep))for(a=rep.length,n=0;n<a;n+=1)"string"==typeof rep[n]&&(i=str(r=rep[n],u))&&o.push(quote(r)+(gap?": ":":")+i);else for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(i=str(r,u))&&o.push(quote(r)+(gap?": ":":")+i);return i=0===o.length?"{}":gap?"{\n"+gap+o.join(",\n"+gap)+"\n"+s+"}":"{"+o.join(",")+"}",gap=s,i}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=this_value,Number.prototype.toJSON=this_value,String.prototype.toJSON=this_value),"function"!=typeof JSON.stringify&&(meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(e,t,n){var r;if(gap="",indent="","number"==typeof n)for(r=0;r<n;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,t&&"function"!=typeof t&&("object"!==_typeof(t)||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){var j;function walk(e,t){var n,r,i=e[t];if(i&&"object"===_typeof(i))for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(void 0!==(r=walk(i,n))?i[n]=r:delete i[n]);return reviver.call(e,t,i)}if(text=String(text),rx_dangerous.lastIndex=0,rx_dangerous.test(text)&&(text=text.replace(rx_dangerous,(function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))),rx_one.test(text.replace(rx_two,"@").replace(rx_three,"]").replace(rx_four,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()},1548:(e,t,n)=>{"use strict";var r=n(44576),i=n(79039),a=n(39519),o=n(84215),s=r.structuredClone;e.exports=!!s&&!i((function(){if("DENO"===o&&a>92||"NODE"===o&&a>94||"BROWSER"===o&&a>97)return!1;var e=new ArrayBuffer(8),t=s(e,{transfer:[e]});return 0!==e.byteLength||8!==t.byteLength}))},1625:(e,t,n)=>{"use strict";var r=n(79504);e.exports=r({}.isPrototypeOf)},1688:(e,t,n)=>{"use strict";var r=n(46518),i=n(70380);r({target:"Date",proto:!0,forced:Date.prototype.toISOString!==i},{toISOString:i})},1767:e=>{"use strict";e.exports=function(e){return{iterator:e,next:e.next,done:!1}}},1951:(e,t,n)=>{"use strict";var r=n(78227);t.f=r},2008:(e,t,n)=>{"use strict";var r=n(46518),i=n(59213).filter;r({target:"Array",proto:!0,forced:!n(70597)("filter")},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},2087:(e,t,n)=>{"use strict";var r=n(20034),i=Math.floor;e.exports=Number.isInteger||function(e){return!r(e)&&isFinite(e)&&i(e)===e}},2245:(e,t,n)=>{var r=n(42785)["__core-js_shared__"];e.exports=r},2259:(e,t,n)=>{"use strict";n(70511)("iterator")},2293:(e,t,n)=>{"use strict";var r=n(28551),i=n(35548),a=n(64117),o=n(78227)("species");e.exports=function(e,t){var n,s=r(e).constructor;return void 0===s||a(n=r(s)[o])?t:i(n)}},2360:(e,t,n)=>{"use strict";var r,i=n(28551),a=n(96801),o=n(88727),s=n(30421),u=n(20397),c=n(4055),l=n(66119),d="prototype",p="script",f=l("IE_PROTO"),h=function(){},m=function(e){return"<"+p+">"+e+"</"+p+">"},v=function(e){e.write(m("")),e.close();var t=e.parentWindow.Object;return e=null,t},g=function(){try{r=new ActiveXObject("htmlfile")}catch(e){}var e,t,n;g="undefined"!=typeof document?document.domain&&r?v(r):(t=c("iframe"),n="java"+p+":",t.style.display="none",u.appendChild(t),t.src=String(n),(e=t.contentWindow.document).open(),e.write(m("document.F=Object")),e.close(),e.F):v(r);for(var i=o.length;i--;)delete g[d][o[i]];return g()};s[f]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(h[d]=i(e),n=new h,h[d]=null,n[f]=e):n=g(),void 0===t?n:a.f(n,t)}},2478:(e,t,n)=>{"use strict";var r=n(79504),i=n(48981),a=Math.floor,o=r("".charAt),s=r("".replace),u=r("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,r,d,p){var f=n+e.length,h=r.length,m=l;return void 0!==d&&(d=i(d),m=c),s(p,m,(function(i,s){var c;switch(o(s,0)){case"$":return"$";case"&":return e;case"`":return u(t,0,n);case"'":return u(t,f);case"<":c=d[u(s,1,-1)];break;default:var l=+s;if(0===l)return i;if(l>h){var p=a(l/10);return 0===p?i:p<=h?void 0===r[p-1]?o(s,1):r[p-1]+o(s,1):i}c=r[l-1]}return void 0===c?"":c}))}},2701:(e,t,n)=>{"use strict";n(16280),n(76918),function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(85369)},2892:(e,t,n)=>{"use strict";var r=n(46518),i=n(96395),a=n(43724),o=n(44576),s=n(19167),u=n(79504),c=n(92796),l=n(39297),d=n(23167),p=n(1625),f=n(10757),h=n(72777),m=n(79039),v=n(38480).f,g=n(77347).f,y=n(24913).f,b=n(31240),w=n(43802).trim,D="Number",A=o[D],E=s[D],k=A.prototype,C=o.TypeError,_=u("".slice),x=u("".charCodeAt),S=function(e){var t,n,r,i,a,o,s,u,c=h(e,"number");if(f(c))throw new C("Cannot convert a Symbol value to a number");if("string"==typeof c&&c.length>2)if(c=w(c),43===(t=x(c,0))||45===t){if(88===(n=x(c,2))||120===n)return NaN}else if(48===t){switch(x(c,1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+c}for(o=(a=_(c,2)).length,s=0;s<o;s++)if((u=x(a,s))<48||u>i)return NaN;return parseInt(a,r)}return+c},T=c(D,!A(" 0o1")||!A("0b1")||A("+0x1")),F=function(e){var t,n=arguments.length<1?0:A(function(e){var t=h(e,"number");return"bigint"==typeof t?t:S(t)}(e));return p(k,t=this)&&m((function(){b(t)}))?d(Object(n),this,F):n};F.prototype=k,T&&!i&&(k.constructor=F),r({global:!0,constructor:!0,wrap:!0,forced:T},{Number:F});var O=function(e,t){for(var n,r=a?v(t):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),i=0;r.length>i;i++)l(t,n=r[i])&&!l(e,n)&&y(e,n,g(t,n))};i&&E&&O(s[D],E),(T||i)&&O(s[D],A)},2945:(e,t,n)=>{"use strict";var r=n(46518),i=n(44576),a=n(97751),o=n(79504),s=n(69565),u=n(79039),c=n(655),l=n(22812),d=n(92804).c2i,p=/[^\d+/a-z]/i,f=/[\t\n\f\r ]+/g,h=/[=]{1,2}$/,m=a("atob"),v=String.fromCharCode,g=o("".charAt),y=o("".replace),b=o(p.exec),w=!!m&&!u((function(){return"hi"!==m("aGk=")})),D=w&&u((function(){return""!==m(" ")})),A=w&&!u((function(){m("a")})),E=w&&!u((function(){m()})),k=w&&1!==m.length;r({global:!0,bind:!0,enumerable:!0,forced:!w||D||A||E||k},{atob:function(e){if(l(arguments.length,1),w&&!D&&!A)return s(m,i,e);var t,n,r,o=y(c(e),f,""),u="",E=0,k=0;if(o.length%4==0&&(o=y(o,h,"")),(t=o.length)%4==1||b(p,o))throw new(a("DOMException"))("The string is not correctly encoded","InvalidCharacterError");for(;E<t;)n=g(o,E++),r=k%4?64*r+d[n]:d[n],k++%4&&(u+=v(255&r>>(-2*k&6)));return u}})},3198:(e,t,n)=>{"use strict";n(52675),n(28706),n(84185),n(83851),n(1480),n(40875);var r=n(33748),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={"$$typeof":!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={"$$typeof":!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(h){var i=f(n);i&&i!==h&&e(t,i,r)}var o=l(n);d&&(o=o.concat(d(n)));for(var s=u(t),m=u(n),v=0;v<o.length;++v){var g=o[v];if(!(a[g]||r&&r[g]||m&&m[g]||s&&s[g])){var y=p(n,g);try{c(t,g,y)}catch(e){}}}}return t}},3296:(e,t,n)=>{"use strict";n(45806)},3362:(e,t,n)=>{"use strict";n(10436),n(16499),n(82003),n(7743),n(51481),n(40280)},3451:(e,t,n)=>{"use strict";var r=n(46518),i=n(79504),a=n(30421),o=n(20034),s=n(39297),u=n(24913).f,c=n(38480),l=n(10298),d=n(34124),p=n(33392),f=n(92744),h=!1,m=p("meta"),v=0,g=function(e){u(e,m,{value:{objectID:"O"+v++,weakData:{}}})},y=e.exports={enable:function(){y.enable=function(){},h=!0;var e=c.f,t=i([].splice),n={};n[m]=1,e(n).length&&(c.f=function(n){for(var r=e(n),i=0,a=r.length;i<a;i++)if(r[i]===m){t(r,i,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:l.f}))},fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!s(e,m)){if(!d(e))return"F";if(!t)return"E";g(e)}return e[m].objectID},getWeakData:function(e,t){if(!s(e,m)){if(!d(e))return!0;if(!t)return!1;g(e)}return e[m].weakData},onFreeze:function(e){return f&&h&&d(e)&&!s(e,m)&&g(e),e}};a[m]=!0},3470:e=>{"use strict";e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},3471:(e,t,n)=>{var r=n(89663),i=n(17352),a=n(89350),o=n(53044);e.exports=function(e,t){return r(e)||i(e,t)||a(e,t)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},3509:(e,t,n)=>{n(16280),n(76918),n(28706),n(44114),n(34782),n(60739),n(94170),n(62010),n(33110),n(79432),n(84864),n(57465),n(27495),n(87745),n(90906),n(38781),n(25440);var r=n(9919),i=r.slice,a=r.pluck,o=r.each,s=r.bind,u=r.create,c=r.isList,l=r.isFunction,d=r.isObject;e.exports={createStore:f};var p={version:"2.0.12",enabled:!1,get:function(e,t){var n=this.storage.read(this._namespacePrefix+e);return this._deserialize(n,t)},set:function(e,t){return void 0===t?this.remove(e):(this.storage.write(this._namespacePrefix+e,this._serialize(t)),t)},remove:function(e){this.storage.remove(this._namespacePrefix+e)},each:function(e){var t=this;this.storage.each((function(n,r){e.call(t,t._deserialize(n),(r||"").replace(t._namespaceRegexp,""))}))},clearAll:function(){this.storage.clearAll()},hasNamespace:function(e){return this._namespacePrefix=="__storejs_"+e+"_"},createStore:function(){return f.apply(this,arguments)},addPlugin:function(e){this._addPlugin(e)},namespace:function(e){return f(this.storage,this.plugins,e)}};function f(e,t,n){n||(n=""),e&&!c(e)&&(e=[e]),t&&!c(t)&&(t=[t]);var r=n?"__storejs_"+n+"_":"",f=n?new RegExp("^"+r):null;if(!/^[a-zA-Z0-9_\-]*$/.test(n))throw new Error("store.js namespaces can only have alphanumerics + underscores and dashes");var h={_namespacePrefix:r,_namespaceRegexp:f,_testStorage:function(e){try{var t="__storejs__test__";e.write(t,t);var n=e.read(t)===t;return e.remove(t),n}catch(e){return!1}},_assignPluginFnProp:function(e,t){var n=this[t];this[t]=function(){var t=i(arguments,0),r=this;var a=[function(){if(n)return o(arguments,(function(e,n){t[n]=e})),n.apply(r,t)}].concat(t);return e.apply(r,a)}},_serialize:function(e){return JSON.stringify(e)},_deserialize:function(e,t){if(!e)return t;var n="";try{n=JSON.parse(e)}catch(t){n=e}return void 0!==n?n:t},_addStorage:function(e){this.enabled||this._testStorage(e)&&(this.storage=e,this.enabled=!0)},_addPlugin:function(e){var t=this;if(c(e))o(e,(function(e){t._addPlugin(e)}));else if(!a(this.plugins,(function(t){return e===t}))){if(this.plugins.push(e),!l(e))throw new Error("Plugins must be function values that return objects");var n=e.call(this);if(!d(n))throw new Error("Plugins must return an object of function properties");o(n,(function(n,r){if(!l(n))throw new Error("Bad plugin property: "+r+" from plugin "+e.name+". Plugins should only return functions.");t._assignPluginFnProp(n,r)}))}},addStorage:function(e){!function(){var e="undefined"==typeof console?null:console;e&&(e.warn?e.warn:e.log).apply(e,arguments)}("store.addStorage(storage) is deprecated. Use createStore([storages])"),this._addStorage(e)}},m=u(h,p,{plugins:[]});return m.raw={},o(m,(function(e,t){l(e)&&(m.raw[t]=s(m,e))})),o(e,(function(e){m._addStorage(e)})),o(t,(function(e){m._addPlugin(e)})),m}},3517:e=>{e.exports=function(e,t){if(e===t)return!0;for(var n in e)if(!(n in t))return!1;for(var n in t)if(e[n]!==t[n])return!1;return!0}},3607:(e,t,n)=>{"use strict";var r=n(82839).match(/AppleWebKit\/(\d+)\./);e.exports=!!r&&+r[1]},3690:(e,t,n)=>{"use strict";n(15823)("Uint16",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},3717:(e,t,n)=>{"use strict";var r=n(79504),i=2147483647,a=/[^\0-\u007E]/,o=/[.\u3002\uFF0E\uFF61]/g,s="Overflow: input needs wider integers to process",u=RangeError,c=r(o.exec),l=Math.floor,d=String.fromCharCode,p=r("".charCodeAt),f=r([].join),h=r([].push),m=r("".replace),v=r("".split),g=r("".toLowerCase),y=function(e){return e+22+75*(e<26)},b=function(e,t,n){var r=0;for(e=n?l(e/700):e>>1,e+=l(e/t);e>455;)e=l(e/35),r+=36;return l(r+36*e/(e+38))},w=function(e){var t=[];e=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=p(e,n++);if(i>=55296&&i<=56319&&n<r){var a=p(e,n++);56320==(64512&a)?h(t,((1023&i)<<10)+(1023&a)+65536):(h(t,i),n--)}else h(t,i)}return t}(e);var n,r,a=e.length,o=128,c=0,m=72;for(n=0;n<e.length;n++)(r=e[n])<128&&h(t,d(r));var v=t.length,g=v;for(v&&h(t,"-");g<a;){var w=i;for(n=0;n<e.length;n++)(r=e[n])>=o&&r<w&&(w=r);var D=g+1;if(w-o>l((i-c)/D))throw new u(s);for(c+=(w-o)*D,o=w,n=0;n<e.length;n++){if((r=e[n])<o&&++c>i)throw new u(s);if(r===o){for(var A=c,E=36;;){var k=E<=m?1:E>=m+26?26:E-m;if(A<k)break;var C=A-k,_=36-k;h(t,d(y(k+C%_))),A=l(C/_),E+=36}h(t,d(y(A))),m=b(c,D,g===v),c=0,g++}}c++,o++}return f(t,"")};e.exports=function(e){var t,n,r=[],i=v(m(g(e),o,"."),".");for(t=0;t<i.length;t++)n=i[t],h(r,c(a,n)?"xn--"+w(n):n);return f(r,".")}},3826:(e,t,n)=>{n(16280),n(76918),n(18107),n(23792),n(54743),n(11745),n(38309),n(26099),n(67357),n(29833),n(21489),n(48140),n(81630),n(72170),n(75044),n(69539),n(31694),n(89955),n(21903),n(91134),n(33206),n(44496),n(66651),n(12887),n(19369),n(66812),n(8995),n(31575),n(36072),n(88747),n(28845),n(29423),n(57301),n(373),n(86614),n(41405),n(33684),n(43250),n(10149),n(24082);var r=n(85192);n(52364),n(78008),n(74813),n(32807);var i=n(51017),a=i.publicKeyValidator,o=i.privateKeyValidator;if(void 0===s)var s=r.jsbn.BigInteger;var u=r.util.ByteBuffer,c="undefined"==typeof Buffer?Uint8Array:Buffer;r.pki=r.pki||{},e.exports=r.pki.ed25519=r.ed25519=r.ed25519||{};var l=r.ed25519;function d(e){var t=e.message;if(t instanceof Uint8Array||t instanceof c)return t;var n=e.encoding;if(void 0===t){if(!e.md)throw new TypeError('"options.message" or "options.md" not specified.');t=e.md.digest().getBytes(),n="binary"}if("string"==typeof t&&!n)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if("string"==typeof t){if("undefined"!=typeof Buffer)return Buffer.from(t,n);t=new u(t,n)}else if(!(t instanceof u))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var r=new c(t.length()),i=0;i<r.length;++i)r[i]=t.at(i);return r}l.constants={},l.constants.PUBLIC_KEY_BYTE_LENGTH=32,l.constants.PRIVATE_KEY_BYTE_LENGTH=64,l.constants.SEED_BYTE_LENGTH=32,l.constants.SIGN_BYTE_LENGTH=64,l.constants.HASH_BYTE_LENGTH=64,l.generateKeyPair=function(e){var t=(e=e||{}).seed;if(void 0===t)t=r.random.getBytesSync(l.constants.SEED_BYTE_LENGTH);else if("string"==typeof t){if(t.length!==l.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+l.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(t instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');t=d({message:t,encoding:"binary"});for(var n=new c(l.constants.PUBLIC_KEY_BYTE_LENGTH),i=new c(l.constants.PRIVATE_KEY_BYTE_LENGTH),a=0;a<32;++a)i[a]=t[a];return function(e,t){var n,r=[R(),R(),R(),R()],i=w(t,32);for(i[0]&=248,i[31]&=127,i[31]|=64,O(r,i),C(e,r),n=0;n<32;++n)t[n+32]=e[n]}(n,i),{publicKey:n,privateKey:i}},l.privateKeyFromAsn1=function(e){var t={},n=[];if(!r.asn1.validate(e,o,t,n)){var i=new Error("Invalid Key.");throw i.errors=n,i}var a=r.asn1.derToOid(t.privateKeyOid),s=r.oids.EdDSA25519;if(a!==s)throw new Error('Invalid OID "'+a+'"; OID must be "'+s+'".');var u=t.privateKey;return{privateKeyBytes:d({message:r.asn1.fromDer(u).value,encoding:"binary"})}},l.publicKeyFromAsn1=function(e){var t={},n=[];if(!r.asn1.validate(e,a,t,n)){var i=new Error("Invalid Key.");throw i.errors=n,i}var o=r.asn1.derToOid(t.publicKeyOid),s=r.oids.EdDSA25519;if(o!==s)throw new Error('Invalid OID "'+o+'"; OID must be "'+s+'".');var u=t.ed25519PublicKey;if(u.length!==l.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return d({message:u,encoding:"binary"})},l.publicKeyFromPrivateKey=function(e){var t=d({message:(e=e||{}).privateKey,encoding:"binary"});if(t.length!==l.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+l.constants.PRIVATE_KEY_BYTE_LENGTH);for(var n=new c(l.constants.PUBLIC_KEY_BYTE_LENGTH),r=0;r<n.length;++r)n[r]=t[32+r];return n},l.sign=function(e){var t=d(e=e||{}),n=d({message:e.privateKey,encoding:"binary"});if(n.length===l.constants.SEED_BYTE_LENGTH)n=l.generateKeyPair({seed:n}).privateKey;else if(n.length!==l.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+l.constants.SEED_BYTE_LENGTH+" or "+l.constants.PRIVATE_KEY_BYTE_LENGTH);var r=new c(l.constants.SIGN_BYTE_LENGTH+t.length);!function(e,t,n,r){var i,a,o=new Float64Array(64),s=[R(),R(),R(),R()],u=w(r,32);u[0]&=248,u[31]&=127,u[31]|=64;var c=n+64;for(i=0;i<n;++i)e[64+i]=t[i];for(i=0;i<32;++i)e[32+i]=u[32+i];var l=w(e.subarray(32),n+32);for(A(l),O(s,l),C(e,s),i=32;i<64;++i)e[i]=r[i];var d=w(e,n+64);for(A(d),i=32;i<64;++i)o[i]=0;for(i=0;i<32;++i)o[i]=l[i];for(i=0;i<32;++i)for(a=0;a<32;a++)o[i+a]+=d[i]*u[a];D(e.subarray(32),o)}(r,t,t.length,n);for(var i=new c(l.constants.SIGN_BYTE_LENGTH),a=0;a<i.length;++a)i[a]=r[a];return i},l.verify=function(e){var t=d(e=e||{});if(void 0===e.signature)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var n=d({message:e.signature,encoding:"binary"});if(n.length!==l.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+l.constants.SIGN_BYTE_LENGTH);var r=d({message:e.publicKey,encoding:"binary"});if(r.length!==l.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+l.constants.PUBLIC_KEY_BYTE_LENGTH);var i,a=new c(l.constants.SIGN_BYTE_LENGTH+t.length),o=new c(l.constants.SIGN_BYTE_LENGTH+t.length);for(i=0;i<l.constants.SIGN_BYTE_LENGTH;++i)a[i]=n[i];for(i=0;i<t.length;++i)a[i+l.constants.SIGN_BYTE_LENGTH]=t[i];return function(e,t,n,r){var i,a=new c(32),o=[R(),R(),R(),R()],s=[R(),R(),R(),R()];if(n<64)return-1;if(function(e,t){var n=R(),r=R(),i=R(),a=R(),o=R(),s=R(),u=R();P(e[2],f),function(e,t){var n;for(n=0;n<16;++n)e[n]=t[2*n]+(t[2*n+1]<<8);e[15]&=32767}(e[1],t),L(i,e[1]),j(a,i,h),M(i,i,e[2]),N(a,e[2],a),L(o,a),L(s,o),j(u,s,o),j(n,u,i),j(n,n,a),function(e,t){var n,r=R();for(n=0;n<16;++n)r[n]=t[n];for(n=250;n>=0;--n)L(r,r),1!==n&&j(r,r,t);for(n=0;n<16;++n)e[n]=r[n]}(n,n),j(n,n,i),j(n,n,a),j(n,n,a),j(e[0],n,a),L(r,e[0]),j(r,r,a),x(r,i)&&j(e[0],e[0],b);if(L(r,e[0]),j(r,r,a),x(r,i))return-1;T(e[0])===t[31]>>7&&M(e[0],p,e[0]);return j(e[3],e[0],e[1]),0}(s,r))return-1;for(i=0;i<n;++i)e[i]=t[i];for(i=0;i<32;++i)e[i+32]=r[i];var u=w(e,n);if(A(u),F(o,s,u),O(s,t.subarray(32)),E(o,s),C(a,o),n-=64,S(t,0,a,0)){for(i=0;i<n;++i)e[i]=0;return-1}for(i=0;i<n;++i)e[i]=t[i+64];return n}(o,a,a.length,r)>=0};var p=R(),f=R([1]),h=R([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),m=R([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),v=R([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),g=R([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),y=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),b=R([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function w(e,t){var n=r.md.sha512.create(),i=new u(e);n.update(i.getBytes(t),"binary");var a=n.digest().getBytes();if("undefined"!=typeof Buffer)return Buffer.from(a,"binary");for(var o=new c(l.constants.HASH_BYTE_LENGTH),s=0;s<64;++s)o[s]=a.charCodeAt(s);return o}function D(e,t){var n,r,i,a;for(r=63;r>=32;--r){for(n=0,i=r-32,a=r-12;i<a;++i)t[i]+=n-16*t[r]*y[i-(r-32)],n=t[i]+128>>8,t[i]-=256*n;t[i]+=n,t[r]=0}for(n=0,i=0;i<32;++i)t[i]+=n-(t[31]>>4)*y[i],n=t[i]>>8,t[i]&=255;for(i=0;i<32;++i)t[i]-=n*y[i];for(r=0;r<32;++r)t[r+1]+=t[r]>>8,e[r]=255&t[r]}function A(e){for(var t=new Float64Array(64),n=0;n<64;++n)t[n]=e[n],e[n]=0;D(e,t)}function E(e,t){var n=R(),r=R(),i=R(),a=R(),o=R(),s=R(),u=R(),c=R(),l=R();M(n,e[1],e[0]),M(l,t[1],t[0]),j(n,n,l),N(r,e[0],e[1]),N(l,t[0],t[1]),j(r,r,l),j(i,e[3],t[3]),j(i,i,m),j(a,e[2],t[2]),N(a,a,a),M(o,r,n),M(s,a,i),N(u,a,i),N(c,r,n),j(e[0],o,s),j(e[1],c,u),j(e[2],u,s),j(e[3],o,c)}function k(e,t,n){for(var r=0;r<4;++r)B(e[r],t[r],n)}function C(e,t){var n=R(),r=R(),i=R();!function(e,t){var n,r=R();for(n=0;n<16;++n)r[n]=t[n];for(n=253;n>=0;--n)L(r,r),2!==n&&4!==n&&j(r,r,t);for(n=0;n<16;++n)e[n]=r[n]}(i,t[2]),j(n,t[0],i),j(r,t[1],i),_(e,r),e[31]^=T(n)<<7}function _(e,t){var n,r,i,a=R(),o=R();for(n=0;n<16;++n)o[n]=t[n];for(I(o),I(o),I(o),r=0;r<2;++r){for(a[0]=o[0]-65517,n=1;n<15;++n)a[n]=o[n]-65535-(a[n-1]>>16&1),a[n-1]&=65535;a[15]=o[15]-32767-(a[14]>>16&1),i=a[15]>>16&1,a[14]&=65535,B(o,a,1-i)}for(n=0;n<16;n++)e[2*n]=255&o[n],e[2*n+1]=o[n]>>8}function x(e,t){var n=new c(32),r=new c(32);return _(n,e),_(r,t),S(n,0,r,0)}function S(e,t,n,r){return function(e,t,n,r,i){var a,o=0;for(a=0;a<i;++a)o|=e[t+a]^n[r+a];return(1&o-1>>>8)-1}(e,t,n,r,32)}function T(e){var t=new c(32);return _(t,e),1&t[0]}function F(e,t,n){var r,i;for(P(e[0],p),P(e[1],f),P(e[2],f),P(e[3],p),i=255;i>=0;--i)k(e,t,r=n[i/8|0]>>(7&i)&1),E(t,e),E(e,e),k(e,t,r)}function O(e,t){var n=[R(),R(),R(),R()];P(n[0],v),P(n[1],g),P(n[2],f),j(n[3],v,g),F(e,n,t)}function P(e,t){var n;for(n=0;n<16;n++)e[n]=0|t[n]}function I(e){var t,n,r=1;for(t=0;t<16;++t)n=e[t]+r+65535,r=Math.floor(n/65536),e[t]=n-65536*r;e[0]+=r-1+37*(r-1)}function B(e,t,n){for(var r,i=~(n-1),a=0;a<16;++a)r=i&(e[a]^t[a]),e[a]^=r,t[a]^=r}function R(e){var t,n=new Float64Array(16);if(e)for(t=0;t<e.length;++t)n[t]=e[t];return n}function N(e,t,n){for(var r=0;r<16;++r)e[r]=t[r]+n[r]}function M(e,t,n){for(var r=0;r<16;++r)e[r]=t[r]-n[r]}function L(e,t){j(e,t,t)}function j(e,t,n){var r,i,a=0,o=0,s=0,u=0,c=0,l=0,d=0,p=0,f=0,h=0,m=0,v=0,g=0,y=0,b=0,w=0,D=0,A=0,E=0,k=0,C=0,_=0,x=0,S=0,T=0,F=0,O=0,P=0,I=0,B=0,R=0,N=n[0],M=n[1],L=n[2],j=n[3],U=n[4],z=n[5],V=n[6],q=n[7],H=n[8],W=n[9],K=n[10],$=n[11],G=n[12],Q=n[13],Y=n[14],X=n[15];a+=(r=t[0])*N,o+=r*M,s+=r*L,u+=r*j,c+=r*U,l+=r*z,d+=r*V,p+=r*q,f+=r*H,h+=r*W,m+=r*K,v+=r*$,g+=r*G,y+=r*Q,b+=r*Y,w+=r*X,o+=(r=t[1])*N,s+=r*M,u+=r*L,c+=r*j,l+=r*U,d+=r*z,p+=r*V,f+=r*q,h+=r*H,m+=r*W,v+=r*K,g+=r*$,y+=r*G,b+=r*Q,w+=r*Y,D+=r*X,s+=(r=t[2])*N,u+=r*M,c+=r*L,l+=r*j,d+=r*U,p+=r*z,f+=r*V,h+=r*q,m+=r*H,v+=r*W,g+=r*K,y+=r*$,b+=r*G,w+=r*Q,D+=r*Y,A+=r*X,u+=(r=t[3])*N,c+=r*M,l+=r*L,d+=r*j,p+=r*U,f+=r*z,h+=r*V,m+=r*q,v+=r*H,g+=r*W,y+=r*K,b+=r*$,w+=r*G,D+=r*Q,A+=r*Y,E+=r*X,c+=(r=t[4])*N,l+=r*M,d+=r*L,p+=r*j,f+=r*U,h+=r*z,m+=r*V,v+=r*q,g+=r*H,y+=r*W,b+=r*K,w+=r*$,D+=r*G,A+=r*Q,E+=r*Y,k+=r*X,l+=(r=t[5])*N,d+=r*M,p+=r*L,f+=r*j,h+=r*U,m+=r*z,v+=r*V,g+=r*q,y+=r*H,b+=r*W,w+=r*K,D+=r*$,A+=r*G,E+=r*Q,k+=r*Y,C+=r*X,d+=(r=t[6])*N,p+=r*M,f+=r*L,h+=r*j,m+=r*U,v+=r*z,g+=r*V,y+=r*q,b+=r*H,w+=r*W,D+=r*K,A+=r*$,E+=r*G,k+=r*Q,C+=r*Y,_+=r*X,p+=(r=t[7])*N,f+=r*M,h+=r*L,m+=r*j,v+=r*U,g+=r*z,y+=r*V,b+=r*q,w+=r*H,D+=r*W,A+=r*K,E+=r*$,k+=r*G,C+=r*Q,_+=r*Y,x+=r*X,f+=(r=t[8])*N,h+=r*M,m+=r*L,v+=r*j,g+=r*U,y+=r*z,b+=r*V,w+=r*q,D+=r*H,A+=r*W,E+=r*K,k+=r*$,C+=r*G,_+=r*Q,x+=r*Y,S+=r*X,h+=(r=t[9])*N,m+=r*M,v+=r*L,g+=r*j,y+=r*U,b+=r*z,w+=r*V,D+=r*q,A+=r*H,E+=r*W,k+=r*K,C+=r*$,_+=r*G,x+=r*Q,S+=r*Y,T+=r*X,m+=(r=t[10])*N,v+=r*M,g+=r*L,y+=r*j,b+=r*U,w+=r*z,D+=r*V,A+=r*q,E+=r*H,k+=r*W,C+=r*K,_+=r*$,x+=r*G,S+=r*Q,T+=r*Y,F+=r*X,v+=(r=t[11])*N,g+=r*M,y+=r*L,b+=r*j,w+=r*U,D+=r*z,A+=r*V,E+=r*q,k+=r*H,C+=r*W,_+=r*K,x+=r*$,S+=r*G,T+=r*Q,F+=r*Y,O+=r*X,g+=(r=t[12])*N,y+=r*M,b+=r*L,w+=r*j,D+=r*U,A+=r*z,E+=r*V,k+=r*q,C+=r*H,_+=r*W,x+=r*K,S+=r*$,T+=r*G,F+=r*Q,O+=r*Y,P+=r*X,y+=(r=t[13])*N,b+=r*M,w+=r*L,D+=r*j,A+=r*U,E+=r*z,k+=r*V,C+=r*q,_+=r*H,x+=r*W,S+=r*K,T+=r*$,F+=r*G,O+=r*Q,P+=r*Y,I+=r*X,b+=(r=t[14])*N,w+=r*M,D+=r*L,A+=r*j,E+=r*U,k+=r*z,C+=r*V,_+=r*q,x+=r*H,S+=r*W,T+=r*K,F+=r*$,O+=r*G,P+=r*Q,I+=r*Y,B+=r*X,w+=(r=t[15])*N,o+=38*(A+=r*L),s+=38*(E+=r*j),u+=38*(k+=r*U),c+=38*(C+=r*z),l+=38*(_+=r*V),d+=38*(x+=r*q),p+=38*(S+=r*H),f+=38*(T+=r*W),h+=38*(F+=r*K),m+=38*(O+=r*$),v+=38*(P+=r*G),g+=38*(I+=r*Q),y+=38*(B+=r*Y),b+=38*(R+=r*X),a=(r=(a+=38*(D+=r*M))+(i=1)+65535)-65536*(i=Math.floor(r/65536)),o=(r=o+i+65535)-65536*(i=Math.floor(r/65536)),s=(r=s+i+65535)-65536*(i=Math.floor(r/65536)),u=(r=u+i+65535)-65536*(i=Math.floor(r/65536)),c=(r=c+i+65535)-65536*(i=Math.floor(r/65536)),l=(r=l+i+65535)-65536*(i=Math.floor(r/65536)),d=(r=d+i+65535)-65536*(i=Math.floor(r/65536)),p=(r=p+i+65535)-65536*(i=Math.floor(r/65536)),f=(r=f+i+65535)-65536*(i=Math.floor(r/65536)),h=(r=h+i+65535)-65536*(i=Math.floor(r/65536)),m=(r=m+i+65535)-65536*(i=Math.floor(r/65536)),v=(r=v+i+65535)-65536*(i=Math.floor(r/65536)),g=(r=g+i+65535)-65536*(i=Math.floor(r/65536)),y=(r=y+i+65535)-65536*(i=Math.floor(r/65536)),b=(r=b+i+65535)-65536*(i=Math.floor(r/65536)),w=(r=w+i+65535)-65536*(i=Math.floor(r/65536)),a=(r=(a+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(r/65536)),o=(r=o+i+65535)-65536*(i=Math.floor(r/65536)),s=(r=s+i+65535)-65536*(i=Math.floor(r/65536)),u=(r=u+i+65535)-65536*(i=Math.floor(r/65536)),c=(r=c+i+65535)-65536*(i=Math.floor(r/65536)),l=(r=l+i+65535)-65536*(i=Math.floor(r/65536)),d=(r=d+i+65535)-65536*(i=Math.floor(r/65536)),p=(r=p+i+65535)-65536*(i=Math.floor(r/65536)),f=(r=f+i+65535)-65536*(i=Math.floor(r/65536)),h=(r=h+i+65535)-65536*(i=Math.floor(r/65536)),m=(r=m+i+65535)-65536*(i=Math.floor(r/65536)),v=(r=v+i+65535)-65536*(i=Math.floor(r/65536)),g=(r=g+i+65535)-65536*(i=Math.floor(r/65536)),y=(r=y+i+65535)-65536*(i=Math.floor(r/65536)),b=(r=b+i+65535)-65536*(i=Math.floor(r/65536)),w=(r=w+i+65535)-65536*(i=Math.floor(r/65536)),a+=i-1+37*(i-1),e[0]=a,e[1]=o,e[2]=s,e[3]=u,e[4]=c,e[5]=l,e[6]=d,e[7]=p,e[8]=f,e[9]=h,e[10]=m,e[11]=v,e[12]=g,e[13]=y,e[14]=b,e[15]=w}},3949:(e,t,n)=>{"use strict";n(7588)},4055:(e,t,n)=>{"use strict";var r=n(44576),i=n(20034),a=r.document,o=i(a)&&i(a.createElement);e.exports=function(e){return o?a.createElement(e):{}}},4180:(e,t,n)=>{"use strict";n(16280),n(76918),n(25276),n(8921),n(34782),n(23288),n(25428),n(32637),n(59904),n(84185),n(26099),n(27495),n(90906),n(38781);var r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,i=/^[\u0021-\u003A\u003C-\u007E]*$/,a=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,o=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,u=function(){var e=function(){};return e.prototype=Object.create(null),e}();function c(e,t,n){do{var r=e.charCodeAt(t);if(32!==r&&9!==r)return t}while(++t<n);return n}function l(e,t,n){for(;t>n;){var r=e.charCodeAt(--t);if(32!==r&&9!==r)return t+1}return n}function d(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},4294:(e,t,n)=>{"use strict";var r=n(46518),i=n(97751),a=n(18745),o=n(79039),s=n(14601),u="AggregateError",c=i(u),l=!o((function(){return 1!==c([1]).errors[0]}))&&o((function(){return 7!==c([1],u,{cause:7}).cause}));r({global:!0,constructor:!0,arity:2,forced:l},{AggregateError:s(u,(function(e){return function(t,n){return a(e,this,arguments)}}),l,!0)})},4326:(e,t,n)=>{var r=n(89990);e.exports=function(e){var t=r(e);return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},4373:(e,t,n)=>{n(16280),n(76918),n(28706),n(48598),n(44114),n(34782),n(54554),n(23288),n(36456),n(26099),n(58940),n(38781),n(50375),n(88267);var r=r||function(e){var t={},n=t.lib={},r=n.Base=function(){function e(){}return{extend:function(t){e.prototype=this;var n=new e;return t&&n.mixIn(t),n.hasOwnProperty("init")||(n.init=function(){n.$super.init.apply(this,arguments)}),n.init.prototype=n,n.$super=this,n},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),i=n.WordArray=r.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||o).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var a=0;a<i;a++){var o=n[a>>>2]>>>24-a%4*8&255;t[r+a>>>2]|=o<<24-(r+a)%4*8}else if(n.length>65535)for(a=0;a<i;a+=4)t[r+a>>>2]=n[a>>>2];else t.push.apply(t,n);return this.sigBytes+=i,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=r.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n=[],r=0;r<t;r+=4)n.push(4294967296*e.random()|0);return new i.init(n,t)}}),a=t.enc={},o=a.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var a=t[i>>>2]>>>24-i%4*8&255;r.push((a>>>4).toString(16)),r.push((15&a).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new i.init(n,t/2)}},s=a.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var a=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(a))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new i.init(n,t)}},u=a.Utf8={stringify:function(e){try{return decodeURIComponent(escape(s.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return s.parse(unescape(encodeURIComponent(e)))}},c=n.BufferedBlockAlgorithm=r.extend({reset:function(){this._data=new i.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=u.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,r=n.words,a=n.sigBytes,o=this.blockSize,s=a/(4*o),u=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*o,c=e.min(4*u,a);if(u){for(var l=0;l<u;l+=o)this._doProcessBlock(r,l);var d=r.splice(0,u);n.sigBytes-=c}return new i.init(d,c)},clone:function(){var e=r.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),l=(n.Hasher=c.extend({cfg:r.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){c.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new l.HMAC.init(e,n).finalize(t)}}}),t.algo={});return t}(Math);t.H=r},4495:(e,t,n)=>{"use strict";var r=n(39519),i=n(79039),a=n(44576).String;e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol("symbol detection");return!a(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},4501:function(e,t,n){var r,i,a,o,s=n(89990);n(34782),o=function(e){return function(t){var n=e,r=n.lib,i=r.WordArray,a=r.Hasher,o=n.algo,s=[],u=[];!function(){function e(e){for(var n=t.sqrt(e),r=2;r<=n;r++)if(!(e%r))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var r=2,i=0;i<64;)e(r)&&(i<8&&(s[i]=n(t.pow(r,.5))),u[i]=n(t.pow(r,1/3)),i++),r++}();var c=[],l=o.SHA256=a.extend({_doReset:function(){this._hash=new i.init(s.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],l=n[5],d=n[6],p=n[7],f=0;f<64;f++){if(f<16)c[f]=0|e[t+f];else{var h=c[f-15],m=(h<<25|h>>>7)^(h<<14|h>>>18)^h>>>3,v=c[f-2],g=(v<<15|v>>>17)^(v<<13|v>>>19)^v>>>10;c[f]=m+c[f-7]+g+c[f-16]}var y=r&i^r&a^i&a,b=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),w=p+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&l^~s&d)+u[f]+c[f];p=d,d=l,l=s,s=o+w|0,o=a,a=i,i=r,r=w+(b+y)|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+a|0,n[3]=n[3]+o|0,n[4]=n[4]+s|0,n[5]=n[5]+l|0,n[6]=n[6]+d|0,n[7]=n[7]+p|0},_doFinalize:function(){var e=this._data,n=e.words,r=8*this._nDataBytes,i=8*e.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=t.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,e.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}});n.SHA256=a._createHelper(l),n.HmacSHA256=a._createHmacHelper(l)}(Math),e.SHA256},"object"===s(t)?e.exports=t=o(n(83841)):(i=[n(83841)],void 0===(a="function"==typeof(r=o)?r.apply(t,i):r)||(e.exports=a))},4544:(e,t,n)=>{n(76918),n(23288),n(26099),n(38781);var r=n(46133),i=n(21272),a=n(81813),o=n(78766),s=r?r.prototype:void 0,u=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(a(t))return i(t,e)+"";if(o(t))return u?u.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},4685:(e,t,n)=>{"use strict";n.r(t),n.d(t,{CapacitorSQLiteWeb:()=>p});n(60825);var r=n(18443),i=n(58237),a=n(84285),o=n(68119),s=n(36858),u=n(31061),c=(n(16280),n(76918),n(61792)),l=n.n(c);function d(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(d=function(){return!!e})()}var p=function(e){function t(){var e;return(0,i.A)(this,t),(e=function(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,d()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}(this,t,arguments)).jeepSqliteElement=null,e.isWebStoreOpen=!1,e}return(0,u.A)(t,e),(0,a.A)(t,[{key:"initWebStore",value:(le=(0,r.A)(l().mark((function e(){var t=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,customElements.whenDefined("jeep-sqlite");case 2:if(this.jeepSqliteElement=document.querySelector("jeep-sqlite"),this.ensureJeepSqliteIsAvailable(),this.jeepSqliteElement.addEventListener("jeepSqliteImportProgress",(function(e){t.notifyListeners("sqliteImportProgressEvent",e.detail)})),this.jeepSqliteElement.addEventListener("jeepSqliteExportProgress",(function(e){t.notifyListeners("sqliteExportProgressEvent",e.detail)})),this.jeepSqliteElement.addEventListener("jeepSqliteHTTPRequestEnded",(function(e){t.notifyListeners("sqliteHTTPRequestEndedEvent",e.detail)})),this.jeepSqliteElement.addEventListener("jeepSqlitePickDatabaseEnded",(function(e){t.notifyListeners("sqlitePickDatabaseEndedEvent",e.detail)})),this.jeepSqliteElement.addEventListener("jeepSqliteSaveDatabaseToDisk",(function(e){t.notifyListeners("sqliteSaveDatabaseToDiskEvent",e.detail)})),this.isWebStoreOpen){e.next=13;break}return e.next=12,this.jeepSqliteElement.isStoreOpen();case 12:this.isWebStoreOpen=e.sent;case 13:return e.abrupt("return");case 14:case"end":return e.stop()}}),e,this)}))),function(){return le.apply(this,arguments)})},{key:"saveToStore",value:(ce=(0,r.A)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureJeepSqliteIsAvailable(),this.ensureWebstoreIsOpen(),e.prev=2,e.next=5,this.jeepSqliteElement.saveToStore(t);case 5:return e.abrupt("return");case 8:throw e.prev=8,e.t0=e.catch(2),new Error("".concat(e.t0));case 11:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(e){return ce.apply(this,arguments)})},{key:"getFromLocalDiskToStore",value:(ue=(0,r.A)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureJeepSqliteIsAvailable(),this.ensureWebstoreIsOpen(),e.prev=2,e.next=5,this.jeepSqliteElement.getFromLocalDiskToStore(t);case 5:return e.abrupt("return");case 8:throw e.prev=8,e.t0=e.catch(2),new Error("".concat(e.t0));case 11:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(e){return ue.apply(this,arguments)})},{key:"saveToLocalDisk",value:(se=(0,r.A)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureJeepSqliteIsAvailable(),this.ensureWebstoreIsOpen(),e.prev=2,e.next=5,this.jeepSqliteElement.saveToLocalDisk(t);case 5:return e.abrupt("return");case 8:throw e.prev=8,e.t0=e.catch(2),new Error("".concat(e.t0));case 11:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(e){return se.apply(this,arguments)})},{key:"echo",value:(oe=(0,r.A)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureJeepSqliteIsAvailable(),e.next=3,this.jeepSqliteElement.echo(t);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return oe.apply(this,arguments)})},{key:"createConnection",value:(ae=(0,r.A)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureJeepSqliteIsAvailable(),this.ensureWebstoreIsOpen(),e.prev=2,e.next=5,this.jeepSqliteElement.createConnection(t);case 5:return e.abrupt("return");case 8:throw e.prev=8,e.t0=e.catch(2),new Error("".concat(e.t0));case 11:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(e){return ae.apply(this,arguments)})},{key:"open",value:(ie=(0,r.A)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureJeepSqliteIsAvailable(),this.ensureWebstoreIsOpen(),e.prev=2,e.next=5,this.jeepSqliteElement.open(t);case 5:return e.abrupt("return");case 8:throw e.prev=8,e.t0=e.catch(2),new Error("".concat(e.t0));case 11:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(e){return ie.apply(this,arguments)})},{key:"closeConnection",value:(re=(0,r.A)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureJeepSqliteIsAvailable(),this.ensureWebstoreIsOpen(),e.prev=2,e.next=5,this.jeepSqliteElement.closeConnection(t);case 5:return e.abrupt("return");case 8:throw e.prev=8,e.t0=e.catch(2),new Error("".concat(e.t0));case 11:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(e){return re.apply(this,arguments)})},{key:"getVersion",value:(ne=(0,r.A)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureJeepSqliteIsAvailable(),this.ensureWebstoreIsOpen(),e.prev=2,e.next=5,this.jeepSqliteElement.getVersion(t);case 5:return n=e.sent,e.abrupt("return",n);case 9:throw e.prev=9,e.t0=e.catch(2),new Error("".concat(e.t0));case 12:case"end":return e.stop()}}),e,this,[[2,9]])}))),function(e){return ne.apply(this,arguments)})},{key:"checkConnectionsConsistency",value:(te=(0,r.A)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureJeepSqliteIsAvailable(),e.prev=1,e.next=4,this.jeepSqliteElement.checkConnectionsConsistency(t);case 4:return n=e.sent,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(1),new Error("".concat(e.t0));case 11:case"end":return e.stop()}}),e,this,[[1,8]])}))),function(e){return te.apply(this,arguments)})},{key:"close",value:(ee=(0,r.A)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureJeepSqliteIsAvailable(),this.ensureWebstoreIsOpen(),e.prev=2,e.next=5,this.jeepSqliteElement.close(t);case 5:return e.abrupt("return");case 8:throw e.prev=8,e.t0=e.catch(2),new Error("".concat(e.t0));case 11:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(e){return ee.apply(this,arguments)})},{key:"beginTransaction",value:(J=(0,r.A)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureJeepSqliteIsAvailable(),this.ensureWebstoreIsOpen(),e.prev=2,e.next=5,this.jeepSqliteElement.beginTransaction(t);case 5:return n=e.sent,e.abrupt("return",n);case 9:throw e.prev=9,e.t0=e.catch(2),new Error("".concat(e.t0));case 12:case"end":return e.stop()}}),e,this,[[2,9]])}))),function(e){return J.apply(this,arguments)})},{key:"commitTransaction",value:(Z=(0,r.A)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureJeepSqliteIsAvailable(),this.ensureWebstoreIsOpen(),e.prev=2,e.next=5,this.jeepSqliteElement.commitTransaction(t);case 5:return n=e.sent,e.abrupt("return",n);case 9:throw e.prev=9,e.t0=e.catch(2),new Error("".concat(e.t0));case 12:case"end":return e.stop()}}),e,this,[[2,9]])}))),function(e){return Z.apply(this,arguments)})},{key:"rollbackTransaction",value:(X=(0,r.A)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureJeepSqliteIsAvailable(),this.ensureWebstoreIsOpen(),e.prev=2,e.next=5,this.jeepSqliteElement.rollbackTransaction(t);case 5:return n=e.sent,e.abrupt("return",n);case 9:throw e.prev=9,e.t0=e.catch(2),new Error("".concat(e.t0));case 12:case"end":return e.stop()}}),e,this,[[2,9]])}))),function(e){return X.apply(this,arguments)})},{key:"isTransactionActive",value:(Y=(0,r.A)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureJeepSqliteIsAvailable(),this.ensureWebstoreIsOpen(),e.prev=2,e.next=5,this.jeepSqliteElement.isTransactionActive(t);case 5:return n=e.sent,e.abrupt("return",n);case 9:throw e.prev=9,e.t0=e.catch(2),new Error("".concat(e.t0));case 12:case"end":return e.stop()}}),e,this,[[2,9]])}))),function(e){return Y.apply(this,arguments)})},{key:"getTableList",value:(Q=(0,r.A)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureJeepSqliteIsAvailable(),this.ensureWebstoreIsOpen(),e.prev=2,e.next=5,this.jeepSqliteElement.getTableList(t);case 5:return n=e.sent,e.abrupt("return",n);case 9:throw e.prev=9,e.t0=e.catch(2),new Error("".concat(e.t0));case 12:case"end":return e.stop()}}),e,this,[[2,9]])}))),function(e){return Q.apply(this,arguments)})},{key:"execute",value:(G=(0,r.A)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureJeepSqliteIsAvailable(),this.ensureWebstoreIsOpen(),e.prev=2,e.next=5,this.jeepSqliteElement.execute(t);case 5:return n=e.sent,e.abrupt("return",n);case 9:throw e.prev=9,e.t0=e.catch(2),new Error("".concat(e.t0));case 12:case"end":return e.stop()}}),e,this,[[2,9]])}))),function(e){return G.apply(this,arguments)})},{key:"executeSet",value:($=(0,r.A)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureJeepSqliteIsAvailable(),this.ensureWebstoreIsOpen(),e.prev=2,e.next=5,this.jeepSqliteElement.executeSet(t);case 5:return n=e.sent,e.abrupt("return",n);case 9:throw e.prev=9,e.t0=e.catch(2),new Error("".concat(e.t0));case 12:case"end":return e.stop()}}),e,this,[[2,9]])}))),function(e){return $.apply(this,arguments)})},{key:"run",value:(K=(0,r.A)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureJeepSqliteIsAvailable(),this.ensureWebstoreIsOpen(),e.prev=2,e.next=5,this.jeepSqliteElement.run(t);case 5:return n=e.sent,e.abrupt("return",n);case 9:throw e.prev=9,e.t0=e.catch(2),new Error("".concat(e.t0));case 12:case"end":return e.stop()}}),e,this,[[2,9]])}))),function(e){return K.apply(this,arguments)})},{key:"query",value:(W=(0,r.A)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureJeepSqliteIsAvailable(),this.ensureWebstoreIsOpen(),e.prev=2,e.next=5,this.jeepSqliteElement.query(t);case 5:return n=e.sent,e.abrupt("return",n);case 9:throw e.prev=9,e.t0=e.catch(2),new Error("".concat(e.t0));case 12:case"end":return e.stop()}}),e,this,[[2,9]])}))),function(e){return W.apply(this,arguments)})},{key:"isDBExists",value:(H=(0,r.A)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureJeepSqliteIsAvailable(),this.ensureWebstoreIsOpen(),e.prev=2,e.next=5,this.jeepSqliteElement.isDBExists(t);case 5:return n=e.sent,e.abrupt("return",n);case 9:throw e.prev=9,e.t0=e.catch(2),new Error("".concat(e.t0));case 12:case"end":return e.stop()}}),e,this,[[2,9]])}))),function(e){return H.apply(this,arguments)})},{key:"isDBOpen",value:(q=(0,r.A)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureJeepSqliteIsAvailable(),this.ensureWebstoreIsOpen(),e.prev=2,e.next=5,this.jeepSqliteElement.isDBOpen(t);case 5:return n=e.sent,e.abrupt("return",n);case 9:throw e.prev=9,e.t0=e.catch(2),new Error("".concat(e.t0));case 12:case"end":return e.stop()}}),e,this,[[2,9]])}))),function(e){return q.apply(this,arguments)})},{key:"isDatabase",value:(V=(0,r.A)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureJeepSqliteIsAvailable(),this.ensureWebstoreIsOpen(),e.prev=2,e.next=5,this.jeepSqliteElement.isDatabase(t);case 5:return n=e.sent,e.abrupt("return",n);case 9:throw e.prev=9,e.t0=e.catch(2),new Error("".concat(e.t0));case 12:case"end":return e.stop()}}),e,this,[[2,9]])}))),function(e){return V.apply(this,arguments)})},{key:"isTableExists",value:(z=(0,r.A)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureJeepSqliteIsAvailable(),this.ensureWebstoreIsOpen(),e.prev=2,e.next=5,this.jeepSqliteElement.isTableExists(t);case 5:return n=e.sent,e.abrupt("return",n);case 9:throw e.prev=9,e.t0=e.catch(2),new Error("".concat(e.t0));case 12:case"end":return e.stop()}}),e,this,[[2,9]])}))),function(e){return z.apply(this,arguments)})},{key:"deleteDatabase",value:(U=(0,r.A)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureJeepSqliteIsAvailable(),this.ensureWebstoreIsOpen(),e.prev=2,e.next=5,this.jeepSqliteElement.deleteDatabase(t);case 5:return e.abrupt("return");case 8:throw e.prev=8,e.t0=e.catch(2),new Error("".concat(e.t0));case 11:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(e){return U.apply(this,arguments)})},{key:"isJsonValid",value:(j=(0,r.A)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureJeepSqliteIsAvailable(),this.ensureWebstoreIsOpen(),e.prev=2,e.next=5,this.jeepSqliteElement.isJsonValid(t);case 5:return n=e.sent,e.abrupt("return",n);case 9:throw e.prev=9,e.t0=e.catch(2),new Error("".concat(e.t0));case 12:case"end":return e.stop()}}),e,this,[[2,9]])}))),function(e){return j.apply(this,arguments)})},{key:"importFromJson",value:(L=(0,r.A)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureJeepSqliteIsAvailable(),this.ensureWebstoreIsOpen(),e.prev=2,e.next=5,this.jeepSqliteElement.importFromJson(t);case 5:return n=e.sent,e.abrupt("return",n);case 9:throw e.prev=9,e.t0=e.catch(2),new Error("".concat(e.t0));case 12:case"end":return e.stop()}}),e,this,[[2,9]])}))),function(e){return L.apply(this,arguments)})},{key:"exportToJson",value:(M=(0,r.A)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureJeepSqliteIsAvailable(),this.ensureWebstoreIsOpen(),e.prev=2,e.next=5,this.jeepSqliteElement.exportToJson(t);case 5:return n=e.sent,e.abrupt("return",n);case 9:throw e.prev=9,e.t0=e.catch(2),new Error("".concat(e.t0));case 12:case"end":return e.stop()}}),e,this,[[2,9]])}))),function(e){return M.apply(this,arguments)})},{key:"createSyncTable",value:(N=(0,r.A)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureJeepSqliteIsAvailable(),this.ensureWebstoreIsOpen(),e.prev=2,e.next=5,this.jeepSqliteElement.createSyncTable(t);case 5:return n=e.sent,e.abrupt("return",n);case 9:throw e.prev=9,e.t0=e.catch(2),new Error("".concat(e.t0));case 12:case"end":return e.stop()}}),e,this,[[2,9]])}))),function(e){return N.apply(this,arguments)})},{key:"setSyncDate",value:(R=(0,r.A)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureJeepSqliteIsAvailable(),this.ensureWebstoreIsOpen(),e.prev=2,e.next=5,this.jeepSqliteElement.setSyncDate(t);case 5:return e.abrupt("return");case 8:throw e.prev=8,e.t0=e.catch(2),new Error("".concat(e.t0));case 11:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(e){return R.apply(this,arguments)})},{key:"getSyncDate",value:(B=(0,r.A)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureJeepSqliteIsAvailable(),this.ensureWebstoreIsOpen(),e.prev=2,e.next=5,this.jeepSqliteElement.getSyncDate(t);case 5:return n=e.sent,e.abrupt("return",n);case 9:throw e.prev=9,e.t0=e.catch(2),new Error("".concat(e.t0));case 12:case"end":return e.stop()}}),e,this,[[2,9]])}))),function(e){return B.apply(this,arguments)})},{key:"deleteExportedRows",value:(I=(0,r.A)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureJeepSqliteIsAvailable(),this.ensureWebstoreIsOpen(),e.prev=2,e.next=5,this.jeepSqliteElement.deleteExportedRows(t);case 5:return e.abrupt("return");case 8:throw e.prev=8,e.t0=e.catch(2),new Error("".concat(e.t0));case 11:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(e){return I.apply(this,arguments)})},{key:"addUpgradeStatement",value:(P=(0,r.A)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureJeepSqliteIsAvailable(),this.ensureWebstoreIsOpen(),e.prev=2,e.next=5,this.jeepSqliteElement.addUpgradeStatement(t);case 5:return e.abrupt("return");case 8:throw e.prev=8,e.t0=e.catch(2),new Error("".concat(e.t0));case 11:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(e){return P.apply(this,arguments)})},{key:"copyFromAssets",value:(O=(0,r.A)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureJeepSqliteIsAvailable(),this.ensureWebstoreIsOpen(),e.prev=2,e.next=5,this.jeepSqliteElement.copyFromAssets(t);case 5:return e.abrupt("return");case 8:throw e.prev=8,e.t0=e.catch(2),new Error("".concat(e.t0));case 11:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(e){return O.apply(this,arguments)})},{key:"getFromHTTPRequest",value:(F=(0,r.A)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureJeepSqliteIsAvailable(),this.ensureWebstoreIsOpen(),e.prev=2,e.next=5,this.jeepSqliteElement.getFromHTTPRequest(t);case 5:return e.abrupt("return");case 8:throw e.prev=8,e.t0=e.catch(2),new Error("".concat(e.t0));case 11:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(e){return F.apply(this,arguments)})},{key:"getDatabaseList",value:(T=(0,r.A)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureJeepSqliteIsAvailable(),this.ensureWebstoreIsOpen(),e.prev=2,e.next=5,this.jeepSqliteElement.getDatabaseList();case 5:return t=e.sent,e.abrupt("return",t);case 9:throw e.prev=9,e.t0=e.catch(2),new Error("".concat(e.t0));case 12:case"end":return e.stop()}}),e,this,[[2,9]])}))),function(){return T.apply(this,arguments)})},{key:"ensureJeepSqliteIsAvailable",value:function(){if(null===this.jeepSqliteElement)throw new Error("The jeep-sqlite element is not present in the DOM! Please check the @capacitor-community/sqlite documentation for instructions regarding the web platform.")}},{key:"ensureWebstoreIsOpen",value:function(){if(!this.isWebStoreOpen)throw new Error('WebStore is not open yet. You have to call "initWebStore()" first.')}},{key:"getUrl",value:(S=(0,r.A)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw this.unimplemented("Not implemented on web.");case 1:case"end":return e.stop()}}),e,this)}))),function(){return S.apply(this,arguments)})},{key:"getMigratableDbList",value:(x=(0,r.A)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw console.log("getMigratableDbList",t),this.unimplemented("Not implemented on web.");case 2:case"end":return e.stop()}}),e,this)}))),function(e){return x.apply(this,arguments)})},{key:"addSQLiteSuffix",value:(_=(0,r.A)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw console.log("addSQLiteSuffix",t),this.unimplemented("Not implemented on web.");case 2:case"end":return e.stop()}}),e,this)}))),function(e){return _.apply(this,arguments)})},{key:"deleteOldDatabases",value:(C=(0,r.A)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw console.log("deleteOldDatabases",t),this.unimplemented("Not implemented on web.");case 2:case"end":return e.stop()}}),e,this)}))),function(e){return C.apply(this,arguments)})},{key:"moveDatabasesAndAddSuffix",value:(k=(0,r.A)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw console.log("moveDatabasesAndAddSuffix",t),this.unimplemented("Not implemented on web.");case 2:case"end":return e.stop()}}),e,this)}))),function(e){return k.apply(this,arguments)})},{key:"isSecretStored",value:(E=(0,r.A)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw this.unimplemented("Not implemented on web.");case 1:case"end":return e.stop()}}),e,this)}))),function(){return E.apply(this,arguments)})},{key:"setEncryptionSecret",value:(A=(0,r.A)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw console.log("setEncryptionSecret",t),this.unimplemented("Not implemented on web.");case 2:case"end":return e.stop()}}),e,this)}))),function(e){return A.apply(this,arguments)})},{key:"changeEncryptionSecret",value:(D=(0,r.A)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw console.log("changeEncryptionSecret",t),this.unimplemented("Not implemented on web.");case 2:case"end":return e.stop()}}),e,this)}))),function(e){return D.apply(this,arguments)})},{key:"clearEncryptionSecret",value:(w=(0,r.A)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw console.log("clearEncryptionSecret"),this.unimplemented("Not implemented on web.");case 2:case"end":return e.stop()}}),e,this)}))),function(){return w.apply(this,arguments)})},{key:"checkEncryptionSecret",value:(b=(0,r.A)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw console.log("checkEncryptionPassPhrase",t),this.unimplemented("Not implemented on web.");case 2:case"end":return e.stop()}}),e,this)}))),function(e){return b.apply(this,arguments)})},{key:"getNCDatabasePath",value:(y=(0,r.A)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw console.log("getNCDatabasePath",t),this.unimplemented("Not implemented on web.");case 2:case"end":return e.stop()}}),e,this)}))),function(e){return y.apply(this,arguments)})},{key:"createNCConnection",value:(g=(0,r.A)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw console.log("createNCConnection",t),this.unimplemented("Not implemented on web.");case 2:case"end":return e.stop()}}),e,this)}))),function(e){return g.apply(this,arguments)})},{key:"closeNCConnection",value:(v=(0,r.A)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw console.log("closeNCConnection",t),this.unimplemented("Not implemented on web.");case 2:case"end":return e.stop()}}),e,this)}))),function(e){return v.apply(this,arguments)})},{key:"isNCDatabase",value:(m=(0,r.A)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw console.log("isNCDatabase",t),this.unimplemented("Not implemented on web.");case 2:case"end":return e.stop()}}),e,this)}))),function(e){return m.apply(this,arguments)})},{key:"isDatabaseEncrypted",value:(h=(0,r.A)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw console.log("isDatabaseEncrypted",t),this.unimplemented("Not implemented on web.");case 2:case"end":return e.stop()}}),e,this)}))),function(e){return h.apply(this,arguments)})},{key:"isInConfigEncryption",value:(f=(0,r.A)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw this.unimplemented("Not implemented on web.");case 1:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)})},{key:"isInConfigBiometricAuth",value:(p=(0,r.A)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw this.unimplemented("Not implemented on web.");case 1:case"end":return e.stop()}}),e,this)}))),function(){return p.apply(this,arguments)})},{key:"loadExtension",value:(c=(0,r.A)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw console.log("loadExtension",t),this.unimplemented("Not implemented on web.");case 2:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"enableLoadExtension",value:(n=(0,r.A)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw console.log("enableLoadExtension",t),this.unimplemented("Not implemented on web.");case 2:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})}]);var n,c,p,f,h,m,v,g,y,b,w,D,A,E,k,C,_,x,S,T,F,O,P,I,B,R,N,M,L,j,U,z,V,q,H,W,K,$,G,Q,Y,X,Z,J,ee,te,ne,re,ie,ae,oe,se,ue,ce,le}(n(94230).E_)},4727:(e,t,n)=>{"use strict";n.r(t),n.d(t,{PreferencesWeb:()=>h});n(52675),n(89463),n(2259),n(16280),n(76918),n(23418),n(64346),n(23792),n(34782),n(23288),n(62010),n(60825),n(27495),n(90906),n(38781),n(47764),n(62953);var r=n(18443),i=n(58237),a=n(84285),o=n(68119),s=n(36858),u=n(31061),c=(n(2008),n(25276),n(62062),n(44114),n(79432),n(26099),n(98992),n(54520),n(81454),n(61792)),l=n.n(c);function d(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return p(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function f(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(f=function(){return!!e})()}var h=function(e){function t(){var e;return(0,i.A)(this,t),(e=function(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,f()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}(this,t,arguments)).group="CapacitorStorage",e}return(0,u.A)(t,e),(0,a.A)(t,[{key:"configure",value:(y=(0,r.A)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"string"==typeof(n=t.group)&&(this.group=n);case 2:case"end":return e.stop()}}),e,this)}))),function(e){return y.apply(this,arguments)})},{key:"get",value:(g=(0,r.A)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.impl.getItem(this.applyPrefix(t.key)),e.abrupt("return",{value:n});case 2:case"end":return e.stop()}}),e,this)}))),function(e){return g.apply(this,arguments)})},{key:"set",value:(v=(0,r.A)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.impl.setItem(this.applyPrefix(t.key),t.value);case 1:case"end":return e.stop()}}),e,this)}))),function(e){return v.apply(this,arguments)})},{key:"remove",value:(m=(0,r.A)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.impl.removeItem(this.applyPrefix(t.key));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return m.apply(this,arguments)})},{key:"keys",value:(h=(0,r.A)(l().mark((function e(){var t,n=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.rawKeys().map((function(e){return e.substring(n.prefix.length)})),e.abrupt("return",{keys:t});case 2:case"end":return e.stop()}}),e,this)}))),function(){return h.apply(this,arguments)})},{key:"clear",value:(p=(0,r.A)(l().mark((function e(){var t,n,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=d(this.rawKeys());try{for(t.s();!(n=t.n()).done;)r=n.value,this.impl.removeItem(r)}catch(e){t.e(e)}finally{t.f()}case 2:case"end":return e.stop()}}),e,this)}))),function(){return p.apply(this,arguments)})},{key:"migrate",value:(c=(0,r.A)(l().mark((function e(){var t,n,r,i,a,o,s,u,c,p;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],r=[],i="_cap_",a=Object.keys(this.impl).filter((function(e){return 0===e.indexOf(i)})),o=d(a),e.prev=5,o.s();case 7:if((s=o.n()).done){e.next=24;break}return u=s.value,c=u.substring(i.length),p=null!==(t=this.impl.getItem(u))&&void 0!==t?t:"",e.next=13,this.get({key:c});case 13:if("string"!=typeof e.sent.value){e.next=19;break}r.push(c),e.next=22;break;case 19:return e.next=21,this.set({key:c,value:p});case 21:n.push(c);case 22:e.next=7;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(5),o.e(e.t0);case 29:return e.prev=29,o.f(),e.finish(29);case 32:return e.abrupt("return",{migrated:n,existing:r});case 33:case"end":return e.stop()}}),e,this,[[5,26,29,32]])}))),function(){return c.apply(this,arguments)})},{key:"removeOld",value:(n=(0,r.A)(l().mark((function e(){var t,n,r,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object.keys(this.impl).filter((function(e){return 0===e.indexOf("_cap_")})),n=d(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.impl.removeItem(i)}catch(e){n.e(e)}finally{n.f()}case 4:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"impl",get:function(){return window.localStorage}},{key:"prefix",get:function(){return"NativeStorage"===this.group?"":"".concat(this.group,".")}},{key:"rawKeys",value:function(){var e=this;return Object.keys(this.impl).filter((function(t){return 0===t.indexOf(e.prefix)}))}},{key:"applyPrefix",value:function(e){return this.prefix+e}}]);var n,c,p,h,m,v,g,y}(n(94230).E_)},4731:(e,t,n)=>{"use strict";var r=n(44576);n(10687)(r.JSON,"JSON",!0)},4912:(e,t,n)=>{n(16280),n(76918);var r=n(89990).default,i=n(43903);e.exports=function(e,t){if(t&&("object"==r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},5240:(e,t,n)=>{"use strict";n(16468)("WeakSet",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n(91625))},5506:(e,t,n)=>{"use strict";var r=n(46518),i=n(32357).entries;r({target:"Object",stat:!0},{entries:function(e){return i(e)}})},5746:(e,t,n)=>{"use strict";var r=n(69565),i=n(89228),a=n(28551),o=n(64117),s=n(67750),u=n(3470),c=n(655),l=n(55966),d=n(56682);i("search",(function(e,t,n){return[function(t){var n=s(this),i=o(t)?void 0:l(t,e);return i?r(i,t,n):new RegExp(t)[e](c(n))},function(e){var r=a(this),i=c(e),o=n(t,r,i);if(o.done)return o.value;var s=r.lastIndex;u(s,0)||(r.lastIndex=0);var l=d(r,i);return u(r.lastIndex,s)||(r.lastIndex=s),null===l?-1:l.index}]}))},5914:(e,t,n)=>{"use strict";n(46518)({target:"Math",stat:!0},{sign:n(77782)})},6358:function(e,t,n){var r,i,a,o,s=n(89990);o=function(e){return function(){var t=e,n=t.lib.StreamCipher,r=t.algo,i=[],a=[],o=[],s=r.Rabbit=n.extend({_doReset:function(){for(var e=this._key.words,t=this.cfg.iv,n=0;n<4;n++)e[n]=16711935&(e[n]<<8|e[n]>>>24)|4278255360&(e[n]<<24|e[n]>>>8);var r=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],i=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];for(this._b=0,n=0;n<4;n++)u.call(this);for(n=0;n<8;n++)i[n]^=r[n+4&7];if(t){var a=t.words,o=a[0],s=a[1],c=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),l=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),d=c>>>16|4294901760&l,p=l<<16|65535&c;for(i[0]^=c,i[1]^=d,i[2]^=l,i[3]^=p,i[4]^=c,i[5]^=d,i[6]^=l,i[7]^=p,n=0;n<4;n++)u.call(this)}},_doProcessBlock:function(e,t){var n=this._X;u.call(this),i[0]=n[0]^n[5]>>>16^n[3]<<16,i[1]=n[2]^n[7]>>>16^n[5]<<16,i[2]=n[4]^n[1]>>>16^n[7]<<16,i[3]=n[6]^n[3]>>>16^n[1]<<16;for(var r=0;r<4;r++)i[r]=16711935&(i[r]<<8|i[r]>>>24)|4278255360&(i[r]<<24|i[r]>>>8),e[t+r]^=i[r]},blockSize:4,ivSize:2});function u(){for(var e=this._X,t=this._C,n=0;n<8;n++)a[n]=t[n];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<a[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<a[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<a[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<a[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<a[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<a[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<a[6]>>>0?1:0)|0,this._b=t[7]>>>0<a[7]>>>0?1:0,n=0;n<8;n++){var r=e[n]+t[n],i=65535&r,s=r>>>16,u=((i*i>>>17)+i*s>>>15)+s*s,c=((4294901760&r)*r|0)+((65535&r)*r|0);o[n]=u^c}e[0]=o[0]+(o[7]<<16|o[7]>>>16)+(o[6]<<16|o[6]>>>16)|0,e[1]=o[1]+(o[0]<<8|o[0]>>>24)+o[7]|0,e[2]=o[2]+(o[1]<<16|o[1]>>>16)+(o[0]<<16|o[0]>>>16)|0,e[3]=o[3]+(o[2]<<8|o[2]>>>24)+o[1]|0,e[4]=o[4]+(o[3]<<16|o[3]>>>16)+(o[2]<<16|o[2]>>>16)|0,e[5]=o[5]+(o[4]<<8|o[4]>>>24)+o[3]|0,e[6]=o[6]+(o[5]<<16|o[5]>>>16)+(o[4]<<16|o[4]>>>16)|0,e[7]=o[7]+(o[6]<<8|o[6]>>>24)+o[5]|0}t.Rabbit=n._createHelper(s)}(),e.Rabbit},"object"===s(t)?e.exports=t=o(n(83841),n(21894),n(54624),n(38294),n(76793)):(i=[n(83841),n(21894),n(54624),n(38294),n(76793)],void 0===(a="function"==typeof(r=o)?r.apply(t,i):r)||(e.exports=a))},6413:(e,t,n)=>{var r=n(74946);e.exports=function(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var a=n.length,o=t?a:-1,s=Object(n);(t?o--:++o<a)&&!1!==i(s[o],o,s););return n}}},6469:(e,t,n)=>{"use strict";var r=n(78227),i=n(2360),a=n(24913).f,o=r("unscopables"),s=Array.prototype;void 0===s[o]&&a(s,o,{configurable:!0,value:i(null)}),e.exports=function(e){s[o][e]=!0}},6761:(e,t,n)=>{"use strict";var r=n(46518),i=n(44576),a=n(69565),o=n(79504),s=n(96395),u=n(43724),c=n(4495),l=n(79039),d=n(39297),p=n(1625),f=n(28551),h=n(25397),m=n(56969),v=n(655),g=n(6980),y=n(2360),b=n(71072),w=n(38480),D=n(10298),A=n(33717),E=n(77347),k=n(24913),C=n(96801),_=n(48773),x=n(36840),S=n(62106),T=n(25745),F=n(66119),O=n(30421),P=n(33392),I=n(78227),B=n(1951),R=n(70511),N=n(58242),M=n(10687),L=n(91181),j=n(59213).forEach,U=F("hidden"),z="Symbol",V="prototype",q=L.set,H=L.getterFor(z),W=Object[V],K=i.Symbol,$=K&&K[V],G=i.RangeError,Q=i.TypeError,Y=i.QObject,X=E.f,Z=k.f,J=D.f,ee=_.f,te=o([].push),ne=T("symbols"),re=T("op-symbols"),ie=T("wks"),ae=!Y||!Y[V]||!Y[V].findChild,oe=function(e,t,n){var r=X(W,t);r&&delete W[t],Z(e,t,n),r&&e!==W&&Z(W,t,r)},se=u&&l((function(){return 7!==y(Z({},"a",{get:function(){return Z(this,"a",{value:7}).a}})).a}))?oe:Z,ue=function(e,t){var n=ne[e]=y($);return q(n,{type:z,tag:e,description:t}),u||(n.description=t),n},ce=function(e,t,n){e===W&&ce(re,t,n),f(e);var r=m(t);return f(n),d(ne,r)?(n.enumerable?(d(e,U)&&e[U][r]&&(e[U][r]=!1),n=y(n,{enumerable:g(0,!1)})):(d(e,U)||Z(e,U,g(1,y(null))),e[U][r]=!0),se(e,r,n)):Z(e,r,n)},le=function(e,t){f(e);var n=h(t),r=b(n).concat(he(n));return j(r,(function(t){u&&!a(de,n,t)||ce(e,t,n[t])})),e},de=function(e){var t=m(e),n=a(ee,this,t);return!(this===W&&d(ne,t)&&!d(re,t))&&(!(n||!d(this,t)||!d(ne,t)||d(this,U)&&this[U][t])||n)},pe=function(e,t){var n=h(e),r=m(t);if(n!==W||!d(ne,r)||d(re,r)){var i=X(n,r);return!i||!d(ne,r)||d(n,U)&&n[U][r]||(i.enumerable=!0),i}},fe=function(e){var t=J(h(e)),n=[];return j(t,(function(e){d(ne,e)||d(O,e)||te(n,e)})),n},he=function(e){var t=e===W,n=J(t?re:h(e)),r=[];return j(n,(function(e){!d(ne,e)||t&&!d(W,e)||te(r,ne[e])})),r};c||(x($=(K=function(){if(p($,this))throw new Q("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?v(arguments[0]):void 0,t=P(e),n=function(e){var r=void 0===this?i:this;r===W&&a(n,re,e),d(r,U)&&d(r[U],t)&&(r[U][t]=!1);var o=g(1,e);try{se(r,t,o)}catch(e){if(!(e instanceof G))throw e;oe(r,t,o)}};return u&&ae&&se(W,t,{configurable:!0,set:n}),ue(t,e)})[V],"toString",(function(){return H(this).tag})),x(K,"withoutSetter",(function(e){return ue(P(e),e)})),_.f=de,k.f=ce,C.f=le,E.f=pe,w.f=D.f=fe,A.f=he,B.f=function(e){return ue(I(e),e)},u&&(S($,"description",{configurable:!0,get:function(){return H(this).description}}),s||x(W,"propertyIsEnumerable",de,{unsafe:!0}))),r({global:!0,constructor:!0,wrap:!0,forced:!c,sham:!c},{Symbol:K}),j(b(ie),(function(e){R(e)})),r({target:z,stat:!0,forced:!c},{useSetter:function(){ae=!0},useSimple:function(){ae=!1}}),r({target:"Object",stat:!0,forced:!c,sham:!u},{create:function(e,t){return void 0===t?y(e):le(y(e),t)},defineProperty:ce,defineProperties:le,getOwnPropertyDescriptor:pe}),r({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:fe}),N(),M(K,z),O[U]=!0},6762:function(e,t,n){"use strict";n(74423),n(23792),n(62010),n(2892),n(84185),n(26099),n(31415),n(21699),n(47764),n(42762),n(62953);var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0}),t.returnFirstArg=t.canTextBeChildOfNode=t.ELEMENTS_WITH_NO_TEXT_CHILDREN=t.PRESERVE_CUSTOM_ATTRIBUTES=void 0,t.isCustomComponent=function(e,t){if(!e.includes("-"))return Boolean(t&&"string"==typeof t.is);if(o.has(e))return!1;return!0},t.setStyleProp=function(e,t){if("string"!=typeof e)return;if(!e.trim())return void(t.style={});try{t.style=(0,a.default)(e,s)}catch(e){t.style={}}};var i=n(55384),a=r(n(63225)),o=new Set(["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"]);var s={reactCompat:!0};t.PRESERVE_CUSTOM_ATTRIBUTES=Number(i.version.split(".")[0])>=16,t.ELEMENTS_WITH_NO_TEXT_CHILDREN=new Set(["tr","tbody","thead","tfoot","colgroup","table","head","html","frameset"]);t.canTextBeChildOfNode=function(e){return!t.ELEMENTS_WITH_NO_TEXT_CHILDREN.has(e.name)};t.returnFirstArg=function(e){return e}},6980:e=>{"use strict";e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},7040:(e,t,n)=>{"use strict";var r=n(4495);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},7136:(e,t,n)=>{"use strict";n(52675),n(16280),n(76918),n(28706),n(44114),n(34782),n(59904),n(63548);var r=Object.prototype.hasOwnProperty,i="~";function a(){}function o(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(e,t,n,r,a){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new o(n,r||e,a),u=i?i+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],s]:e._events[u].push(s):(e._events[u]=s,e._eventsCount++),e}function u(e,t){0==--e._eventsCount?e._events=new a:delete e._events[t]}function c(){this._events=new a,this._eventsCount=0}Object.create&&(a.prototype=Object.create(null),(new a).__proto__||(i=!1)),c.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)r.call(e,t)&&n.push(i?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},c.prototype.listeners=function(e){var t=i?i+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,a=n.length,o=new Array(a);r<a;r++)o[r]=n[r].fn;return o},c.prototype.listenerCount=function(e){var t=i?i+e:e,n=this._events[t];return n?n.fn?1:n.length:0},c.prototype.emit=function(e,t,n,r,a,o){var s=i?i+e:e;if(!this._events[s])return!1;var u,c,l=this._events[s],d=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),d){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,n),!0;case 4:return l.fn.call(l.context,t,n,r),!0;case 5:return l.fn.call(l.context,t,n,r,a),!0;case 6:return l.fn.call(l.context,t,n,r,a,o),!0}for(c=1,u=new Array(d-1);c<d;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var p,f=l.length;for(c=0;c<f;c++)switch(l[c].once&&this.removeListener(e,l[c].fn,void 0,!0),d){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,t);break;case 3:l[c].fn.call(l[c].context,t,n);break;case 4:l[c].fn.call(l[c].context,t,n,r);break;default:if(!u)for(p=1,u=new Array(d-1);p<d;p++)u[p-1]=arguments[p];l[c].fn.apply(l[c].context,u)}}return!0},c.prototype.on=function(e,t,n){return s(this,e,t,n,!1)},c.prototype.once=function(e,t,n){return s(this,e,t,n,!0)},c.prototype.removeListener=function(e,t,n,r){var a=i?i+e:e;if(!this._events[a])return this;if(!t)return u(this,a),this;var o=this._events[a];if(o.fn)o.fn!==t||r&&!o.once||n&&o.context!==n||u(this,a);else{for(var s=0,c=[],l=o.length;s<l;s++)(o[s].fn!==t||r&&!o[s].once||n&&o[s].context!==n)&&c.push(o[s]);c.length?this._events[a]=1===c.length?c[0]:c:u(this,a)}return this},c.prototype.removeAllListeners=function(e){var t;return e?(t=i?i+e:e,this._events[t]&&u(this,t)):(this._events=new a,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=i,c.EventEmitter=c,e.exports=c},7438:(e,t,n)=>{"use strict";n(16280),n(76918),n(51629),n(25276),n(44114),n(15086),n(54554),n(84185),n(26099),n(98992),n(3949),n(23500);var r=n(40504),i=n(87280),a=[],o=function(){function e(e){this.$$observationTargets=[],this.$$activeTargets=[],this.$$skippedTargets=[];var t=function(e){if(void 0===e)return"Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.";if("function"!=typeof e)return"Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function."}(e);if(t)throw TypeError(t);this.$$callback=e}return e.prototype.observe=function(e){var t=u("observe",e);if(t)throw TypeError(t);c(this.$$observationTargets,e)>=0||(this.$$observationTargets.push(new r.ResizeObservation(e)),function(e){var t=a.indexOf(e);t<0&&(a.push(e),m())}(this))},e.prototype.unobserve=function(e){var t=u("unobserve",e);if(t)throw TypeError(t);var n=c(this.$$observationTargets,e);n<0||(this.$$observationTargets.splice(n,1),0===this.$$observationTargets.length&&s(this))},e.prototype.disconnect=function(){this.$$observationTargets=[],this.$$activeTargets=[],s(this)},e}();function s(e){var t=a.indexOf(e);t>=0&&(a.splice(t,1),g())}function u(e,t){return void 0===t?"Failed to execute '"+e+"' on 'ResizeObserver': 1 argument required, but only 0 present.":t&&t.nodeType===window.Node.ELEMENT_NODE?void 0:"Failed to execute '"+e+"' on 'ResizeObserver': parameter 1 is not of type 'Element'."}function c(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1}var l,d=function(e){a.forEach((function(t){t.$$activeTargets=[],t.$$skippedTargets=[],t.$$observationTargets.forEach((function(n){n.isActive()&&(f(n.target)>e?t.$$activeTargets.push(n):t.$$skippedTargets.push(n))}))}))},p=function(){var e=1/0;return a.forEach((function(t){if(t.$$activeTargets.length){var n=[];t.$$activeTargets.forEach((function(t){var r=new i.ResizeObserverEntry(t.target);n.push(r),t.$$broadcastWidth=r.contentRect.width,t.$$broadcastHeight=r.contentRect.height;var a=f(t.target);a<e&&(e=a)})),t.$$callback(n,t),t.$$activeTargets=[]}})),e},f=function(e){for(var t=0;e.parentNode;)e=e.parentNode,t+=1;return t},h=function(){var e,t=0;for(d(t);a.some((function(e){return!!e.$$activeTargets.length}));)t=p(),d(t);a.some((function(e){return!!e.$$skippedTargets.length}))&&(e=new window.ErrorEvent("ResizeLoopError",{message:"ResizeObserver loop completed with undelivered notifications."}),window.dispatchEvent(e))},m=function(){l||v()},v=function(){l=window.requestAnimationFrame((function(){h(),v()}))},g=function(){l&&!a.some((function(e){return!!e.$$observationTargets.length}))&&(window.cancelAnimationFrame(l),l=void 0)};t.ai=function(){return window.ResizeObserver=o}},7485:function(e,t,n){var r,i,a,o,s=n(89990);n(76918),n(23288),n(26099),n(38781),o=function(e){var t,n,r;return n=(t=e).lib.CipherParams,r=t.enc.Hex,t.format.Hex={stringify:function(e){return e.ciphertext.toString(r)},parse:function(e){var t=r.parse(e);return n.create({ciphertext:t})}},e.format.Hex},"object"===s(t)?e.exports=t=o(n(83841),n(76793)):(i=[n(83841),n(76793)],void 0===(a="function"==typeof(r=o)?r.apply(t,i):r)||(e.exports=a))},7588:(e,t,n)=>{"use strict";var r=n(46518),i=n(72652),a=n(79306),o=n(28551),s=n(1767);r({target:"Iterator",proto:!0,real:!0},{forEach:function(e){o(this),a(e);var t=s(this),n=0;i(t,(function(t){e(t,n++)}),{IS_RECORD:!0})}})},7621:e=>{e.exports=function(){return[]}},7740:e=>{"use strict";var t=Math.log;e.exports=Math.log1p||function(e){var n=+e;return n>-1e-8&&n<1e-8?n-n*n/2:t(1+n)}},7743:(e,t,n)=>{"use strict";var r=n(46518),i=n(69565),a=n(79306),o=n(36043),s=n(1103),u=n(72652);r({target:"Promise",stat:!0,forced:n(90537)},{race:function(e){var t=this,n=o.f(t),r=n.reject,c=s((function(){var o=a(t.resolve);u(e,(function(e){i(o,t,e).then(n.resolve,r)}))}));return c.error&&r(c.value),n.promise}})},7860:(e,t,n)=>{"use strict";var r=n(82839);e.exports=/web0s(?!.*chrome)/i.test(r)},8062:(e,t,n)=>{e.exports=[n(69233),n(26593),n(29835),n(61206),n(83252),n(82053)]},8085:(e,t,n)=>{"use strict";var r=n(46518),i=Math.floor,a=Math.log,o=Math.LOG2E;r({target:"Math",stat:!0},{clz32:function(e){var t=e>>>0;return t?31-i(a(t+.5)*o):32}})},8247:(e,t,n)=>{"use strict";n(25276),n(44114),n(13609),n(62010),n(84185),n(27495),n(25440),Object.defineProperty(t,"__esModule",{value:!0}),t.formatAttributes=a,t.escapeSpecialCharacters=function(e){return e.replace(i.CARRIAGE_RETURN_REGEX,i.CARRIAGE_RETURN_PLACEHOLDER)},t.revertEscapedCharacters=s,t.formatDOM=function e(t,n,i){void 0===n&&(n=null);for(var u,c=[],l=0,d=t.length;l<d;l++){var p=t[l];switch(p.nodeType){case 1:var f=o(p.nodeName);(u=new r.Element(f,a(p.attributes))).children=e("template"===f?p.content.childNodes:p.childNodes,u);break;case 3:u=new r.Text(s(p.nodeValue));break;case 8:u=new r.Comment(p.nodeValue);break;default:continue}var h=c[l-1]||null;h&&(h.next=u),u.parent=n,u.prev=h,u.next=null,c.push(u)}i&&((u=new r.ProcessingInstruction(i.substring(0,i.indexOf(" ")).toLowerCase(),i)).next=c[0]||null,u.parent=n,c.unshift(u),c[1]&&(c[1].prev=c[0]));return c};var r=n(22257),i=n(81802);function a(e){for(var t={},n=0,r=e.length;n<r;n++){var i=e[n];t[i.name]=i.value}return t}function o(e){var t=function(e){return i.CASE_SENSITIVE_TAG_NAMES_MAP[e]}(e=e.toLowerCase());return t||e}function s(e){return e.replace(i.CARRIAGE_RETURN_PLACEHOLDER_REGEX,i.CARRIAGE_RETURN)}},8379:(e,t,n)=>{"use strict";var r=n(18745),i=n(25397),a=n(91291),o=n(26198),s=n(34598),u=Math.min,c=[].lastIndexOf,l=!!c&&1/[1].lastIndexOf(1,-0)<0,d=s("lastIndexOf"),p=l||!d;e.exports=p?function(e){if(l)return r(c,this,arguments)||0;var t=i(this),n=o(t);if(0===n)return-1;var s=n-1;for(arguments.length>1&&(s=u(s,a(arguments[1]))),s<0&&(s=n+s);s>=0;s--)if(s in t&&t[s]===e)return s||0;return-1}:c},8498:(e,t,n)=>{n(16280),n(76918),n(28706),n(44114),n(76031);var r,i,a=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function u(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(e){i=s}}();var c,l=[],d=!1,p=-1;function f(){d&&c&&(d=!1,c.length?l=c.concat(l):p=-1,l.length&&h())}function h(){if(!d){var e=u(f);d=!0;for(var t=l.length;t;){for(c=l,l=[];++p<t;)c&&c[p].run();p=-1,t=l.length}c=null,d=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{return i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function v(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new m(e,t)),1!==l.length||d||u(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=v,a.addListener=v,a.once=v,a.off=v,a.removeListener=v,a.removeAllListeners=v,a.emit=v,a.prependListener=v,a.prependOnceListener=v,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},8872:(e,t,n)=>{"use strict";n(18237)},8921:(e,t,n)=>{"use strict";var r=n(46518),i=n(8379);r({target:"Array",proto:!0,forced:i!==[].lastIndexOf},{lastIndexOf:i})},8995:(e,t,n)=>{"use strict";var r=n(94644),i=n(59213).map,a=r.aTypedArray,o=r.getTypedArrayConstructor;(0,r.exportTypedArrayMethod)("map",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0,(function(e,t){return new(o(e))(t)}))}))},9165:e=>{e.exports=function(e){return this.__data__.has(e)}},9385:(e,t,n)=>{var r=n(85192);n(15318),e.exports=r.mgf=r.mgf||{},r.mgf.mgf1=r.mgf1},9391:(e,t,n)=>{"use strict";var r=n(46518),i=n(96395),a=n(80550),o=n(79039),s=n(97751),u=n(94901),c=n(2293),l=n(93438),d=n(36840),p=a&&a.prototype;if(r({target:"Promise",proto:!0,real:!0,forced:!!a&&o((function(){p.finally.call({then:function(){}},(function(){}))}))},{"finally":function(e){var t=c(this,s("Promise")),n=u(e);return this.then(n?function(n){return l(t,e()).then((function(){return n}))}:e,n?function(n){return l(t,e()).then((function(){throw n}))}:e)}}),!i&&u(a)){var f=s("Promise").prototype.finally;p.finally!==f&&d(p,"finally",f,{unsafe:!0})}},9539:(e,t,n)=>{"use strict";var r=n(69565),i=n(28551),a=n(55966);e.exports=function(e,t,n){var o,s;i(e);try{if(!(o=a(e,"return"))){if("throw"===t)throw n;return n}o=r(o,e)}catch(e){s=!0,o=e}if("throw"===t)throw n;if(s)throw o;return i(o),n}},9868:(e,t,n)=>{"use strict";var r=n(46518),i=n(79504),a=n(91291),o=n(31240),s=n(72333),u=n(79039),c=RangeError,l=String,d=Math.floor,p=i(s),f=i("".slice),h=i(1..toFixed),m=function(e,t,n){return 0===t?n:t%2==1?m(e,t-1,n*e):m(e*e,t/2,n)},v=function(e,t,n){for(var r=-1,i=n;++r<6;)i+=t*e[r],e[r]=i%1e7,i=d(i/1e7)},g=function(e,t){for(var n=6,r=0;--n>=0;)r+=e[n],e[n]=d(r/t),r=r%t*1e7},y=function(e){for(var t=6,n="";--t>=0;)if(""!==n||0===t||0!==e[t]){var r=l(e[t]);n=""===n?r:n+p("0",7-r.length)+r}return n};r({target:"Number",proto:!0,forced:u((function(){return"0.000"!==h(8e-5,3)||"1"!==h(.9,0)||"1.25"!==h(1.255,2)||"1000000000000000128"!==h(0xde0b6b3a7640080,0)}))||!u((function(){h({})}))},{toFixed:function(e){var t,n,r,i,s=o(this),u=a(e),d=[0,0,0,0,0,0],h="",b="0";if(u<0||u>20)throw new c("Incorrect fraction digits");if(s!=s)return"NaN";if(s<=-1e21||s>=1e21)return l(s);if(s<0&&(h="-",s=-s),s>1e-21)if(n=(t=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t}(s*m(2,69,1))-69)<0?s*m(2,-t,1):s/m(2,t,1),n*=4503599627370496,(t=52-t)>0){for(v(d,0,n),r=u;r>=7;)v(d,1e7,0),r-=7;for(v(d,m(10,r,1),0),r=t-1;r>=23;)g(d,1<<23),r-=23;g(d,1<<r),v(d,1,1),g(d,2),b=y(d)}else v(d,0,n),v(d,1<<-t,0),b=y(d)+p("0",u);return b=u>0?h+((i=b.length)<=u?"0."+p("0",u-i)+b:f(b,0,i-u)+"."+f(b,i-u)):h+b}})},9919:(e,t,n)=>{n(76918),n(28706),n(34782),n(23288),n(69085),n(59904),n(26099),n(27495),n(38781),n(25440),n(42762);var r=Object.assign?Object.assign:function(e,t,n,r){for(var i=1;i<arguments.length;i++)u(Object(arguments[i]),(function(t,n){e[n]=t}));return e},i=function(){if(Object.create)return function(e,t,n,i){var a=s(arguments,1);return r.apply(this,[Object.create(e)].concat(a))};var e=function(){};return function(t,n,i,a){var o=s(arguments,1);return e.prototype=t,r.apply(this,[new e].concat(o))}}(),a=String.prototype.trim?function(e){return String.prototype.trim.call(e)}:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},o="undefined"!=typeof window?window:n.g;function s(e,t){return Array.prototype.slice.call(e,t||0)}function u(e,t){c(e,(function(e,n){return t(e,n),!1}))}function c(e,t){if(l(e)){for(var n=0;n<e.length;n++)if(t(e[n],n))return e[n]}else for(var r in e)if(e.hasOwnProperty(r)&&t(e[r],r))return e[r]}function l(e){return null!=e&&"function"!=typeof e&&"number"==typeof e.length}e.exports={assign:r,create:i,trim:a,bind:function(e,t){return function(){return t.apply(e,Array.prototype.slice.call(arguments,0))}},slice:s,each:u,map:function(e,t){var n=l(e)?[]:{};return c(e,(function(e,r){return n[r]=t(e,r),!1})),n},pluck:c,isList:l,isFunction:function(e){return e&&"[object Function]"==={}.toString.call(e)},isObject:function(e){return e&&"[object Object]"==={}.toString.call(e)},Global:o}},10042:(e,t,n)=>{var r=n(86836),i=n(286);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},10149:(e,t,n)=>{"use strict";n(44732)},10287:(e,t,n)=>{"use strict";n(46518)({target:"Object",stat:!0},{setPrototypeOf:n(52967)})},10298:(e,t,n)=>{"use strict";var r=n(22195),i=n(25397),a=n(38480).f,o=n(67680),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"Window"===r(e)?function(e){try{return a(e)}catch(e){return o(s)}}(e):a(i(e))}},10350:(e,t,n)=>{"use strict";var r=n(43724),i=n(39297),a=Function.prototype,o=r&&Object.getOwnPropertyDescriptor,s=i(a,"name"),u=s&&"something"===function(){}.name,c=s&&(!r||r&&o(a,"name").configurable);e.exports={EXISTS:s,PROPER:u,CONFIGURABLE:c}},10362:(e,t,n)=>{"use strict";n(25276),n(27495),n(90906),e.exports=o,e.exports.isMobile=o,e.exports.default=o;var r=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,i=/CrOS/,a=/android|ipad|playbook|silk/i;function o(e){e||(e={});var t=e.ua;if(t||"undefined"==typeof navigator||(t=navigator.userAgent),t&&t.headers&&"string"==typeof t.headers["user-agent"]&&(t=t.headers["user-agent"]),"string"!=typeof t)return!1;var n=r.test(t)&&!i.test(t)||!!e.tablet&&a.test(t);return!n&&e.tablet&&e.featureDetect&&navigator&&navigator.maxTouchPoints>1&&-1!==t.indexOf("Macintosh")&&-1!==t.indexOf("Safari")&&(n=!0),n}},10436:(e,t,n)=>{"use strict";var r,i,a,o=n(46518),s=n(96395),u=n(16193),c=n(44576),l=n(69565),d=n(36840),p=n(52967),f=n(10687),h=n(87633),m=n(79306),v=n(94901),g=n(20034),y=n(90679),b=n(2293),w=n(59225).set,D=n(91955),A=n(90757),E=n(1103),k=n(18265),C=n(91181),_=n(80550),x=n(10916),S=n(36043),T="Promise",F=x.CONSTRUCTOR,O=x.REJECTION_EVENT,P=x.SUBCLASSING,I=C.getterFor(T),B=C.set,R=_&&_.prototype,N=_,M=R,L=c.TypeError,j=c.document,U=c.process,z=S.f,V=z,q=!!(j&&j.createEvent&&c.dispatchEvent),H="unhandledrejection",W=function(e){var t;return!(!g(e)||!v(t=e.then))&&t},K=function(e,t){var n,r,i,a=t.value,o=1===t.state,s=o?e.ok:e.fail,u=e.resolve,c=e.reject,d=e.domain;try{s?(o||(2===t.rejection&&X(t),t.rejection=1),!0===s?n=a:(d&&d.enter(),n=s(a),d&&(d.exit(),i=!0)),n===e.promise?c(new L("Promise-chain cycle")):(r=W(n))?l(r,n,u,c):u(n)):c(a)}catch(e){d&&!i&&d.exit(),c(e)}},$=function(e,t){e.notified||(e.notified=!0,D((function(){for(var n,r=e.reactions;n=r.get();)K(n,e);e.notified=!1,t&&!e.rejection&&Q(e)})))},G=function(e,t,n){var r,i;q?((r=j.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),c.dispatchEvent(r)):r={promise:t,reason:n},!O&&(i=c["on"+e])?i(r):e===H&&A("Unhandled promise rejection",n)},Q=function(e){l(w,c,(function(){var t,n=e.facade,r=e.value;if(Y(e)&&(t=E((function(){u?U.emit("unhandledRejection",r,n):G(H,n,r)})),e.rejection=u||Y(e)?2:1,t.error))throw t.value}))},Y=function(e){return 1!==e.rejection&&!e.parent},X=function(e){l(w,c,(function(){var t=e.facade;u?U.emit("rejectionHandled",t):G("rejectionhandled",t,e.value)}))},Z=function(e,t,n){return function(r){e(t,r,n)}},J=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,$(e,!0))},ee=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw new L("Promise can't be resolved itself");var r=W(t);r?D((function(){var n={done:!1};try{l(r,t,Z(ee,n,e),Z(J,n,e))}catch(t){J(n,t,e)}})):(e.value=t,e.state=1,$(e,!1))}catch(t){J({done:!1},t,e)}}};if(F&&(M=(N=function(e){y(this,M),m(e),l(r,this);var t=I(this);try{e(Z(ee,t),Z(J,t))}catch(e){J(t,e)}}).prototype,(r=function(e){B(this,{type:T,done:!1,notified:!1,parent:!1,reactions:new k,rejection:!1,state:0,value:null})}).prototype=d(M,"then",(function(e,t){var n=I(this),r=z(b(this,N));return n.parent=!0,r.ok=!v(e)||e,r.fail=v(t)&&t,r.domain=u?U.domain:void 0,0===n.state?n.reactions.add(r):D((function(){K(r,n)})),r.promise})),i=function(){var e=new r,t=I(e);this.promise=e,this.resolve=Z(ee,t),this.reject=Z(J,t)},S.f=z=function(e){return e===N||undefined===e?new i(e):V(e)},!s&&v(_)&&R!==Object.prototype)){a=R.then,P||d(R,"then",(function(e,t){var n=this;return new N((function(e,t){l(a,n,e,t)})).then(e,t)}),{unsafe:!0});try{delete R.constructor}catch(e){}p&&p(R,M)}o({global:!0,constructor:!0,wrap:!0,forced:F},{Promise:N}),f(N,T,!1,!0),h(T)},10534:(e,t,n)=>{n(44114),n(27495),n(25440);var r=n(59404),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,o=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,r,i){t.push(r?i.replace(a,"$1"):n||e)})),t}));e.exports=o},10650:(e,t,n)=>{n(28706);var r,i,a,o,s,u,c,l=n(4373).H;i=(r=l).lib,a=i.Base,o=i.WordArray,s=r.algo,u=s.MD5,c=s.EvpKDF=a.extend({cfg:a.extend({keySize:4,hasher:u,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=this.cfg,r=n.hasher.create(),i=o.create(),a=i.words,s=n.keySize,u=n.iterations;a.length<s;){c&&r.update(c);var c=r.update(e).finalize(t);r.reset();for(var l=1;l<u;l++)c=r.finalize(c),r.reset();i.concat(c)}return i.sigBytes=4*s,i}}),r.EvpKDF=function(e,t,n){return c.create(n).compute(e,t)}},10676:e=>{e.exports=function(e){return e}},10687:(e,t,n)=>{"use strict";var r=n(24913).f,i=n(39297),a=n(78227)("toStringTag");e.exports=function(e,t,n){e&&!n&&(e=e.prototype),e&&!i(e,a)&&r(e,a,{configurable:!0,value:t})}},10757:(e,t,n)=>{"use strict";var r=n(97751),i=n(94901),a=n(1625),o=n(7040),s=Object;e.exports=o?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return i(t)&&a(t.prototype,s(e))}},10826:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(18180);function i(e){return"object"===(0,r.A)(e)&&null!==e&&("nodeType"in e&&e.nodeType===Node.ELEMENT_NODE)}},10916:(e,t,n)=>{"use strict";var r=n(44576),i=n(80550),a=n(94901),o=n(92796),s=n(33706),u=n(78227),c=n(84215),l=n(96395),d=n(39519),p=i&&i.prototype,f=u("species"),h=!1,m=a(r.PromiseRejectionEvent),v=o("Promise",(function(){var e=s(i),t=e!==String(i);if(!t&&66===d)return!0;if(l&&(!p.catch||!p.finally))return!0;if(!d||d<51||!/native code/.test(e)){var n=new i((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))};if((n.constructor={})[f]=r,!(h=n.then((function(){}))instanceof r))return!0}return!(t||"BROWSER"!==c&&"DENO"!==c||m)}));e.exports={CONSTRUCTOR:v,REJECTION_EVENT:m,SUBCLASSING:h}},11056:(e,t,n)=>{"use strict";var r=n(24913).f;e.exports=function(e,t,n){n in e||r(e,n,{configurable:!0,get:function(){return t[n]},set:function(e){t[n]=e}})}},11367:(e,t,n)=>{"use strict";n(46518)({target:"Math",stat:!0},{log2:n(67787)})},11392:(e,t,n)=>{"use strict";var r,i=n(46518),a=n(27476),o=n(77347).f,s=n(18014),u=n(655),c=n(60511),l=n(67750),d=n(41436),p=n(96395),f=a("".slice),h=Math.min,m=d("startsWith");i({target:"String",proto:!0,forced:!!(p||m||(r=o(String.prototype,"startsWith"),!r||r.writable))&&!m},{startsWith:function(e){var t=u(l(this));c(e);var n=s(h(arguments.length>1?arguments[1]:void 0,t.length)),r=u(e);return f(t,n,n+r.length)===r}})},11616:(e,t,n)=>{n(94170),n(67945),n(26099),n(3362),function(){"use strict";var t="undefined"!=typeof window&&void 0!==window.document?window.document:{},n=e.exports,r=function(){for(var e,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],r=0,i=n.length,a={};r<i;r++)if((e=n[r])&&e[1]in t){for(r=0;r<e.length;r++)a[n[0][r]]=e[r];return a}return!1}(),i={change:r.fullscreenchange,error:r.fullscreenerror},a={request:function(e,n){return new Promise(function(i,a){var o=function(){this.off("change",o),i()}.bind(this);this.on("change",o);var s=(e=e||t.documentElement)[r.requestFullscreen](n);s instanceof Promise&&s.then(o).catch(a)}.bind(this))},exit:function(){return new Promise(function(e,n){if(this.isFullscreen){var i=function(){this.off("change",i),e()}.bind(this);this.on("change",i);var a=t[r.exitFullscreen]();a instanceof Promise&&a.then(i).catch(n)}else e()}.bind(this))},toggle:function(e,t){return this.isFullscreen?this.exit():this.request(e,t)},onchange:function(e){this.on("change",e)},onerror:function(e){this.on("error",e)},on:function(e,n){var r=i[e];r&&t.addEventListener(r,n,!1)},off:function(e,n){var r=i[e];r&&t.removeEventListener(r,n,!1)},raw:r};r?(Object.defineProperties(a,{isFullscreen:{get:function(){return Boolean(t[r.fullscreenElement])}},element:{enumerable:!0,get:function(){return t[r.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(t[r.fullscreenEnabled])}}}),n?e.exports=a:window.screenfull=a):n?e.exports={isEnabled:!1}:window.screenfull={isEnabled:!1}}()},11648:(e,t,n)=>{"use strict";n.r(t),n.d(t,{BadgeWeb:()=>p});n(60825);var r=n(18443),i=n(58237),a=n(84285),o=n(68119),s=n(36858),u=n(31061),c=(n(76918),n(23288),n(26099),n(58940),n(38781),n(61792)),l=n.n(c);function d(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(d=function(){return!!e})()}var p=function(e){function t(){var e;return(0,i.A)(this,t),(e=function(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,d()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}(this,t)).restore(),e}return(0,u.A)(t,e),(0,a.A)(t,[{key:"checkPermissions",value:(y=(0,r.A)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{display:"granted"});case 1:case"end":return e.stop()}}),e)}))),function(){return y.apply(this,arguments)})},{key:"requestPermissions",value:(g=(0,r.A)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{display:"granted"});case 1:case"end":return e.stop()}}),e)}))),function(){return g.apply(this,arguments)})},{key:"get",value:(v=(0,r.A)(l().mark((function e(){var n,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem(t.STORAGE_KEY),r=n?parseInt(n,10):0,e.abrupt("return",{count:r});case 3:case"end":return e.stop()}}),e)}))),function(){return v.apply(this,arguments)})},{key:"set",value:(m=(0,r.A)(l().mark((function e(n){var r,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(r=n.count)){e.next=6;break}return e.next=4,navigator.clearAppBadge();case 4:e.next=8;break;case 6:return e.next=8,navigator.setAppBadge(r);case 8:i=r.toString(),localStorage.setItem(t.STORAGE_KEY,i);case 10:case"end":return e.stop()}}),e)}))),function(e){return m.apply(this,arguments)})},{key:"increase",value:(h=(0,r.A)(l().mark((function e(){var t,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get();case 2:return t=e.sent,n=t.count,e.next=6,this.set({count:n+1});case 6:case"end":return e.stop()}}),e,this)}))),function(){return h.apply(this,arguments)})},{key:"decrease",value:(f=(0,r.A)(l().mark((function e(){var t,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get();case 2:if(t=e.sent,!((n=t.count)<1)){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,this.set({count:n-1});case 8:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)})},{key:"clear",value:(p=(0,r.A)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.set({count:0});case 2:case"end":return e.stop()}}),e,this)}))),function(){return p.apply(this,arguments)})},{key:"isSupported",value:(c=(0,r.A)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={isSupported:"setAppBadge"in navigator},e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)}))),function(){return c.apply(this,arguments)})},{key:"restore",value:(n=(0,r.A)(l().mark((function e(){var n,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=localStorage.getItem(t.STORAGE_KEY)){e.next=3;break}return e.abrupt("return");case 3:return r=parseInt(n,10),e.next=6,navigator.setAppBadge(r);case 6:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})}]);var n,c,p,f,h,m,v,g,y}(n(94230).E_);p.STORAGE_KEY="capacitor.badge"},11745:(e,t,n)=>{"use strict";var r=n(46518),i=n(27476),a=n(79039),o=n(66346),s=n(28551),u=n(35610),c=n(18014),l=o.ArrayBuffer,d=o.DataView,p=d.prototype,f=i(l.prototype.slice),h=i(p.getUint8),m=i(p.setUint8);r({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:a((function(){return!new l(2).slice(1,void 0).byteLength}))},{slice:function(e,t){if(f&&void 0===t)return f(s(this),e);for(var n=s(this).byteLength,r=u(e,n),i=u(void 0===t?n:t,n),a=new l(c(i-r)),o=new d(this),p=new d(a),v=0;r<i;)m(p,v++,h(o,r++));return a}})},12090:(e,t,n)=>{n(44114),n(94170),n(60825);var r=n(55130),i=n(70312);e.exports=function(e,t,n){if(r())return Reflect.construct.apply(null,arguments);var a=[null];a.push.apply(a,t);var o=new(e.bind.apply(e,a));return n&&i(o,n.prototype),o},e.exports.__esModule=!0,e.exports.default=e.exports},12180:(e,t,n)=>{e=n.nmd(e);var r=n(89990),i=n(42785),a=n(82459),o="object"==r(t)&&t&&!t.nodeType&&t,s=o&&"object"==r(e)&&e&&!e.nodeType&&e,u=s&&s.exports===o?i.Buffer:void 0,c=(u?u.isBuffer:void 0)||a;e.exports=c},12211:(e,t,n)=>{"use strict";var r=n(79039);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},12507:(e,t,n)=>{var r=n(89990);n(16280),n(76918),n(23792),n(44114),n(23288),n(26099),n(62953);var i=n(85192);n(90092),n(53486),n(27499),n(70430),n(90005),n(58630),n(78008),n(32807),n(33423);var a=i.asn1,o=e.exports=i.pkcs7=i.pkcs7||{};function s(e){var t={},n=[];if(!a.validate(e,o.asn1.recipientInfoValidator,t,n)){var r=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw r.errors=n,r}return{version:t.version.charCodeAt(0),issuer:i.pki.RDNAttributesAsArray(t.issuer),serialNumber:i.util.createBuffer(t.serial).toHex(),encryptedContent:{algorithm:a.derToOid(t.encAlgorithm),parameter:t.encParameter?t.encParameter.value:void 0,content:t.encKey}}}function u(e){for(var t,n=[],r=0;r<e.length;++r)n.push((t=e[r],a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(t.version).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[i.pki.distinguishedNameToAsn1({attributes:t.issuer}),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,i.util.hexToBytes(t.serialNumber))]),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(t.encryptedContent.algorithm).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")]),a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,t.encryptedContent.content)])));return n}function c(e){var t=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(e.version).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[i.pki.distinguishedNameToAsn1({attributes:e.issuer}),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,i.util.hexToBytes(e.serialNumber))]),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(e.digestAlgorithm).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")])]);if(e.authenticatedAttributesAsn1&&t.value.push(e.authenticatedAttributesAsn1),t.value.push(a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(e.signatureAlgorithm).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")])),t.value.push(a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,e.signature)),e.unauthenticatedAttributes.length>0){for(var n=a.create(a.Class.CONTEXT_SPECIFIC,1,!0,[]),r=0;r<e.unauthenticatedAttributes.length;++r){var o=e.unauthenticatedAttributes[r];n.values.push(l(o))}t.value.push(n)}return t}function l(e){var t;if(e.type===i.pki.oids.contentType)t=a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(e.value).getBytes());else if(e.type===i.pki.oids.messageDigest)t=a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,e.value.bytes());else if(e.type===i.pki.oids.signingTime){var n=new Date("1950-01-01T00:00:00Z"),r=new Date("2050-01-01T00:00:00Z"),o=e.value;if("string"==typeof o){var s=Date.parse(o);o=isNaN(s)?13===o.length?a.utcTimeToDate(o):a.generalizedTimeToDate(o):new Date(s)}t=o>=n&&o<r?a.create(a.Class.UNIVERSAL,a.Type.UTCTIME,!1,a.dateToUtcTime(o)):a.create(a.Class.UNIVERSAL,a.Type.GENERALIZEDTIME,!1,a.dateToGeneralizedTime(o))}return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(e.type).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SET,!0,[t])])}function d(e,t,n){var r={};if(!a.validate(t,n,r,[])){var o=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw o.errors=o,o}if(a.derToOid(r.contentType)!==i.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(r.encryptedContent){var s="";if(i.util.isArray(r.encryptedContent))for(var u=0;u<r.encryptedContent.length;++u){if(r.encryptedContent[u].type!==a.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");s+=r.encryptedContent[u].value}else s=r.encryptedContent;e.encryptedContent={algorithm:a.derToOid(r.encAlgorithm),parameter:i.util.createBuffer(r.encParameter.value),content:i.util.createBuffer(s)}}if(r.content){s="";if(i.util.isArray(r.content))for(u=0;u<r.content.length;++u){if(r.content[u].type!==a.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");s+=r.content[u].value}else s=r.content;e.content=i.util.createBuffer(s)}return e.version=r.version.charCodeAt(0),e.rawCapture=r,r}function p(e){if(void 0===e.encryptedContent.key)throw new Error("Symmetric key not available.");if(void 0===e.content){var t;switch(e.encryptedContent.algorithm){case i.pki.oids["aes128-CBC"]:case i.pki.oids["aes192-CBC"]:case i.pki.oids["aes256-CBC"]:t=i.aes.createDecryptionCipher(e.encryptedContent.key);break;case i.pki.oids.desCBC:case i.pki.oids["des-EDE3-CBC"]:t=i.des.createDecryptionCipher(e.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+e.encryptedContent.algorithm)}if(t.start(e.encryptedContent.parameter),t.update(e.encryptedContent.content),!t.finish())throw new Error("Symmetric decryption failed.");e.content=t.output}}o.messageFromPem=function(e){var t=i.pem.decode(e)[0];if("PKCS7"!==t.type){var n=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw n.headerType=t.type,n}if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var r=a.fromDer(t.body);return o.messageFromAsn1(r)},o.messageToPem=function(e,t){var n={type:"PKCS7",body:a.toDer(e.toAsn1()).getBytes()};return i.pem.encode(n,{maxline:t})},o.messageFromAsn1=function(e){var t={},n=[];if(!a.validate(e,o.asn1.contentInfoValidator,t,n)){var r=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw r.errors=n,r}var s,u=a.derToOid(t.contentType);switch(u){case i.pki.oids.envelopedData:s=o.createEnvelopedData();break;case i.pki.oids.encryptedData:s=o.createEncryptedData();break;case i.pki.oids.signedData:s=o.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+u+" is not (yet) supported.")}return s.fromAsn1(t.content.value[0]),s},o.createSignedData=function(){var e=null;return e={type:i.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(t){if(d(e,t,o.asn1.signedDataValidator),e.certificates=[],e.crls=[],e.digestAlgorithmIdentifiers=[],e.contentInfo=null,e.signerInfos=[],e.rawCapture.certificates)for(var n=e.rawCapture.certificates.value,r=0;r<n.length;++r)e.certificates.push(i.pki.certificateFromAsn1(n[r]))},toAsn1:function(){e.contentInfo||e.sign();for(var t=[],n=0;n<e.certificates.length;++n)t.push(i.pki.certificateToAsn1(e.certificates[n]));var r=[],o=a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(e.version).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SET,!0,e.digestAlgorithmIdentifiers),e.contentInfo])]);return t.length>0&&o.value[0].value.push(a.create(a.Class.CONTEXT_SPECIFIC,0,!0,t)),r.length>0&&o.value[0].value.push(a.create(a.Class.CONTEXT_SPECIFIC,1,!0,r)),o.value[0].value.push(a.create(a.Class.UNIVERSAL,a.Type.SET,!0,e.signerInfos)),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(e.type).getBytes()),o])},addSigner:function(t){var n=t.issuer,r=t.serialNumber;if(t.certificate){var a=t.certificate;"string"==typeof a&&(a=i.pki.certificateFromPem(a)),n=a.issuer.attributes,r=a.serialNumber}var o=t.key;if(!o)throw new Error("Could not add PKCS#7 signer; no private key specified.");"string"==typeof o&&(o=i.pki.privateKeyFromPem(o));var s=t.digestAlgorithm||i.pki.oids.sha1;switch(s){case i.pki.oids.sha1:case i.pki.oids.sha256:case i.pki.oids.sha384:case i.pki.oids.sha512:case i.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+s)}var u=t.authenticatedAttributes||[];if(u.length>0){for(var c=!1,l=!1,d=0;d<u.length;++d){var p=u[d];if(c||p.type!==i.pki.oids.contentType){if(l||p.type!==i.pki.oids.messageDigest);else if(l=!0,c)break}else if(c=!0,l)break}if(!c||!l)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}e.signers.push({key:o,version:1,issuer:n,serialNumber:r,digestAlgorithm:s,signatureAlgorithm:i.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:u,unauthenticatedAttributes:[]})},sign:function(t){var n;(t=t||{},"object"!==r(e.content)||null===e.contentInfo)&&(e.contentInfo=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(i.pki.oids.data).getBytes())]),"content"in e&&(e.content instanceof i.util.ByteBuffer?n=e.content.bytes():"string"==typeof e.content&&(n=i.util.encodeUtf8(e.content)),t.detached?e.detachedContent=a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,n):e.contentInfo.value.push(a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,n)]))));0!==e.signers.length&&function(t){var n;n=e.detachedContent?e.detachedContent:(n=e.contentInfo.value[1]).value[0];if(!n)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var r=a.derToOid(e.contentInfo.value[0].value),o=a.toDer(n);for(var s in o.getByte(),a.getBerValueLength(o),o=o.getBytes(),t)t[s].start().update(o);for(var u=new Date,d=0;d<e.signers.length;++d){var p=e.signers[d];if(0===p.authenticatedAttributes.length){if(r!==i.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{p.authenticatedAttributesAsn1=a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var f=a.create(a.Class.UNIVERSAL,a.Type.SET,!0,[]),h=0;h<p.authenticatedAttributes.length;++h){var m=p.authenticatedAttributes[h];m.type===i.pki.oids.messageDigest?m.value=t[p.digestAlgorithm].digest():m.type===i.pki.oids.signingTime&&(m.value||(m.value=u)),f.value.push(l(m)),p.authenticatedAttributesAsn1.value.push(l(m))}o=a.toDer(f).getBytes(),p.md.start().update(o)}p.signature=p.key.sign(p.md,"RSASSA-PKCS1-V1_5")}e.signerInfos=function(e){for(var t=[],n=0;n<e.length;++n)t.push(c(e[n]));return t}(e.signers)}(function(){for(var t={},n=0;n<e.signers.length;++n){var r=e.signers[n];(o=r.digestAlgorithm)in t||(t[o]=i.md[i.pki.oids[o]].create()),0===r.authenticatedAttributes.length?r.md=t[o]:r.md=i.md[i.pki.oids[o]].create()}for(var o in e.digestAlgorithmIdentifiers=[],t)e.digestAlgorithmIdentifiers.push(a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(o).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")]));return t}())},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(t){"string"==typeof t&&(t=i.pki.certificateFromPem(t)),e.certificates.push(t)},addCertificateRevokationList:function(e){throw new Error("PKCS#7 CRL support not yet implemented.")}}},o.createEncryptedData=function(){var e=null;return e={type:i.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:i.pki.oids["aes256-CBC"]},fromAsn1:function(t){d(e,t,o.asn1.encryptedDataValidator)},decrypt:function(t){void 0!==t&&(e.encryptedContent.key=t),p(e)}}},o.createEnvelopedData=function(){var e=null;return e={type:i.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:i.pki.oids["aes256-CBC"]},fromAsn1:function(t){var n=d(e,t,o.asn1.envelopedDataValidator);e.recipients=function(e){for(var t=[],n=0;n<e.length;++n)t.push(s(e[n]));return t}(n.recipientInfos.value)},toAsn1:function(){return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(e.type).getBytes()),a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(e.version).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SET,!0,u(e.recipients)),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,(t=e.encryptedContent,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(i.pki.oids.data).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(t.algorithm).getBytes()),t.parameter?a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,t.parameter.getBytes()):void 0]),a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,t.content.getBytes())])]))])])]);var t},findRecipient:function(t){for(var n=t.issuer.attributes,r=0;r<e.recipients.length;++r){var i=e.recipients[r],a=i.issuer;if(i.serialNumber===t.serialNumber&&a.length===n.length){for(var o=!0,s=0;s<n.length;++s)if(a[s].type!==n[s].type||a[s].value!==n[s].value){o=!1;break}if(o)return i}}return null},decrypt:function(t,n){if(void 0===e.encryptedContent.key&&void 0!==t&&void 0!==n)switch(t.encryptedContent.algorithm){case i.pki.oids.rsaEncryption:case i.pki.oids.desCBC:var r=n.decrypt(t.encryptedContent.content);e.encryptedContent.key=i.util.createBuffer(r);break;default:throw new Error("Unsupported asymmetric cipher, OID "+t.encryptedContent.algorithm)}p(e)},addRecipient:function(t){e.recipients.push({version:0,issuer:t.issuer.attributes,serialNumber:t.serialNumber,encryptedContent:{algorithm:i.pki.oids.rsaEncryption,key:t.publicKey}})},encrypt:function(t,n){if(void 0===e.encryptedContent.content){var r,a,o;switch(n=n||e.encryptedContent.algorithm,t=t||e.encryptedContent.key,n){case i.pki.oids["aes128-CBC"]:r=16,a=16,o=i.aes.createEncryptionCipher;break;case i.pki.oids["aes192-CBC"]:r=24,a=16,o=i.aes.createEncryptionCipher;break;case i.pki.oids["aes256-CBC"]:r=32,a=16,o=i.aes.createEncryptionCipher;break;case i.pki.oids["des-EDE3-CBC"]:r=24,a=8,o=i.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+n)}if(void 0===t)t=i.util.createBuffer(i.random.getBytes(r));else if(t.length()!=r)throw new Error("Symmetric key has wrong length; got "+t.length()+" bytes, expected "+r+".");e.encryptedContent.algorithm=n,e.encryptedContent.key=t,e.encryptedContent.parameter=i.util.createBuffer(i.random.getBytes(a));var s=o(t);if(s.start(e.encryptedContent.parameter.copy()),s.update(e.content),!s.finish())throw new Error("Symmetric encryption failed.");e.encryptedContent.content=s.output}for(var u=0;u<e.recipients.length;++u){var c=e.recipients[u];if(void 0===c.encryptedContent.content){if(c.encryptedContent.algorithm!==i.pki.oids.rsaEncryption)throw new Error("Unsupported asymmetric cipher, OID "+c.encryptedContent.algorithm);c.encryptedContent.content=c.encryptedContent.key.encrypt(e.encryptedContent.key.data)}}}}}},12849:function(e,t,n){var r,i,a,o,s=n(89990);o=function(e){var t,n,r,i,a,o,s;return n=(t=e).x64,r=n.Word,i=n.WordArray,a=t.algo,o=a.SHA512,s=a.SHA384=o.extend({_doReset:function(){this._hash=new i.init([new r.init(3418070365,3238371032),new r.init(1654270250,914150663),new r.init(2438529370,812702999),new r.init(355462360,4144912697),new r.init(1731405415,4290775857),new r.init(2394180231,1750603025),new r.init(3675008525,1694076839),new r.init(1203062813,3204075428)])},_doFinalize:function(){var e=o._doFinalize.call(this);return e.sigBytes-=16,e}}),t.SHA384=o._createHelper(s),t.HmacSHA384=o._createHmacHelper(s),e.SHA384},"object"===s(t)?e.exports=t=o(n(83841),n(55412),n(67712)):(i=[n(83841),n(55412),n(67712)],void 0===(a="function"==typeof(r=o)?r.apply(t,i):r)||(e.exports=a))},12887:(e,t,n)=>{"use strict";var r=n(44576),i=n(79039),a=n(79504),o=n(94644),s=n(23792),u=n(78227)("iterator"),c=r.Uint8Array,l=a(s.values),d=a(s.keys),p=a(s.entries),f=o.aTypedArray,h=o.exportTypedArrayMethod,m=c&&c.prototype,v=!i((function(){m[u].call([1])})),g=!!m&&m.values&&m[u]===m.values&&"values"===m.values.name,y=function(){return l(f(this))};h("entries",(function(){return p(f(this))}),v),h("keys",(function(){return d(f(this))}),v),h("values",y,v||!g,{name:"values"}),h(u,y,v||!g,{name:"values"})},13236:(e,t,n)=>{var r=n(85046);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},13573:(e,t,n)=>{var r=n(36591),i=n(53526),a=n(15803);e.exports=function(e){return i(e)?a(e):r(e)}},13579:(e,t,n)=>{"use strict";var r=n(46518),i=n(72652),a=n(79306),o=n(28551),s=n(1767);r({target:"Iterator",proto:!0,real:!0},{some:function(e){o(this),a(e);var t=s(this),n=0;return i(t,(function(t,r){if(e(t,n++))return r()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},13585:(e,t,n)=>{var r=n(78766);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},13609:(e,t,n)=>{"use strict";var r=n(46518),i=n(48981),a=n(26198),o=n(34527),s=n(84606),u=n(96837);r({target:"Array",proto:!0,arity:1,forced:1!==[].unshift(0)||!function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}}()},{unshift:function(e){var t=i(this),n=a(t),r=arguments.length;if(r){u(n+r);for(var c=n;c--;){var l=c+r;c in t?t[l]=t[c]:s(t,l)}for(var d=0;d<r;d++)t[d]=arguments[d]}return o(t,n+r)}})},13611:(e,t,n)=>{"use strict";var r=n(46518),i=n(44576),a=n(62106),o=n(43724),s=TypeError,u=Object.defineProperty,c=i.self!==i;try{if(o){var l=Object.getOwnPropertyDescriptor(i,"self");!c&&l&&l.get&&l.enumerable||a(i,"self",{get:function(){return i},set:function(e){if(this!==i)throw new s("Illegal invocation");u(i,"self",{value:e,writable:!0,configurable:!0,enumerable:!0})},configurable:!0,enumerable:!0})}else r({global:!0,simple:!0,forced:c},{self:i})}catch(e){}},13656:(e,t,n)=>{"use strict";n.d(t,{A:()=>g});var r=n(51531),i=n(18180),a=n(58237),o=n(84285);n(52675),n(83237),n(31073),n(16280),n(76918),n(2008),n(51629),n(64346),n(48598),n(44114),n(69085),n(67945),n(84185),n(83851),n(81278),n(79432),n(26099),n(84864),n(57465),n(27495),n(87745),n(38781),n(25440),n(90744),n(98992),n(54520),n(3949),n(23500);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var l=0;function d(e){return"__private_"+l+++"_"+e}function p(e,t,n){var r=[];return e.forEach((function(e){return"string"!=typeof e?r.push(e):t[Symbol.split](e).forEach((function(e,t,i){""!==e&&r.push(e),t<i.length-1&&r.push(n)}))})),r}function f(e,t){var n=/\$/g,r=[e];if(null==t)return r;for(var i=0,a=Object.keys(t);i<a.length;i++){var o=a[i];if("_"!==o){var s=t[o];"string"==typeof s&&(s=n[Symbol.replace](s,"$$$$")),r=p(r,new RegExp("%\\{".concat(o,"\\}"),"g"),s)}}return r}var h=function(e){throw new Error("missing string: ".concat(e))},m=d("onMissingKey"),v=d("apply"),g=function(){return(0,o.A)((function e(t,n){(0,a.A)(this,e);var r=(void 0===n?{}:n).onMissingKey,i=void 0===r?h:r;Object.defineProperty(this,v,{value:y}),Object.defineProperty(this,m,{writable:!0,value:void 0}),this.locale={strings:{},pluralize:function(e){return 1===e?0:1}},Array.isArray(t)?t.forEach(c(this,v)[v],this):c(this,v)[v](t),c(this,m)[m]=i}),[{key:"translate",value:function(e,t){return this.translateArray(e,t).join("")}},{key:"translateArray",value:function(e,t){var n=this.locale.strings[e];if(null==n&&(c(this,m)[m](e),n=e),"object"===(0,i.A)(n)){if(t&&void 0!==t.smart_count)return f(n[this.locale.pluralize(t.smart_count)],t);throw new Error("Attempted to use a string with plural forms, but no value was given for %{smart_count}")}if("string"!=typeof n)throw new Error("string was not a string");return f(n,t)}}])}();function y(e){if(null!=e&&e.strings){var t=this.locale;Object.assign(this.locale,{strings:u(u({},t.strings),e.strings),pluralize:e.pluralize||t.pluralize})}}},13709:(e,t,n)=>{"use strict";var r=n(82839).match(/firefox\/(\d+)/i);e.exports=!!r&&+r[1]},13763:(e,t,n)=>{"use strict";var r=n(82839);e.exports=/MSIE|Trident/.test(r)},13906:(e,t,n)=>{"use strict";var r=n(47251),i=n(33351);n(2008),n(62062),n(44114),n(54554),n(69085),n(84185),n(26099),n(98992),n(54520),n(81454),Object.defineProperty(t,"__esModule",{value:!0});var a=n(67330),o=function(){return i((function e(){r(this,e),this._queue=[]}),[{key:"enqueue",value:function(e,t){var n={priority:(t=Object.assign({priority:0},t)).priority,run:e};if(this.size&&this._queue[this.size-1].priority>=t.priority)this._queue.push(n);else{var r=a.default(this._queue,n,(function(e,t){return t.priority-e.priority}));this._queue.splice(r,0,n)}}},{key:"dequeue",value:function(){var e=this._queue.shift();return null==e?void 0:e.run}},{key:"filter",value:function(e){return this._queue.filter((function(t){return t.priority===e.priority})).map((function(e){return e.run}))}},{key:"size",get:function(){return this._queue.length}}])}();t.default=o},13925:(e,t,n)=>{"use strict";var r=n(20034);e.exports=function(e){return r(e)||null===e}},14116:(e,t,n)=>{n(16280),n(76918);var r=n(66665);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},14169:(e,t,n)=>{"use strict";var r;n(84185),Object.defineProperty(t,"__esModule",{value:!0}),t.Doctype=t.CDATA=t.Tag=t.Style=t.Script=t.Comment=t.Directive=t.Text=t.Root=t.isTag=t.ElementType=void 0,function(e){e.Root="root",e.Text="text",e.Directive="directive",e.Comment="comment",e.Script="script",e.Style="style",e.Tag="tag",e.CDATA="cdata",e.Doctype="doctype"}(r=t.ElementType||(t.ElementType={})),t.isTag=function(e){return e.type===r.Tag||e.type===r.Script||e.type===r.Style},t.Root=r.Root,t.Text=r.Text,t.Directive=r.Directive,t.Comment=r.Comment,t.Script=r.Script,t.Style=r.Style,t.Tag=r.Tag,t.CDATA=r.CDATA,t.Doctype=r.Doctype},14510:(e,t,n)=>{"use strict";n(60825);var r=n(61792),i=n(32545),a=n(89990),o=n(47251),s=n(33351),u=n(4912),c=n(17948),l=n(33483);function d(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(d=function(){return!!e})()}n(16280),n(76918),n(28706),n(2008),n(23792),n(62062),n(59089),n(23288),n(25428),n(69085),n(84185),n(26099),n(3362),n(38781),n(47764),n(98992),n(54520),n(81454),n(62953),n(76031);var p=n(7136),f=n(59957),h=n(13906),m=function(){},v=new f.TimeoutError,g=function(e){function t(e){var n,r,i,s,l;if(o(this,t),(n=function(e,t,n){return t=c(t),u(e,d()?Reflect.construct(t,n||[],c(e).constructor):t.apply(e,n))}(this,t))._intervalCount=0,n._intervalEnd=0,n._pendingCount=0,n._resolveEmpty=m,n._resolveIdle=m,!("number"==typeof(e=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:h.default},e)).intervalCap&&e.intervalCap>=1))throw new TypeError("Expected `intervalCap` to be a number from 1 and up, got `".concat(null!==(i=null===(r=e.intervalCap)||void 0===r?void 0:r.toString())&&void 0!==i?i:"","` (").concat(a(e.intervalCap),")"));if(void 0===e.interval||!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError("Expected `interval` to be a finite number >= 0, got `".concat(null!==(l=null===(s=e.interval)||void 0===s?void 0:s.toString())&&void 0!==l?l:"","` (").concat(a(e.interval),")"));return n._carryoverConcurrencyCount=e.carryoverConcurrencyCount,n._isIntervalIgnored=e.intervalCap===1/0||0===e.interval,n._intervalCap=e.intervalCap,n._interval=e.interval,n._queue=new e.queueClass,n._queueClass=e.queueClass,n.concurrency=e.concurrency,n._timeout=e.timeout,n._throwOnTimeout=!0===e.throwOnTimeout,n._isPaused=!1===e.autoStart,n}return l(t,e),s(t,[{key:"_doesIntervalAllowAnother",get:function(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}},{key:"_doesConcurrentAllowAnother",get:function(){return this._pendingCount<this._concurrency}},{key:"_next",value:function(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}},{key:"_resolvePromises",value:function(){this._resolveEmpty(),this._resolveEmpty=m,0===this._pendingCount&&(this._resolveIdle(),this._resolveIdle=m,this.emit("idle"))}},{key:"_onResumeInterval",value:function(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}},{key:"_isIntervalPaused",value:function(){var e=this,t=Date.now();if(void 0===this._intervalId){var n=this._intervalEnd-t;if(!(n<0))return void 0===this._timeoutId&&(this._timeoutId=setTimeout((function(){e._onResumeInterval()}),n)),!0;this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0}return!1}},{key:"_tryToStartAnother",value:function(){if(0===this._queue.size)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){var e=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){var t=this._queue.dequeue();return!!t&&(this.emit("active"),t(),e&&this._initializeIntervalIfNeeded(),!0)}}return!1}},{key:"_initializeIntervalIfNeeded",value:function(){var e=this;this._isIntervalIgnored||void 0!==this._intervalId||(this._intervalId=setInterval((function(){e._onInterval()}),this._interval),this._intervalEnd=Date.now()+this._interval)}},{key:"_onInterval",value:function(){0===this._intervalCount&&0===this._pendingCount&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}},{key:"_processQueue",value:function(){for(;this._tryToStartAnother(););}},{key:"concurrency",get:function(){return this._concurrency},set:function(e){if(!("number"==typeof e&&e>=1))throw new TypeError("Expected `concurrency` to be a number from 1 and up, got `".concat(e,"` (").concat(a(e),")"));this._concurrency=e,this._processQueue()}},{key:"add",value:(y=i(r.mark((function e(t){var n,a=this,o=arguments;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:{},e.abrupt("return",new Promise((function(e,o){var s=function(){var s=i(r.mark((function i(){var s;return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a._pendingCount++,a._intervalCount++,r.prev=2,s=void 0===a._timeout&&void 0===n.timeout?t():f.default(Promise.resolve(t()),void 0===n.timeout?a._timeout:n.timeout,(function(){(void 0===n.throwOnTimeout?a._throwOnTimeout:n.throwOnTimeout)&&o(v)})),r.t0=e,r.next=7,s;case 7:r.t1=r.sent,(0,r.t0)(r.t1),r.next=14;break;case 11:r.prev=11,r.t2=r.catch(2),o(r.t2);case 14:a._next();case 15:case"end":return r.stop()}}),i,null,[[2,11]])})));return function(){return s.apply(this,arguments)}}();a._queue.enqueue(s,n),a._tryToStartAnother(),a.emit("add")})));case 2:case"end":return e.stop()}}),e)}))),function(e){return y.apply(this,arguments)})},{key:"addAll",value:(g=i(r.mark((function e(t,n){var a=this;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t.map(function(){var e=i(r.mark((function e(t){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.add(t,n));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())));case 1:case"end":return e.stop()}}),e)}))),function(e,t){return g.apply(this,arguments)})},{key:"start",value:function(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}},{key:"pause",value:function(){this._isPaused=!0}},{key:"clear",value:function(){this._queue=new this._queueClass}},{key:"onEmpty",value:(p=i(r.mark((function e(){var t=this;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this._queue.size){e.next=2;break}return e.abrupt("return");case 2:return e.abrupt("return",new Promise((function(e){var n=t._resolveEmpty;t._resolveEmpty=function(){n(),e()}})));case 3:case"end":return e.stop()}}),e,this)}))),function(){return p.apply(this,arguments)})},{key:"onIdle",value:(n=i(r.mark((function e(){var t=this;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this._pendingCount||0!==this._queue.size){e.next=2;break}return e.abrupt("return");case 2:return e.abrupt("return",new Promise((function(e){var n=t._resolveIdle;t._resolveIdle=function(){n(),e()}})));case 3:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"size",get:function(){return this._queue.size}},{key:"sizeBy",value:function(e){return this._queue.filter(e).length}},{key:"pending",get:function(){return this._pendingCount}},{key:"isPaused",get:function(){return this._isPaused}},{key:"timeout",get:function(){return this._timeout},set:function(e){this._timeout=e}}]);var n,p,g,y}(p);t.A=g},14601:(e,t,n)=>{"use strict";var r=n(97751),i=n(39297),a=n(66699),o=n(1625),s=n(52967),u=n(77740),c=n(11056),l=n(23167),d=n(32603),p=n(77584),f=n(80747),h=n(43724),m=n(96395);e.exports=function(e,t,n,v){var g="stackTraceLimit",y=v?2:1,b=e.split("."),w=b[b.length-1],D=r.apply(null,b);if(D){var A=D.prototype;if(!m&&i(A,"cause")&&delete A.cause,!n)return D;var E=r("Error"),k=t((function(e,t){var n=d(v?t:e,void 0),r=v?new D(e):new D;return void 0!==n&&a(r,"message",n),f(r,k,r.stack,2),this&&o(A,this)&&l(r,this,k),arguments.length>y&&p(r,arguments[y]),r}));if(k.prototype=A,"Error"!==w?s?s(k,E):u(k,E,{name:!0}):h&&g in D&&(c(k,D,g),c(k,D,"prepareStackTrace")),u(k,D),!m)try{A.name!==w&&a(A,"name",w),A.constructor=k}catch(e){}return k}}},14937:(e,t,n)=>{n(16280),n(76918),n(23792),n(36033),n(59904),n(26099),n(47764),n(62953);var r=n(17948),i=n(70312),a=n(98396),o=n(12090);function s(t){var n="function"==typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!a(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return o(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i(t,e)},e.exports.__esModule=!0,e.exports.default=e.exports,s(t)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports},15086:(e,t,n)=>{"use strict";var r=n(46518),i=n(59213).some;r({target:"Array",proto:!0,forced:!n(34598)("some")},{some:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},15318:(e,t,n)=>{var r=n(85192);n(32807),r.mgf=r.mgf||{},(e.exports=r.mgf.mgf1=r.mgf1=r.mgf1||{}).create=function(e){return{generate:function(t,n){for(var i=new r.util.ByteBuffer,a=Math.ceil(n/e.digestLength),o=0;o<a;o++){var s=new r.util.ByteBuffer;s.putInt32(o),e.start(),e.update(t+s.getBytes()),i.putBuffer(e.digest())}return i.truncate(i.length()-n),i.getBytes()}}}},15393:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},15472:(e,t,n)=>{"use strict";var r=n(46518),i=n(44576),a=n(10687);r({global:!0},{Reflect:{}}),a(i.Reflect,"Reflect",!0)},15575:(e,t,n)=>{"use strict";var r=n(46518),i=n(44576),a=n(79472)(i.setInterval,!0);r({global:!0,bind:!0,forced:i.setInterval!==a},{setInterval:a})},15617:(e,t,n)=>{"use strict";var r=n(33164);e.exports=Math.fround||function(e){return r(e,1.1920928955078125e-7,34028234663852886e22,11754943508222875e-54)}},15652:(e,t,n)=>{"use strict";var r=n(79039);e.exports=r((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}))},15803:(e,t,n)=>{n(48598),n(84864),n(57465),n(27495),n(87745),n(90906),n(38781);var r="\\ud800-\\udfff",i="["+r+"]",a="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",o="\\ud83c[\\udffb-\\udfff]",s="[^"+r+"]",u="(?:\\ud83c[\\udde6-\\uddff]){2}",c="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+a+"|"+o+")"+"?",d="[\\ufe0e\\ufe0f]?",p=d+l+("(?:\\u200d(?:"+[s,u,c].join("|")+")"+d+l+")*"),f="(?:"+[s+a+"?",a,u,c,i].join("|")+")",h=RegExp(o+"(?="+o+")|"+f+p,"g");e.exports=function(e){for(var t=h.lastIndex=0;h.test(e);)++t;return t}},15813:(e,t,n)=>{n(44114);var r=n(42379),i=n(98235),a=n(66665);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var o=n.__data__;if(!i||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(o)}return n.set(e,t),this.size=n.size,this}},15823:(e,t,n)=>{"use strict";var r=n(46518),i=n(44576),a=n(69565),o=n(43724),s=n(72805),u=n(94644),c=n(66346),l=n(90679),d=n(6980),p=n(66699),f=n(2087),h=n(18014),m=n(57696),v=n(58229),g=n(58319),y=n(56969),b=n(39297),w=n(36955),D=n(20034),A=n(10757),E=n(2360),k=n(1625),C=n(52967),_=n(38480).f,x=n(43251),S=n(59213).forEach,T=n(87633),F=n(62106),O=n(24913),P=n(77347),I=n(35370),B=n(91181),R=n(23167),N=B.get,M=B.set,L=B.enforce,j=O.f,U=P.f,z=i.RangeError,V=c.ArrayBuffer,q=V.prototype,H=c.DataView,W=u.NATIVE_ARRAY_BUFFER_VIEWS,K=u.TYPED_ARRAY_TAG,$=u.TypedArray,G=u.TypedArrayPrototype,Q=u.isTypedArray,Y="BYTES_PER_ELEMENT",X="Wrong length",Z=function(e,t){F(e,t,{configurable:!0,get:function(){return N(this)[t]}})},J=function(e){var t;return k(q,e)||"ArrayBuffer"===(t=w(e))||"SharedArrayBuffer"===t},ee=function(e,t){return Q(e)&&!A(t)&&t in e&&f(+t)&&t>=0},te=function(e,t){return t=y(t),ee(e,t)?d(2,e[t]):U(e,t)},ne=function(e,t,n){return t=y(t),!(ee(e,t)&&D(n)&&b(n,"value"))||b(n,"get")||b(n,"set")||n.configurable||b(n,"writable")&&!n.writable||b(n,"enumerable")&&!n.enumerable?j(e,t,n):(e[t]=n.value,e)};o?(W||(P.f=te,O.f=ne,Z(G,"buffer"),Z(G,"byteOffset"),Z(G,"byteLength"),Z(G,"length")),r({target:"Object",stat:!0,forced:!W},{getOwnPropertyDescriptor:te,defineProperty:ne}),e.exports=function(e,t,n){var o=e.match(/\d+/)[0]/8,u=e+(n?"Clamped":"")+"Array",c="get"+e,d="set"+e,f=i[u],y=f,b=y&&y.prototype,w={},A=function(e,t){j(e,t,{get:function(){return function(e,t){var n=N(e);return n.view[c](t*o+n.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,r){var i=N(e);i.view[d](t*o+i.byteOffset,n?g(r):r,!0)}(this,t,e)},enumerable:!0})};W?s&&(y=t((function(e,t,n,r){return l(e,b),R(D(t)?J(t)?void 0!==r?new f(t,v(n,o),r):void 0!==n?new f(t,v(n,o)):new f(t):Q(t)?I(y,t):a(x,y,t):new f(m(t)),e,y)})),C&&C(y,$),S(_(f),(function(e){e in y||p(y,e,f[e])})),y.prototype=b):(y=t((function(e,t,n,r){l(e,b);var i,s,u,c=0,d=0;if(D(t)){if(!J(t))return Q(t)?I(y,t):a(x,y,t);i=t,d=v(n,o);var p=t.byteLength;if(void 0===r){if(p%o)throw new z(X);if((s=p-d)<0)throw new z(X)}else if((s=h(r)*o)+d>p)throw new z(X);u=s/o}else u=m(t),i=new V(s=u*o);for(M(e,{buffer:i,byteOffset:d,byteLength:s,length:u,view:new H(i)});c<u;)A(e,c++)})),C&&C(y,$),b=y.prototype=E(G)),b.constructor!==y&&p(b,"constructor",y),L(b).TypedArrayConstructor=y,K&&p(b,K,u);var k=y!==f;w[u]=y,r({global:!0,constructor:!0,forced:k,sham:!W},w),Y in y||p(y,Y,o),Y in b||p(b,Y,o),T(u)}):e.exports=function(){}},15913:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});n(64346);function r(e){if(Array.isArray(e))return e}},16034:(e,t,n)=>{"use strict";var r=n(46518),i=n(32357).values;r({target:"Object",stat:!0},{values:function(e){return i(e)}})},16110:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}},16193:(e,t,n)=>{"use strict";var r=n(84215);e.exports="NODE"===r},16268:(e,t,n)=>{n(54554);var r=n(73749),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},16280:(e,t,n)=>{"use strict";var r=n(46518),i=n(44576),a=n(18745),o=n(14601),s="WebAssembly",u=i[s],c=7!==new Error("e",{cause:7}).cause,l=function(e,t){var n={};n[e]=o(e,t,c),r({global:!0,constructor:!0,arity:1,forced:c},n)},d=function(e,t){if(u&&u[e]){var n={};n[e]=o(s+"."+e,t,c),r({target:s,stat:!0,constructor:!0,arity:1,forced:c},n)}};l("Error",(function(e){return function(t){return a(e,this,arguments)}})),l("EvalError",(function(e){return function(t){return a(e,this,arguments)}})),l("RangeError",(function(e){return function(t){return a(e,this,arguments)}})),l("ReferenceError",(function(e){return function(t){return a(e,this,arguments)}})),l("SyntaxError",(function(e){return function(t){return a(e,this,arguments)}})),l("TypeError",(function(e){return function(t){return a(e,this,arguments)}})),l("URIError",(function(e){return function(t){return a(e,this,arguments)}})),d("CompileError",(function(e){return function(t){return a(e,this,arguments)}})),d("LinkError",(function(e){return function(t){return a(e,this,arguments)}})),d("RuntimeError",(function(e){return function(t){return a(e,this,arguments)}}))},16468:(e,t,n)=>{"use strict";var r=n(46518),i=n(44576),a=n(79504),o=n(92796),s=n(36840),u=n(3451),c=n(72652),l=n(90679),d=n(94901),p=n(64117),f=n(20034),h=n(79039),m=n(84428),v=n(10687),g=n(23167);e.exports=function(e,t,n){var y=-1!==e.indexOf("Map"),b=-1!==e.indexOf("Weak"),w=y?"set":"add",D=i[e],A=D&&D.prototype,E=D,k={},C=function(e){var t=a(A[e]);s(A,e,"add"===e?function(e){return t(this,0===e?0:e),this}:"delete"===e?function(e){return!(b&&!f(e))&&t(this,0===e?0:e)}:"get"===e?function(e){return b&&!f(e)?void 0:t(this,0===e?0:e)}:"has"===e?function(e){return!(b&&!f(e))&&t(this,0===e?0:e)}:function(e,n){return t(this,0===e?0:e,n),this})};if(o(e,!d(D)||!(b||A.forEach&&!h((function(){(new D).entries().next()})))))E=n.getConstructor(t,e,y,w),u.enable();else if(o(e,!0)){var _=new E,x=_[w](b?{}:-0,1)!==_,S=h((function(){_.has(1)})),T=m((function(e){new D(e)})),F=!b&&h((function(){for(var e=new D,t=5;t--;)e[w](t,t);return!e.has(-0)}));T||((E=t((function(e,t){l(e,A);var n=g(new D,e,E);return p(t)||c(t,n[w],{that:n,AS_ENTRIES:y}),n}))).prototype=A,A.constructor=E),(S||F)&&(C("delete"),C("has"),y&&C("get")),(F||x)&&C(w),b&&A.clear&&delete A.clear}return k[e]=E,r({global:!0,constructor:!0,forced:E!==D},k),v(E,e),b||n.setStrong(E,e,y),E}},16499:(e,t,n)=>{"use strict";var r=n(46518),i=n(69565),a=n(79306),o=n(36043),s=n(1103),u=n(72652);r({target:"Promise",stat:!0,forced:n(90537)},{all:function(e){var t=this,n=o.f(t),r=n.resolve,c=n.reject,l=s((function(){var n=a(t.resolve),o=[],s=0,l=1;u(e,(function(e){var a=s++,u=!1;l++,i(n,t,e).then((function(e){u||(u=!0,o[a]=e,--l||r(o))}),c)})),--l||r(o)}));return l.error&&c(l.value),n.promise}})},16575:(e,t,n)=>{"use strict";var r=n(39297);e.exports=function(e){return void 0!==e&&(r(e,"value")||r(e,"writable"))}},16823:e=>{"use strict";var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},16973:(e,t,n)=>{"use strict";n(84185),n(52811),n(78459),Object.defineProperty(t,"__esModule",{value:!0});t.ContentRect=function(e){if("getBBox"in e){var t=e.getBBox();return Object.freeze({height:t.height,left:0,top:0,width:t.width})}var n=window.getComputedStyle(e);return Object.freeze({height:parseFloat(n.height||"0"),left:parseFloat(n.paddingLeft||"0"),top:parseFloat(n.paddingTop||"0"),width:parseFloat(n.width||"0")})}},17145:(e,t,n)=>{"use strict";var r=n(46518),i=n(1625),a=n(42787),o=n(52967),s=n(77740),u=n(2360),c=n(66699),l=n(6980),d=n(77584),p=n(80747),f=n(72652),h=n(32603),m=n(78227)("toStringTag"),v=Error,g=[].push,y=function(e,t){var n,r=i(b,this);o?n=o(new v,r?a(this):b):(n=r?this:u(b),c(n,m,"Error")),void 0!==t&&c(n,"message",h(t)),p(n,y,n.stack,1),arguments.length>2&&d(n,arguments[2]);var s=[];return f(e,g,{that:s}),c(n,"errors",s),n};o?o(y,v):s(y,v,{name:!0});var b=y.prototype=u(v.prototype,{constructor:l(1,y),message:l(1,""),name:l(1,"AggregateError")});r({global:!0,constructor:!0,arity:2},{AggregateError:y})},17352:(e,t,n)=>{n(52675),n(89463),n(2259),n(23792),n(44114),n(26099),n(47764),n(62953),e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}},e.exports.__esModule=!0,e.exports.default=e.exports},17427:(e,t,n)=>{"use strict";var r=n(46518),i=n(43724),a=n(42551),o=n(79306),s=n(48981),u=n(24913);i&&r({target:"Object",proto:!0,forced:a},{__defineGetter__:function(e,t){u.f(s(this),e,{get:o(t),enumerable:!0,configurable:!0})}})},17905:function(e,t,n){var r,i,a,o,s=n(89990);n(34782),o=function(e){var t,n;return e.mode.OFB=(t=e.lib.BlockCipherMode.extend(),n=t.Encryptor=t.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,i=this._iv,a=this._keystream;i&&(a=this._keystream=i.slice(0),this._iv=void 0),n.encryptBlock(a,0);for(var o=0;o<r;o++)e[t+o]^=a[o]}}),t.Decryptor=n,t),e.mode.OFB},"object"===s(t)?e.exports=t=o(n(83841),n(76793)):(i=[n(83841),n(76793)],void 0===(a="function"==typeof(r=o)?r.apply(t,i):r)||(e.exports=a))},17948:(e,t,n)=>{function r(t){return e.exports=r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,r(t)}n(94170),n(40875),n(63548),n(10287),e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},18014:(e,t,n)=>{"use strict";var r=n(91291),i=Math.min;e.exports=function(e){var t=r(e);return t>0?i(t,9007199254740991):0}},18061:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});n(52675),n(89463),n(2259),n(23418),n(23792),n(26099),n(47764),n(62953);function r(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}},18107:(e,t,n)=>{"use strict";var r=n(46518),i=n(48981),a=n(26198),o=n(91291),s=n(6469);r({target:"Array",proto:!0},{at:function(e){var t=i(this),n=a(t),r=o(e),s=r>=0?r:n+r;return s<0||s>=n?void 0:t[s]}}),s("at")},18111:(e,t,n)=>{"use strict";var r=n(46518),i=n(44576),a=n(90679),o=n(28551),s=n(94901),u=n(42787),c=n(62106),l=n(97040),d=n(79039),p=n(39297),f=n(78227),h=n(57657).IteratorPrototype,m=n(43724),v=n(96395),g="constructor",y="Iterator",b=f("toStringTag"),w=TypeError,D=i[y],A=v||!s(D)||D.prototype!==h||!d((function(){D({})})),E=function(){if(a(this,h),u(this)===h)throw new w("Abstract class Iterator not directly constructable")},k=function(e,t){m?c(h,e,{configurable:!0,get:function(){return t},set:function(t){if(o(this),this===h)throw new w("You can't redefine this property");p(this,e)?this[e]=t:l(this,e,t)}}):h[e]=t};p(h,b)||k(b,y),!A&&p(h,g)&&h[g]!==Object||k(g,E),E.prototype=h,r({global:!0,constructor:!0,forced:A},{Iterator:E})},18180:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});n(52675),n(89463),n(2259),n(23792),n(26099),n(47764),n(62953);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}},18237:(e,t,n)=>{"use strict";var r=n(46518),i=n(72652),a=n(79306),o=n(28551),s=n(1767),u=TypeError;r({target:"Iterator",proto:!0,real:!0},{reduce:function(e){o(this),a(e);var t=s(this),n=arguments.length<2,r=n?void 0:arguments[1],c=0;if(i(t,(function(t){n?(n=!1,r=t):r=e(r,t,c),c++}),{IS_RECORD:!0}),n)throw new u("Reduce of empty iterator with no initial value");return r}})},18265:e=>{"use strict";var t=function(){this.head=null,this.tail=null};t.prototype={add:function(e){var t={item:e,next:null},n=this.tail;n?n.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return null===(this.head=e.next)&&(this.tail=null),e.item}},e.exports=t},18443:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});n(26099),n(3362);function r(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function s(e){r(o,i,a,s,u,"next",e)}function u(e){r(o,i,a,s,u,"throw",e)}s(void 0)}))}}},18727:(e,t,n)=>{"use strict";var r=n(36955);e.exports=function(e){var t=r(e);return"BigInt64Array"===t||"BigUint64Array"===t}},18745:(e,t,n)=>{"use strict";var r=n(40616),i=Function.prototype,a=i.apply,o=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?o.bind(a):function(){return o.apply(a,arguments)})},18814:(e,t,n)=>{"use strict";var r=n(79039),i=n(44576).RegExp;e.exports=r((function(){var e=i("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},18863:(e,t,n)=>{"use strict";var r=n(46518),i=n(80926).right,a=n(34598),o=n(39519);r({target:"Array",proto:!0,forced:!n(16193)&&o>79&&o<83||!a("reduceRight")},{reduceRight:function(e){return i(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},18866:(e,t,n)=>{"use strict";var r=n(43802).end,i=n(60706);e.exports=i("trimEnd")?function(){return r(this)}:"".trimEnd},18905:(e,t,n)=>{"use strict";var r=n(8498),i=n(89990);n(2259),n(16280),n(76918),n(64346),n(23792),n(48598),n(44114),n(23288),n(69085),n(79432),n(26099),n(27495),n(38781),n(47764),n(25440),n(62953);var a=Symbol.for("react.transitional.element"),o=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.iterator;var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,b={};function w(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||g}function D(){}function A(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||g}w.prototype.isReactComponent={},w.prototype.setState=function(e,t){if("object"!==i(e)&&"function"!=typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},w.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},D.prototype=w.prototype;var E=A.prototype=new D;E.constructor=A,y(E,w.prototype),E.isPureReactComponent=!0;var k=Array.isArray,C={H:null,A:null,T:null,S:null,V:null},_=Object.prototype.hasOwnProperty;function x(e,t,n,r,i,o){return n=o.ref,{$$typeof:a,type:e,key:t,ref:void 0!==n?n:null,props:o}}function S(e){return"object"===i(e)&&null!==e&&e.$$typeof===a}var T=/\/+/g;function F(e,t){return"object"===i(e)&&null!==e&&null!=e.key?(n=""+e.key,r={"=":"=0",":":"=2"},"$"+n.replace(/[=:]/g,(function(e){return r[e]}))):t.toString(36);var n,r}function O(){}function P(e,t,n,r,s){var u=i(e);"undefined"!==u&&"boolean"!==u||(e=null);var c,l,d=!1;if(null===e)d=!0;else switch(u){case"bigint":case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case a:case o:d=!0;break;case m:return P((d=e._init)(e._payload),t,n,r,s)}}if(d)return s=s(e),d=""===r?"."+F(e,0):r,k(s)?(n="",null!=d&&(n=d.replace(T,"$&/")+"/"),P(s,t,n,"",(function(e){return e}))):null!=s&&(S(s)&&(c=s,l=n+(null==s.key||e&&e.key===s.key?"":(""+s.key).replace(T,"$&/")+"/")+d,s=x(c.type,l,void 0,0,0,c.props)),t.push(s)),1;d=0;var p,f=""===r?".":r+":";if(k(e))for(var h=0;h<e.length;h++)d+=P(r=e[h],t,n,u=f+F(r,h),s);else if("function"==typeof(h=null===(p=e)||"object"!==i(p)?null:"function"==typeof(p=v&&p[v]||p["@@iterator"])?p:null))for(e=h.call(e),h=0;!(r=e.next()).done;)d+=P(r=r.value,t,n,u=f+F(r,h++),s);else if("object"===u){if("function"==typeof e.then)return P(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"==typeof e.status?e.then(O,O):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,n,r,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return d}function I(e,t,n){if(null==e)return e;var r=[],i=0;return P(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function B(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R="function"==typeof reportError?reportError:function(e){if("object"===("undefined"==typeof window?"undefined":i(window))&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===i(e)&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===(void 0===r?"undefined":i(r))&&"function"==typeof r.emit)return void r.emit("uncaughtException",e);console.error(e)};function N(){}t.Children={map:I,forEach:function(e,t,n){I(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return I(e,(function(){t++})),t},toArray:function(e){return I(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=w,t.Fragment=s,t.Profiler=c,t.PureComponent=A,t.StrictMode=u,t.Suspense=f,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return C.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null==e)throw Error("The argument must be a React element, but you passed "+e+".");var r=y({},e.props),i=e.key;if(null!=t)for(a in void 0!==t.ref&&void 0,void 0!==t.key&&(i=""+t.key),t)!_.call(t,a)||"key"===a||"__self"===a||"__source"===a||"ref"===a&&void 0===t.ref||(r[a]=t[a]);var a=arguments.length-2;if(1===a)r.children=n;else if(1<a){for(var o=Array(a),s=0;s<a;s++)o[s]=arguments[s+2];r.children=o}return x(e.type,i,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:d,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:l,_context:e},e},t.createElement=function(e,t,n){var r,i={},a=null;if(null!=t)for(r in void 0!==t.key&&(a=""+t.key),t)_.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var o=arguments.length-2;if(1===o)i.children=n;else if(1<o){for(var s=Array(o),u=0;u<o;u++)s[u]=arguments[u+2];i.children=s}if(e&&e.defaultProps)for(r in o=e.defaultProps)void 0===i[r]&&(i[r]=o[r]);return x(e,a,void 0,0,0,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:p,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:m,_payload:{_status:-1,_result:e},_init:B}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=C.T,n={};C.T=n;try{var r=e(),a=C.S;null!==a&&a(n,r),"object"===i(r)&&null!==r&&"function"==typeof r.then&&r.then(N,R)}catch(e){R(e)}finally{C.T=t}},t.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},t.use=function(e){return C.H.use(e)},t.useActionState=function(e,t,n){return C.H.useActionState(e,t,n)},t.useCallback=function(e,t){return C.H.useCallback(e,t)},t.useContext=function(e){return C.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return C.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=C.H;if("function"==typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return C.H.useId()},t.useImperativeHandle=function(e,t,n){return C.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return C.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return C.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return C.H.useMemo(e,t)},t.useOptimistic=function(e,t){return C.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return C.H.useReducer(e,t,n)},t.useRef=function(e){return C.H.useRef(e)},t.useState=function(e){return C.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return C.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return C.H.useTransition()},t.version="19.1.0"},18993:function(e,t,n){"use strict";n(51629),n(84185),n(26099),n(98992),n(3949),n(23500);var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=null;if(!e||"string"!=typeof e)return n;var r=(0,i.default)(e),a="function"==typeof t;return r.forEach((function(e){if("declaration"===e.type){var r=e.property,i=e.value;a?t(r,i,e):i&&((n=n||{})[r]=i)}})),n};var i=r(n(63016))},19167:(e,t,n)=>{"use strict";var r=n(44576);e.exports=r},19326:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(18180);n(45700),n(16280),n(76918),n(89572),n(2892);function i(e){var t=function(e,t){if("object"!=(0,r.A)(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=(0,r.A)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(0,r.A)(t)?t:t+""}},19369:(e,t,n)=>{"use strict";var r=n(94644),i=n(79504),a=r.aTypedArray,o=r.exportTypedArrayMethod,s=i([].join);o("join",(function(e){return s(a(this),e)}))},19462:(e,t,n)=>{"use strict";var r=n(69565),i=n(2360),a=n(66699),o=n(56279),s=n(78227),u=n(91181),c=n(55966),l=n(57657).IteratorPrototype,d=n(62529),p=n(9539),f=s("toStringTag"),h="IteratorHelper",m="WrapForValidIterator",v=u.set,g=function(e){var t=u.getterFor(e?m:h);return o(i(l),{next:function(){var n=t(this);if(e)return n.nextHandler();if(n.done)return d(void 0,!0);try{var r=n.nextHandler();return n.returnHandlerResult?r:d(r,n.done)}catch(e){throw n.done=!0,e}},"return":function(){var n=t(this),i=n.iterator;if(n.done=!0,e){var a=c(i,"return");return a?r(a,i):d(void 0,!0)}if(n.inner)try{p(n.inner.iterator,"normal")}catch(e){return p(i,"throw",e)}return i&&p(i,"normal"),d(void 0,!0)}})},y=g(!0),b=g(!1);a(b,f,"Iterator Helper"),e.exports=function(e,t,n){var r=function(r,i){i?(i.iterator=r.iterator,i.next=r.next):i=r,i.type=t?m:h,i.returnHandlerResult=!!n,i.nextHandler=e,i.counter=0,i.done=!1,v(this,i)};return r.prototype=t?y:b,r}},19617:(e,t,n)=>{"use strict";var r=n(25397),i=n(35610),a=n(26198),o=function(e){return function(t,n,o){var s=r(t),u=a(s);if(0===u)return!e&&-1;var c,l=i(o,u);if(e&&n!=n){for(;u>l;)if((c=s[l++])!=c)return!0}else for(;u>l;l++)if((e||l in s)&&s[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},19747:(e,t,n)=>{var r=n(73749);e.exports=function(e){return r(this.__data__,e)>-1}},20034:(e,t,n)=>{"use strict";var r=n(94901);e.exports=function(e){return"object"==typeof e?null!==e:r(e)}},20116:(e,t,n)=>{"use strict";var r=n(46518),i=n(72652),a=n(79306),o=n(28551),s=n(1767);r({target:"Iterator",proto:!0,real:!0},{find:function(e){o(this),a(e);var t=s(this),n=0;return i(t,(function(t,r){if(e(t,n++))return r(t)}),{IS_RECORD:!0,INTERRUPTED:!0}).result}})},20397:(e,t,n)=>{"use strict";var r=n(97751);e.exports=r("document","documentElement")},20423:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});n(94170),n(83851),n(26099),n(40888),n(15472);var r=n(36858);function i(){return i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=(0,r.A)(e)););return e}(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},i.apply(null,arguments)}},20484:function(e,t,n){var r,i,a,o,s=n(89990);o=function(e){return function(){var t=e,n=t.lib,r=n.WordArray,i=n.Hasher,a=t.algo,o=r.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),s=r.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),u=r.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),c=r.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),l=r.create([0,1518500249,1859775393,2400959708,2840853838]),d=r.create([1352829926,1548603684,1836072691,2053994217,0]),p=a.RIPEMD160=i.extend({_doReset:function(){this._hash=r.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,i=e[r];e[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var a,p,b,w,D,A,E,k,C,_,x,S=this._hash.words,T=l.words,F=d.words,O=o.words,P=s.words,I=u.words,B=c.words;for(A=a=S[0],E=p=S[1],k=b=S[2],C=w=S[3],_=D=S[4],n=0;n<80;n+=1)x=a+e[t+O[n]]|0,x+=n<16?f(p,b,w)+T[0]:n<32?h(p,b,w)+T[1]:n<48?m(p,b,w)+T[2]:n<64?v(p,b,w)+T[3]:g(p,b,w)+T[4],x=(x=y(x|=0,I[n]))+D|0,a=D,D=w,w=y(b,10),b=p,p=x,x=A+e[t+P[n]]|0,x+=n<16?g(E,k,C)+F[0]:n<32?v(E,k,C)+F[1]:n<48?m(E,k,C)+F[2]:n<64?h(E,k,C)+F[3]:f(E,k,C)+F[4],x=(x=y(x|=0,B[n]))+_|0,A=_,_=C,C=y(k,10),k=E,E=x;x=S[1]+b+C|0,S[1]=S[2]+w+_|0,S[2]=S[3]+D+A|0,S[3]=S[4]+a+E|0,S[4]=S[0]+p+k|0,S[0]=x},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e.sigBytes=4*(t.length+1),this._process();for(var i=this._hash,a=i.words,o=0;o<5;o++){var s=a[o];a[o]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}return i},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});function f(e,t,n){return e^t^n}function h(e,t,n){return e&t|~e&n}function m(e,t,n){return(e|~t)^n}function v(e,t,n){return e&n|t&~n}function g(e,t,n){return e^(t|~n)}function y(e,t){return e<<t|e>>>32-t}t.RIPEMD160=i._createHelper(p),t.HmacRIPEMD160=i._createHmacHelper(p)}(Math),e.RIPEMD160},"object"===s(t)?e.exports=t=o(n(83841)):(i=[n(83841)],void 0===(a="function"==typeof(r=o)?r.apply(t,i):r)||(e.exports=a))},20713:(e,t,n)=>{"use strict";var r=n(69565),i=n(79306),a=n(28551),o=n(1767),s=n(19462),u=n(96319),c=s((function(){var e=this.iterator,t=a(r(this.next,e));if(!(this.done=!!t.done))return u(e,this.mapper,[t.value,this.counter++],!0)}));e.exports=function(e){return a(this),i(e),new c(o(this),{mapper:e})}},20905:(e,t,n)=>{var r=n(55837),i=n(6413)(r);e.exports=i},21214:(e,t,n)=>{"use strict";n.d(t,{N:()=>u});var r=n(51531),i=(n(76918),n(52675),n(2008),n(51629),n(23792),n(44114),n(23288),n(62010),n(67945),n(84185),n(83851),n(81278),n(79432),n(26099),n(27495),n(38781),n(31415),n(47764),n(25440),n(98992),n(54520),n(3949),n(23500),n(62953),n(51494));function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e){var t="";return e.replace(/[^A-Z0-9]/gi,(function(e){return t+="-".concat(function(e){return e.charCodeAt(0).toString(32)}(e)),"/"}))+t}function u(e,t){if(function(e){return!(!e.isRemote||!e.remote)&&new Set(["box","dropbox","drive","facebook","unsplash"]).has(e.remote.provider)}(e))return e.id;var n=(0,i.A)(e);return function(e,t){var n=t||"uppy";return"string"==typeof e.name&&(n+="-".concat(s(e.name.toLowerCase()))),void 0!==e.type&&(n+="-".concat(e.type)),e.meta&&"string"==typeof e.meta.relativePath&&(n+="-".concat(s(e.meta.relativePath.toLowerCase()))),void 0!==e.data.size&&(n+="-".concat(e.data.size)),void 0!==e.data.lastModified&&(n+="-".concat(e.data.lastModified)),n}(o(o({},e),{},{type:n}),t)}},21272:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},21397:(e,t,n)=>{var r=n(29119),i=/[\/\+\.]/;e.exports=function(e,t){function n(t){var n=r(t,e,i);return n&&n.length>=2}return t?n(t.split(";")[0]):n}},21426:(e,t,n)=>{var r=n(94611),i=n(41684),a=n(74946);e.exports=function(e){return a(e)?r(e):i(e)}},21489:(e,t,n)=>{"use strict";n(15823)("Uint8",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},21699:(e,t,n)=>{"use strict";var r=n(46518),i=n(79504),a=n(60511),o=n(67750),s=n(655),u=n(41436),c=i("".indexOf);r({target:"String",proto:!0,forced:!u("includes")},{includes:function(e){return!!~c(s(o(this)),s(a(e)),arguments.length>1?arguments[1]:void 0)}})},21894:function(e,t,n){var r,i,a,o,s=n(89990);n(25276),n(48598),n(44114),o=function(e){var t,n;return n=(t=e).lib.WordArray,t.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var i=[],a=0;a<n;a+=3)for(var o=(t[a>>>2]>>>24-a%4*8&255)<<16|(t[a+1>>>2]>>>24-(a+1)%4*8&255)<<8|t[a+2>>>2]>>>24-(a+2)%4*8&255,s=0;s<4&&a+.75*s<n;s++)i.push(r.charAt(o>>>6*(3-s)&63));var u=r.charAt(64);if(u)for(;i.length%4;)i.push(u);return i.join("")},parse:function(e){var t=e.length,r=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var a=0;a<r.length;a++)i[r.charCodeAt(a)]=a}var o=r.charAt(64);if(o){var s=e.indexOf(o);-1!==s&&(t=s)}return function(e,t,r){for(var i=[],a=0,o=0;o<t;o++)if(o%4){var s=r[e.charCodeAt(o-1)]<<o%4*2|r[e.charCodeAt(o)]>>>6-o%4*2;i[a>>>2]|=s<<24-a%4*8,a++}return n.create(i,a)}(e,t,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},e.enc.Base64},"object"===s(t)?e.exports=t=o(n(83841)):(i=[n(83841)],void 0===(a="function"==typeof(r=o)?r.apply(t,i):r)||(e.exports=a))},21903:(e,t,n)=>{"use strict";var r=n(94644),i=n(43839).findLast,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("findLast",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},22134:(e,t,n)=>{"use strict";n(15823)("Uint8",(function(e){return function(t,n,r){return e(this,t,n,r)}}),!0)},22195:(e,t,n)=>{"use strict";var r=n(79504),i=r({}.toString),a=r("".slice);e.exports=function(e){return a(i(e),8,-1)}},22205:(e,t,n)=>{n(16280),n(76918),n(50375);var r=n(85192);n(78008),n(32807),(e.exports=r.pss=r.pss||{}).create=function(e){3===arguments.length&&(e={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var t,n=e.md,i=e.mgf,a=n.digestLength,o=e.salt||null;if("string"==typeof o&&(o=r.util.createBuffer(o)),"saltLength"in e)t=e.saltLength;else{if(null===o)throw new Error("Salt length not specified or specific salt not given.");t=o.length()}if(null!==o&&o.length()!==t)throw new Error("Given salt length does not match length of given salt.");var s=e.prng||r.random,u={encode:function(e,u){var c,l,d=u-1,p=Math.ceil(d/8),f=e.digest().getBytes();if(p<a+t+2)throw new Error("Message is too long to encrypt.");l=null===o?s.getBytesSync(t):o.bytes();var h=new r.util.ByteBuffer;h.fillWithByte(0,8),h.putBytes(f),h.putBytes(l),n.start(),n.update(h.getBytes());var m=n.digest().getBytes(),v=new r.util.ByteBuffer;v.fillWithByte(0,p-t-a-2),v.putByte(1),v.putBytes(l);var g=v.getBytes(),y=p-a-1,b=i.generate(m,y),w="";for(c=0;c<y;c++)w+=String.fromCharCode(g.charCodeAt(c)^b.charCodeAt(c));var D=65280>>8*p-d&255;return(w=String.fromCharCode(w.charCodeAt(0)&~D)+w.substr(1))+m+String.fromCharCode(188)},verify:function(e,o,s){var u,c=s-1,l=Math.ceil(c/8);if(o=o.substr(-l),l<a+t+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(188!==o.charCodeAt(l-1))throw new Error("Encoded message does not end in 0xBC.");var d=l-a-1,p=o.substr(0,d),f=o.substr(d,a),h=65280>>8*l-c&255;if(p.charCodeAt(0)&h)throw new Error("Bits beyond keysize not zero as expected.");var m=i.generate(f,d),v="";for(u=0;u<d;u++)v+=String.fromCharCode(p.charCodeAt(u)^m.charCodeAt(u));v=String.fromCharCode(v.charCodeAt(0)&~h)+v.substr(1);var g=l-a-t-2;for(u=0;u<g;u++)if(0!==v.charCodeAt(u))throw new Error("Leftmost octets not zero as expected");if(1!==v.charCodeAt(g))throw new Error("Inconsistent PSS signature, 0x01 marker not found");var y=v.substr(-t),b=new r.util.ByteBuffer;return b.fillWithByte(0,8),b.putBytes(e),b.putBytes(y),n.start(),n.update(b.getBytes()),f===n.digest().getBytes()}};return u}},22257:function(e,t,n){"use strict";var r=n(89990);n(44114),n(59904),n(84185),n(83851);var i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.DomHandler=void 0;var o=n(14169),s=n(23353);a(n(23353),t);var u={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},c=function(){function e(e,t,n){this.dom=[],this.root=new s.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,"function"==typeof t&&(n=t,t=u),"object"===r(e)&&(t=e,e=void 0),this.callback=null!=e?e:null,this.options=null!=t?t:u,this.elementCB=null!=n?n:null}return e.prototype.onparserinit=function(e){this.parser=e},e.prototype.onreset=function(){this.dom=[],this.root=new s.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},e.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},e.prototype.onerror=function(e){this.handleCallback(e)},e.prototype.onclosetag=function(){this.lastNode=null;var e=this.tagStack.pop();this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(e)},e.prototype.onopentag=function(e,t){var n=this.options.xmlMode?o.ElementType.Tag:void 0,r=new s.Element(e,t,void 0,n);this.addNode(r),this.tagStack.push(r)},e.prototype.ontext=function(e){var t=this.lastNode;if(t&&t.type===o.ElementType.Text)t.data+=e,this.options.withEndIndices&&(t.endIndex=this.parser.endIndex);else{var n=new s.Text(e);this.addNode(n),this.lastNode=n}},e.prototype.oncomment=function(e){if(this.lastNode&&this.lastNode.type===o.ElementType.Comment)this.lastNode.data+=e;else{var t=new s.Comment(e);this.addNode(t),this.lastNode=t}},e.prototype.oncommentend=function(){this.lastNode=null},e.prototype.oncdatastart=function(){var e=new s.Text(""),t=new s.CDATA([e]);this.addNode(t),e.parent=t,this.lastNode=e},e.prototype.oncdataend=function(){this.lastNode=null},e.prototype.onprocessinginstruction=function(e,t){var n=new s.ProcessingInstruction(e,t);this.addNode(n)},e.prototype.handleCallback=function(e){if("function"==typeof this.callback)this.callback(e,this.dom);else if(e)throw e},e.prototype.addNode=function(e){var t=this.tagStack[this.tagStack.length-1],n=t.children[t.children.length-1];this.options.withStartIndices&&(e.startIndex=this.parser.startIndex),this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),t.children.push(e),n&&(e.prev=n,n.next=e),e.parent=t,this.lastNode=null},e}();t.DomHandler=c,t.default=c},22489:(e,t,n)=>{"use strict";var r=n(46518),i=n(69565),a=n(79306),o=n(28551),s=n(1767),u=n(19462),c=n(96319),l=n(96395),d=u((function(){for(var e,t,n=this.iterator,r=this.predicate,a=this.next;;){if(e=o(i(a,n)),this.done=!!e.done)return;if(t=e.value,c(n,r,[t,this.counter++],!0))return t}}));r({target:"Iterator",proto:!0,real:!0,forced:l},{filter:function(e){return o(this),a(e),new d(s(this),{predicate:e})}})},22812:e=>{"use strict";var t=TypeError;e.exports=function(e,n){if(e<n)throw new t("Not enough arguments");return e}},23061:(e,t,n)=>{"use strict";var r=n(79039);e.exports=function(e){return r((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},23167:(e,t,n)=>{"use strict";var r=n(94901),i=n(20034),a=n(52967);e.exports=function(e,t,n){var o,s;return a&&r(o=t.constructor)&&o!==n&&i(s=o.prototype)&&s!==n.prototype&&a(e,s),e}},23215:(e,t,n)=>{"use strict";n(81148)},23288:(e,t,n)=>{"use strict";var r=n(79504),i=n(36840),a=Date.prototype,o="Invalid Date",s="toString",u=r(a[s]),c=r(a.getTime);String(new Date(NaN))!==o&&i(a,s,(function(){var e=c(this);return e==e?u(this):o}))},23353:function(e,t,n){"use strict";n(16280),n(76918),n(51629),n(62062),n(62010),n(69085),n(59904),n(84185),n(79432),n(63548),n(10287),n(26099),n(98992),n(3949),n(81454),n(23500);var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},a.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.cloneNode=t.hasChildren=t.isDocument=t.isDirective=t.isComment=t.isText=t.isCDATA=t.isTag=t.Element=t.Document=t.CDATA=t.NodeWithChildren=t.ProcessingInstruction=t.Comment=t.Text=t.DataNode=t.Node=void 0;var o=n(14169),s=function(){function e(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent},set:function(e){this.parent=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return this.prev},set:function(e){this.prev=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return this.next},set:function(e){this.next=e},enumerable:!1,configurable:!0}),e.prototype.cloneNode=function(e){return void 0===e&&(e=!1),A(this,e)},e}();t.Node=s;var u=function(e){function t(t){var n=e.call(this)||this;return n.data=t,n}return i(t,e),Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.data},set:function(e){this.data=e},enumerable:!1,configurable:!0}),t}(s);t.DataNode=u;var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=o.ElementType.Text,t}return i(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),t}(u);t.Text=c;var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=o.ElementType.Comment,t}return i(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),t}(u);t.Comment=l;var d=function(e){function t(t,n){var r=e.call(this,n)||this;return r.name=t,r.type=o.ElementType.Directive,r}return i(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),t}(u);t.ProcessingInstruction=d;var p=function(e){function t(t){var n=e.call(this)||this;return n.children=t,n}return i(t,e),Object.defineProperty(t.prototype,"firstChild",{get:function(){var e;return null!==(e=this.children[0])&&void 0!==e?e:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.children},set:function(e){this.children=e},enumerable:!1,configurable:!0}),t}(s);t.NodeWithChildren=p;var f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=o.ElementType.CDATA,t}return i(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),t}(p);t.CDATA=f;var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=o.ElementType.Root,t}return i(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),t}(p);t.Document=h;var m=function(e){function t(t,n,r,i){void 0===r&&(r=[]),void 0===i&&(i="script"===t?o.ElementType.Script:"style"===t?o.ElementType.Style:o.ElementType.Tag);var a=e.call(this,r)||this;return a.name=t,a.attribs=n,a.type=i,a}return i(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tagName",{get:function(){return this.name},set:function(e){this.name=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){var e=this;return Object.keys(this.attribs).map((function(t){var n,r;return{name:t,value:e.attribs[t],namespace:null===(n=e["x-attribsNamespace"])||void 0===n?void 0:n[t],prefix:null===(r=e["x-attribsPrefix"])||void 0===r?void 0:r[t]}}))},enumerable:!1,configurable:!0}),t}(p);function v(e){return(0,o.isTag)(e)}function g(e){return e.type===o.ElementType.CDATA}function y(e){return e.type===o.ElementType.Text}function b(e){return e.type===o.ElementType.Comment}function w(e){return e.type===o.ElementType.Directive}function D(e){return e.type===o.ElementType.Root}function A(e,t){var n;if(void 0===t&&(t=!1),y(e))n=new c(e.data);else if(b(e))n=new l(e.data);else if(v(e)){var r=t?E(e.children):[],i=new m(e.name,a({},e.attribs),r);r.forEach((function(e){return e.parent=i})),null!=e.namespace&&(i.namespace=e.namespace),e["x-attribsNamespace"]&&(i["x-attribsNamespace"]=a({},e["x-attribsNamespace"])),e["x-attribsPrefix"]&&(i["x-attribsPrefix"]=a({},e["x-attribsPrefix"])),n=i}else if(g(e)){r=t?E(e.children):[];var o=new f(r);r.forEach((function(e){return e.parent=o})),n=o}else if(D(e)){r=t?E(e.children):[];var s=new h(r);r.forEach((function(e){return e.parent=s})),e["x-mode"]&&(s["x-mode"]=e["x-mode"]),n=s}else{if(!w(e))throw new Error("Not implemented yet: ".concat(e.type));var u=new d(e.name,e.data);null!=e["x-name"]&&(u["x-name"]=e["x-name"],u["x-publicId"]=e["x-publicId"],u["x-systemId"]=e["x-systemId"]),n=u}return n.startIndex=e.startIndex,n.endIndex=e.endIndex,null!=e.sourceCodeLocation&&(n.sourceCodeLocation=e.sourceCodeLocation),n}function E(e){for(var t=e.map((function(e){return A(e,!0)})),n=1;n<t.length;n++)t[n].prev=t[n-1],t[n-1].next=t[n];return t}t.Element=m,t.isTag=v,t.isCDATA=g,t.isText=y,t.isComment=b,t.isDirective=w,t.isDocument=D,t.hasChildren=function(e){return Object.prototype.hasOwnProperty.call(e,"children")},t.cloneNode=A},23400:(e,t,n)=>{n(76918),n(60739),n(23288),n(33110),n(79432),n(26099),n(38781);var r=n(4373).H,i={stringify:function(e){var t={ct:e.ciphertext.toString(r.enc.Base64)};return e.iv&&(t.iv=e.iv.toString()),e.salt&&(t.s=e.salt.toString()),JSON.stringify(t)},parse:function(e){var t=JSON.parse(e),n=r.lib.CipherParams.create({ciphertext:r.enc.Base64.parse(t.ct)});return t.iv&&(n.iv=r.enc.Hex.parse(t.iv)),t.s&&(n.salt=r.enc.Hex.parse(t.s)),n}};t.z=i},23418:(e,t,n)=>{"use strict";var r=n(46518),i=n(97916);r({target:"Array",stat:!0,forced:!n(84428)((function(e){Array.from(e)}))},{from:i})},23500:(e,t,n)=>{"use strict";var r=n(44576),i=n(67400),a=n(79296),o=n(90235),s=n(66699),u=function(e){if(e&&e.forEach!==o)try{s(e,"forEach",o)}catch(t){e.forEach=o}};for(var c in i)i[c]&&u(r[c]&&r[c].prototype);u(a)},23546:(e,t,n)=>{var r,i=n(89990);n(76918),n(74423),n(64346),n(23288),n(26099),n(38781),n(21699),function(){"use strict";var a={}.hasOwnProperty;function o(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=u(e,s(n)))}return e}function s(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!==i(e))return"";if(Array.isArray(e))return o.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)a.call(e,n)&&e[n]&&(t=u(t,n));return t}function u(e,t){return t?e?e+" "+t:e+t:e}e.exports?(o.default=o,e.exports=o):"object"===i(n.amdO)&&n.amdO?void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r):window.classNames=o}()},23641:(e,t,n)=>{"use strict";var r=n(89990);function i(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function a(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,u=e[o],c=o+1,l=e[c];if(0>s(u,n))c<i&&0>s(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[o]=n,r=o);else{if(!(c<i&&0>s(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(n(44114),n(59089),n(23288),n(59848),n(76031),t.unstable_now=void 0,"object"===("undefined"==typeof performance?"undefined":r(performance))&&"function"==typeof performance.now){var u=performance;t.unstable_now=function(){return u.now()}}else{var c=Date,l=c.now();t.unstable_now=function(){return c.now()-l}}var d=[],p=[],f=1,h=null,m=3,v=!1,g=!1,y=!1,b=!1,w="function"==typeof setTimeout?setTimeout:null,D="function"==typeof clearTimeout?clearTimeout:null,A="undefined"!=typeof setImmediate?setImmediate:null;function E(e){for(var t=a(p);null!==t;){if(null===t.callback)o(p);else{if(!(t.startTime<=e))break;o(p),t.sortIndex=t.expirationTime,i(d,t)}t=a(p)}}function k(e){if(y=!1,E(e),!g)if(null!==a(d))g=!0,_||(_=!0,C());else{var t=a(p);null!==t&&B(k,t.startTime-e)}}var C,_=!1,x=-1,S=5,T=-1;function F(){return!!b||!(t.unstable_now()-T<S)}function O(){if(b=!1,_){var e=t.unstable_now();T=e;var n=!0;try{e:{g=!1,y&&(y=!1,D(x),x=-1),v=!0;var r=m;try{t:{for(E(e),h=a(d);null!==h&&!(h.expirationTime>e&&F());){var i=h.callback;if("function"==typeof i){h.callback=null,m=h.priorityLevel;var s=i(h.expirationTime<=e);if(e=t.unstable_now(),"function"==typeof s){h.callback=s,E(e),n=!0;break t}h===a(d)&&o(d),E(e)}else o(d);h=a(d)}if(null!==h)n=!0;else{var u=a(p);null!==u&&B(k,u.startTime-e),n=!1}}break e}finally{h=null,m=r,v=!1}n=void 0}}finally{n?C():_=!1}}}if("function"==typeof A)C=function(){A(O)};else if("undefined"!=typeof MessageChannel){var P=new MessageChannel,I=P.port2;P.port1.onmessage=O,C=function(){I.postMessage(null)}}else C=function(){w(O,0)};function B(e,n){x=w((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var n=m;m=t;try{return e()}finally{m=n}},t.unstable_requestPaint=function(){b=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=m;m=e;try{return t()}finally{m=n}},t.unstable_scheduleCallback=function(e,n,o){var s=t.unstable_now();switch("object"===r(o)&&null!==o?o="number"==typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:n,priorityLevel:e,startTime:o,expirationTime:u=o+u,sortIndex:-1},o>s?(e.sortIndex=o,i(p,e),null===a(d)&&e===a(p)&&(y?(D(x),x=-1):y=!0,B(k,o-s))):(e.sortIndex=u,i(d,e),g||v||(g=!0,_||(_=!0,C()))),e},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(e){var t=m;return function(){var n=m;m=t;try{return e.apply(this,arguments)}finally{m=n}}}},23792:(e,t,n)=>{"use strict";var r=n(25397),i=n(6469),a=n(26269),o=n(91181),s=n(24913).f,u=n(51088),c=n(62529),l=n(96395),d=n(43724),p="Array Iterator",f=o.set,h=o.getterFor(p);e.exports=u(Array,"Array",(function(e,t){f(this,{type:p,target:r(e),index:0,kind:t})}),(function(){var e=h(this),t=e.target,n=e.index++;if(!t||n>=t.length)return e.target=null,c(void 0,!0);switch(e.kind){case"keys":return c(n,!1);case"values":return c(t[n],!1)}return c([n,t[n]],!1)}),"values");var m=a.Arguments=a.Array;if(i("keys"),i("values"),i("entries"),!l&&d&&"values"!==m.name)try{s(m,"name",{value:"values"})}catch(e){}},23841:(e,t,n)=>{e.exports=function(){return n(1497),{}}},23860:(e,t,n)=>{"use strict";var r=n(46518),i=n(68183).codeAt;r({target:"String",proto:!0},{codePointAt:function(e){return i(this,e)}})},24063:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});n(40150);var r=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function i(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(i=e[n],a=t[n],!(i===a||r(i)&&r(a)))return!1;var i,a;return!0}function a(e,t){void 0===t&&(t=i);var n=null;function r(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;var a=e.apply(this,r);return n={lastResult:a,lastArgs:r,lastThis:this},a}return r.clear=function(){n=null},r}},24082:(e,t,n)=>{"use strict";n(79577)},24149:e=>{"use strict";var t=RangeError;e.exports=function(e){if(e==e)return e;throw new t("NaN is not allowed")}},24294:(e,t,n)=>{n(79432);var r=n(563)(Object.keys,Object);e.exports=r},24359:(e,t,n)=>{"use strict";var r=n(46518),i=n(66346);r({global:!0,constructor:!0,forced:!n(77811)},{DataView:i.DataView})},24432:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},24599:(e,t,n)=>{"use strict";var r=n(46518),i=n(44576),a=n(79472)(i.setTimeout,!0);r({global:!0,bind:!0,forced:i.setTimeout!==a},{setTimeout:a})},24659:(e,t,n)=>{"use strict";var r=n(79039),i=n(6980);e.exports=!r((function(){var e=new Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",i(1,7)),7!==e.stack)}))},24913:(e,t,n)=>{"use strict";var r=n(43724),i=n(35917),a=n(48686),o=n(28551),s=n(56969),u=TypeError,c=Object.defineProperty,l=Object.getOwnPropertyDescriptor,d="enumerable",p="configurable",f="writable";t.f=r?a?function(e,t,n){if(o(e),t=s(t),o(n),"function"==typeof e&&"prototype"===t&&"value"in n&&f in n&&!n[f]){var r=l(e,t);r&&r[f]&&(e[t]=n.value,n={configurable:p in n?n[p]:r[p],enumerable:d in n?n[d]:r[d],writable:!1})}return c(e,t,n)}:c:function(e,t,n){if(o(e),t=s(t),o(n),i)try{return c(e,t,n)}catch(e){}if("get"in n||"set"in n)throw new u("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},25069:(e,t,n)=>{var r=n(64327);e.exports=function(e){return r(this,e).get(e)}},25276:(e,t,n)=>{"use strict";var r=n(46518),i=n(27476),a=n(19617).indexOf,o=n(34598),s=i([].indexOf),u=!!s&&1/s([1],1,-0)<0;r({target:"Array",proto:!0,forced:u||!o("indexOf")},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return u?s(this,e,t)||0:a(this,e,t)}})},25397:(e,t,n)=>{"use strict";var r=n(47055),i=n(67750);e.exports=function(e){return r(i(e))}},25428:(e,t,n)=>{"use strict";n(46518)({target:"Number",stat:!0},{isFinite:n(50360)})},25440:(e,t,n)=>{"use strict";var r=n(18745),i=n(69565),a=n(79504),o=n(89228),s=n(79039),u=n(28551),c=n(94901),l=n(64117),d=n(91291),p=n(18014),f=n(655),h=n(67750),m=n(57829),v=n(55966),g=n(2478),y=n(56682),b=n(78227)("replace"),w=Math.max,D=Math.min,A=a([].concat),E=a([].push),k=a("".indexOf),C=a("".slice),_="$0"==="a".replace(/./,"$0"),x=!!/./[b]&&""===/./[b]("a","$0");o("replace",(function(e,t,n){var a=x?"$":"$0";return[function(e,n){var r=h(this),a=l(e)?void 0:v(e,b);return a?i(a,e,r,n):i(t,f(r),e,n)},function(e,i){var o=u(this),s=f(e);if("string"==typeof i&&-1===k(i,a)&&-1===k(i,"$<")){var l=n(t,o,s,i);if(l.done)return l.value}var h=c(i);h||(i=f(i));var v,b=o.global;b&&(v=o.unicode,o.lastIndex=0);for(var _,x=[];null!==(_=y(o,s))&&(E(x,_),b);){""===f(_[0])&&(o.lastIndex=m(s,p(o.lastIndex),v))}for(var S,T="",F=0,O=0;O<x.length;O++){for(var P,I=f((_=x[O])[0]),B=w(D(d(_.index),s.length),0),R=[],N=1;N<_.length;N++)E(R,void 0===(S=_[N])?S:String(S));var M=_.groups;if(h){var L=A([I],R,B,s);void 0!==M&&E(L,M),P=f(r(i,void 0,L))}else P=g(I,s,B,R,M,i);B>=F&&(T+=C(s,F,B)+P,F=B+I.length)}return T+C(s,F)}]}),!!s((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!_||x)},25668:(e,t,n)=>{n(23792),n(26099),n(27495),n(62953);var r,i=n(2245),a=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!a&&a in e}},25743:(e,t,n)=>{e.exports=n(1238),n(51807),n(70266),n(89512),n(74813)},25745:(e,t,n)=>{"use strict";var r=n(77629);e.exports=function(e,t){return r[e]||(r[e]=t||{})}},25843:(e,t,n)=>{"use strict";var r=n(46518),i=n(52703);r({target:"Number",stat:!0,forced:Number.parseInt!==i},{parseInt:i})},26099:(e,t,n)=>{"use strict";var r=n(92140),i=n(36840),a=n(53179);r||i(Object.prototype,"toString",a,{unsafe:!0})},26198:(e,t,n)=>{"use strict";var r=n(18014);e.exports=function(e){return r(e.length)}},26229:function(e,t,n){var r,i,a,o,s=n(89990);o=function(e){return e.pad.AnsiX923={pad:function(e,t){var n=e.sigBytes,r=4*t,i=r-n%r,a=n+i-1;e.clamp(),e.words[a>>>2]|=i<<24-a%4*8,e.sigBytes+=i},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},e.pad.Ansix923},"object"===s(t)?e.exports=t=o(n(83841),n(76793)):(i=[n(83841),n(76793)],void 0===(a="function"==typeof(r=o)?r.apply(t,i):r)||(e.exports=a))},26269:e=>{"use strict";e.exports={}},26314:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});n(16280),n(76918);function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},26593:(e,t,n)=>{var r=n(9919).Global;e.exports={name:"oldFF-globalStorage",read:function(e){return i[e]},write:function(e,t){i[e]=t},each:a,remove:function(e){return i.removeItem(e)},clearAll:function(){a((function(e,t){delete i[e]}))}};var i=r.globalStorage;function a(e){for(var t=i.length-1;t>=0;t--){var n=i.key(t);e(i[n],n)}}},26656:(e,t,n)=>{"use strict";n.r(t),n.d(t,{BasePlugin:()=>a.A,UIPlugin:()=>i.A,Uppy:()=>r.A,debugLogger:()=>o.w,"default":()=>r.A});var r=n(78655),i=n(73848),a=n(32744),o=n(77001)},26838:(e,t,n)=>{var r=n(91298),i=n(73320),a=n(49347),o=n(34022),s=n(44448),u=n(66857),c=n(13585);e.exports=function(e,t){return o(e)&&s(t)?u(c(e),t):function(n){var o=i(n,e);return void 0===o&&o===t?a(n,e):r(t,o,3)}}},26849:(e,t,n)=>{n(16280),n(76918);var r=n(85192);n(32807),n(78008),n(70266);var i=e.exports=r.pkcs1=r.pkcs1||{};function a(e,t,n){n||(n=r.md.sha1.create());for(var i="",a=Math.ceil(t/n.digestLength),o=0;o<a;++o){var s=String.fromCharCode(o>>24&255,o>>16&255,o>>8&255,255&o);n.start(),n.update(e+s),i+=n.digest().getBytes()}return i.substring(0,t)}i.encode_rsa_oaep=function(e,t,n){var i,o,s,u;"string"==typeof n?(i=n,o=arguments[3]||void 0,s=arguments[4]||void 0):n&&(i=n.label||void 0,o=n.seed||void 0,s=n.md||void 0,n.mgf1&&n.mgf1.md&&(u=n.mgf1.md)),s?s.start():s=r.md.sha1.create(),u||(u=s);var c=Math.ceil(e.n.bitLength()/8),l=c-2*s.digestLength-2;if(t.length>l)throw(v=new Error("RSAES-OAEP input message length is too long.")).length=t.length,v.maxLength=l,v;i||(i=""),s.update(i,"raw");for(var d=s.digest(),p="",f=l-t.length,h=0;h<f;h++)p+="\0";var m=d.getBytes()+p+""+t;if(o){if(o.length!==s.digestLength){var v;throw(v=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.")).seedLength=o.length,v.digestLength=s.digestLength,v}}else o=r.random.getBytes(s.digestLength);var g=a(o,c-s.digestLength-1,u),y=r.util.xorBytes(m,g,m.length),b=a(y,s.digestLength,u);return"\0"+r.util.xorBytes(o,b,o.length)+y},i.decode_rsa_oaep=function(e,t,n){var i,o,s;"string"==typeof n?(i=n,o=arguments[3]||void 0):n&&(i=n.label||void 0,o=n.md||void 0,n.mgf1&&n.mgf1.md&&(s=n.mgf1.md));var u=Math.ceil(e.n.bitLength()/8);if(t.length!==u)throw(g=new Error("RSAES-OAEP encoded message length is invalid.")).length=t.length,g.expectedLength=u,g;if(void 0===o?o=r.md.sha1.create():o.start(),s||(s=o),u<2*o.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");i||(i=""),o.update(i,"raw");for(var c=o.digest().getBytes(),l=t.charAt(0),d=t.substring(1,o.digestLength+1),p=t.substring(1+o.digestLength),f=a(p,o.digestLength,s),h=a(r.util.xorBytes(d,f,d.length),u-o.digestLength-1,s),m=r.util.xorBytes(p,h,p.length),v=m.substring(0,o.digestLength),g="\0"!==l,y=0;y<o.digestLength;++y)g|=c.charAt(y)!==v.charAt(y);for(var b=1,w=o.digestLength,D=o.digestLength;D<m.length;D++){var A=m.charCodeAt(D);g|=A&(b?65534:0),w+=b&=1&A^1}if(g||1!==m.charCodeAt(w))throw new Error("Invalid RSAES-OAEP padding.");return m.substring(w+1)}},26910:(e,t,n)=>{"use strict";var r=n(46518),i=n(79504),a=n(79306),o=n(48981),s=n(26198),u=n(84606),c=n(655),l=n(79039),d=n(74488),p=n(34598),f=n(13709),h=n(13763),m=n(39519),v=n(3607),g=[],y=i(g.sort),b=i(g.push),w=l((function(){g.sort(void 0)})),D=l((function(){g.sort(null)})),A=p("sort"),E=!l((function(){if(m)return m<70;if(!(f&&f>3)){if(h)return!0;if(v)return v<603;var e,t,n,r,i="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)g.push({k:t+r,v:n})}for(g.sort((function(e,t){return t.v-e.v})),r=0;r<g.length;r++)t=g[r].k.charAt(0),i.charAt(i.length-1)!==t&&(i+=t);return"DGBEFHACIJK"!==i}}));r({target:"Array",proto:!0,forced:w||!D||!A||!E},{sort:function(e){void 0!==e&&a(e);var t=o(this);if(E)return void 0===e?y(t):y(t,e);var n,r,i=[],l=s(t);for(r=0;r<l;r++)r in t&&b(i,t[r]);for(d(i,function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:c(t)>c(n)?1:-1}}(e)),n=s(i),r=0;r<n;)t[r]=i[r++];for(;r<l;)u(t,r++);return t}})},27048:function(e,t,n){var r,i,a,o,s=n(89990);n(34782),o=function(e){return e.mode.CTRGladman=function(){var t=e.lib.BlockCipherMode.extend();function n(e){if(255&~(e>>24))e+=1<<24;else{var t=e>>16&255,n=e>>8&255,r=255&e;255===t?(t=0,255===n?(n=0,255===r?r=0:++r):++n):++t,e=0,e+=t<<16,e+=n<<8,e+=r}return e}var r=t.Encryptor=t.extend({processBlock:function(e,t){var r=this._cipher,i=r.blockSize,a=this._iv,o=this._counter;a&&(o=this._counter=a.slice(0),this._iv=void 0),function(e){0===(e[0]=n(e[0]))&&(e[1]=n(e[1]))}(o);var s=o.slice(0);r.encryptBlock(s,0);for(var u=0;u<i;u++)e[t+u]^=s[u]}});return t.Decryptor=r,t}(),e.mode.CTRGladman},"object"===s(t)?e.exports=t=o(n(83841),n(76793)):(i=[n(83841),n(76793)],void 0===(a="function"==typeof(r=o)?r.apply(t,i):r)||(e.exports=a))},27208:(e,t,n)=>{"use strict";var r=n(46518),i=n(69565);r({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return i(URL.prototype.toString,this)}})},27337:(e,t,n)=>{"use strict";var r=n(46518),i=n(79504),a=n(35610),o=RangeError,s=String.fromCharCode,u=String.fromCodePoint,c=i([].join);r({target:"String",stat:!0,arity:1,forced:!!u&&1!==u.length},{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,i=0;r>i;){if(t=+arguments[i++],a(t,1114111)!==t)throw new o(t+" is not a valid code point");n[i]=t<65536?s(t):s(55296+((t-=65536)>>10),t%1024+56320)}return c(n,"")}})},27413:(e,t,n)=>{"use strict";n(54972)},27415:function(e,t,n){var r,i,a,o,s=n(89990);o=function(e){return e.pad.ZeroPadding={pad:function(e,t){var n=4*t;e.clamp(),e.sigBytes+=n-(e.sigBytes%n||n)},unpad:function(e){var t=e.words,n=e.sigBytes-1;for(n=e.sigBytes-1;n>=0;n--)if(t[n>>>2]>>>24-n%4*8&255){e.sigBytes=n+1;break}}},e.pad.ZeroPadding},"object"===s(t)?e.exports=t=o(n(83841),n(76793)):(i=[n(83841),n(76793)],void 0===(a="function"==typeof(r=o)?r.apply(t,i):r)||(e.exports=a))},27476:(e,t,n)=>{"use strict";var r=n(22195),i=n(79504);e.exports=function(e){if("Function"===r(e))return i(e)}},27495:(e,t,n)=>{"use strict";var r=n(46518),i=n(57323);r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},27499:(e,t,n)=>{n(16280),n(76918),n(25276),n(62010);var r=n(85192);function i(e,t){r.cipher.registerAlgorithm(e,(function(){return new r.des.Algorithm(e,t)}))}n(39760),n(64622),n(32807),e.exports=r.des=r.des||{},r.des.startEncrypting=function(e,t,n,r){var i=h({key:e,output:n,decrypt:!1,mode:r||(null===t?"ECB":"CBC")});return i.start(t),i},r.des.createEncryptionCipher=function(e,t){return h({key:e,output:null,decrypt:!1,mode:t})},r.des.startDecrypting=function(e,t,n,r){var i=h({key:e,output:n,decrypt:!0,mode:r||(null===t?"ECB":"CBC")});return i.start(t),i},r.des.createDecryptionCipher=function(e,t){return h({key:e,output:null,decrypt:!0,mode:t})},r.des.Algorithm=function(e,t){var n=this;n.name=e,n.mode=new t({blockSize:8,cipher:{encrypt:function(e,t){return f(n._keys,e,t,!1)},decrypt:function(e,t){return f(n._keys,e,t,!0)}}}),n._init=!1},r.des.Algorithm.prototype.initialize=function(e){if(!this._init){var t=r.util.createBuffer(e.key);if(0===this.name.indexOf("3DES")&&24!==t.length())throw new Error("Invalid Triple-DES key size: "+8*t.length());this._keys=function(e){for(var t,n=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],i=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],a=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],o=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],s=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],u=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],c=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],l=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],d=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],p=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],f=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],h=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],m=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],v=e.length()>8?3:1,g=[],y=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],b=0,w=0;w<v;w++){var D=e.getInt32(),A=e.getInt32();D^=(t=252645135&(D>>>4^A))<<4,D^=t=65535&((A^=t)>>>-16^D),D^=(t=858993459&(D>>>2^(A^=t<<-16)))<<2,D^=t=65535&((A^=t)>>>-16^D),D^=(t=1431655765&(D>>>1^(A^=t<<-16)))<<1,D^=t=16711935&((A^=t)>>>8^D),t=(D^=(t=1431655765&(D>>>1^(A^=t<<8)))<<1)<<8|(A^=t)>>>20&240,D=A<<24|A<<8&16711680|A>>>8&65280|A>>>24&240,A=t;for(var E=0;E<y.length;++E){y[E]?(D=D<<2|D>>>26,A=A<<2|A>>>26):(D=D<<1|D>>>27,A=A<<1|A>>>27),A&=-15;var k=n[(D&=-15)>>>28]|r[D>>>24&15]|i[D>>>20&15]|a[D>>>16&15]|o[D>>>12&15]|s[D>>>8&15]|u[D>>>4&15],C=c[A>>>28]|l[A>>>24&15]|d[A>>>20&15]|p[A>>>16&15]|f[A>>>12&15]|h[A>>>8&15]|m[A>>>4&15];t=65535&(C>>>16^k),g[b++]=k^t,g[b++]=C^t<<16}}return g}(t),this._init=!0}},i("DES-ECB",r.cipher.modes.ecb),i("DES-CBC",r.cipher.modes.cbc),i("DES-CFB",r.cipher.modes.cfb),i("DES-OFB",r.cipher.modes.ofb),i("DES-CTR",r.cipher.modes.ctr),i("3DES-ECB",r.cipher.modes.ecb),i("3DES-CBC",r.cipher.modes.cbc),i("3DES-CFB",r.cipher.modes.cfb),i("3DES-OFB",r.cipher.modes.ofb),i("3DES-CTR",r.cipher.modes.ctr);var a=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],o=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],s=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],u=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],c=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],l=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],d=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],p=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function f(e,t,n,r){var i,f,h=32===e.length?3:9;i=3===h?r?[30,-2,-2]:[0,32,2]:r?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var m=t[0],v=t[1];m^=(f=252645135&(m>>>4^v))<<4,m^=(f=65535&(m>>>16^(v^=f)))<<16,m^=f=858993459&((v^=f)>>>2^m),m^=f=16711935&((v^=f<<2)>>>8^m),m=(m^=(f=1431655765&(m>>>1^(v^=f<<8)))<<1)<<1|m>>>31,v=(v^=f)<<1|v>>>31;for(var g=0;g<h;g+=3){for(var y=i[g+1],b=i[g+2],w=i[g];w!=y;w+=b){var D=v^e[w],A=(v>>>4|v<<28)^e[w+1];f=m,m=v,v=f^(o[D>>>24&63]|u[D>>>16&63]|l[D>>>8&63]|p[63&D]|a[A>>>24&63]|s[A>>>16&63]|c[A>>>8&63]|d[63&A])}f=m,m=v,v=f}v=v>>>1|v<<31,v^=f=1431655765&((m=m>>>1|m<<31)>>>1^v),v^=(f=16711935&(v>>>8^(m^=f<<1)))<<8,v^=(f=858993459&(v>>>2^(m^=f)))<<2,v^=f=65535&((m^=f)>>>16^v),v^=f=252645135&((m^=f<<16)>>>4^v),m^=f<<4,n[0]=m,n[1]=v}function h(e){var t,n="DES-"+((e=e||{}).mode||"CBC").toUpperCase(),i=(t=e.decrypt?r.cipher.createDecipher(n,e.key):r.cipher.createCipher(n,e.key)).start;return t.start=function(e,n){var a=null;n instanceof r.util.ByteBuffer&&(a=n,n={}),(n=n||{}).output=a,n.iv=e,i.call(t,n)},t}},28045:(e,t,n)=>{e=n.nmd(e);var r=n(89990),i=n(47436),a="object"==r(t)&&t&&!t.nodeType&&t,o=a&&"object"==r(e)&&e&&!e.nodeType&&e,s=o&&o.exports===a&&i.process,u=function(){try{var e=o&&o.require&&o.require("util").types;return e||s&&s.binding&&s.binding("util")}catch(e){}}();e.exports=u},28543:(e,t,n)=>{"use strict";var r=n(46518),i=n(69565),a=n(27476),o=n(33994),s=n(62529),u=n(67750),c=n(18014),l=n(655),d=n(28551),p=n(64117),f=n(22195),h=n(60788),m=n(61034),v=n(55966),g=n(36840),y=n(79039),b=n(78227),w=n(2293),D=n(57829),A=n(56682),E=n(91181),k=n(96395),C=b("matchAll"),_="RegExp String",x=_+" Iterator",S=E.set,T=E.getterFor(x),F=RegExp.prototype,O=TypeError,P=a("".indexOf),I=a("".matchAll),B=!!I&&!y((function(){I("a",/./)})),R=o((function(e,t,n,r){S(this,{type:x,regexp:e,string:t,global:n,unicode:r,done:!1})}),_,(function(){var e=T(this);if(e.done)return s(void 0,!0);var t=e.regexp,n=e.string,r=A(t,n);return null===r?(e.done=!0,s(void 0,!0)):e.global?(""===l(r[0])&&(t.lastIndex=D(n,c(t.lastIndex),e.unicode)),s(r,!1)):(e.done=!0,s(r,!1))})),N=function(e){var t,n,r,i=d(this),a=l(e),o=w(i,RegExp),s=l(m(i));return t=new o(o===RegExp?i.source:i,s),n=!!~P(s,"g"),r=!!~P(s,"u"),t.lastIndex=c(i.lastIndex),new R(t,a,n,r)};r({target:"String",proto:!0,forced:B},{matchAll:function(e){var t,n,r,a,o=u(this);if(p(e)){if(B)return I(o,e)}else{if(h(e)&&(t=l(u(m(e))),!~P(t,"g")))throw new O("`.matchAll` does not allow non-global regexes");if(B)return I(o,e);if(void 0===(r=v(e,C))&&k&&"RegExp"===f(e)&&(r=N),r)return i(r,e,o)}return n=l(o),a=new RegExp(e,"g"),k?i(N,a,n):a[C](n)}}),k||C in F||g(F,C,N)},28551:(e,t,n)=>{"use strict";var r=n(20034),i=String,a=TypeError;e.exports=function(e){if(r(e))return e;throw new a(i(e)+" is not an object")}},28706:(e,t,n)=>{"use strict";var r=n(46518),i=n(79039),a=n(34376),o=n(20034),s=n(48981),u=n(26198),c=n(96837),l=n(97040),d=n(1469),p=n(70597),f=n(78227),h=n(39519),m=f("isConcatSpreadable"),v=h>=51||!i((function(){var e=[];return e[m]=!1,e.concat()[0]!==e})),g=function(e){if(!o(e))return!1;var t=e[m];return void 0!==t?!!t:a(e)};r({target:"Array",proto:!0,arity:1,forced:!v||!p("concat")},{concat:function(e){var t,n,r,i,a,o=s(this),p=d(o,0),f=0;for(t=-1,r=arguments.length;t<r;t++)if(g(a=-1===t?o:arguments[t]))for(i=u(a),c(f+i),n=0;n<i;n++,f++)n in a&&l(p,f,a[n]);else c(f+1),l(p,f++,a);return p.length=f,p}})},28834:(e,t,n)=>{"use strict";n(16280),n(76918),n(62010);var r=n(85489);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},28845:(e,t,n)=>{"use strict";var r=n(44576),i=n(69565),a=n(94644),o=n(26198),s=n(58229),u=n(48981),c=n(79039),l=r.RangeError,d=r.Int8Array,p=d&&d.prototype,f=p&&p.set,h=a.aTypedArray,m=a.exportTypedArrayMethod,v=!c((function(){var e=new Uint8ClampedArray(2);return i(f,e,{length:1,0:3},1),3!==e[1]})),g=v&&a.NATIVE_ARRAY_BUFFER_VIEWS&&c((function(){var e=new d(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));m("set",(function(e){h(this);var t=s(arguments.length>1?arguments[1]:void 0,1),n=u(e);if(v)return i(f,this,n,t);var r=this.length,a=o(n),c=0;if(a+t>r)throw new l("Wrong length");for(;c<a;)this[t+c]=n[c++]}),!v||g)},29119:(e,t,n)=>{"use strict";var r=n(89990);function i(e,t){this.text=e=e||"",this.hasWild=~e.indexOf("*"),this.separator=t,this.parts=e.split(t)}n(25276),n(54554),n(27495),n(71761),n(90744),i.prototype.match=function(e){var t,n,i=!0,a=this.parts,o=a.length;if("string"==typeof e||e instanceof String)if(this.hasWild||this.text==e){for(n=(e||"").split(this.separator),t=0;i&&t<o;t++)"*"!==a[t]&&(i=t<n.length&&a[t]===n[t]);i=i&&n}else i=!1;else if("function"==typeof e.splice)for(i=[],t=e.length;t--;)this.match(e[t])&&(i[i.length]=e[t]);else if("object"==r(e))for(var s in i={},e)this.match(s)&&(i[s]=e[s]);return i},e.exports=function(e,t,n){var r=new i(e,n||/[\/\.]/);return void 0!==t?r.match(t):r}},29291:(e,t,n)=>{"use strict";n.r(t),n.d(t,{DeviceWeb:()=>h});n(52675),n(89463),n(2259),n(16280),n(23418),n(64346),n(23792),n(34782),n(62010),n(60825),n(47764),n(62953);var r=n(18443),i=n(58237),a=n(84285),o=n(68119),s=n(36858),u=n(31061),c=(n(76918),n(74423),n(25276),n(48598),n(94490),n(23288),n(26099),n(27495),n(90906),n(38781),n(21699),n(25440),n(61792)),l=n.n(c);function d(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return p(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function f(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(f=function(){return!!e})()}var h=function(e){function t(){return(0,i.A)(this,t),function(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,f()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}(this,t,arguments)}return(0,u.A)(t,e),(0,a.A)(t,[{key:"getId",value:(m=(0,r.A)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{identifier:this.getUid()});case 1:case"end":return e.stop()}}),e,this)}))),function(){return m.apply(this,arguments)})},{key:"getInfo",value:(h=(0,r.A)(l().mark((function e(){var t,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!=typeof navigator&&navigator.userAgent){e.next=2;break}throw this.unavailable("Device API not available in this browser");case 2:return t=navigator.userAgent,n=this.parseUa(t),e.abrupt("return",{model:n.model,platform:"web",operatingSystem:n.operatingSystem,osVersion:n.osVersion,manufacturer:navigator.vendor,isVirtual:!1,webViewVersion:n.browserVersion});case 5:case"end":return e.stop()}}),e,this)}))),function(){return h.apply(this,arguments)})},{key:"getBatteryInfo",value:(p=(0,r.A)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!=typeof navigator&&navigator.getBattery){e.next=2;break}throw this.unavailable("Device API not available in this browser");case 2:return t={},e.prev=3,e.next=6,navigator.getBattery();case 6:t=e.sent,e.next=11;break;case 9:e.prev=9,e.t0=e.catch(3);case 11:return e.abrupt("return",{batteryLevel:t.level,isCharging:t.charging});case 12:case"end":return e.stop()}}),e,this,[[3,9]])}))),function(){return p.apply(this,arguments)})},{key:"getLanguageCode",value:(c=(0,r.A)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{value:navigator.language.split("-")[0].toLowerCase()});case 1:case"end":return e.stop()}}),e)}))),function(){return c.apply(this,arguments)})},{key:"getLanguageTag",value:(n=(0,r.A)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{value:navigator.language});case 1:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})},{key:"parseUa",value:function(e){var t={},n=e.indexOf("(")+1,r=e.indexOf(") AppleWebKit");-1!==e.indexOf(") Gecko")&&(r=e.indexOf(") Gecko"));var i=e.substring(n,r);if(-1!==e.indexOf("Android")){var a=i.replace("; wv","").split("; ").pop();a&&(t.model=a.split(" Build")[0]),t.osVersion=i.split("; ")[1]}else if(t.model=i.split("; ")[0],"undefined"!=typeof navigator&&navigator.oscpu)t.osVersion=navigator.oscpu;else if(-1!==e.indexOf("Windows"))t.osVersion=i;else{var o=i.split("; ").pop();if(o){var s=o.replace(" like Mac OS X","").split(" ");t.osVersion=s[s.length-1].replace(/_/g,".")}}/android/i.test(e)?t.operatingSystem="android":/iPad|iPhone|iPod/.test(e)&&!window.MSStream?t.operatingSystem="ios":/Win/.test(e)?t.operatingSystem="windows":/Mac/i.test(e)?t.operatingSystem="mac":t.operatingSystem="unknown";var u=!!window.ApplePaySession,c=!!window.chrome,l=/Firefox/.test(e),p=/Edg/.test(e),f=/FxiOS/.test(e),h=/CriOS/.test(e),m=/EdgiOS/.test(e);if(u||c&&!p||f||h||m){var v;v=f?"FxiOS":h?"CriOS":m?"EdgiOS":u?"Version":"Chrome";var g,y=d(e.split(" "));try{for(y.s();!(g=y.n()).done;){var b=g.value;if(b.includes(v)){var w=b.split("/")[1];t.browserVersion=w}}}catch(e){y.e(e)}finally{y.f()}}else if(l||p){var D=e.split("").reverse().join("").split("/")[0].split("").reverse().join("");t.browserVersion=D}return t}},{key:"getUid",value:function(){if("undefined"!=typeof window&&window.localStorage){var e=window.localStorage.getItem("_capuid");return e||(e=this.uuid4(),window.localStorage.setItem("_capuid",e),e)}return this.uuid4()}},{key:"uuid4",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}}]);var n,c,p,h,m}(n(94230).E_)},29309:(e,t,n)=>{"use strict";var r=n(46518),i=n(44576),a=n(59225).set,o=n(79472),s=i.setImmediate?o(a,!1):a;r({global:!0,bind:!0,enumerable:!0,forced:i.setImmediate!==s},{setImmediate:s})},29314:(e,t,n)=>{"use strict";var r=n(46518),i=n(69565),a=n(28551),o=n(1767),s=n(24149),u=n(99590),c=n(19462),l=n(96395),d=c((function(){for(var e,t=this.iterator,n=this.next;this.remaining;)if(this.remaining--,e=a(i(n,t)),this.done=!!e.done)return;if(e=a(i(n,t)),!(this.done=!!e.done))return e.value}));r({target:"Iterator",proto:!0,real:!0,forced:l},{drop:function(e){a(this);var t=u(s(+e));return new d(o(this),{remaining:t})}})},29321:(e,t,n)=>{var r=n(89990),i=n(93059),a=n(26838),o=n(10676),s=n(81813),u=n(36795);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==r(e)?s(e)?a(e[0],e[1]):i(e):u(e)}},29423:(e,t,n)=>{"use strict";var r=n(94644),i=n(79039),a=n(67680),o=r.aTypedArray,s=r.getTypedArrayConstructor;(0,r.exportTypedArrayMethod)("slice",(function(e,t){for(var n=a(o(this),e,t),r=s(this),i=0,u=n.length,c=new r(u);u>i;)c[i]=n[i++];return c}),i((function(){new Int8Array(1).slice()})))},29633:(e,t,n)=>{var r=n(64327);e.exports=function(e){return r(this,e).has(e)}},29742:(e,t,n)=>{n(16280),n(76918),n(18107),n(23792),n(48598),n(44114),n(94490),n(54743),n(11745),n(38309),n(26099),n(84864),n(57465),n(27495),n(87745),n(38781),n(67357),n(71761),n(25440),n(21489),n(48140),n(81630),n(72170),n(75044),n(69539),n(31694),n(89955),n(21903),n(91134),n(33206),n(44496),n(66651),n(12887),n(19369),n(66812),n(8995),n(31575),n(36072),n(88747),n(28845),n(29423),n(57301),n(373),n(86614),n(41405),n(33684),n(43250),n(10149),n(24082);var r={};e.exports=r;var i={};r.encode=function(e,t,n){if("string"!=typeof t)throw new TypeError('"alphabet" must be a string.');if(void 0!==n&&"number"!=typeof n)throw new TypeError('"maxline" must be a number.');var r="";if(e instanceof Uint8Array){var i=0,a=t.length,o=t.charAt(0),s=[0];for(i=0;i<e.length;++i){for(var u=0,c=e[i];u<s.length;++u)c+=s[u]<<8,s[u]=c%a,c=c/a|0;for(;c>0;)s.push(c%a),c=c/a|0}for(i=0;0===e[i]&&i<e.length-1;++i)r+=o;for(i=s.length-1;i>=0;--i)r+=t[s[i]]}else r=function(e,t){var n=0,r=t.length,i=t.charAt(0),a=[0];for(n=0;n<e.length();++n){for(var o=0,s=e.at(n);o<a.length;++o)s+=a[o]<<8,a[o]=s%r,s=s/r|0;for(;s>0;)a.push(s%r),s=s/r|0}var u="";for(n=0;0===e.at(n)&&n<e.length()-1;++n)u+=i;for(n=a.length-1;n>=0;--n)u+=t[a[n]];return u}(e,t);if(n){var l=new RegExp(".{1,"+n+"}","g");r=r.match(l).join("\r\n")}return r},r.decode=function(e,t){if("string"!=typeof e)throw new TypeError('"input" must be a string.');if("string"!=typeof t)throw new TypeError('"alphabet" must be a string.');var n=i[t];if(!n){n=i[t]=[];for(var r=0;r<t.length;++r)n[t.charCodeAt(r)]=r}e=e.replace(/\s/g,"");var a=t.length,o=t.charAt(0),s=[0];for(r=0;r<e.length;r++){var u=n[e.charCodeAt(r)];if(void 0===u)return;for(var c=0,l=u;c<s.length;++c)l+=s[c]*a,s[c]=255&l,l>>=8;for(;l>0;)s.push(255&l),l>>=8}for(var d=0;e[d]===o&&d<e.length-1;++d)s.push(0);return"undefined"!=typeof Buffer?Buffer.from(s.reverse()):new Uint8Array(s.reverse())}},29833:(e,t,n)=>{"use strict";n(15823)("Float64",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},29835:(e,t,n)=>{n(34782),n(13609),n(62010),n(84864),n(57465),n(27495),n(87745),n(38781),n(71761),n(25440);var r=n(9919).Global;e.exports={name:"oldIE-userDataStorage",write:function(e,t){if(s)return;var n=c(e);o((function(e){e.setAttribute(n,t),e.save(i)}))},read:function(e){if(s)return;var t=c(e),n=null;return o((function(e){n=e.getAttribute(t)})),n},each:function(e){o((function(t){for(var n=t.XMLDocument.documentElement.attributes,r=n.length-1;r>=0;r--){var i=n[r];e(t.getAttribute(i.name),i.name)}}))},remove:function(e){var t=c(e);o((function(e){e.removeAttribute(t),e.save(i)}))},clearAll:function(){o((function(e){var t=e.XMLDocument.documentElement.attributes;e.load(i);for(var n=t.length-1;n>=0;n--)e.removeAttribute(t[n].name);e.save(i)}))}};var i="storejs",a=r.document,o=function(){if(!a||!a.documentElement||!a.documentElement.addBehavior)return null;var e,t,n,r="script";try{(t=new ActiveXObject("htmlfile")).open(),t.write("<"+r+">document.w=window</"+r+'><iframe src="/favicon.ico"></iframe>'),t.close(),e=t.w.frames[0].document,n=e.createElement("div")}catch(t){n=a.createElement("div"),e=a.body}return function(t){var r=[].slice.call(arguments,0);r.unshift(n),e.appendChild(n),n.addBehavior("#default#userData"),n.load(i),t.apply(this,r),e.removeChild(n)}}(),s=(r.navigator?r.navigator.userAgent:"").match(/ (MSIE 8|MSIE 9|MSIE 10)\./);var u=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");function c(e){return e.replace(/^\d/,"___$&").replace(u,"___")}},29908:(e,t,n)=>{"use strict";n(46518)({target:"Object",stat:!0},{is:n(3470)})},29948:(e,t,n)=>{"use strict";var r=n(35370),i=n(94644).getTypedArrayConstructor;e.exports=function(e,t){return r(i(e),t)}},30067:(e,t,n)=>{"use strict";n(17145)},30237:(e,t,n)=>{"use strict";n(6469)("flatMap")},30421:e=>{"use strict";e.exports={}},30531:(e,t,n)=>{"use strict";var r=n(46518),i=n(69565),a=n(79306),o=n(28551),s=n(1767),u=n(48646),c=n(19462),l=n(9539),d=n(96395),p=c((function(){for(var e,t,n=this.iterator,r=this.mapper;;){if(t=this.inner)try{if(!(e=o(i(t.next,t.iterator))).done)return e.value;this.inner=null}catch(e){l(n,"throw",e)}if(e=o(i(this.next,n)),this.done=!!e.done)return;try{this.inner=u(r(e.value,this.counter++),!1)}catch(e){l(n,"throw",e)}}}));r({target:"Iterator",proto:!0,real:!0,forced:d},{flatMap:function(e){return o(this),a(e),new p(s(this),{mapper:e,inner:null})}})},30566:(e,t,n)=>{"use strict";var r=n(79504),i=n(79306),a=n(20034),o=n(39297),s=n(67680),u=n(40616),c=Function,l=r([].concat),d=r([].join),p={};e.exports=u?c.bind:function(e){var t=i(this),n=t.prototype,r=s(arguments,1),u=function(){var n=l(r,s(arguments));return this instanceof u?function(e,t,n){if(!o(p,t)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";p[t]=c("C,a","return new C("+d(r,",")+")")}return p[t](e,n)}(t,n.length,n):t.apply(e,n)};return a(n)&&(u.prototype=n),u}},30670:(e,t,n)=>{"use strict";n(30531)},30958:(e,t,n)=>{"use strict";n(5240)},31061:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});n(16280),n(76918),n(59904),n(84185);var r=n(85670);function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,r.A)(e,t)}},31073:(e,t,n)=>{"use strict";n(70511)("split")},31240:(e,t,n)=>{"use strict";var r=n(79504);e.exports=r(1..valueOf)},31415:(e,t,n)=>{"use strict";n(92405)},31575:(e,t,n)=>{"use strict";var r=n(94644),i=n(80926).left,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduce",(function(e){var t=arguments.length;return i(a(this),e,t,t>1?arguments[1]:void 0)}))},31694:(e,t,n)=>{"use strict";var r=n(94644),i=n(59213).find,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("find",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},31729:e=>{e.exports=function(e){return function(t){return e(t)}}},31763:(e,t,n)=>{var r=n(48781),i=n(91298);e.exports=function(e,t,n,a){var o=n.length,s=o,u=!a;if(null==e)return!s;for(e=Object(e);o--;){var c=n[o];if(u&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<s;){var l=(c=n[o])[0],d=e[l],p=c[1];if(u&&c[2]){if(void 0===d&&!(l in e))return!1}else{var f=new r;if(a)var h=a(d,p,l,e,t,f);if(!(void 0===h?i(p,d,3,a,f):h))return!1}}return!0}},31899:(e,t,n)=>{n(16280),n(76918),n(25276),n(23792),n(44114),n(62010),n(26099),n(58940),n(62953);var r=n(85192);n(53486),n(37540),n(70430),n(58630),n(49046),n(78008),n(90705),n(70266),n(32807),n(33423);var i=r.asn1,a=r.pki,o=e.exports=r.pkcs12=r.pkcs12||{},s={name:"ContentInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:i.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},u={name:"PFX",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"},s,{name:"PFX.macData",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:i.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},c={name:"SafeBag",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:i.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},l={name:"Attribute",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0,capture:"values"}]},d={name:"CertBag",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:i.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:i.Class.UNIVERSAL,type:i.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function p(e,t,n,r){for(var i=[],a=0;a<e.length;a++)for(var o=0;o<e[a].safeBags.length;o++){var s=e[a].safeBags[o];void 0!==r&&s.type!==r||(null!==t?void 0!==s.attributes[t]&&s.attributes[t].indexOf(n)>=0&&i.push(s):i.push(s))}return i}function f(e){if(e.composed||e.constructed){for(var t=r.util.createBuffer(),n=0;n<e.value.length;++n)t.putBytes(e.value[n].value);e.composed=e.constructed=!1,e.value=t.getBytes()}return e}function h(e,t){var n={},o=[];if(!i.validate(e,r.pkcs7.asn1.encryptedDataValidator,n,o))throw(s=new Error("Cannot read EncryptedContentInfo.")).errors=o,s;var s,u=i.derToOid(n.contentType);if(u!==a.oids.data)throw(s=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.")).oid=u,s;u=i.derToOid(n.encAlgorithm);var c=a.pbe.getCipher(u,n.encParameter,t),l=f(n.encryptedContentAsn1),d=r.util.createBuffer(l.value);if(c.update(d),!c.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return c.output.getBytes()}function m(e,t,n){if(!t&&0===e.length)return[];if((e=i.fromDer(e,t)).tagClass!==i.Class.UNIVERSAL||e.type!==i.Type.SEQUENCE||!0!==e.constructed)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var r=[],o=0;o<e.value.length;o++){var s=e.value[o],u={},l=[];if(!i.validate(s,c,u,l))throw(g=new Error("Cannot read SafeBag.")).errors=l,g;var p,f,h={type:i.derToOid(u.bagId),attributes:v(u.bagAttributes)};r.push(h);var m=u.bagValue.value[0];switch(h.type){case a.oids.pkcs8ShroudedKeyBag:if(null===(m=a.decryptPrivateKeyInfo(m,n)))throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case a.oids.keyBag:try{h.key=a.privateKeyFromAsn1(m)}catch(e){h.key=null,h.asn1=m}continue;case a.oids.certBag:p=d,f=function(){if(i.derToOid(u.certId)!==a.oids.x509Certificate){var e=new Error("Unsupported certificate type, only X.509 supported.");throw e.oid=i.derToOid(u.certId),e}var n=i.fromDer(u.cert,t);try{h.cert=a.certificateFromAsn1(n,!0)}catch(e){h.cert=null,h.asn1=n}};break;default:var g;throw(g=new Error("Unsupported PKCS#12 SafeBag type.")).oid=h.type,g}if(void 0!==p&&!i.validate(m,p,u,l))throw(g=new Error("Cannot read PKCS#12 "+p.name)).errors=l,g;f()}return r}function v(e){var t={};if(void 0!==e)for(var n=0;n<e.length;++n){var r={},o=[];if(!i.validate(e[n],l,r,o)){var s=new Error("Cannot read PKCS#12 BagAttribute.");throw s.errors=o,s}var u=i.derToOid(r.oid);if(void 0!==a.oids[u]){t[a.oids[u]]=[];for(var c=0;c<r.values.length;++c)t[a.oids[u]].push(r.values[c].value)}}return t}o.pkcs12FromAsn1=function(e,t,n){"string"==typeof t?(n=t,t=!0):void 0===t&&(t=!0);var c={};if(!i.validate(e,u,c,[]))throw(l=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.")).errors=l,l;var l,d={version:c.version.charCodeAt(0),safeContents:[],getBags:function(e){var t,n={};return"localKeyId"in e?t=e.localKeyId:"localKeyIdHex"in e&&(t=r.util.hexToBytes(e.localKeyIdHex)),void 0===t&&!("friendlyName"in e)&&"bagType"in e&&(n[e.bagType]=p(d.safeContents,null,null,e.bagType)),void 0!==t&&(n.localKeyId=p(d.safeContents,"localKeyId",t,e.bagType)),"friendlyName"in e&&(n.friendlyName=p(d.safeContents,"friendlyName",e.friendlyName,e.bagType)),n},getBagsByFriendlyName:function(e,t){return p(d.safeContents,"friendlyName",e,t)},getBagsByLocalKeyId:function(e,t){return p(d.safeContents,"localKeyId",e,t)}};if(3!==c.version.charCodeAt(0))throw(l=new Error("PKCS#12 PFX of version other than 3 not supported.")).version=c.version.charCodeAt(0),l;if(i.derToOid(c.contentType)!==a.oids.data)throw(l=new Error("Only PKCS#12 PFX in password integrity mode supported.")).oid=i.derToOid(c.contentType),l;var v=c.content.value[0];if(v.tagClass!==i.Class.UNIVERSAL||v.type!==i.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(v=f(v),c.mac){var g=null,y=0,b=i.derToOid(c.macAlgorithm);switch(b){case a.oids.sha1:g=r.md.sha1.create(),y=20;break;case a.oids.sha256:g=r.md.sha256.create(),y=32;break;case a.oids.sha384:g=r.md.sha384.create(),y=48;break;case a.oids.sha512:g=r.md.sha512.create(),y=64;break;case a.oids.md5:g=r.md.md5.create(),y=16}if(null===g)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+b);var w=new r.util.ByteBuffer(c.macSalt),D="macIterations"in c?parseInt(r.util.bytesToHex(c.macIterations),16):1,A=o.generateKey(n,w,3,D,y,g),E=r.hmac.create();if(E.start(g,A),E.update(v.value),E.getMac().getBytes()!==c.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return function(e,t,n,r){if(t=i.fromDer(t,n),t.tagClass!==i.Class.UNIVERSAL||t.type!==i.Type.SEQUENCE||!0!==t.constructed)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var o=0;o<t.value.length;o++){var u=t.value[o],c={},l=[];if(!i.validate(u,s,c,l))throw(g=new Error("Cannot read ContentInfo.")).errors=l,g;var d={encrypted:!1},p=null,v=c.content.value[0];switch(i.derToOid(c.contentType)){case a.oids.data:if(v.tagClass!==i.Class.UNIVERSAL||v.type!==i.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");p=f(v).value;break;case a.oids.encryptedData:p=h(v,r),d.encrypted=!0;break;default:var g;throw(g=new Error("Unsupported PKCS#12 contentType.")).contentType=i.derToOid(c.contentType),g}d.safeBags=m(p,n,r),e.safeContents.push(d)}}(d,v.value,t,n),d},o.toPkcs12Asn1=function(e,t,n,s){(s=s||{}).saltSize=s.saltSize||8,s.count=s.count||2048,s.algorithm=s.algorithm||s.encAlgorithm||"aes128","useMac"in s||(s.useMac=!0),"localKeyId"in s||(s.localKeyId=null),"generateLocalKeyId"in s||(s.generateLocalKeyId=!0);var u,c=s.localKeyId;if(null!==c)c=r.util.hexToBytes(c);else if(s.generateLocalKeyId)if(t){var l=r.util.isArray(t)?t[0]:t;"string"==typeof l&&(l=a.certificateFromPem(l)),(x=r.md.sha1.create()).update(i.toDer(a.certificateToAsn1(l)).getBytes()),c=x.digest().getBytes()}else c=r.random.getBytes(20);var d=[];null!==c&&d.push(i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(a.oids.localKeyId).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,c)])])),"friendlyName"in s&&d.push(i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(a.oids.friendlyName).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[i.create(i.Class.UNIVERSAL,i.Type.BMPSTRING,!1,s.friendlyName)])])),d.length>0&&(u=i.create(i.Class.UNIVERSAL,i.Type.SET,!0,d));var p=[],f=[];null!==t&&(f=r.util.isArray(t)?t:[t]);for(var h=[],m=0;m<f.length;++m){"string"==typeof(t=f[m])&&(t=a.certificateFromPem(t));var v=0===m?u:void 0,g=a.certificateToAsn1(t),y=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(a.oids.certBag).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(a.oids.x509Certificate).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,i.toDer(g).getBytes())])])]),v]);h.push(y)}if(h.length>0){var b=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,h),w=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(a.oids.data).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,i.toDer(b).getBytes())])]);p.push(w)}var D=null;if(null!==e){var A=a.wrapRsaPrivateKey(a.privateKeyToAsn1(e));D=null===n?i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(a.oids.keyBag).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[A]),u]):i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(a.oids.pkcs8ShroudedKeyBag).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[a.encryptPrivateKeyInfo(A,n,s)]),u]);var E=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[D]),k=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(a.oids.data).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,i.toDer(E).getBytes())])]);p.push(k)}var C,_=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,p);if(s.useMac){var x=r.md.sha1.create(),S=new r.util.ByteBuffer(r.random.getBytes(s.saltSize)),T=s.count,F=(e=o.generateKey(n,S,3,T,20),r.hmac.create());F.start(x,e),F.update(i.toDer(_).getBytes());var O=F.getMac();C=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(a.oids.sha1).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")]),i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,O.getBytes())]),i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,S.getBytes()),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(T).getBytes())])}return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(3).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(a.oids.data).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,i.toDer(_).getBytes())])]),C])},o.generateKey=r.pbe.generatePkcs12Key},32223:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AudioPresets:()=>ma,BackupCodecPolicy:()=>ha,BaseKeyProvider:()=>Fi,CheckStatus:()=>fu,Checker:()=>hu,ConnectionCheck:()=>ku,ConnectionError:()=>Ui,ConnectionErrorReason:()=>Ii,ConnectionQuality:()=>au,ConnectionState:()=>lu,CriticalTimers:()=>ia,CryptorError:()=>Qi,CryptorErrorReason:()=>Ri,CryptorEvent:()=>fi,DataPacket_Kind:()=>ft,DefaultReconnectPolicy:()=>Qn,DeviceUnsupportedError:()=>zi,DisconnectReason:()=>Xe,EncryptionEvent:()=>pi,EngineEvent:()=>Li,ExternalE2EEKeyProvider:()=>Oi,KeyHandlerEvent:()=>di,KeyProviderEvent:()=>li,LivekitError:()=>Pi,LocalAudioTrack:()=>ys,LocalParticipant:()=>su,LocalTrack:()=>gs,LocalTrackPublication:()=>eu,LocalVideoTrack:()=>Fs,LogLevel:()=>Ln,LoggerNames:()=>jn,MediaDeviceFailure:()=>Bi,Mutex:()=>s,NegotiationError:()=>Wi,Participant:()=>ou,ParticipantEvent:()=>Mi,ParticipantKind:()=>ot,PublishDataError:()=>Ki,PublishTrackError:()=>$i,RemoteAudioTrack:()=>Gs,RemoteParticipant:()=>cu,RemoteTrack:()=>$s,RemoteTrackPublication:()=>uu,RemoteVideoTrack:()=>Qs,Room:()=>du,RoomEvent:()=>Ni,RpcError:()=>ps,ScreenSharePresets:()=>ya,SignalRequestError:()=>Gi,SubscriptionError:()=>Je,Track:()=>sa,TrackEvent:()=>ji,TrackInvalidError:()=>Vi,TrackPublication:()=>Js,TrackType:()=>Ke,UnexpectedConnectionState:()=>Hi,UnsupportedServer:()=>qi,VideoPreset:()=>la,VideoPresets:()=>va,VideoPresets43:()=>ga,VideoQuality:()=>oa,attachToElement:()=>ua,compareVersions:()=>Ua,createAudioAnalyser:()=>Ja,createE2EEKey:()=>Ei,createKeyMaterialFromBuffer:()=>wi,createKeyMaterialFromString:()=>bi,createLocalAudioTrack:()=>ru,createLocalScreenTracks:()=>iu,createLocalTracks:()=>tu,createLocalVideoTrack:()=>nu,deriveKeys:()=>Ai,detachTrack:()=>ca,facingModeFromDeviceLabel:()=>Su,facingModeFromLocalTrack:()=>Cu,getBrowser:()=>Zi,getEmptyAudioStreamTrack:()=>Xa,getEmptyVideoStreamTrack:()=>Qa,getLogger:()=>qn,importKey:()=>yi,isAudioTrack:()=>oo,isBackupCodec:()=>fa,isBrowserSupported:()=>Ta,isE2EESupported:()=>hi,isInsertableStreamSupported:()=>vi,isLocalParticipant:()=>ho,isLocalTrack:()=>ao,isRemoteParticipant:()=>mo,isRemoteTrack:()=>lo,isScriptTransformSupported:()=>mi,isVideoFrame:()=>gi,isVideoTrack:()=>so,needsRbspUnescaping:()=>Ci,parseRbsp:()=>_i,protocolVersion:()=>ra,ratchet:()=>ki,setLogExtension:()=>Wn,setLogLevel:()=>Hn,supportsAV1:()=>Ca,supportsAdaptiveStream:()=>Ea,supportsDynacast:()=>ka,supportsVP9:()=>_a,version:()=>na,videoCodecs:()=>pa,writeRbsp:()=>Ti});var r=n(8498);function i(e,t){return t.forEach((function(t){t&&"string"!=typeof t&&!Array.isArray(t)&&Object.keys(t).forEach((function(n){if("default"!==n&&!(n in e)){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})}}))})),Object.freeze(e)}var a=Object.defineProperty,o=(e,t,n)=>((e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class s{constructor(){o(this,"_locking"),o(this,"_locks"),this._locking=Promise.resolve(),this._locks=0}isLocked(){return this._locks>0}lock(){let e;this._locks+=1;const t=new Promise((t=>e=()=>{this._locks-=1,t()})),n=this._locking.then((()=>e));return this._locking=this._locking.then((()=>t)),n}}function u(e,t){if(!e)throw new Error(t)}function c(e){if("number"!=typeof e)throw new Error("invalid int 32: "+typeof e);if(!Number.isInteger(e)||e>2147483647||e<-2147483648)throw new Error("invalid int 32: "+e)}function l(e){if("number"!=typeof e)throw new Error("invalid uint 32: "+typeof e);if(!Number.isInteger(e)||e>4294967295||e<0)throw new Error("invalid uint 32: "+e)}function d(e){if("number"!=typeof e)throw new Error("invalid float 32: "+typeof e);if(Number.isFinite(e)&&(e>34028234663852886e22||e<-34028234663852886e22))throw new Error("invalid float 32: "+e)}const p=Symbol("@bufbuild/protobuf/enum-type");function f(e){const t=e[p];return u(t,"missing enum type on enum object"),t}function h(e,t,n,r){e[p]=m(t,n.map((t=>({no:t.no,name:t.name,localName:e[t.no]}))))}function m(e,t,n){const r=Object.create(null),i=Object.create(null),a=[];for(const e of t){const t=g(e);a.push(t),r[e.name]=t,i[e.no]=t}return{typeName:e,values:a,findName:e=>r[e],findNumber:e=>i[e]}}function v(e,t,n){const r={};for(const e of t){const t=g(e);r[t.localName]=t.no,r[t.no]=t.localName}return h(r,e,t),r}function g(e){return"localName"in e?e:Object.assign(Object.assign({},e),{localName:e.name})}class y{equals(e){return this.getType().runtime.util.equals(this.getType(),this,e)}clone(){return this.getType().runtime.util.clone(this)}fromBinary(e,t){const n=this.getType().runtime.bin,r=n.makeReadOptions(t);return n.readMessage(this,r.readerFactory(e),e.byteLength,r),this}fromJson(e,t){const n=this.getType(),r=n.runtime.json,i=r.makeReadOptions(t);return r.readMessage(n,e,i,this),this}fromJsonString(e,t){let n;try{n=JSON.parse(e)}catch(e){throw new Error("cannot decode ".concat(this.getType().typeName," from JSON: ").concat(e instanceof Error?e.message:String(e)))}return this.fromJson(n,t)}toBinary(e){const t=this.getType().runtime.bin,n=t.makeWriteOptions(e),r=n.writerFactory();return t.writeMessage(this,r,n),r.finish()}toJson(e){const t=this.getType().runtime.json,n=t.makeWriteOptions(e);return t.writeMessage(this,n)}toJsonString(e){var t;const n=this.toJson(e);return JSON.stringify(n,null,null!==(t=null==e?void 0:e.prettySpaces)&&void 0!==t?t:0)}toJSON(){return this.toJson({emitDefaultValues:!0})}getType(){return Object.getPrototypeOf(this).constructor}}function b(){let e=0,t=0;for(let n=0;n<28;n+=7){let r=this.buf[this.pos++];if(e|=(127&r)<<n,!(128&r))return this.assertBounds(),[e,t]}let n=this.buf[this.pos++];if(e|=(15&n)<<28,t=(112&n)>>4,!(128&n))return this.assertBounds(),[e,t];for(let n=3;n<=31;n+=7){let r=this.buf[this.pos++];if(t|=(127&r)<<n,!(128&r))return this.assertBounds(),[e,t]}throw new Error("invalid varint")}function w(e,t,n){for(let r=0;r<28;r+=7){const i=e>>>r,a=!(i>>>7==0&&0==t),o=255&(a?128|i:i);if(n.push(o),!a)return}const r=e>>>28&15|(7&t)<<4,i=!!(t>>3);if(n.push(255&(i?128|r:r)),i){for(let e=3;e<31;e+=7){const r=t>>>e,i=!(r>>>7==0),a=255&(i?128|r:r);if(n.push(a),!i)return}n.push(t>>>31&1)}}const D=4294967296;function A(e){const t="-"===e[0];t&&(e=e.slice(1));const n=1e6;let r=0,i=0;function a(t,a){const o=Number(e.slice(t,a));i*=n,r=r*n+o,r>=D&&(i+=r/D|0,r%=D)}return a(-24,-18),a(-18,-12),a(-12,-6),a(-6),t?C(r,i):k(r,i)}function E(e,t){if(({lo:e,hi:t}=function(e,t){return{lo:e>>>0,hi:t>>>0}}(e,t)),t<=2097151)return String(D*t+e);const n=16777215&(e>>>24|t<<8),r=t>>16&65535;let i=(16777215&e)+6777216*n+6710656*r,a=n+8147497*r,o=2*r;const s=1e7;return i>=s&&(a+=Math.floor(i/s),i%=s),a>=s&&(o+=Math.floor(a/s),a%=s),o.toString()+_(a)+_(i)}function k(e,t){return{lo:0|e,hi:0|t}}function C(e,t){return t=~t,e?e=1+~e:t+=1,k(e,t)}const _=e=>{const t=String(e);return"0000000".slice(t.length)+t};function x(e,t){if(e>=0){for(;e>127;)t.push(127&e|128),e>>>=7;t.push(e)}else{for(let n=0;n<9;n++)t.push(127&e|128),e>>=7;t.push(1)}}function S(){let e=this.buf[this.pos++],t=127&e;if(!(128&e))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(127&e)<<7,!(128&e))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(127&e)<<14,!(128&e))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(127&e)<<21,!(128&e))return this.assertBounds(),t;e=this.buf[this.pos++],t|=(15&e)<<28;for(let t=5;128&e&&t<10;t++)e=this.buf[this.pos++];if(128&e)throw new Error("invalid varint");return this.assertBounds(),t>>>0}const T=function(){const e=new DataView(new ArrayBuffer(8));if("function"==typeof BigInt&&"function"==typeof e.getBigInt64&&"function"==typeof e.getBigUint64&&"function"==typeof e.setBigInt64&&"function"==typeof e.setBigUint64&&("object"!=typeof r||"object"!=typeof r.env||"1"!==r.env.BUF_BIGINT_DISABLE)){const t=BigInt("-9223372036854775808"),n=BigInt("9223372036854775807"),r=BigInt("0"),i=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(e){const r="bigint"==typeof e?e:BigInt(e);if(r>n||r<t)throw new Error("int64 invalid: ".concat(e));return r},uParse(e){const t="bigint"==typeof e?e:BigInt(e);if(t>i||t<r)throw new Error("uint64 invalid: ".concat(e));return t},enc(t){return e.setBigInt64(0,this.parse(t),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},uEnc(t){return e.setBigInt64(0,this.uParse(t),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},dec:(t,n)=>(e.setInt32(0,t,!0),e.setInt32(4,n,!0),e.getBigInt64(0,!0)),uDec:(t,n)=>(e.setInt32(0,t,!0),e.setInt32(4,n,!0),e.getBigUint64(0,!0))}}const t=e=>u(/^-?[0-9]+$/.test(e),"int64 invalid: ".concat(e)),n=e=>u(/^[0-9]+$/.test(e),"uint64 invalid: ".concat(e));return{zero:"0",supported:!1,parse:e=>("string"!=typeof e&&(e=e.toString()),t(e),e),uParse:e=>("string"!=typeof e&&(e=e.toString()),n(e),e),enc:e=>("string"!=typeof e&&(e=e.toString()),t(e),A(e)),uEnc:e=>("string"!=typeof e&&(e=e.toString()),n(e),A(e)),dec:(e,t)=>function(e,t){let n=k(e,t);const r=2147483648&n.hi;r&&(n=C(n.lo,n.hi));const i=E(n.lo,n.hi);return r?"-"+i:i}(e,t),uDec:(e,t)=>E(e,t)}}();var F,O,P;function I(e,t,n){if(t===n)return!0;if(e==F.BYTES){if(!(t instanceof Uint8Array&&n instanceof Uint8Array))return!1;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e]!==n[e])return!1;return!0}switch(e){case F.UINT64:case F.FIXED64:case F.INT64:case F.SFIXED64:case F.SINT64:return t==n}return!1}function B(e,t){switch(e){case F.BOOL:return!1;case F.UINT64:case F.FIXED64:case F.INT64:case F.SFIXED64:case F.SINT64:return 0==t?T.zero:"0";case F.DOUBLE:case F.FLOAT:return 0;case F.BYTES:return new Uint8Array(0);case F.STRING:return"";default:return 0}}function R(e,t){switch(e){case F.BOOL:return!1===t;case F.STRING:return""===t;case F.BYTES:return t instanceof Uint8Array&&!t.byteLength;default:return 0==t}}!function(e){e[e.DOUBLE=1]="DOUBLE",e[e.FLOAT=2]="FLOAT",e[e.INT64=3]="INT64",e[e.UINT64=4]="UINT64",e[e.INT32=5]="INT32",e[e.FIXED64=6]="FIXED64",e[e.FIXED32=7]="FIXED32",e[e.BOOL=8]="BOOL",e[e.STRING=9]="STRING",e[e.BYTES=12]="BYTES",e[e.UINT32=13]="UINT32",e[e.SFIXED32=15]="SFIXED32",e[e.SFIXED64=16]="SFIXED64",e[e.SINT32=17]="SINT32",e[e.SINT64=18]="SINT64"}(F||(F={})),function(e){e[e.BIGINT=0]="BIGINT",e[e.STRING=1]="STRING"}(O||(O={})),function(e){e[e.Varint=0]="Varint",e[e.Bit64=1]="Bit64",e[e.LengthDelimited=2]="LengthDelimited",e[e.StartGroup=3]="StartGroup",e[e.EndGroup=4]="EndGroup",e[e.Bit32=5]="Bit32"}(P||(P={}));class N{constructor(e){this.stack=[],this.textEncoder=null!=e?e:new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let e=0;for(let t=0;t<this.chunks.length;t++)e+=this.chunks[t].length;let t=new Uint8Array(e),n=0;for(let e=0;e<this.chunks.length;e++)t.set(this.chunks[e],n),n+=this.chunks[e].length;return this.chunks=[],t}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),t=this.stack.pop();if(!t)throw new Error("invalid state, fork stack empty");return this.chunks=t.chunks,this.buf=t.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,t){return this.uint32((e<<3|t)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(l(e);e>127;)this.buf.push(127&e|128),e>>>=7;return this.buf.push(e),this}int32(e){return c(e),x(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let t=this.textEncoder.encode(e);return this.uint32(t.byteLength),this.raw(t)}float(e){d(e);let t=new Uint8Array(4);return new DataView(t.buffer).setFloat32(0,e,!0),this.raw(t)}double(e){let t=new Uint8Array(8);return new DataView(t.buffer).setFloat64(0,e,!0),this.raw(t)}fixed32(e){l(e);let t=new Uint8Array(4);return new DataView(t.buffer).setUint32(0,e,!0),this.raw(t)}sfixed32(e){c(e);let t=new Uint8Array(4);return new DataView(t.buffer).setInt32(0,e,!0),this.raw(t)}sint32(e){return c(e),x(e=(e<<1^e>>31)>>>0,this.buf),this}sfixed64(e){let t=new Uint8Array(8),n=new DataView(t.buffer),r=T.enc(e);return n.setInt32(0,r.lo,!0),n.setInt32(4,r.hi,!0),this.raw(t)}fixed64(e){let t=new Uint8Array(8),n=new DataView(t.buffer),r=T.uEnc(e);return n.setInt32(0,r.lo,!0),n.setInt32(4,r.hi,!0),this.raw(t)}int64(e){let t=T.enc(e);return w(t.lo,t.hi,this.buf),this}sint64(e){let t=T.enc(e),n=t.hi>>31;return w(t.lo<<1^n,(t.hi<<1|t.lo>>>31)^n,this.buf),this}uint64(e){let t=T.uEnc(e);return w(t.lo,t.hi,this.buf),this}}class M{constructor(e,t){this.varint64=b,this.uint32=S,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength),this.textDecoder=null!=t?t:new TextDecoder}tag(){let e=this.uint32(),t=e>>>3,n=7&e;if(t<=0||n<0||n>5)throw new Error("illegal tag: field no "+t+" wire type "+n);return[t,n]}skip(e,t){let n=this.pos;switch(e){case P.Varint:for(;128&this.buf[this.pos++];);break;case P.Bit64:this.pos+=4;case P.Bit32:this.pos+=4;break;case P.LengthDelimited:let n=this.uint32();this.pos+=n;break;case P.StartGroup:for(;;){const[e,n]=this.tag();if(n===P.EndGroup){if(void 0!==t&&e!==t)throw new Error("invalid end group tag");break}this.skip(n,e)}break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(n,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return 0|this.uint32()}sint32(){let e=this.uint32();return e>>>1^-(1&e)}int64(){return T.dec(...this.varint64())}uint64(){return T.uDec(...this.varint64())}sint64(){let[e,t]=this.varint64(),n=-(1&e);return e=(e>>>1|(1&t)<<31)^n,t=t>>>1^n,T.dec(e,t)}bool(){let[e,t]=this.varint64();return 0!==e||0!==t}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return T.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return T.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),t=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(t,t+e)}string(){return this.textDecoder.decode(this.bytes())}}function L(e){const t=e.field.localName,n=Object.create(null);return n[t]=function(e){const t=e.field;if(t.repeated)return[];if(void 0!==t.default)return t.default;switch(t.kind){case"enum":return t.T.values[0].no;case"scalar":return B(t.T,t.L);case"message":const e=t.T,n=new e;return e.fieldWrapper?e.fieldWrapper.unwrapField(n):n;case"map":throw"map fields are not allowed to be extensions"}}(e),[n,()=>n[t]]}let j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),U=[];for(let e=0;e<j.length;e++)U[j[e].charCodeAt(0)]=e;U["-".charCodeAt(0)]=j.indexOf("+"),U["_".charCodeAt(0)]=j.indexOf("/");const z={dec(e){let t=3*e.length/4;"="==e[e.length-2]?t-=2:"="==e[e.length-1]&&(t-=1);let n,r=new Uint8Array(t),i=0,a=0,o=0;for(let t=0;t<e.length;t++){if(n=U[e.charCodeAt(t)],void 0===n)switch(e[t]){case"=":a=0;case"\n":case"\r":case"\t":case" ":continue;default:throw Error("invalid base64 string.")}switch(a){case 0:o=n,a=1;break;case 1:r[i++]=o<<2|(48&n)>>4,o=n,a=2;break;case 2:r[i++]=(15&o)<<4|(60&n)>>2,o=n,a=3;break;case 3:r[i++]=(3&o)<<6|n,a=0}}if(1==a)throw Error("invalid base64 string.");return r.subarray(0,i)},enc(e){let t,n="",r=0,i=0;for(let a=0;a<e.length;a++)switch(t=e[a],r){case 0:n+=j[t>>2],i=(3&t)<<4,r=1;break;case 1:n+=j[i|t>>4],i=(15&t)<<2,r=2;break;case 2:n+=j[i|t>>6],n+=j[63&t],r=0}return r&&(n+=j[i],n+="=",1==r&&(n+="=")),n}};function V(e,t,n){W(t,e);const r=t.runtime.bin.makeReadOptions(n),i=function(e,t){if(!t.repeated&&("enum"==t.kind||"scalar"==t.kind)){for(let n=e.length-1;n>=0;--n)if(e[n].no==t.no)return[e[n]];return[]}return e.filter((e=>e.no===t.no))}(e.getType().runtime.bin.listUnknownFields(e),t.field),[a,o]=L(t);for(const e of i)t.runtime.bin.readField(a,r.readerFactory(e.data),t.field,e.wireType,r);return o()}function q(e,t,n,r){W(t,e);const i=t.runtime.bin.makeReadOptions(r),a=t.runtime.bin.makeWriteOptions(r);if(H(e,t)){const n=e.getType().runtime.bin.listUnknownFields(e).filter((e=>e.no!=t.field.no));e.getType().runtime.bin.discardUnknownFields(e);for(const t of n)e.getType().runtime.bin.onUnknownField(e,t.no,t.wireType,t.data)}const o=a.writerFactory();let s=t.field;s.opt||s.repeated||"enum"!=s.kind&&"scalar"!=s.kind||(s=Object.assign(Object.assign({},t.field),{opt:!0})),t.runtime.bin.writeField(s,n,o,a);const u=i.readerFactory(o.finish());for(;u.pos<u.len;){const[t,n]=u.tag(),r=u.skip(n,t);e.getType().runtime.bin.onUnknownField(e,t,n,r)}}function H(e,t){const n=e.getType();return t.extendee.typeName===n.typeName&&!!n.runtime.bin.listUnknownFields(e).find((e=>e.no==t.field.no))}function W(e,t){u(e.extendee.typeName==t.getType().typeName,"extension ".concat(e.typeName," can only be applied to message ").concat(e.extendee.typeName))}function K(e,t){const n=e.localName;if(e.repeated)return t[n].length>0;if(e.oneof)return t[e.oneof.localName].case===n;switch(e.kind){case"enum":case"scalar":return e.opt||e.req?void 0!==t[n]:"enum"==e.kind?t[n]!==e.T.values[0].no:!R(e.T,t[n]);case"message":return void 0!==t[n];case"map":return Object.keys(t[n]).length>0}}function $(e,t){const n=e.localName,r=!e.opt&&!e.req;if(e.repeated)t[n]=[];else if(e.oneof)t[e.oneof.localName]={case:void 0};else switch(e.kind){case"map":t[n]={};break;case"enum":t[n]=r?e.T.values[0].no:void 0;break;case"scalar":t[n]=r?B(e.T,e.L):void 0;break;case"message":t[n]=void 0}}function G(e,t){if(null===e||"object"!=typeof e)return!1;if(!Object.getOwnPropertyNames(y.prototype).every((t=>t in e&&"function"==typeof e[t])))return!1;const n=e.getType();return null!==n&&"function"==typeof n&&"typeName"in n&&"string"==typeof n.typeName&&(void 0===t||n.typeName==t.typeName)}function Q(e,t){return G(t)||!e.fieldWrapper?t:e.fieldWrapper.wrapField(t)}F.DOUBLE,F.FLOAT,F.INT64,F.UINT64,F.INT32,F.UINT32,F.BOOL,F.STRING,F.BYTES;const Y={ignoreUnknownFields:!1},X={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0};function Z(e){return e?Object.assign(Object.assign({},Y),e):Y}function J(e){return e?Object.assign(Object.assign({},X),e):X}const ee=Symbol(),te=Symbol();function ne(e){if(null===e)return"null";switch(typeof e){case"object":return Array.isArray(e)?"array":"object";case"string":return e.length>100?"string":'"'.concat(e.split('"').join('\\"'),'"');default:return String(e)}}function re(e,t,n,r,i){let a=n.localName;if(n.repeated){if(u("map"!=n.kind),null===t)return;if(!Array.isArray(t))throw new Error("cannot decode field ".concat(i.typeName,".").concat(n.name," from JSON: ").concat(ne(t)));const o=e[a];for(const e of t){if(null===e)throw new Error("cannot decode field ".concat(i.typeName,".").concat(n.name," from JSON: ").concat(ne(e)));switch(n.kind){case"message":o.push(n.T.fromJson(e,r));break;case"enum":const t=oe(n.T,e,r.ignoreUnknownFields,!0);t!==te&&o.push(t);break;case"scalar":try{o.push(ae(n.T,e,n.L,!0))}catch(t){let r="cannot decode field ".concat(i.typeName,".").concat(n.name," from JSON: ").concat(ne(e));throw t instanceof Error&&t.message.length>0&&(r+=": ".concat(t.message)),new Error(r)}}}}else if("map"==n.kind){if(null===t)return;if("object"!=typeof t||Array.isArray(t))throw new Error("cannot decode field ".concat(i.typeName,".").concat(n.name," from JSON: ").concat(ne(t)));const o=e[a];for(const[e,a]of Object.entries(t)){if(null===a)throw new Error("cannot decode field ".concat(i.typeName,".").concat(n.name," from JSON: map value null"));let s;try{s=ie(n.K,e)}catch(e){let r="cannot decode map key for field ".concat(i.typeName,".").concat(n.name," from JSON: ").concat(ne(t));throw e instanceof Error&&e.message.length>0&&(r+=": ".concat(e.message)),new Error(r)}switch(n.V.kind){case"message":o[s]=n.V.T.fromJson(a,r);break;case"enum":const e=oe(n.V.T,a,r.ignoreUnknownFields,!0);e!==te&&(o[s]=e);break;case"scalar":try{o[s]=ae(n.V.T,a,O.BIGINT,!0)}catch(e){let r="cannot decode map value for field ".concat(i.typeName,".").concat(n.name," from JSON: ").concat(ne(t));throw e instanceof Error&&e.message.length>0&&(r+=": ".concat(e.message)),new Error(r)}}}}else switch(n.oneof&&(e=e[n.oneof.localName]={case:a},a="value"),n.kind){case"message":const o=n.T;if(null===t&&"google.protobuf.Value"!=o.typeName)return;let s=e[a];G(s)?s.fromJson(t,r):(e[a]=s=o.fromJson(t,r),o.fieldWrapper&&!n.oneof&&(e[a]=o.fieldWrapper.unwrapField(s)));break;case"enum":const u=oe(n.T,t,r.ignoreUnknownFields,!1);switch(u){case ee:$(n,e);break;case te:break;default:e[a]=u}break;case"scalar":try{const r=ae(n.T,t,n.L,!1);if(r===ee)$(n,e);else e[a]=r}catch(e){let r="cannot decode field ".concat(i.typeName,".").concat(n.name," from JSON: ").concat(ne(t));throw e instanceof Error&&e.message.length>0&&(r+=": ".concat(e.message)),new Error(r)}}}function ie(e,t){if(e===F.BOOL)switch(t){case"true":t=!0;break;case"false":t=!1}return ae(e,t,O.BIGINT,!0).toString()}function ae(e,t,n,r){if(null===t)return r?B(e,n):ee;switch(e){case F.DOUBLE:case F.FLOAT:if("NaN"===t)return Number.NaN;if("Infinity"===t)return Number.POSITIVE_INFINITY;if("-Infinity"===t)return Number.NEGATIVE_INFINITY;if(""===t)break;if("string"==typeof t&&t.trim().length!==t.length)break;if("string"!=typeof t&&"number"!=typeof t)break;const r=Number(t);if(Number.isNaN(r))break;if(!Number.isFinite(r))break;return e==F.FLOAT&&d(r),r;case F.INT32:case F.FIXED32:case F.SFIXED32:case F.SINT32:case F.UINT32:let i;if("number"==typeof t?i=t:"string"==typeof t&&t.length>0&&t.trim().length===t.length&&(i=Number(t)),void 0===i)break;return e==F.UINT32||e==F.FIXED32?l(i):c(i),i;case F.INT64:case F.SFIXED64:case F.SINT64:if("number"!=typeof t&&"string"!=typeof t)break;const a=T.parse(t);return n?a.toString():a;case F.FIXED64:case F.UINT64:if("number"!=typeof t&&"string"!=typeof t)break;const o=T.uParse(t);return n?o.toString():o;case F.BOOL:if("boolean"!=typeof t)break;return t;case F.STRING:if("string"!=typeof t)break;try{encodeURIComponent(t)}catch(e){throw new Error("invalid UTF8")}return t;case F.BYTES:if(""===t)return new Uint8Array(0);if("string"!=typeof t)break;return z.dec(t)}throw new Error}function oe(e,t,n,r){if(null===t)return"google.protobuf.NullValue"==e.typeName?0:r?e.values[0].no:ee;switch(typeof t){case"number":if(Number.isInteger(t))return t;break;case"string":const r=e.findName(t);if(void 0!==r)return r.no;if(n)return te}throw new Error("cannot decode enum ".concat(e.typeName," from JSON: ").concat(ne(t)))}function se(e){return!(!e.repeated&&"map"!=e.kind)||!e.oneof&&("message"!=e.kind&&(!e.opt&&!e.req))}function ue(e,t,n){if("map"==e.kind){u("object"==typeof t&&null!=t);const r={},i=Object.entries(t);switch(e.V.kind){case"scalar":for(const[t,n]of i)r[t.toString()]=le(e.V.T,n);break;case"message":for(const[e,t]of i)r[e.toString()]=t.toJson(n);break;case"enum":const t=e.V.T;for(const[e,a]of i)r[e.toString()]=ce(t,a,n.enumAsInteger)}return n.emitDefaultValues||i.length>0?r:void 0}if(e.repeated){u(Array.isArray(t));const r=[];switch(e.kind){case"scalar":for(let n=0;n<t.length;n++)r.push(le(e.T,t[n]));break;case"enum":for(let i=0;i<t.length;i++)r.push(ce(e.T,t[i],n.enumAsInteger));break;case"message":for(let e=0;e<t.length;e++)r.push(t[e].toJson(n))}return n.emitDefaultValues||r.length>0?r:void 0}switch(e.kind){case"scalar":return le(e.T,t);case"enum":return ce(e.T,t,n.enumAsInteger);case"message":return Q(e.T,t).toJson(n)}}function ce(e,t,n){var r;if(u("number"==typeof t),"google.protobuf.NullValue"==e.typeName)return null;if(n)return t;const i=e.findNumber(t);return null!==(r=null==i?void 0:i.name)&&void 0!==r?r:t}function le(e,t){switch(e){case F.INT32:case F.SFIXED32:case F.SINT32:case F.FIXED32:case F.UINT32:return u("number"==typeof t),t;case F.FLOAT:case F.DOUBLE:return u("number"==typeof t),Number.isNaN(t)?"NaN":t===Number.POSITIVE_INFINITY?"Infinity":t===Number.NEGATIVE_INFINITY?"-Infinity":t;case F.STRING:return u("string"==typeof t),t;case F.BOOL:return u("boolean"==typeof t),t;case F.UINT64:case F.FIXED64:case F.INT64:case F.SFIXED64:case F.SINT64:return u("bigint"==typeof t||"string"==typeof t||"number"==typeof t),t.toString();case F.BYTES:return u(t instanceof Uint8Array),z.enc(t)}}const de=Symbol("@bufbuild/protobuf/unknown-fields"),pe={readUnknownFields:!0,readerFactory:e=>new M(e)},fe={writeUnknownFields:!0,writerFactory:()=>new N};function he(e){return e?Object.assign(Object.assign({},pe),e):pe}function me(e){return e?Object.assign(Object.assign({},fe),e):fe}function ve(e,t,n,r,i){let{repeated:a,localName:o}=n;switch(n.oneof&&((e=e[n.oneof.localName]).case!=o&&delete e.value,e.case=o,o="value"),n.kind){case"scalar":case"enum":const s="enum"==n.kind?F.INT32:n.T;let u=be;if("scalar"==n.kind&&n.L>0&&(u=ye),a){let n=e[o];if(r==P.LengthDelimited&&s!=F.STRING&&s!=F.BYTES){let e=t.uint32()+t.pos;for(;t.pos<e;)n.push(u(t,s))}else n.push(u(t,s))}else e[o]=u(t,s);break;case"message":const c=n.T;a?e[o].push(ge(t,new c,i,n)):G(e[o])?ge(t,e[o],i,n):(e[o]=ge(t,new c,i,n),!c.fieldWrapper||n.oneof||n.repeated||(e[o]=c.fieldWrapper.unwrapField(e[o])));break;case"map":let[l,d]=function(e,t,n){const r=t.uint32(),i=t.pos+r;let a,o;for(;t.pos<i;){const[r]=t.tag();switch(r){case 1:a=be(t,e.K);break;case 2:switch(e.V.kind){case"scalar":o=be(t,e.V.T);break;case"enum":o=t.int32();break;case"message":o=ge(t,new e.V.T,n,void 0)}}}void 0===a&&(a=B(e.K,O.BIGINT));"string"!=typeof a&&"number"!=typeof a&&(a=a.toString());if(void 0===o)switch(e.V.kind){case"scalar":o=B(e.V.T,O.BIGINT);break;case"enum":o=e.V.T.values[0].no;break;case"message":o=new e.V.T}return[a,o]}(n,t,i);e[o][l]=d}}function ge(e,t,n,r){const i=t.getType().runtime.bin,a=null==r?void 0:r.delimited;return i.readMessage(t,e,a?r.no:e.uint32(),n,a),t}function ye(e,t){const n=be(e,t);return"bigint"==typeof n?n.toString():n}function be(e,t){switch(t){case F.STRING:return e.string();case F.BOOL:return e.bool();case F.DOUBLE:return e.double();case F.FLOAT:return e.float();case F.INT32:return e.int32();case F.INT64:return e.int64();case F.UINT64:return e.uint64();case F.FIXED64:return e.fixed64();case F.BYTES:return e.bytes();case F.FIXED32:return e.fixed32();case F.SFIXED32:return e.sfixed32();case F.SFIXED64:return e.sfixed64();case F.SINT64:return e.sint64();case F.UINT32:return e.uint32();case F.SINT32:return e.sint32()}}function we(e,t,n,r){u(void 0!==t);const i=e.repeated;switch(e.kind){case"scalar":case"enum":let a="enum"==e.kind?F.INT32:e.T;if(i)if(u(Array.isArray(t)),e.packed)!function(e,t,n,r){if(!r.length)return;e.tag(n,P.LengthDelimited).fork();let[,i]=ke(t);for(let t=0;t<r.length;t++)e[i](r[t]);e.join()}(n,a,e.no,t);else for(const r of t)Ee(n,a,e.no,r);else Ee(n,a,e.no,t);break;case"message":if(i){u(Array.isArray(t));for(const i of t)Ae(n,r,e,i)}else Ae(n,r,e,t);break;case"map":u("object"==typeof t&&null!=t);for(const[i,a]of Object.entries(t))De(n,r,e,i,a)}}function De(e,t,n,r,i){e.tag(n.no,P.LengthDelimited),e.fork();let a=r;switch(n.K){case F.INT32:case F.FIXED32:case F.UINT32:case F.SFIXED32:case F.SINT32:a=Number.parseInt(r);break;case F.BOOL:u("true"==r||"false"==r),a="true"==r}switch(Ee(e,n.K,1,a),n.V.kind){case"scalar":Ee(e,n.V.T,2,i);break;case"enum":Ee(e,F.INT32,2,i);break;case"message":u(void 0!==i),e.tag(2,P.LengthDelimited).bytes(i.toBinary(t))}e.join()}function Ae(e,t,n,r){const i=Q(n.T,r);n.delimited?e.tag(n.no,P.StartGroup).raw(i.toBinary(t)).tag(n.no,P.EndGroup):e.tag(n.no,P.LengthDelimited).bytes(i.toBinary(t))}function Ee(e,t,n,r){u(void 0!==r);let[i,a]=ke(t);e.tag(n,i)[a](r)}function ke(e){let t=P.Varint;switch(e){case F.BYTES:case F.STRING:t=P.LengthDelimited;break;case F.DOUBLE:case F.FIXED64:case F.SFIXED64:t=P.Bit64;break;case F.FIXED32:case F.SFIXED32:case F.FLOAT:t=P.Bit32}return[t,F[e].toLowerCase()]}function Ce(e){if(void 0===e)return e;if(G(e))return e.clone();if(e instanceof Uint8Array){const t=new Uint8Array(e.byteLength);return t.set(e),t}return e}function _e(e){return e instanceof Uint8Array?e:new Uint8Array(e)}class xe{constructor(e,t){this._fields=e,this._normalizer=t}findJsonName(e){if(!this.jsonNames){const e={};for(const t of this.list())e[t.jsonName]=e[t.name]=t;this.jsonNames=e}return this.jsonNames[e]}find(e){if(!this.numbers){const e={};for(const t of this.list())e[t.no]=t;this.numbers=e}return this.numbers[e]}list(){return this.all||(this.all=this._normalizer(this._fields)),this.all}byNumber(){return this.numbersAsc||(this.numbersAsc=this.list().concat().sort(((e,t)=>e.no-t.no))),this.numbersAsc}byMember(){if(!this.members){this.members=[];const e=this.members;let t;for(const n of this.list())n.oneof?n.oneof!==t&&(t=n.oneof,e.push(t)):e.push(n)}return this.members}}function Se(e,t){const n=Fe(e);return t?n:Re(Be(n))}const Te=Fe;function Fe(e){let t=!1;const n=[];for(let r=0;r<e.length;r++){let i=e.charAt(r);switch(i){case"_":t=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n.push(i),t=!1;break;default:t&&(t=!1,i=i.toUpperCase()),n.push(i)}}return n.join("")}const Oe=new Set(["constructor","toString","toJSON","valueOf"]),Pe=new Set(["getType","clone","equals","fromBinary","fromJson","fromJsonString","toBinary","toJson","toJsonString","toObject"]),Ie=e=>"".concat(e,"$"),Be=e=>Pe.has(e)?Ie(e):e,Re=e=>Oe.has(e)?Ie(e):e;class Ne{constructor(e){this.kind="oneof",this.repeated=!1,this.packed=!1,this.opt=!1,this.req=!1,this.default=void 0,this.fields=[],this.name=e,this.localName=Se(e,!1)}addField(e){u(e.oneof===this,"field ".concat(e.name," not one of ").concat(this.name)),this.fields.push(e)}findField(e){if(!this._lookup){this._lookup=Object.create(null);for(let e=0;e<this.fields.length;e++)this._lookup[this.fields[e].localName]=this.fields[e]}return this._lookup[e]}}const Me=(Le=e=>new xe(e,(e=>function(e){var t,n,r,i,a,o;const s=[];let u;for(const c of"function"==typeof e?e():e){const e=c;if(e.localName=Se(c.name,void 0!==c.oneof),e.jsonName=null!==(t=c.jsonName)&&void 0!==t?t:Te(c.name),e.repeated=null!==(n=c.repeated)&&void 0!==n&&n,"scalar"==c.kind&&(e.L=null!==(r=c.L)&&void 0!==r?r:O.BIGINT),e.delimited=null!==(i=c.delimited)&&void 0!==i&&i,e.req=null!==(a=c.req)&&void 0!==a&&a,e.opt=null!==(o=c.opt)&&void 0!==o&&o,void 0===c.packed&&(e.packed="enum"==c.kind||"scalar"==c.kind&&c.T!=F.BYTES&&c.T!=F.STRING),void 0!==c.oneof){const t="string"==typeof c.oneof?c.oneof:c.oneof.name;u&&u.name==t||(u=new Ne(t)),e.oneof=u,u.addField(e)}s.push(e)}return s}(e))),je=e=>{for(const t of e.getType().fields.byMember()){if(t.opt)continue;const n=t.localName,r=e;if(t.repeated)r[n]=[];else switch(t.kind){case"oneof":r[n]={case:void 0};break;case"enum":r[n]=0;break;case"map":r[n]={};break;case"scalar":r[n]=B(t.T,t.L)}}},{syntax:"proto3",json:{makeReadOptions:Z,makeWriteOptions:J,readMessage(e,t,n,r){if(null==t||Array.isArray(t)||"object"!=typeof t)throw new Error("cannot decode message ".concat(e.typeName," from JSON: ").concat(ne(t)));r=null!=r?r:new e;const i=new Map,a=n.typeRegistry;for(const[o,s]of Object.entries(t)){const t=e.fields.findJsonName(o);if(t){if(t.oneof){if(null===s&&"scalar"==t.kind)continue;const n=i.get(t.oneof);if(void 0!==n)throw new Error("cannot decode message ".concat(e.typeName,' from JSON: multiple keys for oneof "').concat(t.oneof.name,'" present: "').concat(n,'", "').concat(o,'"'));i.set(t.oneof,o)}re(r,s,t,n,e)}else{let t=!1;if((null==a?void 0:a.findExtension)&&o.startsWith("[")&&o.endsWith("]")){const i=a.findExtension(o.substring(1,o.length-1));if(i&&i.extendee.typeName==e.typeName){t=!0;const[e,a]=L(i);re(e,s,i.field,n,i),q(r,i,a(),n)}}if(!t&&!n.ignoreUnknownFields)throw new Error("cannot decode message ".concat(e.typeName,' from JSON: key "').concat(o,'" is unknown'))}}return r},writeMessage(e,t){const n=e.getType(),r={};let i;try{for(i of n.fields.byNumber()){if(!K(i,e)){if(i.req)throw"required field not set";if(!t.emitDefaultValues)continue;if(!se(i))continue}const n=ue(i,i.oneof?e[i.oneof.localName].value:e[i.localName],t);void 0!==n&&(r[t.useProtoFieldName?i.name:i.jsonName]=n)}const a=t.typeRegistry;if(null==a?void 0:a.findExtensionFor)for(const i of n.runtime.bin.listUnknownFields(e)){const o=a.findExtensionFor(n.typeName,i.no);if(o&&H(e,o)){const n=V(e,o,t),i=ue(o.field,n,t);void 0!==i&&(r[o.field.jsonName]=i)}}}catch(e){const t=i?"cannot encode field ".concat(n.typeName,".").concat(i.name," to JSON"):"cannot encode message ".concat(n.typeName," to JSON"),r=e instanceof Error?e.message:String(e);throw new Error(t+(r.length>0?": ".concat(r):""))}return r},readScalar:(e,t,n)=>ae(e,t,null!=n?n:O.BIGINT,!0),writeScalar(e,t,n){if(void 0!==t)return n||R(e,t)?le(e,t):void 0},debug:ne},bin:{makeReadOptions:he,makeWriteOptions:me,listUnknownFields(e){var t;return null!==(t=e[de])&&void 0!==t?t:[]},discardUnknownFields(e){delete e[de]},writeUnknownFields(e,t){const n=e[de];if(n)for(const e of n)t.tag(e.no,e.wireType).raw(e.data)},onUnknownField(e,t,n,r){const i=e;Array.isArray(i[de])||(i[de]=[]),i[de].push({no:t,wireType:n,data:r})},readMessage(e,t,n,r,i){const a=e.getType(),o=i?t.len:t.pos+n;let s,u;for(;t.pos<o&&([s,u]=t.tag(),!0!==i||u!=P.EndGroup);){const n=a.fields.find(s);if(n)ve(e,t,n,u,r);else{const n=t.skip(u,s);r.readUnknownFields&&this.onUnknownField(e,s,u,n)}}if(i&&(u!=P.EndGroup||s!==n))throw new Error("invalid end group tag")},readField:ve,writeMessage(e,t,n){const r=e.getType();for(const i of r.fields.byNumber())if(K(i,e))we(i,i.oneof?e[i.oneof.localName].value:e[i.localName],t,n);else if(i.req)throw new Error("cannot encode field ".concat(r.typeName,".").concat(i.name," to binary: required field not set"));return n.writeUnknownFields&&this.writeUnknownFields(e,t),t},writeField(e,t,n,r){void 0!==t&&we(e,t,n,r)}},util:Object.assign(Object.assign({},{setEnumType:h,initPartial(e,t){if(void 0===e)return;const n=t.getType();for(const r of n.fields.byMember()){const n=r.localName,i=t,a=e;if(null!=a[n])switch(r.kind){case"oneof":const e=a[n].case;if(void 0===e)continue;const t=r.findField(e);let o=a[n].value;t&&"message"==t.kind&&!G(o,t.T)?o=new t.T(o):t&&"scalar"===t.kind&&t.T===F.BYTES&&(o=_e(o)),i[n]={case:e,value:o};break;case"scalar":case"enum":let s=a[n];r.T===F.BYTES&&(s=r.repeated?s.map(_e):_e(s)),i[n]=s;break;case"map":switch(r.V.kind){case"scalar":case"enum":if(r.V.T===F.BYTES)for(const[e,t]of Object.entries(a[n]))i[n][e]=_e(t);else Object.assign(i[n],a[n]);break;case"message":const e=r.V.T;for(const t of Object.keys(a[n])){let r=a[n][t];e.fieldWrapper||(r=new e(r)),i[n][t]=r}}break;case"message":const u=r.T;if(r.repeated)i[n]=a[n].map((e=>G(e,u)?e:new u(e)));else{const e=a[n];u.fieldWrapper?"google.protobuf.BytesValue"===u.typeName?i[n]=_e(e):i[n]=e:i[n]=G(e,u)?e:new u(e)}}}},equals:(e,t,n)=>t===n||!(!t||!n)&&e.fields.byMember().every((e=>{const r=t[e.localName],i=n[e.localName];if(e.repeated){if(r.length!==i.length)return!1;switch(e.kind){case"message":return r.every(((t,n)=>e.T.equals(t,i[n])));case"scalar":return r.every(((t,n)=>I(e.T,t,i[n])));case"enum":return r.every(((e,t)=>I(F.INT32,e,i[t])))}throw new Error("repeated cannot contain ".concat(e.kind))}switch(e.kind){case"message":return e.T.equals(r,i);case"enum":return I(F.INT32,r,i);case"scalar":return I(e.T,r,i);case"oneof":if(r.case!==i.case)return!1;const t=e.findField(r.case);if(void 0===t)return!0;switch(t.kind){case"message":return t.T.equals(r.value,i.value);case"enum":return I(F.INT32,r.value,i.value);case"scalar":return I(t.T,r.value,i.value)}throw new Error("oneof cannot contain ".concat(t.kind));case"map":const n=Object.keys(r).concat(Object.keys(i));switch(e.V.kind){case"message":const t=e.V.T;return n.every((e=>t.equals(r[e],i[e])));case"enum":return n.every((e=>I(F.INT32,r[e],i[e])));case"scalar":const a=e.V.T;return n.every((e=>I(a,r[e],i[e])))}}})),clone(e){const t=e.getType(),n=new t,r=n;for(const n of t.fields.byMember()){const t=e[n.localName];let i;if(n.repeated)i=t.map(Ce);else if("map"==n.kind){i=r[n.localName];for(const[e,n]of Object.entries(t))i[e]=Ce(n)}else i="oneof"==n.kind?n.findField(t.case)?{case:t.case,value:Ce(t.value)}:{case:void 0}:Ce(t);r[n.localName]=i}for(const n of t.runtime.bin.listUnknownFields(e))t.runtime.bin.onUnknownField(r,n.no,n.wireType,n.data);return n}}),{newFieldList:Le,initFields:je}),makeMessageType(e,t,n){return function(e,t,n,r){var i;const a=null!==(i=null==r?void 0:r.localName)&&void 0!==i?i:t.substring(t.lastIndexOf(".")+1),o={[a]:function(t){e.util.initFields(this),e.util.initPartial(t,this)}}[a];return Object.setPrototypeOf(o.prototype,new y),Object.assign(o,{runtime:e,typeName:t,fields:e.util.newFieldList(n),fromBinary:(e,t)=>(new o).fromBinary(e,t),fromJson:(e,t)=>(new o).fromJson(e,t),fromJsonString:(e,t)=>(new o).fromJsonString(e,t),equals:(t,n)=>e.util.equals(o,t,n)}),o}(this,e,t,n)},makeEnum:v,makeEnumType:m,getEnumType:f,makeExtension(e,t,n){return function(e,t,n,r){let i;return{typeName:t,extendee:n,get field(){if(!i){const n="function"==typeof r?r():r;n.name=t.split(".").pop(),n.jsonName="[".concat(t,"]"),i=e.util.newFieldList([n]).list()[0]}return i},runtime:e}}(this,e,t,n)}});var Le,je;class Ue extends y{constructor(e){super(),this.seconds=T.zero,this.nanos=0,Me.util.initPartial(e,this)}fromJson(e,t){if("string"!=typeof e)throw new Error("cannot decode google.protobuf.Timestamp from JSON: ".concat(Me.json.debug(e)));const n=e.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:Z|\.([0-9]{3,9})Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!n)throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");const r=Date.parse(n[1]+"-"+n[2]+"-"+n[3]+"T"+n[4]+":"+n[5]+":"+n[6]+(n[8]?n[8]:"Z"));if(Number.isNaN(r))throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");if(r<Date.parse("0001-01-01T00:00:00Z")||r>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot decode message google.protobuf.Timestamp from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");return this.seconds=T.parse(r/1e3),this.nanos=0,n[7]&&(this.nanos=parseInt("1"+n[7]+"0".repeat(9-n[7].length))-1e9),this}toJson(e){const t=1e3*Number(this.seconds);if(t<Date.parse("0001-01-01T00:00:00Z")||t>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot encode google.protobuf.Timestamp to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");if(this.nanos<0)throw new Error("cannot encode google.protobuf.Timestamp to JSON: nanos must not be negative");let n="Z";if(this.nanos>0){const e=(this.nanos+1e9).toString().substring(1);n="000000"===e.substring(3)?"."+e.substring(0,3)+"Z":"000"===e.substring(6)?"."+e.substring(0,6)+"Z":"."+e+"Z"}return new Date(t).toISOString().replace(".000Z",n)}toDate(){return new Date(1e3*Number(this.seconds)+Math.ceil(this.nanos/1e6))}static now(){return Ue.fromDate(new Date)}static fromDate(e){const t=e.getTime();return new Ue({seconds:T.parse(Math.floor(t/1e3)),nanos:t%1e3*1e6})}static fromBinary(e,t){return(new Ue).fromBinary(e,t)}static fromJson(e,t){return(new Ue).fromJson(e,t)}static fromJsonString(e,t){return(new Ue).fromJsonString(e,t)}static equals(e,t){return Me.util.equals(Ue,e,t)}}Ue.runtime=Me,Ue.typeName="google.protobuf.Timestamp",Ue.fields=Me.util.newFieldList((()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]));const ze=Me.makeMessageType("livekit.MetricsBatch",(()=>[{no:1,name:"timestamp_ms",kind:"scalar",T:3},{no:2,name:"normalized_timestamp",kind:"message",T:Ue},{no:3,name:"str_data",kind:"scalar",T:9,repeated:!0},{no:4,name:"time_series",kind:"message",T:Ve,repeated:!0},{no:5,name:"events",kind:"message",T:He,repeated:!0}])),Ve=Me.makeMessageType("livekit.TimeSeriesMetric",(()=>[{no:1,name:"label",kind:"scalar",T:13},{no:2,name:"participant_identity",kind:"scalar",T:13},{no:3,name:"track_sid",kind:"scalar",T:13},{no:4,name:"samples",kind:"message",T:qe,repeated:!0},{no:5,name:"rid",kind:"scalar",T:13}])),qe=Me.makeMessageType("livekit.MetricSample",(()=>[{no:1,name:"timestamp_ms",kind:"scalar",T:3},{no:2,name:"normalized_timestamp",kind:"message",T:Ue},{no:3,name:"value",kind:"scalar",T:2}])),He=Me.makeMessageType("livekit.EventMetric",(()=>[{no:1,name:"label",kind:"scalar",T:13},{no:2,name:"participant_identity",kind:"scalar",T:13},{no:3,name:"track_sid",kind:"scalar",T:13},{no:4,name:"start_timestamp_ms",kind:"scalar",T:3},{no:5,name:"end_timestamp_ms",kind:"scalar",T:3,opt:!0},{no:6,name:"normalized_start_timestamp",kind:"message",T:Ue},{no:7,name:"normalized_end_timestamp",kind:"message",T:Ue,opt:!0},{no:8,name:"metadata",kind:"scalar",T:9},{no:9,name:"rid",kind:"scalar",T:13}])),We=Me.makeEnum("livekit.BackupCodecPolicy",[{no:0,name:"PREFER_REGRESSION"},{no:1,name:"SIMULCAST"},{no:2,name:"REGRESSION"}]),Ke=Me.makeEnum("livekit.TrackType",[{no:0,name:"AUDIO"},{no:1,name:"VIDEO"},{no:2,name:"DATA"}]),$e=Me.makeEnum("livekit.TrackSource",[{no:0,name:"UNKNOWN"},{no:1,name:"CAMERA"},{no:2,name:"MICROPHONE"},{no:3,name:"SCREEN_SHARE"},{no:4,name:"SCREEN_SHARE_AUDIO"}]),Ge=Me.makeEnum("livekit.VideoQuality",[{no:0,name:"LOW"},{no:1,name:"MEDIUM"},{no:2,name:"HIGH"},{no:3,name:"OFF"}]),Qe=Me.makeEnum("livekit.ConnectionQuality",[{no:0,name:"POOR"},{no:1,name:"GOOD"},{no:2,name:"EXCELLENT"},{no:3,name:"LOST"}]),Ye=Me.makeEnum("livekit.ClientConfigSetting",[{no:0,name:"UNSET"},{no:1,name:"DISABLED"},{no:2,name:"ENABLED"}]),Xe=Me.makeEnum("livekit.DisconnectReason",[{no:0,name:"UNKNOWN_REASON"},{no:1,name:"CLIENT_INITIATED"},{no:2,name:"DUPLICATE_IDENTITY"},{no:3,name:"SERVER_SHUTDOWN"},{no:4,name:"PARTICIPANT_REMOVED"},{no:5,name:"ROOM_DELETED"},{no:6,name:"STATE_MISMATCH"},{no:7,name:"JOIN_FAILURE"},{no:8,name:"MIGRATION"},{no:9,name:"SIGNAL_CLOSE"},{no:10,name:"ROOM_CLOSED"},{no:11,name:"USER_UNAVAILABLE"},{no:12,name:"USER_REJECTED"},{no:13,name:"SIP_TRUNK_FAILURE"}]),Ze=Me.makeEnum("livekit.ReconnectReason",[{no:0,name:"RR_UNKNOWN"},{no:1,name:"RR_SIGNAL_DISCONNECTED"},{no:2,name:"RR_PUBLISHER_FAILED"},{no:3,name:"RR_SUBSCRIBER_FAILED"},{no:4,name:"RR_SWITCH_CANDIDATE"}]),Je=Me.makeEnum("livekit.SubscriptionError",[{no:0,name:"SE_UNKNOWN"},{no:1,name:"SE_CODEC_UNSUPPORTED"},{no:2,name:"SE_TRACK_NOTFOUND"}]),et=Me.makeEnum("livekit.AudioTrackFeature",[{no:0,name:"TF_STEREO"},{no:1,name:"TF_NO_DTX"},{no:2,name:"TF_AUTO_GAIN_CONTROL"},{no:3,name:"TF_ECHO_CANCELLATION"},{no:4,name:"TF_NOISE_SUPPRESSION"},{no:5,name:"TF_ENHANCED_NOISE_CANCELLATION"}]),tt=Me.makeMessageType("livekit.Room",(()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"empty_timeout",kind:"scalar",T:13},{no:14,name:"departure_timeout",kind:"scalar",T:13},{no:4,name:"max_participants",kind:"scalar",T:13},{no:5,name:"creation_time",kind:"scalar",T:3},{no:15,name:"creation_time_ms",kind:"scalar",T:3},{no:6,name:"turn_password",kind:"scalar",T:9},{no:7,name:"enabled_codecs",kind:"message",T:nt,repeated:!0},{no:8,name:"metadata",kind:"scalar",T:9},{no:9,name:"num_participants",kind:"scalar",T:13},{no:11,name:"num_publishers",kind:"scalar",T:13},{no:10,name:"active_recording",kind:"scalar",T:8},{no:13,name:"version",kind:"message",T:It}])),nt=Me.makeMessageType("livekit.Codec",(()=>[{no:1,name:"mime",kind:"scalar",T:9},{no:2,name:"fmtp_line",kind:"scalar",T:9}])),rt=Me.makeMessageType("livekit.ParticipantPermission",(()=>[{no:1,name:"can_subscribe",kind:"scalar",T:8},{no:2,name:"can_publish",kind:"scalar",T:8},{no:3,name:"can_publish_data",kind:"scalar",T:8},{no:9,name:"can_publish_sources",kind:"enum",T:Me.getEnumType($e),repeated:!0},{no:7,name:"hidden",kind:"scalar",T:8},{no:8,name:"recorder",kind:"scalar",T:8},{no:10,name:"can_update_metadata",kind:"scalar",T:8},{no:11,name:"agent",kind:"scalar",T:8},{no:12,name:"can_subscribe_metrics",kind:"scalar",T:8}])),it=Me.makeMessageType("livekit.ParticipantInfo",(()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"identity",kind:"scalar",T:9},{no:3,name:"state",kind:"enum",T:Me.getEnumType(at)},{no:4,name:"tracks",kind:"message",T:lt,repeated:!0},{no:5,name:"metadata",kind:"scalar",T:9},{no:6,name:"joined_at",kind:"scalar",T:3},{no:17,name:"joined_at_ms",kind:"scalar",T:3},{no:9,name:"name",kind:"scalar",T:9},{no:10,name:"version",kind:"scalar",T:13},{no:11,name:"permission",kind:"message",T:rt},{no:12,name:"region",kind:"scalar",T:9},{no:13,name:"is_publisher",kind:"scalar",T:8},{no:14,name:"kind",kind:"enum",T:Me.getEnumType(ot)},{no:15,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:16,name:"disconnect_reason",kind:"enum",T:Me.getEnumType(Xe)},{no:18,name:"kind_details",kind:"enum",T:Me.getEnumType(st),repeated:!0}])),at=Me.makeEnum("livekit.ParticipantInfo.State",[{no:0,name:"JOINING"},{no:1,name:"JOINED"},{no:2,name:"ACTIVE"},{no:3,name:"DISCONNECTED"}]),ot=Me.makeEnum("livekit.ParticipantInfo.Kind",[{no:0,name:"STANDARD"},{no:1,name:"INGRESS"},{no:2,name:"EGRESS"},{no:3,name:"SIP"},{no:4,name:"AGENT"}]),st=Me.makeEnum("livekit.ParticipantInfo.KindDetail",[{no:0,name:"CLOUD_AGENT"},{no:1,name:"FORWARDED"}]),ut=Me.makeEnum("livekit.Encryption.Type",[{no:0,name:"NONE"},{no:1,name:"GCM"},{no:2,name:"CUSTOM"}]),ct=Me.makeMessageType("livekit.SimulcastCodecInfo",(()=>[{no:1,name:"mime_type",kind:"scalar",T:9},{no:2,name:"mid",kind:"scalar",T:9},{no:3,name:"cid",kind:"scalar",T:9},{no:4,name:"layers",kind:"message",T:dt,repeated:!0}])),lt=Me.makeMessageType("livekit.TrackInfo",(()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"type",kind:"enum",T:Me.getEnumType(Ke)},{no:3,name:"name",kind:"scalar",T:9},{no:4,name:"muted",kind:"scalar",T:8},{no:5,name:"width",kind:"scalar",T:13},{no:6,name:"height",kind:"scalar",T:13},{no:7,name:"simulcast",kind:"scalar",T:8},{no:8,name:"disable_dtx",kind:"scalar",T:8},{no:9,name:"source",kind:"enum",T:Me.getEnumType($e)},{no:10,name:"layers",kind:"message",T:dt,repeated:!0},{no:11,name:"mime_type",kind:"scalar",T:9},{no:12,name:"mid",kind:"scalar",T:9},{no:13,name:"codecs",kind:"message",T:ct,repeated:!0},{no:14,name:"stereo",kind:"scalar",T:8},{no:15,name:"disable_red",kind:"scalar",T:8},{no:16,name:"encryption",kind:"enum",T:Me.getEnumType(ut)},{no:17,name:"stream",kind:"scalar",T:9},{no:18,name:"version",kind:"message",T:It},{no:19,name:"audio_features",kind:"enum",T:Me.getEnumType(et),repeated:!0},{no:20,name:"backup_codec_policy",kind:"enum",T:Me.getEnumType(We)}])),dt=Me.makeMessageType("livekit.VideoLayer",(()=>[{no:1,name:"quality",kind:"enum",T:Me.getEnumType(Ge)},{no:2,name:"width",kind:"scalar",T:13},{no:3,name:"height",kind:"scalar",T:13},{no:4,name:"bitrate",kind:"scalar",T:13},{no:5,name:"ssrc",kind:"scalar",T:13}])),pt=Me.makeMessageType("livekit.DataPacket",(()=>[{no:1,name:"kind",kind:"enum",T:Me.getEnumType(ft)},{no:4,name:"participant_identity",kind:"scalar",T:9},{no:5,name:"destination_identities",kind:"scalar",T:9,repeated:!0},{no:2,name:"user",kind:"message",T:vt,oneof:"value"},{no:3,name:"speaker",kind:"message",T:ht,oneof:"value"},{no:6,name:"sip_dtmf",kind:"message",T:gt,oneof:"value"},{no:7,name:"transcription",kind:"message",T:yt,oneof:"value"},{no:8,name:"metrics",kind:"message",T:ze,oneof:"value"},{no:9,name:"chat_message",kind:"message",T:wt,oneof:"value"},{no:10,name:"rpc_request",kind:"message",T:Dt,oneof:"value"},{no:11,name:"rpc_ack",kind:"message",T:At,oneof:"value"},{no:12,name:"rpc_response",kind:"message",T:Et,oneof:"value"},{no:13,name:"stream_header",kind:"message",T:Mt,oneof:"value"},{no:14,name:"stream_chunk",kind:"message",T:Lt,oneof:"value"},{no:15,name:"stream_trailer",kind:"message",T:jt,oneof:"value"}])),ft=Me.makeEnum("livekit.DataPacket.Kind",[{no:0,name:"RELIABLE"},{no:1,name:"LOSSY"}]),ht=Me.makeMessageType("livekit.ActiveSpeakerUpdate",(()=>[{no:1,name:"speakers",kind:"message",T:mt,repeated:!0}])),mt=Me.makeMessageType("livekit.SpeakerInfo",(()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"level",kind:"scalar",T:2},{no:3,name:"active",kind:"scalar",T:8}])),vt=Me.makeMessageType("livekit.UserPacket",(()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:5,name:"participant_identity",kind:"scalar",T:9},{no:2,name:"payload",kind:"scalar",T:12},{no:3,name:"destination_sids",kind:"scalar",T:9,repeated:!0},{no:6,name:"destination_identities",kind:"scalar",T:9,repeated:!0},{no:4,name:"topic",kind:"scalar",T:9,opt:!0},{no:8,name:"id",kind:"scalar",T:9,opt:!0},{no:9,name:"start_time",kind:"scalar",T:4,opt:!0},{no:10,name:"end_time",kind:"scalar",T:4,opt:!0},{no:11,name:"nonce",kind:"scalar",T:12}])),gt=Me.makeMessageType("livekit.SipDTMF",(()=>[{no:3,name:"code",kind:"scalar",T:13},{no:4,name:"digit",kind:"scalar",T:9}])),yt=Me.makeMessageType("livekit.Transcription",(()=>[{no:2,name:"transcribed_participant_identity",kind:"scalar",T:9},{no:3,name:"track_id",kind:"scalar",T:9},{no:4,name:"segments",kind:"message",T:bt,repeated:!0}])),bt=Me.makeMessageType("livekit.TranscriptionSegment",(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"text",kind:"scalar",T:9},{no:3,name:"start_time",kind:"scalar",T:4},{no:4,name:"end_time",kind:"scalar",T:4},{no:5,name:"final",kind:"scalar",T:8},{no:6,name:"language",kind:"scalar",T:9}])),wt=Me.makeMessageType("livekit.ChatMessage",(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"timestamp",kind:"scalar",T:3},{no:3,name:"edit_timestamp",kind:"scalar",T:3,opt:!0},{no:4,name:"message",kind:"scalar",T:9},{no:5,name:"deleted",kind:"scalar",T:8},{no:6,name:"generated",kind:"scalar",T:8}])),Dt=Me.makeMessageType("livekit.RpcRequest",(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"method",kind:"scalar",T:9},{no:3,name:"payload",kind:"scalar",T:9},{no:4,name:"response_timeout_ms",kind:"scalar",T:13},{no:5,name:"version",kind:"scalar",T:13}])),At=Me.makeMessageType("livekit.RpcAck",(()=>[{no:1,name:"request_id",kind:"scalar",T:9}])),Et=Me.makeMessageType("livekit.RpcResponse",(()=>[{no:1,name:"request_id",kind:"scalar",T:9},{no:2,name:"payload",kind:"scalar",T:9,oneof:"value"},{no:3,name:"error",kind:"message",T:kt,oneof:"value"}])),kt=Me.makeMessageType("livekit.RpcError",(()=>[{no:1,name:"code",kind:"scalar",T:13},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"data",kind:"scalar",T:9}])),Ct=Me.makeMessageType("livekit.ParticipantTracks",(()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"track_sids",kind:"scalar",T:9,repeated:!0}])),_t=Me.makeMessageType("livekit.ServerInfo",(()=>[{no:1,name:"edition",kind:"enum",T:Me.getEnumType(xt)},{no:2,name:"version",kind:"scalar",T:9},{no:3,name:"protocol",kind:"scalar",T:5},{no:4,name:"region",kind:"scalar",T:9},{no:5,name:"node_id",kind:"scalar",T:9},{no:6,name:"debug_info",kind:"scalar",T:9},{no:7,name:"agent_protocol",kind:"scalar",T:5}])),xt=Me.makeEnum("livekit.ServerInfo.Edition",[{no:0,name:"Standard"},{no:1,name:"Cloud"}]),St=Me.makeMessageType("livekit.ClientInfo",(()=>[{no:1,name:"sdk",kind:"enum",T:Me.getEnumType(Tt)},{no:2,name:"version",kind:"scalar",T:9},{no:3,name:"protocol",kind:"scalar",T:5},{no:4,name:"os",kind:"scalar",T:9},{no:5,name:"os_version",kind:"scalar",T:9},{no:6,name:"device_model",kind:"scalar",T:9},{no:7,name:"browser",kind:"scalar",T:9},{no:8,name:"browser_version",kind:"scalar",T:9},{no:9,name:"address",kind:"scalar",T:9},{no:10,name:"network",kind:"scalar",T:9},{no:11,name:"other_sdks",kind:"scalar",T:9}])),Tt=Me.makeEnum("livekit.ClientInfo.SDK",[{no:0,name:"UNKNOWN"},{no:1,name:"JS"},{no:2,name:"SWIFT"},{no:3,name:"ANDROID"},{no:4,name:"FLUTTER"},{no:5,name:"GO"},{no:6,name:"UNITY"},{no:7,name:"REACT_NATIVE"},{no:8,name:"RUST"},{no:9,name:"PYTHON"},{no:10,name:"CPP"},{no:11,name:"UNITY_WEB"},{no:12,name:"NODE"}]),Ft=Me.makeMessageType("livekit.ClientConfiguration",(()=>[{no:1,name:"video",kind:"message",T:Ot},{no:2,name:"screen",kind:"message",T:Ot},{no:3,name:"resume_connection",kind:"enum",T:Me.getEnumType(Ye)},{no:4,name:"disabled_codecs",kind:"message",T:Pt},{no:5,name:"force_relay",kind:"enum",T:Me.getEnumType(Ye)}])),Ot=Me.makeMessageType("livekit.VideoConfiguration",(()=>[{no:1,name:"hardware_encoder",kind:"enum",T:Me.getEnumType(Ye)}])),Pt=Me.makeMessageType("livekit.DisabledCodecs",(()=>[{no:1,name:"codecs",kind:"message",T:nt,repeated:!0},{no:2,name:"publish",kind:"message",T:nt,repeated:!0}])),It=Me.makeMessageType("livekit.TimedVersion",(()=>[{no:1,name:"unix_micro",kind:"scalar",T:3},{no:2,name:"ticks",kind:"scalar",T:5}])),Bt=Me.makeEnum("livekit.DataStream.OperationType",[{no:0,name:"CREATE"},{no:1,name:"UPDATE"},{no:2,name:"DELETE"},{no:3,name:"REACTION"}]),Rt=Me.makeMessageType("livekit.DataStream.TextHeader",(()=>[{no:1,name:"operation_type",kind:"enum",T:Me.getEnumType(Bt)},{no:2,name:"version",kind:"scalar",T:5},{no:3,name:"reply_to_stream_id",kind:"scalar",T:9},{no:4,name:"attached_stream_ids",kind:"scalar",T:9,repeated:!0},{no:5,name:"generated",kind:"scalar",T:8}]),{localName:"DataStream_TextHeader"}),Nt=Me.makeMessageType("livekit.DataStream.ByteHeader",(()=>[{no:1,name:"name",kind:"scalar",T:9}]),{localName:"DataStream_ByteHeader"}),Mt=Me.makeMessageType("livekit.DataStream.Header",(()=>[{no:1,name:"stream_id",kind:"scalar",T:9},{no:2,name:"timestamp",kind:"scalar",T:3},{no:3,name:"topic",kind:"scalar",T:9},{no:4,name:"mime_type",kind:"scalar",T:9},{no:5,name:"total_length",kind:"scalar",T:4,opt:!0},{no:7,name:"encryption_type",kind:"enum",T:Me.getEnumType(ut)},{no:8,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:9,name:"text_header",kind:"message",T:Rt,oneof:"content_header"},{no:10,name:"byte_header",kind:"message",T:Nt,oneof:"content_header"}]),{localName:"DataStream_Header"}),Lt=Me.makeMessageType("livekit.DataStream.Chunk",(()=>[{no:1,name:"stream_id",kind:"scalar",T:9},{no:2,name:"chunk_index",kind:"scalar",T:4},{no:3,name:"content",kind:"scalar",T:12},{no:4,name:"version",kind:"scalar",T:5},{no:5,name:"iv",kind:"scalar",T:12,opt:!0}]),{localName:"DataStream_Chunk"}),jt=Me.makeMessageType("livekit.DataStream.Trailer",(()=>[{no:1,name:"stream_id",kind:"scalar",T:9},{no:2,name:"reason",kind:"scalar",T:9},{no:3,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}}]),{localName:"DataStream_Trailer"}),Ut=Me.makeEnum("livekit.SignalTarget",[{no:0,name:"PUBLISHER"},{no:1,name:"SUBSCRIBER"}]),zt=Me.makeEnum("livekit.StreamState",[{no:0,name:"ACTIVE"},{no:1,name:"PAUSED"}]),Vt=Me.makeEnum("livekit.CandidateProtocol",[{no:0,name:"UDP"},{no:1,name:"TCP"},{no:2,name:"TLS"}]),qt=Me.makeMessageType("livekit.SignalRequest",(()=>[{no:1,name:"offer",kind:"message",T:Jt,oneof:"message"},{no:2,name:"answer",kind:"message",T:Jt,oneof:"message"},{no:3,name:"trickle",kind:"message",T:$t,oneof:"message"},{no:4,name:"add_track",kind:"message",T:Kt,oneof:"message"},{no:5,name:"mute",kind:"message",T:Gt,oneof:"message"},{no:6,name:"subscription",kind:"message",T:tn,oneof:"message"},{no:7,name:"track_setting",kind:"message",T:nn,oneof:"message"},{no:8,name:"leave",kind:"message",T:on,oneof:"message"},{no:10,name:"update_layers",kind:"message",T:un,oneof:"message"},{no:11,name:"subscription_permission",kind:"message",T:Dn,oneof:"message"},{no:12,name:"sync_state",kind:"message",T:En,oneof:"message"},{no:13,name:"simulate",kind:"message",T:Cn,oneof:"message"},{no:14,name:"ping",kind:"scalar",T:3,oneof:"message"},{no:15,name:"update_metadata",kind:"message",T:cn,oneof:"message"},{no:16,name:"ping_req",kind:"message",T:_n,oneof:"message"},{no:17,name:"update_audio_track",kind:"message",T:rn,oneof:"message"},{no:18,name:"update_video_track",kind:"message",T:an,oneof:"message"}])),Ht=Me.makeMessageType("livekit.SignalResponse",(()=>[{no:1,name:"join",kind:"message",T:Qt,oneof:"message"},{no:2,name:"answer",kind:"message",T:Jt,oneof:"message"},{no:3,name:"offer",kind:"message",T:Jt,oneof:"message"},{no:4,name:"trickle",kind:"message",T:$t,oneof:"message"},{no:5,name:"update",kind:"message",T:en,oneof:"message"},{no:6,name:"track_published",kind:"message",T:Xt,oneof:"message"},{no:8,name:"leave",kind:"message",T:on,oneof:"message"},{no:9,name:"mute",kind:"message",T:Gt,oneof:"message"},{no:10,name:"speakers_changed",kind:"message",T:dn,oneof:"message"},{no:11,name:"room_update",kind:"message",T:pn,oneof:"message"},{no:12,name:"connection_quality",kind:"message",T:hn,oneof:"message"},{no:13,name:"stream_state_update",kind:"message",T:vn,oneof:"message"},{no:14,name:"subscribed_quality_update",kind:"message",T:bn,oneof:"message"},{no:15,name:"subscription_permission_update",kind:"message",T:An,oneof:"message"},{no:16,name:"refresh_token",kind:"scalar",T:9,oneof:"message"},{no:17,name:"track_unpublished",kind:"message",T:Zt,oneof:"message"},{no:18,name:"pong",kind:"scalar",T:3,oneof:"message"},{no:19,name:"reconnect",kind:"message",T:Yt,oneof:"message"},{no:20,name:"pong_resp",kind:"message",T:xn,oneof:"message"},{no:21,name:"subscription_response",kind:"message",T:Fn,oneof:"message"},{no:22,name:"request_response",kind:"message",T:On,oneof:"message"},{no:23,name:"track_subscribed",kind:"message",T:In,oneof:"message"}])),Wt=Me.makeMessageType("livekit.SimulcastCodec",(()=>[{no:1,name:"codec",kind:"scalar",T:9},{no:2,name:"cid",kind:"scalar",T:9}])),Kt=Me.makeMessageType("livekit.AddTrackRequest",(()=>[{no:1,name:"cid",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"type",kind:"enum",T:Me.getEnumType(Ke)},{no:4,name:"width",kind:"scalar",T:13},{no:5,name:"height",kind:"scalar",T:13},{no:6,name:"muted",kind:"scalar",T:8},{no:7,name:"disable_dtx",kind:"scalar",T:8},{no:8,name:"source",kind:"enum",T:Me.getEnumType($e)},{no:9,name:"layers",kind:"message",T:dt,repeated:!0},{no:10,name:"simulcast_codecs",kind:"message",T:Wt,repeated:!0},{no:11,name:"sid",kind:"scalar",T:9},{no:12,name:"stereo",kind:"scalar",T:8},{no:13,name:"disable_red",kind:"scalar",T:8},{no:14,name:"encryption",kind:"enum",T:Me.getEnumType(ut)},{no:15,name:"stream",kind:"scalar",T:9},{no:16,name:"backup_codec_policy",kind:"enum",T:Me.getEnumType(We)}])),$t=Me.makeMessageType("livekit.TrickleRequest",(()=>[{no:1,name:"candidateInit",kind:"scalar",T:9},{no:2,name:"target",kind:"enum",T:Me.getEnumType(Ut)},{no:3,name:"final",kind:"scalar",T:8}])),Gt=Me.makeMessageType("livekit.MuteTrackRequest",(()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"muted",kind:"scalar",T:8}])),Qt=Me.makeMessageType("livekit.JoinResponse",(()=>[{no:1,name:"room",kind:"message",T:tt},{no:2,name:"participant",kind:"message",T:it},{no:3,name:"other_participants",kind:"message",T:it,repeated:!0},{no:4,name:"server_version",kind:"scalar",T:9},{no:5,name:"ice_servers",kind:"message",T:ln,repeated:!0},{no:6,name:"subscriber_primary",kind:"scalar",T:8},{no:7,name:"alternative_url",kind:"scalar",T:9},{no:8,name:"client_configuration",kind:"message",T:Ft},{no:9,name:"server_region",kind:"scalar",T:9},{no:10,name:"ping_timeout",kind:"scalar",T:5},{no:11,name:"ping_interval",kind:"scalar",T:5},{no:12,name:"server_info",kind:"message",T:_t},{no:13,name:"sif_trailer",kind:"scalar",T:12},{no:14,name:"enabled_publish_codecs",kind:"message",T:nt,repeated:!0},{no:15,name:"fast_publish",kind:"scalar",T:8}])),Yt=Me.makeMessageType("livekit.ReconnectResponse",(()=>[{no:1,name:"ice_servers",kind:"message",T:ln,repeated:!0},{no:2,name:"client_configuration",kind:"message",T:Ft}])),Xt=Me.makeMessageType("livekit.TrackPublishedResponse",(()=>[{no:1,name:"cid",kind:"scalar",T:9},{no:2,name:"track",kind:"message",T:lt}])),Zt=Me.makeMessageType("livekit.TrackUnpublishedResponse",(()=>[{no:1,name:"track_sid",kind:"scalar",T:9}])),Jt=Me.makeMessageType("livekit.SessionDescription",(()=>[{no:1,name:"type",kind:"scalar",T:9},{no:2,name:"sdp",kind:"scalar",T:9}])),en=Me.makeMessageType("livekit.ParticipantUpdate",(()=>[{no:1,name:"participants",kind:"message",T:it,repeated:!0}])),tn=Me.makeMessageType("livekit.UpdateSubscription",(()=>[{no:1,name:"track_sids",kind:"scalar",T:9,repeated:!0},{no:2,name:"subscribe",kind:"scalar",T:8},{no:3,name:"participant_tracks",kind:"message",T:Ct,repeated:!0}])),nn=Me.makeMessageType("livekit.UpdateTrackSettings",(()=>[{no:1,name:"track_sids",kind:"scalar",T:9,repeated:!0},{no:3,name:"disabled",kind:"scalar",T:8},{no:4,name:"quality",kind:"enum",T:Me.getEnumType(Ge)},{no:5,name:"width",kind:"scalar",T:13},{no:6,name:"height",kind:"scalar",T:13},{no:7,name:"fps",kind:"scalar",T:13},{no:8,name:"priority",kind:"scalar",T:13}])),rn=Me.makeMessageType("livekit.UpdateLocalAudioTrack",(()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"features",kind:"enum",T:Me.getEnumType(et),repeated:!0}])),an=Me.makeMessageType("livekit.UpdateLocalVideoTrack",(()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"width",kind:"scalar",T:13},{no:3,name:"height",kind:"scalar",T:13}])),on=Me.makeMessageType("livekit.LeaveRequest",(()=>[{no:1,name:"can_reconnect",kind:"scalar",T:8},{no:2,name:"reason",kind:"enum",T:Me.getEnumType(Xe)},{no:3,name:"action",kind:"enum",T:Me.getEnumType(sn)},{no:4,name:"regions",kind:"message",T:Sn}])),sn=Me.makeEnum("livekit.LeaveRequest.Action",[{no:0,name:"DISCONNECT"},{no:1,name:"RESUME"},{no:2,name:"RECONNECT"}]),un=Me.makeMessageType("livekit.UpdateVideoLayers",(()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"layers",kind:"message",T:dt,repeated:!0}])),cn=Me.makeMessageType("livekit.UpdateParticipantMetadata",(()=>[{no:1,name:"metadata",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:4,name:"request_id",kind:"scalar",T:13}])),ln=Me.makeMessageType("livekit.ICEServer",(()=>[{no:1,name:"urls",kind:"scalar",T:9,repeated:!0},{no:2,name:"username",kind:"scalar",T:9},{no:3,name:"credential",kind:"scalar",T:9}])),dn=Me.makeMessageType("livekit.SpeakersChanged",(()=>[{no:1,name:"speakers",kind:"message",T:mt,repeated:!0}])),pn=Me.makeMessageType("livekit.RoomUpdate",(()=>[{no:1,name:"room",kind:"message",T:tt}])),fn=Me.makeMessageType("livekit.ConnectionQualityInfo",(()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"quality",kind:"enum",T:Me.getEnumType(Qe)},{no:3,name:"score",kind:"scalar",T:2}])),hn=Me.makeMessageType("livekit.ConnectionQualityUpdate",(()=>[{no:1,name:"updates",kind:"message",T:fn,repeated:!0}])),mn=Me.makeMessageType("livekit.StreamStateInfo",(()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"track_sid",kind:"scalar",T:9},{no:3,name:"state",kind:"enum",T:Me.getEnumType(zt)}])),vn=Me.makeMessageType("livekit.StreamStateUpdate",(()=>[{no:1,name:"stream_states",kind:"message",T:mn,repeated:!0}])),gn=Me.makeMessageType("livekit.SubscribedQuality",(()=>[{no:1,name:"quality",kind:"enum",T:Me.getEnumType(Ge)},{no:2,name:"enabled",kind:"scalar",T:8}])),yn=Me.makeMessageType("livekit.SubscribedCodec",(()=>[{no:1,name:"codec",kind:"scalar",T:9},{no:2,name:"qualities",kind:"message",T:gn,repeated:!0}])),bn=Me.makeMessageType("livekit.SubscribedQualityUpdate",(()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"subscribed_qualities",kind:"message",T:gn,repeated:!0},{no:3,name:"subscribed_codecs",kind:"message",T:yn,repeated:!0}])),wn=Me.makeMessageType("livekit.TrackPermission",(()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"all_tracks",kind:"scalar",T:8},{no:3,name:"track_sids",kind:"scalar",T:9,repeated:!0},{no:4,name:"participant_identity",kind:"scalar",T:9}])),Dn=Me.makeMessageType("livekit.SubscriptionPermission",(()=>[{no:1,name:"all_participants",kind:"scalar",T:8},{no:2,name:"track_permissions",kind:"message",T:wn,repeated:!0}])),An=Me.makeMessageType("livekit.SubscriptionPermissionUpdate",(()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"track_sid",kind:"scalar",T:9},{no:3,name:"allowed",kind:"scalar",T:8}])),En=Me.makeMessageType("livekit.SyncState",(()=>[{no:1,name:"answer",kind:"message",T:Jt},{no:2,name:"subscription",kind:"message",T:tn},{no:3,name:"publish_tracks",kind:"message",T:Xt,repeated:!0},{no:4,name:"data_channels",kind:"message",T:kn,repeated:!0},{no:5,name:"offer",kind:"message",T:Jt},{no:6,name:"track_sids_disabled",kind:"scalar",T:9,repeated:!0}])),kn=Me.makeMessageType("livekit.DataChannelInfo",(()=>[{no:1,name:"label",kind:"scalar",T:9},{no:2,name:"id",kind:"scalar",T:13},{no:3,name:"target",kind:"enum",T:Me.getEnumType(Ut)}])),Cn=Me.makeMessageType("livekit.SimulateScenario",(()=>[{no:1,name:"speaker_update",kind:"scalar",T:5,oneof:"scenario"},{no:2,name:"node_failure",kind:"scalar",T:8,oneof:"scenario"},{no:3,name:"migration",kind:"scalar",T:8,oneof:"scenario"},{no:4,name:"server_leave",kind:"scalar",T:8,oneof:"scenario"},{no:5,name:"switch_candidate_protocol",kind:"enum",T:Me.getEnumType(Vt),oneof:"scenario"},{no:6,name:"subscriber_bandwidth",kind:"scalar",T:3,oneof:"scenario"},{no:7,name:"disconnect_signal_on_resume",kind:"scalar",T:8,oneof:"scenario"},{no:8,name:"disconnect_signal_on_resume_no_messages",kind:"scalar",T:8,oneof:"scenario"},{no:9,name:"leave_request_full_reconnect",kind:"scalar",T:8,oneof:"scenario"}])),_n=Me.makeMessageType("livekit.Ping",(()=>[{no:1,name:"timestamp",kind:"scalar",T:3},{no:2,name:"rtt",kind:"scalar",T:3}])),xn=Me.makeMessageType("livekit.Pong",(()=>[{no:1,name:"last_ping_timestamp",kind:"scalar",T:3},{no:2,name:"timestamp",kind:"scalar",T:3}])),Sn=Me.makeMessageType("livekit.RegionSettings",(()=>[{no:1,name:"regions",kind:"message",T:Tn,repeated:!0}])),Tn=Me.makeMessageType("livekit.RegionInfo",(()=>[{no:1,name:"region",kind:"scalar",T:9},{no:2,name:"url",kind:"scalar",T:9},{no:3,name:"distance",kind:"scalar",T:3}])),Fn=Me.makeMessageType("livekit.SubscriptionResponse",(()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"err",kind:"enum",T:Me.getEnumType(Je)}])),On=Me.makeMessageType("livekit.RequestResponse",(()=>[{no:1,name:"request_id",kind:"scalar",T:13},{no:2,name:"reason",kind:"enum",T:Me.getEnumType(Pn)},{no:3,name:"message",kind:"scalar",T:9}])),Pn=Me.makeEnum("livekit.RequestResponse.Reason",[{no:0,name:"OK"},{no:1,name:"NOT_FOUND"},{no:2,name:"NOT_ALLOWED"},{no:3,name:"LIMIT_EXCEEDED"}]),In=Me.makeMessageType("livekit.TrackSubscribed",(()=>[{no:1,name:"track_sid",kind:"scalar",T:9}]));function Bn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Rn,Nn={exports:{}},Mn=Nn.exports;var Ln,jn,Un=(Rn||(Rn=1,function(e){var t,n;t=Mn,n=function(){var e=function(){},t="undefined",n=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),r=["trace","debug","info","warn","error"],i={},a=null;function o(e,t){var n=e[t];if("function"==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(t){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function s(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function u(){for(var n=this.getLevel(),i=0;i<r.length;i++){var a=r[i];this[a]=i<n?e:this.methodFactory(a,n,this.name)}if(this.log=this.debug,typeof console===t&&n<this.levels.SILENT)return"No console available for logging"}function c(e){return function(){typeof console!==t&&(u.call(this),this[e].apply(this,arguments))}}function l(r,i,a){return function(r){return"debug"===r&&(r="log"),typeof console!==t&&("trace"===r&&n?s:void 0!==console[r]?o(console,r):void 0!==console.log?o(console,"log"):e)}(r)||c.apply(this,arguments)}function d(e,n){var o,s,c,d=this,p="loglevel";function f(){var e;if(typeof window!==t&&p){try{e=window.localStorage[p]}catch(e){}if(typeof e===t)try{var n=window.document.cookie,r=encodeURIComponent(p),i=n.indexOf(r+"=");-1!==i&&(e=/^([^;]+)/.exec(n.slice(i+r.length+1))[1])}catch(e){}return void 0===d.levels[e]&&(e=void 0),e}}function h(e){var t=e;if("string"==typeof t&&void 0!==d.levels[t.toUpperCase()]&&(t=d.levels[t.toUpperCase()]),"number"==typeof t&&t>=0&&t<=d.levels.SILENT)return t;throw new TypeError("log.setLevel() called with invalid level: "+e)}"string"==typeof e?p+=":"+e:"symbol"==typeof e&&(p=void 0),d.name=e,d.levels={"TRACE":0,"DEBUG":1,"INFO":2,"WARN":3,"ERROR":4,"SILENT":5},d.methodFactory=n||l,d.getLevel=function(){return null!=c?c:null!=s?s:o},d.setLevel=function(e,n){return c=h(e),!1!==n&&function(e){var n=(r[e]||"silent").toUpperCase();if(typeof window!==t&&p){try{return void(window.localStorage[p]=n)}catch(e){}try{window.document.cookie=encodeURIComponent(p)+"="+n+";"}catch(e){}}}(c),u.call(d)},d.setDefaultLevel=function(e){s=h(e),f()||d.setLevel(e,!1)},d.resetLevel=function(){c=null,function(){if(typeof window!==t&&p){try{window.localStorage.removeItem(p)}catch(e){}try{window.document.cookie=encodeURIComponent(p)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}}(),u.call(d)},d.enableAll=function(e){d.setLevel(d.levels.TRACE,e)},d.disableAll=function(e){d.setLevel(d.levels.SILENT,e)},d.rebuild=function(){if(a!==d&&(o=h(a.getLevel())),u.call(d),a===d)for(var e in i)i[e].rebuild()},o=h(a?a.getLevel():"WARN");var m=f();null!=m&&(c=h(m)),u.call(d)}(a=new d).getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=i[e];return t||(t=i[e]=new d(e,a.methodFactory)),t};var p=typeof window!==t?window.log:void 0;return a.noConflict=function(){return typeof window!==t&&window.log===a&&(window.log=p),a},a.getLoggers=function(){return i},a.default=a,a},e.exports?e.exports=n():t.log=n()}(Nn)),Nn.exports);!function(e){e[e.trace=0]="trace",e[e.debug=1]="debug",e[e.info=2]="info",e[e.warn=3]="warn",e[e.error=4]="error",e[e.silent=5]="silent"}(Ln||(Ln={})),function(e){e.Default="livekit",e.Room="livekit-room",e.Participant="livekit-participant",e.Track="livekit-track",e.Publication="livekit-track-publication",e.Engine="livekit-engine",e.Signal="livekit-signal",e.PCManager="livekit-pc-manager",e.PCTransport="livekit-pc-transport",e.E2EE="lk-e2ee"}(jn||(jn={}));let zn=Un.getLogger("livekit");const Vn=Object.values(jn).map((e=>Un.getLogger(e)));function qn(e){const t=Un.getLogger(e);return t.setDefaultLevel(zn.getLevel()),t}function Hn(e,t){if(t)Un.getLogger(t).setLevel(e);else for(const t of Vn)t.setLevel(e)}function Wn(e,t){(t?[t]:Vn).forEach((t=>{const n=t.methodFactory;t.methodFactory=(t,r,i)=>{const a=n(t,r,i),o=Ln[t],s=o>=r&&o<Ln.silent;return(t,n)=>{n?a(t,n):a(t),s&&e(o,t,n)}},t.setLevel(t.getLevel())}))}zn.setDefaultLevel(Ln.info);const Kn=Un.getLogger("lk-e2ee"),$n=7e3,Gn=[0,300,1200,2700,4800,$n,$n,$n,$n,$n];class Qn{constructor(e){this._retryDelays=void 0!==e?[...e]:Gn}nextRetryDelayInMs(e){if(e.retryCount>=this._retryDelays.length)return null;const t=this._retryDelays[e.retryCount];return e.retryCount<=1?t:t+1e3*Math.random()}}function Yn(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))}function Xn(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Zn(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=Xn(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}"function"==typeof SuppressedError&&SuppressedError;var Jn,er={exports:{}};var tr=function(){if(Jn)return er.exports;Jn=1;var e,t="object"==typeof Reflect?Reflect:null,n=t&&"function"==typeof t.apply?t.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};e=t&&"function"==typeof t.ownKeys?t.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var r=Number.isNaN||function(e){return e!=e};function i(){i.init.call(this)}er.exports=i,er.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,a),r(n)}function a(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}h(e,t,a,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&h(e,"error",t,n)}(e,i,{once:!0})}))},i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var a=10;function o(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function s(e){return void 0===e._maxListeners?i.defaultMaxListeners:e._maxListeners}function u(e,t,n,r){var i,a,u,c;if(o(n),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),u=a[t]),void 0===u)u=a[t]=n,++e._eventsCount;else if("function"==typeof u?u=a[t]=r?[n,u]:[u,n]:r?u.unshift(n):u.push(n),(i=s(e))>0&&u.length>i&&!u.warned){u.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+u.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=u.length,c=l,console&&console.warn&&console.warn(c)}return e}function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function l(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=c.bind(r);return i.listener=n,r.wrapFn=i,i}function d(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):f(i,i.length)}function p(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function f(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function h(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(a){r.once&&e.removeEventListener(t,i),n(a)}))}}return Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e||e<0||r(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),i.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||r(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},i.prototype.getMaxListeners=function(){return s(this)},i.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i="error"===e,a=this._events;if(void 0!==a)i=i&&void 0===a.error;else if(!i)return!1;if(i){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var u=a[e];if(void 0===u)return!1;if("function"==typeof u)n(u,this,t);else{var c=u.length,l=f(u,c);for(r=0;r<c;++r)n(l[r],this,t)}return!0},i.prototype.addListener=function(e,t){return u(this,e,t,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(e,t){return u(this,e,t,!0)},i.prototype.once=function(e,t){return o(t),this.on(e,l(this,e,t)),this},i.prototype.prependOnceListener=function(e,t){return o(t),this.prependListener(e,l(this,e,t)),this},i.prototype.removeListener=function(e,t){var n,r,i,a,s;if(o(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){s=n[a].listener,i=a;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,a=Object.keys(n);for(r=0;r<a.length;++r)"removeListener"!==(i=a[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},i.prototype.listeners=function(e){return d(this,e,!0)},i.prototype.rawListeners=function(e){return d(this,e,!1)},i.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},i.prototype.listenerCount=p,i.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]},er.exports}();let nr=!0,rr=!0;function ir(e,t,n){const r=e.match(t);return r&&r.length>=n&&parseInt(r[n],10)}function ar(e,t,n){if(!e.RTCPeerConnection)return;const r=e.RTCPeerConnection.prototype,i=r.addEventListener;r.addEventListener=function(e,r){if(e!==t)return i.apply(this,arguments);const a=e=>{const t=n(e);t&&(r.handleEvent?r.handleEvent(t):r(t))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(r,a),i.apply(this,[e,a])};const a=r.removeEventListener;r.removeEventListener=function(e,n){if(e!==t||!this._eventMap||!this._eventMap[t])return a.apply(this,arguments);if(!this._eventMap[t].has(n))return a.apply(this,arguments);const r=this._eventMap[t].get(n);return this._eventMap[t].delete(n),0===this._eventMap[t].size&&delete this._eventMap[t],0===Object.keys(this._eventMap).length&&delete this._eventMap,a.apply(this,[e,r])},Object.defineProperty(r,"on"+t,{get(){return this["_on"+t]},set(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}function or(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(nr=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function sr(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(rr=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function ur(){if("object"==typeof window){if(nr)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}}function cr(e,t){rr&&console.warn(e+" is deprecated, please use "+t+" instead.")}function lr(e){return"[object Object]"===Object.prototype.toString.call(e)}function dr(e){return lr(e)?Object.keys(e).reduce((function(t,n){const r=lr(e[n]),i=r?dr(e[n]):e[n],a=r&&!Object.keys(i).length;return void 0===i||a?t:Object.assign(t,{[n]:i})}),{}):e}function pr(e,t,n){t&&!n.has(t.id)&&(n.set(t.id,t),Object.keys(t).forEach((r=>{r.endsWith("Id")?pr(e,e.get(t[r]),n):r.endsWith("Ids")&&t[r].forEach((t=>{pr(e,e.get(t),n)}))})))}function fr(e,t,n){const r=n?"outbound-rtp":"inbound-rtp",i=new Map;if(null===t)return i;const a=[];return e.forEach((e=>{"track"===e.type&&e.trackIdentifier===t.id&&a.push(e)})),a.forEach((t=>{e.forEach((n=>{n.type===r&&n.trackId===t.id&&pr(e,n,i)}))})),i}const hr=ur;function mr(e,t){const n=e&&e.navigator;if(!n.mediaDevices)return;const r=function(e){if("object"!=typeof e||e.mandatory||e.optional)return e;const t={};return Object.keys(e).forEach((n=>{if("require"===n||"advanced"===n||"mediaSource"===n)return;const r="object"==typeof e[n]?e[n]:{ideal:e[n]};void 0!==r.exact&&"number"==typeof r.exact&&(r.min=r.max=r.exact);const i=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==r.ideal){t.optional=t.optional||[];let e={};"number"==typeof r.ideal?(e[i("min",n)]=r.ideal,t.optional.push(e),e={},e[i("max",n)]=r.ideal,t.optional.push(e)):(e[i("",n)]=r.ideal,t.optional.push(e))}void 0!==r.exact&&"number"!=typeof r.exact?(t.mandatory=t.mandatory||{},t.mandatory[i("",n)]=r.exact):["min","max"].forEach((e=>{void 0!==r[e]&&(t.mandatory=t.mandatory||{},t.mandatory[i(e,n)]=r[e])}))})),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},i=function(e,i){if(t.version>=61)return i(e);if((e=JSON.parse(JSON.stringify(e)))&&"object"==typeof e.audio){const t=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])};t((e=JSON.parse(JSON.stringify(e))).audio,"autoGainControl","googAutoGainControl"),t(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=r(e.audio)}if(e&&"object"==typeof e.video){let a=e.video.facingMode;a=a&&("object"==typeof a?a:{ideal:a});const o=t.version<66;if(a&&("user"===a.exact||"environment"===a.exact||"user"===a.ideal||"environment"===a.ideal)&&(!n.mediaDevices.getSupportedConstraints||!n.mediaDevices.getSupportedConstraints().facingMode||o)){let t;if(delete e.video.facingMode,"environment"===a.exact||"environment"===a.ideal?t=["back","rear"]:"user"!==a.exact&&"user"!==a.ideal||(t=["front"]),t)return n.mediaDevices.enumerateDevices().then((n=>{let o=(n=n.filter((e=>"videoinput"===e.kind))).find((e=>t.some((t=>e.label.toLowerCase().includes(t)))));return!o&&n.length&&t.includes("back")&&(o=n[n.length-1]),o&&(e.video.deviceId=a.exact?{exact:o.deviceId}:{ideal:o.deviceId}),e.video=r(e.video),hr("chrome: "+JSON.stringify(e)),i(e)}))}e.video=r(e.video)}return hr("chrome: "+JSON.stringify(e)),i(e)},a=function(e){return t.version>=64?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}};if(n.getUserMedia=function(e,t,r){i(e,(e=>{n.webkitGetUserMedia(e,t,(e=>{r&&r(a(e))}))}))}.bind(n),n.mediaDevices.getUserMedia){const e=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(t){return i(t,(t=>e(t).then((e=>{if(t.audio&&!e.getAudioTracks().length||t.video&&!e.getVideoTracks().length)throw e.getTracks().forEach((e=>{e.stop()})),new DOMException("","NotFoundError");return e}),(e=>Promise.reject(a(e))))))}}}function vr(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function gr(e){if("object"==typeof e&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=t=>{t.stream.addEventListener("addtrack",(n=>{let r;r=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find((e=>e.track&&e.track.id===n.track.id)):{track:n.track};const i=new Event("track");i.track=n.track,i.receiver=r,i.transceiver={receiver:r},i.streams=[t.stream],this.dispatchEvent(i)})),t.stream.getTracks().forEach((n=>{let r;r=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find((e=>e.track&&e.track.id===n.id)):{track:n};const i=new Event("track");i.track=n,i.receiver=r,i.transceiver={receiver:r},i.streams=[t.stream],this.dispatchEvent(i)}))},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else ar(e,"track",(e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e)))}function yr(e){if("object"==typeof e&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){const t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const n=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,r){let i=n.apply(this,arguments);return i||(i=t(this,e),this._senders.push(i)),i};const r=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){r.apply(this,arguments);const t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._senders=this._senders||[],n.apply(this,[e]),e.getTracks().forEach((e=>{this._senders.push(t(this,e))}))};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){this._senders=this._senders||[],r.apply(this,[e]),e.getTracks().forEach((e=>{const t=this._senders.find((t=>t.track===e));t&&this._senders.splice(this._senders.indexOf(t),1)}))}}else if("object"==typeof e&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function br(e){if(!("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){const e=this;return this._pc.getStats().then((t=>fr(t,e.track,!0)))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e}),ar(e,"track",(e=>(e.receiver._pc=e.srcElement,e))),e.RTCRtpReceiver.prototype.getStats=function(){const e=this;return this._pc.getStats().then((t=>fr(t,e.track,!1)))}}if(!("getStats"in e.RTCRtpSender.prototype)||!("getStats"in e.RTCRtpReceiver.prototype))return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){const e=arguments[0];let t,n,r;return this.getSenders().forEach((n=>{n.track===e&&(t?r=!0:t=n)})),this.getReceivers().forEach((t=>(t.track===e&&(n?r=!0:n=t),t.track===e))),r||t&&n?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):t?t.getStats():n?n.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function wr(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map((e=>this._shimmedLocalStreams[e][0]))};const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){if(!n)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const r=t.apply(this,arguments);return this._shimmedLocalStreams[n.id]?-1===this._shimmedLocalStreams[n.id].indexOf(r)&&this._shimmedLocalStreams[n.id].push(r):this._shimmedLocalStreams[n.id]=[n,r],r};const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach((e=>{if(this.getSenders().find((t=>t.track===e)))throw new DOMException("Track already exists.","InvalidAccessError")}));const t=this.getSenders();n.apply(this,arguments);const r=this.getSenders().filter((e=>-1===t.indexOf(e)));this._shimmedLocalStreams[e.id]=[e].concat(r)};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],r.apply(this,arguments)};const i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach((t=>{const n=this._shimmedLocalStreams[t].indexOf(e);-1!==n&&this._shimmedLocalStreams[t].splice(n,1),1===this._shimmedLocalStreams[t].length&&delete this._shimmedLocalStreams[t]})),i.apply(this,arguments)}}function Dr(e,t){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return wr(e);const n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){const e=n.apply(this);return this._reverseStreams=this._reverseStreams||{},e.map((e=>this._reverseStreams[e.id]))};const r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},t.getTracks().forEach((e=>{if(this.getSenders().find((t=>t.track===e)))throw new DOMException("Track already exists.","InvalidAccessError")})),!this._reverseStreams[t.id]){const n=new e.MediaStream(t.getTracks());this._streams[t.id]=n,this._reverseStreams[n.id]=t,t=n}r.apply(this,[t])};const i=e.RTCPeerConnection.prototype.removeStream;function a(e,t){let n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((t=>{const r=e._reverseStreams[t],i=e._streams[r.id];n=n.replace(new RegExp(i.id,"g"),r.id)})),new RTCSessionDescription({type:t.type,sdp:n})}e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,n){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const r=[].slice.call(arguments,1);if(1!==r.length||!r[0].getTracks().find((e=>e===t)))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find((e=>e.track===t)))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const i=this._streams[n.id];if(i)i.addTrack(t),Promise.resolve().then((()=>{this.dispatchEvent(new Event("negotiationneeded"))}));else{const r=new e.MediaStream([t]);this._streams[n.id]=r,this._reverseStreams[r.id]=n,this.addStream(r)}return this.getSenders().find((e=>e.track===t))},["createOffer","createAnswer"].forEach((function(t){const n=e.RTCPeerConnection.prototype[t],r={[t](){const e=arguments;return arguments.length&&"function"==typeof arguments[0]?n.apply(this,[t=>{const n=a(this,t);e[0].apply(null,[n])},t=>{e[1]&&e[1].apply(null,t)},arguments[2]]):n.apply(this,arguments).then((e=>a(this,e)))}};e.RTCPeerConnection.prototype[t]=r[t]}));const o=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=function(e,t){let n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((t=>{const r=e._reverseStreams[t],i=e._streams[r.id];n=n.replace(new RegExp(r.id,"g"),i.id)})),new RTCSessionDescription({type:t.type,sdp:n})}(this,arguments[0]),o.apply(this,arguments)):o.apply(this,arguments)};const s=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){const e=s.get.apply(this);return""===e.type?e:a(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(e._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");let t;this._streams=this._streams||{},Object.keys(this._streams).forEach((n=>{this._streams[n].getTracks().find((t=>e.track===t))&&(t=this._streams[n])})),t&&(1===t.getTracks().length?this.removeStream(this._reverseStreams[t.id]):t.removeTrack(e.track),this.dispatchEvent(new Event("negotiationneeded")))}}function Ar(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){const n=e.RTCPeerConnection.prototype[t],r={[t](){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}};e.RTCPeerConnection.prototype[t]=r[t]}))}function Er(e,t){ar(e,"negotiationneeded",(e=>{const n=e.target;if(!(t.version<72||n.getConfiguration&&"plan-b"===n.getConfiguration().sdpSemantics)||"stable"===n.signalingState)return e}))}var kr=Object.freeze({__proto__:null,fixNegotiationNeeded:Er,shimAddTrackRemoveTrack:Dr,shimAddTrackRemoveTrackWithNative:wr,shimGetSendersWithDtmf:yr,shimGetUserMedia:mr,shimMediaStream:vr,shimOnTrack:gr,shimPeerConnection:Ar,shimSenderReceiverGetStats:br});function Cr(e,t){const n=e&&e.navigator,r=e&&e.MediaStreamTrack;if(n.getUserMedia=function(e,t,r){cr("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(e).then(t,r)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const e=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])},t=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(n){return"object"==typeof n&&"object"==typeof n.audio&&(n=JSON.parse(JSON.stringify(n)),e(n.audio,"autoGainControl","mozAutoGainControl"),e(n.audio,"noiseSuppression","mozNoiseSuppression")),t(n)},r&&r.prototype.getSettings){const t=r.prototype.getSettings;r.prototype.getSettings=function(){const n=t.apply(this,arguments);return e(n,"mozAutoGainControl","autoGainControl"),e(n,"mozNoiseSuppression","noiseSuppression"),n}}if(r&&r.prototype.applyConstraints){const t=r.prototype.applyConstraints;r.prototype.applyConstraints=function(n){return"audio"===this.kind&&"object"==typeof n&&(n=JSON.parse(JSON.stringify(n)),e(n,"autoGainControl","mozAutoGainControl"),e(n,"noiseSuppression","mozNoiseSuppression")),t.apply(this,[n])}}}}function _r(e){"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function xr(e,t){if("object"!=typeof e||!e.RTCPeerConnection&&!e.mozRTCPeerConnection)return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){const n=e.RTCPeerConnection.prototype[t],r={[t](){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}};e.RTCPeerConnection.prototype[t]=r[t]}));const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[e,i,a]=arguments;return r.apply(this,[e||null]).then((e=>{if(t.version<53&&!i)try{e.forEach((e=>{e.type=n[e.type]||e.type}))}catch(t){if("TypeError"!==t.name)throw t;e.forEach(((t,r)=>{e.set(r,Object.assign({},t,{type:n[t.type]||t.type}))}))}return e})).then(i,a)}}function Sr(e){if("object"!=typeof e||!e.RTCPeerConnection||!e.RTCRtpSender)return;if(e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function Tr(e){if("object"!=typeof e||!e.RTCPeerConnection||!e.RTCRtpSender)return;if(e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e}),ar(e,"track",(e=>(e.receiver._pc=e.srcElement,e))),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function Fr(e){e.RTCPeerConnection&&!("removeStream"in e.RTCPeerConnection.prototype)&&(e.RTCPeerConnection.prototype.removeStream=function(e){cr("removeStream","removeTrack"),this.getSenders().forEach((t=>{t.track&&e.getTracks().includes(t.track)&&this.removeTrack(t)}))})}function Or(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function Pr(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let e=arguments[1]&&arguments[1].sendEncodings;void 0===e&&(e=[]),e=[...e];const n=e.length>0;n&&e.forEach((e=>{if("rid"in e){if(!/^[a-z0-9]{0,16}$/i.test(e.rid))throw new TypeError("Invalid RID value provided.")}if("scaleResolutionDownBy"in e&&!(parseFloat(e.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in e&&!(parseFloat(e.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")}));const r=t.apply(this,arguments);if(n){const{sender:t}=r,n=t.getParameters();(!("encodings"in n)||1===n.encodings.length&&0===Object.keys(n.encodings[0]).length)&&(n.encodings=e,t.sendEncodings=e,this.setParametersPromises.push(t.setParameters(n).then((()=>{delete t.sendEncodings})).catch((()=>{delete t.sendEncodings}))))}return r})}function Ir(e){if("object"!=typeof e||!e.RTCRtpSender)return;const t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){const e=t.apply(this,arguments);return"encodings"in e||(e.encodings=[].concat(this.sendEncodings||[{}])),e})}function Br(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then((()=>t.apply(this,arguments))).finally((()=>{this.setParametersPromises=[]})):t.apply(this,arguments)}}function Rr(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then((()=>t.apply(this,arguments))).finally((()=>{this.setParametersPromises=[]})):t.apply(this,arguments)}}var Nr=Object.freeze({__proto__:null,shimAddTransceiver:Pr,shimCreateAnswer:Rr,shimCreateOffer:Br,shimGetDisplayMedia:function(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(n){if(!n||!n.video){const e=new DOMException("getDisplayMedia without video constraints is undefined");return e.name="NotFoundError",e.code=8,Promise.reject(e)}return!0===n.video?n.video={mediaSource:t}:n.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(n)})},shimGetParameters:Ir,shimGetUserMedia:Cr,shimOnTrack:_r,shimPeerConnection:xr,shimRTCDataChannel:Or,shimReceiverGetStats:Tr,shimRemoveStream:Fr,shimSenderGetStats:Sr});function Mr(e){if("object"==typeof e&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){this._localStreams||(this._localStreams=[]),this._localStreams.includes(e)||this._localStreams.push(e),e.getAudioTracks().forEach((n=>t.call(this,n,e))),e.getVideoTracks().forEach((n=>t.call(this,n,e)))},e.RTCPeerConnection.prototype.addTrack=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r&&r.forEach((e=>{this._localStreams?this._localStreams.includes(e)||this._localStreams.push(e):this._localStreams=[e]})),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){this._localStreams||(this._localStreams=[]);const t=this._localStreams.indexOf(e);if(-1===t)return;this._localStreams.splice(t,1);const n=e.getTracks();this.getSenders().forEach((e=>{n.includes(e.track)&&this.removeTrack(e)}))})}}function Lr(e){if("object"==typeof e&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(e){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=e=>{e.streams.forEach((e=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(e))return;this._remoteStreams.push(e);const t=new Event("addstream");t.stream=e,this.dispatchEvent(t)}))})}});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach((t=>{if(e._remoteStreams||(e._remoteStreams=[]),e._remoteStreams.indexOf(t)>=0)return;e._remoteStreams.push(t);const n=new Event("addstream");n.stream=t,e.dispatchEvent(n)}))}),t.apply(e,arguments)}}}function jr(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype,n=t.createOffer,r=t.createAnswer,i=t.setLocalDescription,a=t.setRemoteDescription,o=t.addIceCandidate;t.createOffer=function(e,t){const r=arguments.length>=2?arguments[2]:arguments[0],i=n.apply(this,[r]);return t?(i.then(e,t),Promise.resolve()):i},t.createAnswer=function(e,t){const n=arguments.length>=2?arguments[2]:arguments[0],i=r.apply(this,[n]);return t?(i.then(e,t),Promise.resolve()):i};let s=function(e,t,n){const r=i.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r};t.setLocalDescription=s,s=function(e,t,n){const r=a.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r},t.setRemoteDescription=s,s=function(e,t,n){const r=o.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r},t.addIceCandidate=s}function Ur(e){const t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const e=t.mediaDevices,n=e.getUserMedia.bind(e);t.mediaDevices.getUserMedia=e=>n(zr(e))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,n,r){t.mediaDevices.getUserMedia(e).then(n,r)}.bind(t))}function zr(e){return e&&void 0!==e.video?Object.assign({},e,{video:dr(e.video)}):e}function Vr(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,n){if(e&&e.iceServers){const t=[];for(let n=0;n<e.iceServers.length;n++){let r=e.iceServers[n];void 0===r.urls&&r.url?(cr("RTCIceServer.url","RTCIceServer.urls"),r=JSON.parse(JSON.stringify(r)),r.urls=r.url,delete r.url,t.push(r)):t.push(e.iceServers[n])}e.iceServers=t}return new t(e,n)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:()=>t.generateCertificate})}function qr(e){"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Hr(e){const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){void 0!==e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);const t=this.getTransceivers().find((e=>"audio"===e.receiver.track.kind));!1===e.offerToReceiveAudio&&t?"sendrecv"===t.direction?t.setDirection?t.setDirection("sendonly"):t.direction="sendonly":"recvonly"===t.direction&&(t.setDirection?t.setDirection("inactive"):t.direction="inactive"):!0!==e.offerToReceiveAudio||t||this.addTransceiver("audio",{direction:"recvonly"}),void 0!==e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);const n=this.getTransceivers().find((e=>"video"===e.receiver.track.kind));!1===e.offerToReceiveVideo&&n?"sendrecv"===n.direction?n.setDirection?n.setDirection("sendonly"):n.direction="sendonly":"recvonly"===n.direction&&(n.setDirection?n.setDirection("inactive"):n.direction="inactive"):!0!==e.offerToReceiveVideo||n||this.addTransceiver("video",{direction:"recvonly"})}return t.apply(this,arguments)}}function Wr(e){"object"!=typeof e||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}var Kr,$r=Object.freeze({__proto__:null,shimAudioContext:Wr,shimCallbacksAPI:jr,shimConstraints:zr,shimCreateOfferLegacy:Hr,shimGetUserMedia:Ur,shimLocalStreamsAPI:Mr,shimRTCIceServerUrls:Vr,shimRemoteStreamsAPI:Lr,shimTrackEventTransceiver:qr}),Gr={exports:{}};var Qr=(Kr||(Kr=1,function(e){const t={generateIdentifier:function(){return Math.random().toString(36).substring(2,12)}};t.localCName=t.generateIdentifier(),t.splitLines=function(e){return e.trim().split("\n").map((e=>e.trim()))},t.splitSections=function(e){return e.split("\nm=").map(((e,t)=>(t>0?"m="+e:e).trim()+"\r\n"))},t.getDescription=function(e){const n=t.splitSections(e);return n&&n[0]},t.getMediaSections=function(e){const n=t.splitSections(e);return n.shift(),n},t.matchPrefix=function(e,n){return t.splitLines(e).filter((e=>0===e.indexOf(n)))},t.parseCandidate=function(e){let t;t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" ");const n={foundation:t[0],component:{1:"rtp",2:"rtcp"}[t[1]]||t[1],protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]};for(let e=8;e<t.length;e+=2)switch(t[e]){case"raddr":n.relatedAddress=t[e+1];break;case"rport":n.relatedPort=parseInt(t[e+1],10);break;case"tcptype":n.tcpType=t[e+1];break;case"ufrag":n.ufrag=t[e+1],n.usernameFragment=t[e+1];break;default:void 0===n[t[e]]&&(n[t[e]]=t[e+1])}return n},t.writeCandidate=function(e){const t=[];t.push(e.foundation);const n=e.component;"rtp"===n?t.push(1):"rtcp"===n?t.push(2):t.push(n),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);const r=e.type;return t.push("typ"),t.push(r),"host"!==r&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},t.parseIceOptions=function(e){return e.substring(14).split(" ")},t.parseRtpMap=function(e){let t=e.substring(9).split(" ");const n={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),n.name=t[0],n.clockRate=parseInt(t[1],10),n.channels=3===t.length?parseInt(t[2],10):1,n.numChannels=n.channels,n},t.writeRtpMap=function(e){let t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);const n=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==n?"/"+n:"")+"\r\n"},t.parseExtmap=function(e){const t=e.substring(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1],attributes:t.slice(2).join(" ")}},t.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+(e.attributes?" "+e.attributes:"")+"\r\n"},t.parseFmtp=function(e){const t={};let n;const r=e.substring(e.indexOf(" ")+1).split(";");for(let e=0;e<r.length;e++)n=r[e].trim().split("="),t[n[0].trim()]=n[1];return t},t.writeFmtp=function(e){let t="",n=e.payloadType;if(void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){const r=[];Object.keys(e.parameters).forEach((t=>{void 0!==e.parameters[t]?r.push(t+"="+e.parameters[t]):r.push(t)})),t+="a=fmtp:"+n+" "+r.join(";")+"\r\n"}return t},t.parseRtcpFb=function(e){const t=e.substring(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},t.writeRtcpFb=function(e){let t="",n=e.payloadType;return void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach((e=>{t+="a=rtcp-fb:"+n+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"})),t},t.parseSsrcMedia=function(e){const t=e.indexOf(" "),n={ssrc:parseInt(e.substring(7,t),10)},r=e.indexOf(":",t);return r>-1?(n.attribute=e.substring(t+1,r),n.value=e.substring(r+1)):n.attribute=e.substring(t+1),n},t.parseSsrcGroup=function(e){const t=e.substring(13).split(" ");return{semantics:t.shift(),ssrcs:t.map((e=>parseInt(e,10)))}},t.getMid=function(e){const n=t.matchPrefix(e,"a=mid:")[0];if(n)return n.substring(6)},t.parseFingerprint=function(e){const t=e.substring(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1].toUpperCase()}},t.getDtlsParameters=function(e,n){return{role:"auto",fingerprints:t.matchPrefix(e+n,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(e,t){let n="a=setup:"+t+"\r\n";return e.fingerprints.forEach((e=>{n+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"})),n},t.parseCryptoLine=function(e){const t=e.substring(9).split(" ");return{tag:parseInt(t[0],10),cryptoSuite:t[1],keyParams:t[2],sessionParams:t.slice(3)}},t.writeCryptoLine=function(e){return"a=crypto:"+e.tag+" "+e.cryptoSuite+" "+("object"==typeof e.keyParams?t.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?" "+e.sessionParams.join(" "):"")+"\r\n"},t.parseCryptoKeyParams=function(e){if(0!==e.indexOf("inline:"))return null;const t=e.substring(7).split("|");return{keyMethod:"inline",keySalt:t[0],lifeTime:t[1],mkiValue:t[2]?t[2].split(":")[0]:void 0,mkiLength:t[2]?t[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(e){return e.keyMethod+":"+e.keySalt+(e.lifeTime?"|"+e.lifeTime:"")+(e.mkiValue&&e.mkiLength?"|"+e.mkiValue+":"+e.mkiLength:"")},t.getCryptoParameters=function(e,n){return t.matchPrefix(e+n,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(e,n){const r=t.matchPrefix(e+n,"a=ice-ufrag:")[0],i=t.matchPrefix(e+n,"a=ice-pwd:")[0];return r&&i?{usernameFragment:r.substring(12),password:i.substring(10)}:null},t.writeIceParameters=function(e){let t="a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n";return e.iceLite&&(t+="a=ice-lite\r\n"),t},t.parseRtpParameters=function(e){const n={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},r=t.splitLines(e)[0].split(" ");n.profile=r[2];for(let i=3;i<r.length;i++){const a=r[i],o=t.matchPrefix(e,"a=rtpmap:"+a+" ")[0];if(o){const r=t.parseRtpMap(o),i=t.matchPrefix(e,"a=fmtp:"+a+" ");switch(r.parameters=i.length?t.parseFmtp(i[0]):{},r.rtcpFeedback=t.matchPrefix(e,"a=rtcp-fb:"+a+" ").map(t.parseRtcpFb),n.codecs.push(r),r.name.toUpperCase()){case"RED":case"ULPFEC":n.fecMechanisms.push(r.name.toUpperCase())}}}t.matchPrefix(e,"a=extmap:").forEach((e=>{n.headerExtensions.push(t.parseExtmap(e))}));const i=t.matchPrefix(e,"a=rtcp-fb:* ").map(t.parseRtcpFb);return n.codecs.forEach((e=>{i.forEach((t=>{e.rtcpFeedback.find((e=>e.type===t.type&&e.parameter===t.parameter))||e.rtcpFeedback.push(t)}))})),n},t.writeRtpDescription=function(e,n){let r="";r+="m="+e+" ",r+=n.codecs.length>0?"9":"0",r+=" "+(n.profile||"UDP/TLS/RTP/SAVPF")+" ",r+=n.codecs.map((e=>void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType)).join(" ")+"\r\n",r+="c=IN IP4 0.0.0.0\r\n",r+="a=rtcp:9 IN IP4 0.0.0.0\r\n",n.codecs.forEach((e=>{r+=t.writeRtpMap(e),r+=t.writeFmtp(e),r+=t.writeRtcpFb(e)}));let i=0;return n.codecs.forEach((e=>{e.maxptime>i&&(i=e.maxptime)})),i>0&&(r+="a=maxptime:"+i+"\r\n"),n.headerExtensions&&n.headerExtensions.forEach((e=>{r+=t.writeExtmap(e)})),r},t.parseRtpEncodingParameters=function(e){const n=[],r=t.parseRtpParameters(e),i=-1!==r.fecMechanisms.indexOf("RED"),a=-1!==r.fecMechanisms.indexOf("ULPFEC"),o=t.matchPrefix(e,"a=ssrc:").map((e=>t.parseSsrcMedia(e))).filter((e=>"cname"===e.attribute)),s=o.length>0&&o[0].ssrc;let u;const c=t.matchPrefix(e,"a=ssrc-group:FID").map((e=>e.substring(17).split(" ").map((e=>parseInt(e,10)))));c.length>0&&c[0].length>1&&c[0][0]===s&&(u=c[0][1]),r.codecs.forEach((e=>{if("RTX"===e.name.toUpperCase()&&e.parameters.apt){let t={ssrc:s,codecPayloadType:parseInt(e.parameters.apt,10)};s&&u&&(t.rtx={ssrc:u}),n.push(t),i&&(t=JSON.parse(JSON.stringify(t)),t.fec={ssrc:s,mechanism:a?"red+ulpfec":"red"},n.push(t))}})),0===n.length&&s&&n.push({ssrc:s});let l=t.matchPrefix(e,"b=");return l.length&&(l=0===l[0].indexOf("b=TIAS:")?parseInt(l[0].substring(7),10):0===l[0].indexOf("b=AS:")?1e3*parseInt(l[0].substring(5),10)*.95-16e3:void 0,n.forEach((e=>{e.maxBitrate=l}))),n},t.parseRtcpParameters=function(e){const n={},r=t.matchPrefix(e,"a=ssrc:").map((e=>t.parseSsrcMedia(e))).filter((e=>"cname"===e.attribute))[0];r&&(n.cname=r.value,n.ssrc=r.ssrc);const i=t.matchPrefix(e,"a=rtcp-rsize");n.reducedSize=i.length>0,n.compound=0===i.length;const a=t.matchPrefix(e,"a=rtcp-mux");return n.mux=a.length>0,n},t.writeRtcpParameters=function(e){let t="";return e.reducedSize&&(t+="a=rtcp-rsize\r\n"),e.mux&&(t+="a=rtcp-mux\r\n"),void 0!==e.ssrc&&e.cname&&(t+="a=ssrc:"+e.ssrc+" cname:"+e.cname+"\r\n"),t},t.parseMsid=function(e){let n;const r=t.matchPrefix(e,"a=msid:");if(1===r.length)return n=r[0].substring(7).split(" "),{stream:n[0],track:n[1]};const i=t.matchPrefix(e,"a=ssrc:").map((e=>t.parseSsrcMedia(e))).filter((e=>"msid"===e.attribute));return i.length>0?(n=i[0].value.split(" "),{stream:n[0],track:n[1]}):void 0},t.parseSctpDescription=function(e){const n=t.parseMLine(e),r=t.matchPrefix(e,"a=max-message-size:");let i;r.length>0&&(i=parseInt(r[0].substring(19),10)),isNaN(i)&&(i=65536);const a=t.matchPrefix(e,"a=sctp-port:");if(a.length>0)return{port:parseInt(a[0].substring(12),10),protocol:n.fmt,maxMessageSize:i};const o=t.matchPrefix(e,"a=sctpmap:");if(o.length>0){const e=o[0].substring(10).split(" ");return{port:parseInt(e[0],10),protocol:e[1],maxMessageSize:i}}},t.writeSctpDescription=function(e,t){let n=[];return n="DTLS/SCTP"!==e.protocol?["m="+e.kind+" 9 "+e.protocol+" "+t.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+t.port+"\r\n"]:["m="+e.kind+" 9 "+e.protocol+" "+t.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+t.port+" "+t.protocol+" 65535\r\n"],void 0!==t.maxMessageSize&&n.push("a=max-message-size:"+t.maxMessageSize+"\r\n"),n.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,22)},t.writeSessionBoilerplate=function(e,n,r){let i;const a=void 0!==n?n:2;return i=e||t.generateSessionId(),"v=0\r\no="+(r||"thisisadapterortc")+" "+i+" "+a+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},t.getDirection=function(e,n){const r=t.splitLines(e);for(let e=0;e<r.length;e++)switch(r[e]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return r[e].substring(2)}return n?t.getDirection(n):"sendrecv"},t.getKind=function(e){return t.splitLines(e)[0].split(" ")[0].substring(2)},t.isRejected=function(e){return"0"===e.split(" ",2)[1]},t.parseMLine=function(e){const n=t.splitLines(e)[0].substring(2).split(" ");return{kind:n[0],port:parseInt(n[1],10),protocol:n[2],fmt:n.slice(3).join(" ")}},t.parseOLine=function(e){const n=t.matchPrefix(e,"o=")[0].substring(2).split(" ");return{username:n[0],sessionId:n[1],sessionVersion:parseInt(n[2],10),netType:n[3],addressType:n[4],address:n[5]}},t.isValidSDP=function(e){if("string"!=typeof e||0===e.length)return!1;const n=t.splitLines(e);for(let e=0;e<n.length;e++)if(n[e].length<2||"="!==n[e].charAt(1))return!1;return!0},e.exports=t}(Gr)),Gr.exports),Yr=Bn(Qr),Xr=i({__proto__:null,default:Yr},[Qr]);function Zr(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;const t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"==typeof e&&e.candidate&&0===e.candidate.indexOf("a=")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substring(2)),e.candidate&&e.candidate.length){const n=new t(e),r=Yr.parseCandidate(e.candidate);for(const e in r)e in n||Object.defineProperty(n,e,{value:r[e]});return n.toJSON=function(){return{candidate:n.candidate,sdpMid:n.sdpMid,sdpMLineIndex:n.sdpMLineIndex,usernameFragment:n.usernameFragment}},n}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,ar(e,"icecandidate",(t=>(t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t)))}function Jr(e){!e.RTCIceCandidate||e.RTCIceCandidate&&"relayProtocol"in e.RTCIceCandidate.prototype||ar(e,"icecandidate",(e=>{if(e.candidate){const t=Yr.parseCandidate(e.candidate.candidate);"relay"===t.type&&(e.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[t.priority>>24])}return e}))}function ei(e,t){if(!e.RTCPeerConnection)return;"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return void 0===this._sctp?null:this._sctp}});const n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,"chrome"===t.browser&&t.version>=76){const{sdpSemantics:e}=this.getConfiguration();"plan-b"===e&&Object.defineProperty(this,"sctp",{get(){return void 0===this._sctp?null:this._sctp},enumerable:!0,configurable:!0})}if(function(e){if(!e||!e.sdp)return!1;const t=Yr.splitSections(e.sdp);return t.shift(),t.some((e=>{const t=Yr.parseMLine(e);return t&&"application"===t.kind&&-1!==t.protocol.indexOf("SCTP")}))}(arguments[0])){const e=function(e){const t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return-1;const n=parseInt(t[1],10);return n!=n?-1:n}(arguments[0]),n=function(e){let n=65536;return"firefox"===t.browser&&(n=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),n}(e),r=function(e,n){let r=65536;"firefox"===t.browser&&57===t.version&&(r=65535);const i=Yr.matchPrefix(e.sdp,"a=max-message-size:");return i.length>0?r=parseInt(i[0].substring(19),10):"firefox"===t.browser&&-1!==n&&(r=2147483637),r}(arguments[0],e);let i;i=0===n&&0===r?Number.POSITIVE_INFINITY:0===n||0===r?Math.max(n,r):Math.min(n,r);const a={};Object.defineProperty(a,"maxMessageSize",{get:()=>i}),this._sctp=a}return n.apply(this,arguments)}}function ti(e){if(!e.RTCPeerConnection||!("createDataChannel"in e.RTCPeerConnection.prototype))return;function t(e,t){const n=e.send;e.send=function(){const r=arguments[0],i=r.length||r.size||r.byteLength;if("open"===e.readyState&&t.sctp&&i>t.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return n.apply(e,arguments)}}const n=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){const e=n.apply(this,arguments);return t(e,this),e},ar(e,"datachannel",(e=>(t(e.channel,e.target),e)))}function ni(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;const t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(e){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach((e=>{const n=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=e=>{const t=e.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;const n=new Event("connectionstatechange",e);t.dispatchEvent(n)}return e},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),n.apply(this,arguments)}}))}function ri(e,t){if(!e.RTCPeerConnection)return;if("chrome"===t.browser&&t.version>=71)return;if("safari"===t.browser&&t.version>=605)return;const n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(t){if(t&&t.sdp&&-1!==t.sdp.indexOf("\na=extmap-allow-mixed")){const n=t.sdp.split("\n").filter((e=>"a=extmap-allow-mixed"!==e.trim())).join("\n");e.RTCSessionDescription&&t instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:t.type,sdp:n}):t.sdp=n}return n.apply(this,arguments)}}function ii(e,t){if(!e.RTCPeerConnection||!e.RTCPeerConnection.prototype)return;const n=e.RTCPeerConnection.prototype.addIceCandidate;n&&0!==n.length&&(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?("chrome"===t.browser&&t.version<78||"firefox"===t.browser&&t.version<68||"safari"===t.browser)&&arguments[0]&&""===arguments[0].candidate?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function ai(e,t){if(!e.RTCPeerConnection||!e.RTCPeerConnection.prototype)return;const n=e.RTCPeerConnection.prototype.setLocalDescription;n&&0!==n.length&&(e.RTCPeerConnection.prototype.setLocalDescription=function(){let e=arguments[0]||{};if("object"!=typeof e||e.type&&e.sdp)return n.apply(this,arguments);if(e={type:e.type,sdp:e.sdp},!e.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":e.type="offer";break;default:e.type="answer"}if(e.sdp||"offer"!==e.type&&"answer"!==e.type)return n.apply(this,[e]);return("offer"===e.type?this.createOffer:this.createAnswer).apply(this).then((e=>n.apply(this,[e])))})}var oi=Object.freeze({__proto__:null,removeExtmapAllowMixed:ri,shimAddIceCandidateNullOrEmpty:ii,shimConnectionState:ni,shimMaxMessageSize:ei,shimParameterlessSetLocalDescription:ai,shimRTCIceCandidate:Zr,shimRTCIceCandidateRelayProtocol:Jr,shimSendThrowTypeError:ti});!function(){let{window:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimSafari:!0};const n=ur,r=function(e){const t={browser:null,version:null};if(void 0===e||!e.navigator||!e.navigator.userAgent)return t.browser="Not a browser.",t;const{navigator:n}=e;if(n.userAgentData&&n.userAgentData.brands){const e=n.userAgentData.brands.find((e=>"Chromium"===e.brand));if(e)return{browser:"chrome",version:parseInt(e.version,10)}}if(n.mozGetUserMedia)t.browser="firefox",t.version=ir(n.userAgent,/Firefox\/(\d+)\./,1);else if(n.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection)t.browser="chrome",t.version=ir(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else{if(!e.RTCPeerConnection||!n.userAgent.match(/AppleWebKit\/(\d+)\./))return t.browser="Not a supported browser.",t;t.browser="safari",t.version=ir(n.userAgent,/AppleWebKit\/(\d+)\./,1),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype}return t}(e),i={browserDetails:r,commonShim:oi,extractVersion:ir,disableLog:or,disableWarnings:sr,sdp:Xr};switch(r.browser){case"chrome":if(!kr||!Ar||!t.shimChrome)return n("Chrome shim is not included in this adapter release."),i;if(null===r.version)return n("Chrome shim can not determine version, not shimming."),i;n("adapter.js shimming chrome."),i.browserShim=kr,ii(e,r),ai(e),mr(e,r),vr(e),Ar(e,r),gr(e),Dr(e,r),yr(e),br(e),Er(e,r),Zr(e),Jr(e),ni(e),ei(e,r),ti(e),ri(e,r);break;case"firefox":if(!Nr||!xr||!t.shimFirefox)return n("Firefox shim is not included in this adapter release."),i;n("adapter.js shimming firefox."),i.browserShim=Nr,ii(e,r),ai(e),Cr(e,r),xr(e,r),_r(e),Fr(e),Sr(e),Tr(e),Or(e),Pr(e),Ir(e),Br(e),Rr(e),Zr(e),ni(e),ei(e,r),ti(e);break;case"safari":if(!$r||!t.shimSafari)return n("Safari shim is not included in this adapter release."),i;n("adapter.js shimming safari."),i.browserShim=$r,ii(e,r),ai(e),Vr(e),Hr(e),jr(e),Mr(e),Lr(e),qr(e),Ur(e),Wr(e),Zr(e),Jr(e),ei(e,r),ti(e),ri(e,r);break;default:n("Unsupported browser!")}}({window:"undefined"==typeof window?void 0:window});const si="AES-GCM",ui="lk_e2ee",ci={sharedKey:!1,ratchetSalt:"LKFrameEncryptionKey",ratchetWindowSize:8,failureTolerance:10,keyringSize:16};var li,di,pi,fi;function hi(){return vi()||mi()}function mi(){return void 0!==window.RTCRtpScriptTransform}function vi(){return void 0!==window.RTCRtpSender&&void 0!==window.RTCRtpSender.prototype.createEncodedStreams}function gi(e){return"type"in e}function yi(e){return Yn(this,arguments,void 0,(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{name:si},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"encrypt";return function*(){return crypto.subtle.importKey("raw",e,t,!1,"derive"===n?["deriveBits","deriveKey"]:["encrypt","decrypt"])}()}))}function bi(e){return Yn(this,void 0,void 0,(function*(){let t=new TextEncoder;return yield crypto.subtle.importKey("raw",t.encode(e),{name:"PBKDF2"},!1,["deriveBits","deriveKey"])}))}function wi(e){return Yn(this,void 0,void 0,(function*(){return yield crypto.subtle.importKey("raw",e,"HKDF",!1,["deriveBits","deriveKey"])}))}function Di(e,t){const n=(new TextEncoder).encode(t);switch(e){case"HKDF":return{name:"HKDF",salt:n,hash:"SHA-256",info:new ArrayBuffer(128)};case"PBKDF2":return{name:"PBKDF2",salt:n,hash:"SHA-256",iterations:1e5};default:throw new Error("algorithm ".concat(e," is currently unsupported"))}}function Ai(e,t){return Yn(this,void 0,void 0,(function*(){const n=Di(e.algorithm.name,t),r=yield crypto.subtle.deriveKey(n,e,{name:si,length:128},!1,["encrypt","decrypt"]);return{material:e,encryptionKey:r}}))}function Ei(){return window.crypto.getRandomValues(new Uint8Array(32))}function ki(e,t){return Yn(this,void 0,void 0,(function*(){const n=Di(e.algorithm.name,t);return crypto.subtle.deriveBits(n,e,256)}))}function Ci(e){for(var t=0;t<e.length-3;t++)if(0==e[t]&&0==e[t+1]&&3==e[t+2])return!0;return!1}function _i(e){const t=[];for(var n=e.length,r=0;r<e.length;)n-r>=3&&!e[r]&&!e[r+1]&&3==e[r+2]?(t.push(e[r++]),t.push(e[r++]),r++):t.push(e[r++]);return new Uint8Array(t)}!function(e){e.SetKey="setKey",e.RatchetRequest="ratchetRequest",e.KeyRatcheted="keyRatcheted"}(li||(li={})),function(e){e.KeyRatcheted="keyRatcheted"}(di||(di={})),function(e){e.ParticipantEncryptionStatusChanged="participantEncryptionStatusChanged",e.EncryptionError="encryptionError"}(pi||(pi={})),function(e){e.Error="cryptorError"}(fi||(fi={}));const xi=2,Si=3;function Ti(e){const t=[];for(var n=0,r=0;r<e.length;++r){var i=e[r];i<=Si&&n>=xi&&(t.push(Si),n=0),t.push(i),0==i?++n:n=0}return new Uint8Array(t)}class Fi extends tr.EventEmitter{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this.onKeyRatcheted=(e,t)=>{zn.debug("key ratcheted event received",{material:e,keyIndex:t})},this.keyInfoMap=new Map,this.options=Object.assign(Object.assign({},ci),e),this.on(li.KeyRatcheted,this.onKeyRatcheted)}onSetEncryptionKey(e,t,n){const r={key:e,participantIdentity:t,keyIndex:n};if(!this.options.sharedKey&&!t)throw new Error("participant identity needs to be passed for encryption key if sharedKey option is false");this.keyInfoMap.set("".concat(null!=t?t:"shared","-").concat(null!=n?n:0),r),this.emit(li.SetKey,r)}getKeys(){return Array.from(this.keyInfoMap.values())}getOptions(){return this.options}ratchetKey(e,t){this.emit(li.RatchetRequest,e,t)}}class Oi extends Fi{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(Object.assign(Object.assign({},e),{sharedKey:!0,ratchetWindowSize:0,failureTolerance:-1}))}setKey(e){return Yn(this,void 0,void 0,(function*(){const t="string"==typeof e?yield bi(e):yield wi(e);this.onSetEncryptionKey(t)}))}}class Pi extends Error{constructor(e,t){super(t||"an error has occured"),this.name="LiveKitError",this.code=e}}var Ii,Bi,Ri,Ni,Mi,Li,ji;!function(e){e[e.NotAllowed=0]="NotAllowed",e[e.ServerUnreachable=1]="ServerUnreachable",e[e.InternalError=2]="InternalError",e[e.Cancelled=3]="Cancelled",e[e.LeaveRequest=4]="LeaveRequest"}(Ii||(Ii={}));class Ui extends Pi{constructor(e,t,n,r){super(1,e),this.name="ConnectionError",this.status=n,this.reason=t,this.context=r,this.reasonName=Ii[t]}}class zi extends Pi{constructor(e){super(21,null!=e?e:"device is unsupported"),this.name="DeviceUnsupportedError"}}class Vi extends Pi{constructor(e){super(20,null!=e?e:"track is invalid"),this.name="TrackInvalidError"}}class qi extends Pi{constructor(e){super(10,null!=e?e:"unsupported server"),this.name="UnsupportedServer"}}class Hi extends Pi{constructor(e){super(12,null!=e?e:"unexpected connection state"),this.name="UnexpectedConnectionState"}}class Wi extends Pi{constructor(e){super(13,null!=e?e:"unable to negotiate"),this.name="NegotiationError"}}class Ki extends Pi{constructor(e){super(14,null!=e?e:"unable to publish data"),this.name="PublishDataError"}}class $i extends Pi{constructor(e,t){super(15,e),this.name="PublishTrackError",this.status=t}}class Gi extends Pi{constructor(e,t){super(15,e),this.reason=t,this.reasonName="string"==typeof t?t:Pn[t]}}!function(e){e.PermissionDenied="PermissionDenied",e.NotFound="NotFound",e.DeviceInUse="DeviceInUse",e.Other="Other"}(Bi||(Bi={})),function(e){e.getFailure=function(t){if(t&&"name"in t)return"NotFoundError"===t.name||"DevicesNotFoundError"===t.name?e.NotFound:"NotAllowedError"===t.name||"PermissionDeniedError"===t.name?e.PermissionDenied:"NotReadableError"===t.name||"TrackStartError"===t.name?e.DeviceInUse:e.Other}}(Bi||(Bi={})),function(e){e[e.InvalidKey=0]="InvalidKey",e[e.MissingKey=1]="MissingKey",e[e.InternalError=2]="InternalError"}(Ri||(Ri={}));class Qi extends Pi{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ri.InternalError,n=arguments.length>2?arguments[2]:void 0;super(40,e),this.reason=t,this.participantIdentity=n}}!function(e){e.Connected="connected",e.Reconnecting="reconnecting",e.SignalReconnecting="signalReconnecting",e.Reconnected="reconnected",e.Disconnected="disconnected",e.ConnectionStateChanged="connectionStateChanged",e.MediaDevicesChanged="mediaDevicesChanged",e.ParticipantConnected="participantConnected",e.ParticipantDisconnected="participantDisconnected",e.TrackPublished="trackPublished",e.TrackSubscribed="trackSubscribed",e.TrackSubscriptionFailed="trackSubscriptionFailed",e.TrackUnpublished="trackUnpublished",e.TrackUnsubscribed="trackUnsubscribed",e.TrackMuted="trackMuted",e.TrackUnmuted="trackUnmuted",e.LocalTrackPublished="localTrackPublished",e.LocalTrackUnpublished="localTrackUnpublished",e.LocalAudioSilenceDetected="localAudioSilenceDetected",e.ActiveSpeakersChanged="activeSpeakersChanged",e.ParticipantMetadataChanged="participantMetadataChanged",e.ParticipantNameChanged="participantNameChanged",e.ParticipantAttributesChanged="participantAttributesChanged",e.RoomMetadataChanged="roomMetadataChanged",e.DataReceived="dataReceived",e.SipDTMFReceived="sipDTMFReceived",e.TranscriptionReceived="transcriptionReceived",e.ConnectionQualityChanged="connectionQualityChanged",e.TrackStreamStateChanged="trackStreamStateChanged",e.TrackSubscriptionPermissionChanged="trackSubscriptionPermissionChanged",e.TrackSubscriptionStatusChanged="trackSubscriptionStatusChanged",e.AudioPlaybackStatusChanged="audioPlaybackChanged",e.VideoPlaybackStatusChanged="videoPlaybackChanged",e.MediaDevicesError="mediaDevicesError",e.ParticipantPermissionsChanged="participantPermissionsChanged",e.SignalConnected="signalConnected",e.RecordingStatusChanged="recordingStatusChanged",e.ParticipantEncryptionStatusChanged="participantEncryptionStatusChanged",e.EncryptionError="encryptionError",e.DCBufferStatusChanged="dcBufferStatusChanged",e.ActiveDeviceChanged="activeDeviceChanged",e.ChatMessage="chatMessage",e.LocalTrackSubscribed="localTrackSubscribed",e.MetricsReceived="metricsReceived"}(Ni||(Ni={})),function(e){e.TrackPublished="trackPublished",e.TrackSubscribed="trackSubscribed",e.TrackSubscriptionFailed="trackSubscriptionFailed",e.TrackUnpublished="trackUnpublished",e.TrackUnsubscribed="trackUnsubscribed",e.TrackMuted="trackMuted",e.TrackUnmuted="trackUnmuted",e.LocalTrackPublished="localTrackPublished",e.LocalTrackUnpublished="localTrackUnpublished",e.ParticipantMetadataChanged="participantMetadataChanged",e.ParticipantNameChanged="participantNameChanged",e.DataReceived="dataReceived",e.SipDTMFReceived="sipDTMFReceived",e.TranscriptionReceived="transcriptionReceived",e.IsSpeakingChanged="isSpeakingChanged",e.ConnectionQualityChanged="connectionQualityChanged",e.TrackStreamStateChanged="trackStreamStateChanged",e.TrackSubscriptionPermissionChanged="trackSubscriptionPermissionChanged",e.TrackSubscriptionStatusChanged="trackSubscriptionStatusChanged",e.MediaDevicesError="mediaDevicesError",e.AudioStreamAcquired="audioStreamAcquired",e.ParticipantPermissionsChanged="participantPermissionsChanged",e.PCTrackAdded="pcTrackAdded",e.AttributesChanged="attributesChanged",e.LocalTrackSubscribed="localTrackSubscribed",e.ChatMessage="chatMessage"}(Mi||(Mi={})),function(e){e.TransportsCreated="transportsCreated",e.Connected="connected",e.Disconnected="disconnected",e.Resuming="resuming",e.Resumed="resumed",e.Restarting="restarting",e.Restarted="restarted",e.SignalResumed="signalResumed",e.SignalRestarted="signalRestarted",e.Closing="closing",e.MediaTrackAdded="mediaTrackAdded",e.ActiveSpeakersUpdate="activeSpeakersUpdate",e.DataPacketReceived="dataPacketReceived",e.RTPVideoMapUpdate="rtpVideoMapUpdate",e.DCBufferStatusChanged="dcBufferStatusChanged",e.ParticipantUpdate="participantUpdate",e.RoomUpdate="roomUpdate",e.SpeakersChanged="speakersChanged",e.StreamStateChanged="streamStateChanged",e.ConnectionQualityUpdate="connectionQualityUpdate",e.SubscriptionError="subscriptionError",e.SubscriptionPermissionUpdate="subscriptionPermissionUpdate",e.RemoteMute="remoteMute",e.SubscribedQualityUpdate="subscribedQualityUpdate",e.LocalTrackUnpublished="localTrackUnpublished",e.LocalTrackSubscribed="localTrackSubscribed",e.Offline="offline",e.SignalRequestResponse="signalRequestResponse",e.SignalConnected="signalConnected"}(Li||(Li={})),function(e){e.Message="message",e.Muted="muted",e.Unmuted="unmuted",e.Restarted="restarted",e.Ended="ended",e.Subscribed="subscribed",e.Unsubscribed="unsubscribed",e.UpdateSettings="updateSettings",e.UpdateSubscription="updateSubscription",e.AudioPlaybackStarted="audioPlaybackStarted",e.AudioPlaybackFailed="audioPlaybackFailed",e.AudioSilenceDetected="audioSilenceDetected",e.VisibilityChanged="visibilityChanged",e.VideoDimensionsChanged="videoDimensionsChanged",e.VideoPlaybackStarted="videoPlaybackStarted",e.VideoPlaybackFailed="videoPlaybackFailed",e.ElementAttached="elementAttached",e.ElementDetached="elementDetached",e.UpstreamPaused="upstreamPaused",e.UpstreamResumed="upstreamResumed",e.SubscriptionPermissionChanged="subscriptionPermissionChanged",e.SubscriptionStatusChanged="subscriptionStatusChanged",e.SubscriptionFailed="subscriptionFailed",e.TrackProcessorUpdate="trackProcessorUpdate",e.AudioTrackFeatureUpdate="audioTrackFeatureUpdate",e.TranscriptionReceived="transcriptionReceived",e.TimeSyncUpdate="timeSyncUpdate"}(ji||(ji={}));const Yi=/version\/(\d+(\.?_?\d+)+)/i;let Xi;function Zi(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(void 0===e&&"undefined"==typeof navigator)return;const n=(null!=e?e:navigator.userAgent).toLowerCase();if(void 0===Xi||t){const e=Ji.find((e=>{let{test:t}=e;return t.test(n)}));Xi=null==e?void 0:e.describe(n)}return Xi}const Ji=[{test:/firefox|iceweasel|fxios/i,describe:e=>({name:"Firefox",version:ea(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e),os:e.toLowerCase().includes("fxios")?"iOS":void 0,osVersion:ta(e)})},{test:/chrom|crios|crmo/i,describe:e=>({name:"Chrome",version:ea(/(?:chrome|chromium|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e),os:e.toLowerCase().includes("crios")?"iOS":void 0,osVersion:ta(e)})},{test:/safari|applewebkit/i,describe:e=>({name:"Safari",version:ea(Yi,e),os:e.includes("mobile/")?"iOS":"macOS",osVersion:ta(e)})}];function ea(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const r=t.match(e);return r&&r.length>=n&&r[n]||""}function ta(e){return e.includes("mac os")?ea(/\(.+?(\d+_\d+(:?_\d+)?)/,e,1).replace(/_/g,"."):void 0}const na="2.11.4",ra=15;class ia{}ia.setTimeout=function(){return setTimeout(...arguments)},ia.setInterval=function(){return setInterval(...arguments)},ia.clearTimeout=function(){return clearTimeout(...arguments)},ia.clearInterval=function(){return clearInterval(...arguments)};const aa=[];var oa;!function(e){e[e.LOW=0]="LOW",e[e.MEDIUM=1]="MEDIUM",e[e.HIGH=2]="HIGH"}(oa||(oa={}));class sa extends tr.EventEmitter{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var r;super(),this.attachedElements=[],this.isMuted=!1,this.streamState=sa.StreamState.Active,this.isInBackground=!1,this._currentBitrate=0,this.log=zn,this.appVisibilityChangedListener=()=>{this.backgroundTimeout&&clearTimeout(this.backgroundTimeout),"hidden"===document.visibilityState?this.backgroundTimeout=setTimeout((()=>this.handleAppVisibilityChanged()),5e3):this.handleAppVisibilityChanged()},this.log=qn(null!==(r=n.loggerName)&&void 0!==r?r:jn.Track),this.loggerContextCb=n.loggerContextCb,this.setMaxListeners(100),this.kind=t,this._mediaStreamTrack=e,this._mediaStreamID=e.id,this.source=sa.Source.Unknown}get logContext(){var e;return Object.assign(Object.assign({},null===(e=this.loggerContextCb)||void 0===e?void 0:e.call(this)),_o(this))}get currentBitrate(){return this._currentBitrate}get mediaStreamTrack(){return this._mediaStreamTrack}get mediaStreamID(){return this._mediaStreamID}attach(e){let t="audio";this.kind===sa.Kind.Video&&(t="video"),0===this.attachedElements.length&&this.kind===sa.Kind.Video&&this.addAppVisibilityListener(),e||("audio"===t&&(aa.forEach((t=>{null!==t.parentElement||e||(e=t)})),e&&aa.splice(aa.indexOf(e),1)),e||(e=document.createElement(t))),this.attachedElements.includes(e)||this.attachedElements.push(e),ua(this.mediaStreamTrack,e);const n=e.srcObject.getTracks(),r=n.some((e=>"audio"===e.kind));return e.play().then((()=>{this.emit(r?ji.AudioPlaybackStarted:ji.VideoPlaybackStarted)})).catch((t=>{"NotAllowedError"===t.name?this.emit(r?ji.AudioPlaybackFailed:ji.VideoPlaybackFailed,t):"AbortError"===t.name?zn.debug("".concat(r?"audio":"video"," playback aborted, likely due to new play request")):zn.warn("could not playback ".concat(r?"audio":"video"),t),r&&e&&n.some((e=>"video"===e.kind))&&"NotAllowedError"===t.name&&(e.muted=!0,e.play().catch((()=>{})))})),this.emit(ji.ElementAttached,e),e}detach(e){try{if(e){ca(this.mediaStreamTrack,e);const t=this.attachedElements.indexOf(e);return t>=0&&(this.attachedElements.splice(t,1),this.recycleElement(e),this.emit(ji.ElementDetached,e)),e}const t=[];return this.attachedElements.forEach((e=>{ca(this.mediaStreamTrack,e),t.push(e),this.recycleElement(e),this.emit(ji.ElementDetached,e)})),this.attachedElements=[],t}finally{0===this.attachedElements.length&&this.removeAppVisibilityListener()}}stop(){this.stopMonitor(),this._mediaStreamTrack.stop()}enable(){this._mediaStreamTrack.enabled=!0}disable(){this._mediaStreamTrack.enabled=!1}stopMonitor(){this.monitorInterval&&clearInterval(this.monitorInterval),this.timeSyncHandle&&cancelAnimationFrame(this.timeSyncHandle)}updateLoggerOptions(e){e.loggerName&&(this.log=qn(e.loggerName)),e.loggerContextCb&&(this.loggerContextCb=e.loggerContextCb)}recycleElement(e){if(e instanceof HTMLAudioElement){let t=!0;e.pause(),aa.forEach((e=>{e.parentElement||(t=!1)})),t&&aa.push(e)}}handleAppVisibilityChanged(){return Yn(this,void 0,void 0,(function*(){this.isInBackground="hidden"===document.visibilityState,this.isInBackground||this.kind!==sa.Kind.Video||setTimeout((()=>this.attachedElements.forEach((e=>e.play().catch((()=>{}))))),0)}))}addAppVisibilityListener(){Ba()?(this.isInBackground="hidden"===document.visibilityState,document.addEventListener("visibilitychange",this.appVisibilityChangedListener)):this.isInBackground=!1}removeAppVisibilityListener(){Ba()&&document.removeEventListener("visibilitychange",this.appVisibilityChangedListener)}}function ua(e,t){let n,r;n=t.srcObject instanceof MediaStream?t.srcObject:new MediaStream,r="audio"===e.kind?n.getAudioTracks():n.getVideoTracks(),r.includes(e)||(r.forEach((e=>{n.removeTrack(e)})),n.addTrack(e)),Oa()&&t instanceof HTMLVideoElement||(t.autoplay=!0),t.muted=0===n.getAudioTracks().length,t instanceof HTMLVideoElement&&(t.playsInline=!0),t.srcObject!==n&&(t.srcObject=n,(Oa()||Fa())&&t instanceof HTMLVideoElement&&setTimeout((()=>{t.srcObject=n,t.play().catch((()=>{}))}),0))}function ca(e,t){if(t.srcObject instanceof MediaStream){const n=t.srcObject;n.removeTrack(e),n.getTracks().length>0?t.srcObject=n:t.srcObject=null}}!function(e){let t,n,r;!function(e){e.Audio="audio",e.Video="video",e.Unknown="unknown"}(t=e.Kind||(e.Kind={})),function(e){e.Camera="camera",e.Microphone="microphone",e.ScreenShare="screen_share",e.ScreenShareAudio="screen_share_audio",e.Unknown="unknown"}(n=e.Source||(e.Source={})),function(e){e.Active="active",e.Paused="paused",e.Unknown="unknown"}(r=e.StreamState||(e.StreamState={})),e.kindToProto=function(e){switch(e){case t.Audio:return Ke.AUDIO;case t.Video:return Ke.VIDEO;default:return Ke.DATA}},e.kindFromProto=function(e){switch(e){case Ke.AUDIO:return t.Audio;case Ke.VIDEO:return t.Video;default:return t.Unknown}},e.sourceToProto=function(e){switch(e){case n.Camera:return $e.CAMERA;case n.Microphone:return $e.MICROPHONE;case n.ScreenShare:return $e.SCREEN_SHARE;case n.ScreenShareAudio:return $e.SCREEN_SHARE_AUDIO;default:return $e.UNKNOWN}},e.sourceFromProto=function(e){switch(e){case $e.CAMERA:return n.Camera;case $e.MICROPHONE:return n.Microphone;case $e.SCREEN_SHARE:return n.ScreenShare;case $e.SCREEN_SHARE_AUDIO:return n.ScreenShareAudio;default:return n.Unknown}},e.streamStateFromProto=function(e){switch(e){case zt.ACTIVE:return r.Active;case zt.PAUSED:return r.Paused;default:return r.Unknown}}}(sa||(sa={}));class la{constructor(e,t,n,r,i){if("object"==typeof e)this.width=e.width,this.height=e.height,this.aspectRatio=e.aspectRatio,this.encoding={maxBitrate:e.maxBitrate,maxFramerate:e.maxFramerate,priority:e.priority};else{if(void 0===t||void 0===n)throw new TypeError("Unsupported options: provide at least width, height and maxBitrate");this.width=e,this.height=t,this.aspectRatio=e/t,this.encoding={maxBitrate:n,maxFramerate:r,priority:i}}}get resolution(){return{width:this.width,height:this.height,frameRate:this.encoding.maxFramerate,aspectRatio:this.aspectRatio}}}const da=["vp8","h264"],pa=["vp8","h264","vp9","av1"];function fa(e){return!!da.find((t=>t===e))}var ha,ma;!function(e){e[e.PREFER_REGRESSION=0]="PREFER_REGRESSION",e[e.SIMULCAST=1]="SIMULCAST",e[e.REGRESSION=2]="REGRESSION"}(ha||(ha={})),function(e){e.telephone={maxBitrate:12e3},e.speech={maxBitrate:24e3},e.music={maxBitrate:48e3},e.musicStereo={maxBitrate:64e3},e.musicHighQuality={maxBitrate:96e3},e.musicHighQualityStereo={maxBitrate:128e3}}(ma||(ma={}));const va={h90:new la(160,90,9e4,20),h180:new la(320,180,16e4,20),h216:new la(384,216,18e4,20),h360:new la(640,360,45e4,20),h540:new la(960,540,8e5,25),h720:new la(1280,720,17e5,30),h1080:new la(1920,1080,3e6,30),h1440:new la(2560,1440,5e6,30),h2160:new la(3840,2160,8e6,30)},ga={h120:new la(160,120,7e4,20),h180:new la(240,180,125e3,20),h240:new la(320,240,14e4,20),h360:new la(480,360,33e4,20),h480:new la(640,480,5e5,20),h540:new la(720,540,6e5,25),h720:new la(960,720,13e5,30),h1080:new la(1440,1080,23e5,30),h1440:new la(1920,1440,38e5,30)},ya={h360fps3:new la(640,360,2e5,3,"medium"),h360fps15:new la(640,360,4e5,15,"medium"),h720fps5:new la(1280,720,8e5,5,"medium"),h720fps15:new la(1280,720,15e5,15,"medium"),h720fps30:new la(1280,720,2e6,30,"medium"),h1080fps15:new la(1920,1080,25e5,15,"medium"),h1080fps30:new la(1920,1080,5e6,30,"medium"),original:new la(0,0,7e6,30,"medium")},ba="https://aomediacodec.github.io/av1-rtp-spec/#dependency-descriptor-rtp-header-extension";function wa(e){return Yn(this,void 0,void 0,(function*(){return new Promise((t=>ia.setTimeout(t,e)))}))}function Da(){return"addTransceiver"in RTCPeerConnection.prototype}function Aa(){return"addTrack"in RTCPeerConnection.prototype}function Ea(){return void 0!==typeof ResizeObserver&&void 0!==typeof IntersectionObserver}function ka(){return Da()}function Ca(){if(!("getCapabilities"in RTCRtpSender))return!1;if(Oa())return!1;const e=RTCRtpSender.getCapabilities("video");let t=!1;if(e)for(const n of e.codecs)if("video/AV1"===n.mimeType){t=!0;break}return t}function _a(){if(!("getCapabilities"in RTCRtpSender))return!1;if(Fa())return!1;if(Oa()){const e=Zi();if((null==e?void 0:e.version)&&Ua(e.version,"16")<0)return!1}const e=RTCRtpSender.getCapabilities("video");let t=!1;if(e)for(const n of e.codecs)if("video/VP9"===n.mimeType){t=!0;break}return t}function xa(e){return"av1"===e||"vp9"===e}function Sa(e){return!!document&&(e||(e=document.createElement("audio")),"setSinkId"in e)}function Ta(){return"undefined"!=typeof RTCPeerConnection&&(Da()||Aa())}function Fa(){var e;return"Firefox"===(null===(e=Zi())||void 0===e?void 0:e.name)}function Oa(){var e;return"Safari"===(null===(e=Zi())||void 0===e?void 0:e.name)}function Pa(){const e=Zi();return"Safari"===(null==e?void 0:e.name)&&e.version.startsWith("17.")}function Ia(){var e,t;return!!Ba()&&(null!==(t=null===(e=navigator.userAgentData)||void 0===e?void 0:e.mobile)&&void 0!==t?t:/Tablet|iPad|Mobile|Android|BlackBerry/.test(navigator.userAgent))}function Ba(){return"undefined"!=typeof document}function Ra(){return"ReactNative"==navigator.product}function Na(e){return e.hostname.endsWith(".livekit.cloud")||e.hostname.endsWith(".livekit.run")}function Ma(){if(global&&global.LiveKitReactNativeGlobal)return global.LiveKitReactNativeGlobal}function La(){if(!Ra())return;let e=Ma();return e?e.platform:void 0}function ja(){if(Ba())return window.devicePixelRatio;if(Ra()){let e=Ma();if(e)return e.devicePixelRatio}return 1}function Ua(e,t){const n=e.split("."),r=t.split("."),i=Math.min(n.length,r.length);for(let e=0;e<i;++e){const t=parseInt(n[e],10),a=parseInt(r[e],10);if(t>a)return 1;if(t<a)return-1;if(e===i-1&&t===a)return 0}return""===e&&""!==t?-1:""===t?1:n.length==r.length?0:n.length<r.length?-1:1}function za(e){for(const t of e)t.target.handleResize(t)}function Va(e){for(const t of e)t.target.handleVisibilityChanged(t)}let qa=null;const Ha=()=>(qa||(qa=new ResizeObserver(za)),qa);let Wa=null;const Ka=()=>(Wa||(Wa=new IntersectionObserver(Va,{root:null,rootMargin:"0px"})),Wa);let $a,Ga;function Qa(){return $a||($a=Ya()),$a.clone()}function Ya(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=document.createElement("canvas");i.width=e,i.height=t;const a=i.getContext("2d");null==a||a.fillRect(0,0,i.width,i.height),r&&a&&(a.beginPath(),a.arc(e/2,t/2,50,0,2*Math.PI,!0),a.closePath(),a.fillStyle="grey",a.fill());const o=i.captureStream(),[s]=o.getTracks();if(!s)throw Error("Could not get empty media stream video track");return s.enabled=n,s}function Xa(){if(!Ga){const e=new AudioContext,t=e.createOscillator(),n=e.createGain();n.gain.setValueAtTime(0,0);const r=e.createMediaStreamDestination();if(t.connect(n),n.connect(r),t.start(),[Ga]=r.stream.getAudioTracks(),!Ga)throw Error("Could not get empty media stream audio track");Ga.enabled=!1}return Ga.clone()}class Za{constructor(e,t){this.onFinally=t,this.promise=new Promise(((t,n)=>Yn(this,void 0,void 0,(function*(){this.resolve=t,this.reject=n,e&&(yield e(t,n))})))).finally((()=>{var e;return null===(e=this.onFinally)||void 0===e?void 0:e.call(this)}))}}function Ja(e,t){const n=Object.assign({cloneTrack:!1,fftSize:2048,smoothingTimeConstant:.8,minDecibels:-100,maxDecibels:-80},t),r=wo();if(!r)throw new Error("Audio Context not supported on this browser");const i=n.cloneTrack?e.mediaStreamTrack.clone():e.mediaStreamTrack,a=r.createMediaStreamSource(new MediaStream([i])),o=r.createAnalyser();o.minDecibels=n.minDecibels,o.maxDecibels=n.maxDecibels,o.fftSize=n.fftSize,o.smoothingTimeConstant=n.smoothingTimeConstant,a.connect(o);const s=new Uint8Array(o.frequencyBinCount);return{calculateVolume:()=>{o.getByteFrequencyData(s);let e=0;for(const t of s)e+=Math.pow(t/255,2);return Math.sqrt(e/s.length)},analyser:o,cleanup:()=>Yn(this,void 0,void 0,(function*(){yield r.close(),n.cloneTrack&&i.stop()}))}}function eo(e){if("string"==typeof e||"number"==typeof e)return e;if(Array.isArray(e))return e[0];if(e.exact)return Array.isArray(e.exact)?e.exact[0]:e.exact;if(e.ideal)return Array.isArray(e.ideal)?e.ideal[0]:e.ideal;throw Error("could not unwrap constraint")}function to(e){return e.startsWith("ws")?e.replace(/^(ws)/,"http"):e}function no(e){switch(e.reason){case Ii.LeaveRequest:return e.context;case Ii.Cancelled:return Xe.CLIENT_INITIATED;case Ii.NotAllowed:return Xe.USER_REJECTED;case Ii.ServerUnreachable:return Xe.JOIN_FAILURE;default:return Xe.UNKNOWN_REASON}}function ro(e){return void 0!==e?Number(e):void 0}function io(e){return void 0!==e?BigInt(e):void 0}function ao(e){return!!e&&!(e instanceof MediaStreamTrack)&&e.isLocal}function oo(e){return!!e&&e.kind==sa.Kind.Audio}function so(e){return!!e&&e.kind==sa.Kind.Video}function uo(e){return ao(e)&&so(e)}function co(e){return ao(e)&&oo(e)}function lo(e){return!!e&&!e.isLocal}function po(e){return!!e&&!e.isLocal}function fo(e){return lo(e)&&so(e)}function ho(e){return e.isLocal}function mo(e){return!e.isLocal}function vo(e,t,n){var r,i,a,o;const{optionsWithoutProcessor:s,audioProcessor:u,videoProcessor:c}=xo(null!=e?e:{}),l=null==t?void 0:t.processor,d=null==n?void 0:n.processor,p=null!=s?s:{};return!0===p.audio&&(p.audio={}),!0===p.video&&(p.video={}),p.audio&&(go(p.audio,t),null!==(r=(a=p.audio).deviceId)&&void 0!==r||(a.deviceId={ideal:"default"}),(u||l)&&(p.audio.processor=null!=u?u:l)),p.video&&(go(p.video,n),null!==(i=(o=p.video).deviceId)&&void 0!==i||(o.deviceId={ideal:"default"}),(c||d)&&(p.video.processor=null!=c?c:d)),p}function go(e,t){return Object.keys(t).forEach((n=>{void 0===e[n]&&(e[n]=t[n])})),e}function yo(e){var t,n,r,i;const a={};if(e.video)if("object"==typeof e.video){const n={},i=n,o=e.video;Object.keys(o).forEach((e=>{if("resolution"===e)go(i,o.resolution);else i[e]=o[e]})),a.video=n,null!==(t=(r=a.video).deviceId)&&void 0!==t||(r.deviceId={ideal:"default"})}else a.video=!!e.video&&{deviceId:{ideal:"default"}};else a.video=!1;return e.audio?"object"==typeof e.audio?(a.audio=e.audio,null!==(n=(i=a.audio).deviceId)&&void 0!==n||(i.deviceId={ideal:"default"})):a.audio={deviceId:{ideal:"default"}}:a.audio=!1,a}function bo(e){return Yn(this,arguments,void 0,(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;return function*(){const n=wo();if(n){const r=n.createAnalyser();r.fftSize=2048;const i=r.frequencyBinCount,a=new Uint8Array(i);n.createMediaStreamSource(new MediaStream([e.mediaStreamTrack])).connect(r),yield wa(t),r.getByteTimeDomainData(a);const o=a.some((e=>128!==e&&0!==e));return n.close(),!o}return!1}()}))}function wo(){var e;const t="undefined"!=typeof window&&(window.AudioContext||window.webkitAudioContext);if(t){const n=new t({latencyHint:"interactive"});if("suspended"===n.state&&"undefined"!=typeof window&&(null===(e=window.document)||void 0===e?void 0:e.body)){const e=()=>Yn(this,void 0,void 0,(function*(){var t;try{"suspended"===n.state&&(yield n.resume())}catch(e){console.warn("Error trying to auto-resume audio context",e)}null===(t=window.document.body)||void 0===t||t.removeEventListener("click",e)}));window.document.body.addEventListener("click",e)}return n}}function Do(e){return"audioinput"===e?sa.Source.Microphone:"videoinput"===e?sa.Source.Camera:sa.Source.Unknown}function Ao(e){return e===sa.Source.Microphone?"audioinput":e===sa.Source.Camera?"videoinput":void 0}function Eo(e){var t,n;let r=null===(t=e.video)||void 0===t||t;return e.resolution&&e.resolution.width>0&&e.resolution.height>0&&(r="boolean"==typeof r?{}:r,r=Oa()?Object.assign(Object.assign({},r),{width:{max:e.resolution.width},height:{max:e.resolution.height},frameRate:e.resolution.frameRate}):Object.assign(Object.assign({},r),{width:{ideal:e.resolution.width},height:{ideal:e.resolution.height},frameRate:e.resolution.frameRate})),{audio:null!==(n=e.audio)&&void 0!==n&&n,video:r,controller:e.controller,selfBrowserSurface:e.selfBrowserSurface,surfaceSwitching:e.surfaceSwitching,systemAudio:e.systemAudio,preferCurrentTab:e.preferCurrentTab}}function ko(e){return e.split("/")[1].toLowerCase()}function Co(e){const t=[];return e.forEach((e=>{void 0!==e.track&&t.push(new Xt({cid:e.track.mediaStreamID,track:e.trackInfo}))})),t}function _o(e){return"mediaStreamTrack"in e?{trackID:e.sid,source:e.source,muted:e.isMuted,enabled:e.mediaStreamTrack.enabled,kind:e.kind,streamID:e.mediaStreamID,streamTrackID:e.mediaStreamTrack.id}:{trackID:e.trackSid,enabled:e.isEnabled,muted:e.isMuted,trackInfo:Object.assign({mimeType:e.mimeType,name:e.trackName,encrypted:e.isEncrypted,kind:e.kind,source:e.source},e.track?_o(e.track):{})}}function xo(e){const t=Object.assign({},e);let n,r;return"object"==typeof t.audio&&t.audio.processor&&(n=t.audio.processor,t.audio=Object.assign(Object.assign({},t.audio),{processor:void 0})),"object"==typeof t.video&&t.video.processor&&(r=t.video.processor,t.video=Object.assign(Object.assign({},t.video),{processor:void 0})),{audioProcessor:n,videoProcessor:r,optionsWithoutProcessor:(i=t,void 0===i?i:"function"==typeof structuredClone?structuredClone(i):JSON.parse(JSON.stringify(i)))};var i}class So extends tr.EventEmitter{constructor(e){super(),this.onWorkerMessage=e=>{var t,n;const{kind:r,data:i}=e.data;switch(r){case"error":zn.error(i.error.message),this.emit(pi.EncryptionError,i.error);break;case"initAck":i.enabled&&this.keyProvider.getKeys().forEach((e=>{this.postKey(e)}));break;case"enable":if(i.enabled&&this.keyProvider.getKeys().forEach((e=>{this.postKey(e)})),this.encryptionEnabled!==i.enabled&&i.participantIdentity===(null===(t=this.room)||void 0===t?void 0:t.localParticipant.identity))this.emit(pi.ParticipantEncryptionStatusChanged,i.enabled,this.room.localParticipant),this.encryptionEnabled=i.enabled;else if(i.participantIdentity){const e=null===(n=this.room)||void 0===n?void 0:n.getParticipantByIdentity(i.participantIdentity);if(!e)throw TypeError("couldn't set encryption status, participant not found".concat(i.participantIdentity));this.emit(pi.ParticipantEncryptionStatusChanged,i.enabled,e)}break;case"ratchetKey":this.keyProvider.emit(li.KeyRatcheted,i.material,i.keyIndex)}},this.onWorkerError=e=>{zn.error("e2ee worker encountered an error:",{error:e.error}),this.emit(pi.EncryptionError,e.error)},this.keyProvider=e.keyProvider,this.worker=e.worker,this.encryptionEnabled=!1}setup(e){if(!hi())throw new zi("tried to setup end-to-end encryption on an unsupported browser");if(zn.info("setting up e2ee"),e!==this.room){this.room=e,this.setupEventListeners(e,this.keyProvider);const t={kind:"init",data:{keyProviderOptions:this.keyProvider.getOptions(),loglevel:Kn.getLevel()}};this.worker&&(zn.info("initializing worker",{worker:this.worker}),this.worker.onmessage=this.onWorkerMessage,this.worker.onerror=this.onWorkerError,this.worker.postMessage(t))}}setParticipantCryptorEnabled(e,t){zn.debug("set e2ee to ".concat(e," for participant ").concat(t)),this.postEnable(e,t)}setSifTrailer(e){e&&0!==e.length?this.postSifTrailer(e):zn.warn("ignoring server sent trailer as it's empty")}setupEngine(e){e.on(Li.RTPVideoMapUpdate,(e=>{this.postRTPMap(e)}))}setupEventListeners(e,t){e.on(Ni.TrackPublished,((e,t)=>this.setParticipantCryptorEnabled(e.trackInfo.encryption!==ut.NONE,t.identity))),e.on(Ni.ConnectionStateChanged,(t=>{t===lu.Connected&&e.remoteParticipants.forEach((e=>{e.trackPublications.forEach((t=>{this.setParticipantCryptorEnabled(t.trackInfo.encryption!==ut.NONE,e.identity)}))}))})).on(Ni.TrackUnsubscribed,((e,t,n)=>{var r;const i={kind:"removeTransform",data:{participantIdentity:n.identity,trackId:e.mediaStreamID}};null===(r=this.worker)||void 0===r||r.postMessage(i)})).on(Ni.TrackSubscribed,((e,t,n)=>{this.setupE2EEReceiver(e,n.identity,t.trackInfo)})).on(Ni.SignalConnected,(()=>{if(!this.room)throw new TypeError("expected room to be present on signal connect");t.getKeys().forEach((e=>{this.postKey(e)})),this.setParticipantCryptorEnabled(this.room.localParticipant.isE2EEEnabled,this.room.localParticipant.identity)})),e.localParticipant.on(Mi.LocalTrackPublished,(e=>Yn(this,void 0,void 0,(function*(){this.setupE2EESender(e.track,e.track.sender)})))),t.on(li.SetKey,(e=>this.postKey(e))).on(li.RatchetRequest,((e,t)=>this.postRatchetRequest(e,t)))}postRatchetRequest(e,t){if(!this.worker)throw Error("could not ratchet key, worker is missing");const n={kind:"ratchetRequest",data:{participantIdentity:e,keyIndex:t}};this.worker.postMessage(n)}postKey(e){let{key:t,participantIdentity:n,keyIndex:r}=e;var i;if(!this.worker)throw Error("could not set key, worker is missing");const a={kind:"setKey",data:{participantIdentity:n,isPublisher:n===(null===(i=this.room)||void 0===i?void 0:i.localParticipant.identity),key:t,keyIndex:r}};this.worker.postMessage(a)}postEnable(e,t){if(!this.worker)throw new ReferenceError("failed to enable e2ee, worker is not ready");{const n={kind:"enable",data:{enabled:e,participantIdentity:t}};this.worker.postMessage(n)}}postRTPMap(e){var t;if(!this.worker)throw TypeError("could not post rtp map, worker is missing");if(!(null===(t=this.room)||void 0===t?void 0:t.localParticipant.identity))throw TypeError("could not post rtp map, local participant identity is missing");const n={kind:"setRTPMap",data:{map:e,participantIdentity:this.room.localParticipant.identity}};this.worker.postMessage(n)}postSifTrailer(e){if(!this.worker)throw Error("could not post SIF trailer, worker is missing");const t={kind:"setSifTrailer",data:{trailer:e}};this.worker.postMessage(t)}setupE2EEReceiver(e,t,n){if(e.receiver){if(!(null==n?void 0:n.mimeType)||""===n.mimeType)throw new TypeError("MimeType missing from trackInfo, cannot set up E2EE cryptor");this.handleReceiver(e.receiver,e.mediaStreamID,t,"video"===e.kind?ko(n.mimeType):void 0)}}setupE2EESender(e,t){ao(e)&&t?this.handleSender(t,e.mediaStreamID,void 0):t||zn.warn("early return because sender is not ready")}handleReceiver(e,t,n,r){return Yn(this,void 0,void 0,(function*(){if(this.worker){if(mi()){const i={kind:"decode",participantIdentity:n,trackId:t,codec:r};e.transform=new RTCRtpScriptTransform(this.worker,i)}else{if(ui in e&&r){const e={kind:"updateCodec",data:{trackId:t,codec:r,participantIdentity:n}};return void this.worker.postMessage(e)}let i=e.writableStream,a=e.readableStream;if(!i||!a){const t=e.createEncodedStreams();e.writableStream=t.writable,i=t.writable,e.readableStream=t.readable,a=t.readable}const o={kind:"decode",data:{readableStream:a,writableStream:i,trackId:t,codec:r,participantIdentity:n}};this.worker.postMessage(o,[a,i])}e[ui]=!0}}))}handleSender(e,t,n){var r;if(!(ui in e)&&this.worker){if(!(null===(r=this.room)||void 0===r?void 0:r.localParticipant.identity)||""===this.room.localParticipant.identity)throw TypeError("local identity needs to be known in order to set up encrypted sender");if(mi()){zn.info("initialize script transform");const r={kind:"encode",participantIdentity:this.room.localParticipant.identity,trackId:t,codec:n};e.transform=new RTCRtpScriptTransform(this.worker,r)}else{zn.info("initialize encoded streams");const r=e.createEncodedStreams(),i={kind:"encode",data:{readableStream:r.readable,writableStream:r.writable,codec:n,trackId:t,participantIdentity:this.room.localParticipant.identity}};this.worker.postMessage(i,[r.readable,r.writable])}e[ui]=!0}}}const To="default";class Fo{constructor(){this._previousDevices=[]}static getInstance(){return void 0===this.instance&&(this.instance=new Fo),this.instance}get previousDevices(){return this._previousDevices}getDevices(e){return Yn(this,arguments,void 0,(function(e){var t=this;let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function*(){var r;if((null===(r=Fo.userMediaPromiseMap)||void 0===r?void 0:r.size)>0){zn.debug("awaiting getUserMedia promise");try{e?yield Fo.userMediaPromiseMap.get(e):yield Promise.all(Fo.userMediaPromiseMap.values())}catch(e){zn.warn("error waiting for media permissons")}}let i=yield navigator.mediaDevices.enumerateDevices();if(n&&(!Oa()||!t.hasDeviceInUse(e))){if(0===i.filter((t=>t.kind===e)).length||i.some((t=>{const n=""===t.label,r=!e||t.kind===e;return n&&r}))){const t={video:"audioinput"!==e&&"audiooutput"!==e,audio:"videoinput"!==e&&{deviceId:{ideal:"default"}}},n=yield navigator.mediaDevices.getUserMedia(t);i=yield navigator.mediaDevices.enumerateDevices(),n.getTracks().forEach((e=>{e.stop()}))}}return t._previousDevices=i,e&&(i=i.filter((t=>t.kind===e))),i}()}))}normalizeDeviceId(e,t,n){return Yn(this,void 0,void 0,(function*(){if(t!==To)return t;const r=yield this.getDevices(e),i=r.find((e=>e.deviceId===To));if(!i)return void zn.warn("could not reliably determine default device");const a=r.find((e=>e.deviceId!==To&&e.groupId===(null!=n?n:i.groupId)));if(a)return null==a?void 0:a.deviceId;zn.warn("could not reliably determine default device")}))}hasDeviceInUse(e){return e?Fo.userMediaPromiseMap.has(e):Fo.userMediaPromiseMap.size>0}}var Oo;Fo.mediaDeviceKinds=["audioinput","audiooutput","videoinput"],Fo.userMediaPromiseMap=new Map,function(e){e[e.WAITING=0]="WAITING",e[e.RUNNING=1]="RUNNING",e[e.COMPLETED=2]="COMPLETED"}(Oo||(Oo={}));class Po{constructor(){this.pendingTasks=new Map,this.taskMutex=new s,this.nextTaskIndex=0}run(e){return Yn(this,void 0,void 0,(function*(){const t={id:this.nextTaskIndex++,enqueuedAt:Date.now(),status:Oo.WAITING};this.pendingTasks.set(t.id,t);const n=yield this.taskMutex.lock();try{return t.executedAt=Date.now(),t.status=Oo.RUNNING,yield e()}finally{t.status=Oo.COMPLETED,this.pendingTasks.delete(t.id),n()}}))}flush(){return Yn(this,void 0,void 0,(function*(){return this.run((()=>Yn(this,void 0,void 0,(function*(){}))))}))}snapshot(){return Array.from(this.pendingTasks.values())}}function Io(e,t){return e.pathname="".concat(function(e){return e.endsWith("/")?e:"".concat(e,"/")}(e.pathname)).concat(t),e.toString()}const Bo=["syncState","trickle","offer","answer","simulate","leave"];var Ro;!function(e){e[e.CONNECTING=0]="CONNECTING",e[e.CONNECTED=1]="CONNECTED",e[e.RECONNECTING=2]="RECONNECTING",e[e.DISCONNECTING=3]="DISCONNECTING",e[e.DISCONNECTED=4]="DISCONNECTED"}(Ro||(Ro={}));class No{get currentState(){return this.state}get isDisconnected(){return this.state===Ro.DISCONNECTING||this.state===Ro.DISCONNECTED}get isEstablishingConnection(){return this.state===Ro.CONNECTING||this.state===Ro.RECONNECTING}getNextRequestId(){return this._requestId+=1,this._requestId}constructor(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;this.rtt=0,this.state=Ro.DISCONNECTED,this.log=zn,this._requestId=0,this.resetCallbacks=()=>{this.onAnswer=void 0,this.onLeave=void 0,this.onLocalTrackPublished=void 0,this.onLocalTrackUnpublished=void 0,this.onNegotiateRequested=void 0,this.onOffer=void 0,this.onRemoteMuteChanged=void 0,this.onSubscribedQualityUpdate=void 0,this.onTokenRefresh=void 0,this.onTrickle=void 0,this.onClose=void 0},this.log=qn(null!==(n=t.loggerName)&&void 0!==n?n:jn.Signal),this.loggerContextCb=t.loggerContextCb,this.useJSON=e,this.requestQueue=new Po,this.queuedRequests=[],this.closingLock=new s,this.connectionLock=new s,this.state=Ro.DISCONNECTED}get logContext(){var e,t;return null!==(t=null===(e=this.loggerContextCb)||void 0===e?void 0:e.call(this))&&void 0!==t?t:{}}join(e,t,n,r){return Yn(this,void 0,void 0,(function*(){this.state=Ro.CONNECTING,this.options=n;return yield this.connect(e,t,n,r)}))}reconnect(e,t,n,r){return Yn(this,void 0,void 0,(function*(){if(!this.options)return void this.log.warn("attempted to reconnect without signal options being set, ignoring",this.logContext);this.state=Ro.RECONNECTING,this.clearPingInterval();return yield this.connect(e,t,Object.assign(Object.assign({},this.options),{reconnect:!0,sid:n,reconnectReason:r}))}))}connect(e,t,n,r){this.connectOptions=n;const i=function(e,t,n){var r;const i=new URLSearchParams;i.set("access_token",e),n.reconnect&&(i.set("reconnect","1"),n.sid&&i.set("sid",n.sid));i.set("auto_subscribe",n.autoSubscribe?"1":"0"),i.set("sdk",Ra()?"reactnative":"js"),i.set("version",t.version),i.set("protocol",t.protocol.toString()),t.deviceModel&&i.set("device_model",t.deviceModel);t.os&&i.set("os",t.os);t.osVersion&&i.set("os_version",t.osVersion);t.browser&&i.set("browser",t.browser);t.browserVersion&&i.set("browser_version",t.browserVersion);n.adaptiveStream&&i.set("adaptive_stream","1");n.reconnectReason&&i.set("reconnect_reason",n.reconnectReason.toString());(null===(r=navigator.connection)||void 0===r?void 0:r.type)&&i.set("network",navigator.connection.type);return i}(t,function(){var e;const t=new St({sdk:Tt.JS,protocol:ra,version:na});return Ra()&&(t.os=null!==(e=La())&&void 0!==e?e:""),t}(),n),a=function(e,t){const n=new URL(function(e){return e.startsWith("http")?e.replace(/^(http)/,"ws"):e}(e));return t.forEach(((e,t)=>{n.searchParams.set(t,e)})),Io(n,"rtc")}(e,i),o=Io(new URL(to(a)),"validate");return new Promise(((e,t)=>Yn(this,void 0,void 0,(function*(){const i=yield this.connectionLock.lock();try{const i=()=>Yn(this,void 0,void 0,(function*(){this.close(),clearTimeout(s),t(new Ui("room connection has been cancelled (signal)",Ii.Cancelled))})),s=setTimeout((()=>{this.close(),t(new Ui("room connection has timed out (signal)",Ii.ServerUnreachable))}),n.websocketTimeout);(null==r?void 0:r.aborted)&&i(),null==r||r.addEventListener("abort",i);const u=new URL(a);u.searchParams.has("access_token")&&u.searchParams.set("access_token","<redacted>"),this.log.debug("connecting to ".concat(u),Object.assign({reconnect:n.reconnect,reconnectReason:n.reconnectReason},this.logContext)),this.ws&&(yield this.close(!1)),this.ws=new WebSocket(a),this.ws.binaryType="arraybuffer",this.ws.onopen=()=>{clearTimeout(s)},this.ws.onerror=e=>Yn(this,void 0,void 0,(function*(){if(this.state===Ro.CONNECTED)this.handleWSError(e);else{this.state=Ro.DISCONNECTED,clearTimeout(s);try{const n=yield fetch(o);if(n.status.toFixed(0).startsWith("4")){const e=yield n.text();t(new Ui(e,Ii.NotAllowed,n.status))}else t(new Ui("Encountered unknown websocket error during connection: ".concat(e.toString()),Ii.InternalError,n.status))}catch(e){t(new Ui(e instanceof Error?e.message:"server was not reachable",Ii.ServerUnreachable))}}})),this.ws.onmessage=a=>Yn(this,void 0,void 0,(function*(){var o,s,u;let c;if("string"==typeof a.data){const e=JSON.parse(a.data);c=Ht.fromJson(e,{ignoreUnknownFields:!0})}else{if(!(a.data instanceof ArrayBuffer))return void this.log.error("could not decode websocket message: ".concat(typeof a.data),this.logContext);c=Ht.fromBinary(new Uint8Array(a.data))}if(this.state!==Ro.CONNECTED){let a=!1;if("join"===(null===(o=c.message)||void 0===o?void 0:o.case)?(this.state=Ro.CONNECTED,null==r||r.removeEventListener("abort",i),this.pingTimeoutDuration=c.message.value.pingTimeout,this.pingIntervalDuration=c.message.value.pingInterval,this.pingTimeoutDuration&&this.pingTimeoutDuration>0&&(this.log.debug("ping config",Object.assign(Object.assign({},this.logContext),{timeout:this.pingTimeoutDuration,interval:this.pingIntervalDuration})),this.startPingInterval()),e(c.message.value)):this.state===Ro.RECONNECTING&&"leave"!==c.message.case?(this.state=Ro.CONNECTED,null==r||r.removeEventListener("abort",i),this.startPingInterval(),"reconnect"===(null===(s=c.message)||void 0===s?void 0:s.case)?e(c.message.value):(this.log.debug("declaring signal reconnected without reconnect response received",this.logContext),e(void 0),a=!0)):this.isEstablishingConnection&&"leave"===c.message.case?t(new Ui("Received leave request while trying to (re)connect",Ii.LeaveRequest,void 0,c.message.value.reason)):n.reconnect||t(new Ui("did not receive join response, got ".concat(null===(u=c.message)||void 0===u?void 0:u.case," instead"),Ii.InternalError)),!a)return}this.signalLatency&&(yield wa(this.signalLatency)),this.handleSignalResponse(c)})),this.ws.onclose=e=>{this.isEstablishingConnection&&t(new Ui("Websocket got closed during a (re)connection attempt",Ii.InternalError)),this.log.warn("websocket closed",Object.assign(Object.assign({},this.logContext),{reason:e.reason,code:e.code,wasClean:e.wasClean,state:this.state})),this.handleOnClose(e.reason)}}finally{i()}}))))}close(){return Yn(this,arguments,void 0,(function(){var e=this;let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function*(){const n=yield e.closingLock.lock();try{if(e.clearPingInterval(),t&&(e.state=Ro.DISCONNECTING),e.ws){e.ws.onmessage=null,e.ws.onopen=null,e.ws.onclose=null;const t=new Promise((t=>{e.ws?e.ws.onclose=()=>{t()}:t()}));e.ws.readyState<e.ws.CLOSING&&(e.ws.close(),yield Promise.race([t,wa(250)])),e.ws=void 0}}finally{t&&(e.state=Ro.DISCONNECTED),n()}}()}))}sendOffer(e){this.log.debug("sending offer",Object.assign(Object.assign({},this.logContext),{offerSdp:e.sdp})),this.sendRequest({case:"offer",value:Lo(e)})}sendAnswer(e){return this.log.debug("sending answer",Object.assign(Object.assign({},this.logContext),{answerSdp:e.sdp})),this.sendRequest({case:"answer",value:Lo(e)})}sendIceCandidate(e,t){return this.log.debug("sending ice candidate",Object.assign(Object.assign({},this.logContext),{candidate:e})),this.sendRequest({case:"trickle",value:new $t({candidateInit:JSON.stringify(e),target:t})})}sendMuteTrack(e,t){return this.sendRequest({case:"mute",value:new Gt({sid:e,muted:t})})}sendAddTrack(e){return this.sendRequest({case:"addTrack",value:e})}sendUpdateLocalMetadata(e,t){return Yn(this,arguments,void 0,(function(e,t){var n=this;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function*(){const i=n.getNextRequestId();return yield n.sendRequest({case:"updateMetadata",value:new cn({requestId:i,metadata:e,name:t,attributes:r})}),i}()}))}sendUpdateTrackSettings(e){this.sendRequest({case:"trackSetting",value:e})}sendUpdateSubscription(e){return this.sendRequest({case:"subscription",value:e})}sendSyncState(e){return this.sendRequest({case:"syncState",value:e})}sendUpdateVideoLayers(e,t){return this.sendRequest({case:"updateLayers",value:new un({trackSid:e,layers:t})})}sendUpdateSubscriptionPermissions(e,t){return this.sendRequest({case:"subscriptionPermission",value:new Dn({allParticipants:e,trackPermissions:t})})}sendSimulateScenario(e){return this.sendRequest({case:"simulate",value:e})}sendPing(){return Promise.all([this.sendRequest({case:"ping",value:T.parse(Date.now())}),this.sendRequest({case:"pingReq",value:new _n({timestamp:T.parse(Date.now()),rtt:T.parse(this.rtt)})})])}sendUpdateLocalAudioTrack(e,t){return this.sendRequest({case:"updateAudioTrack",value:new rn({trackSid:e,features:t})})}sendLeave(){return this.sendRequest({case:"leave",value:new on({reason:Xe.CLIENT_INITIATED,action:sn.DISCONNECT})})}sendRequest(e){return Yn(this,arguments,void 0,(function(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function*(){const r=!n&&!function(e){const t=Bo.indexOf(e.case)>=0;return zn.trace("request allowed to bypass queue:",{canPass:t,req:e}),t}(e);if(r&&t.state===Ro.RECONNECTING)return void t.queuedRequests.push((()=>Yn(t,void 0,void 0,(function*(){yield this.sendRequest(e,!0)}))));if(n||(yield t.requestQueue.flush()),t.signalLatency&&(yield wa(t.signalLatency)),!t.ws||t.ws.readyState!==t.ws.OPEN)return void t.log.error("cannot send signal request before connected, type: ".concat(null==e?void 0:e.case),t.logContext);const i=new qt({message:e});try{t.useJSON?t.ws.send(i.toJsonString()):t.ws.send(i.toBinary())}catch(e){t.log.error("error sending signal message",Object.assign(Object.assign({},t.logContext),{error:e}))}}()}))}handleSignalResponse(e){var t,n;const r=e.message;if(null==r)return void this.log.debug("received unsupported message",this.logContext);let i=!1;if("answer"===r.case){const e=Mo(r.value);this.onAnswer&&this.onAnswer(e)}else if("offer"===r.case){const e=Mo(r.value);this.onOffer&&this.onOffer(e)}else if("trickle"===r.case){const e=JSON.parse(r.value.candidateInit);this.onTrickle&&this.onTrickle(e,r.value.target)}else"update"===r.case?this.onParticipantUpdate&&this.onParticipantUpdate(null!==(t=r.value.participants)&&void 0!==t?t:[]):"trackPublished"===r.case?this.onLocalTrackPublished&&this.onLocalTrackPublished(r.value):"speakersChanged"===r.case?this.onSpeakersChanged&&this.onSpeakersChanged(null!==(n=r.value.speakers)&&void 0!==n?n:[]):"leave"===r.case?this.onLeave&&this.onLeave(r.value):"mute"===r.case?this.onRemoteMuteChanged&&this.onRemoteMuteChanged(r.value.sid,r.value.muted):"roomUpdate"===r.case?this.onRoomUpdate&&r.value.room&&this.onRoomUpdate(r.value.room):"connectionQuality"===r.case?this.onConnectionQuality&&this.onConnectionQuality(r.value):"streamStateUpdate"===r.case?this.onStreamStateUpdate&&this.onStreamStateUpdate(r.value):"subscribedQualityUpdate"===r.case?this.onSubscribedQualityUpdate&&this.onSubscribedQualityUpdate(r.value):"subscriptionPermissionUpdate"===r.case?this.onSubscriptionPermissionUpdate&&this.onSubscriptionPermissionUpdate(r.value):"refreshToken"===r.case?this.onTokenRefresh&&this.onTokenRefresh(r.value):"trackUnpublished"===r.case?this.onLocalTrackUnpublished&&this.onLocalTrackUnpublished(r.value):"subscriptionResponse"===r.case?this.onSubscriptionError&&this.onSubscriptionError(r.value):"pong"===r.case||("pongResp"===r.case?(this.rtt=Date.now()-Number.parseInt(r.value.lastPingTimestamp.toString()),this.resetPingTimeout(),i=!0):"requestResponse"===r.case?this.onRequestResponse&&this.onRequestResponse(r.value):"trackSubscribed"===r.case?this.onLocalTrackSubscribed&&this.onLocalTrackSubscribed(r.value.trackSid):this.log.debug("unsupported message",Object.assign(Object.assign({},this.logContext),{msgCase:r.case})));i||this.resetPingTimeout()}setReconnected(){for(;this.queuedRequests.length>0;){const e=this.queuedRequests.shift();e&&this.requestQueue.run(e)}}handleOnClose(e){return Yn(this,void 0,void 0,(function*(){if(this.state===Ro.DISCONNECTED)return;const t=this.onClose;yield this.close(),this.log.debug("websocket connection closed: ".concat(e),Object.assign(Object.assign({},this.logContext),{reason:e})),t&&t(e)}))}handleWSError(e){this.log.error("websocket error",Object.assign(Object.assign({},this.logContext),{error:e}))}resetPingTimeout(){this.clearPingTimeout(),this.pingTimeoutDuration?this.pingTimeout=ia.setTimeout((()=>{this.log.warn("ping timeout triggered. last pong received at: ".concat(new Date(Date.now()-1e3*this.pingTimeoutDuration).toUTCString()),this.logContext),this.handleOnClose("ping timeout")}),1e3*this.pingTimeoutDuration):this.log.warn("ping timeout duration not set",this.logContext)}clearPingTimeout(){this.pingTimeout&&ia.clearTimeout(this.pingTimeout)}startPingInterval(){this.clearPingInterval(),this.resetPingTimeout(),this.pingIntervalDuration?(this.log.debug("start ping interval",this.logContext),this.pingInterval=ia.setInterval((()=>{this.sendPing()}),1e3*this.pingIntervalDuration)):this.log.warn("ping interval duration not set",this.logContext)}clearPingInterval(){this.log.debug("clearing ping interval",this.logContext),this.clearPingTimeout(),this.pingInterval&&ia.clearInterval(this.pingInterval)}}function Mo(e){const t={type:"offer",sdp:e.sdp};switch(e.type){case"answer":case"offer":case"pranswer":case"rollback":t.type=e.type}return t}function Lo(e){return new Jt({sdp:e.sdp,type:e.type})}var jo,Uo,zo,Vo,qo,Ho={},Wo={},Ko={exports:{}};function $o(){if(jo)return Ko.exports;jo=1;var e=Ko.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(e){return e.encoding?"rtpmap:%d %s/%s/%s":e.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(e){return null!=e.address?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(e){return null!=e.subtype?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(e){return"extmap:%d"+(e.direction?"/%s":"%v")+(e["encrypt-uri"]?" %s":"%v")+" %s"+(e.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(e){return null!=e.sessionConfig?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(e){var t="candidate:%s %d %s %d %s %d typ %s";return t+=null!=e.raddr?" raddr %s rport %d":"%v%v",t+=null!=e.tcptype?" tcptype %s":"%v",null!=e.generation&&(t+=" generation %d"),t+=null!=e["network-id"]?" network-id %d":"%v",t+=null!=e["network-cost"]?" network-cost %d":"%v"}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(e){var t="ssrc:%d";return null!=e.attribute&&(t+=" %s",null!=e.value&&(t+=":%s")),t}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(e){return null!=e.maxMessageSize?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(e){return e.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(e){return"imageattr:%s %s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(e){return"simulcast:%s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(e){return"ts-refclk:%s"+(null!=e.clksrcExt?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(e){var t="mediaclk:";return t+=null!=e.id?"id=%s %s":"%v%s",t+=null!=e.mediaClockValue?"=%s":"",t+=null!=e.rateNumerator?" rate=%s":"",t+=null!=e.rateDenominator?"/%s":""}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};return Object.keys(e).forEach((function(t){e[t].forEach((function(e){e.reg||(e.reg=/(.*)/),e.format||(e.format="%s")}))})),Ko.exports}function Go(){return Uo||(Uo=1,function(e){var t=function(e){return String(Number(e))===e?Number(e):e},n=function(e,n,r){var i=e.name&&e.names;e.push&&!n[e.push]?n[e.push]=[]:i&&!n[e.name]&&(n[e.name]={});var a=e.push?{}:i?n[e.name]:n;!function(e,n,r,i){if(i&&!r)n[i]=t(e[1]);else for(var a=0;a<r.length;a+=1)null!=e[a+1]&&(n[r[a]]=t(e[a+1]))}(r.match(e.reg),a,e.names,e.name),e.push&&n[e.push].push(a)},r=$o(),i=RegExp.prototype.test.bind(/^([a-z])=(.*)/);e.parse=function(e){var t={},a=[],o=t;return e.split(/(\r\n|\r|\n)/).filter(i).forEach((function(e){var t=e[0],i=e.slice(2);"m"===t&&(a.push({rtp:[],fmtp:[]}),o=a[a.length-1]);for(var s=0;s<(r[t]||[]).length;s+=1){var u=r[t][s];if(u.reg.test(i))return n(u,o,i)}})),t.media=a,t};var a=function(e,n){var r=n.split(/=(.+)/,2);return 2===r.length?e[r[0]]=t(r[1]):1===r.length&&n.length>1&&(e[r[0]]=void 0),e};e.parseParams=function(e){return e.split(/;\s?/).reduce(a,{})},e.parseFmtpConfig=e.parseParams,e.parsePayloads=function(e){return e.toString().split(" ").map(Number)},e.parseRemoteCandidates=function(e){for(var n=[],r=e.split(" ").map(t),i=0;i<r.length;i+=3)n.push({component:r[i],ip:r[i+1],port:r[i+2]});return n},e.parseImageAttributes=function(e){return e.split(" ").map((function(e){return e.substring(1,e.length-1).split(",").reduce(a,{})}))},e.parseSimulcastStreamList=function(e){return e.split(";").map((function(e){return e.split(",").map((function(e){var n,r=!1;return"~"!==e[0]?n=t(e):(n=t(e.substring(1,e.length)),r=!0),{scid:n,paused:r}}))}))}}(Wo)),Wo}function Qo(){if(Vo)return zo;Vo=1;var e=$o(),t=/%[sdv%]/g,n=function(e){var n=1,r=arguments,i=r.length;return e.replace(t,(function(e){if(n>=i)return e;var t=r[n];switch(n+=1,e){case"%%":return"%";case"%s":return String(t);case"%d":return Number(t);case"%v":return""}}))},r=function(e,t,r){var i=[e+"="+(t.format instanceof Function?t.format(t.push?r:r[t.name]):t.format)];if(t.names)for(var a=0;a<t.names.length;a+=1){var o=t.names[a];t.name?i.push(r[t.name][o]):i.push(r[t.names[a]])}else i.push(r[t.name]);return n.apply(null,i)},i=["v","o","s","i","u","e","p","c","b","t","r","z","a"],a=["i","c","b","a"];return zo=function(t,n){n=n||{},null==t.version&&(t.version=0),null==t.name&&(t.name=" "),t.media.forEach((function(e){null==e.payloads&&(e.payloads="")}));var o=n.outerOrder||i,s=n.innerOrder||a,u=[];return o.forEach((function(n){e[n].forEach((function(e){e.name in t&&null!=t[e.name]?u.push(r(n,e,t)):e.push in t&&null!=t[e.push]&&t[e.push].forEach((function(t){u.push(r(n,e,t))}))}))})),t.media.forEach((function(t){u.push(r("m",e.m[0],t)),s.forEach((function(n){e[n].forEach((function(e){e.name in t&&null!=t[e.name]?u.push(r(n,e,t)):e.push in t&&null!=t[e.push]&&t[e.push].forEach((function(t){u.push(r(n,e,t))}))}))}))})),u.join("\r\n")+"\r\n"},zo}var Yo=function(){if(qo)return Ho;qo=1;var e=Go(),t=Qo(),n=$o();return Ho.grammar=n,Ho.write=t,Ho.parse=e.parse,Ho.parseParams=e.parseParams,Ho.parseFmtpConfig=e.parseFmtpConfig,Ho.parsePayloads=e.parsePayloads,Ho.parseRemoteCandidates=e.parseRemoteCandidates,Ho.parseImageAttributes=e.parseImageAttributes,Ho.parseSimulcastStreamList=e.parseSimulcastStreamList,Ho}();function Xo(e,t,n){var r,i,a;void 0===t&&(t=50),void 0===n&&(n={});var o=null!=(r=n.isImmediate)&&r,s=null!=(i=n.callback)&&i,u=n.maxWait,c=Date.now(),l=[];function d(){if(void 0!==u){var e=Date.now()-c;if(e+t>=u)return u-e}return t}var p=function(){var t=[].slice.call(arguments),n=this;return new Promise((function(r,i){var u=o&&void 0===a;if(void 0!==a&&clearTimeout(a),a=setTimeout((function(){if(a=void 0,c=Date.now(),!o){var r=e.apply(n,t);s&&s(r),l.forEach((function(e){return(0,e.resolve)(r)})),l=[]}}),d()),u){var p=e.apply(n,t);return s&&s(p),r(p)}l.push({resolve:r,reject:i})}))};return p.cancel=function(e){void 0!==a&&clearTimeout(a),l.forEach((function(t){return(0,t.reject)(e)})),l=[]},p}const Zo="negotiationStarted",Jo="negotiationComplete",es="rtpVideoPayloadTypes";class ts extends tr.EventEmitter{get pc(){return this._pc||(this._pc=this.createPC()),this._pc}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;super(),this.log=zn,this.ddExtID=0,this.pendingCandidates=[],this.restartingIce=!1,this.renegotiate=!1,this.trackBitrates=[],this.remoteStereoMids=[],this.remoteNackMids=[],this.negotiate=Xo((e=>Yn(this,void 0,void 0,(function*(){this.emit(Zo);try{yield this.createAndSendOffer()}catch(t){if(!e)throw t;e(t)}}))),20),this.close=()=>{this._pc&&(this._pc.close(),this._pc.onconnectionstatechange=null,this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.ondatachannel=null,this._pc.onnegotiationneeded=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ondatachannel=null,this._pc.ontrack=null,this._pc.onconnectionstatechange=null,this._pc.oniceconnectionstatechange=null,this._pc=null)},this.log=qn(null!==(n=t.loggerName)&&void 0!==n?n:jn.PCTransport),this.loggerOptions=t,this.config=e,this._pc=this.createPC()}createPC(){const e=new RTCPeerConnection(this.config);return e.onicecandidate=e=>{var t;e.candidate&&(null===(t=this.onIceCandidate)||void 0===t||t.call(this,e.candidate))},e.onicecandidateerror=e=>{var t;null===(t=this.onIceCandidateError)||void 0===t||t.call(this,e)},e.oniceconnectionstatechange=()=>{var t;null===(t=this.onIceConnectionStateChange)||void 0===t||t.call(this,e.iceConnectionState)},e.onsignalingstatechange=()=>{var t;null===(t=this.onSignalingStatechange)||void 0===t||t.call(this,e.signalingState)},e.onconnectionstatechange=()=>{var t;null===(t=this.onConnectionStateChange)||void 0===t||t.call(this,e.connectionState)},e.ondatachannel=e=>{var t;null===(t=this.onDataChannel)||void 0===t||t.call(this,e)},e.ontrack=e=>{var t;null===(t=this.onTrack)||void 0===t||t.call(this,e)},e}get logContext(){var e,t;return Object.assign({},null===(t=(e=this.loggerOptions).loggerContextCb)||void 0===t?void 0:t.call(e))}get isICEConnected(){return null!==this._pc&&("connected"===this.pc.iceConnectionState||"completed"===this.pc.iceConnectionState)}addIceCandidate(e){return Yn(this,void 0,void 0,(function*(){if(this.pc.remoteDescription&&!this.restartingIce)return this.pc.addIceCandidate(e);this.pendingCandidates.push(e)}))}setRemoteDescription(e){return Yn(this,void 0,void 0,(function*(){var t;let n;if("offer"===e.type){let{stereoMids:t,nackMids:n}=function(e){var t;const n=[],r=[],i=Yo.parse(null!==(t=e.sdp)&&void 0!==t?t:"");let a=0;return i.media.forEach((e=>{var t;"audio"===e.type&&(e.rtp.some((e=>"opus"===e.codec&&(a=e.payload,!0))),(null===(t=e.rtcpFb)||void 0===t?void 0:t.some((e=>e.payload===a&&"nack"===e.type)))&&r.push(e.mid),e.fmtp.some((t=>t.payload===a&&(t.config.includes("sprop-stereo=1")&&n.push(e.mid),!0))))})),{stereoMids:n,nackMids:r}}(e);this.remoteStereoMids=t,this.remoteNackMids=n}else if("answer"===e.type){const r=Yo.parse(null!==(t=e.sdp)&&void 0!==t?t:"");r.media.forEach((e=>{"audio"===e.type&&this.trackBitrates.some((t=>{if(!t.transceiver||e.mid!=t.transceiver.mid)return!1;let n=0;if(e.rtp.some((e=>e.codec.toUpperCase()===t.codec.toUpperCase()&&(n=e.payload,!0))),0===n)return!0;let r=!1;for(const i of e.fmtp)if(i.payload===n){i.config=i.config.split(";").filter((e=>!e.includes("maxaveragebitrate"))).join(";"),t.maxbr>0&&(i.config+=";maxaveragebitrate=".concat(1e3*t.maxbr)),r=!0;break}return r||t.maxbr>0&&e.fmtp.push({payload:n,config:"maxaveragebitrate=".concat(1e3*t.maxbr)}),!0}))})),n=Yo.write(r)}if(yield this.setMungedSDP(e,n,!0),this.pendingCandidates.forEach((e=>{this.pc.addIceCandidate(e)})),this.pendingCandidates=[],this.restartingIce=!1,this.renegotiate)this.renegotiate=!1,yield this.createAndSendOffer();else if("answer"===e.type&&(this.emit(Jo),e.sdp)){Yo.parse(e.sdp).media.forEach((e=>{"video"===e.type&&this.emit(es,e.rtp)}))}}))}createAndSendOffer(e){return Yn(this,void 0,void 0,(function*(){var t;if(void 0===this.onOffer)return;if((null==e?void 0:e.iceRestart)&&(this.log.debug("restarting ICE",this.logContext),this.restartingIce=!0),this._pc&&"have-local-offer"===this._pc.signalingState){const t=this._pc.remoteDescription;if(!(null==e?void 0:e.iceRestart)||!t)return void(this.renegotiate=!0);yield this._pc.setRemoteDescription(t)}else if(!this._pc||"closed"===this._pc.signalingState)return void this.log.warn("could not createOffer with closed peer connection",this.logContext);this.log.debug("starting to negotiate",this.logContext);const n=yield this.pc.createOffer(e);this.log.debug("original offer",Object.assign({sdp:n.sdp},this.logContext));const r=Yo.parse(null!==(t=n.sdp)&&void 0!==t?t:"");r.media.forEach((e=>{rs(e),"audio"===e.type?ns(e,[],[]):"video"===e.type&&this.trackBitrates.some((t=>{if(!e.msid||!t.cid||!e.msid.includes(t.cid))return!1;let n=0;if(e.rtp.some((e=>e.codec.toUpperCase()===t.codec.toUpperCase()&&(n=e.payload,!0))),0===n)return!0;if(xa(t.codec)&&this.ensureVideoDDExtensionForSVC(e,r),"av1"!==t.codec)return!0;const i=Math.round(.7*t.maxbr);for(const t of e.fmtp)if(t.payload===n){t.config.includes("x-google-start-bitrate")||(t.config+=";x-google-start-bitrate=".concat(i));break}return!0}))})),yield this.setMungedSDP(n,Yo.write(r)),this.onOffer(n)}))}createAndSetAnswer(){return Yn(this,void 0,void 0,(function*(){var e;const t=yield this.pc.createAnswer(),n=Yo.parse(null!==(e=t.sdp)&&void 0!==e?e:"");return n.media.forEach((e=>{rs(e),"audio"===e.type&&ns(e,this.remoteStereoMids,this.remoteNackMids)})),yield this.setMungedSDP(t,Yo.write(n)),t}))}createDataChannel(e,t){return this.pc.createDataChannel(e,t)}addTransceiver(e,t){return this.pc.addTransceiver(e,t)}addTrack(e){if(!this._pc)throw new Hi("PC closed, cannot add track");return this._pc.addTrack(e)}setTrackCodecBitrate(e){this.trackBitrates.push(e)}setConfiguration(e){var t;if(!this._pc)throw new Hi("PC closed, cannot configure");return null===(t=this._pc)||void 0===t?void 0:t.setConfiguration(e)}canRemoveTrack(){var e;return!!(null===(e=this._pc)||void 0===e?void 0:e.removeTrack)}removeTrack(e){var t;return null===(t=this._pc)||void 0===t?void 0:t.removeTrack(e)}getConnectionState(){var e,t;return null!==(t=null===(e=this._pc)||void 0===e?void 0:e.connectionState)&&void 0!==t?t:"closed"}getICEConnectionState(){var e,t;return null!==(t=null===(e=this._pc)||void 0===e?void 0:e.iceConnectionState)&&void 0!==t?t:"closed"}getSignallingState(){var e,t;return null!==(t=null===(e=this._pc)||void 0===e?void 0:e.signalingState)&&void 0!==t?t:"closed"}getTransceivers(){var e,t;return null!==(t=null===(e=this._pc)||void 0===e?void 0:e.getTransceivers())&&void 0!==t?t:[]}getSenders(){var e,t;return null!==(t=null===(e=this._pc)||void 0===e?void 0:e.getSenders())&&void 0!==t?t:[]}getLocalDescription(){var e;return null===(e=this._pc)||void 0===e?void 0:e.localDescription}getRemoteDescription(){var e;return null===(e=this.pc)||void 0===e?void 0:e.remoteDescription}getStats(){return this.pc.getStats()}getConnectedAddress(){return Yn(this,void 0,void 0,(function*(){var e;if(!this._pc)return;let t="";const n=new Map,r=new Map;if((yield this._pc.getStats()).forEach((e=>{switch(e.type){case"transport":t=e.selectedCandidatePairId;break;case"candidate-pair":""===t&&e.selected&&(t=e.id),n.set(e.id,e);break;case"remote-candidate":r.set(e.id,"".concat(e.address,":").concat(e.port))}})),""===t)return;const i=null===(e=n.get(t))||void 0===e?void 0:e.remoteCandidateId;return void 0!==i?r.get(i):void 0}))}setMungedSDP(e,t,n){return Yn(this,void 0,void 0,(function*(){if(t){const r=e.sdp;e.sdp=t;try{return this.log.debug("setting munged ".concat(n?"remote":"local"," description"),this.logContext),void(n?yield this.pc.setRemoteDescription(e):yield this.pc.setLocalDescription(e))}catch(n){this.log.warn("not able to set ".concat(e.type,", falling back to unmodified sdp"),Object.assign(Object.assign({},this.logContext),{error:n,sdp:t})),e.sdp=r}}try{n?yield this.pc.setRemoteDescription(e):yield this.pc.setLocalDescription(e)}catch(t){let r="unknown error";t instanceof Error?r=t.message:"string"==typeof t&&(r=t);const i={error:r,sdp:e.sdp};throw!n&&this.pc.remoteDescription&&(i.remoteSdp=this.pc.remoteDescription),this.log.error("unable to set ".concat(e.type),Object.assign(Object.assign({},this.logContext),{fields:i})),new Wi(r)}}))}ensureVideoDDExtensionForSVC(e,t){var n,r;if(!(null===(n=e.ext)||void 0===n?void 0:n.some((e=>e.uri===ba)))){if(0===this.ddExtID){let e=0;t.media.forEach((t=>{var n;"video"===t.type&&(null===(n=t.ext)||void 0===n||n.forEach((t=>{t.value>e&&(e=t.value)})))})),this.ddExtID=e+1}null===(r=e.ext)||void 0===r||r.push({value:this.ddExtID,uri:ba})}}}function ns(e,t,n){let r=0;e.rtp.some((e=>"opus"===e.codec&&(r=e.payload,!0))),r>0&&(e.rtcpFb||(e.rtcpFb=[]),n.includes(e.mid)&&!e.rtcpFb.some((e=>e.payload===r&&"nack"===e.type))&&e.rtcpFb.push({payload:r,type:"nack"}),t.includes(e.mid)&&e.fmtp.some((e=>e.payload===r&&(e.config.includes("stereo=1")||(e.config+=";stereo=1"),!0))))}function rs(e){if(e.connection){const t=e.connection.ip.indexOf(":")>=0;(4===e.connection.version&&t||6===e.connection.version&&!t)&&(e.connection.ip="0.0.0.0",e.connection.version=4)}}const is="vp8",as={audioPreset:ma.music,dtx:!0,red:!0,forceStereo:!1,simulcast:!0,screenShareEncoding:ya.h1080fps15.encoding,stopMicTrackOnMute:!1,videoCodec:is,backupCodec:!0},os={deviceId:{ideal:"default"},autoGainControl:!0,echoCancellation:!0,noiseSuppression:!0,voiceIsolation:!0},ss={deviceId:{ideal:"default"},resolution:va.h720.resolution},us={adaptiveStream:!1,dynacast:!1,stopLocalTrackOnUnpublish:!0,reconnectPolicy:new Qn,disconnectOnPageLeave:!0,webAudioMix:!1},cs={autoSubscribe:!0,maxRetries:1,peerConnectionTimeout:15e3,websocketTimeout:15e3};var ls;!function(e){e[e.NEW=0]="NEW",e[e.CONNECTING=1]="CONNECTING",e[e.CONNECTED=2]="CONNECTED",e[e.FAILED=3]="FAILED",e[e.CLOSING=4]="CLOSING",e[e.CLOSED=5]="CLOSED"}(ls||(ls={}));class ds{get needsPublisher(){return this.isPublisherConnectionRequired}get needsSubscriber(){return this.isSubscriberConnectionRequired}get currentState(){return this.state}constructor(e,t,n){var r;this.peerConnectionTimeout=cs.peerConnectionTimeout,this.log=zn,this.updateState=()=>{var e;const t=this.state,n=this.requiredTransports.map((e=>e.getConnectionState()));n.every((e=>"connected"===e))?this.state=ls.CONNECTED:n.some((e=>"failed"===e))?this.state=ls.FAILED:n.some((e=>"connecting"===e))?this.state=ls.CONNECTING:n.every((e=>"closed"===e))?this.state=ls.CLOSED:n.some((e=>"closed"===e))?this.state=ls.CLOSING:n.every((e=>"new"===e))&&(this.state=ls.NEW),t!==this.state&&(this.log.debug("pc state change: from ".concat(ls[t]," to ").concat(ls[this.state]),this.logContext),null===(e=this.onStateChange)||void 0===e||e.call(this,this.state,this.publisher.getConnectionState(),this.subscriber.getConnectionState()))},this.log=qn(null!==(r=n.loggerName)&&void 0!==r?r:jn.PCManager),this.loggerOptions=n,this.isPublisherConnectionRequired=!t,this.isSubscriberConnectionRequired=t,this.publisher=new ts(e,n),this.subscriber=new ts(e,n),this.publisher.onConnectionStateChange=this.updateState,this.subscriber.onConnectionStateChange=this.updateState,this.publisher.onIceConnectionStateChange=this.updateState,this.subscriber.onIceConnectionStateChange=this.updateState,this.publisher.onSignalingStatechange=this.updateState,this.subscriber.onSignalingStatechange=this.updateState,this.publisher.onIceCandidate=e=>{var t;null===(t=this.onIceCandidate)||void 0===t||t.call(this,e,Ut.PUBLISHER)},this.subscriber.onIceCandidate=e=>{var t;null===(t=this.onIceCandidate)||void 0===t||t.call(this,e,Ut.SUBSCRIBER)},this.subscriber.onDataChannel=e=>{var t;null===(t=this.onDataChannel)||void 0===t||t.call(this,e)},this.subscriber.onTrack=e=>{var t;null===(t=this.onTrack)||void 0===t||t.call(this,e)},this.publisher.onOffer=e=>{var t;null===(t=this.onPublisherOffer)||void 0===t||t.call(this,e)},this.state=ls.NEW,this.connectionLock=new s,this.remoteOfferLock=new s}get logContext(){var e,t;return Object.assign({},null===(t=(e=this.loggerOptions).loggerContextCb)||void 0===t?void 0:t.call(e))}requirePublisher(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isPublisherConnectionRequired=e,this.updateState()}requireSubscriber(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isSubscriberConnectionRequired=e,this.updateState()}createAndSendPublisherOffer(e){return this.publisher.createAndSendOffer(e)}setPublisherAnswer(e){return this.publisher.setRemoteDescription(e)}removeTrack(e){return this.publisher.removeTrack(e)}close(){return Yn(this,void 0,void 0,(function*(){if(this.publisher&&"closed"!==this.publisher.getSignallingState()){const e=this.publisher;for(const t of e.getSenders())try{e.canRemoveTrack()&&e.removeTrack(t)}catch(e){this.log.warn("could not removeTrack",Object.assign(Object.assign({},this.logContext),{error:e}))}}yield Promise.all([this.publisher.close(),this.subscriber.close()]),this.updateState()}))}triggerIceRestart(){return Yn(this,void 0,void 0,(function*(){this.subscriber.restartingIce=!0,this.needsPublisher&&(yield this.createAndSendPublisherOffer({iceRestart:!0}))}))}addIceCandidate(e,t){return Yn(this,void 0,void 0,(function*(){t===Ut.PUBLISHER?yield this.publisher.addIceCandidate(e):yield this.subscriber.addIceCandidate(e)}))}createSubscriberAnswerFromOffer(e){return Yn(this,void 0,void 0,(function*(){this.log.debug("received server offer",Object.assign(Object.assign({},this.logContext),{RTCSdpType:e.type,sdp:e.sdp,signalingState:this.subscriber.getSignallingState().toString()}));const t=yield this.remoteOfferLock.lock();try{yield this.subscriber.setRemoteDescription(e);return yield this.subscriber.createAndSetAnswer()}finally{t()}}))}updateConfiguration(e,t){this.publisher.setConfiguration(e),this.subscriber.setConfiguration(e),t&&this.triggerIceRestart()}ensurePCTransportConnection(e,t){return Yn(this,void 0,void 0,(function*(){var n;const r=yield this.connectionLock.lock();try{this.isPublisherConnectionRequired&&"connected"!==this.publisher.getConnectionState()&&"connecting"!==this.publisher.getConnectionState()&&(this.log.debug("negotiation required, start negotiating",this.logContext),this.publisher.negotiate()),yield Promise.all(null===(n=this.requiredTransports)||void 0===n?void 0:n.map((n=>this.ensureTransportConnected(n,e,t))))}finally{r()}}))}negotiate(e){return Yn(this,void 0,void 0,(function*(){return new Promise(((t,n)=>Yn(this,void 0,void 0,(function*(){const r=setTimeout((()=>{n("negotiation timed out")}),this.peerConnectionTimeout);e.signal.addEventListener("abort",(()=>{clearTimeout(r),n("negotiation aborted")})),this.publisher.once(Zo,(()=>{e.signal.aborted||this.publisher.once(Jo,(()=>{clearTimeout(r),t()}))})),yield this.publisher.negotiate((e=>{clearTimeout(r),n(e)}))}))))}))}addPublisherTransceiver(e,t){return this.publisher.addTransceiver(e,t)}addPublisherTrack(e){return this.publisher.addTrack(e)}createPublisherDataChannel(e,t){return this.publisher.createDataChannel(e,t)}getConnectedAddress(e){return e===Ut.PUBLISHER||e===Ut.SUBSCRIBER?this.publisher.getConnectedAddress():this.requiredTransports[0].getConnectedAddress()}get requiredTransports(){const e=[];return this.isPublisherConnectionRequired&&e.push(this.publisher),this.isSubscriberConnectionRequired&&e.push(this.subscriber),e}ensureTransportConnected(e,t){return Yn(this,arguments,void 0,(function(e,t){var n=this;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.peerConnectionTimeout;return function*(){if("connected"!==e.getConnectionState())return new Promise(((e,i)=>Yn(n,void 0,void 0,(function*(){const n=()=>{this.log.warn("abort transport connection",this.logContext),ia.clearTimeout(a),i(new Ui("room connection has been cancelled",Ii.Cancelled))};(null==t?void 0:t.signal.aborted)&&n(),null==t||t.signal.addEventListener("abort",n);const a=ia.setTimeout((()=>{null==t||t.signal.removeEventListener("abort",n),i(new Ui("could not establish pc connection",Ii.InternalError))}),r);for(;this.state!==ls.CONNECTED;)if(yield wa(50),null==t?void 0:t.signal.aborted)return void i(new Ui("room connection has been cancelled",Ii.Cancelled));ia.clearTimeout(a),null==t||t.signal.removeEventListener("abort",n),e()}))))}()}))}}class ps extends Error{constructor(e,t,n){super(t),this.code=e,this.message=hs(t,ps.MAX_MESSAGE_BYTES),this.data=n?hs(n,ps.MAX_DATA_BYTES):void 0}static fromProto(e){return new ps(e.code,e.message,e.data)}toProto(){return new kt({code:this.code,message:this.message,data:this.data})}static builtIn(e,t){return new ps(ps.ErrorCode[e],ps.ErrorMessage[e],t)}}ps.MAX_MESSAGE_BYTES=256,ps.MAX_DATA_BYTES=15360,ps.ErrorCode={APPLICATION_ERROR:1500,CONNECTION_TIMEOUT:1501,RESPONSE_TIMEOUT:1502,RECIPIENT_DISCONNECTED:1503,RESPONSE_PAYLOAD_TOO_LARGE:1504,SEND_FAILED:1505,UNSUPPORTED_METHOD:1400,RECIPIENT_NOT_FOUND:1401,REQUEST_PAYLOAD_TOO_LARGE:1402,UNSUPPORTED_SERVER:1403,UNSUPPORTED_VERSION:1404},ps.ErrorMessage={APPLICATION_ERROR:"Application error in method handler",CONNECTION_TIMEOUT:"Connection timeout",RESPONSE_TIMEOUT:"Response timeout",RECIPIENT_DISCONNECTED:"Recipient disconnected",RESPONSE_PAYLOAD_TOO_LARGE:"Response payload too large",SEND_FAILED:"Failed to send",UNSUPPORTED_METHOD:"Method not supported at destination",RECIPIENT_NOT_FOUND:"Recipient not found",REQUEST_PAYLOAD_TOO_LARGE:"Request payload too large",UNSUPPORTED_SERVER:"RPC not supported by server",UNSUPPORTED_VERSION:"Unsupported RPC version"};function fs(e){return(new TextEncoder).encode(e).length}function hs(e,t){if(fs(e)<=t)return e;let n=0,r=e.length;const i=new TextEncoder;for(;n<r;){const a=Math.floor((n+r+1)/2);i.encode(e.slice(0,a)).length<=t?n=a:r=a-1}return e.slice(0,n)}const ms=2e3;function vs(e,t){if(!t)return 0;let n,r;return"bytesReceived"in e?(n=e.bytesReceived,r=t.bytesReceived):"bytesSent"in e&&(n=e.bytesSent,r=t.bytesSent),void 0===n||void 0===r||void 0===e.timestamp||void 0===t.timestamp?0:8*(n-r)*1e3/(e.timestamp-t.timestamp)}class gs extends sa{get sender(){return this._sender}set sender(e){this._sender=e}get constraints(){return this._constraints}constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];super(e,t,arguments.length>4?arguments[4]:void 0),this.manuallyStopped=!1,this._isUpstreamPaused=!1,this.handleTrackMuteEvent=()=>this.debouncedTrackMuteHandler().catch((()=>this.log.debug("track mute bounce got cancelled by an unmute event",this.logContext))),this.debouncedTrackMuteHandler=Xo((()=>Yn(this,void 0,void 0,(function*(){yield this.pauseUpstream()}))),5e3),this.handleTrackUnmuteEvent=()=>Yn(this,void 0,void 0,(function*(){this.debouncedTrackMuteHandler.cancel("unmute"),yield this.resumeUpstream()})),this.handleEnded=()=>{this.isInBackground&&(this.reacquireTrack=!0),this._mediaStreamTrack.removeEventListener("mute",this.handleTrackMuteEvent),this._mediaStreamTrack.removeEventListener("unmute",this.handleTrackUnmuteEvent),this.emit(ji.Ended,this)},this.reacquireTrack=!1,this.providedByUser=r,this.muteLock=new s,this.pauseUpstreamLock=new s,this.processorLock=new s,this.restartLock=new s,this.setMediaStreamTrack(e,!0),this._constraints=e.getConstraints(),n&&(this._constraints=n)}get id(){return this._mediaStreamTrack.id}get dimensions(){if(this.kind!==sa.Kind.Video)return;const{width:e,height:t}=this._mediaStreamTrack.getSettings();return e&&t?{width:e,height:t}:void 0}get isUpstreamPaused(){return this._isUpstreamPaused}get isUserProvided(){return this.providedByUser}get mediaStreamTrack(){var e,t;return null!==(t=null===(e=this.processor)||void 0===e?void 0:e.processedTrack)&&void 0!==t?t:this._mediaStreamTrack}get isLocal(){return!0}getSourceTrackSettings(){return this._mediaStreamTrack.getSettings()}setMediaStreamTrack(e,t){return Yn(this,void 0,void 0,(function*(){var n;if(e===this._mediaStreamTrack&&!t)return;let r;if(this._mediaStreamTrack&&(this.attachedElements.forEach((e=>{ca(this._mediaStreamTrack,e)})),this.debouncedTrackMuteHandler.cancel("new-track"),this._mediaStreamTrack.removeEventListener("ended",this.handleEnded),this._mediaStreamTrack.removeEventListener("mute",this.handleTrackMuteEvent),this._mediaStreamTrack.removeEventListener("unmute",this.handleTrackUnmuteEvent)),this.mediaStream=new MediaStream([e]),e&&(e.addEventListener("ended",this.handleEnded),e.addEventListener("mute",this.handleTrackMuteEvent),e.addEventListener("unmute",this.handleTrackUnmuteEvent),this._constraints=e.getConstraints()),this.processor&&e){const t=yield this.processorLock.lock();try{if(this.log.debug("restarting processor",this.logContext),"unknown"===this.kind)throw TypeError("cannot set processor on track of unknown kind");this.processorElement&&(ua(e,this.processorElement),this.processorElement.muted=!0),yield this.processor.restart({track:e,kind:this.kind,element:this.processorElement}),r=this.processor.processedTrack}finally{t()}}this.sender&&"closed"!==(null===(n=this.sender.transport)||void 0===n?void 0:n.state)&&(yield this.sender.replaceTrack(null!=r?r:e)),this.providedByUser||this._mediaStreamTrack===e||this._mediaStreamTrack.stop(),this._mediaStreamTrack=e,e&&(this._mediaStreamTrack.enabled=!this.isMuted,yield this.resumeUpstream(),this.attachedElements.forEach((t=>{ua(null!=r?r:e,t)})))}))}waitForDimensions(){return Yn(this,arguments,void 0,(function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;return function*(){var n;if(e.kind===sa.Kind.Audio)throw new Error("cannot get dimensions for audio tracks");"iOS"===(null===(n=Zi())||void 0===n?void 0:n.os)&&(yield wa(10));const r=Date.now();for(;Date.now()-r<t;){const t=e.dimensions;if(t)return t;yield wa(50)}throw new Vi("unable to get track dimensions after timeout")}()}))}setDeviceId(e){return Yn(this,void 0,void 0,(function*(){return this._constraints.deviceId===e&&this._mediaStreamTrack.getSettings().deviceId===eo(e)||(this._constraints.deviceId=e,!!this.isMuted||(yield this.restartTrack(),eo(e)===this._mediaStreamTrack.getSettings().deviceId))}))}getDeviceId(){return Yn(this,arguments,void 0,(function(){var e=this;let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function*(){if(e.source===sa.Source.ScreenShare)return;const{deviceId:n,groupId:r}=e._mediaStreamTrack.getSettings(),i=e.kind===sa.Kind.Audio?"audioinput":"videoinput";return t?Fo.getInstance().normalizeDeviceId(i,n,r):n}()}))}mute(){return Yn(this,void 0,void 0,(function*(){return this.setTrackMuted(!0),this}))}unmute(){return Yn(this,void 0,void 0,(function*(){return this.setTrackMuted(!1),this}))}replaceTrack(e,t){return Yn(this,void 0,void 0,(function*(){if(!this.sender)throw new Vi("unable to replace an unpublished track");let n,r;return"boolean"==typeof t?n=t:void 0!==t&&(n=t.userProvidedTrack,r=t.stopProcessor),this.providedByUser=null==n||n,this.log.debug("replace MediaStreamTrack",this.logContext),yield this.setMediaStreamTrack(e),r&&this.processor&&(yield this.stopProcessor()),this}))}restart(e){return Yn(this,void 0,void 0,(function*(){this.manuallyStopped=!1;const t=yield this.restartLock.lock();try{e||(e=this._constraints);const{deviceId:t,facingMode:n}=e,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["deviceId","facingMode"]);this.log.debug("restarting track with constraints",Object.assign(Object.assign({},this.logContext),{constraints:e}));const i={audio:!1,video:!1};this.kind===sa.Kind.Video?i.video=!t&&!n||{deviceId:t,facingMode:n}:i.audio=!t||{deviceId:t},this.attachedElements.forEach((e=>{ca(this.mediaStreamTrack,e)})),this._mediaStreamTrack.removeEventListener("ended",this.handleEnded),this._mediaStreamTrack.stop();const a=(yield navigator.mediaDevices.getUserMedia(i)).getTracks()[0];return yield a.applyConstraints(r),a.addEventListener("ended",this.handleEnded),this.log.debug("re-acquired MediaStreamTrack",this.logContext),yield this.setMediaStreamTrack(a),this._constraints=e,this.emit(ji.Restarted,this),this.manuallyStopped&&(this.log.warn("track was stopped during a restart, stopping restarted track",this.logContext),this.stop()),this}finally{t()}}))}setTrackMuted(e){this.log.debug("setting ".concat(this.kind," track ").concat(e?"muted":"unmuted"),this.logContext),this.isMuted===e&&this._mediaStreamTrack.enabled!==e||(this.isMuted=e,this._mediaStreamTrack.enabled=!e,this.emit(e?ji.Muted:ji.Unmuted,this))}get needsReAcquisition(){return"live"!==this._mediaStreamTrack.readyState||this._mediaStreamTrack.muted||!this._mediaStreamTrack.enabled||this.reacquireTrack}handleAppVisibilityChanged(){const e=Object.create(null,{handleAppVisibilityChanged:{get:()=>super.handleAppVisibilityChanged}});return Yn(this,void 0,void 0,(function*(){yield e.handleAppVisibilityChanged.call(this),Ia()&&(this.log.debug("visibility changed, is in Background: ".concat(this.isInBackground),this.logContext),this.isInBackground||!this.needsReAcquisition||this.isUserProvided||this.isMuted||(this.log.debug("track needs to be reacquired, restarting ".concat(this.source),this.logContext),yield this.restart(),this.reacquireTrack=!1))}))}stop(){var e;this.manuallyStopped=!0,super.stop(),this._mediaStreamTrack.removeEventListener("ended",this.handleEnded),this._mediaStreamTrack.removeEventListener("mute",this.handleTrackMuteEvent),this._mediaStreamTrack.removeEventListener("unmute",this.handleTrackUnmuteEvent),null===(e=this.processor)||void 0===e||e.destroy(),this.processor=void 0}pauseUpstream(){return Yn(this,void 0,void 0,(function*(){var e;const t=yield this.pauseUpstreamLock.lock();try{if(!0===this._isUpstreamPaused)return;if(!this.sender)return void this.log.warn("unable to pause upstream for an unpublished track",this.logContext);this._isUpstreamPaused=!0,this.emit(ji.UpstreamPaused,this);const t=Zi();if("Safari"===(null==t?void 0:t.name)&&Ua(t.version,"12.0")<0)throw new zi("pauseUpstream is not supported on Safari < 12.");"closed"!==(null===(e=this.sender.transport)||void 0===e?void 0:e.state)&&(yield this.sender.replaceTrack(null))}finally{t()}}))}resumeUpstream(){return Yn(this,void 0,void 0,(function*(){var e;const t=yield this.pauseUpstreamLock.lock();try{if(!1===this._isUpstreamPaused)return;if(!this.sender)return void this.log.warn("unable to resume upstream for an unpublished track",this.logContext);this._isUpstreamPaused=!1,this.emit(ji.UpstreamResumed,this),"closed"!==(null===(e=this.sender.transport)||void 0===e?void 0:e.state)&&(yield this.sender.replaceTrack(this.mediaStreamTrack))}finally{t()}}))}getRTCStatsReport(){return Yn(this,void 0,void 0,(function*(){var e;if(!(null===(e=this.sender)||void 0===e?void 0:e.getStats))return;return yield this.sender.getStats()}))}setProcessor(e){return Yn(this,arguments,void 0,(function(e){var t=this;let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function*(){var r;const i=yield t.processorLock.lock();try{t.log.debug("setting up processor",t.logContext);const i=document.createElement(t.kind),a={kind:t.kind,track:t._mediaStreamTrack,element:i,audioContext:t.audioContext};if(yield e.init(a),t.log.debug("processor initialized",t.logContext),t.processor&&(yield t.stopProcessor()),"unknown"===t.kind)throw TypeError("cannot set processor on track of unknown kind");if(ua(t._mediaStreamTrack,i),i.muted=!0,i.play().catch((e=>t.log.error("failed to play processor element",Object.assign(Object.assign({},t.logContext),{error:e})))),t.processor=e,t.processorElement=i,t.processor.processedTrack){for(const e of t.attachedElements)e!==t.processorElement&&n&&(ca(t._mediaStreamTrack,e),ua(t.processor.processedTrack,e));yield null===(r=t.sender)||void 0===r?void 0:r.replaceTrack(t.processor.processedTrack)}t.emit(ji.TrackProcessorUpdate,t.processor)}finally{i()}}()}))}getProcessor(){return this.processor}stopProcessor(){return Yn(this,arguments,void 0,(function(){var e=this;let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function*(){var n,r;e.processor&&(e.log.debug("stopping processor",e.logContext),null===(n=e.processor.processedTrack)||void 0===n||n.stop(),yield e.processor.destroy(),e.processor=void 0,t||(null===(r=e.processorElement)||void 0===r||r.remove(),e.processorElement=void 0),yield e._mediaStreamTrack.applyConstraints(e._constraints),yield e.setMediaStreamTrack(e._mediaStreamTrack,!0),e.emit(ji.TrackProcessorUpdate))}()}))}}class ys extends gs{get enhancedNoiseCancellation(){return this.isKrispNoiseFilterEnabled}constructor(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;super(e,sa.Kind.Audio,t,n,i),this.stopOnMute=!1,this.isKrispNoiseFilterEnabled=!1,this.monitorSender=()=>Yn(this,void 0,void 0,(function*(){if(!this.sender)return void(this._currentBitrate=0);let e;try{e=yield this.getSenderStats()}catch(e){return void this.log.error("could not get audio sender stats",Object.assign(Object.assign({},this.logContext),{error:e}))}e&&this.prevStats&&(this._currentBitrate=vs(e,this.prevStats)),this.prevStats=e})),this.handleKrispNoiseFilterEnable=()=>{this.isKrispNoiseFilterEnabled=!0,this.log.debug("Krisp noise filter enabled",this.logContext),this.emit(ji.AudioTrackFeatureUpdate,this,et.TF_ENHANCED_NOISE_CANCELLATION,!0)},this.handleKrispNoiseFilterDisable=()=>{this.isKrispNoiseFilterEnabled=!1,this.log.debug("Krisp noise filter disabled",this.logContext),this.emit(ji.AudioTrackFeatureUpdate,this,et.TF_ENHANCED_NOISE_CANCELLATION,!1)},this.audioContext=r,this.checkForSilence()}mute(){const e=Object.create(null,{mute:{get:()=>super.mute}});return Yn(this,void 0,void 0,(function*(){const t=yield this.muteLock.lock();try{return this.isMuted?(this.log.debug("Track already muted",this.logContext),this):(this.source===sa.Source.Microphone&&this.stopOnMute&&!this.isUserProvided&&(this.log.debug("stopping mic track",this.logContext),this._mediaStreamTrack.stop()),yield e.mute.call(this),this)}finally{t()}}))}unmute(){const e=Object.create(null,{unmute:{get:()=>super.unmute}});return Yn(this,void 0,void 0,(function*(){const t=yield this.muteLock.lock();try{if(!this.isMuted)return this.log.debug("Track already unmuted",this.logContext),this;const t=this._constraints.deviceId&&this._mediaStreamTrack.getSettings().deviceId!==eo(this._constraints.deviceId);return this.source!==sa.Source.Microphone||!this.stopOnMute&&"ended"!==this._mediaStreamTrack.readyState&&!t||this.isUserProvided||(this.log.debug("reacquiring mic track",this.logContext),yield this.restartTrack()),yield e.unmute.call(this),this}finally{t()}}))}restartTrack(e){return Yn(this,void 0,void 0,(function*(){let t;if(e){const n=yo({audio:e});"boolean"!=typeof n.audio&&(t=n.audio)}yield this.restart(t)}))}restart(e){const t=Object.create(null,{restart:{get:()=>super.restart}});return Yn(this,void 0,void 0,(function*(){const n=yield t.restart.call(this,e);return this.checkForSilence(),n}))}startMonitor(){Ba()&&(this.monitorInterval||(this.monitorInterval=setInterval((()=>{this.monitorSender()}),ms)))}setProcessor(e){return Yn(this,void 0,void 0,(function*(){var t;const n=yield this.processorLock.lock();try{if(!Ra()&&!this.audioContext)throw Error("Audio context needs to be set on LocalAudioTrack in order to enable processors");this.processor&&(yield this.stopProcessor());const n={kind:this.kind,track:this._mediaStreamTrack,audioContext:this.audioContext};this.log.debug("setting up audio processor ".concat(e.name),this.logContext),yield e.init(n),this.processor=e,this.processor.processedTrack&&(yield null===(t=this.sender)||void 0===t?void 0:t.replaceTrack(this.processor.processedTrack),this.processor.processedTrack.addEventListener("enable-lk-krisp-noise-filter",this.handleKrispNoiseFilterEnable),this.processor.processedTrack.addEventListener("disable-lk-krisp-noise-filter",this.handleKrispNoiseFilterDisable)),this.emit(ji.TrackProcessorUpdate,this.processor)}finally{n()}}))}setAudioContext(e){this.audioContext=e}getSenderStats(){return Yn(this,void 0,void 0,(function*(){var e;if(!(null===(e=this.sender)||void 0===e?void 0:e.getStats))return;let t;return(yield this.sender.getStats()).forEach((e=>{"outbound-rtp"===e.type&&(t={type:"audio",streamId:e.id,packetsSent:e.packetsSent,packetsLost:e.packetsLost,bytesSent:e.bytesSent,timestamp:e.timestamp,roundTripTime:e.roundTripTime,jitter:e.jitter})})),t}))}checkForSilence(){return Yn(this,void 0,void 0,(function*(){const e=yield bo(this);return e&&(this.isMuted||this.log.warn("silence detected on local audio track",this.logContext),this.emit(ji.AudioSilenceDetected)),e}))}}const bs=Object.values(va),ws=Object.values(ga),Ds=Object.values(ya),As=[va.h180,va.h360],Es=[ga.h180,ga.h360],ks=["q","h","f"];function Cs(e,t,n,r){var i,a;let o=null==r?void 0:r.videoEncoding;e&&(o=null==r?void 0:r.screenShareEncoding);const s=null==r?void 0:r.simulcast,u=null==r?void 0:r.scalabilityMode,c=null==r?void 0:r.videoCodec;if(!o&&!s&&!u||!t||!n)return[{}];o||(o=function(e,t,n,r){const i=function(e,t,n){if(e)return Ds;const r=t>n?t/n:n/t;if(Math.abs(r-16/9)<Math.abs(r-4/3))return bs;return ws}(e,t,n);let{encoding:a}=i[0];const o=Math.max(t,n);for(let e=0;e<i.length;e+=1){const t=i[e];if(a=t.encoding,t.width>=o)break}if(r)switch(r){case"av1":a=Object.assign({},a),a.maxBitrate=.7*a.maxBitrate;break;case"vp9":a=Object.assign({},a),a.maxBitrate=.85*a.maxBitrate}return a}(e,t,n,c),zn.debug("using video encoding",o));const l=o.maxFramerate,d=new la(t,n,o.maxBitrate,o.maxFramerate,o.priority);if(u&&xa(c)){const e=new Ts(u),t=[];if(e.spatial>3)throw new Error("unsupported scalabilityMode: ".concat(u));const n=Zi();if(Oa()||Ra()||"Chrome"===(null==n?void 0:n.name)&&Ua(null==n?void 0:n.version,"113")<0){const n="h"==e.suffix?2:3;for(let r=0;r<e.spatial;r+=1)t.push({rid:ks[2-r],maxBitrate:o.maxBitrate/Math.pow(n,r),maxFramerate:d.encoding.maxFramerate});t[0].scalabilityMode=u}else t.push({maxBitrate:o.maxBitrate,maxFramerate:d.encoding.maxFramerate,scalabilityMode:u});return d.encoding.priority&&(t[0].priority=d.encoding.priority,t[0].networkPriority=d.encoding.priority),zn.debug("using svc encoding",{encodings:t}),t}if(!s)return[o];let p,f=[];if(f=e?null!==(i=Ss(null==r?void 0:r.screenShareSimulcastLayers))&&void 0!==i?i:_s(e,d):null!==(a=Ss(null==r?void 0:r.videoSimulcastLayers))&&void 0!==a?a:_s(e,d),f.length>0){const e=f[0];f.length>1&&([,p]=f);const r=Math.max(t,n);if(r>=960&&p)return xs(t,n,[e,p,d],l);if(r>=480)return xs(t,n,[e,d],l)}return xs(t,n,[d])}function _s(e,t){if(e)return[{scaleResolutionDownBy:2,fps:(n=t).encoding.maxFramerate}].map((e=>{var t,r;return new la(Math.floor(n.width/e.scaleResolutionDownBy),Math.floor(n.height/e.scaleResolutionDownBy),Math.max(15e4,Math.floor(n.encoding.maxBitrate/(Math.pow(e.scaleResolutionDownBy,2)*((null!==(t=n.encoding.maxFramerate)&&void 0!==t?t:30)/(null!==(r=e.fps)&&void 0!==r?r:30))))),e.fps,n.encoding.priority)}));var n;const{width:r,height:i}=t,a=r>i?r/i:i/r;return Math.abs(a-16/9)<Math.abs(a-4/3)?As:Es}function xs(e,t,n,r){const i=[];if(n.forEach(((n,a)=>{if(a>=ks.length)return;const o=Math.min(e,t),s={rid:ks[a],scaleResolutionDownBy:Math.max(1,o/Math.min(n.width,n.height)),maxBitrate:n.encoding.maxBitrate},u=r&&n.encoding.maxFramerate?Math.min(r,n.encoding.maxFramerate):n.encoding.maxFramerate;u&&(s.maxFramerate=u);const c=Fa()||0===a;n.encoding.priority&&c&&(s.priority=n.encoding.priority,s.networkPriority=n.encoding.priority),i.push(s)})),Ra()&&"ios"===La()){let e;i.forEach((t=>{e?t.maxFramerate&&t.maxFramerate>e&&(e=t.maxFramerate):e=t.maxFramerate}));let t=!0;i.forEach((n=>{var r;n.maxFramerate!=e&&(t&&(t=!1,zn.info("Simulcast on iOS React-Native requires all encodings to share the same framerate.")),zn.info('Setting framerate of encoding "'.concat(null!==(r=n.rid)&&void 0!==r?r:"",'" to ').concat(e)),n.maxFramerate=e)}))}return i}function Ss(e){if(e)return e.sort(((e,t)=>{const{encoding:n}=e,{encoding:r}=t;return n.maxBitrate>r.maxBitrate?1:n.maxBitrate<r.maxBitrate?-1:n.maxBitrate===r.maxBitrate&&n.maxFramerate&&r.maxFramerate?n.maxFramerate>r.maxFramerate?1:-1:0}))}class Ts{constructor(e){const t=e.match(/^L(\d)T(\d)(h|_KEY|_KEY_SHIFT){0,1}$/);if(!t)throw new Error("invalid scalability mode");if(this.spatial=parseInt(t[1]),this.temporal=parseInt(t[2]),t.length>3)switch(t[3]){case"h":case"_KEY":case"_KEY_SHIFT":this.suffix=t[3]}}toString(){var e;return"L".concat(this.spatial,"T").concat(this.temporal).concat(null!==(e=this.suffix)&&void 0!==e?e:"")}}class Fs extends gs{get sender(){return this._sender}set sender(e){this._sender=e,this.degradationPreference&&this.setDegradationPreference(this.degradationPreference)}constructor(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3?arguments[3]:void 0;super(e,sa.Kind.Video,t,n,r),this.simulcastCodecs=new Map,this.degradationPreference="balanced",this.monitorSender=()=>Yn(this,void 0,void 0,(function*(){if(!this.sender)return void(this._currentBitrate=0);let e;try{e=yield this.getSenderStats()}catch(e){return void this.log.error("could not get audio sender stats",Object.assign(Object.assign({},this.logContext),{error:e}))}const t=new Map(e.map((e=>[e.rid,e])));if(this.prevStats){let e=0;t.forEach(((t,n)=>{var r;const i=null===(r=this.prevStats)||void 0===r?void 0:r.get(n);e+=vs(t,i)})),this._currentBitrate=e}this.prevStats=t})),this.senderLock=new s}get isSimulcast(){return!!(this.sender&&this.sender.getParameters().encodings.length>1)}startMonitor(e){var t;if(this.signalClient=e,!Ba())return;const n=null===(t=this.sender)||void 0===t?void 0:t.getParameters();n&&(this.encodings=n.encodings),this.monitorInterval||(this.monitorInterval=setInterval((()=>{this.monitorSender()}),ms))}stop(){this._mediaStreamTrack.getConstraints(),this.simulcastCodecs.forEach((e=>{e.mediaStreamTrack.stop()})),super.stop()}pauseUpstream(){const e=Object.create(null,{pauseUpstream:{get:()=>super.pauseUpstream}});return Yn(this,void 0,void 0,(function*(){var t,n,r,i,a;yield e.pauseUpstream.call(this);try{for(var o,s=!0,u=Zn(this.simulcastCodecs.values());!(t=(o=yield u.next()).done);s=!0){i=o.value,s=!1;const e=i;yield null===(a=e.sender)||void 0===a?void 0:a.replaceTrack(null)}}catch(e){n={error:e}}finally{try{s||t||!(r=u.return)||(yield r.call(u))}finally{if(n)throw n.error}}}))}resumeUpstream(){const e=Object.create(null,{resumeUpstream:{get:()=>super.resumeUpstream}});return Yn(this,void 0,void 0,(function*(){var t,n,r,i,a;yield e.resumeUpstream.call(this);try{for(var o,s=!0,u=Zn(this.simulcastCodecs.values());!(t=(o=yield u.next()).done);s=!0){i=o.value,s=!1;const e=i;yield null===(a=e.sender)||void 0===a?void 0:a.replaceTrack(e.mediaStreamTrack)}}catch(e){n={error:e}}finally{try{s||t||!(r=u.return)||(yield r.call(u))}finally{if(n)throw n.error}}}))}mute(){const e=Object.create(null,{mute:{get:()=>super.mute}});return Yn(this,void 0,void 0,(function*(){const t=yield this.muteLock.lock();try{return this.isMuted?(this.log.debug("Track already muted",this.logContext),this):(this.source!==sa.Source.Camera||this.isUserProvided||(this.log.debug("stopping camera track",this.logContext),this._mediaStreamTrack.stop()),yield e.mute.call(this),this)}finally{t()}}))}unmute(){const e=Object.create(null,{unmute:{get:()=>super.unmute}});return Yn(this,void 0,void 0,(function*(){const t=yield this.muteLock.lock();try{return this.isMuted?(this.source!==sa.Source.Camera||this.isUserProvided||(this.log.debug("reacquiring camera track",this.logContext),yield this.restartTrack()),yield e.unmute.call(this),this):(this.log.debug("Track already unmuted",this.logContext),this)}finally{t()}}))}setTrackMuted(e){super.setTrackMuted(e);for(const t of this.simulcastCodecs.values())t.mediaStreamTrack.enabled=!e}getSenderStats(){return Yn(this,void 0,void 0,(function*(){var e;if(!(null===(e=this.sender)||void 0===e?void 0:e.getStats))return[];const t=[],n=yield this.sender.getStats();return n.forEach((e=>{var r;if("outbound-rtp"===e.type){const i={type:"video",streamId:e.id,frameHeight:e.frameHeight,frameWidth:e.frameWidth,framesPerSecond:e.framesPerSecond,framesSent:e.framesSent,firCount:e.firCount,pliCount:e.pliCount,nackCount:e.nackCount,packetsSent:e.packetsSent,bytesSent:e.bytesSent,qualityLimitationReason:e.qualityLimitationReason,qualityLimitationDurations:e.qualityLimitationDurations,qualityLimitationResolutionChanges:e.qualityLimitationResolutionChanges,rid:null!==(r=e.rid)&&void 0!==r?r:e.id,retransmittedPacketsSent:e.retransmittedPacketsSent,targetBitrate:e.targetBitrate,timestamp:e.timestamp},a=n.get(e.remoteId);a&&(i.jitter=a.jitter,i.packetsLost=a.packetsLost,i.roundTripTime=a.roundTripTime),t.push(i)}})),t.sort(((e,t)=>{var n,r;return(null!==(n=t.frameWidth)&&void 0!==n?n:0)-(null!==(r=e.frameWidth)&&void 0!==r?r:0)})),t}))}setPublishingQuality(e){const t=[];for(let n=oa.LOW;n<=oa.HIGH;n+=1)t.push(new gn({quality:n,enabled:n<=e}));this.log.debug("setting publishing quality. max quality ".concat(e),this.logContext),this.setPublishingLayers(t)}restartTrack(e){return Yn(this,void 0,void 0,(function*(){var t,n,r,i,a;let o;if(e){const t=yo({video:e});"boolean"!=typeof t.video&&(o=t.video)}yield this.restart(o);try{for(var s,u=!0,c=Zn(this.simulcastCodecs.values());!(t=(s=yield c.next()).done);u=!0){i=s.value,u=!1;const e=i;e.sender&&"closed"!==(null===(a=e.sender.transport)||void 0===a?void 0:a.state)&&(e.mediaStreamTrack=this.mediaStreamTrack.clone(),yield e.sender.replaceTrack(e.mediaStreamTrack))}}catch(e){n={error:e}}finally{try{u||t||!(r=c.return)||(yield r.call(c))}finally{if(n)throw n.error}}}))}setProcessor(e){const t=Object.create(null,{setProcessor:{get:()=>super.setProcessor}});return Yn(this,arguments,void 0,(function(e){var n=this;let r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function*(){var i,a,o,s,u,c;if(yield t.setProcessor.call(n,e,r),null===(u=n.processor)||void 0===u?void 0:u.processedTrack)try{for(var l,d=!0,p=Zn(n.simulcastCodecs.values());!(i=(l=yield p.next()).done);d=!0){s=l.value,d=!1;const e=s;yield null===(c=e.sender)||void 0===c?void 0:c.replaceTrack(n.processor.processedTrack)}}catch(e){a={error:e}}finally{try{d||i||!(o=p.return)||(yield o.call(p))}finally{if(a)throw a.error}}}()}))}setDegradationPreference(e){return Yn(this,void 0,void 0,(function*(){if(this.degradationPreference=e,this.sender)try{this.log.debug("setting degradationPreference to ".concat(e),this.logContext);const t=this.sender.getParameters();t.degradationPreference=e,this.sender.setParameters(t)}catch(e){this.log.warn("failed to set degradationPreference",Object.assign({error:e},this.logContext))}}))}addSimulcastTrack(e,t){if(this.simulcastCodecs.has(e))return void this.log.error("".concat(e," already added, skipping adding simulcast codec"),this.logContext);const n={codec:e,mediaStreamTrack:this.mediaStreamTrack.clone(),sender:void 0,encodings:t};return this.simulcastCodecs.set(e,n),n}setSimulcastTrackSender(e,t){const n=this.simulcastCodecs.get(e);n&&(n.sender=t,setTimeout((()=>{this.subscribedCodecs&&this.setPublishingCodecs(this.subscribedCodecs)}),5e3))}setPublishingCodecs(e){return Yn(this,void 0,void 0,(function*(){var t,n,r,i,a,o,s;if(this.log.debug("setting publishing codecs",Object.assign(Object.assign({},this.logContext),{codecs:e,currentCodec:this.codec})),!this.codec&&e.length>0)return yield this.setPublishingLayers(e[0].qualities),[];this.subscribedCodecs=e;const u=[];try{for(t=!0,n=Zn(e);!(i=(r=yield n.next()).done);t=!0){s=r.value,t=!1;const e=s;if(this.codec&&this.codec!==e.codec){const t=this.simulcastCodecs.get(e.codec);if(this.log.debug("try setPublishingCodec for ".concat(e.codec),Object.assign(Object.assign({},this.logContext),{simulcastCodecInfo:t})),t&&t.sender)t.encodings&&(this.log.debug("try setPublishingLayersForSender ".concat(e.codec),this.logContext),yield Os(t.sender,t.encodings,e.qualities,this.senderLock,this.log,this.logContext));else for(const t of e.qualities)if(t.enabled){u.push(e.codec);break}}else yield this.setPublishingLayers(e.qualities)}}catch(e){a={error:e}}finally{try{t||i||!(o=n.return)||(yield o.call(n))}finally{if(a)throw a.error}}return u}))}setPublishingLayers(e){return Yn(this,void 0,void 0,(function*(){this.log.debug("setting publishing layers",Object.assign(Object.assign({},this.logContext),{qualities:e})),this.sender&&this.encodings&&(yield Os(this.sender,this.encodings,e,this.senderLock,this.log,this.logContext))}))}handleAppVisibilityChanged(){const e=Object.create(null,{handleAppVisibilityChanged:{get:()=>super.handleAppVisibilityChanged}});return Yn(this,void 0,void 0,(function*(){yield e.handleAppVisibilityChanged.call(this),Ia()&&this.isInBackground&&this.source===sa.Source.Camera&&(this._mediaStreamTrack.enabled=!1)}))}}function Os(e,t,n,r,i,a){return Yn(this,void 0,void 0,(function*(){const o=yield r.lock();i.debug("setPublishingLayersForSender",Object.assign(Object.assign({},a),{sender:e,qualities:n,senderEncodings:t}));try{const r=e.getParameters(),{encodings:o}=r;if(!o)return;if(o.length!==t.length)return void i.warn("cannot set publishing layers, encodings mismatch",Object.assign(Object.assign({},a),{encodings:o,senderEncodings:t}));let s=!1;const u=Zi();if("Chrome"===(null==u?void 0:u.name)&&Ua(null==u?void 0:u.version,"133")>0&&o[0].scalabilityMode){const e=o[0],r=new Ts(e.scalabilityMode);let i=Ge.OFF;if(n.forEach((e=>{e.enabled&&(i===Ge.OFF||e.quality>i)&&(i=e.quality)})),i===Ge.OFF)e.active&&(e.active=!1,s=!0);else if(!e.active||r.spatial!==i+1){s=!0,e.active=!0;const n=new Ts(t[0].scalabilityMode);r.spatial=i+1,r.suffix=n.suffix,1===r.spatial&&(r.suffix=void 0),e.scalabilityMode=r.toString(),e.scaleResolutionDownBy=Math.pow(2,2-i),t[0].maxBitrate&&(e.maxBitrate=t[0].maxBitrate/(e.scaleResolutionDownBy*e.scaleResolutionDownBy))}}else o.forEach(((e,r)=>{var o;let u=null!==(o=e.rid)&&void 0!==o?o:"";""===u&&(u="q");const c=Ps(u),l=n.find((e=>e.quality===c));l&&e.active!==l.enabled&&(s=!0,e.active=l.enabled,i.debug("setting layer ".concat(l.quality," to ").concat(e.active?"enabled":"disabled"),a),Fa()&&(l.enabled?(e.scaleResolutionDownBy=t[r].scaleResolutionDownBy,e.maxBitrate=t[r].maxBitrate,e.maxFrameRate=t[r].maxFrameRate):(e.scaleResolutionDownBy=4,e.maxBitrate=10,e.maxFrameRate=2)))}));s&&(r.encodings=o,i.debug("setting encodings",Object.assign(Object.assign({},a),{encodings:r.encodings})),yield e.setParameters(r))}finally{o()}}))}function Ps(e){switch(e){case"f":default:return oa.HIGH;case"h":return oa.MEDIUM;case"q":return oa.LOW}}function Is(e,t,n,r){if(!n)return[new dt({quality:oa.HIGH,width:e,height:t,bitrate:0,ssrc:0})];if(r){const r=n[0].scalabilityMode,i=new Ts(r),a=[],o="h"==i.suffix?1.5:2,s="h"==i.suffix?2:3;for(let r=0;r<i.spatial;r+=1)a.push(new dt({quality:Math.min(oa.HIGH,i.spatial-1)-r,width:Math.ceil(e/Math.pow(o,r)),height:Math.ceil(t/Math.pow(o,r)),bitrate:n[0].maxBitrate?Math.ceil(n[0].maxBitrate/Math.pow(s,r)):0,ssrc:0}));return a}return n.map((n=>{var r,i,a;const o=null!==(r=n.scaleResolutionDownBy)&&void 0!==r?r:1;let s=Ps(null!==(i=n.rid)&&void 0!==i?i:"");return new dt({quality:s,width:Math.ceil(e/o),height:Math.ceil(t/o),bitrate:null!==(a=n.maxBitrate)&&void 0!==a?a:0,ssrc:0})}))}const Bs="_lossy",Rs="_reliable",Ns="leave-reconnect";var Ms;!function(e){e[e.New=0]="New",e[e.Connected=1]="Connected",e[e.Disconnected=2]="Disconnected",e[e.Reconnecting=3]="Reconnecting",e[e.Closed=4]="Closed"}(Ms||(Ms={}));class Ls extends tr.EventEmitter{get isClosed(){return this._isClosed}get pendingReconnect(){return!!this.reconnectTimeout}constructor(e){var t;super(),this.options=e,this.rtcConfig={},this.peerConnectionTimeout=cs.peerConnectionTimeout,this.fullReconnectOnNext=!1,this.subscriberPrimary=!1,this.pcState=Ms.New,this._isClosed=!0,this.pendingTrackResolvers={},this.reconnectAttempts=0,this.reconnectStart=0,this.attemptingReconnect=!1,this.joinAttempts=0,this.maxJoinAttempts=1,this.shouldFailNext=!1,this.log=zn,this.handleDataChannel=e=>Yn(this,[e],void 0,(function(e){var t=this;let{channel:n}=e;return function*(){if(n){if(n.label===Rs)t.reliableDCSub=n;else{if(n.label!==Bs)return;t.lossyDCSub=n}t.log.debug("on data channel ".concat(n.id,", ").concat(n.label),t.logContext),n.onmessage=t.handleDataMessage}}()})),this.handleDataMessage=e=>Yn(this,void 0,void 0,(function*(){var t,n;const r=yield this.dataProcessLock.lock();try{let r;if(e.data instanceof ArrayBuffer)r=e.data;else{if(!(e.data instanceof Blob))return void this.log.error("unsupported data type",Object.assign(Object.assign({},this.logContext),{data:e.data}));r=yield e.data.arrayBuffer()}const i=pt.fromBinary(new Uint8Array(r));"speaker"===(null===(t=i.value)||void 0===t?void 0:t.case)?this.emit(Li.ActiveSpeakersUpdate,i.value.value.speakers):("user"===(null===(n=i.value)||void 0===n?void 0:n.case)&&function(e,t){const n=e.participantIdentity?e.participantIdentity:t.participantIdentity;e.participantIdentity=n,t.participantIdentity=n;const r=0!==e.destinationIdentities.length?e.destinationIdentities:t.destinationIdentities;e.destinationIdentities=r,t.destinationIdentities=r}(i,i.value.value),this.emit(Li.DataPacketReceived,i))}finally{r()}})),this.handleDataError=e=>{const t=0===e.currentTarget.maxRetransmits?"lossy":"reliable";if(e instanceof ErrorEvent&&e.error){const{error:n}=e.error;this.log.error("DataChannel error on ".concat(t,": ").concat(e.message),Object.assign(Object.assign({},this.logContext),{error:n}))}else this.log.error("Unknown DataChannel error on ".concat(t),Object.assign(Object.assign({},this.logContext),{event:e}))},this.handleBufferedAmountLow=e=>{const t=0===e.currentTarget.maxRetransmits?ft.LOSSY:ft.RELIABLE;this.updateAndEmitDCBufferStatus(t)},this.handleDisconnect=(e,t)=>{if(this._isClosed)return;this.log.warn("".concat(e," disconnected"),this.logContext),0===this.reconnectAttempts&&(this.reconnectStart=Date.now());const n=e=>{this.log.warn("could not recover connection after ".concat(this.reconnectAttempts," attempts, ").concat(e,"ms. giving up"),this.logContext),this.emit(Li.Disconnected),this.close()},r=Date.now()-this.reconnectStart;let i=this.getNextRetryDelay({elapsedMs:r,retryCount:this.reconnectAttempts});null!==i?(e===Ns&&(i=0),this.log.debug("reconnecting in ".concat(i,"ms"),this.logContext),this.clearReconnectTimeout(),this.token&&this.regionUrlProvider&&this.regionUrlProvider.updateToken(this.token),this.reconnectTimeout=ia.setTimeout((()=>this.attemptReconnect(t).finally((()=>this.reconnectTimeout=void 0))),i)):n(r)},this.waitForRestarted=()=>new Promise(((e,t)=>{this.pcState===Ms.Connected&&e();const n=()=>{this.off(Li.Disconnected,r),e()},r=()=>{this.off(Li.Restarted,n),t()};this.once(Li.Restarted,n),this.once(Li.Disconnected,r)})),this.updateAndEmitDCBufferStatus=e=>{const t=this.isBufferStatusLow(e);void 0!==t&&t!==this.dcBufferStatus.get(e)&&(this.dcBufferStatus.set(e,t),this.emit(Li.DCBufferStatusChanged,t,e))},this.isBufferStatusLow=e=>{const t=this.dataChannelForKind(e);if(t)return t.bufferedAmount<=t.bufferedAmountLowThreshold},this.handleBrowserOnLine=()=>{this.client.currentState===Ro.RECONNECTING&&(this.clearReconnectTimeout(),this.attemptReconnect(Ze.RR_SIGNAL_DISCONNECTED))},this.log=qn(null!==(t=e.loggerName)&&void 0!==t?t:jn.Engine),this.loggerOptions={loggerName:e.loggerName,loggerContextCb:()=>this.logContext},this.client=new No(void 0,this.loggerOptions),this.client.signalLatency=this.options.expSignalLatency,this.reconnectPolicy=this.options.reconnectPolicy,this.registerOnLineListener(),this.closingLock=new s,this.dataProcessLock=new s,this.dcBufferStatus=new Map([[ft.LOSSY,!0],[ft.RELIABLE,!0]]),this.client.onParticipantUpdate=e=>this.emit(Li.ParticipantUpdate,e),this.client.onConnectionQuality=e=>this.emit(Li.ConnectionQualityUpdate,e),this.client.onRoomUpdate=e=>this.emit(Li.RoomUpdate,e),this.client.onSubscriptionError=e=>this.emit(Li.SubscriptionError,e),this.client.onSubscriptionPermissionUpdate=e=>this.emit(Li.SubscriptionPermissionUpdate,e),this.client.onSpeakersChanged=e=>this.emit(Li.SpeakersChanged,e),this.client.onStreamStateUpdate=e=>this.emit(Li.StreamStateChanged,e),this.client.onRequestResponse=e=>this.emit(Li.SignalRequestResponse,e)}get logContext(){var e,t,n,r,i,a,o,s;return{room:null===(t=null===(e=this.latestJoinResponse)||void 0===e?void 0:e.room)||void 0===t?void 0:t.name,roomID:null===(r=null===(n=this.latestJoinResponse)||void 0===n?void 0:n.room)||void 0===r?void 0:r.sid,participant:null===(a=null===(i=this.latestJoinResponse)||void 0===i?void 0:i.participant)||void 0===a?void 0:a.identity,pID:null===(s=null===(o=this.latestJoinResponse)||void 0===o?void 0:o.participant)||void 0===s?void 0:s.sid}}join(e,t,n,r){return Yn(this,void 0,void 0,(function*(){this.url=e,this.token=t,this.signalOpts=n,this.maxJoinAttempts=n.maxRetries;try{this.joinAttempts+=1,this.setupSignalClientCallbacks();const i=yield this.client.join(e,t,n,r);return this._isClosed=!1,this.latestJoinResponse=i,this.subscriberPrimary=i.subscriberPrimary,this.pcManager||(yield this.configure(i)),this.subscriberPrimary&&!i.fastPublish||this.negotiate(),this.clientConfiguration=i.clientConfiguration,setTimeout((()=>{this.emit(Li.SignalConnected)}),10),i}catch(i){if(i instanceof Ui&&i.reason===Ii.ServerUnreachable&&(this.log.warn("Couldn't connect to server, attempt ".concat(this.joinAttempts," of ").concat(this.maxJoinAttempts),this.logContext),this.joinAttempts<this.maxJoinAttempts))return this.join(e,t,n,r);throw i}}))}close(){return Yn(this,void 0,void 0,(function*(){const e=yield this.closingLock.lock();if(this.isClosed)e();else try{this._isClosed=!0,this.joinAttempts=0,this.emit(Li.Closing),this.removeAllListeners(),this.deregisterOnLineListener(),this.clearPendingReconnect(),yield this.cleanupPeerConnections(),yield this.cleanupClient()}finally{e()}}))}cleanupPeerConnections(){return Yn(this,void 0,void 0,(function*(){var e;yield null===(e=this.pcManager)||void 0===e?void 0:e.close(),this.pcManager=void 0;const t=e=>{e&&(e.close(),e.onbufferedamountlow=null,e.onclose=null,e.onclosing=null,e.onerror=null,e.onmessage=null,e.onopen=null)};t(this.lossyDC),t(this.lossyDCSub),t(this.reliableDC),t(this.reliableDCSub),this.lossyDC=void 0,this.lossyDCSub=void 0,this.reliableDC=void 0,this.reliableDCSub=void 0}))}cleanupClient(){return Yn(this,void 0,void 0,(function*(){yield this.client.close(),this.client.resetCallbacks()}))}addTrack(e){if(this.pendingTrackResolvers[e.cid])throw new Vi("a track with the same ID has already been published");return new Promise(((t,n)=>{const r=setTimeout((()=>{delete this.pendingTrackResolvers[e.cid],n(new Ui("publication of local track timed out, no response from server",Ii.InternalError))}),1e4);this.pendingTrackResolvers[e.cid]={resolve:e=>{clearTimeout(r),t(e)},reject:()=>{clearTimeout(r),n(new Error("Cancelled publication by calling unpublish"))}},this.client.sendAddTrack(e)}))}removeTrack(e){if(e.track&&this.pendingTrackResolvers[e.track.id]){const{reject:t}=this.pendingTrackResolvers[e.track.id];t&&t(),delete this.pendingTrackResolvers[e.track.id]}try{return this.pcManager.removeTrack(e),!0}catch(e){this.log.warn("failed to remove track",Object.assign(Object.assign({},this.logContext),{error:e}))}return!1}updateMuteStatus(e,t){this.client.sendMuteTrack(e,t)}get dataSubscriberReadyState(){var e;return null===(e=this.reliableDCSub)||void 0===e?void 0:e.readyState}getConnectedServerAddress(){return Yn(this,void 0,void 0,(function*(){var e;return null===(e=this.pcManager)||void 0===e?void 0:e.getConnectedAddress()}))}setRegionUrlProvider(e){this.regionUrlProvider=e}configure(e){return Yn(this,void 0,void 0,(function*(){var t,n;if(this.pcManager&&this.pcManager.currentState!==ls.NEW)return;this.participantSid=null===(t=e.participant)||void 0===t?void 0:t.sid;const r=this.makeRTCConfiguration(e);var i;this.pcManager=new ds(r,e.subscriberPrimary,this.loggerOptions),this.emit(Li.TransportsCreated,this.pcManager.publisher,this.pcManager.subscriber),this.pcManager.onIceCandidate=(e,t)=>{this.client.sendIceCandidate(e,t)},this.pcManager.onPublisherOffer=e=>{this.client.sendOffer(e)},this.pcManager.onDataChannel=this.handleDataChannel,this.pcManager.onStateChange=(t,n,r)=>Yn(this,void 0,void 0,(function*(){if(this.log.debug("primary PC state changed ".concat(t),this.logContext),["closed","disconnected","failed"].includes(n)&&(this.publisherConnectionPromise=void 0),t===ls.CONNECTED){const t=this.pcState===Ms.New;this.pcState=Ms.Connected,t&&this.emit(Li.Connected,e)}else t===ls.FAILED&&this.pcState===Ms.Connected&&(this.pcState=Ms.Disconnected,this.handleDisconnect("peerconnection failed","failed"===r?Ze.RR_SUBSCRIBER_FAILED:Ze.RR_PUBLISHER_FAILED));const i=this.client.isDisconnected||this.client.currentState===Ro.RECONNECTING,a=[ls.FAILED,ls.CLOSING,ls.CLOSED].includes(t);i&&a&&!this._isClosed&&this.emit(Li.Offline)})),this.pcManager.onTrack=e=>{this.emit(Li.MediaTrackAdded,e.track,e.streams[0],e.receiver)},void 0!==(i=null===(n=e.serverInfo)||void 0===n?void 0:n.protocol)&&i>13||this.createDataChannels()}))}setupSignalClientCallbacks(){this.client.onAnswer=e=>Yn(this,void 0,void 0,(function*(){this.pcManager&&(this.log.debug("received server answer",Object.assign(Object.assign({},this.logContext),{RTCSdpType:e.type})),yield this.pcManager.setPublisherAnswer(e))})),this.client.onTrickle=(e,t)=>{this.pcManager&&(this.log.debug("got ICE candidate from peer",Object.assign(Object.assign({},this.logContext),{candidate:e,target:t})),this.pcManager.addIceCandidate(e,t))},this.client.onOffer=e=>Yn(this,void 0,void 0,(function*(){if(!this.pcManager)return;const t=yield this.pcManager.createSubscriberAnswerFromOffer(e);this.client.sendAnswer(t)})),this.client.onLocalTrackPublished=e=>{var t;if(this.log.debug("received trackPublishedResponse",Object.assign(Object.assign({},this.logContext),{cid:e.cid,track:null===(t=e.track)||void 0===t?void 0:t.sid})),!this.pendingTrackResolvers[e.cid])return void this.log.error("missing track resolver for ".concat(e.cid),Object.assign(Object.assign({},this.logContext),{cid:e.cid}));const{resolve:n}=this.pendingTrackResolvers[e.cid];delete this.pendingTrackResolvers[e.cid],n(e.track)},this.client.onLocalTrackUnpublished=e=>{this.emit(Li.LocalTrackUnpublished,e)},this.client.onLocalTrackSubscribed=e=>{this.emit(Li.LocalTrackSubscribed,e)},this.client.onTokenRefresh=e=>{this.token=e},this.client.onRemoteMuteChanged=(e,t)=>{this.emit(Li.RemoteMute,e,t)},this.client.onSubscribedQualityUpdate=e=>{this.emit(Li.SubscribedQualityUpdate,e)},this.client.onClose=()=>{this.handleDisconnect("signal",Ze.RR_SIGNAL_DISCONNECTED)},this.client.onLeave=e=>{switch(this.log.debug("client leave request",Object.assign(Object.assign({},this.logContext),{reason:null==e?void 0:e.reason})),e.regions&&this.regionUrlProvider&&(this.log.debug("updating regions",this.logContext),this.regionUrlProvider.setServerReportedRegions(e.regions)),e.action){case sn.DISCONNECT:this.emit(Li.Disconnected,null==e?void 0:e.reason),this.close();break;case sn.RECONNECT:this.fullReconnectOnNext=!0,this.handleDisconnect(Ns);break;case sn.RESUME:this.handleDisconnect(Ns)}}}makeRTCConfiguration(e){var t;const n=Object.assign({},this.rtcConfig);if((null===(t=this.signalOpts)||void 0===t?void 0:t.e2eeEnabled)&&(this.log.debug("E2EE - setting up transports with insertable streams",this.logContext),n.encodedInsertableStreams=!0),e.iceServers&&!n.iceServers){const t=[];e.iceServers.forEach((e=>{const n={urls:e.urls};e.username&&(n.username=e.username),e.credential&&(n.credential=e.credential),t.push(n)})),n.iceServers=t}return e.clientConfiguration&&e.clientConfiguration.forceRelay===Ye.ENABLED&&(n.iceTransportPolicy="relay"),n.sdpSemantics="unified-plan",n.continualGatheringPolicy="gather_continually",n}createDataChannels(){this.pcManager&&(this.lossyDC&&(this.lossyDC.onmessage=null,this.lossyDC.onerror=null),this.reliableDC&&(this.reliableDC.onmessage=null,this.reliableDC.onerror=null),this.lossyDC=this.pcManager.createPublisherDataChannel(Bs,{ordered:!0,maxRetransmits:0}),this.reliableDC=this.pcManager.createPublisherDataChannel(Rs,{ordered:!0}),this.lossyDC.onmessage=this.handleDataMessage,this.reliableDC.onmessage=this.handleDataMessage,this.lossyDC.onerror=this.handleDataError,this.reliableDC.onerror=this.handleDataError,this.lossyDC.bufferedAmountLowThreshold=65535,this.reliableDC.bufferedAmountLowThreshold=65535,this.lossyDC.onbufferedamountlow=this.handleBufferedAmountLow,this.reliableDC.onbufferedamountlow=this.handleBufferedAmountLow)}createSender(e,t,n){return Yn(this,void 0,void 0,(function*(){if(Da()){return yield this.createTransceiverRTCRtpSender(e,t,n)}if(Aa()){this.log.warn("using add-track fallback",this.logContext);return yield this.createRTCRtpSender(e.mediaStreamTrack)}throw new Hi("Required webRTC APIs not supported on this device")}))}createSimulcastSender(e,t,n,r){return Yn(this,void 0,void 0,(function*(){if(Da())return this.createSimulcastTransceiverSender(e,t,n,r);if(Aa())return this.log.debug("using add-track fallback",this.logContext),this.createRTCRtpSender(e.mediaStreamTrack);throw new Hi("Cannot stream on this device")}))}createTransceiverRTCRtpSender(e,t,n){return Yn(this,void 0,void 0,(function*(){if(!this.pcManager)throw new Hi("publisher is closed");const r=[];e.mediaStream&&r.push(e.mediaStream),so(e)&&(e.codec=t.videoCodec);const i={direction:"sendonly",streams:r};n&&(i.sendEncodings=n);return(yield this.pcManager.addPublisherTransceiver(e.mediaStreamTrack,i)).sender}))}createSimulcastTransceiverSender(e,t,n,r){return Yn(this,void 0,void 0,(function*(){if(!this.pcManager)throw new Hi("publisher is closed");const i={direction:"sendonly"};r&&(i.sendEncodings=r);const a=yield this.pcManager.addPublisherTransceiver(t.mediaStreamTrack,i);if(n.videoCodec)return e.setSimulcastTrackSender(n.videoCodec,a.sender),a.sender}))}createRTCRtpSender(e){return Yn(this,void 0,void 0,(function*(){if(!this.pcManager)throw new Hi("publisher is closed");return this.pcManager.addPublisherTrack(e)}))}attemptReconnect(e){return Yn(this,void 0,void 0,(function*(){var t,n,r;if(!this._isClosed)if(this.attemptingReconnect)zn.warn("already attempting reconnect, returning early",this.logContext);else{(null===(t=this.clientConfiguration)||void 0===t?void 0:t.resumeConnection)!==Ye.DISABLED&&(null!==(r=null===(n=this.pcManager)||void 0===n?void 0:n.currentState)&&void 0!==r?r:ls.NEW)!==ls.NEW||(this.fullReconnectOnNext=!0);try{this.attemptingReconnect=!0,this.fullReconnectOnNext?yield this.restartConnection():yield this.resumeConnection(e),this.clearPendingReconnect(),this.fullReconnectOnNext=!1}catch(e){this.reconnectAttempts+=1;let t=!0;e instanceof Hi?(this.log.debug("received unrecoverable error",Object.assign(Object.assign({},this.logContext),{error:e})),t=!1):e instanceof js||(this.fullReconnectOnNext=!0),t?this.handleDisconnect("reconnect",Ze.RR_UNKNOWN):(this.log.info("could not recover connection after ".concat(this.reconnectAttempts," attempts, ").concat(Date.now()-this.reconnectStart,"ms. giving up"),this.logContext),this.emit(Li.Disconnected),yield this.close())}finally{this.attemptingReconnect=!1}}}))}getNextRetryDelay(e){try{return this.reconnectPolicy.nextRetryDelayInMs(e)}catch(e){this.log.warn("encountered error in reconnect policy",Object.assign(Object.assign({},this.logContext),{error:e}))}return null}restartConnection(e){return Yn(this,void 0,void 0,(function*(){var t,n,r;try{if(!this.url||!this.token)throw new Hi("could not reconnect, url or token not saved");let n;this.log.info("reconnecting, attempt: ".concat(this.reconnectAttempts),this.logContext),this.emit(Li.Restarting),this.client.isDisconnected||(yield this.client.sendLeave()),yield this.cleanupPeerConnections(),yield this.cleanupClient();try{if(!this.signalOpts)throw this.log.warn("attempted connection restart, without signal options present",this.logContext),new js;n=yield this.join(null!=e?e:this.url,this.token,this.signalOpts)}catch(e){if(e instanceof Ui&&e.reason===Ii.NotAllowed)throw new Hi("could not reconnect, token might be expired");throw new js}if(this.shouldFailNext)throw this.shouldFailNext=!1,new Error("simulated failure");if(this.client.setReconnected(),this.emit(Li.SignalRestarted,n),yield this.waitForPCReconnected(),this.client.currentState!==Ro.CONNECTED)throw new js("Signal connection got severed during reconnect");null===(t=this.regionUrlProvider)||void 0===t||t.resetAttempts(),this.emit(Li.Restarted)}catch(e){const t=yield null===(n=this.regionUrlProvider)||void 0===n?void 0:n.getNextBestRegionUrl();if(t)return void(yield this.restartConnection(t));throw null===(r=this.regionUrlProvider)||void 0===r||r.resetAttempts(),e}}))}resumeConnection(e){return Yn(this,void 0,void 0,(function*(){var t;if(!this.url||!this.token)throw new Hi("could not reconnect, url or token not saved");if(!this.pcManager)throw new Hi("publisher and subscriber connections unset");let n;this.log.info("resuming signal connection, attempt ".concat(this.reconnectAttempts),this.logContext),this.emit(Li.Resuming);try{this.setupSignalClientCallbacks(),n=yield this.client.reconnect(this.url,this.token,this.participantSid,e)}catch(e){let t="";if(e instanceof Error&&(t=e.message,this.log.error(e.message,Object.assign(Object.assign({},this.logContext),{error:e}))),e instanceof Ui&&e.reason===Ii.NotAllowed)throw new Hi("could not reconnect, token might be expired");if(e instanceof Ui&&e.reason===Ii.LeaveRequest)throw e;throw new js(t)}if(this.emit(Li.SignalResumed),n){const e=this.makeRTCConfiguration(n);this.pcManager.updateConfiguration(e)}else this.log.warn("Did not receive reconnect response",this.logContext);if(this.shouldFailNext)throw this.shouldFailNext=!1,new Error("simulated failure");if(yield this.pcManager.triggerIceRestart(),yield this.waitForPCReconnected(),this.client.currentState!==Ro.CONNECTED)throw new js("Signal connection got severed during reconnect");this.client.setReconnected(),"open"===(null===(t=this.reliableDC)||void 0===t?void 0:t.readyState)&&null===this.reliableDC.id&&this.createDataChannels(),this.emit(Li.Resumed)}))}waitForPCInitialConnection(e,t){return Yn(this,void 0,void 0,(function*(){if(!this.pcManager)throw new Hi("PC manager is closed");yield this.pcManager.ensurePCTransportConnection(t,e)}))}waitForPCReconnected(){return Yn(this,void 0,void 0,(function*(){this.pcState=Ms.Reconnecting,this.log.debug("waiting for peer connection to reconnect",this.logContext);try{if(yield wa(2e3),!this.pcManager)throw new Hi("PC manager is closed");yield this.pcManager.ensurePCTransportConnection(void 0,this.peerConnectionTimeout),this.pcState=Ms.Connected}catch(e){throw this.pcState=Ms.Disconnected,new Ui("could not establish PC connection, ".concat(e.message),Ii.InternalError)}}))}publishRpcResponse(e,t,n,r){return Yn(this,void 0,void 0,(function*(){const i=new pt({destinationIdentities:[e],kind:ft.RELIABLE,value:{case:"rpcResponse",value:new Et({requestId:t,value:r?{case:"error",value:r.toProto()}:{case:"payload",value:null!=n?n:""}})}});yield this.sendDataPacket(i,ft.RELIABLE)}))}publishRpcAck(e,t){return Yn(this,void 0,void 0,(function*(){const n=new pt({destinationIdentities:[e],kind:ft.RELIABLE,value:{case:"rpcAck",value:new At({requestId:t})}});yield this.sendDataPacket(n,ft.RELIABLE)}))}sendDataPacket(e,t){return Yn(this,void 0,void 0,(function*(){const n=e.toBinary();yield this.ensurePublisherConnected(t);const r=this.dataChannelForKind(t);r&&r.send(n),this.updateAndEmitDCBufferStatus(t)}))}waitForBufferStatusLow(e){return new Promise(((t,n)=>Yn(this,void 0,void 0,(function*(){if(this.isBufferStatusLow(e))t();else{const r=()=>n("Engine closed");for(this.once(Li.Closing,r);!this.dcBufferStatus.get(e);)yield wa(10);this.off(Li.Closing,r),t()}}))))}ensureDataTransportConnected(e){return Yn(this,arguments,void 0,(function(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.subscriberPrimary;return function*(){var r;if(!t.pcManager)throw new Hi("PC manager is closed");const i=n?t.pcManager.subscriber:t.pcManager.publisher,a=n?"Subscriber":"Publisher";if(!i)throw new Ui("".concat(a," connection not set"),Ii.InternalError);let o=!1;n||t.dataChannelForKind(e,n)||(t.createDataChannels(),o=!0),o||n||t.pcManager.publisher.isICEConnected||"checking"===t.pcManager.publisher.getICEConnectionState()||(o=!0),o&&t.negotiate();const s=t.dataChannelForKind(e,n);if("open"===(null==s?void 0:s.readyState))return;const u=(new Date).getTime()+t.peerConnectionTimeout;for(;(new Date).getTime()<u;){if(i.isICEConnected&&"open"===(null===(r=t.dataChannelForKind(e,n))||void 0===r?void 0:r.readyState))return;yield wa(50)}throw new Ui("could not establish ".concat(a," connection, state: ").concat(i.getICEConnectionState()),Ii.InternalError)}()}))}ensurePublisherConnected(e){return Yn(this,void 0,void 0,(function*(){this.publisherConnectionPromise||(this.publisherConnectionPromise=this.ensureDataTransportConnected(e,!1)),yield this.publisherConnectionPromise}))}verifyTransport(){return!!this.pcManager&&(this.pcManager.currentState===ls.CONNECTED&&!(!this.client.ws||this.client.ws.readyState===WebSocket.CLOSED))}negotiate(){return Yn(this,void 0,void 0,(function*(){return new Promise(((e,t)=>Yn(this,void 0,void 0,(function*(){if(!this.pcManager)return void t(new Wi("PC manager is closed"));this.pcManager.requirePublisher(),0!=this.pcManager.publisher.getTransceivers().length||this.lossyDC||this.reliableDC||this.createDataChannels();const n=new AbortController,r=()=>{n.abort(),this.log.debug("engine disconnected while negotiation was ongoing",this.logContext),e()};this.isClosed&&t("cannot negotiate on closed engine"),this.on(Li.Closing,r),this.pcManager.publisher.once(es,(e=>{const t=new Map;e.forEach((e=>{const n=e.codec.toLowerCase();var r;r=n,pa.includes(r)&&t.set(e.payload,n)})),this.emit(Li.RTPVideoMapUpdate,t)}));try{yield this.pcManager.negotiate(n),e()}catch(e){e instanceof Wi&&(this.fullReconnectOnNext=!0),this.handleDisconnect("negotiation",Ze.RR_UNKNOWN),t(e)}finally{this.off(Li.Closing,r)}}))))}))}dataChannelForKind(e,t){if(t){if(e===ft.LOSSY)return this.lossyDCSub;if(e===ft.RELIABLE)return this.reliableDCSub}else{if(e===ft.LOSSY)return this.lossyDC;if(e===ft.RELIABLE)return this.reliableDC}}sendSyncState(e,t){var n,r;if(!this.pcManager)return void this.log.warn("sync state cannot be sent without peer connection setup",this.logContext);const i=this.pcManager.subscriber.getLocalDescription(),a=this.pcManager.subscriber.getRemoteDescription(),o=null===(r=null===(n=this.signalOpts)||void 0===n?void 0:n.autoSubscribe)||void 0===r||r,s=new Array,u=new Array;e.forEach((e=>{e.isDesired!==o&&s.push(e.trackSid),e.isEnabled||u.push(e.trackSid)})),this.client.sendSyncState(new En({answer:i?Lo({sdp:i.sdp,type:i.type}):void 0,offer:a?Lo({sdp:a.sdp,type:a.type}):void 0,subscription:new tn({trackSids:s,subscribe:!o,participantTracks:[]}),publishTracks:Co(t),dataChannels:this.dataChannelsInfo(),trackSidsDisabled:u}))}failNext(){this.shouldFailNext=!0}dataChannelsInfo(){const e=[],t=(t,n)=>{void 0!==(null==t?void 0:t.id)&&null!==t.id&&e.push(new kn({label:t.label,id:t.id,target:n}))};return t(this.dataChannelForKind(ft.LOSSY),Ut.PUBLISHER),t(this.dataChannelForKind(ft.RELIABLE),Ut.PUBLISHER),t(this.dataChannelForKind(ft.LOSSY,!0),Ut.SUBSCRIBER),t(this.dataChannelForKind(ft.RELIABLE,!0),Ut.SUBSCRIBER),e}clearReconnectTimeout(){this.reconnectTimeout&&ia.clearTimeout(this.reconnectTimeout)}clearPendingReconnect(){this.clearReconnectTimeout(),this.reconnectAttempts=0}registerOnLineListener(){Ba()&&window.addEventListener("online",this.handleBrowserOnLine)}deregisterOnLineListener(){Ba()&&window.removeEventListener("online",this.handleBrowserOnLine)}}class js extends Error{}class Us{constructor(e,t){this.lastUpdateAt=0,this.settingsCacheTime=3e3,this.attemptedRegions=[],this.serverUrl=new URL(e),this.token=t}updateToken(e){this.token=e}isCloud(){return Na(this.serverUrl)}getServerUrl(){return this.serverUrl}getNextBestRegionUrl(e){return Yn(this,void 0,void 0,(function*(){if(!this.isCloud())throw Error("region availability is only supported for LiveKit Cloud domains");(!this.regionSettings||Date.now()-this.lastUpdateAt>this.settingsCacheTime)&&(this.regionSettings=yield this.fetchRegionSettings(e));const t=this.regionSettings.regions.filter((e=>!this.attemptedRegions.find((t=>t.url===e.url))));if(t.length>0){const e=t[0];return this.attemptedRegions.push(e),zn.debug("next region: ".concat(e.region)),e.url}return null}))}resetAttempts(){this.attemptedRegions=[]}fetchRegionSettings(e){return Yn(this,void 0,void 0,(function*(){const t=yield fetch("".concat((n=this.serverUrl,"".concat(n.protocol.replace("ws","http"),"//").concat(n.host,"/settings")),"/regions"),{headers:{authorization:"Bearer ".concat(this.token)},signal:e});var n;if(t.ok){const e=yield t.json();return this.lastUpdateAt=Date.now(),e}throw new Ui("Could not fetch region settings: ".concat(t.statusText),401===t.status?Ii.NotAllowed:Ii.InternalError,t.status)}))}setServerReportedRegions(e){this.regionSettings=e,this.lastUpdateAt=Date.now()}}class zs{get info(){return this._info}constructor(e,t,n){this.reader=t,this.totalByteSize=n,this._info=e,this.bytesReceived=0}}class Vs extends zs{handleChunkReceived(e){var t;this.bytesReceived+=e.content.byteLength;const n=this.totalByteSize?this.bytesReceived/this.totalByteSize:void 0;null===(t=this.onProgress)||void 0===t||t.call(this,n)}[Symbol.asyncIterator](){const e=this.reader.getReader();return{next:()=>Yn(this,void 0,void 0,(function*(){try{const{done:t,value:n}=yield e.read();return t?{done:!0,value:void 0}:(this.handleChunkReceived(n),{done:!1,value:n.content})}catch(e){return{done:!0,value:void 0}}})),return(){return Yn(this,void 0,void 0,(function*(){return e.releaseLock(),{done:!0,value:void 0}}))}}}readAll(){return Yn(this,void 0,void 0,(function*(){var e,t,n,r;let i=new Set;try{for(var a,o=!0,s=Zn(this);!(e=(a=yield s.next()).done);o=!0){r=a.value,o=!1;const e=r;i.add(e)}}catch(e){t={error:e}}finally{try{o||e||!(n=s.return)||(yield n.call(s))}finally{if(t)throw t.error}}return Array.from(i)}))}}class qs extends zs{constructor(e,t,n){super(e,t,n),this.receivedChunks=new Map}handleChunkReceived(e){var t;const n=ro(e.chunkIndex),r=this.receivedChunks.get(n);if(r&&r.version>e.version)return;this.receivedChunks.set(n,e),this.bytesReceived+=e.content.byteLength;const i=this.totalByteSize?this.bytesReceived/this.totalByteSize:void 0;null===(t=this.onProgress)||void 0===t||t.call(this,i)}[Symbol.asyncIterator](){const e=this.reader.getReader(),t=new TextDecoder;return{next:()=>Yn(this,void 0,void 0,(function*(){try{const{done:n,value:r}=yield e.read();return n?{done:!0,value:void 0}:(this.handleChunkReceived(r),{done:!1,value:t.decode(r.content)})}catch(e){return{done:!0,value:void 0}}})),return(){return Yn(this,void 0,void 0,(function*(){return e.releaseLock(),{done:!0,value:void 0}}))}}}readAll(){return Yn(this,void 0,void 0,(function*(){var e,t,n,r;let i="";try{for(var a,o=!0,s=Zn(this);!(e=(a=yield s.next()).done);o=!0){r=a.value,o=!1;i+=r}}catch(e){t={error:e}}finally{try{o||e||!(n=s.return)||(yield n.call(s))}finally{if(t)throw t.error}}return i}))}}class Hs{constructor(e,t,n){this.writableStream=e,this.defaultWriter=e.getWriter(),this.onClose=n,this.info=t}write(e){return this.defaultWriter.write(e)}close(){return Yn(this,void 0,void 0,(function*(){var e;yield this.defaultWriter.close(),this.defaultWriter.releaseLock(),null===(e=this.onClose)||void 0===e||e.call(this)}))}}class Ws extends Hs{}class Ks extends Hs{}class $s extends sa{constructor(e,t,n,r,i){super(e,n,i),this.sid=t,this.receiver=r}get isLocal(){return!1}setMuted(e){this.isMuted!==e&&(this.isMuted=e,this._mediaStreamTrack.enabled=!e,this.emit(e?ji.Muted:ji.Unmuted,this))}setMediaStream(e){this.mediaStream=e;const t=n=>{n.track===this._mediaStreamTrack&&(e.removeEventListener("removetrack",t),this.receiver&&"playoutDelayHint"in this.receiver&&(this.receiver.playoutDelayHint=void 0),this.receiver=void 0,this._currentBitrate=0,this.emit(ji.Ended,this))};e.addEventListener("removetrack",t)}start(){this.startMonitor(),super.enable()}stop(){this.stopMonitor(),super.disable()}getRTCStatsReport(){return Yn(this,void 0,void 0,(function*(){var e;if(!(null===(e=this.receiver)||void 0===e?void 0:e.getStats))return;return yield this.receiver.getStats()}))}setPlayoutDelay(e){this.receiver?"playoutDelayHint"in this.receiver?this.receiver.playoutDelayHint=e:this.log.warn("Playout delay not supported in this browser"):this.log.warn("Cannot set playout delay, track already ended")}getPlayoutDelay(){if(this.receiver){if("playoutDelayHint"in this.receiver)return this.receiver.playoutDelayHint;this.log.warn("Playout delay not supported in this browser")}else this.log.warn("Cannot get playout delay, track already ended");return 0}startMonitor(){this.monitorInterval||(this.monitorInterval=setInterval((()=>this.monitorReceiver()),ms)),"undefined"!=typeof RTCRtpReceiver&&"getSynchronizationSources"in RTCRtpReceiver&&this.registerTimeSyncUpdate()}registerTimeSyncUpdate(){const e=()=>{var t;this.timeSyncHandle=requestAnimationFrame((()=>e()));const n=null===(t=this.receiver)||void 0===t?void 0:t.getSynchronizationSources()[0];if(n){const{timestamp:e,rtpTimestamp:t}=n;t&&this.rtpTimestamp!==t&&(this.emit(ji.TimeSyncUpdate,{timestamp:e,rtpTimestamp:t}),this.rtpTimestamp=t)}};e()}}class Gs extends $s{constructor(e,t,n,r,i,a){super(e,t,sa.Kind.Audio,n,a),this.monitorReceiver=()=>Yn(this,void 0,void 0,(function*(){if(!this.receiver)return void(this._currentBitrate=0);const e=yield this.getReceiverStats();e&&this.prevStats&&this.receiver&&(this._currentBitrate=vs(e,this.prevStats)),this.prevStats=e})),this.audioContext=r,this.webAudioPluginNodes=[],i&&(this.sinkId=i.deviceId)}setVolume(e){var t;for(const n of this.attachedElements)this.audioContext?null===(t=this.gainNode)||void 0===t||t.gain.setTargetAtTime(e,0,.1):n.volume=e;Ra()&&this._mediaStreamTrack._setVolume(e),this.elementVolume=e}getVolume(){if(this.elementVolume)return this.elementVolume;if(Ra())return 1;let e=0;return this.attachedElements.forEach((t=>{t.volume>e&&(e=t.volume)})),e}setSinkId(e){return Yn(this,void 0,void 0,(function*(){this.sinkId=e,yield Promise.all(this.attachedElements.map((t=>{if(Sa(t))return t.setSinkId(e)})))}))}attach(e){const t=0===this.attachedElements.length;return e?super.attach(e):e=super.attach(),this.sinkId&&Sa(e)&&e.setSinkId(this.sinkId),this.audioContext&&t&&(this.log.debug("using audio context mapping",this.logContext),this.connectWebAudio(this.audioContext,e),e.volume=0,e.muted=!0),this.elementVolume&&this.setVolume(this.elementVolume),e}detach(e){let t;return e?(t=super.detach(e),this.audioContext&&(this.attachedElements.length>0?this.connectWebAudio(this.audioContext,this.attachedElements[0]):this.disconnectWebAudio())):(t=super.detach(),this.disconnectWebAudio()),t}setAudioContext(e){this.audioContext=e,e&&this.attachedElements.length>0?this.connectWebAudio(e,this.attachedElements[0]):e||this.disconnectWebAudio()}setWebAudioPlugins(e){this.webAudioPluginNodes=e,this.attachedElements.length>0&&this.audioContext&&this.connectWebAudio(this.audioContext,this.attachedElements[0])}connectWebAudio(e,t){this.disconnectWebAudio(),this.sourceNode=e.createMediaStreamSource(t.srcObject);let n=this.sourceNode;this.webAudioPluginNodes.forEach((e=>{n.connect(e),n=e})),this.gainNode=e.createGain(),n.connect(this.gainNode),this.gainNode.connect(e.destination),this.elementVolume&&this.gainNode.gain.setTargetAtTime(this.elementVolume,0,.1),"running"!==e.state&&e.resume().then((()=>{"running"!==e.state&&this.emit(ji.AudioPlaybackFailed,new Error("Audio Context couldn't be started automatically"))})).catch((e=>{this.emit(ji.AudioPlaybackFailed,e)}))}disconnectWebAudio(){var e,t;null===(e=this.gainNode)||void 0===e||e.disconnect(),null===(t=this.sourceNode)||void 0===t||t.disconnect(),this.gainNode=void 0,this.sourceNode=void 0}getReceiverStats(){return Yn(this,void 0,void 0,(function*(){if(!this.receiver||!this.receiver.getStats)return;let e;return(yield this.receiver.getStats()).forEach((t=>{"inbound-rtp"===t.type&&(e={type:"audio",streamId:t.id,timestamp:t.timestamp,jitter:t.jitter,bytesReceived:t.bytesReceived,concealedSamples:t.concealedSamples,concealmentEvents:t.concealmentEvents,silentConcealedSamples:t.silentConcealedSamples,silentConcealmentEvents:t.silentConcealmentEvents,totalAudioEnergy:t.totalAudioEnergy,totalSamplesDuration:t.totalSamplesDuration})})),e}))}}class Qs extends $s{constructor(e,t,n,r,i){super(e,t,sa.Kind.Video,n,i),this.elementInfos=[],this.monitorReceiver=()=>Yn(this,void 0,void 0,(function*(){if(!this.receiver)return void(this._currentBitrate=0);const e=yield this.getReceiverStats();e&&this.prevStats&&this.receiver&&(this._currentBitrate=vs(e,this.prevStats)),this.prevStats=e})),this.debouncedHandleResize=Xo((()=>{this.updateDimensions()}),100),this.adaptiveStreamSettings=r}get isAdaptiveStream(){return void 0!==this.adaptiveStreamSettings}get mediaStreamTrack(){return this._mediaStreamTrack}setMuted(e){super.setMuted(e),this.attachedElements.forEach((t=>{e?ca(this._mediaStreamTrack,t):ua(this._mediaStreamTrack,t)}))}attach(e){if(e?super.attach(e):e=super.attach(),this.adaptiveStreamSettings&&void 0===this.elementInfos.find((t=>t.element===e))){const t=new Ys(e);this.observeElementInfo(t)}return e}observeElementInfo(e){this.adaptiveStreamSettings&&void 0===this.elementInfos.find((t=>t===e))?(e.handleResize=()=>{this.debouncedHandleResize()},e.handleVisibilityChanged=()=>{this.updateVisibility()},this.elementInfos.push(e),e.observe(),this.debouncedHandleResize(),this.updateVisibility()):this.log.warn("visibility resize observer not triggered",this.logContext)}stopObservingElementInfo(e){if(!this.isAdaptiveStream)return void this.log.warn("stopObservingElementInfo ignored",this.logContext);const t=this.elementInfos.filter((t=>t===e));for(const e of t)e.stopObserving();this.elementInfos=this.elementInfos.filter((t=>t!==e)),this.updateVisibility(),this.debouncedHandleResize()}detach(e){let t=[];if(e)return this.stopObservingElement(e),super.detach(e);t=super.detach();for(const e of t)this.stopObservingElement(e);return t}getDecoderImplementation(){var e;return null===(e=this.prevStats)||void 0===e?void 0:e.decoderImplementation}getReceiverStats(){return Yn(this,void 0,void 0,(function*(){if(!this.receiver||!this.receiver.getStats)return;const e=yield this.receiver.getStats();let t,n="",r=new Map;return e.forEach((e=>{"inbound-rtp"===e.type?(n=e.codecId,t={type:"video",streamId:e.id,framesDecoded:e.framesDecoded,framesDropped:e.framesDropped,framesReceived:e.framesReceived,packetsReceived:e.packetsReceived,packetsLost:e.packetsLost,frameWidth:e.frameWidth,frameHeight:e.frameHeight,pliCount:e.pliCount,firCount:e.firCount,nackCount:e.nackCount,jitter:e.jitter,timestamp:e.timestamp,bytesReceived:e.bytesReceived,decoderImplementation:e.decoderImplementation}):"codec"===e.type&&r.set(e.id,e)})),t&&""!==n&&r.get(n)&&(t.mimeType=r.get(n).mimeType),t}))}stopObservingElement(e){const t=this.elementInfos.filter((t=>t.element===e));for(const e of t)this.stopObservingElementInfo(e)}handleAppVisibilityChanged(){const e=Object.create(null,{handleAppVisibilityChanged:{get:()=>super.handleAppVisibilityChanged}});return Yn(this,void 0,void 0,(function*(){yield e.handleAppVisibilityChanged.call(this),this.isAdaptiveStream&&this.updateVisibility()}))}updateVisibility(){var e,t;const n=this.elementInfos.reduce(((e,t)=>Math.max(e,t.visibilityChangedAt||0)),0),r=!(null!==(t=null===(e=this.adaptiveStreamSettings)||void 0===e?void 0:e.pauseVideoInBackground)&&void 0!==t&&!t)&&this.isInBackground,i=this.elementInfos.some((e=>e.pictureInPicture)),a=this.elementInfos.some((e=>e.visible))&&!r||i;this.lastVisible!==a&&(!a&&Date.now()-n<100?ia.setTimeout((()=>{this.updateVisibility()}),100):(this.lastVisible=a,this.emit(ji.VisibilityChanged,a,this)))}updateDimensions(){var e,t;let n=0,r=0;const i=this.getPixelDensity();for(const e of this.elementInfos){const t=e.width()*i,a=e.height()*i;t+a>n+r&&(n=t,r=a)}(null===(e=this.lastDimensions)||void 0===e?void 0:e.width)===n&&(null===(t=this.lastDimensions)||void 0===t?void 0:t.height)===r||(this.lastDimensions={width:n,height:r},this.emit(ji.VideoDimensionsChanged,this.lastDimensions,this))}getPixelDensity(){var e;const t=null===(e=this.adaptiveStreamSettings)||void 0===e?void 0:e.pixelDensity;if("screen"===t)return ja();if(!t){return ja()>2?2:1}return t}}class Ys{get visible(){return this.isPiP||this.isIntersecting}get pictureInPicture(){return this.isPiP}constructor(e,t){this.onVisibilityChanged=e=>{var t;const{target:n,isIntersecting:r}=e;n===this.element&&(this.isIntersecting=r,this.isPiP=Xs(this.element),this.visibilityChangedAt=Date.now(),null===(t=this.handleVisibilityChanged)||void 0===t||t.call(this))},this.onEnterPiP=()=>{var e,t,n;null===(t=null===(e=window.documentPictureInPicture)||void 0===e?void 0:e.window)||void 0===t||t.addEventListener("pagehide",this.onLeavePiP),this.isPiP=Xs(this.element),null===(n=this.handleVisibilityChanged)||void 0===n||n.call(this)},this.onLeavePiP=()=>{var e;this.isPiP=Xs(this.element),null===(e=this.handleVisibilityChanged)||void 0===e||e.call(this)},this.element=e,this.isIntersecting=null!=t?t:Zs(e),this.isPiP=Ba()&&Xs(e),this.visibilityChangedAt=0}width(){return this.element.clientWidth}height(){return this.element.clientHeight}observe(){var e,t,n;this.isIntersecting=Zs(this.element),this.isPiP=Xs(this.element),this.element.handleResize=()=>{var e;null===(e=this.handleResize)||void 0===e||e.call(this)},this.element.handleVisibilityChanged=this.onVisibilityChanged,Ka().observe(this.element),Ha().observe(this.element),this.element.addEventListener("enterpictureinpicture",this.onEnterPiP),this.element.addEventListener("leavepictureinpicture",this.onLeavePiP),null===(e=window.documentPictureInPicture)||void 0===e||e.addEventListener("enter",this.onEnterPiP),null===(n=null===(t=window.documentPictureInPicture)||void 0===t?void 0:t.window)||void 0===n||n.addEventListener("pagehide",this.onLeavePiP)}stopObserving(){var e,t,n,r,i;null===(e=Ka())||void 0===e||e.unobserve(this.element),null===(t=Ha())||void 0===t||t.unobserve(this.element),this.element.removeEventListener("enterpictureinpicture",this.onEnterPiP),this.element.removeEventListener("leavepictureinpicture",this.onLeavePiP),null===(n=window.documentPictureInPicture)||void 0===n||n.removeEventListener("enter",this.onEnterPiP),null===(i=null===(r=window.documentPictureInPicture)||void 0===r?void 0:r.window)||void 0===i||i.removeEventListener("pagehide",this.onLeavePiP)}}function Xs(e){var t,n;return document.pictureInPictureElement===e||!!(null===(t=window.documentPictureInPicture)||void 0===t?void 0:t.window)&&Zs(e,null===(n=window.documentPictureInPicture)||void 0===n?void 0:n.window)}function Zs(e,t){const n=t||window;let r=e.offsetTop,i=e.offsetLeft;const a=e.offsetWidth,o=e.offsetHeight,{hidden:s}=e,{display:u}=getComputedStyle(e);for(;e.offsetParent;)r+=(e=e.offsetParent).offsetTop,i+=e.offsetLeft;return r<n.pageYOffset+n.innerHeight&&i<n.pageXOffset+n.innerWidth&&r+o>n.pageYOffset&&i+a>n.pageXOffset&&!s&&"none"!==u}class Js extends tr.EventEmitter{constructor(e,t,n,r){var i;super(),this.metadataMuted=!1,this.encryption=ut.NONE,this.log=zn,this.handleMuted=()=>{this.emit(ji.Muted)},this.handleUnmuted=()=>{this.emit(ji.Unmuted)},this.log=qn(null!==(i=null==r?void 0:r.loggerName)&&void 0!==i?i:jn.Publication),this.loggerContextCb=this.loggerContextCb,this.setMaxListeners(100),this.kind=e,this.trackSid=t,this.trackName=n,this.source=sa.Source.Unknown}setTrack(e){this.track&&(this.track.off(ji.Muted,this.handleMuted),this.track.off(ji.Unmuted,this.handleUnmuted)),this.track=e,e&&(e.on(ji.Muted,this.handleMuted),e.on(ji.Unmuted,this.handleUnmuted))}get logContext(){var e;return Object.assign(Object.assign({},null===(e=this.loggerContextCb)||void 0===e?void 0:e.call(this)),_o(this))}get isMuted(){return this.metadataMuted}get isEnabled(){return!0}get isSubscribed(){return void 0!==this.track}get isEncrypted(){return this.encryption!==ut.NONE}get audioTrack(){if(oo(this.track))return this.track}get videoTrack(){if(so(this.track))return this.track}updateInfo(e){this.trackSid=e.sid,this.trackName=e.name,this.source=sa.sourceFromProto(e.source),this.mimeType=e.mimeType,this.kind===sa.Kind.Video&&e.width>0&&(this.dimensions={width:e.width,height:e.height},this.simulcasted=e.simulcast),this.encryption=e.encryption,this.trackInfo=e,this.log.debug("update publication info",Object.assign(Object.assign({},this.logContext),{info:e}))}}!function(e){var t,n;(t=e.SubscriptionStatus||(e.SubscriptionStatus={})).Desired="desired",t.Subscribed="subscribed",t.Unsubscribed="unsubscribed",(n=e.PermissionStatus||(e.PermissionStatus={})).Allowed="allowed",n.NotAllowed="not_allowed"}(Js||(Js={}));class eu extends Js{get isUpstreamPaused(){var e;return null===(e=this.track)||void 0===e?void 0:e.isUpstreamPaused}constructor(e,t,n,r){super(e,t.sid,t.name,r),this.track=void 0,this.handleTrackEnded=()=>{this.emit(ji.Ended)},this.updateInfo(t),this.setTrack(n)}setTrack(e){this.track&&this.track.off(ji.Ended,this.handleTrackEnded),super.setTrack(e),e&&e.on(ji.Ended,this.handleTrackEnded)}get isMuted(){return this.track?this.track.isMuted:super.isMuted}get audioTrack(){return super.audioTrack}get videoTrack(){return super.videoTrack}get isLocal(){return!0}mute(){return Yn(this,void 0,void 0,(function*(){var e;return null===(e=this.track)||void 0===e?void 0:e.mute()}))}unmute(){return Yn(this,void 0,void 0,(function*(){var e;return null===(e=this.track)||void 0===e?void 0:e.unmute()}))}pauseUpstream(){return Yn(this,void 0,void 0,(function*(){var e;yield null===(e=this.track)||void 0===e?void 0:e.pauseUpstream()}))}resumeUpstream(){return Yn(this,void 0,void 0,(function*(){var e;yield null===(e=this.track)||void 0===e?void 0:e.resumeUpstream()}))}getTrackFeatures(){var e;if(oo(this.track)){const t=this.track.getSourceTrackSettings(),n=new Set;return t.autoGainControl&&n.add(et.TF_AUTO_GAIN_CONTROL),t.echoCancellation&&n.add(et.TF_ECHO_CANCELLATION),t.noiseSuppression&&n.add(et.TF_NOISE_SUPPRESSION),t.channelCount&&t.channelCount>1&&n.add(et.TF_STEREO),(null===(e=this.options)||void 0===e?void 0:e.dtx)||n.add(et.TF_NO_DTX),this.track.enhancedNoiseCancellation&&n.add(et.TF_ENHANCED_NOISE_CANCELLATION),Array.from(n.values())}return[]}}function tu(e,t){return Yn(this,void 0,void 0,(function*(){null!=e||(e={});let n=!1;const{audioProcessor:r,videoProcessor:i,optionsWithoutProcessor:a}=xo(e);let o=a.audio,s=a.video;if(r&&"object"==typeof a.audio&&(a.audio.processor=r),i&&"object"==typeof a.video&&(a.video.processor=i),e.audio&&"object"==typeof a.audio&&"string"==typeof a.audio.deviceId){const e=a.audio.deviceId;a.audio.deviceId={exact:e},n=!0,o=Object.assign(Object.assign({},a.audio),{deviceId:{ideal:e}})}if(a.video&&"object"==typeof a.video&&"string"==typeof a.video.deviceId){const e=a.video.deviceId;a.video.deviceId={exact:e},n=!0,s=Object.assign(Object.assign({},a.video),{deviceId:{ideal:e}})}(!0===a.audio||"object"==typeof a.audio&&!a.audio.deviceId)&&(a.audio={deviceId:"default"}),(!0===a.video||"object"==typeof a.video&&!a.video.deviceId)&&(a.video={deviceId:"default"});const u=vo(a,os,ss),c=yo(u),l=navigator.mediaDevices.getUserMedia(c);a.audio&&(Fo.userMediaPromiseMap.set("audioinput",l),l.catch((()=>Fo.userMediaPromiseMap.delete("audioinput")))),a.video&&(Fo.userMediaPromiseMap.set("videoinput",l),l.catch((()=>Fo.userMediaPromiseMap.delete("videoinput"))));try{const e=yield l;return yield Promise.all(e.getTracks().map((n=>Yn(this,void 0,void 0,(function*(){const a="audio"===n.kind;let o,s=a?u.audio:u.video;"boolean"!=typeof s&&s||(s={});const l=a?c.audio:c.video;"boolean"!=typeof l&&(o=l);const d=n.getSettings().deviceId;(null==o?void 0:o.deviceId)&&eo(o.deviceId)!==d?o.deviceId=d:o||(o={deviceId:d});const p=function(e,t,n){switch(e.kind){case"audio":return new ys(e,t,!1,void 0,n);case"video":return new Fs(e,t,!1,n);default:throw new Vi("unsupported track type: ".concat(e.kind))}}(n,o,t);return p.kind===sa.Kind.Video?p.source=sa.Source.Camera:p.kind===sa.Kind.Audio&&(p.source=sa.Source.Microphone),p.mediaStream=e,oo(p)&&r?yield p.setProcessor(r):so(p)&&i&&(yield p.setProcessor(i)),p})))))}catch(r){if(!n)throw r;return tu(Object.assign(Object.assign({},e),{audio:o,video:s}),t)}}))}function nu(e){return Yn(this,void 0,void 0,(function*(){return(yield tu({audio:!1,video:null==e||e}))[0]}))}function ru(e){return Yn(this,void 0,void 0,(function*(){return(yield tu({audio:null==e||e,video:!1}))[0]}))}function iu(e){return Yn(this,void 0,void 0,(function*(){if(void 0===e&&(e={}),void 0!==e.resolution||Pa()||(e.resolution=ya.h1080fps30.resolution),void 0===navigator.mediaDevices.getDisplayMedia)throw new zi("getDisplayMedia not supported");const t=Eo(e),n=yield navigator.mediaDevices.getDisplayMedia(t),r=n.getVideoTracks();if(0===r.length)throw new Vi("no video track found");const i=new Fs(r[0],void 0,!1);i.source=sa.Source.ScreenShare;const a=[i];if(n.getAudioTracks().length>0){const e=new ys(n.getAudioTracks()[0],void 0,!1);e.source=sa.Source.ScreenShareAudio,a.push(e)}return a}))}var au;!function(e){e.Excellent="excellent",e.Good="good",e.Poor="poor",e.Lost="lost",e.Unknown="unknown"}(au||(au={}));class ou extends tr.EventEmitter{get logContext(){var e,t;return Object.assign({},null===(t=null===(e=this.loggerOptions)||void 0===e?void 0:e.loggerContextCb)||void 0===t?void 0:t.call(e))}get isEncrypted(){return this.trackPublications.size>0&&Array.from(this.trackPublications.values()).every((e=>e.isEncrypted))}get isAgent(){var e;return(null===(e=this.permissions)||void 0===e?void 0:e.agent)||this.kind===ot.AGENT}get kind(){return this._kind}get attributes(){return Object.freeze(Object.assign({},this._attributes))}constructor(e,t,n,r,i,a){let o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ot.STANDARD;var s;super(),this.audioLevel=0,this.isSpeaking=!1,this._connectionQuality=au.Unknown,this.log=zn,this.log=qn(null!==(s=null==a?void 0:a.loggerName)&&void 0!==s?s:jn.Participant),this.loggerOptions=a,this.setMaxListeners(100),this.sid=e,this.identity=t,this.name=n,this.metadata=r,this.audioTrackPublications=new Map,this.videoTrackPublications=new Map,this.trackPublications=new Map,this._kind=o,this._attributes=null!=i?i:{}}getTrackPublications(){return Array.from(this.trackPublications.values())}getTrackPublication(e){for(const[,t]of this.trackPublications)if(t.source===e)return t}getTrackPublicationByName(e){for(const[,t]of this.trackPublications)if(t.trackName===e)return t}get connectionQuality(){return this._connectionQuality}get isCameraEnabled(){var e;const t=this.getTrackPublication(sa.Source.Camera);return!(null===(e=null==t?void 0:t.isMuted)||void 0===e||e)}get isMicrophoneEnabled(){var e;const t=this.getTrackPublication(sa.Source.Microphone);return!(null===(e=null==t?void 0:t.isMuted)||void 0===e||e)}get isScreenShareEnabled(){return!!this.getTrackPublication(sa.Source.ScreenShare)}get isLocal(){return!1}get joinedAt(){return this.participantInfo?new Date(1e3*Number.parseInt(this.participantInfo.joinedAt.toString())):new Date}updateInfo(e){return!(this.participantInfo&&this.participantInfo.sid===e.sid&&this.participantInfo.version>e.version)&&(this.identity=e.identity,this.sid=e.sid,this._setName(e.name),this._setMetadata(e.metadata),this._setAttributes(e.attributes),e.permission&&this.setPermissions(e.permission),this.participantInfo=e,this.log.trace("update participant info",Object.assign(Object.assign({},this.logContext),{info:e})),!0)}_setMetadata(e){const t=this.metadata!==e,n=this.metadata;this.metadata=e,t&&this.emit(Mi.ParticipantMetadataChanged,n)}_setName(e){const t=this.name!==e;this.name=e,t&&this.emit(Mi.ParticipantNameChanged,e)}_setAttributes(e){const t=function(e,t){var n;void 0===e&&(e={}),void 0===t&&(t={});const r=[...Object.keys(t),...Object.keys(e)],i={};for(const a of r)e[a]!==t[a]&&(i[a]=null!==(n=t[a])&&void 0!==n?n:"");return i}(this.attributes,e);this._attributes=e,Object.keys(t).length>0&&this.emit(Mi.AttributesChanged,t)}setPermissions(e){var t,n,r,i,a,o;const s=this.permissions,u=e.canPublish!==(null===(t=this.permissions)||void 0===t?void 0:t.canPublish)||e.canSubscribe!==(null===(n=this.permissions)||void 0===n?void 0:n.canSubscribe)||e.canPublishData!==(null===(r=this.permissions)||void 0===r?void 0:r.canPublishData)||e.hidden!==(null===(i=this.permissions)||void 0===i?void 0:i.hidden)||e.recorder!==(null===(a=this.permissions)||void 0===a?void 0:a.recorder)||e.canPublishSources.length!==this.permissions.canPublishSources.length||e.canPublishSources.some(((e,t)=>{var n;return e!==(null===(n=this.permissions)||void 0===n?void 0:n.canPublishSources[t])}))||e.canSubscribeMetrics!==(null===(o=this.permissions)||void 0===o?void 0:o.canSubscribeMetrics);return this.permissions=e,u&&this.emit(Mi.ParticipantPermissionsChanged,s),u}setIsSpeaking(e){e!==this.isSpeaking&&(this.isSpeaking=e,e&&(this.lastSpokeAt=new Date),this.emit(Mi.IsSpeakingChanged,e))}setConnectionQuality(e){const t=this._connectionQuality;this._connectionQuality=function(e){switch(e){case Qe.EXCELLENT:return au.Excellent;case Qe.GOOD:return au.Good;case Qe.POOR:return au.Poor;case Qe.LOST:return au.Lost;default:return au.Unknown}}(e),t!==this._connectionQuality&&this.emit(Mi.ConnectionQualityChanged,this._connectionQuality)}setAudioContext(e){this.audioContext=e,this.audioTrackPublications.forEach((t=>oo(t.track)&&t.track.setAudioContext(e)))}addTrackPublication(e){e.on(ji.Muted,(()=>{this.emit(Mi.TrackMuted,e)})),e.on(ji.Unmuted,(()=>{this.emit(Mi.TrackUnmuted,e)}));const t=e;switch(t.track&&(t.track.sid=e.trackSid),this.trackPublications.set(e.trackSid,e),e.kind){case sa.Kind.Audio:this.audioTrackPublications.set(e.trackSid,e);break;case sa.Kind.Video:this.videoTrackPublications.set(e.trackSid,e)}}}class su extends ou{constructor(e,t,n,r,i){super(e,t,void 0,void 0,void 0,{loggerName:r.loggerName,loggerContextCb:()=>this.engine.logContext}),this.pendingPublishing=new Set,this.pendingPublishPromises=new Map,this.participantTrackPermissions=[],this.allParticipantsAllowedToSubscribe=!0,this.encryptionType=ut.NONE,this.enabledPublishVideoCodecs=[],this.pendingAcks=new Map,this.pendingResponses=new Map,this.handleReconnecting=()=>{this.reconnectFuture||(this.reconnectFuture=new Za)},this.handleReconnected=()=>{var e,t;null===(t=null===(e=this.reconnectFuture)||void 0===e?void 0:e.resolve)||void 0===t||t.call(e),this.reconnectFuture=void 0,this.updateTrackSubscriptionPermissions()},this.handleDisconnected=()=>{var e,t;this.reconnectFuture&&(this.reconnectFuture.promise.catch((e=>this.log.warn(e.message,this.logContext))),null===(t=null===(e=this.reconnectFuture)||void 0===e?void 0:e.reject)||void 0===t||t.call(e,"Got disconnected during reconnection attempt"),this.reconnectFuture=void 0)},this.handleSignalRequestResponse=e=>{const{requestId:t,reason:n,message:r}=e,i=this.pendingSignalRequests.get(t);i&&(n!==Pn.OK&&i.reject(new Gi(r,n)),this.pendingSignalRequests.delete(t))},this.handleDataPacket=e=>{switch(e.value.case){case"rpcResponse":let t=e.value.value,n=null,r=null;"payload"===t.value.case?n=t.value.value:"error"===t.value.case&&(r=ps.fromProto(t.value.value)),this.handleIncomingRpcResponse(t.requestId,n,r);break;case"rpcAck":let i=e.value.value;this.handleIncomingRpcAck(i.requestId)}},this.updateTrackSubscriptionPermissions=()=>{this.log.debug("updating track subscription permissions",Object.assign(Object.assign({},this.logContext),{allParticipantsAllowed:this.allParticipantsAllowedToSubscribe,participantTrackPermissions:this.participantTrackPermissions})),this.engine.client.sendUpdateSubscriptionPermissions(this.allParticipantsAllowedToSubscribe,this.participantTrackPermissions.map((e=>function(e){var t,n,r;if(!e.participantSid&&!e.participantIdentity)throw new Error("Invalid track permission, must provide at least one of participantIdentity and participantSid");return new wn({participantIdentity:null!==(t=e.participantIdentity)&&void 0!==t?t:"",participantSid:null!==(n=e.participantSid)&&void 0!==n?n:"",allTracks:null!==(r=e.allowAll)&&void 0!==r&&r,trackSids:e.allowedTrackSids||[]})}(e))))},this.onTrackUnmuted=e=>{this.onTrackMuted(e,e.isUpstreamPaused)},this.onTrackMuted=(e,t)=>{void 0===t&&(t=!0),e.sid?this.engine.updateMuteStatus(e.sid,t):this.log.error("could not update mute status for unpublished track",Object.assign(Object.assign({},this.logContext),_o(e)))},this.onTrackUpstreamPaused=e=>{this.log.debug("upstream paused",Object.assign(Object.assign({},this.logContext),_o(e))),this.onTrackMuted(e,!0)},this.onTrackUpstreamResumed=e=>{this.log.debug("upstream resumed",Object.assign(Object.assign({},this.logContext),_o(e))),this.onTrackMuted(e,e.isMuted)},this.onTrackFeatureUpdate=e=>{const t=this.audioTrackPublications.get(e.sid);t?this.engine.client.sendUpdateLocalAudioTrack(t.trackSid,t.getTrackFeatures()):this.log.warn("Could not update local audio track settings, missing publication for track ".concat(e.sid),this.logContext)},this.handleSubscribedQualityUpdate=e=>Yn(this,void 0,void 0,(function*(){var t,n,r,i,a,o;if(!(null===(a=this.roomOptions)||void 0===a?void 0:a.dynacast))return;const s=this.videoTrackPublications.get(e.trackSid);if(s)if(e.subscribedCodecs.length>0){if(!s.videoTrack)return;const a=yield s.videoTrack.setPublishingCodecs(e.subscribedCodecs);try{for(var u,c=!0,l=Zn(a);!(t=(u=yield l.next()).done);c=!0){i=u.value,c=!1;const e=i;fa(e)&&(this.log.debug("publish ".concat(e," for ").concat(s.videoTrack.sid),Object.assign(Object.assign({},this.logContext),_o(s))),yield this.publishAdditionalCodecForTrack(s.videoTrack,e,s.options))}}catch(e){n={error:e}}finally{try{c||t||!(r=l.return)||(yield r.call(l))}finally{if(n)throw n.error}}}else e.subscribedQualities.length>0&&(yield null===(o=s.videoTrack)||void 0===o?void 0:o.setPublishingLayers(e.subscribedQualities));else this.log.warn("received subscribed quality update for unknown track",Object.assign(Object.assign({},this.logContext),{trackSid:e.trackSid}))})),this.handleLocalTrackUnpublished=e=>{const t=this.trackPublications.get(e.trackSid);t?this.unpublishTrack(t.track):this.log.warn("received unpublished event for unknown track",Object.assign(Object.assign({},this.logContext),{trackSid:e.trackSid}))},this.handleTrackEnded=e=>Yn(this,void 0,void 0,(function*(){if(e.source===sa.Source.ScreenShare||e.source===sa.Source.ScreenShareAudio)this.log.debug("unpublishing local track due to TrackEnded",Object.assign(Object.assign({},this.logContext),_o(e))),this.unpublishTrack(e);else if(e.isUserProvided)yield e.mute();else if(co(e)||uo(e))try{if(Ba())try{const t=yield null===navigator||void 0===navigator?void 0:navigator.permissions.query({name:e.source===sa.Source.Camera?"camera":"microphone"});if(t&&"denied"===t.state)throw this.log.warn("user has revoked access to ".concat(e.source),Object.assign(Object.assign({},this.logContext),_o(e))),t.onchange=()=>{"denied"!==t.state&&(e.isMuted||e.restartTrack(),t.onchange=null)},new Error("GetUserMedia Permission denied")}catch(e){}e.isMuted||(this.log.debug("track ended, attempting to use a different device",Object.assign(Object.assign({},this.logContext),_o(e))),co(e)?yield e.restartTrack({deviceId:"default"}):yield e.restartTrack())}catch(t){this.log.warn("could not restart track, muting instead",Object.assign(Object.assign({},this.logContext),_o(e))),yield e.mute()}})),this.audioTrackPublications=new Map,this.videoTrackPublications=new Map,this.trackPublications=new Map,this.engine=n,this.roomOptions=r,this.setupEngine(n),this.activeDeviceMap=new Map([["audioinput","default"],["videoinput","default"],["audiooutput","default"]]),this.pendingSignalRequests=new Map,this.rpcHandlers=i}get lastCameraError(){return this.cameraError}get lastMicrophoneError(){return this.microphoneError}get isE2EEEnabled(){return this.encryptionType!==ut.NONE}getTrackPublication(e){const t=super.getTrackPublication(e);if(t)return t}getTrackPublicationByName(e){const t=super.getTrackPublicationByName(e);if(t)return t}setupEngine(e){this.engine=e,this.engine.on(Li.RemoteMute,((e,t)=>{const n=this.trackPublications.get(e);n&&n.track&&(t?n.mute():n.unmute())})),this.engine.on(Li.Connected,this.handleReconnected).on(Li.SignalRestarted,this.handleReconnected).on(Li.SignalResumed,this.handleReconnected).on(Li.Restarting,this.handleReconnecting).on(Li.Resuming,this.handleReconnecting).on(Li.LocalTrackUnpublished,this.handleLocalTrackUnpublished).on(Li.SubscribedQualityUpdate,this.handleSubscribedQualityUpdate).on(Li.Disconnected,this.handleDisconnected).on(Li.SignalRequestResponse,this.handleSignalRequestResponse).on(Li.DataPacketReceived,this.handleDataPacket)}setMetadata(e){return Yn(this,void 0,void 0,(function*(){yield this.requestMetadataUpdate({metadata:e})}))}setName(e){return Yn(this,void 0,void 0,(function*(){yield this.requestMetadataUpdate({name:e})}))}setAttributes(e){return Yn(this,void 0,void 0,(function*(){yield this.requestMetadataUpdate({attributes:e})}))}requestMetadataUpdate(e){return Yn(this,arguments,void 0,(function(e){var t=this;let{metadata:n,name:r,attributes:i}=e;return function*(){return new Promise(((e,a)=>Yn(t,void 0,void 0,(function*(){var t,o;try{let s=!1;const u=yield this.engine.client.sendUpdateLocalMetadata(null!==(t=null!=n?n:this.metadata)&&void 0!==t?t:"",null!==(o=null!=r?r:this.name)&&void 0!==o?o:"",i),c=performance.now();for(this.pendingSignalRequests.set(u,{resolve:e,reject:e=>{a(e),s=!0},values:{name:r,metadata:n,attributes:i}});performance.now()-c<5e3&&!s;){if((!r||this.name===r)&&(!n||this.metadata===n)&&(!i||Object.entries(i).every((e=>{let[t,n]=e;return this.attributes[t]===n||""===n&&!this.attributes[t]}))))return this.pendingSignalRequests.delete(u),void e();yield wa(50)}a(new Gi("Request to update local metadata timed out","TimeoutError"))}catch(e){e instanceof Error&&a(e)}}))))}()}))}setCameraEnabled(e,t,n){return this.setTrackEnabled(sa.Source.Camera,e,t,n)}setMicrophoneEnabled(e,t,n){return this.setTrackEnabled(sa.Source.Microphone,e,t,n)}setScreenShareEnabled(e,t,n){return this.setTrackEnabled(sa.Source.ScreenShare,e,t,n)}setPermissions(e){const t=this.permissions,n=super.setPermissions(e);return n&&t&&this.emit(Mi.ParticipantPermissionsChanged,t),n}setE2EEEnabled(e){return Yn(this,void 0,void 0,(function*(){this.encryptionType=e?ut.GCM:ut.NONE,yield this.republishAllTracks(void 0,!1)}))}setTrackEnabled(e,t,n,r){return Yn(this,void 0,void 0,(function*(){var i,a;this.log.debug("setTrackEnabled",Object.assign(Object.assign({},this.logContext),{source:e,enabled:t})),this.republishPromise&&(yield this.republishPromise);let o=this.getTrackPublication(e);if(t)if(o)yield o.unmute();else{let t;if(this.pendingPublishing.has(e)){const t=yield this.waitForPendingPublicationOfSource(e);return t||this.log.info("waiting for pending publication promise timed out",Object.assign(Object.assign({},this.logContext),{source:e})),yield null==t?void 0:t.unmute(),t}this.pendingPublishing.add(e);try{switch(e){case sa.Source.Camera:t=yield this.createTracks({video:null===(i=n)||void 0===i||i});break;case sa.Source.Microphone:t=yield this.createTracks({audio:null===(a=n)||void 0===a||a});break;case sa.Source.ScreenShare:t=yield this.createScreenTracks(Object.assign({},n));break;default:throw new Vi(e)}}catch(n){throw null==t||t.forEach((e=>{e.stop()})),n instanceof Error&&this.emit(Mi.MediaDevicesError,n),this.pendingPublishing.delete(e),n}try{const e=[];for(const n of t)this.log.info("publishing track",Object.assign(Object.assign({},this.logContext),_o(n))),e.push(this.publishTrack(n,r));const n=yield Promise.all(e);[o]=n}catch(e){throw null==t||t.forEach((e=>{e.stop()})),e}finally{this.pendingPublishing.delete(e)}}else if(!(null==o?void 0:o.track)&&this.pendingPublishing.has(e)&&(o=yield this.waitForPendingPublicationOfSource(e),o||this.log.info("waiting for pending publication promise timed out",Object.assign(Object.assign({},this.logContext),{source:e}))),o&&o.track)if(e===sa.Source.ScreenShare){o=yield this.unpublishTrack(o.track);const e=this.getTrackPublication(sa.Source.ScreenShareAudio);e&&e.track&&this.unpublishTrack(e.track)}else yield o.mute();return o}))}enableCameraAndMicrophone(){return Yn(this,void 0,void 0,(function*(){if(!this.pendingPublishing.has(sa.Source.Camera)&&!this.pendingPublishing.has(sa.Source.Microphone)){this.pendingPublishing.add(sa.Source.Camera),this.pendingPublishing.add(sa.Source.Microphone);try{const e=yield this.createTracks({audio:!0,video:!0});yield Promise.all(e.map((e=>this.publishTrack(e))))}finally{this.pendingPublishing.delete(sa.Source.Camera),this.pendingPublishing.delete(sa.Source.Microphone)}}}))}createTracks(e){return Yn(this,void 0,void 0,(function*(){var t,n;null!=e||(e={});const r=vo(e,null===(t=this.roomOptions)||void 0===t?void 0:t.audioCaptureDefaults,null===(n=this.roomOptions)||void 0===n?void 0:n.videoCaptureDefaults);try{const e=yield tu(r,{loggerName:this.roomOptions.loggerName,loggerContextCb:()=>this.logContext});return e.map((e=>(oo(e)&&(this.microphoneError=void 0,e.setAudioContext(this.audioContext),e.source=sa.Source.Microphone,this.emit(Mi.AudioStreamAcquired)),so(e)&&(this.cameraError=void 0,e.source=sa.Source.Camera),e)))}catch(t){throw t instanceof Error&&(e.audio&&(this.microphoneError=t),e.video&&(this.cameraError=t)),t}}))}createScreenTracks(e){return Yn(this,void 0,void 0,(function*(){if(void 0===e&&(e={}),void 0===navigator.mediaDevices.getDisplayMedia)throw new zi("getDisplayMedia not supported");void 0!==e.resolution||Pa()||(e.resolution=ya.h1080fps30.resolution);const t=Eo(e),n=yield navigator.mediaDevices.getDisplayMedia(t),r=n.getVideoTracks();if(0===r.length)throw new Vi("no video track found");const i=new Fs(r[0],void 0,!1,{loggerName:this.roomOptions.loggerName,loggerContextCb:()=>this.logContext});i.source=sa.Source.ScreenShare,e.contentHint&&(i.mediaStreamTrack.contentHint=e.contentHint);const a=[i];if(n.getAudioTracks().length>0){this.emit(Mi.AudioStreamAcquired);const e=new ys(n.getAudioTracks()[0],void 0,!1,this.audioContext,{loggerName:this.roomOptions.loggerName,loggerContextCb:()=>this.logContext});e.source=sa.Source.ScreenShareAudio,a.push(e)}return a}))}publishTrack(e,t){return Yn(this,void 0,void 0,(function*(){return this.publishOrRepublishTrack(e,t)}))}publishOrRepublishTrack(e,t){return Yn(this,arguments,void 0,(function(e,t){var n=this;let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function*(){var i,a,o,s;let u,c;if(co(e)&&e.setAudioContext(n.audioContext),yield null===(i=n.reconnectFuture)||void 0===i?void 0:i.promise,n.republishPromise&&!r&&(yield n.republishPromise),ao(e)&&n.pendingPublishPromises.has(e)&&(yield n.pendingPublishPromises.get(e)),e instanceof MediaStreamTrack)u=e.getConstraints();else{let t;switch(u=e.constraints,e.source){case sa.Source.Microphone:t="audioinput";break;case sa.Source.Camera:t="videoinput"}t&&n.activeDeviceMap.has(t)&&(u=Object.assign(Object.assign({},u),{deviceId:n.activeDeviceMap.get(t)}))}if(e instanceof MediaStreamTrack)switch(e.kind){case"audio":e=new ys(e,u,!0,n.audioContext,{loggerName:n.roomOptions.loggerName,loggerContextCb:()=>n.logContext});break;case"video":e=new Fs(e,u,!0,{loggerName:n.roomOptions.loggerName,loggerContextCb:()=>n.logContext});break;default:throw new Vi("unsupported MediaStreamTrack kind ".concat(e.kind))}else e.updateLoggerOptions({loggerName:n.roomOptions.loggerName,loggerContextCb:()=>n.logContext});if(n.trackPublications.forEach((t=>{t.track&&t.track===e&&(c=t)})),c)return n.log.warn("track has already been published, skipping",Object.assign(Object.assign({},n.logContext),_o(c))),c;const l="channelCount"in e.mediaStreamTrack.getSettings()&&2===e.mediaStreamTrack.getSettings().channelCount||2===e.mediaStreamTrack.getConstraints().channelCount,d=null!==(a=null==t?void 0:t.forceStereo)&&void 0!==a?a:l;d&&(t||(t={}),void 0===t.dtx&&n.log.info("Opus DTX will be disabled for stereo tracks by default. Enable them explicitly to make it work.",Object.assign(Object.assign({},n.logContext),_o(e))),void 0===t.red&&n.log.info("Opus RED will be disabled for stereo tracks by default. Enable them explicitly to make it work."),null!==(o=t.dtx)&&void 0!==o||(t.dtx=!1),null!==(s=t.red)&&void 0!==s||(t.red=!1));const p=Object.assign(Object.assign({},n.roomOptions.publishDefaults),t);!function(){const e=Zi(),t="17.2";if(e)return"Safari"!==e.name&&"iOS"!==e.os||!!("iOS"===e.os&&e.osVersion&&Ua(t,e.osVersion)>=0)||"Safari"===e.name&&Ua(t,e.version)>=0}()&&n.roomOptions.e2ee&&(n.log.info("End-to-end encryption is set up, simulcast publishing will be disabled on Safari versions and iOS browsers running iOS < v17.2",Object.assign({},n.logContext)),p.simulcast=!1),p.source&&(e.source=p.source);const f=new Promise(((t,r)=>Yn(n,void 0,void 0,(function*(){try{if(this.engine.client.currentState!==Ro.CONNECTED){this.log.debug("deferring track publication until signal is connected",Object.assign(Object.assign({},this.logContext),{track:_o(e)}));const n=()=>Yn(this,void 0,void 0,(function*(){try{const n=yield this.publish(e,p,d);t(n)}catch(e){r(e)}}));setTimeout((()=>{this.engine.off(Li.SignalConnected,n),r(new $i("publishing rejected as engine not connected within timeout",408))}),15e3),this.engine.once(Li.SignalConnected,n),this.engine.on(Li.Closing,(()=>{this.engine.off(Li.SignalConnected,n),r(new $i("publishing rejected as engine closed",499))}))}else try{const n=yield this.publish(e,p,d);t(n)}catch(e){r(e)}}catch(e){r(e)}}))));n.pendingPublishPromises.set(e,f);try{return yield f}catch(e){throw e}finally{n.pendingPublishPromises.delete(e)}}()}))}hasPermissionsToPublish(e){if(!this.permissions)return this.log.warn("no permissions present for publishing track",Object.assign(Object.assign({},this.logContext),_o(e))),!1;const{canPublish:t,canPublishSources:n}=this.permissions;return!(!t||0!==n.length&&!n.map((e=>function(e){switch(e){case $e.CAMERA:return sa.Source.Camera;case $e.MICROPHONE:return sa.Source.Microphone;case $e.SCREEN_SHARE:return sa.Source.ScreenShare;case $e.SCREEN_SHARE_AUDIO:return sa.Source.ScreenShareAudio;default:return sa.Source.Unknown}}(e))).includes(e.source))||(this.log.warn("insufficient permissions to publish",Object.assign(Object.assign({},this.logContext),_o(e))),!1)}publish(e,t,n){return Yn(this,void 0,void 0,(function*(){var r,i,a,o,s,u,c,l,d,p;if(!this.hasPermissionsToPublish(e))throw new $i("failed to publish track, insufficient permissions",403);Array.from(this.trackPublications.values()).find((t=>ao(e)&&t.source===e.source))&&e.source!==sa.Source.Unknown&&this.log.info("publishing a second track with the same source: ".concat(e.source),Object.assign(Object.assign({},this.logContext),_o(e))),t.stopMicTrackOnMute&&oo(e)&&(e.stopOnMute=!0),e.source===sa.Source.ScreenShare&&Fa()&&(t.simulcast=!1),"av1"!==t.videoCodec||Ca()||(t.videoCodec=void 0),"vp9"!==t.videoCodec||_a()||(t.videoCodec=void 0),void 0===t.videoCodec&&(t.videoCodec=is),this.enabledPublishVideoCodecs.length>0&&(this.enabledPublishVideoCodecs.some((e=>t.videoCodec===ko(e.mime)))||(t.videoCodec=ko(this.enabledPublishVideoCodecs[0].mime)));const f=t.videoCodec;e.on(ji.Muted,this.onTrackMuted),e.on(ji.Unmuted,this.onTrackUnmuted),e.on(ji.Ended,this.handleTrackEnded),e.on(ji.UpstreamPaused,this.onTrackUpstreamPaused),e.on(ji.UpstreamResumed,this.onTrackUpstreamResumed),e.on(ji.AudioTrackFeatureUpdate,this.onTrackFeatureUpdate);const h=new Kt({cid:e.mediaStreamTrack.id,name:t.name,type:sa.kindToProto(e.kind),muted:e.isMuted,source:sa.sourceToProto(e.source),disableDtx:!(null===(r=t.dtx)||void 0===r||r),encryption:this.encryptionType,stereo:n,disableRed:this.isE2EEEnabled||!(null===(i=t.red)||void 0===i||i),stream:null==t?void 0:t.stream,backupCodecPolicy:null==t?void 0:t.backupCodecPolicy});let m;if(e.kind===sa.Kind.Video){let n={width:0,height:0};try{n=yield e.waitForDimensions()}catch(t){const r=null!==(o=null===(a=this.roomOptions.videoCaptureDefaults)||void 0===a?void 0:a.resolution)&&void 0!==o?o:va.h720.resolution;n={width:r.width,height:r.height},this.log.error("could not determine track dimensions, using defaults",Object.assign(Object.assign(Object.assign({},this.logContext),_o(e)),{dims:n}))}h.width=n.width,h.height=n.height,uo(e)&&(xa(f)&&(e.source===sa.Source.ScreenShare&&(t.scalabilityMode="L1T3","contentHint"in e.mediaStreamTrack&&(e.mediaStreamTrack.contentHint="motion",this.log.info("forcing contentHint to motion for screenshare with SVC codecs",Object.assign(Object.assign({},this.logContext),_o(e))))),t.scalabilityMode=null!==(s=t.scalabilityMode)&&void 0!==s?s:"L3T3_KEY"),h.simulcastCodecs=[new Wt({codec:f,cid:e.mediaStreamTrack.id})],!0===t.backupCodec&&(t.backupCodec={codec:is}),t.backupCodec&&f!==t.backupCodec.codec&&h.encryption===ut.NONE&&(this.roomOptions.dynacast||(this.roomOptions.dynacast=!0),h.simulcastCodecs.push(new Wt({codec:t.backupCodec.codec,cid:""})))),m=Cs(e.source===sa.Source.ScreenShare,h.width,h.height,t),h.layers=Is(h.width,h.height,m,xa(t.videoCodec))}else e.kind===sa.Kind.Audio&&(m=[{maxBitrate:null===(u=t.audioPreset)||void 0===u?void 0:u.maxBitrate,priority:null!==(l=null===(c=t.audioPreset)||void 0===c?void 0:c.priority)&&void 0!==l?l:"high",networkPriority:null!==(p=null===(d=t.audioPreset)||void 0===d?void 0:d.priority)&&void 0!==p?p:"high"}]);if(!this.engine||this.engine.isClosed)throw new Hi("cannot publish track when not connected");const v=()=>Yn(this,void 0,void 0,(function*(){var n,r,i;if(!this.engine.pcManager)throw new Hi("pcManager is not ready");if(e.sender=yield this.engine.createSender(e,t,m),uo(e)&&(null!==(n=t.degradationPreference)&&void 0!==n||(t.degradationPreference=function(e){return e.source===sa.Source.ScreenShare||e.constraints.height&&eo(e.constraints.height)>=1080?"maintain-resolution":"balanced"}(e)),e.setDegradationPreference(t.degradationPreference)),m)if(Fa()&&e.kind===sa.Kind.Audio){let t;for(const n of this.engine.pcManager.publisher.getTransceivers())if(n.sender===e.sender){t=n;break}t&&this.engine.pcManager.publisher.setTrackCodecBitrate({transceiver:t,codec:"opus",maxbr:(null===(r=m[0])||void 0===r?void 0:r.maxBitrate)?m[0].maxBitrate/1e3:0})}else e.codec&&xa(e.codec)&&(null===(i=m[0])||void 0===i?void 0:i.maxBitrate)&&this.engine.pcManager.publisher.setTrackCodecBitrate({cid:h.cid,codec:e.codec,maxbr:m[0].maxBitrate/1e3});yield this.engine.negotiate()}));let g;if(this.enabledPublishVideoCodecs.length>0){g=(yield Promise.all([this.engine.addTrack(h),v()]))[0]}else{let n;if(g=yield this.engine.addTrack(h),g.codecs.forEach((e=>{void 0===n&&(n=e.mimeType)})),n&&e.kind===sa.Kind.Video){const r=ko(n);r!==f&&(this.log.debug("falling back to server selected codec",Object.assign(Object.assign(Object.assign({},this.logContext),_o(e)),{codec:r})),t.videoCodec=r,m=Cs(e.source===sa.Source.ScreenShare,h.width,h.height,t))}yield v()}const y=new eu(e.kind,g,e,{loggerName:this.roomOptions.loggerName,loggerContextCb:()=>this.logContext});return y.options=t,e.sid=g.sid,this.log.debug("publishing ".concat(e.kind," with encodings"),Object.assign(Object.assign({},this.logContext),{encodings:m,trackInfo:g})),uo(e)?e.startMonitor(this.engine.client):co(e)&&e.startMonitor(),this.addTrackPublication(y),this.emit(Mi.LocalTrackPublished,y),y}))}get isLocal(){return!0}publishAdditionalCodecForTrack(e,t,n){return Yn(this,void 0,void 0,(function*(){var r;if(this.encryptionType!==ut.NONE)return;let i;if(this.trackPublications.forEach((t=>{t.track&&t.track===e&&(i=t)})),!i)throw new Vi("track is not published");if(!uo(e))throw new Vi("track is not a video track");const a=Object.assign(Object.assign({},null===(r=this.roomOptions)||void 0===r?void 0:r.publishDefaults),n),o=function(e,t,n){var r,i,a,o;if(!n.backupCodec||!0===n.backupCodec||n.backupCodec.codec===n.videoCodec)return;t!==n.backupCodec.codec&&zn.warn("requested a different codec than specified as backup",{serverRequested:t,backup:n.backupCodec.codec}),n.videoCodec=t,n.videoEncoding=n.backupCodec.encoding;const s=e.mediaStreamTrack.getSettings(),u=null!==(r=s.width)&&void 0!==r?r:null===(i=e.dimensions)||void 0===i?void 0:i.width,c=null!==(a=s.height)&&void 0!==a?a:null===(o=e.dimensions)||void 0===o?void 0:o.height;return e.source===sa.Source.ScreenShare&&n.simulcast&&(n.simulcast=!1),Cs(e.source===sa.Source.ScreenShare,u,c,n)}(e,t,a);if(!o)return void this.log.info("backup codec has been disabled, ignoring request to add additional codec for track",Object.assign(Object.assign({},this.logContext),_o(e)));const s=e.addSimulcastTrack(t,o);if(!s)return;const u=new Kt({cid:s.mediaStreamTrack.id,type:sa.kindToProto(e.kind),muted:e.isMuted,source:sa.sourceToProto(e.source),sid:e.sid,simulcastCodecs:[{codec:a.videoCodec,cid:s.mediaStreamTrack.id}]});if(u.layers=Is(u.width,u.height,o),!this.engine||this.engine.isClosed)throw new Hi("cannot publish track when not connected");const c=(yield Promise.all([this.engine.addTrack(u),(()=>Yn(this,void 0,void 0,(function*(){yield this.engine.createSimulcastSender(e,s,a,o),yield this.engine.negotiate()})))()]))[0];this.log.debug("published ".concat(t," for track ").concat(e.sid),Object.assign(Object.assign({},this.logContext),{encodings:o,trackInfo:c}))}))}unpublishTrack(e,t){return Yn(this,void 0,void 0,(function*(){var n,r;if(ao(e)){const t=this.pendingPublishPromises.get(e);t&&(this.log.info("awaiting publish promise before attempting to unpublish",Object.assign(Object.assign({},this.logContext),_o(e))),yield t)}const i=this.getPublicationForTrack(e),a=i?_o(i):void 0;if(this.log.debug("unpublishing track",Object.assign(Object.assign({},this.logContext),a)),!i||!i.track)return void this.log.warn("track was not unpublished because no publication was found",Object.assign(Object.assign({},this.logContext),a));(e=i.track).off(ji.Muted,this.onTrackMuted),e.off(ji.Unmuted,this.onTrackUnmuted),e.off(ji.Ended,this.handleTrackEnded),e.off(ji.UpstreamPaused,this.onTrackUpstreamPaused),e.off(ji.UpstreamResumed,this.onTrackUpstreamResumed),e.off(ji.AudioTrackFeatureUpdate,this.onTrackFeatureUpdate),void 0===t&&(t=null===(r=null===(n=this.roomOptions)||void 0===n?void 0:n.stopLocalTrackOnUnpublish)||void 0===r||r),t?e.stop():e.stopMonitor();let o=!1;const s=e.sender;if(e.sender=void 0,this.engine.pcManager&&this.engine.pcManager.currentState<ls.FAILED&&s)try{for(const e of this.engine.pcManager.publisher.getTransceivers())e.sender===s&&(e.direction="inactive",o=!0);if(this.engine.removeTrack(s)&&(o=!0),uo(e)){for(const[,t]of e.simulcastCodecs)t.sender&&(this.engine.removeTrack(t.sender)&&(o=!0),t.sender=void 0);e.simulcastCodecs.clear()}}catch(e){this.log.warn("failed to unpublish track",Object.assign(Object.assign(Object.assign({},this.logContext),a),{error:e}))}switch(this.trackPublications.delete(i.trackSid),i.kind){case sa.Kind.Audio:this.audioTrackPublications.delete(i.trackSid);break;case sa.Kind.Video:this.videoTrackPublications.delete(i.trackSid)}return this.emit(Mi.LocalTrackUnpublished,i),i.setTrack(void 0),o&&(yield this.engine.negotiate()),i}))}unpublishTracks(e){return Yn(this,void 0,void 0,(function*(){return(yield Promise.all(e.map((e=>this.unpublishTrack(e))))).filter((e=>!!e))}))}republishAllTracks(e){return Yn(this,arguments,void 0,(function(e){var t=this;let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function*(){t.republishPromise&&(yield t.republishPromise),t.republishPromise=new Promise(((r,i)=>Yn(t,void 0,void 0,(function*(){try{const t=[];this.trackPublications.forEach((n=>{n.track&&(e&&(n.options=Object.assign(Object.assign({},n.options),e)),t.push(n))})),yield Promise.all(t.map((e=>Yn(this,void 0,void 0,(function*(){const t=e.track;yield this.unpublishTrack(t,!1),!n||t.isMuted||t.source===sa.Source.ScreenShare||t.source===sa.Source.ScreenShareAudio||!co(t)&&!uo(t)||t.isUserProvided||(this.log.debug("restarting existing track",Object.assign(Object.assign({},this.logContext),{track:e.trackSid})),yield t.restartTrack()),yield this.publishOrRepublishTrack(t,e.options,!0)}))))),r()}catch(e){i(e)}finally{this.republishPromise=void 0}})))),yield t.republishPromise}()}))}publishData(e){return Yn(this,arguments,void 0,(function(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){const r=n.reliable?ft.RELIABLE:ft.LOSSY,i=n.destinationIdentities,a=n.topic,o=new pt({kind:r,value:{case:"user",value:new vt({participantIdentity:t.identity,payload:e,destinationIdentities:i,topic:a})}});yield t.engine.sendDataPacket(o,r)}()}))}publishDtmf(e,t){return Yn(this,void 0,void 0,(function*(){const n=new pt({kind:ft.RELIABLE,value:{case:"sipDtmf",value:new gt({code:e,digit:t})}});yield this.engine.sendDataPacket(n,ft.RELIABLE)}))}sendChatMessage(e,t){return Yn(this,void 0,void 0,(function*(){const n={id:crypto.randomUUID(),message:e,timestamp:Date.now(),attachedFiles:null==t?void 0:t.attachments},r=new pt({value:{case:"chatMessage",value:new wt(Object.assign(Object.assign({},n),{timestamp:T.parse(n.timestamp)}))}});return yield this.engine.sendDataPacket(r,ft.RELIABLE),this.emit(Mi.ChatMessage,n),n}))}editChatMessage(e,t){return Yn(this,void 0,void 0,(function*(){const n=Object.assign(Object.assign({},t),{message:e,editTimestamp:Date.now()}),r=new pt({value:{case:"chatMessage",value:new wt(Object.assign(Object.assign({},n),{timestamp:T.parse(n.timestamp),editTimestamp:T.parse(n.editTimestamp)}))}});return yield this.engine.sendDataPacket(r,ft.RELIABLE),this.emit(Mi.ChatMessage,n),n}))}sendText(e,t){return Yn(this,void 0,void 0,(function*(){var n;const r=crypto.randomUUID(),i=(new TextEncoder).encode(e).byteLength,a=null===(n=null==t?void 0:t.attachments)||void 0===n?void 0:n.map((()=>crypto.randomUUID())),o=new Array(a?a.length+1:1).fill(0),s=(e,n)=>{var r;o[n]=e;const i=o.reduce(((e,t)=>e+t),0);null===(r=null==t?void 0:t.onProgress)||void 0===r||r.call(t,i)},u=yield this.streamText({streamId:r,totalSize:i,destinationIdentities:null==t?void 0:t.destinationIdentities,topic:null==t?void 0:t.topic,attachedStreamIds:a,attributes:null==t?void 0:t.attributes});return yield u.write(e),s(1,0),yield u.close(),(null==t?void 0:t.attachments)&&a&&(yield Promise.all(t.attachments.map(((e,n)=>Yn(this,void 0,void 0,(function*(){return this._sendFile(a[n],e,{topic:t.topic,mimeType:e.type,onProgress:e=>{s(e,n+1)}})})))))),u.info}))}streamText(e){return Yn(this,void 0,void 0,(function*(){var t,n;const r=null!==(t=null==e?void 0:e.streamId)&&void 0!==t?t:crypto.randomUUID(),i={id:r,mimeType:"text/plain",timestamp:Date.now(),topic:null!==(n=null==e?void 0:e.topic)&&void 0!==n?n:"",size:null==e?void 0:e.totalSize,attributes:null==e?void 0:e.attributes},a=new Mt({streamId:r,mimeType:i.mimeType,topic:i.topic,timestamp:io(i.timestamp),totalLength:io(null==e?void 0:e.totalSize),attributes:i.attributes,contentHeader:{case:"textHeader",value:new Rt({version:null==e?void 0:e.version,attachedStreamIds:null==e?void 0:e.attachedStreamIds,replyToStreamId:null==e?void 0:e.replyToStreamId,operationType:"update"===(null==e?void 0:e.type)?Bt.UPDATE:Bt.CREATE})}}),o=null==e?void 0:e.destinationIdentities,s=new pt({destinationIdentities:o,value:{case:"streamHeader",value:a}});yield this.engine.sendDataPacket(s,ft.RELIABLE);let u=0;const c=this,l=new WritableStream({write(e){return Yn(this,void 0,void 0,(function*(){for(const t of function(e,t){const n=[];let r=(new TextEncoder).encode(e);for(;r.length>t;){let e=t;for(;e>0;){const t=r[e];if(void 0!==t&&128!=(192&t))break;e--}n.push(r.slice(0,e)),r=r.slice(e)}return r.length>0&&n.push(r),n}(e,15e3)){yield c.engine.waitForBufferStatusLow(ft.RELIABLE);const e=new Lt({content:t,streamId:r,chunkIndex:io(u)}),n=new pt({destinationIdentities:o,value:{case:"streamChunk",value:e}});yield c.engine.sendDataPacket(n,ft.RELIABLE),u+=1}}))},close(){return Yn(this,void 0,void 0,(function*(){const e=new jt({streamId:r}),t=new pt({destinationIdentities:o,value:{case:"streamTrailer",value:e}});yield c.engine.sendDataPacket(t,ft.RELIABLE)}))},abort(e){console.log("Sink error:",e)}});let d=()=>Yn(this,void 0,void 0,(function*(){yield p.close()}));c.engine.once(Li.Closing,d);const p=new Ws(l,i,(()=>this.engine.off(Li.Closing,d)));return p}))}sendFile(e,t){return Yn(this,void 0,void 0,(function*(){const n=crypto.randomUUID();return yield this._sendFile(n,e,t),{id:n}}))}_sendFile(e,t,n){return Yn(this,void 0,void 0,(function*(){var r;const i=yield this.streamBytes({streamId:e,totalSize:t.size,name:t.name,mimeType:null!==(r=null==n?void 0:n.mimeType)&&void 0!==r?r:t.type,topic:null==n?void 0:n.topic,destinationIdentities:null==n?void 0:n.destinationIdentities}),a=t.stream().getReader();for(;;){const{done:e,value:t}=yield a.read();if(e)break;yield i.write(t)}return yield i.close(),i.info}))}streamBytes(e){return Yn(this,void 0,void 0,(function*(){var t,n,r,i,a;const o=null!==(t=null==e?void 0:e.streamId)&&void 0!==t?t:crypto.randomUUID(),u=null==e?void 0:e.destinationIdentities,c={id:o,mimeType:null!==(n=null==e?void 0:e.mimeType)&&void 0!==n?n:"application/octet-stream",topic:null!==(r=null==e?void 0:e.topic)&&void 0!==r?r:"",timestamp:Date.now(),attributes:null==e?void 0:e.attributes,size:null==e?void 0:e.totalSize,name:null!==(i=null==e?void 0:e.name)&&void 0!==i?i:"unknown"},l=new Mt({totalLength:io(null!==(a=c.size)&&void 0!==a?a:0),mimeType:c.mimeType,streamId:o,topic:c.topic,timestamp:io(Date.now()),contentHeader:{case:"byteHeader",value:new Nt({name:c.name})}}),d=new pt({destinationIdentities:u,value:{case:"streamHeader",value:l}});yield this.engine.sendDataPacket(d,ft.RELIABLE);let p=0;const f=new s,h=this.engine,m=this.log,v=new WritableStream({write(e){return Yn(this,void 0,void 0,(function*(){const t=yield f.lock();let n=0;try{for(;n<e.byteLength;){const t=e.slice(n,n+15e3);yield h.waitForBufferStatusLow(ft.RELIABLE);const r=new pt({destinationIdentities:u,value:{case:"streamChunk",value:new Lt({content:t,streamId:o,chunkIndex:io(p)})}});yield h.sendDataPacket(r,ft.RELIABLE),p+=1,n+=t.byteLength}}finally{t()}}))},close(){return Yn(this,void 0,void 0,(function*(){const e=new jt({streamId:o}),t=new pt({destinationIdentities:u,value:{case:"streamTrailer",value:e}});yield h.sendDataPacket(t,ft.RELIABLE)}))},abort(e){m.error("Sink error:",e)}});return new Ks(v,c)}))}performRpc(e){return Yn(this,arguments,void 0,(function(e){var t=this;let{destinationIdentity:n,method:r,payload:i,responseTimeout:a=1e4}=e;return function*(){return new Promise(((e,o)=>Yn(t,void 0,void 0,(function*(){var t,s,u,c;if(fs(i)>15360)return void o(ps.builtIn("REQUEST_PAYLOAD_TOO_LARGE"));if((null===(s=null===(t=this.engine.latestJoinResponse)||void 0===t?void 0:t.serverInfo)||void 0===s?void 0:s.version)&&Ua(null===(c=null===(u=this.engine.latestJoinResponse)||void 0===u?void 0:u.serverInfo)||void 0===c?void 0:c.version,"1.8.0")<0)return void o(ps.builtIn("UNSUPPORTED_SERVER"));const l=crypto.randomUUID();yield this.publishRpcRequest(n,l,r,i,a-2e3);const d=setTimeout((()=>{this.pendingAcks.delete(l),o(ps.builtIn("CONNECTION_TIMEOUT")),this.pendingResponses.delete(l),clearTimeout(p)}),2e3);this.pendingAcks.set(l,{resolve:()=>{clearTimeout(d)},participantIdentity:n});const p=setTimeout((()=>{this.pendingResponses.delete(l),o(ps.builtIn("RESPONSE_TIMEOUT"))}),a);this.pendingResponses.set(l,{resolve:(t,n)=>{clearTimeout(p),this.pendingAcks.has(l)&&(console.warn("RPC response received before ack",l),this.pendingAcks.delete(l),clearTimeout(d)),n?o(n):e(null!=t?t:"")},participantIdentity:n})}))))}()}))}registerRpcMethod(e,t){this.rpcHandlers.has(e)&&this.log.warn("you're overriding the RPC handler for method ".concat(e,", in the future this will throw an error")),this.rpcHandlers.set(e,t)}unregisterRpcMethod(e){this.rpcHandlers.delete(e)}setTrackSubscriptionPermissions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.participantTrackPermissions=t,this.allParticipantsAllowedToSubscribe=e,this.engine.client.isDisconnected||this.updateTrackSubscriptionPermissions()}handleIncomingRpcAck(e){const t=this.pendingAcks.get(e);t?(t.resolve(),this.pendingAcks.delete(e)):console.error("Ack received for unexpected RPC request",e)}handleIncomingRpcResponse(e,t,n){const r=this.pendingResponses.get(e);r?(r.resolve(t,n),this.pendingResponses.delete(e)):console.error("Response received for unexpected RPC request",e)}publishRpcRequest(e,t,n,r,i){return Yn(this,void 0,void 0,(function*(){const a=new pt({destinationIdentities:[e],kind:ft.RELIABLE,value:{case:"rpcRequest",value:new Dt({id:t,method:n,payload:r,responseTimeoutMs:i,version:1})}});yield this.engine.sendDataPacket(a,ft.RELIABLE)}))}handleParticipantDisconnected(e){for(const[t,{participantIdentity:n}]of this.pendingAcks)n===e&&this.pendingAcks.delete(t);for(const[t,{participantIdentity:n,resolve:r}]of this.pendingResponses)n===e&&(r(null,ps.builtIn("RECIPIENT_DISCONNECTED")),this.pendingResponses.delete(t))}setEnabledPublishCodecs(e){this.enabledPublishVideoCodecs=e.filter((e=>"video"===e.mime.split("/")[0].toLowerCase()))}updateInfo(e){return e.sid===this.sid&&(!!super.updateInfo(e)&&(e.tracks.forEach((e=>{var t,n;const r=this.trackPublications.get(e.sid);if(r){const i=r.isMuted||null!==(n=null===(t=r.track)||void 0===t?void 0:t.isUpstreamPaused)&&void 0!==n&&n;i!==e.muted&&(this.log.debug("updating server mute state after reconcile",Object.assign(Object.assign(Object.assign({},this.logContext),_o(r)),{mutedOnServer:i})),this.engine.client.sendMuteTrack(e.sid,i))}})),!0))}getPublicationForTrack(e){let t;return this.trackPublications.forEach((n=>{const r=n.track;r&&(e instanceof MediaStreamTrack?(co(r)||uo(r))&&r.mediaStreamTrack===e&&(t=n):e===r&&(t=n))})),t}waitForPendingPublicationOfSource(e){return Yn(this,void 0,void 0,(function*(){const t=Date.now();for(;Date.now()<t+1e4;){const t=Array.from(this.pendingPublishPromises.entries()).find((t=>{let[n]=t;return n.source===e}));if(t)return t[1];yield wa(20)}}))}}class uu extends Js{constructor(e,t,n,r){super(e,t.sid,t.name,r),this.track=void 0,this.allowed=!0,this.disabled=!1,this.currentVideoQuality=oa.HIGH,this.handleEnded=e=>{this.setTrack(void 0),this.emit(ji.Ended,e)},this.handleVisibilityChange=e=>{this.log.debug("adaptivestream video visibility ".concat(this.trackSid,", visible=").concat(e),this.logContext),this.disabled=!e,this.emitTrackUpdate()},this.handleVideoDimensionsChange=e=>{this.log.debug("adaptivestream video dimensions ".concat(e.width,"x").concat(e.height),this.logContext),this.videoDimensions=e,this.emitTrackUpdate()},this.subscribed=n,this.updateInfo(t)}setSubscribed(e){const t=this.subscriptionStatus,n=this.permissionStatus;this.subscribed=e,e&&(this.allowed=!0);const r=new tn({trackSids:[this.trackSid],subscribe:this.subscribed,participantTracks:[new Ct({participantSid:"",trackSids:[this.trackSid]})]});this.emit(ji.UpdateSubscription,r),this.emitSubscriptionUpdateIfChanged(t),this.emitPermissionUpdateIfChanged(n)}get subscriptionStatus(){return!1===this.subscribed?Js.SubscriptionStatus.Unsubscribed:super.isSubscribed?Js.SubscriptionStatus.Subscribed:Js.SubscriptionStatus.Desired}get permissionStatus(){return this.allowed?Js.PermissionStatus.Allowed:Js.PermissionStatus.NotAllowed}get isSubscribed(){return!1!==this.subscribed&&super.isSubscribed}get isDesired(){return!1!==this.subscribed}get isEnabled(){return!this.disabled}get isLocal(){return!1}setEnabled(e){this.isManualOperationAllowed()&&this.disabled!==!e&&(this.disabled=!e,this.emitTrackUpdate())}setVideoQuality(e){this.isManualOperationAllowed()&&this.currentVideoQuality!==e&&(this.currentVideoQuality=e,this.videoDimensions=void 0,this.emitTrackUpdate())}setVideoDimensions(e){var t,n;this.isManualOperationAllowed()&&((null===(t=this.videoDimensions)||void 0===t?void 0:t.width)===e.width&&(null===(n=this.videoDimensions)||void 0===n?void 0:n.height)===e.height||(fo(this.track)&&(this.videoDimensions=e),this.currentVideoQuality=void 0,this.emitTrackUpdate()))}setVideoFPS(e){this.isManualOperationAllowed()&&fo(this.track)&&this.fps!==e&&(this.fps=e,this.emitTrackUpdate())}get videoQuality(){return this.currentVideoQuality}setTrack(e){const t=this.subscriptionStatus,n=this.permissionStatus,r=this.track;r!==e&&(r&&(r.off(ji.VideoDimensionsChanged,this.handleVideoDimensionsChange),r.off(ji.VisibilityChanged,this.handleVisibilityChange),r.off(ji.Ended,this.handleEnded),r.detach(),r.stopMonitor(),this.emit(ji.Unsubscribed,r)),super.setTrack(e),e&&(e.sid=this.trackSid,e.on(ji.VideoDimensionsChanged,this.handleVideoDimensionsChange),e.on(ji.VisibilityChanged,this.handleVisibilityChange),e.on(ji.Ended,this.handleEnded),this.emit(ji.Subscribed,e)),this.emitPermissionUpdateIfChanged(n),this.emitSubscriptionUpdateIfChanged(t))}setAllowed(e){const t=this.subscriptionStatus,n=this.permissionStatus;this.allowed=e,this.emitPermissionUpdateIfChanged(n),this.emitSubscriptionUpdateIfChanged(t)}setSubscriptionError(e){this.emit(ji.SubscriptionFailed,e)}updateInfo(e){super.updateInfo(e);const t=this.metadataMuted;this.metadataMuted=e.muted,this.track?this.track.setMuted(e.muted):t!==e.muted&&this.emit(e.muted?ji.Muted:ji.Unmuted)}emitSubscriptionUpdateIfChanged(e){const t=this.subscriptionStatus;e!==t&&this.emit(ji.SubscriptionStatusChanged,t,e)}emitPermissionUpdateIfChanged(e){this.permissionStatus!==e&&this.emit(ji.SubscriptionPermissionChanged,this.permissionStatus,e)}isManualOperationAllowed(){return this.kind===sa.Kind.Video&&this.isAdaptiveStream?(this.log.warn("adaptive stream is enabled, cannot change video track settings",this.logContext),!1):!!this.isDesired||(this.log.warn("cannot update track settings when not subscribed",this.logContext),!1)}get isAdaptiveStream(){return fo(this.track)&&this.track.isAdaptiveStream}emitTrackUpdate(){const e=new nn({trackSids:[this.trackSid],disabled:this.disabled,fps:this.fps});this.videoDimensions?(e.width=Math.ceil(this.videoDimensions.width),e.height=Math.ceil(this.videoDimensions.height)):void 0!==this.currentVideoQuality?e.quality=this.currentVideoQuality:e.quality=oa.HIGH,this.emit(ji.UpdateSettings,e)}}class cu extends ou{static fromParticipantInfo(e,t,n){return new cu(e,t.sid,t.identity,t.name,t.metadata,t.attributes,n,t.kind)}get logContext(){return Object.assign(Object.assign({},super.logContext),{rpID:this.sid,remoteParticipant:this.identity})}constructor(e,t,n,r,i,a,o){super(t,n||"",r,i,a,o,arguments.length>7&&void 0!==arguments[7]?arguments[7]:ot.STANDARD),this.signalClient=e,this.trackPublications=new Map,this.audioTrackPublications=new Map,this.videoTrackPublications=new Map,this.volumeMap=new Map}addTrackPublication(e){super.addTrackPublication(e),e.on(ji.UpdateSettings,(t=>{this.log.debug("send update settings",Object.assign(Object.assign({},this.logContext),_o(e))),this.signalClient.sendUpdateTrackSettings(t)})),e.on(ji.UpdateSubscription,(e=>{e.participantTracks.forEach((e=>{e.participantSid=this.sid})),this.signalClient.sendUpdateSubscription(e)})),e.on(ji.SubscriptionPermissionChanged,(t=>{this.emit(Mi.TrackSubscriptionPermissionChanged,e,t)})),e.on(ji.SubscriptionStatusChanged,(t=>{this.emit(Mi.TrackSubscriptionStatusChanged,e,t)})),e.on(ji.Subscribed,(t=>{this.emit(Mi.TrackSubscribed,t,e)})),e.on(ji.Unsubscribed,(t=>{this.emit(Mi.TrackUnsubscribed,t,e)})),e.on(ji.SubscriptionFailed,(t=>{this.emit(Mi.TrackSubscriptionFailed,e.trackSid,t)}))}getTrackPublication(e){const t=super.getTrackPublication(e);if(t)return t}getTrackPublicationByName(e){const t=super.getTrackPublicationByName(e);if(t)return t}setVolume(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:sa.Source.Microphone;this.volumeMap.set(t,e);const n=this.getTrackPublication(t);n&&n.track&&n.track.setVolume(e)}getVolume(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sa.Source.Microphone;const t=this.getTrackPublication(e);return t&&t.track?t.track.getVolume():this.volumeMap.get(e)}addSubscribedMediaTrack(e,t,n,r,i,a){let o=this.getTrackPublicationBySid(t);if(o||t.startsWith("TR")||this.trackPublications.forEach((t=>{o||e.kind!==t.kind.toString()||(o=t)})),!o)return 0===a?(this.log.error("could not find published track",Object.assign(Object.assign({},this.logContext),{trackSid:t})),void this.emit(Mi.TrackSubscriptionFailed,t)):(void 0===a&&(a=20),void setTimeout((()=>{this.addSubscribedMediaTrack(e,t,n,r,i,a-1)}),150));if("ended"===e.readyState)return this.log.error("unable to subscribe because MediaStreamTrack is ended. Do not call MediaStreamTrack.stop()",Object.assign(Object.assign({},this.logContext),_o(o))),void this.emit(Mi.TrackSubscriptionFailed,t);let s;return s="video"===e.kind?new Qs(e,t,r,i):new Gs(e,t,r,this.audioContext,this.audioOutput),s.source=o.source,s.isMuted=o.isMuted,s.setMediaStream(n),s.start(),o.setTrack(s),this.volumeMap.has(o.source)&&lo(s)&&oo(s)&&s.setVolume(this.volumeMap.get(o.source)),o}get hasMetadata(){return!!this.participantInfo}getTrackPublicationBySid(e){return this.trackPublications.get(e)}updateInfo(e){if(!super.updateInfo(e))return!1;const t=new Map,n=new Map;return e.tracks.forEach((e=>{var r,i;let a=this.getTrackPublicationBySid(e.sid);if(a)a.updateInfo(e);else{const t=sa.kindFromProto(e.type);if(!t)return;a=new uu(t,e,null===(r=this.signalClient.connectOptions)||void 0===r?void 0:r.autoSubscribe,{loggerContextCb:()=>this.logContext,loggerName:null===(i=this.loggerOptions)||void 0===i?void 0:i.loggerName}),a.updateInfo(e),n.set(e.sid,a);const o=Array.from(this.trackPublications.values()).find((e=>e.source===(null==a?void 0:a.source)));o&&a.source!==sa.Source.Unknown&&this.log.debug("received a second track publication for ".concat(this.identity," with the same source: ").concat(a.source),Object.assign(Object.assign({},this.logContext),{oldTrack:_o(o),newTrack:_o(a)})),this.addTrackPublication(a)}t.set(e.sid,a)})),this.trackPublications.forEach((e=>{t.has(e.trackSid)||(this.log.trace("detected removed track on remote participant, unpublishing",Object.assign(Object.assign({},this.logContext),_o(e))),this.unpublishTrack(e.trackSid,!0))})),n.forEach((e=>{this.emit(Mi.TrackPublished,e)})),!0}unpublishTrack(e,t){const n=this.trackPublications.get(e);if(!n)return;const{track:r}=n;switch(r&&(r.stop(),n.setTrack(void 0)),this.trackPublications.delete(e),n.kind){case sa.Kind.Audio:this.audioTrackPublications.delete(e);break;case sa.Kind.Video:this.videoTrackPublications.delete(e)}t&&this.emit(Mi.TrackUnpublished,n)}setAudioOutput(e){return Yn(this,void 0,void 0,(function*(){this.audioOutput=e;const t=[];this.audioTrackPublications.forEach((n=>{var r;oo(n.track)&&lo(n.track)&&t.push(n.track.setSinkId(null!==(r=e.deviceId)&&void 0!==r?r:"default"))})),yield Promise.all(t)}))}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.log.trace("participant event",Object.assign(Object.assign({},this.logContext),{event:e,args:n})),super.emit(e,...n)}}var lu;!function(e){e.Disconnected="disconnected",e.Connecting="connecting",e.Connected="connected",e.Reconnecting="reconnecting",e.SignalReconnecting="signalReconnecting"}(lu||(lu={}));class du extends tr.EventEmitter{constructor(e){var t,n,r,i;if(super(),t=this,this.state=lu.Disconnected,this.activeSpeakers=[],this.isE2EEEnabled=!1,this.audioEnabled=!0,this.isVideoPlaybackBlocked=!1,this.log=zn,this.bufferedEvents=[],this.isResuming=!1,this.byteStreamControllers=new Map,this.textStreamControllers=new Map,this.byteStreamHandlers=new Map,this.textStreamHandlers=new Map,this.rpcHandlers=new Map,this.connect=(e,t,n)=>Yn(this,void 0,void 0,(function*(){var r;if(!Ta())throw Ra()?Error("WebRTC isn't detected, have you called registerGlobals?"):Error("LiveKit doesn't seem to be supported on this browser. Try to update your browser and make sure no browser extensions are disabling webRTC.");const i=yield this.disconnectLock.lock();if(this.state===lu.Connected)return this.log.info("already connected to room ".concat(this.name),this.logContext),i(),Promise.resolve();if(this.connectFuture)return i(),this.connectFuture.promise;this.setAndEmitConnectionState(lu.Connecting),(null===(r=this.regionUrlProvider)||void 0===r?void 0:r.getServerUrl().toString())!==e&&(this.regionUrl=void 0,this.regionUrlProvider=void 0),Na(new URL(e))&&(void 0===this.regionUrlProvider?this.regionUrlProvider=new Us(e,t):this.regionUrlProvider.updateToken(t),this.regionUrlProvider.fetchRegionSettings().then((e=>{var t;null===(t=this.regionUrlProvider)||void 0===t||t.setServerReportedRegions(e)})).catch((e=>{this.log.warn("could not fetch region settings",Object.assign(Object.assign({},this.logContext),{error:e}))})));const a=(r,o,s)=>Yn(this,void 0,void 0,(function*(){var u,c;this.abortController&&this.abortController.abort();const l=new AbortController;this.abortController=l,null==i||i();try{yield this.attemptConnection(null!=s?s:e,t,n,l),this.abortController=void 0,r()}catch(e){if(this.regionUrlProvider&&e instanceof Ui&&e.reason!==Ii.Cancelled&&e.reason!==Ii.NotAllowed){let t=null;try{t=yield this.regionUrlProvider.getNextBestRegionUrl(null===(u=this.abortController)||void 0===u?void 0:u.signal)}catch(e){if(e instanceof Ui&&(401===e.status||e.reason===Ii.Cancelled))return this.handleDisconnect(this.options.stopLocalTrackOnUnpublish),void o(e)}t&&!(null===(c=this.abortController)||void 0===c?void 0:c.signal.aborted)?(this.log.info("Initial connection failed with ConnectionError: ".concat(e.message,". Retrying with another region: ").concat(t),this.logContext),this.recreateEngine(),yield a(r,o,t)):(this.handleDisconnect(this.options.stopLocalTrackOnUnpublish,no(e)),o(e))}else{let t=Xe.UNKNOWN_REASON;e instanceof Ui&&(t=no(e)),this.handleDisconnect(this.options.stopLocalTrackOnUnpublish,t),o(e)}}})),o=this.regionUrl;return this.regionUrl=void 0,this.connectFuture=new Za(((e,t)=>{a(e,t,o)}),(()=>{this.clearConnectionFutures()})),this.connectFuture.promise})),this.connectSignal=(e,t,n,r,i,a)=>Yn(this,void 0,void 0,(function*(){var o,s,u;const c=yield n.join(e,t,{autoSubscribe:r.autoSubscribe,adaptiveStream:"object"==typeof i.adaptiveStream||i.adaptiveStream,maxRetries:r.maxRetries,e2eeEnabled:!!this.e2eeManager,websocketTimeout:r.websocketTimeout},a.signal);let l=c.serverInfo;if(l||(l={version:c.serverVersion,region:c.serverRegion}),this.serverInfo=l,this.log.debug("connected to Livekit Server ".concat(Object.entries(l).map((e=>{let[t,n]=e;return"".concat(t,": ").concat(n)})).join(", ")),{room:null===(o=c.room)||void 0===o?void 0:o.name,roomSid:null===(s=c.room)||void 0===s?void 0:s.sid,identity:null===(u=c.participant)||void 0===u?void 0:u.identity}),!l.version)throw new qi("unknown server version");return"0.15.1"===l.version&&this.options.dynacast&&(this.log.debug("disabling dynacast due to server version",this.logContext),i.dynacast=!1),c})),this.applyJoinResponse=e=>{const t=e.participant;if(this.localParticipant.sid=t.sid,this.localParticipant.identity=t.identity,this.localParticipant.setEnabledPublishCodecs(e.enabledPublishCodecs),this.options.e2ee&&this.e2eeManager)try{this.e2eeManager.setSifTrailer(e.sifTrailer)}catch(e){this.log.error(e instanceof Error?e.message:"Could not set SifTrailer",Object.assign(Object.assign({},this.logContext),{error:e}))}this.handleParticipantUpdates([t,...e.otherParticipants]),e.room&&this.handleRoomUpdate(e.room)},this.attemptConnection=(e,t,n,r)=>Yn(this,void 0,void 0,(function*(){var i,a;this.state===lu.Reconnecting||this.isResuming||(null===(i=this.engine)||void 0===i?void 0:i.pendingReconnect)?(this.log.info("Reconnection attempt replaced by new connection attempt",this.logContext),this.recreateEngine()):this.maybeCreateEngine(),(null===(a=this.regionUrlProvider)||void 0===a?void 0:a.isCloud())&&this.engine.setRegionUrlProvider(this.regionUrlProvider),this.acquireAudioContext(),this.connOptions=Object.assign(Object.assign({},cs),n),this.connOptions.rtcConfig&&(this.engine.rtcConfig=this.connOptions.rtcConfig),this.connOptions.peerConnectionTimeout&&(this.engine.peerConnectionTimeout=this.connOptions.peerConnectionTimeout);try{const n=yield this.connectSignal(e,t,this.engine,this.connOptions,this.options,r);this.applyJoinResponse(n),this.setupLocalParticipantEvents(),this.emit(Ni.SignalConnected)}catch(e){yield this.engine.close(),this.recreateEngine();const t=new Ui("could not establish signal connection",Ii.ServerUnreachable);throw e instanceof Error&&(t.message="".concat(t.message,": ").concat(e.message)),e instanceof Ui&&(t.reason=e.reason,t.status=e.status),this.log.debug("error trying to establish signal connection",Object.assign(Object.assign({},this.logContext),{error:e})),t}if(r.signal.aborted)throw yield this.engine.close(),this.recreateEngine(),new Ui("Connection attempt aborted",Ii.Cancelled);try{yield this.engine.waitForPCInitialConnection(this.connOptions.peerConnectionTimeout,r)}catch(e){throw yield this.engine.close(),this.recreateEngine(),e}Ba()&&this.options.disconnectOnPageLeave&&(window.addEventListener("pagehide",this.onPageLeave),window.addEventListener("beforeunload",this.onPageLeave)),Ba()&&document.addEventListener("freeze",this.onPageLeave),this.setAndEmitConnectionState(lu.Connected),this.emit(Ni.Connected),this.registerConnectionReconcile()})),this.disconnect=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Yn(t,[...n],void 0,(function(){var e=this;let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function*(){var n,r,i,a;const o=yield e.disconnectLock.lock();try{if(e.state===lu.Disconnected)return void e.log.debug("already disconnected",e.logContext);e.log.info("disconnect from room",Object.assign({},e.logContext)),(e.state===lu.Connecting||e.state===lu.Reconnecting||e.isResuming)&&(e.log.warn("abort connection attempt",e.logContext),null===(n=e.abortController)||void 0===n||n.abort(),null===(i=null===(r=e.connectFuture)||void 0===r?void 0:r.reject)||void 0===i||i.call(r,new Ui("Client initiated disconnect",Ii.Cancelled)),e.connectFuture=void 0),(null===(a=e.engine)||void 0===a?void 0:a.client.isDisconnected)||(yield e.engine.client.sendLeave()),e.engine&&(yield e.engine.close()),e.handleDisconnect(t,Xe.CLIENT_INITIATED),e.engine=void 0}finally{o()}}()}))},this.onPageLeave=()=>Yn(this,void 0,void 0,(function*(){this.log.info("Page leave detected, disconnecting",this.logContext),yield this.disconnect()})),this.startAudio=()=>Yn(this,void 0,void 0,(function*(){const e=[],t=Zi();if(t&&"iOS"===t.os){const t="livekit-dummy-audio-el";let n=document.getElementById(t);if(!n){n=document.createElement("audio"),n.id=t,n.autoplay=!0,n.hidden=!0;const e=Xa();e.enabled=!0;const r=new MediaStream([e]);n.srcObject=r,document.addEventListener("visibilitychange",(()=>{n&&(n.srcObject=document.hidden?null:r,document.hidden||(this.log.debug("page visible again, triggering startAudio to resume playback and update playback status",this.logContext),this.startAudio()))})),document.body.append(n),this.once(Ni.Disconnected,(()=>{null==n||n.remove(),n=null}))}e.push(n)}this.remoteParticipants.forEach((t=>{t.audioTrackPublications.forEach((t=>{t.track&&t.track.attachedElements.forEach((t=>{e.push(t)}))}))}));try{yield Promise.all([this.acquireAudioContext(),...e.map((e=>(e.muted=!1,e.play())))]),this.handleAudioPlaybackStarted()}catch(e){throw this.handleAudioPlaybackFailed(e),e}})),this.startVideo=()=>Yn(this,void 0,void 0,(function*(){const e=[];for(const t of this.remoteParticipants.values())t.videoTrackPublications.forEach((t=>{var n;null===(n=t.track)||void 0===n||n.attachedElements.forEach((t=>{e.includes(t)||e.push(t)}))}));yield Promise.all(e.map((e=>e.play()))).then((()=>{this.handleVideoPlaybackStarted()})).catch((e=>{"NotAllowedError"===e.name?this.handleVideoPlaybackFailed():this.log.warn("Resuming video playback failed, make sure you call `startVideo` directly in a user gesture handler",this.logContext)}))})),this.handleRestarting=()=>{this.clearConnectionReconcile(),this.isResuming=!1;for(const e of this.remoteParticipants.values())this.handleParticipantDisconnected(e.identity,e);this.setAndEmitConnectionState(lu.Reconnecting)&&this.emit(Ni.Reconnecting)},this.handleSignalRestarted=e=>Yn(this,void 0,void 0,(function*(){this.log.debug("signal reconnected to server, region ".concat(e.serverRegion),Object.assign(Object.assign({},this.logContext),{region:e.serverRegion})),this.bufferedEvents=[],this.applyJoinResponse(e);try{yield this.localParticipant.republishAllTracks(void 0,!0)}catch(e){this.log.error("error trying to re-publish tracks after reconnection",Object.assign(Object.assign({},this.logContext),{error:e}))}try{yield this.engine.waitForRestarted(),this.log.debug("fully reconnected to server",Object.assign(Object.assign({},this.logContext),{region:e.serverRegion}))}catch(e){return}this.setAndEmitConnectionState(lu.Connected),this.emit(Ni.Reconnected),this.registerConnectionReconcile(),this.emitBufferedEvents()})),this.handleParticipantUpdates=e=>{e.forEach((e=>{var t;if(e.identity===this.localParticipant.identity)return void this.localParticipant.updateInfo(e);""===e.identity&&(e.identity=null!==(t=this.sidToIdentity.get(e.sid))&&void 0!==t?t:"");let n=this.remoteParticipants.get(e.identity);e.state===at.DISCONNECTED?this.handleParticipantDisconnected(e.identity,n):n=this.getOrCreateParticipant(e.identity,e)}))},this.handleActiveSpeakersUpdate=e=>{const t=[],n={};e.forEach((e=>{if(n[e.sid]=!0,e.sid===this.localParticipant.sid)this.localParticipant.audioLevel=e.level,this.localParticipant.setIsSpeaking(!0),t.push(this.localParticipant);else{const n=this.getRemoteParticipantBySid(e.sid);n&&(n.audioLevel=e.level,n.setIsSpeaking(!0),t.push(n))}})),n[this.localParticipant.sid]||(this.localParticipant.audioLevel=0,this.localParticipant.setIsSpeaking(!1)),this.remoteParticipants.forEach((e=>{n[e.sid]||(e.audioLevel=0,e.setIsSpeaking(!1))})),this.activeSpeakers=t,this.emitWhenConnected(Ni.ActiveSpeakersChanged,t)},this.handleSpeakersChanged=e=>{const t=new Map;this.activeSpeakers.forEach((e=>{const n=this.remoteParticipants.get(e.identity);n&&n.sid!==e.sid||t.set(e.sid,e)})),e.forEach((e=>{let n=this.getRemoteParticipantBySid(e.sid);e.sid===this.localParticipant.sid&&(n=this.localParticipant),n&&(n.audioLevel=e.level,n.setIsSpeaking(e.active),e.active?t.set(e.sid,n):t.delete(e.sid))}));const n=Array.from(t.values());n.sort(((e,t)=>t.audioLevel-e.audioLevel)),this.activeSpeakers=n,this.emitWhenConnected(Ni.ActiveSpeakersChanged,n)},this.handleStreamStateUpdate=e=>{e.streamStates.forEach((e=>{const t=this.getRemoteParticipantBySid(e.participantSid);if(!t)return;const n=t.getTrackPublicationBySid(e.trackSid);if(!n||!n.track)return;const r=sa.streamStateFromProto(e.state);r!==n.track.streamState&&(n.track.streamState=r,t.emit(Mi.TrackStreamStateChanged,n,n.track.streamState),this.emitWhenConnected(Ni.TrackStreamStateChanged,n,n.track.streamState,t))}))},this.handleSubscriptionPermissionUpdate=e=>{const t=this.getRemoteParticipantBySid(e.participantSid);if(!t)return;const n=t.getTrackPublicationBySid(e.trackSid);n&&n.setAllowed(e.allowed)},this.handleSubscriptionError=e=>{const t=Array.from(this.remoteParticipants.values()).find((t=>t.trackPublications.has(e.trackSid)));if(!t)return;const n=t.getTrackPublicationBySid(e.trackSid);n&&n.setSubscriptionError(e.err)},this.handleDataPacket=e=>{const t=this.remoteParticipants.get(e.participantIdentity);if("user"===e.value.case)this.handleUserPacket(t,e.value.value,e.kind);else if("transcription"===e.value.case)this.handleTranscription(t,e.value.value);else if("sipDtmf"===e.value.case)this.handleSipDtmf(t,e.value.value);else if("chatMessage"===e.value.case)this.handleChatMessage(t,e.value.value);else if("metrics"===e.value.case)this.handleMetrics(e.value.value,t);else if("streamHeader"===e.value.case)this.handleStreamHeader(e.value.value,e.participantIdentity);else if("streamChunk"===e.value.case)this.handleStreamChunk(e.value.value);else if("streamTrailer"===e.value.case)this.handleStreamTrailer(e.value.value);else if("rpcRequest"===e.value.case){const t=e.value.value;this.handleIncomingRpcRequest(e.participantIdentity,t.id,t.method,t.payload,t.responseTimeoutMs,t.version)}},this.handleUserPacket=(e,t,n)=>{this.emit(Ni.DataReceived,t.payload,e,n,t.topic),null==e||e.emit(Mi.DataReceived,t.payload,n)},this.handleSipDtmf=(e,t)=>{this.emit(Ni.SipDTMFReceived,t,e),null==e||e.emit(Mi.SipDTMFReceived,t)},this.bufferedSegments=new Map,this.handleTranscription=(e,t)=>{const n=t.transcribedParticipantIdentity===this.localParticipant.identity?this.localParticipant:this.getParticipantByIdentity(t.transcribedParticipantIdentity),r=null==n?void 0:n.trackPublications.get(t.trackId),i=function(e,t){return e.segments.map((e=>{let{id:n,text:r,language:i,startTime:a,endTime:o,final:s}=e;var u;const c=null!==(u=t.get(n))&&void 0!==u?u:Date.now(),l=Date.now();return s?t.delete(n):t.set(n,c),{id:n,text:r,startTime:Number.parseInt(a.toString()),endTime:Number.parseInt(o.toString()),final:s,language:i,firstReceivedTime:c,lastReceivedTime:l}}))}(t,this.transcriptionReceivedTimes);null==r||r.emit(ji.TranscriptionReceived,i),null==n||n.emit(Mi.TranscriptionReceived,i,r),this.emit(Ni.TranscriptionReceived,i,n,r)},this.handleChatMessage=(e,t)=>{const n=function(e){const{id:t,timestamp:n,message:r,editTimestamp:i}=e;return{id:t,timestamp:Number.parseInt(n.toString()),editTimestamp:i?Number.parseInt(i.toString()):void 0,message:r}}(t);this.emit(Ni.ChatMessage,n,e)},this.handleMetrics=(e,t)=>{this.emit(Ni.MetricsReceived,e,t)},this.handleAudioPlaybackStarted=()=>{this.canPlaybackAudio||(this.audioEnabled=!0,this.emit(Ni.AudioPlaybackStatusChanged,!0))},this.handleAudioPlaybackFailed=e=>{this.log.warn("could not playback audio",Object.assign(Object.assign({},this.logContext),{error:e})),this.canPlaybackAudio&&(this.audioEnabled=!1,this.emit(Ni.AudioPlaybackStatusChanged,!1))},this.handleVideoPlaybackStarted=()=>{this.isVideoPlaybackBlocked&&(this.isVideoPlaybackBlocked=!1,this.emit(Ni.VideoPlaybackStatusChanged,!0))},this.handleVideoPlaybackFailed=()=>{this.isVideoPlaybackBlocked||(this.isVideoPlaybackBlocked=!0,this.emit(Ni.VideoPlaybackStatusChanged,!1))},this.handleDeviceChange=()=>Yn(this,void 0,void 0,(function*(){var e,t,n;const r=Fo.getInstance().previousDevices,i=yield Fo.getInstance().getDevices(void 0,!1),a=Zi();if("Chrome"===(null==a?void 0:a.name)&&"iOS"!==a.os)for(let e of i){const t=r.find((t=>t.deviceId===e.deviceId));t&&""!==t.label&&t.kind===e.kind&&t.label!==e.label&&"default"===this.getActiveDevice(e.kind)&&this.emit(Ni.ActiveDeviceChanged,e.kind,e.deviceId)}const o=["audiooutput","audioinput","videoinput"];for(let a of o){const o=Do(a),s=this.localParticipant.getTrackPublication(o);if(s&&(null===(e=s.track)||void 0===e?void 0:e.isUserProvided))continue;const u=i.filter((e=>e.kind===a)),c=this.getActiveDevice(a);c===(null===(t=r.filter((e=>e.kind===a))[0])||void 0===t?void 0:t.deviceId)&&u.length>0&&(null===(n=u[0])||void 0===n?void 0:n.deviceId)!==c?yield this.switchActiveDevice(a,u[0].deviceId):"audioinput"===a&&!Oa()||"videoinput"===a||u.length>0&&!u.find((e=>e.deviceId===this.getActiveDevice(a)))&&(yield this.switchActiveDevice(a,u[0].deviceId))}this.emit(Ni.MediaDevicesChanged)})),this.handleRoomUpdate=e=>{const t=this.roomInfo;this.roomInfo=e,t&&t.metadata!==e.metadata&&this.emitWhenConnected(Ni.RoomMetadataChanged,e.metadata),(null==t?void 0:t.activeRecording)!==e.activeRecording&&this.emitWhenConnected(Ni.RecordingStatusChanged,e.activeRecording)},this.handleConnectionQualityUpdate=e=>{e.updates.forEach((e=>{if(e.participantSid===this.localParticipant.sid)return void this.localParticipant.setConnectionQuality(e.quality);const t=this.getRemoteParticipantBySid(e.participantSid);t&&t.setConnectionQuality(e.quality)}))},this.onLocalParticipantMetadataChanged=e=>{this.emit(Ni.ParticipantMetadataChanged,e,this.localParticipant)},this.onLocalParticipantNameChanged=e=>{this.emit(Ni.ParticipantNameChanged,e,this.localParticipant)},this.onLocalAttributesChanged=e=>{this.emit(Ni.ParticipantAttributesChanged,e,this.localParticipant)},this.onLocalTrackMuted=e=>{this.emit(Ni.TrackMuted,e,this.localParticipant)},this.onLocalTrackUnmuted=e=>{this.emit(Ni.TrackUnmuted,e,this.localParticipant)},this.onTrackProcessorUpdate=e=>{var t;null===(t=null==e?void 0:e.onPublish)||void 0===t||t.call(e,this)},this.onLocalTrackPublished=e=>Yn(this,void 0,void 0,(function*(){var t,n,r,i,a,o;if(null===(t=e.track)||void 0===t||t.on(ji.TrackProcessorUpdate,this.onTrackProcessorUpdate),null===(n=e.track)||void 0===n||n.on(ji.Restarted,this.onLocalTrackRestarted),null===(a=null===(i=null===(r=e.track)||void 0===r?void 0:r.getProcessor())||void 0===i?void 0:i.onPublish)||void 0===a||a.call(i,this),this.emit(Ni.LocalTrackPublished,e,this.localParticipant),co(e.track)){(yield e.track.checkForSilence())&&this.emit(Ni.LocalAudioSilenceDetected,e)}const s=yield null===(o=e.track)||void 0===o?void 0:o.getDeviceId(!1),u=Ao(e.source);u&&s&&s!==this.localParticipant.activeDeviceMap.get(u)&&(this.localParticipant.activeDeviceMap.set(u,s),this.emit(Ni.ActiveDeviceChanged,u,s))})),this.onLocalTrackUnpublished=e=>{var t,n;null===(t=e.track)||void 0===t||t.off(ji.TrackProcessorUpdate,this.onTrackProcessorUpdate),null===(n=e.track)||void 0===n||n.off(ji.Restarted,this.onLocalTrackRestarted),this.emit(Ni.LocalTrackUnpublished,e,this.localParticipant)},this.onLocalTrackRestarted=e=>Yn(this,void 0,void 0,(function*(){const t=yield e.getDeviceId(!1),n=Ao(e.source);n&&t&&t!==this.localParticipant.activeDeviceMap.get(n)&&(this.log.debug("local track restarted, setting ".concat(n," ").concat(t," active"),this.logContext),this.localParticipant.activeDeviceMap.set(n,t),this.emit(Ni.ActiveDeviceChanged,n,t))})),this.onLocalConnectionQualityChanged=e=>{this.emit(Ni.ConnectionQualityChanged,e,this.localParticipant)},this.onMediaDevicesError=e=>{this.emit(Ni.MediaDevicesError,e)},this.onLocalParticipantPermissionsChanged=e=>{this.emit(Ni.ParticipantPermissionsChanged,e,this.localParticipant)},this.onLocalChatMessageSent=e=>{this.emit(Ni.ChatMessage,e,this.localParticipant)},this.setMaxListeners(100),this.remoteParticipants=new Map,this.sidToIdentity=new Map,this.options=Object.assign(Object.assign({},us),e),this.log=qn(null!==(n=this.options.loggerName)&&void 0!==n?n:jn.Room),this.transcriptionReceivedTimes=new Map,this.options.audioCaptureDefaults=Object.assign(Object.assign({},os),null==e?void 0:e.audioCaptureDefaults),this.options.videoCaptureDefaults=Object.assign(Object.assign({},ss),null==e?void 0:e.videoCaptureDefaults),this.options.publishDefaults=Object.assign(Object.assign({},as),null==e?void 0:e.publishDefaults),this.maybeCreateEngine(),this.disconnectLock=new s,this.localParticipant=new su("","",this.engine,this.options,this.rpcHandlers),this.options.videoCaptureDefaults.deviceId&&this.localParticipant.activeDeviceMap.set("videoinput",eo(this.options.videoCaptureDefaults.deviceId)),this.options.audioCaptureDefaults.deviceId&&this.localParticipant.activeDeviceMap.set("audioinput",eo(this.options.audioCaptureDefaults.deviceId)),(null===(r=this.options.audioOutput)||void 0===r?void 0:r.deviceId)&&this.switchActiveDevice("audiooutput",eo(this.options.audioOutput.deviceId)).catch((e=>this.log.warn("Could not set audio output: ".concat(e.message),this.logContext))),this.options.e2ee&&this.setupE2EE(),Ba()){const e=new AbortController;null===(i=navigator.mediaDevices)||void 0===i||i.addEventListener("devicechange",this.handleDeviceChange,{signal:e.signal}),du.cleanupRegistry&&du.cleanupRegistry.register(this,(()=>{e.abort()}))}}registerTextStreamHandler(e,t){if(this.textStreamHandlers.has(e))throw new TypeError('A text stream handler for topic "'.concat(e,'" has already been set.'));this.textStreamHandlers.set(e,t)}unregisterTextStreamHandler(e){this.textStreamHandlers.delete(e)}registerByteStreamHandler(e,t){if(this.byteStreamHandlers.has(e))throw new TypeError('A byte stream handler for topic "'.concat(e,'" has already been set.'));this.byteStreamHandlers.set(e,t)}unregisterByteStreamHandler(e){this.byteStreamHandlers.delete(e)}registerRpcMethod(e,t){if(this.rpcHandlers.has(e))throw Error("RPC handler already registered for method ".concat(e,", unregisterRpcMethod before trying to register again"));this.rpcHandlers.set(e,t)}unregisterRpcMethod(e){this.rpcHandlers.delete(e)}handleIncomingRpcRequest(e,t,n,r,i,a){return Yn(this,void 0,void 0,(function*(){if(yield this.engine.publishRpcAck(e,t),1!==a)return void(yield this.engine.publishRpcResponse(e,t,null,ps.builtIn("UNSUPPORTED_VERSION")));const o=this.rpcHandlers.get(n);if(!o)return void(yield this.engine.publishRpcResponse(e,t,null,ps.builtIn("UNSUPPORTED_METHOD")));let s=null,u=null;try{const a=yield o({requestId:t,callerIdentity:e,payload:r,responseTimeout:i});fs(a)>15360?(s=ps.builtIn("RESPONSE_PAYLOAD_TOO_LARGE"),console.warn("RPC Response payload too large for ".concat(n))):u=a}catch(e){e instanceof ps?s=e:(console.warn("Uncaught error returned by RPC handler for ".concat(n,". Returning APPLICATION_ERROR instead."),e),s=ps.builtIn("APPLICATION_ERROR"))}yield this.engine.publishRpcResponse(e,t,u,s)}))}setE2EEEnabled(e){return Yn(this,void 0,void 0,(function*(){if(!this.e2eeManager)throw Error("e2ee not configured, please set e2ee settings within the room options");yield Promise.all([this.localParticipant.setE2EEEnabled(e)]),""!==this.localParticipant.identity&&this.e2eeManager.setParticipantCryptorEnabled(e,this.localParticipant.identity)}))}setupE2EE(){var e;this.options.e2ee&&("e2eeManager"in this.options.e2ee?this.e2eeManager=this.options.e2ee.e2eeManager:this.e2eeManager=new So(this.options.e2ee),this.e2eeManager.on(pi.ParticipantEncryptionStatusChanged,((e,t)=>{ho(t)&&(this.isE2EEEnabled=e),this.emit(Ni.ParticipantEncryptionStatusChanged,e,t)})),this.e2eeManager.on(pi.EncryptionError,(e=>this.emit(Ni.EncryptionError,e))),null===(e=this.e2eeManager)||void 0===e||e.setup(this))}get logContext(){var e;return{room:this.name,roomID:null===(e=this.roomInfo)||void 0===e?void 0:e.sid,participant:this.localParticipant.identity,pID:this.localParticipant.sid}}get isRecording(){var e,t;return null!==(t=null===(e=this.roomInfo)||void 0===e?void 0:e.activeRecording)&&void 0!==t&&t}getSid(){return Yn(this,void 0,void 0,(function*(){return this.state===lu.Disconnected?"":this.roomInfo&&""!==this.roomInfo.sid?this.roomInfo.sid:new Promise(((e,t)=>{const n=t=>{""!==t.sid&&(this.engine.off(Li.RoomUpdate,n),e(t.sid))};this.engine.on(Li.RoomUpdate,n),this.once(Ni.Disconnected,(()=>{this.engine.off(Li.RoomUpdate,n),t("Room disconnected before room server id was available")}))}))}))}get name(){var e,t;return null!==(t=null===(e=this.roomInfo)||void 0===e?void 0:e.name)&&void 0!==t?t:""}get metadata(){var e;return null===(e=this.roomInfo)||void 0===e?void 0:e.metadata}get numParticipants(){var e,t;return null!==(t=null===(e=this.roomInfo)||void 0===e?void 0:e.numParticipants)&&void 0!==t?t:0}get numPublishers(){var e,t;return null!==(t=null===(e=this.roomInfo)||void 0===e?void 0:e.numPublishers)&&void 0!==t?t:0}maybeCreateEngine(){this.engine&&!this.engine.isClosed||(this.engine=new Ls(this.options),this.engine.on(Li.ParticipantUpdate,this.handleParticipantUpdates).on(Li.RoomUpdate,this.handleRoomUpdate).on(Li.SpeakersChanged,this.handleSpeakersChanged).on(Li.StreamStateChanged,this.handleStreamStateUpdate).on(Li.ConnectionQualityUpdate,this.handleConnectionQualityUpdate).on(Li.SubscriptionError,this.handleSubscriptionError).on(Li.SubscriptionPermissionUpdate,this.handleSubscriptionPermissionUpdate).on(Li.MediaTrackAdded,((e,t,n)=>{this.onTrackAdded(e,t,n)})).on(Li.Disconnected,(e=>{this.handleDisconnect(this.options.stopLocalTrackOnUnpublish,e)})).on(Li.ActiveSpeakersUpdate,this.handleActiveSpeakersUpdate).on(Li.DataPacketReceived,this.handleDataPacket).on(Li.Resuming,(()=>{this.clearConnectionReconcile(),this.isResuming=!0,this.log.info("Resuming signal connection",this.logContext),this.setAndEmitConnectionState(lu.SignalReconnecting)&&this.emit(Ni.SignalReconnecting)})).on(Li.Resumed,(()=>{this.registerConnectionReconcile(),this.isResuming=!1,this.log.info("Resumed signal connection",this.logContext),this.updateSubscriptions(),this.emitBufferedEvents(),this.setAndEmitConnectionState(lu.Connected)&&this.emit(Ni.Reconnected)})).on(Li.SignalResumed,(()=>{this.bufferedEvents=[],(this.state===lu.Reconnecting||this.isResuming)&&this.sendSyncState()})).on(Li.Restarting,this.handleRestarting).on(Li.SignalRestarted,this.handleSignalRestarted).on(Li.Offline,(()=>{this.setAndEmitConnectionState(lu.Reconnecting)&&this.emit(Ni.Reconnecting)})).on(Li.DCBufferStatusChanged,((e,t)=>{this.emit(Ni.DCBufferStatusChanged,e,t)})).on(Li.LocalTrackSubscribed,(e=>{const t=this.localParticipant.getTrackPublications().find((t=>{let{trackSid:n}=t;return n===e}));t?(this.localParticipant.emit(Mi.LocalTrackSubscribed,t),this.emitWhenConnected(Ni.LocalTrackSubscribed,t,this.localParticipant)):this.log.warn("could not find local track subscription for subscribed event",this.logContext)})),this.localParticipant&&this.localParticipant.setupEngine(this.engine),this.e2eeManager&&this.e2eeManager.setupEngine(this.engine))}static getLocalDevices(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Fo.getInstance().getDevices(e,t)}prepareConnection(e,t){return Yn(this,void 0,void 0,(function*(){if(this.state===lu.Disconnected){this.log.debug("prepareConnection to ".concat(e),this.logContext);try{if(Na(new URL(e))&&t){this.regionUrlProvider=new Us(e,t);const n=yield this.regionUrlProvider.getNextBestRegionUrl();n&&this.state===lu.Disconnected&&(this.regionUrl=n,yield fetch(to(n),{method:"HEAD"}),this.log.debug("prepared connection to ".concat(n),this.logContext))}else yield fetch(to(e),{method:"HEAD"})}catch(e){this.log.warn("could not prepare connection",Object.assign(Object.assign({},this.logContext),{error:e}))}}}))}getParticipantByIdentity(e){return this.localParticipant.identity===e?this.localParticipant:this.remoteParticipants.get(e)}clearConnectionFutures(){this.connectFuture=void 0}simulateScenario(e,t){return Yn(this,void 0,void 0,(function*(){let n,r=()=>{};switch(e){case"signal-reconnect":yield this.engine.client.handleOnClose("simulate disconnect");break;case"speaker":n=new Cn({scenario:{case:"speakerUpdate",value:3}});break;case"node-failure":n=new Cn({scenario:{case:"nodeFailure",value:!0}});break;case"server-leave":n=new Cn({scenario:{case:"serverLeave",value:!0}});break;case"migration":n=new Cn({scenario:{case:"migration",value:!0}});break;case"resume-reconnect":this.engine.failNext(),yield this.engine.client.handleOnClose("simulate resume-disconnect");break;case"disconnect-signal-on-resume":r=()=>Yn(this,void 0,void 0,(function*(){yield this.engine.client.handleOnClose("simulate resume-disconnect")})),n=new Cn({scenario:{case:"disconnectSignalOnResume",value:!0}});break;case"disconnect-signal-on-resume-no-messages":r=()=>Yn(this,void 0,void 0,(function*(){yield this.engine.client.handleOnClose("simulate resume-disconnect")})),n=new Cn({scenario:{case:"disconnectSignalOnResumeNoMessages",value:!0}});break;case"full-reconnect":this.engine.fullReconnectOnNext=!0,yield this.engine.client.handleOnClose("simulate full-reconnect");break;case"force-tcp":case"force-tls":n=new Cn({scenario:{case:"switchCandidateProtocol",value:"force-tls"===e?2:1}}),r=()=>Yn(this,void 0,void 0,(function*(){const e=this.engine.client.onLeave;e&&e(new on({reason:Xe.CLIENT_INITIATED,action:sn.RECONNECT}))}));break;case"subscriber-bandwidth":if(void 0===t||"number"!=typeof t)throw new Error("subscriber-bandwidth requires a number as argument");n=new Cn({scenario:{case:"subscriberBandwidth",value:io(t)}});break;case"leave-full-reconnect":n=new Cn({scenario:{case:"leaveRequestFullReconnect",value:!0}})}n&&(yield this.engine.client.sendSimulateScenario(n),yield r())}))}get canPlaybackAudio(){return this.audioEnabled}get canPlaybackVideo(){return!this.isVideoPlaybackBlocked}getActiveDevice(e){return this.localParticipant.activeDeviceMap.get(e)}switchActiveDevice(e,t){return Yn(this,arguments,void 0,(function(e,t){var n=this;let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function*(){var i,a,o,s,u,c,l,d;let p=!0,f=!1;const h=r?{exact:t}:t;if("audioinput"===e){f=0===n.localParticipant.audioTrackPublications.size;const t=null!==(i=n.getActiveDevice(e))&&void 0!==i?i:n.options.audioCaptureDefaults.deviceId;n.options.audioCaptureDefaults.deviceId=h;const r=Array.from(n.localParticipant.audioTrackPublications.values()).filter((e=>e.source===sa.Source.Microphone));try{p=(yield Promise.all(r.map((e=>{var t;return null===(t=e.audioTrack)||void 0===t?void 0:t.setDeviceId(h)})))).every((e=>!0===e))}catch(e){throw n.options.audioCaptureDefaults.deviceId=t,e}}else if("videoinput"===e){f=0===n.localParticipant.videoTrackPublications.size;const t=null!==(a=n.getActiveDevice(e))&&void 0!==a?a:n.options.videoCaptureDefaults.deviceId;n.options.videoCaptureDefaults.deviceId=h;const r=Array.from(n.localParticipant.videoTrackPublications.values()).filter((e=>e.source===sa.Source.Camera));try{p=(yield Promise.all(r.map((e=>{var t;return null===(t=e.videoTrack)||void 0===t?void 0:t.setDeviceId(h)})))).every((e=>!0===e))}catch(e){throw n.options.videoCaptureDefaults.deviceId=t,e}}else if("audiooutput"===e){if(!Sa()&&!n.options.webAudioMix||n.options.webAudioMix&&n.audioContext&&!("setSinkId"in n.audioContext))throw new Error("cannot switch audio output, setSinkId not supported");n.options.webAudioMix&&(t=null!==(o=yield Fo.getInstance().normalizeDeviceId("audiooutput",t))&&void 0!==o?o:""),null!==(s=(d=n.options).audioOutput)&&void 0!==s||(d.audioOutput={});const r=null!==(u=n.getActiveDevice(e))&&void 0!==u?u:n.options.audioOutput.deviceId;n.options.audioOutput.deviceId=t;try{n.options.webAudioMix&&(null===(c=n.audioContext)||void 0===c||c.setSinkId(t)),yield Promise.all(Array.from(n.remoteParticipants.values()).map((e=>e.setAudioOutput({deviceId:t}))))}catch(e){throw n.options.audioOutput.deviceId=r,e}}return(f||"audiooutput"===e)&&(n.localParticipant.activeDeviceMap.set(e,"audiooutput"===e&&(null===(l=n.options.audioOutput)||void 0===l?void 0:l.deviceId)||t),n.emit(Ni.ActiveDeviceChanged,e,t)),p}()}))}setupLocalParticipantEvents(){this.localParticipant.on(Mi.ParticipantMetadataChanged,this.onLocalParticipantMetadataChanged).on(Mi.ParticipantNameChanged,this.onLocalParticipantNameChanged).on(Mi.AttributesChanged,this.onLocalAttributesChanged).on(Mi.TrackMuted,this.onLocalTrackMuted).on(Mi.TrackUnmuted,this.onLocalTrackUnmuted).on(Mi.LocalTrackPublished,this.onLocalTrackPublished).on(Mi.LocalTrackUnpublished,this.onLocalTrackUnpublished).on(Mi.ConnectionQualityChanged,this.onLocalConnectionQualityChanged).on(Mi.MediaDevicesError,this.onMediaDevicesError).on(Mi.AudioStreamAcquired,this.startAudio).on(Mi.ChatMessage,this.onLocalChatMessageSent).on(Mi.ParticipantPermissionsChanged,this.onLocalParticipantPermissionsChanged)}recreateEngine(){var e;null===(e=this.engine)||void 0===e||e.close(),this.engine=void 0,this.isResuming=!1,this.remoteParticipants.clear(),this.sidToIdentity.clear(),this.bufferedEvents=[],this.maybeCreateEngine()}onTrackAdded(e,t,n){if(this.state===lu.Connecting||this.state===lu.Reconnecting){const r=()=>{this.onTrackAdded(e,t,n),i()},i=()=>{this.off(Ni.Reconnected,r),this.off(Ni.Connected,r),this.off(Ni.Disconnected,i)};return this.once(Ni.Reconnected,r),this.once(Ni.Connected,r),void this.once(Ni.Disconnected,i)}if(this.state===lu.Disconnected)return void this.log.warn("skipping incoming track after Room disconnected",this.logContext);if("ended"===e.readyState)return void this.log.info("skipping incoming track as it already ended",this.logContext);const r=function(e){const t=e.split("|");return t.length>1?[t[0],e.substr(t[0].length+1)]:[e,""]}(t.id),i=r[0];let a=r[1],o=e.id;if(a&&a.startsWith("TR")&&(o=a),i===this.localParticipant.sid)return void this.log.warn("tried to create RemoteParticipant for local participant",this.logContext);const s=Array.from(this.remoteParticipants.values()).find((e=>e.sid===i));if(!s)return void this.log.error("Tried to add a track for a participant, that's not present. Sid: ".concat(i),this.logContext);let u;this.options.adaptiveStream&&(u="object"==typeof this.options.adaptiveStream?this.options.adaptiveStream:{}),s.addSubscribedMediaTrack(e,o,t,n,u)}handleDisconnect(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;var n;if(this.clearConnectionReconcile(),this.isResuming=!1,this.bufferedEvents=[],this.transcriptionReceivedTimes.clear(),this.state!==lu.Disconnected){this.regionUrl=void 0;try{this.remoteParticipants.forEach((e=>{e.trackPublications.forEach((t=>{e.unpublishTrack(t.trackSid)}))})),this.localParticipant.trackPublications.forEach((t=>{var n,r,i;t.track&&this.localParticipant.unpublishTrack(t.track,e),e?(null===(n=t.track)||void 0===n||n.detach(),null===(r=t.track)||void 0===r||r.stop()):null===(i=t.track)||void 0===i||i.stopMonitor()})),this.localParticipant.off(Mi.ParticipantMetadataChanged,this.onLocalParticipantMetadataChanged).off(Mi.ParticipantNameChanged,this.onLocalParticipantNameChanged).off(Mi.AttributesChanged,this.onLocalAttributesChanged).off(Mi.TrackMuted,this.onLocalTrackMuted).off(Mi.TrackUnmuted,this.onLocalTrackUnmuted).off(Mi.LocalTrackPublished,this.onLocalTrackPublished).off(Mi.LocalTrackUnpublished,this.onLocalTrackUnpublished).off(Mi.ConnectionQualityChanged,this.onLocalConnectionQualityChanged).off(Mi.MediaDevicesError,this.onMediaDevicesError).off(Mi.AudioStreamAcquired,this.startAudio).off(Mi.ChatMessage,this.onLocalChatMessageSent).off(Mi.ParticipantPermissionsChanged,this.onLocalParticipantPermissionsChanged),this.localParticipant.trackPublications.clear(),this.localParticipant.videoTrackPublications.clear(),this.localParticipant.audioTrackPublications.clear(),this.remoteParticipants.clear(),this.sidToIdentity.clear(),this.activeSpeakers=[],this.audioContext&&"boolean"==typeof this.options.webAudioMix&&(this.audioContext.close(),this.audioContext=void 0),Ba()&&(window.removeEventListener("beforeunload",this.onPageLeave),window.removeEventListener("pagehide",this.onPageLeave),window.removeEventListener("freeze",this.onPageLeave),null===(n=navigator.mediaDevices)||void 0===n||n.removeEventListener("devicechange",this.handleDeviceChange))}finally{this.setAndEmitConnectionState(lu.Disconnected),this.emit(Ni.Disconnected,t)}}}handleParticipantDisconnected(e,t){var n;this.remoteParticipants.delete(e),t&&(t.trackPublications.forEach((e=>{t.unpublishTrack(e.trackSid,!0)})),this.emit(Ni.ParticipantDisconnected,t),null===(n=this.localParticipant)||void 0===n||n.handleParticipantDisconnected(t.identity))}handleStreamHeader(e,t){return Yn(this,void 0,void 0,(function*(){var n;if("byteHeader"===e.contentHeader.case){const r=this.byteStreamHandlers.get(e.topic);if(!r)return void this.log.debug("ignoring incoming byte stream due to no handler for topic",e.topic);let i;const a={id:e.streamId,name:null!==(n=e.contentHeader.value.name)&&void 0!==n?n:"unknown",mimeType:e.mimeType,size:e.totalLength?Number(e.totalLength):void 0,topic:e.topic,timestamp:ro(e.timestamp),attributes:e.attributes},o=new ReadableStream({start:t=>{i=t,this.byteStreamControllers.set(e.streamId,{info:a,controller:i,startTime:Date.now()})}});r(new Vs(a,o,ro(e.totalLength)),{identity:t})}else if("textHeader"===e.contentHeader.case){const n=this.textStreamHandlers.get(e.topic);if(!n)return void this.log.debug("ignoring incoming text stream due to no handler for topic",e.topic);let r;const i={id:e.streamId,mimeType:e.mimeType,size:e.totalLength?Number(e.totalLength):void 0,topic:e.topic,timestamp:Number(e.timestamp),attributes:e.attributes},a=new ReadableStream({start:t=>{r=t,this.textStreamControllers.set(e.streamId,{info:i,controller:r,startTime:Date.now()})}});n(new qs(i,a,ro(e.totalLength)),{identity:t})}}))}handleStreamChunk(e){const t=this.byteStreamControllers.get(e.streamId);t&&e.content.length>0&&t.controller.enqueue(e);const n=this.textStreamControllers.get(e.streamId);n&&e.content.length>0&&n.controller.enqueue(e)}handleStreamTrailer(e){const t=this.textStreamControllers.get(e.streamId);t&&(t.info.attributes=Object.assign(Object.assign({},t.info.attributes),e.attributes),t.controller.close(),this.textStreamControllers.delete(e.streamId));const n=this.byteStreamControllers.get(e.streamId);n&&(n.info.attributes=Object.assign(Object.assign({},n.info.attributes),e.attributes),n.controller.close(),this.byteStreamControllers.delete(e.streamId))}acquireAudioContext(){return Yn(this,void 0,void 0,(function*(){var e,t;if("boolean"!=typeof this.options.webAudioMix&&this.options.webAudioMix.audioContext?this.audioContext=this.options.webAudioMix.audioContext:this.audioContext&&"closed"!==this.audioContext.state||(this.audioContext=null!==(e=wo())&&void 0!==e?e:void 0),this.options.webAudioMix&&this.remoteParticipants.forEach((e=>e.setAudioContext(this.audioContext))),this.localParticipant.setAudioContext(this.audioContext),this.audioContext&&"suspended"===this.audioContext.state)try{yield Promise.race([this.audioContext.resume(),wa(200)])}catch(e){this.log.warn("Could not resume audio context",Object.assign(Object.assign({},this.logContext),{error:e}))}const n="running"===(null===(t=this.audioContext)||void 0===t?void 0:t.state);n!==this.canPlaybackAudio&&(this.audioEnabled=n,this.emit(Ni.AudioPlaybackStatusChanged,n))}))}createParticipant(e,t){var n;let r;return r=t?cu.fromParticipantInfo(this.engine.client,t,{loggerContextCb:()=>this.logContext,loggerName:this.options.loggerName}):new cu(this.engine.client,"",e,void 0,void 0,void 0,{loggerContextCb:()=>this.logContext,loggerName:this.options.loggerName}),this.options.webAudioMix&&r.setAudioContext(this.audioContext),(null===(n=this.options.audioOutput)||void 0===n?void 0:n.deviceId)&&r.setAudioOutput(this.options.audioOutput).catch((e=>this.log.warn("Could not set audio output: ".concat(e.message),this.logContext))),r}getOrCreateParticipant(e,t){if(this.remoteParticipants.has(e)){const n=this.remoteParticipants.get(e);if(t){n.updateInfo(t)&&this.sidToIdentity.set(t.sid,t.identity)}return n}const n=this.createParticipant(e,t);return this.remoteParticipants.set(e,n),this.sidToIdentity.set(t.sid,t.identity),this.emitWhenConnected(Ni.ParticipantConnected,n),n.on(Mi.TrackPublished,(e=>{this.emitWhenConnected(Ni.TrackPublished,e,n)})).on(Mi.TrackSubscribed,((e,t)=>{e.kind===sa.Kind.Audio?(e.on(ji.AudioPlaybackStarted,this.handleAudioPlaybackStarted),e.on(ji.AudioPlaybackFailed,this.handleAudioPlaybackFailed)):e.kind===sa.Kind.Video&&(e.on(ji.VideoPlaybackFailed,this.handleVideoPlaybackFailed),e.on(ji.VideoPlaybackStarted,this.handleVideoPlaybackStarted)),this.emit(Ni.TrackSubscribed,e,t,n)})).on(Mi.TrackUnpublished,(e=>{this.emit(Ni.TrackUnpublished,e,n)})).on(Mi.TrackUnsubscribed,((e,t)=>{this.emit(Ni.TrackUnsubscribed,e,t,n)})).on(Mi.TrackMuted,(e=>{this.emitWhenConnected(Ni.TrackMuted,e,n)})).on(Mi.TrackUnmuted,(e=>{this.emitWhenConnected(Ni.TrackUnmuted,e,n)})).on(Mi.ParticipantMetadataChanged,(e=>{this.emitWhenConnected(Ni.ParticipantMetadataChanged,e,n)})).on(Mi.ParticipantNameChanged,(e=>{this.emitWhenConnected(Ni.ParticipantNameChanged,e,n)})).on(Mi.AttributesChanged,(e=>{this.emitWhenConnected(Ni.ParticipantAttributesChanged,e,n)})).on(Mi.ConnectionQualityChanged,(e=>{this.emitWhenConnected(Ni.ConnectionQualityChanged,e,n)})).on(Mi.ParticipantPermissionsChanged,(e=>{this.emitWhenConnected(Ni.ParticipantPermissionsChanged,e,n)})).on(Mi.TrackSubscriptionStatusChanged,((e,t)=>{this.emitWhenConnected(Ni.TrackSubscriptionStatusChanged,e,t,n)})).on(Mi.TrackSubscriptionFailed,((e,t)=>{this.emit(Ni.TrackSubscriptionFailed,e,n,t)})).on(Mi.TrackSubscriptionPermissionChanged,((e,t)=>{this.emitWhenConnected(Ni.TrackSubscriptionPermissionChanged,e,t,n)})),t&&n.updateInfo(t),n}sendSyncState(){const e=Array.from(this.remoteParticipants.values()).reduce(((e,t)=>(e.push(...t.getTrackPublications()),e)),[]),t=this.localParticipant.getTrackPublications();this.engine.sendSyncState(e,t)}updateSubscriptions(){for(const e of this.remoteParticipants.values())for(const t of e.videoTrackPublications.values())t.isSubscribed&&po(t)&&t.emitTrackUpdate()}getRemoteParticipantBySid(e){const t=this.sidToIdentity.get(e);if(t)return this.remoteParticipants.get(t)}registerConnectionReconcile(){this.clearConnectionReconcile();let e=0;this.connectionReconcileInterval=ia.setInterval((()=>{this.engine&&!this.engine.isClosed&&this.engine.verifyTransport()?e=0:(e++,this.log.warn("detected connection state mismatch",Object.assign(Object.assign({},this.logContext),{numFailures:e,engine:this.engine?{closed:this.engine.isClosed,transportsConnected:this.engine.verifyTransport()}:void 0})),e>=3&&(this.recreateEngine(),this.handleDisconnect(this.options.stopLocalTrackOnUnpublish,Xe.STATE_MISMATCH)))}),4e3)}clearConnectionReconcile(){this.connectionReconcileInterval&&ia.clearInterval(this.connectionReconcileInterval)}setAndEmitConnectionState(e){return e!==this.state&&(this.state=e,this.emit(Ni.ConnectionStateChanged,this.state),!0)}emitBufferedEvents(){this.bufferedEvents.forEach((e=>{let[t,n]=e;this.emit(t,...n)})),this.bufferedEvents=[]}emitWhenConnected(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(this.state===lu.Reconnecting||this.isResuming||!this.engine||this.engine.pendingReconnect)this.bufferedEvents.push([e,n]);else if(this.state===lu.Connected)return this.emit(e,...n);return!1}simulateParticipants(e){return Yn(this,void 0,void 0,(function*(){var t,n;const r=Object.assign({audio:!0,video:!0,useRealTracks:!1},e.publish),i=Object.assign({count:9,audio:!1,video:!0,aspectRatios:[1.66,1.7,1.3]},e.participants);if(this.handleDisconnect(),this.roomInfo=new tt({sid:"RM_SIMULATED",name:"simulated-room",emptyTimeout:0,maxParticipants:0,creationTime:T.parse((new Date).getTime()),metadata:"",numParticipants:1,numPublishers:1,turnPassword:"",enabledCodecs:[],activeRecording:!1}),this.localParticipant.updateInfo(new it({identity:"simulated-local",name:"local-name"})),this.setupLocalParticipantEvents(),this.emit(Ni.SignalConnected),this.emit(Ni.Connected),this.setAndEmitConnectionState(lu.Connected),r.video){const e=new eu(sa.Kind.Video,new lt({source:$e.CAMERA,sid:Math.floor(1e4*Math.random()).toString(),type:Ke.AUDIO,name:"video-dummy"}),new Fs(r.useRealTracks?(yield window.navigator.mediaDevices.getUserMedia({video:!0})).getVideoTracks()[0]:Ya(160*(null!==(t=i.aspectRatios[0])&&void 0!==t?t:1),160,!0,!0),void 0,!1,{loggerName:this.options.loggerName,loggerContextCb:()=>this.logContext}),{loggerName:this.options.loggerName,loggerContextCb:()=>this.logContext});this.localParticipant.addTrackPublication(e),this.localParticipant.emit(Mi.LocalTrackPublished,e)}if(r.audio){const e=new eu(sa.Kind.Audio,new lt({source:$e.MICROPHONE,sid:Math.floor(1e4*Math.random()).toString(),type:Ke.AUDIO}),new ys(r.useRealTracks?(yield navigator.mediaDevices.getUserMedia({audio:!0})).getAudioTracks()[0]:Xa(),void 0,!1,this.audioContext,{loggerName:this.options.loggerName,loggerContextCb:()=>this.logContext}),{loggerName:this.options.loggerName,loggerContextCb:()=>this.logContext});this.localParticipant.addTrackPublication(e),this.localParticipant.emit(Mi.LocalTrackPublished,e)}for(let e=0;e<i.count-1;e+=1){let t=new it({sid:Math.floor(1e4*Math.random()).toString(),identity:"simulated-".concat(e),state:at.ACTIVE,tracks:[],joinedAt:T.parse(Date.now())});const r=this.getOrCreateParticipant(t.identity,t);if(i.video){const a=Ya(160*(null!==(n=i.aspectRatios[e%i.aspectRatios.length])&&void 0!==n?n:1),160,!1,!0),o=new lt({source:$e.CAMERA,sid:Math.floor(1e4*Math.random()).toString(),type:Ke.AUDIO});r.addSubscribedMediaTrack(a,o.sid,new MediaStream([a]),new RTCRtpReceiver),t.tracks=[...t.tracks,o]}if(i.audio){const e=Xa(),n=new lt({source:$e.MICROPHONE,sid:Math.floor(1e4*Math.random()).toString(),type:Ke.AUDIO});r.addSubscribedMediaTrack(e,n.sid,new MediaStream([e]),new RTCRtpReceiver),t.tracks=[...t.tracks,n]}r.updateInfo(t)}}))}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(e!==Ni.ActiveSpeakersChanged&&e!==Ni.TranscriptionReceived){const t=pu(n).filter((e=>void 0!==e));this.log.debug("room event ".concat(e),Object.assign(Object.assign({},this.logContext),{event:e,args:t}))}return super.emit(e,...n)}}function pu(e){return e.map((e=>{if(e)return Array.isArray(e)?pu(e):"object"==typeof e?"logContext"in e?e.logContext:void 0:e}))}var fu;du.cleanupRegistry="undefined"!=typeof FinalizationRegistry&&new FinalizationRegistry((e=>{e()})),function(e){e[e.IDLE=0]="IDLE",e[e.RUNNING=1]="RUNNING",e[e.SKIPPED=2]="SKIPPED",e[e.SUCCESS=3]="SUCCESS",e[e.FAILED=4]="FAILED"}(fu||(fu={}));class hu extends tr.EventEmitter{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};super(),this.status=fu.IDLE,this.logs=[],this.options={},this.url=e,this.token=t,this.name=this.constructor.name,this.room=new du(n.roomOptions),this.connectOptions=n.connectOptions,this.options=n}run(e){return Yn(this,void 0,void 0,(function*(){if(this.status!==fu.IDLE)throw Error("check is running already");this.setStatus(fu.RUNNING);try{yield this.perform()}catch(e){e instanceof Error&&(this.options.errorsAsWarnings?this.appendWarning(e.message):this.appendError(e.message))}return yield this.disconnect(),yield new Promise((e=>setTimeout(e,500))),this.status!==fu.SKIPPED&&this.setStatus(this.isSuccess()?fu.SUCCESS:fu.FAILED),e&&e(),this.getInfo()}))}isSuccess(){return!this.logs.some((e=>"error"===e.level))}connect(e){return Yn(this,void 0,void 0,(function*(){return this.room.state===lu.Connected||(e||(e=this.url),yield this.room.connect(e,this.token,this.connectOptions)),this.room}))}disconnect(){return Yn(this,void 0,void 0,(function*(){this.room&&this.room.state!==lu.Disconnected&&(yield this.room.disconnect(),yield new Promise((e=>setTimeout(e,500))))}))}skip(){this.setStatus(fu.SKIPPED)}switchProtocol(e){return Yn(this,void 0,void 0,(function*(){let t=!1,n=!1;if(this.room.on(Ni.Reconnecting,(()=>{t=!0})),this.room.once(Ni.Reconnected,(()=>{n=!0})),this.room.simulateScenario("force-".concat(e)),yield new Promise((e=>setTimeout(e,1e3))),!t)return;const r=Date.now()+1e4;for(;Date.now()<r;){if(n)return;yield wa(100)}throw new Error("Could not reconnect using ".concat(e," protocol after 10 seconds"))}))}appendMessage(e){this.logs.push({level:"info",message:e}),this.emit("update",this.getInfo())}appendWarning(e){this.logs.push({level:"warning",message:e}),this.emit("update",this.getInfo())}appendError(e){this.logs.push({level:"error",message:e}),this.emit("update",this.getInfo())}setStatus(e){this.status=e,this.emit("update",this.getInfo())}get engine(){var e;return null===(e=this.room)||void 0===e?void 0:e.engine}getInfo(){return{logs:this.logs,name:this.name,status:this.status,description:this.description}}}class mu extends hu{get description(){return"Cloud regions"}perform(){return Yn(this,void 0,void 0,(function*(){const e=new Us(this.url,this.token);if(!e.isCloud())return void this.skip();const t=[],n=new Set;for(let r=0;r<3;r++){const r=yield e.getNextBestRegionUrl();if(!r)break;if(n.has(r))continue;n.add(r);const i=yield this.checkCloudRegion(r);this.appendMessage("".concat(i.region," RTT: ").concat(i.rtt,"ms, duration: ").concat(i.duration,"ms")),t.push(i)}t.sort(((e,t)=>.5*(e.duration-t.duration)+.5*(e.rtt-t.rtt)));const r=t[0];this.bestStats=r,this.appendMessage("best Cloud region: ".concat(r.region))}))}getInfo(){const e=super.getInfo();return e.data=this.bestStats,e}checkCloudRegion(e){return Yn(this,void 0,void 0,(function*(){var t,n;yield this.connect(e),"tcp"===this.options.protocol&&(yield this.switchProtocol("tcp"));const r=null===(t=this.room.serverInfo)||void 0===t?void 0:t.region;if(!r)throw new Error("Region not found");const i=yield this.room.localParticipant.streamText({topic:"test"}),a="A".repeat(1e3),o=Date.now();for(let e=0;e<1e3;e++)yield i.write(a);yield i.close();const s=Date.now(),u=yield null===(n=this.room.engine.pcManager)||void 0===n?void 0:n.publisher.getStats(),c={region:r,rtt:1e4,duration:s-o};return null==u||u.forEach((e=>{"candidate-pair"===e.type&&e.nominated&&(c.rtt=1e3*e.currentRoundTripTime)})),yield this.disconnect(),c}))}}const vu=1e4;class gu extends hu{get description(){return"Connection via UDP vs TCP"}perform(){return Yn(this,void 0,void 0,(function*(){const e=yield this.checkConnectionProtocol("udp"),t=yield this.checkConnectionProtocol("tcp");this.bestStats=e,e.qualityLimitationDurations.bandwidth-t.qualityLimitationDurations.bandwidth>.5||(e.packetsLost-t.packetsLost)/e.packetsSent>.01?(this.appendMessage("best connection quality via tcp"),this.bestStats=t):this.appendMessage("best connection quality via udp");const n=this.bestStats;this.appendMessage("upstream bitrate: ".concat((n.bitrateTotal/n.count/1e3/1e3).toFixed(2)," mbps")),this.appendMessage("RTT: ".concat((n.rttTotal/n.count*1e3).toFixed(2)," ms")),this.appendMessage("jitter: ".concat((n.jitterTotal/n.count*1e3).toFixed(2)," ms")),n.packetsLost>0&&this.appendWarning("packets lost: ".concat((n.packetsLost/n.packetsSent*100).toFixed(2),"%")),n.qualityLimitationDurations.bandwidth>1&&this.appendWarning("bandwidth limited ".concat((n.qualityLimitationDurations.bandwidth/10*100).toFixed(2),"%")),n.qualityLimitationDurations.cpu>0&&this.appendWarning("cpu limited ".concat((n.qualityLimitationDurations.cpu/10*100).toFixed(2),"%"))}))}getInfo(){const e=super.getInfo();return e.data=this.bestStats,e}checkConnectionProtocol(e){return Yn(this,void 0,void 0,(function*(){yield this.connect(),"tcp"===e?yield this.switchProtocol("tcp"):yield this.switchProtocol("udp");const t=document.createElement("canvas");t.width=1280,t.height=720;const n=t.getContext("2d");if(!n)throw new Error("Could not get canvas context");let r=0;const i=()=>{r=(r+1)%360,n.fillStyle="hsl(".concat(r,", 100%, 50%)"),n.fillRect(0,0,t.width,t.height),requestAnimationFrame(i)};i();const a=t.captureStream(30).getVideoTracks()[0],o=(yield this.room.localParticipant.publishTrack(a,{simulcast:!1,degradationPreference:"maintain-resolution",videoEncoding:{maxBitrate:2e6}})).track,s={protocol:e,packetsLost:0,packetsSent:0,qualityLimitationDurations:{},rttTotal:0,jitterTotal:0,bitrateTotal:0,count:0},u=setInterval((()=>Yn(this,void 0,void 0,(function*(){const e=yield o.getRTCStatsReport();null==e||e.forEach((e=>{"outbound-rtp"===e.type?(s.packetsSent=e.packetsSent,s.qualityLimitationDurations=e.qualityLimitationDurations,s.bitrateTotal+=e.targetBitrate,s.count++):"remote-inbound-rtp"===e.type&&(s.packetsLost=e.packetsLost,s.rttTotal+=e.roundTripTime,s.jitterTotal+=e.jitter)}))}))),1e3);return yield new Promise((e=>setTimeout(e,vu))),clearInterval(u),a.stop(),t.remove(),yield this.disconnect(),s}))}}class yu extends hu{get description(){return"Can publish audio"}perform(){return Yn(this,void 0,void 0,(function*(){var e;const t=yield this.connect(),n=yield ru();if(yield bo(n,1e3))throw new Error("unable to detect audio from microphone");this.appendMessage("detected audio from microphone"),t.localParticipant.publishTrack(n),yield new Promise((e=>setTimeout(e,3e3)));const r=yield null===(e=n.sender)||void 0===e?void 0:e.getStats();if(!r)throw new Error("Could not get RTCStats");let i=0;if(r.forEach((e=>{"outbound-rtp"!==e.type||"audio"!==e.kind&&(e.kind||"audio"!==e.mediaType)||(i=e.packetsSent)})),0===i)throw new Error("Could not determine packets are sent");this.appendMessage("published ".concat(i," audio packets"))}))}}class bu extends hu{get description(){return"Can publish video"}perform(){return Yn(this,void 0,void 0,(function*(){var e;const t=yield this.connect(),n=yield nu();yield this.checkForVideo(n.mediaStreamTrack),t.localParticipant.publishTrack(n),yield new Promise((e=>setTimeout(e,5e3)));const r=yield null===(e=n.sender)||void 0===e?void 0:e.getStats();if(!r)throw new Error("Could not get RTCStats");let i=0;if(r.forEach((e=>{"outbound-rtp"!==e.type||"video"!==e.kind&&(e.kind||"video"!==e.mediaType)||(i+=e.packetsSent)})),0===i)throw new Error("Could not determine packets are sent");this.appendMessage("published ".concat(i," video packets"))}))}checkForVideo(e){return Yn(this,void 0,void 0,(function*(){const t=new MediaStream;t.addTrack(e.clone());const n=document.createElement("video");n.srcObject=t,n.muted=!0,yield new Promise((t=>{n.onplay=()=>{setTimeout((()=>{var r,i,a,o;const s=document.createElement("canvas"),u=e.getSettings(),c=null!==(i=null!==(r=u.width)&&void 0!==r?r:n.videoWidth)&&void 0!==i?i:1280,l=null!==(o=null!==(a=u.height)&&void 0!==a?a:n.videoHeight)&&void 0!==o?o:720;s.width=c,s.height=l;const d=s.getContext("2d");d.drawImage(n,0,0);const p=d.getImageData(0,0,s.width,s.height).data;let f=!0;for(let e=0;e<p.length;e+=4)if(0!==p[e]||0!==p[e+1]||0!==p[e+2]){f=!1;break}f?this.appendError("camera appears to be producing only black frames"):this.appendMessage("received video frames"),t()}),1e3)},n.play()})),n.remove()}))}}class wu extends hu{get description(){return"Resuming connection after interruption"}perform(){return Yn(this,void 0,void 0,(function*(){var e;const t=yield this.connect();let n,r=!1,i=!1;const a=new Promise((e=>{setTimeout(e,5e3),n=e})),o=()=>{r=!0};t.on(Ni.SignalReconnecting,o).on(Ni.Reconnecting,o).on(Ni.Reconnected,(()=>{i=!0,n(!0)})),null===(e=t.engine.client.ws)||void 0===e||e.close();const s=t.engine.client.onClose;if(s&&s(""),yield a,!r)throw new Error("Did not attempt to reconnect");if(!i||t.state!==lu.Connected)throw this.appendWarning("reconnection is only possible in Redis-based configurations"),new Error("Not able to reconnect")}))}}class Du extends hu{get description(){return"Can connect via TURN"}perform(){return Yn(this,void 0,void 0,(function*(){var e,t;const n=new No,r=yield n.join(this.url,this.token,{autoSubscribe:!0,maxRetries:0,e2eeEnabled:!1,websocketTimeout:15e3});let i=!1,a=!1,o=!1;for(let e of r.iceServers)for(let t of e.urls)t.startsWith("turn:")?(a=!0,o=!0):t.startsWith("turns:")&&(a=!0,o=!0,i=!0),t.startsWith("stun:")&&(o=!0);o?a&&!i&&this.appendWarning("TURN is configured server side, but TURN/TLS is unavailable."):this.appendWarning("No STUN servers configured on server side."),yield n.close(),(null===(t=null===(e=this.connectOptions)||void 0===e?void 0:e.rtcConfig)||void 0===t?void 0:t.iceServers)||a?yield this.room.connect(this.url,this.token,{rtcConfig:{iceTransportPolicy:"relay"}}):(this.appendWarning("No TURN servers configured."),this.skip(),yield new Promise((e=>setTimeout(e,0))))}))}}class Au extends hu{get description(){return"Establishing WebRTC connection"}perform(){return Yn(this,void 0,void 0,(function*(){let e=!1,t=!1;this.room.on(Ni.SignalConnected,(()=>{const n=this.room.engine.client.onTrickle;this.room.engine.client.onTrickle=(r,i)=>{if(r.candidate){const n=new RTCIceCandidate(r);let i="".concat(n.protocol," ").concat(n.address,":").concat(n.port," ").concat(n.type);n.address&&(!function(e){const t=e.split(".");if(4===t.length){if("10"===t[0])return!0;if("192"===t[0]&&"168"===t[1])return!0;if("172"===t[0]){const e=parseInt(t[1],10);if(e>=16&&e<=31)return!0}}return!1}(n.address)?"tcp"===n.protocol&&"passive"===n.tcpType?(e=!0,i+=" (passive)"):"udp"===n.protocol&&(t=!0):i+=" (private)"),this.appendMessage(i)}n&&n(r,i)},this.room.engine.pcManager&&(this.room.engine.pcManager.subscriber.onIceCandidateError=e=>{e instanceof RTCPeerConnectionIceErrorEvent&&this.appendWarning("error with ICE candidate: ".concat(e.errorCode," ").concat(e.errorText," ").concat(e.url))})}));try{yield this.connect(),zn.info("now the room is connected")}catch(e){throw this.appendWarning("ports need to be open on firewall in order to connect."),e}e||this.appendWarning("Server is not configured for ICE/TCP"),t||this.appendWarning("No public IPv4 UDP candidates were found. Your server is likely not configured correctly")}))}}class Eu extends hu{get description(){return"Connecting to signal connection via WebSocket"}perform(){return Yn(this,void 0,void 0,(function*(){var e,t,n;(this.url.startsWith("ws:")||this.url.startsWith("http:"))&&this.appendWarning("Server is insecure, clients may block connections to it");let r=new No;const i=yield r.join(this.url,this.token,{autoSubscribe:!0,maxRetries:0,e2eeEnabled:!1,websocketTimeout:15e3});this.appendMessage("Connected to server, version ".concat(i.serverVersion,".")),(null===(e=i.serverInfo)||void 0===e?void 0:e.edition)===xt.Cloud&&(null===(t=i.serverInfo)||void 0===t?void 0:t.region)&&this.appendMessage("LiveKit Cloud: ".concat(null===(n=i.serverInfo)||void 0===n?void 0:n.region)),yield r.close()}))}}class ku extends tr.EventEmitter{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};super(),this.options={},this.checkResults=new Map,this.url=e,this.token=t,this.options=n}getNextCheckId(){const e=this.checkResults.size;return this.checkResults.set(e,{logs:[],status:fu.IDLE,name:"",description:""}),e}updateCheck(e,t){this.checkResults.set(e,t),this.emit("checkUpdate",e,t)}isSuccess(){return Array.from(this.checkResults.values()).every((e=>e.status!==fu.FAILED))}getResults(){return Array.from(this.checkResults.values())}createAndRunCheck(e){return Yn(this,void 0,void 0,(function*(){const t=this.getNextCheckId(),n=new e(this.url,this.token,this.options),r=e=>{this.updateCheck(t,e)};n.on("update",r);const i=yield n.run();return n.off("update",r),i}))}checkWebsocket(){return Yn(this,void 0,void 0,(function*(){return this.createAndRunCheck(Eu)}))}checkWebRTC(){return Yn(this,void 0,void 0,(function*(){return this.createAndRunCheck(Au)}))}checkTURN(){return Yn(this,void 0,void 0,(function*(){return this.createAndRunCheck(Du)}))}checkReconnect(){return Yn(this,void 0,void 0,(function*(){return this.createAndRunCheck(wu)}))}checkPublishAudio(){return Yn(this,void 0,void 0,(function*(){return this.createAndRunCheck(yu)}))}checkPublishVideo(){return Yn(this,void 0,void 0,(function*(){return this.createAndRunCheck(bu)}))}checkConnectionProtocol(){return Yn(this,void 0,void 0,(function*(){const e=yield this.createAndRunCheck(gu);if(e.data&&"protocol"in e.data){const t=e.data;this.options.protocol=t.protocol}return e}))}checkCloudRegion(){return Yn(this,void 0,void 0,(function*(){return this.createAndRunCheck(mu)}))}}function Cu(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;const r=ao(e)?e.mediaStreamTrack:e,i=r.getSettings();let a={facingMode:null!==(n=t.defaultFacingMode)&&void 0!==n?n:"user",confidence:"low"};if("facingMode"in i){const e=i.facingMode;zn.trace("rawFacingMode",{rawFacingMode:e}),e&&"string"==typeof e&&function(e){const t=["user","environment","left","right"];return void 0===e||t.includes(e)}(e)&&(a={facingMode:e,confidence:"high"})}if(["low","medium"].includes(a.confidence)){zn.trace("Try to get facing mode from device label: (".concat(r.label,")"));const e=Su(r.label);void 0!==e&&(a=e)}return a}const _u=new Map([["obs virtual camera",{facingMode:"environment",confidence:"medium"}]]),xu=new Map([["iphone",{facingMode:"environment",confidence:"medium"}],["ipad",{facingMode:"environment",confidence:"medium"}]]);function Su(e){var t;const n=e.trim().toLowerCase();if(""!==n)return _u.has(n)?_u.get(n):null===(t=Array.from(xu.entries()).find((e=>{let[t]=e;return n.includes(t)})))||void 0===t?void 0:t[1]}},32357:(e,t,n)=>{"use strict";var r=n(43724),i=n(79039),a=n(79504),o=n(42787),s=n(71072),u=n(25397),c=a(n(48773).f),l=a([].push),d=r&&i((function(){var e=Object.create(null);return e[2]=2,!c(e,2)})),p=function(e){return function(t){for(var n,i=u(t),a=s(i),p=d&&null===o(i),f=a.length,h=0,m=[];f>h;)n=a[h++],r&&!(p?n in i:c(i,n))||l(m,e?[n,i[n]]:i[n]);return m}};e.exports={entries:p(!0),values:p(!1)}},32545:(e,t,n)=>{function r(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}n(26099),n(3362),e.exports=function(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function s(e){r(o,i,a,s,u,"next",e)}function u(e){r(o,i,a,s,u,"throw",e)}s(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},32603:(e,t,n)=>{"use strict";var r=n(655);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:r(e)}},32637:(e,t,n)=>{"use strict";n(46518)({target:"Number",stat:!0},{isInteger:n(2087)})},32744:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});n(52675),n(2008),n(51629),n(44114),n(67945),n(84185),n(83851),n(81278),n(79432),n(26099),n(98992),n(54520),n(3949),n(23500);var r=n(51531),i=n(58237),a=n(84285),o=(n(16280),n(76918),n(94170),n(13656));function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=function(){return(0,a.A)((function e(t,n){(0,i.A)(this,e),this.uppy=t,this.opts=null!=n?n:{}}),[{key:"getPluginState",value:function(){var e=this.uppy.getState().plugins;return(null==e?void 0:e[this.id])||{}}},{key:"setPluginState",value:function(e){if(e){var t=this.uppy.getState().plugins;this.uppy.setState({plugins:u(u({},t),{},(0,r.A)({},this.id,u(u({},t[this.id]),e)))})}}},{key:"setOptions",value:function(e){this.opts=u(u({},this.opts),e),this.setPluginState(void 0),this.i18nInit()}},{key:"i18nInit",value:function(){var e=new o.A([this.defaultLocale,this.uppy.locale,this.opts.locale]);this.i18n=e.translate.bind(e),this.i18nArray=e.translateArray.bind(e),this.setPluginState(void 0)}},{key:"addTarget",value:function(e){throw new Error("Extend the addTarget method to add your plugin to another plugin's target")}},{key:"install",value:function(){}},{key:"uninstall",value:function(){}},{key:"update",value:function(e){}},{key:"afterUpdate",value:function(){}}])}()},32807:(e,t,n)=>{var r=n(8498),i=n(89990);n(16280),n(76918),n(18107),n(2008),n(51629),n(25276),n(64346),n(23792),n(48598),n(44114),n(72712),n(34782),n(54554),n(13609),n(54743),n(11745),n(38309),n(59089),n(60739),n(23288),n(36456),n(62010),n(33110),n(9868),n(79432),n(26099),n(58940),n(27495),n(38781),n(67357),n(47764),n(25440),n(50375),n(21489),n(3690),n(48140),n(81630),n(72170),n(75044),n(69539),n(31694),n(89955),n(21903),n(91134),n(33206),n(44496),n(66651),n(12887),n(19369),n(66812),n(8995),n(31575),n(36072),n(88747),n(28845),n(29423),n(57301),n(373),n(86614),n(41405),n(33684),n(88267),n(98992),n(54520),n(3949),n(8872),n(43250),n(10149),n(24082),n(23500),n(62953),n(59848),n(13611),n(76031),n(3296),n(27208),n(48408);var a=n(85192),o=n(29742),s=e.exports=a.util=a.util||{};function u(e){if(8!==e&&16!==e&&24!==e&&32!==e)throw new Error("Only 8, 16, 24, or 32 bits supported: "+e)}function c(e){if(this.data="",this.read=0,"string"==typeof e)this.data=e;else if(s.isArrayBuffer(e)||s.isArrayBufferView(e))if("undefined"!=typeof Buffer&&e instanceof Buffer)this.data=e.toString("binary");else{var t=new Uint8Array(e);try{this.data=String.fromCharCode.apply(null,t)}catch(e){for(var n=0;n<t.length;++n)this.putByte(t[n])}}else(e instanceof c||"object"===i(e)&&"string"==typeof e.data&&"number"==typeof e.read)&&(this.data=e.data,this.read=e.read);this._constructedStringLength=0}!function(){if(void 0!==r&&r.nextTick&&!r.browser)return s.nextTick=r.nextTick,void("function"==typeof setImmediate?s.setImmediate=setImmediate:s.setImmediate=s.nextTick);if("function"==typeof setImmediate)return s.setImmediate=function(){return setImmediate.apply(void 0,arguments)},void(s.nextTick=function(e){return setImmediate(e)});if(s.setImmediate=function(e){setTimeout(e,0)},"undefined"!=typeof window&&"function"==typeof window.postMessage){var e="forge.setImmediate",t=[];s.setImmediate=function(n){t.push(n),1===t.length&&window.postMessage(e,"*")},window.addEventListener("message",(function(n){if(n.source===window&&n.data===e){n.stopPropagation();var r=t.slice();t.length=0,r.forEach((function(e){e()}))}}),!0)}if("undefined"!=typeof MutationObserver){var n=Date.now(),i=!0,a=document.createElement("div");t=[];new MutationObserver((function(){var e=t.slice();t.length=0,e.forEach((function(e){e()}))})).observe(a,{attributes:!0});var o=s.setImmediate;s.setImmediate=function(e){Date.now()-n>15?(n=Date.now(),o(e)):(t.push(e),1===t.length&&a.setAttribute("a",i=!i))}}s.nextTick=s.setImmediate}(),s.isNodejs=void 0!==r&&r.versions&&r.versions.node,s.globalScope=s.isNodejs?n.g:"undefined"==typeof self?window:self,s.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},s.isArrayBuffer=function(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer},s.isArrayBufferView=function(e){return e&&s.isArrayBuffer(e.buffer)&&void 0!==e.byteLength},s.ByteBuffer=c,s.ByteStringBuffer=c;s.ByteStringBuffer.prototype._optimizeConstructedString=function(e){this._constructedStringLength+=e,this._constructedStringLength>4096&&(this.data.substr(0,1),this._constructedStringLength=0)},s.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},s.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},s.ByteStringBuffer.prototype.putByte=function(e){return this.putBytes(String.fromCharCode(e))},s.ByteStringBuffer.prototype.fillWithByte=function(e,t){e=String.fromCharCode(e);for(var n=this.data;t>0;)1&t&&(n+=e),(t>>>=1)>0&&(e+=e);return this.data=n,this._optimizeConstructedString(t),this},s.ByteStringBuffer.prototype.putBytes=function(e){return this.data+=e,this._optimizeConstructedString(e.length),this},s.ByteStringBuffer.prototype.putString=function(e){return this.putBytes(s.encodeUtf8(e))},s.ByteStringBuffer.prototype.putInt16=function(e){return this.putBytes(String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},s.ByteStringBuffer.prototype.putInt24=function(e){return this.putBytes(String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},s.ByteStringBuffer.prototype.putInt32=function(e){return this.putBytes(String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},s.ByteStringBuffer.prototype.putInt16Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255))},s.ByteStringBuffer.prototype.putInt24Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255))},s.ByteStringBuffer.prototype.putInt32Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>24&255))},s.ByteStringBuffer.prototype.putInt=function(e,t){u(t);var n="";do{t-=8,n+=String.fromCharCode(e>>t&255)}while(t>0);return this.putBytes(n)},s.ByteStringBuffer.prototype.putSignedInt=function(e,t){return e<0&&(e+=2<<t-1),this.putInt(e,t)},s.ByteStringBuffer.prototype.putBuffer=function(e){return this.putBytes(e.getBytes())},s.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},s.ByteStringBuffer.prototype.getInt16=function(){var e=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,e},s.ByteStringBuffer.prototype.getInt24=function(){var e=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,e},s.ByteStringBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,e},s.ByteStringBuffer.prototype.getInt16Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,e},s.ByteStringBuffer.prototype.getInt24Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,e},s.ByteStringBuffer.prototype.getInt32Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,e},s.ByteStringBuffer.prototype.getInt=function(e){u(e);var t=0;do{t=(t<<8)+this.data.charCodeAt(this.read++),e-=8}while(e>0);return t},s.ByteStringBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),n=2<<e-2;return t>=n&&(t-=n<<1),t},s.ByteStringBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):0===e?t="":(t=0===this.read?this.data:this.data.slice(this.read),this.clear()),t},s.ByteStringBuffer.prototype.bytes=function(e){return void 0===e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)},s.ByteStringBuffer.prototype.at=function(e){return this.data.charCodeAt(this.read+e)},s.ByteStringBuffer.prototype.setAt=function(e,t){return this.data=this.data.substr(0,this.read+e)+String.fromCharCode(t)+this.data.substr(this.read+e+1),this},s.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},s.ByteStringBuffer.prototype.copy=function(){var e=s.createBuffer(this.data);return e.read=this.read,e},s.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},s.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},s.ByteStringBuffer.prototype.truncate=function(e){var t=Math.max(0,this.length()-e);return this.data=this.data.substr(this.read,t),this.read=0,this},s.ByteStringBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.length;++t){var n=this.data.charCodeAt(t);n<16&&(e+="0"),e+=n.toString(16)}return e},s.ByteStringBuffer.prototype.toString=function(){return s.decodeUtf8(this.bytes())},s.DataBuffer=function(e,t){t=t||{},this.read=t.readOffset||0,this.growSize=t.growSize||1024;var n=s.isArrayBuffer(e),r=s.isArrayBufferView(e);if(n||r)return this.data=n?new DataView(e):new DataView(e.buffer,e.byteOffset,e.byteLength),void(this.write="writeOffset"in t?t.writeOffset:this.data.byteLength);this.data=new DataView(new ArrayBuffer(0)),this.write=0,null!=e&&this.putBytes(e),"writeOffset"in t&&(this.write=t.writeOffset)},s.DataBuffer.prototype.length=function(){return this.write-this.read},s.DataBuffer.prototype.isEmpty=function(){return this.length()<=0},s.DataBuffer.prototype.accommodate=function(e,t){if(this.length()>=e)return this;t=Math.max(t||this.growSize,e);var n=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),r=new Uint8Array(this.length()+t);return r.set(n),this.data=new DataView(r.buffer),this},s.DataBuffer.prototype.putByte=function(e){return this.accommodate(1),this.data.setUint8(this.write++,e),this},s.DataBuffer.prototype.fillWithByte=function(e,t){this.accommodate(t);for(var n=0;n<t;++n)this.data.setUint8(e);return this},s.DataBuffer.prototype.putBytes=function(e,t){if(s.isArrayBufferView(e)){var n=(r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)).byteLength-r.byteOffset;return this.accommodate(n),new Uint8Array(this.data.buffer,this.write).set(r),this.write+=n,this}if(s.isArrayBuffer(e)){var r=new Uint8Array(e);return this.accommodate(r.byteLength),new Uint8Array(this.data.buffer).set(r,this.write),this.write+=r.byteLength,this}if(e instanceof s.DataBuffer||"object"===i(e)&&"number"==typeof e.read&&"number"==typeof e.write&&s.isArrayBufferView(e.data)){r=new Uint8Array(e.data.byteLength,e.read,e.length());return this.accommodate(r.byteLength),new Uint8Array(e.data.byteLength,this.write).set(r),this.write+=r.byteLength,this}if(e instanceof s.ByteStringBuffer&&(e=e.data,t="binary"),t=t||"binary","string"==typeof e){var a;if("hex"===t)return this.accommodate(Math.ceil(e.length/2)),a=new Uint8Array(this.data.buffer,this.write),this.write+=s.binary.hex.decode(e,a,this.write),this;if("base64"===t)return this.accommodate(3*Math.ceil(e.length/4)),a=new Uint8Array(this.data.buffer,this.write),this.write+=s.binary.base64.decode(e,a,this.write),this;if("utf8"===t&&(e=s.encodeUtf8(e),t="binary"),"binary"===t||"raw"===t)return this.accommodate(e.length),a=new Uint8Array(this.data.buffer,this.write),this.write+=s.binary.raw.decode(a),this;if("utf16"===t)return this.accommodate(2*e.length),a=new Uint16Array(this.data.buffer,this.write),this.write+=s.text.utf16.encode(a),this;throw new Error("Invalid encoding: "+t)}throw Error("Invalid parameter: "+e)},s.DataBuffer.prototype.putBuffer=function(e){return this.putBytes(e),e.clear(),this},s.DataBuffer.prototype.putString=function(e){return this.putBytes(e,"utf16")},s.DataBuffer.prototype.putInt16=function(e){return this.accommodate(2),this.data.setInt16(this.write,e),this.write+=2,this},s.DataBuffer.prototype.putInt24=function(e){return this.accommodate(3),this.data.setInt16(this.write,e>>8&65535),this.data.setInt8(this.write,e>>16&255),this.write+=3,this},s.DataBuffer.prototype.putInt32=function(e){return this.accommodate(4),this.data.setInt32(this.write,e),this.write+=4,this},s.DataBuffer.prototype.putInt16Le=function(e){return this.accommodate(2),this.data.setInt16(this.write,e,!0),this.write+=2,this},s.DataBuffer.prototype.putInt24Le=function(e){return this.accommodate(3),this.data.setInt8(this.write,e>>16&255),this.data.setInt16(this.write,e>>8&65535,!0),this.write+=3,this},s.DataBuffer.prototype.putInt32Le=function(e){return this.accommodate(4),this.data.setInt32(this.write,e,!0),this.write+=4,this},s.DataBuffer.prototype.putInt=function(e,t){u(t),this.accommodate(t/8);do{t-=8,this.data.setInt8(this.write++,e>>t&255)}while(t>0);return this},s.DataBuffer.prototype.putSignedInt=function(e,t){return u(t),this.accommodate(t/8),e<0&&(e+=2<<t-1),this.putInt(e,t)},s.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},s.DataBuffer.prototype.getInt16=function(){var e=this.data.getInt16(this.read);return this.read+=2,e},s.DataBuffer.prototype.getInt24=function(){var e=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,e},s.DataBuffer.prototype.getInt32=function(){var e=this.data.getInt32(this.read);return this.read+=4,e},s.DataBuffer.prototype.getInt16Le=function(){var e=this.data.getInt16(this.read,!0);return this.read+=2,e},s.DataBuffer.prototype.getInt24Le=function(){var e=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,e},s.DataBuffer.prototype.getInt32Le=function(){var e=this.data.getInt32(this.read,!0);return this.read+=4,e},s.DataBuffer.prototype.getInt=function(e){u(e);var t=0;do{t=(t<<8)+this.data.getInt8(this.read++),e-=8}while(e>0);return t},s.DataBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),n=2<<e-2;return t>=n&&(t-=n<<1),t},s.DataBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):0===e?t="":(t=0===this.read?this.data:this.data.slice(this.read),this.clear()),t},s.DataBuffer.prototype.bytes=function(e){return void 0===e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)},s.DataBuffer.prototype.at=function(e){return this.data.getUint8(this.read+e)},s.DataBuffer.prototype.setAt=function(e,t){return this.data.setUint8(e,t),this},s.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},s.DataBuffer.prototype.copy=function(){return new s.DataBuffer(this)},s.DataBuffer.prototype.compact=function(){if(this.read>0){var e=new Uint8Array(this.data.buffer,this.read),t=new Uint8Array(e.byteLength);t.set(e),this.data=new DataView(t),this.write-=this.read,this.read=0}return this},s.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},s.DataBuffer.prototype.truncate=function(e){return this.write=Math.max(0,this.length()-e),this.read=Math.min(this.read,this.write),this},s.DataBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.byteLength;++t){var n=this.data.getUint8(t);n<16&&(e+="0"),e+=n.toString(16)}return e},s.DataBuffer.prototype.toString=function(e){var t=new Uint8Array(this.data,this.read,this.length());if("binary"===(e=e||"utf8")||"raw"===e)return s.binary.raw.encode(t);if("hex"===e)return s.binary.hex.encode(t);if("base64"===e)return s.binary.base64.encode(t);if("utf8"===e)return s.text.utf8.decode(t);if("utf16"===e)return s.text.utf16.decode(t);throw new Error("Invalid encoding: "+e)},s.createBuffer=function(e,t){return t=t||"raw",void 0!==e&&"utf8"===t&&(e=s.encodeUtf8(e)),new s.ByteBuffer(e)},s.fillString=function(e,t){for(var n="";t>0;)1&t&&(n+=e),(t>>>=1)>0&&(e+=e);return n},s.xorBytes=function(e,t,n){for(var r="",i="",a="",o=0,s=0;n>0;--n,++o)i=e.charCodeAt(o)^t.charCodeAt(o),s>=10&&(r+=a,a="",s=0),a+=String.fromCharCode(i),++s;return r+=a},s.hexToBytes=function(e){var t="",n=0;for(!0&e.length&&(n=1,t+=String.fromCharCode(parseInt(e[0],16)));n<e.length;n+=2)t+=String.fromCharCode(parseInt(e.substr(n,2),16));return t},s.bytesToHex=function(e){return s.createBuffer(e).toHex()},s.int32ToBytes=function(e){return String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e)};var l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",d=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],p="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";s.encode64=function(e,t){for(var n,r,i,a="",o="",s=0;s<e.length;)n=e.charCodeAt(s++),r=e.charCodeAt(s++),i=e.charCodeAt(s++),a+=l.charAt(n>>2),a+=l.charAt((3&n)<<4|r>>4),isNaN(r)?a+="==":(a+=l.charAt((15&r)<<2|i>>6),a+=isNaN(i)?"=":l.charAt(63&i)),t&&a.length>t&&(o+=a.substr(0,t)+"\r\n",a=a.substr(t));return o+=a},s.decode64=function(e){e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var t,n,r,i,a="",o=0;o<e.length;)t=d[e.charCodeAt(o++)-43],n=d[e.charCodeAt(o++)-43],r=d[e.charCodeAt(o++)-43],i=d[e.charCodeAt(o++)-43],a+=String.fromCharCode(t<<2|n>>4),64!==r&&(a+=String.fromCharCode((15&n)<<4|r>>2),64!==i&&(a+=String.fromCharCode((3&r)<<6|i)));return a},s.encodeUtf8=function(e){return unescape(encodeURIComponent(e))},s.decodeUtf8=function(e){return decodeURIComponent(escape(e))},s.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:o.encode,decode:o.decode}},s.binary.raw.encode=function(e){return String.fromCharCode.apply(null,e)},s.binary.raw.decode=function(e,t,n){var r=t;r||(r=new Uint8Array(e.length));for(var i=n=n||0,a=0;a<e.length;++a)r[i++]=e.charCodeAt(a);return t?i-n:r},s.binary.hex.encode=s.bytesToHex,s.binary.hex.decode=function(e,t,n){var r=t;r||(r=new Uint8Array(Math.ceil(e.length/2)));var i=0,a=n=n||0;for(1&e.length&&(i=1,r[a++]=parseInt(e[0],16));i<e.length;i+=2)r[a++]=parseInt(e.substr(i,2),16);return t?a-n:r},s.binary.base64.encode=function(e,t){for(var n,r,i,a="",o="",s=0;s<e.byteLength;)n=e[s++],r=e[s++],i=e[s++],a+=l.charAt(n>>2),a+=l.charAt((3&n)<<4|r>>4),isNaN(r)?a+="==":(a+=l.charAt((15&r)<<2|i>>6),a+=isNaN(i)?"=":l.charAt(63&i)),t&&a.length>t&&(o+=a.substr(0,t)+"\r\n",a=a.substr(t));return o+=a},s.binary.base64.decode=function(e,t,n){var r,i,a,o,s=t;s||(s=new Uint8Array(3*Math.ceil(e.length/4))),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var u=0,c=n=n||0;u<e.length;)r=d[e.charCodeAt(u++)-43],i=d[e.charCodeAt(u++)-43],a=d[e.charCodeAt(u++)-43],o=d[e.charCodeAt(u++)-43],s[c++]=r<<2|i>>4,64!==a&&(s[c++]=(15&i)<<4|a>>2,64!==o&&(s[c++]=(3&a)<<6|o));return t?c-n:s.subarray(0,c)},s.binary.base58.encode=function(e,t){return s.binary.baseN.encode(e,p,t)},s.binary.base58.decode=function(e,t){return s.binary.baseN.decode(e,p,t)},s.text={utf8:{},utf16:{}},s.text.utf8.encode=function(e,t,n){e=s.encodeUtf8(e);var r=t;r||(r=new Uint8Array(e.length));for(var i=n=n||0,a=0;a<e.length;++a)r[i++]=e.charCodeAt(a);return t?i-n:r},s.text.utf8.decode=function(e){return s.decodeUtf8(String.fromCharCode.apply(null,e))},s.text.utf16.encode=function(e,t,n){var r=t;r||(r=new Uint8Array(2*e.length));for(var i=new Uint16Array(r.buffer),a=n=n||0,o=n,s=0;s<e.length;++s)i[o++]=e.charCodeAt(s),a+=2;return t?a-n:r},s.text.utf16.decode=function(e){return String.fromCharCode.apply(null,new Uint16Array(e.buffer))},s.deflate=function(e,t,n){if(t=s.decode64(e.deflate(s.encode64(t)).rval),n){var r=2;32&t.charCodeAt(1)&&(r=6),t=t.substring(r,t.length-4)}return t},s.inflate=function(e,t,n){var r=e.inflate(s.encode64(t)).rval;return null===r?null:s.decode64(r)};var f=function(e,t,n){if(!e)throw new Error("WebStorage not available.");var r;if(null===n?r=e.removeItem(t):(n=s.encode64(JSON.stringify(n)),r=e.setItem(t,n)),void 0!==r&&!0!==r.rval){var i=new Error(r.error.message);throw i.id=r.error.id,i.name=r.error.name,i}},h=function(e,t){if(!e)throw new Error("WebStorage not available.");var n=e.getItem(t);if(e.init)if(null===n.rval){if(n.error){var r=new Error(n.error.message);throw r.id=n.error.id,r.name=n.error.name,r}n=null}else n=n.rval;return null!==n&&(n=JSON.parse(s.decode64(n))),n},m=function(e,t,n,r){var i=h(e,t);null===i&&(i={}),i[n]=r,f(e,t,i)},v=function(e,t,n){var r=h(e,t);return null!==r&&(r=n in r?r[n]:null),r},g=function(e,t,n){var r=h(e,t);if(null!==r&&n in r){delete r[n];var i=!0;for(var a in r){i=!1;break}i&&(r=null),f(e,t,r)}},y=function(e,t){f(e,t,null)},b=function(e,t,n){var r,i=null;void 0===n&&(n=["web","flash"]);var a=!1,o=null;for(var s in n){r=n[s];try{if("flash"===r||"both"===r){if(null===t[0])throw new Error("Flash local storage not available.");i=e.apply(this,t),a="flash"===r}"web"!==r&&"both"!==r||(t[0]=localStorage,i=e.apply(this,t),a=!0)}catch(e){o=e}if(a)break}if(!a)throw o;return i};s.setItem=function(e,t,n,r,i){b(m,arguments,i)},s.getItem=function(e,t,n,r){return b(v,arguments,r)},s.removeItem=function(e,t,n,r){b(g,arguments,r)},s.clearItems=function(e,t,n){b(y,arguments,n)},s.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},s.format=function(e){for(var t,n,r=/%./g,i=0,a=[],o=0;t=r.exec(e);){(n=e.substring(o,r.lastIndex-2)).length>0&&a.push(n),o=r.lastIndex;var s=t[0][1];switch(s){case"s":case"o":i<arguments.length?a.push(arguments[1+i++]):a.push("<?>");break;case"%":a.push("%");break;default:a.push("<%"+s+"?>")}}return a.push(e.substring(o)),a.join("")},s.formatNumber=function(e,t,n,r){var i=e,a=isNaN(t=Math.abs(t))?2:t,o=void 0===n?",":n,s=void 0===r?".":r,u=i<0?"-":"",c=parseInt(i=Math.abs(+i||0).toFixed(a),10)+"",l=c.length>3?c.length%3:0;return u+(l?c.substr(0,l)+s:"")+c.substr(l).replace(/(\d{3})(?=\d)/g,"$1"+s)+(a?o+Math.abs(i-c).toFixed(a).slice(2):"")},s.formatSize=function(e){return e=e>=1073741824?s.formatNumber(e/1073741824,2,".","")+" GiB":e>=1048576?s.formatNumber(e/1048576,2,".","")+" MiB":e>=1024?s.formatNumber(e/1024,0)+" KiB":s.formatNumber(e,0)+" bytes"},s.bytesFromIP=function(e){return-1!==e.indexOf(".")?s.bytesFromIPv4(e):-1!==e.indexOf(":")?s.bytesFromIPv6(e):null},s.bytesFromIPv4=function(e){if(4!==(e=e.split(".")).length)return null;for(var t=s.createBuffer(),n=0;n<e.length;++n){var r=parseInt(e[n],10);if(isNaN(r))return null;t.putByte(r)}return t.getBytes()},s.bytesFromIPv6=function(e){for(var t=0,n=2*(8-(e=e.split(":").filter((function(e){return 0===e.length&&++t,!0}))).length+t),r=s.createBuffer(),i=0;i<8;++i)if(e[i]&&0!==e[i].length){var a=s.hexToBytes(e[i]);a.length<2&&r.putByte(0),r.putBytes(a)}else r.fillWithByte(0,n),n=0;return r.getBytes()},s.bytesToIP=function(e){return 4===e.length?s.bytesToIPv4(e):16===e.length?s.bytesToIPv6(e):null},s.bytesToIPv4=function(e){if(4!==e.length)return null;for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t.join(".")},s.bytesToIPv6=function(e){if(16!==e.length)return null;for(var t=[],n=[],r=0,i=0;i<e.length;i+=2){for(var a=s.bytesToHex(e[i]+e[i+1]);"0"===a[0]&&"0"!==a;)a=a.substr(1);if("0"===a){var o=n[n.length-1],u=t.length;o&&u===o.end+1?(o.end=u,o.end-o.start>n[r].end-n[r].start&&(r=n.length-1)):n.push({start:u,end:u})}t.push(a)}if(n.length>0){var c=n[r];c.end-c.start>0&&(t.splice(c.start,c.end-c.start+1,""),0===c.start&&t.unshift(""),7===c.end&&t.push(""))}return t.join(":")},s.estimateCores=function(e,t){if("function"==typeof e&&(t=e,e={}),e=e||{},"cores"in s&&!e.update)return t(null,s.cores);if("undefined"!=typeof navigator&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return s.cores=navigator.hardwareConcurrency,t(null,s.cores);if("undefined"==typeof Worker)return s.cores=1,t(null,s.cores);if("undefined"==typeof Blob)return s.cores=2,t(null,s.cores);var n=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",(function(e){for(var t=Date.now(),n=t+4;Date.now()<n;);self.postMessage({st:t,et:n})}))}.toString(),")()"],{type:"application/javascript"}));!function e(r,i,a){if(0===i){var o=Math.floor(r.reduce((function(e,t){return e+t}),0)/r.length);return s.cores=Math.max(1,o),URL.revokeObjectURL(n),t(null,s.cores)}!function(e,t){for(var r=[],i=[],a=0;a<e;++a){var o=new Worker(n);o.addEventListener("message",(function(n){if(i.push(n.data),i.length===e){for(var a=0;a<e;++a)r[a].terminate();t(null,i)}})),r.push(o)}for(a=0;a<e;++a)r[a].postMessage(a)}(a,(function(t,n){r.push(function(e,t){for(var n=[],r=0;r<e;++r)for(var i=t[r],a=n[r]=[],o=0;o<e;++o)if(r!==o){var s=t[o];(i.st>s.st&&i.st<s.et||s.st>i.st&&s.st<i.et)&&a.push(o)}return n.reduce((function(e,t){return Math.max(e,t.length)}),0)}(a,n)),e(r,i-1,a)}))}([],5,16)}},33110:(e,t,n)=>{"use strict";var r=n(46518),i=n(97751),a=n(18745),o=n(69565),s=n(79504),u=n(79039),c=n(94901),l=n(10757),d=n(67680),p=n(66933),f=n(4495),h=String,m=i("JSON","stringify"),v=s(/./.exec),g=s("".charAt),y=s("".charCodeAt),b=s("".replace),w=s(1..toString),D=/[\uD800-\uDFFF]/g,A=/^[\uD800-\uDBFF]$/,E=/^[\uDC00-\uDFFF]$/,k=!f||u((function(){var e=i("Symbol")("stringify detection");return"[null]"!==m([e])||"{}"!==m({a:e})||"{}"!==m(Object(e))})),C=u((function(){return'"\\udf06\\ud834"'!==m("\udf06\ud834")||'"\\udead"'!==m("\udead")})),_=function(e,t){var n=d(arguments),r=p(t);if(c(r)||void 0!==e&&!l(e))return n[1]=function(e,t){if(c(r)&&(t=o(r,this,h(e),t)),!l(t))return t},a(m,null,n)},x=function(e,t,n){var r=g(n,t-1),i=g(n,t+1);return v(A,e)&&!v(E,i)||v(E,e)&&!v(A,r)?"\\u"+w(y(e,0),16):e};m&&r({target:"JSON",stat:!0,arity:3,forced:k||C},{stringify:function(e,t,n){var r=d(arguments),i=a(k?_:m,null,r);return C&&"string"==typeof i?b(i,D,x):i}})},33164:(e,t,n)=>{"use strict";var r=n(77782),i=n(53602),a=Math.abs;e.exports=function(e,t,n,o){var s=+e,u=a(s),c=r(s);if(u<o)return c*i(u/o/t)*o*t;var l=(1+t/2220446049250313e-31)*u,d=l-(l-u);return d>n||d!=d?c*(1/0):c*d}},33171:(e,t,n)=>{"use strict";var r=n(89990);n(52675),n(89463),n(26099);var i="function"==typeof Symbol&&Symbol.for,a=i?Symbol.for("react.element"):60103,o=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,u=i?Symbol.for("react.strict_mode"):60108,c=i?Symbol.for("react.profiler"):60114,l=i?Symbol.for("react.provider"):60109,d=i?Symbol.for("react.context"):60110,p=i?Symbol.for("react.async_mode"):60111,f=i?Symbol.for("react.concurrent_mode"):60111,h=i?Symbol.for("react.forward_ref"):60112,m=i?Symbol.for("react.suspense"):60113,v=i?Symbol.for("react.suspense_list"):60120,g=i?Symbol.for("react.memo"):60115,y=i?Symbol.for("react.lazy"):60116,b=i?Symbol.for("react.block"):60121,w=i?Symbol.for("react.fundamental"):60117,D=i?Symbol.for("react.responder"):60118,A=i?Symbol.for("react.scope"):60119;function E(e){if("object"===r(e)&&null!==e){var t=e.$$typeof;switch(t){case a:switch(e=e.type){case p:case f:case s:case c:case u:case m:return e;default:switch(e=e&&e.$$typeof){case d:case h:case y:case g:case l:return e;default:return t}}case o:return t}}}function k(e){return E(e)===f}t.AsyncMode=p,t.ConcurrentMode=f,t.ContextConsumer=d,t.ContextProvider=l,t.Element=a,t.ForwardRef=h,t.Fragment=s,t.Lazy=y,t.Memo=g,t.Portal=o,t.Profiler=c,t.StrictMode=u,t.Suspense=m,t.isAsyncMode=function(e){return k(e)||E(e)===p},t.isConcurrentMode=k,t.isContextConsumer=function(e){return E(e)===d},t.isContextProvider=function(e){return E(e)===l},t.isElement=function(e){return"object"===r(e)&&null!==e&&e.$$typeof===a},t.isForwardRef=function(e){return E(e)===h},t.isFragment=function(e){return E(e)===s},t.isLazy=function(e){return E(e)===y},t.isMemo=function(e){return E(e)===g},t.isPortal=function(e){return E(e)===o},t.isProfiler=function(e){return E(e)===c},t.isStrictMode=function(e){return E(e)===u},t.isSuspense=function(e){return E(e)===m},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===s||e===f||e===c||e===u||e===m||e===v||"object"===r(e)&&null!==e&&(e.$$typeof===y||e.$$typeof===g||e.$$typeof===l||e.$$typeof===d||e.$$typeof===h||e.$$typeof===w||e.$$typeof===D||e.$$typeof===A||e.$$typeof===b)},t.typeOf=E},33206:(e,t,n)=>{"use strict";var r=n(94644),i=n(59213).forEach,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("forEach",(function(e){i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},33313:(e,t,n)=>{"use strict";var r=n(46518),i=n(18866);r({target:"String",proto:!0,name:"trimEnd",forced:"".trimRight!==i},{trimRight:i})},33351:(e,t,n)=>{n(84185);var r=n(82156);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,r(i.key),i)}}e.exports=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},33392:(e,t,n)=>{"use strict";var r=n(79504),i=0,a=Math.random(),o=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+o(++i+a,36)}},33423:(e,t,n)=>{var r=n(89990);n(16280),n(76918),n(25276),n(48598),n(44114),n(34782),n(54554),n(23288),n(62010),n(27495),n(90906),n(71761);var i=n(85192);n(90092),n(53486),n(27499),n(1238),n(9385),n(70430),n(90005),n(22205),n(90705),n(32807);var a=i.asn1,o=e.exports=i.pki=i.pki||{},s=o.oids,u={};u.CN=s.commonName,u.commonName="CN",u.C=s.countryName,u.countryName="C",u.L=s.localityName,u.localityName="L",u.ST=s.stateOrProvinceName,u.stateOrProvinceName="ST",u.O=s.organizationName,u.organizationName="O",u.OU=s.organizationalUnitName,u.organizationalUnitName="OU",u.E=s.emailAddress,u.emailAddress="E";var c=i.pki.rsa.publicKeyValidator,l={name:"Certificate",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:a.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:a.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:a.Class.UNIVERSAL,type:a.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:a.Class.UNIVERSAL,type:a.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:a.Class.UNIVERSAL,type:a.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:a.Class.UNIVERSAL,type:a.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},c,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:a.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:a.Class.UNIVERSAL,type:a.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:a.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:a.Class.UNIVERSAL,type:a.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:a.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:a.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:a.Class.UNIVERSAL,type:a.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},d={name:"rsapss",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:a.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:a.Class.UNIVERSAL,type:a.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:a.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:a.Class.UNIVERSAL,type:a.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:a.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:a.Class.UNIVERSAL,type:a.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:a.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:a.Class.UNIVERSAL,type:a.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},p={name:"CertificationRequestInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},c,{name:"CertificationRequestInfo.attributes",tagClass:a.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:a.Class.UNIVERSAL,type:a.Type.SET,constructed:!0}]}]}]},f={name:"CertificationRequest",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[p,{name:"CertificationRequest.signatureAlgorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:a.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:a.Class.UNIVERSAL,type:a.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};function h(e,t){"string"==typeof t&&(t={shortName:t});for(var n,r=null,i=0;null===r&&i<e.attributes.length;++i)n=e.attributes[i],(t.type&&t.type===n.type||t.name&&t.name===n.name||t.shortName&&t.shortName===n.shortName)&&(r=n);return r}o.RDNAttributesAsArray=function(e,t){for(var n,r,i,o=[],c=0;c<e.value.length;++c){n=e.value[c];for(var l=0;l<n.value.length;++l)i={},r=n.value[l],i.type=a.derToOid(r.value[0].value),i.value=r.value[1].value,i.valueTagClass=r.value[1].type,i.type in s&&(i.name=s[i.type],i.name in u&&(i.shortName=u[i.name])),t&&(t.update(i.type),t.update(i.value)),o.push(i)}return o},o.CRIAttributesAsArray=function(e){for(var t=[],n=0;n<e.length;++n)for(var r=e[n],i=a.derToOid(r.value[0].value),c=r.value[1].value,l=0;l<c.length;++l){var d={};if(d.type=i,d.value=c[l].value,d.valueTagClass=c[l].type,d.type in s&&(d.name=s[d.type],d.name in u&&(d.shortName=u[d.name])),d.type===s.extensionRequest){d.extensions=[];for(var p=0;p<d.value.length;++p)d.extensions.push(o.certificateExtensionFromAsn1(d.value[p]))}t.push(d)}return t};var m=function(e,t,n){var r={};if(e!==s["RSASSA-PSS"])return r;n&&(r={hash:{algorithmOid:s.sha1},mgf:{algorithmOid:s.mgf1,hash:{algorithmOid:s.sha1}},saltLength:20});var i={},o=[];if(!a.validate(t,d,i,o)){var u=new Error("Cannot read RSASSA-PSS parameter block.");throw u.errors=o,u}return void 0!==i.hashOid&&(r.hash=r.hash||{},r.hash.algorithmOid=a.derToOid(i.hashOid)),void 0!==i.maskGenOid&&(r.mgf=r.mgf||{},r.mgf.algorithmOid=a.derToOid(i.maskGenOid),r.mgf.hash=r.mgf.hash||{},r.mgf.hash.algorithmOid=a.derToOid(i.maskGenHashOid)),void 0!==i.saltLength&&(r.saltLength=i.saltLength.charCodeAt(0)),r},v=function(e){switch(s[e.signatureOid]){case"sha1WithRSAEncryption":case"sha1WithRSASignature":return i.md.sha1.create();case"md5WithRSAEncryption":return i.md.md5.create();case"sha256WithRSAEncryption":case"RSASSA-PSS":return i.md.sha256.create();case"sha384WithRSAEncryption":return i.md.sha384.create();case"sha512WithRSAEncryption":return i.md.sha512.create();default:var t=new Error("Could not compute "+e.type+" digest. Unknown signature OID.");throw t.signatureOid=e.signatureOid,t}},g=function(e){var t,n=e.certificate;switch(n.signatureOid){case s.sha1WithRSAEncryption:case s.sha1WithRSASignature:break;case s["RSASSA-PSS"]:var r,a,o;if(void 0===(r=s[n.signatureParameters.mgf.hash.algorithmOid])||void 0===i.md[r])throw(o=new Error("Unsupported MGF hash function.")).oid=n.signatureParameters.mgf.hash.algorithmOid,o.name=r,o;if(void 0===(a=s[n.signatureParameters.mgf.algorithmOid])||void 0===i.mgf[a])throw(o=new Error("Unsupported MGF function.")).oid=n.signatureParameters.mgf.algorithmOid,o.name=a,o;if(a=i.mgf[a].create(i.md[r].create()),void 0===(r=s[n.signatureParameters.hash.algorithmOid])||void 0===i.md[r])throw(o=new Error("Unsupported RSASSA-PSS hash function.")).oid=n.signatureParameters.hash.algorithmOid,o.name=r,o;t=i.pss.create(i.md[r].create(),a,n.signatureParameters.saltLength)}return n.publicKey.verify(e.md.digest().getBytes(),e.signature,t)};function y(e){for(var t,n,r=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]),o=e.attributes,s=0;s<o.length;++s){var u=(t=o[s]).value,c=a.Type.PRINTABLESTRING;"valueTagClass"in t&&(c=t.valueTagClass)===a.Type.UTF8&&(u=i.util.encodeUtf8(u)),n=a.create(a.Class.UNIVERSAL,a.Type.SET,!0,[a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(t.type).getBytes()),a.create(a.Class.UNIVERSAL,c,!1,u)])]),r.value.push(n)}return r}function b(e){for(var t,n=0;n<e.length;++n){if(void 0===(t=e[n]).name&&(t.type&&t.type in o.oids?t.name=o.oids[t.type]:t.shortName&&t.shortName in u&&(t.name=o.oids[u[t.shortName]])),void 0===t.type){if(!t.name||!(t.name in o.oids))throw(i=new Error("Attribute type not specified.")).attribute=t,i;t.type=o.oids[t.name]}if(void 0===t.shortName&&t.name&&t.name in u&&(t.shortName=u[t.name]),t.type===s.extensionRequest&&(t.valueConstructed=!0,t.valueTagClass=a.Type.SEQUENCE,!t.value&&t.extensions)){t.value=[];for(var r=0;r<t.extensions.length;++r)t.value.push(o.certificateExtensionToAsn1(w(t.extensions[r])))}var i;if(void 0===t.value)throw(i=new Error("Attribute value not specified.")).attribute=t,i}}function w(e,t){if(t=t||{},void 0===e.name&&e.id&&e.id in o.oids&&(e.name=o.oids[e.id]),void 0===e.id){if(!e.name||!(e.name in o.oids))throw(D=new Error("Extension ID not specified.")).extension=e,D;e.id=o.oids[e.name]}if(void 0!==e.value)return e;if("keyUsage"===e.name){var n=0,r=0,u=0;e.digitalSignature&&(r|=128,n=7),e.nonRepudiation&&(r|=64,n=6),e.keyEncipherment&&(r|=32,n=5),e.dataEncipherment&&(r|=16,n=4),e.keyAgreement&&(r|=8,n=3),e.keyCertSign&&(r|=4,n=2),e.cRLSign&&(r|=2,n=1),e.encipherOnly&&(r|=1,n=0),e.decipherOnly&&(u|=128,n=7);var c=String.fromCharCode(n);0!==u?c+=String.fromCharCode(r)+String.fromCharCode(u):0!==r&&(c+=String.fromCharCode(r)),e.value=a.create(a.Class.UNIVERSAL,a.Type.BITSTRING,!1,c)}else if("basicConstraints"===e.name)e.value=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]),e.cA&&e.value.value.push(a.create(a.Class.UNIVERSAL,a.Type.BOOLEAN,!1,String.fromCharCode(255))),"pathLenConstraint"in e&&e.value.value.push(a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(e.pathLenConstraint).getBytes()));else if("extKeyUsage"===e.name){e.value=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]);var l=e.value.value;for(var d in e)!0===e[d]&&(d in s?l.push(a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(s[d]).getBytes())):-1!==d.indexOf(".")&&l.push(a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(d).getBytes())))}else if("nsCertType"===e.name){n=0,r=0;e.client&&(r|=128,n=7),e.server&&(r|=64,n=6),e.email&&(r|=32,n=5),e.objsign&&(r|=16,n=4),e.reserved&&(r|=8,n=3),e.sslCA&&(r|=4,n=2),e.emailCA&&(r|=2,n=1),e.objCA&&(r|=1,n=0);c=String.fromCharCode(n);0!==r&&(c+=String.fromCharCode(r)),e.value=a.create(a.Class.UNIVERSAL,a.Type.BITSTRING,!1,c)}else if("subjectAltName"===e.name||"issuerAltName"===e.name){e.value=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]);for(var p=0;p<e.altNames.length;++p){c=(g=e.altNames[p]).value;if(7===g.type&&g.ip){if(null===(c=i.util.bytesFromIP(g.ip)))throw(D=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=e,D}else 8===g.type&&(c=g.oid?a.oidToDer(a.oidToDer(g.oid)):a.oidToDer(c));e.value.value.push(a.create(a.Class.CONTEXT_SPECIFIC,g.type,!1,c))}}else if("nsComment"===e.name&&t.cert){if(!/^[\x00-\x7F]*$/.test(e.comment)||e.comment.length<1||e.comment.length>128)throw new Error('Invalid "nsComment" content.');e.value=a.create(a.Class.UNIVERSAL,a.Type.IA5STRING,!1,e.comment)}else if("subjectKeyIdentifier"===e.name&&t.cert){var f=t.cert.generateSubjectKeyIdentifier();e.subjectKeyIdentifier=f.toHex(),e.value=a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,f.getBytes())}else if("authorityKeyIdentifier"===e.name&&t.cert){e.value=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]);l=e.value.value;if(e.keyIdentifier){var h=!0===e.keyIdentifier?t.cert.generateSubjectKeyIdentifier().getBytes():e.keyIdentifier;l.push(a.create(a.Class.CONTEXT_SPECIFIC,0,!1,h))}if(e.authorityCertIssuer){var m=[a.create(a.Class.CONTEXT_SPECIFIC,4,!0,[y(!0===e.authorityCertIssuer?t.cert.issuer:e.authorityCertIssuer)])];l.push(a.create(a.Class.CONTEXT_SPECIFIC,1,!0,m))}if(e.serialNumber){var v=i.util.hexToBytes(!0===e.serialNumber?t.cert.serialNumber:e.serialNumber);l.push(a.create(a.Class.CONTEXT_SPECIFIC,2,!1,v))}}else if("cRLDistributionPoints"===e.name){e.value=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]);l=e.value.value;var g,b=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]),w=a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[]);for(p=0;p<e.altNames.length;++p){c=(g=e.altNames[p]).value;if(7===g.type&&g.ip){if(null===(c=i.util.bytesFromIP(g.ip)))throw(D=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=e,D}else 8===g.type&&(c=g.oid?a.oidToDer(a.oidToDer(g.oid)):a.oidToDer(c));w.value.push(a.create(a.Class.CONTEXT_SPECIFIC,g.type,!1,c))}b.value.push(a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[w])),l.push(b)}var D;if(void 0===e.value)throw(D=new Error("Extension value not specified.")).extension=e,D;return e}function D(e,t){if(e===s["RSASSA-PSS"]){var n=[];return void 0!==t.hash.algorithmOid&&n.push(a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(t.hash.algorithmOid).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")])])),void 0!==t.mgf.algorithmOid&&n.push(a.create(a.Class.CONTEXT_SPECIFIC,1,!0,[a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(t.mgf.algorithmOid).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(t.mgf.hash.algorithmOid).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")])])])),void 0!==t.saltLength&&n.push(a.create(a.Class.CONTEXT_SPECIFIC,2,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(t.saltLength).getBytes())])),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,n)}return a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")}function A(e){var t=a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[]);if(0===e.attributes.length)return t;for(var n=e.attributes,r=0;r<n.length;++r){var o=n[r],s=o.value,u=a.Type.UTF8;"valueTagClass"in o&&(u=o.valueTagClass),u===a.Type.UTF8&&(s=i.util.encodeUtf8(s));var c=!1;"valueConstructed"in o&&(c=o.valueConstructed);var l=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(o.type).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SET,!0,[a.create(a.Class.UNIVERSAL,u,c,s)])]);t.value.push(l)}return t}o.certificateFromPem=function(e,t,n){var r=i.pem.decode(e)[0];if("CERTIFICATE"!==r.type&&"X509 CERTIFICATE"!==r.type&&"TRUSTED CERTIFICATE"!==r.type){var s=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw s.headerType=r.type,s}if(r.procType&&"ENCRYPTED"===r.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var u=a.fromDer(r.body,n);return o.certificateFromAsn1(u,t)},o.certificateToPem=function(e,t){var n={type:"CERTIFICATE",body:a.toDer(o.certificateToAsn1(e)).getBytes()};return i.pem.encode(n,{maxline:t})},o.publicKeyFromPem=function(e){var t=i.pem.decode(e)[0];if("PUBLIC KEY"!==t.type&&"RSA PUBLIC KEY"!==t.type){var n=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw n.headerType=t.type,n}if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert public key from PEM; PEM is encrypted.");var r=a.fromDer(t.body);return o.publicKeyFromAsn1(r)},o.publicKeyToPem=function(e,t){var n={type:"PUBLIC KEY",body:a.toDer(o.publicKeyToAsn1(e)).getBytes()};return i.pem.encode(n,{maxline:t})},o.publicKeyToRSAPublicKeyPem=function(e,t){var n={type:"RSA PUBLIC KEY",body:a.toDer(o.publicKeyToRSAPublicKey(e)).getBytes()};return i.pem.encode(n,{maxline:t})},o.getPublicKeyFingerprint=function(e,t){var n,r=(t=t||{}).md||i.md.sha1.create();switch(t.type||"RSAPublicKey"){case"RSAPublicKey":n=a.toDer(o.publicKeyToRSAPublicKey(e)).getBytes();break;case"SubjectPublicKeyInfo":n=a.toDer(o.publicKeyToAsn1(e)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+t.type+'".')}r.start(),r.update(n);var s=r.digest();if("hex"===t.encoding){var u=s.toHex();return t.delimiter?u.match(/.{2}/g).join(t.delimiter):u}if("binary"===t.encoding)return s.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".');return s},o.certificationRequestFromPem=function(e,t,n){var r=i.pem.decode(e)[0];if("CERTIFICATE REQUEST"!==r.type){var s=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw s.headerType=r.type,s}if(r.procType&&"ENCRYPTED"===r.procType.type)throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var u=a.fromDer(r.body,n);return o.certificationRequestFromAsn1(u,t)},o.certificationRequestToPem=function(e,t){var n={type:"CERTIFICATE REQUEST",body:a.toDer(o.certificationRequestToAsn1(e)).getBytes()};return i.pem.encode(n,{maxline:t})},o.createCertificate=function(){var e={version:2,serialNumber:"00",signatureOid:null,signature:null,siginfo:{}};return e.siginfo.algorithmOid=null,e.validity={},e.validity.notBefore=new Date,e.validity.notAfter=new Date,e.issuer={},e.issuer.getField=function(t){return h(e.issuer,t)},e.issuer.addField=function(t){b([t]),e.issuer.attributes.push(t)},e.issuer.attributes=[],e.issuer.hash=null,e.subject={},e.subject.getField=function(t){return h(e.subject,t)},e.subject.addField=function(t){b([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.extensions=[],e.publicKey=null,e.md=null,e.setSubject=function(t,n){b(t),e.subject.attributes=t,delete e.subject.uniqueId,n&&(e.subject.uniqueId=n),e.subject.hash=null},e.setIssuer=function(t,n){b(t),e.issuer.attributes=t,delete e.issuer.uniqueId,n&&(e.issuer.uniqueId=n),e.issuer.hash=null},e.setExtensions=function(t){for(var n=0;n<t.length;++n)w(t[n],{cert:e});e.extensions=t},e.getExtension=function(t){"string"==typeof t&&(t={name:t});for(var n,r=null,i=0;null===r&&i<e.extensions.length;++i)n=e.extensions[i],(t.id&&n.id===t.id||t.name&&n.name===t.name)&&(r=n);return r},e.sign=function(t,n){e.md=n||i.md.sha1.create();var r=s[e.md.algorithm+"WithRSAEncryption"];if(!r){var u=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw u.algorithm=e.md.algorithm,u}e.signatureOid=e.siginfo.algorithmOid=r,e.tbsCertificate=o.getTBSCertificate(e);var c=a.toDer(e.tbsCertificate);e.md.update(c.getBytes()),e.signature=t.sign(e.md)},e.verify=function(t){var n=!1;if(!e.issued(t)){var r=t.issuer,i=e.subject,s=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw s.expectedIssuer=i.attributes,s.actualIssuer=r.attributes,s}var u=t.md;if(null===u){u=v({signatureOid:t.signatureOid,type:"certificate"});var c=t.tbsCertificate||o.getTBSCertificate(t),l=a.toDer(c);u.update(l.getBytes())}return null!==u&&(n=g({certificate:e,md:u,signature:t.signature})),n},e.isIssuer=function(t){var n=!1,r=e.issuer,i=t.subject;if(r.hash&&i.hash)n=r.hash===i.hash;else if(r.attributes.length===i.attributes.length){var a,o;n=!0;for(var s=0;n&&s<r.attributes.length;++s)a=r.attributes[s],o=i.attributes[s],a.type===o.type&&a.value===o.value||(n=!1)}return n},e.issued=function(t){return t.isIssuer(e)},e.generateSubjectKeyIdentifier=function(){return o.getPublicKeyFingerprint(e.publicKey,{type:"RSAPublicKey"})},e.verifySubjectKeyIdentifier=function(){for(var t=s.subjectKeyIdentifier,n=0;n<e.extensions.length;++n){var r=e.extensions[n];if(r.id===t){var a=e.generateSubjectKeyIdentifier().getBytes();return i.util.hexToBytes(r.subjectKeyIdentifier)===a}}return!1},e},o.certificateFromAsn1=function(e,t){var n={},r=[];if(!a.validate(e,l,n,r)){var s=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw s.errors=r,s}if(a.derToOid(n.publicKeyOid)!==o.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var u=o.createCertificate();u.version=n.certVersion?n.certVersion.charCodeAt(0):0;var c=i.util.createBuffer(n.certSerialNumber);u.serialNumber=c.toHex(),u.signatureOid=i.asn1.derToOid(n.certSignatureOid),u.signatureParameters=m(u.signatureOid,n.certSignatureParams,!0),u.siginfo.algorithmOid=i.asn1.derToOid(n.certinfoSignatureOid),u.siginfo.parameters=m(u.siginfo.algorithmOid,n.certinfoSignatureParams,!1),u.signature=n.certSignature;var d=[];if(void 0!==n.certValidity1UTCTime&&d.push(a.utcTimeToDate(n.certValidity1UTCTime)),void 0!==n.certValidity2GeneralizedTime&&d.push(a.generalizedTimeToDate(n.certValidity2GeneralizedTime)),void 0!==n.certValidity3UTCTime&&d.push(a.utcTimeToDate(n.certValidity3UTCTime)),void 0!==n.certValidity4GeneralizedTime&&d.push(a.generalizedTimeToDate(n.certValidity4GeneralizedTime)),d.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(d.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(u.validity.notBefore=d[0],u.validity.notAfter=d[1],u.tbsCertificate=n.tbsCertificate,t){u.md=v({signatureOid:u.signatureOid,type:"certificate"});var p=a.toDer(u.tbsCertificate);u.md.update(p.getBytes())}var f=i.md.sha1.create(),g=a.toDer(n.certIssuer);f.update(g.getBytes()),u.issuer.getField=function(e){return h(u.issuer,e)},u.issuer.addField=function(e){b([e]),u.issuer.attributes.push(e)},u.issuer.attributes=o.RDNAttributesAsArray(n.certIssuer),n.certIssuerUniqueId&&(u.issuer.uniqueId=n.certIssuerUniqueId),u.issuer.hash=f.digest().toHex();var y=i.md.sha1.create(),w=a.toDer(n.certSubject);return y.update(w.getBytes()),u.subject.getField=function(e){return h(u.subject,e)},u.subject.addField=function(e){b([e]),u.subject.attributes.push(e)},u.subject.attributes=o.RDNAttributesAsArray(n.certSubject),n.certSubjectUniqueId&&(u.subject.uniqueId=n.certSubjectUniqueId),u.subject.hash=y.digest().toHex(),n.certExtensions?u.extensions=o.certificateExtensionsFromAsn1(n.certExtensions):u.extensions=[],u.publicKey=o.publicKeyFromAsn1(n.subjectPublicKeyInfo),u},o.certificateExtensionsFromAsn1=function(e){for(var t=[],n=0;n<e.value.length;++n)for(var r=e.value[n],i=0;i<r.value.length;++i)t.push(o.certificateExtensionFromAsn1(r.value[i]));return t},o.certificateExtensionFromAsn1=function(e){var t={};if(t.id=a.derToOid(e.value[0].value),t.critical=!1,e.value[1].type===a.Type.BOOLEAN?(t.critical=0!==e.value[1].value.charCodeAt(0),t.value=e.value[2].value):t.value=e.value[1].value,t.id in s)if(t.name=s[t.id],"keyUsage"===t.name){var n=0,r=0;(u=a.fromDer(t.value)).value.length>1&&(n=u.value.charCodeAt(1),r=u.value.length>2?u.value.charCodeAt(2):0),t.digitalSignature=!(128&~n),t.nonRepudiation=!(64&~n),t.keyEncipherment=!(32&~n),t.dataEncipherment=!(16&~n),t.keyAgreement=!(8&~n),t.keyCertSign=!(4&~n),t.cRLSign=!(2&~n),t.encipherOnly=!(1&~n),t.decipherOnly=!(128&~r)}else if("basicConstraints"===t.name){(u=a.fromDer(t.value)).value.length>0&&u.value[0].type===a.Type.BOOLEAN?t.cA=0!==u.value[0].value.charCodeAt(0):t.cA=!1;var o=null;u.value.length>0&&u.value[0].type===a.Type.INTEGER?o=u.value[0].value:u.value.length>1&&(o=u.value[1].value),null!==o&&(t.pathLenConstraint=a.derToInteger(o))}else if("extKeyUsage"===t.name)for(var u=a.fromDer(t.value),c=0;c<u.value.length;++c){var l=a.derToOid(u.value[c].value);l in s?t[s[l]]=!0:t[l]=!0}else if("nsCertType"===t.name){n=0;(u=a.fromDer(t.value)).value.length>1&&(n=u.value.charCodeAt(1)),t.client=!(128&~n),t.server=!(64&~n),t.email=!(32&~n),t.objsign=!(16&~n),t.reserved=!(8&~n),t.sslCA=!(4&~n),t.emailCA=!(2&~n),t.objCA=!(1&~n)}else if("subjectAltName"===t.name||"issuerAltName"===t.name){var d;t.altNames=[];u=a.fromDer(t.value);for(var p=0;p<u.value.length;++p){var f={type:(d=u.value[p]).type,value:d.value};switch(t.altNames.push(f),d.type){case 1:case 2:case 6:break;case 7:f.ip=i.util.bytesToIP(d.value);break;case 8:f.oid=a.derToOid(d.value)}}}else if("subjectKeyIdentifier"===t.name){u=a.fromDer(t.value);t.subjectKeyIdentifier=i.util.bytesToHex(u.value)}return t},o.certificationRequestFromAsn1=function(e,t){var n={},r=[];if(!a.validate(e,f,n,r)){var s=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw s.errors=r,s}if(a.derToOid(n.publicKeyOid)!==o.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var u=o.createCertificationRequest();if(u.version=n.csrVersion?n.csrVersion.charCodeAt(0):0,u.signatureOid=i.asn1.derToOid(n.csrSignatureOid),u.signatureParameters=m(u.signatureOid,n.csrSignatureParams,!0),u.siginfo.algorithmOid=i.asn1.derToOid(n.csrSignatureOid),u.siginfo.parameters=m(u.siginfo.algorithmOid,n.csrSignatureParams,!1),u.signature=n.csrSignature,u.certificationRequestInfo=n.certificationRequestInfo,t){u.md=v({signatureOid:u.signatureOid,type:"certification request"});var c=a.toDer(u.certificationRequestInfo);u.md.update(c.getBytes())}var l=i.md.sha1.create();return u.subject.getField=function(e){return h(u.subject,e)},u.subject.addField=function(e){b([e]),u.subject.attributes.push(e)},u.subject.attributes=o.RDNAttributesAsArray(n.certificationRequestInfoSubject,l),u.subject.hash=l.digest().toHex(),u.publicKey=o.publicKeyFromAsn1(n.subjectPublicKeyInfo),u.getAttribute=function(e){return h(u,e)},u.addAttribute=function(e){b([e]),u.attributes.push(e)},u.attributes=o.CRIAttributesAsArray(n.certificationRequestInfoAttributes||[]),u},o.createCertificationRequest=function(){var e={version:0,signatureOid:null,signature:null,siginfo:{}};return e.siginfo.algorithmOid=null,e.subject={},e.subject.getField=function(t){return h(e.subject,t)},e.subject.addField=function(t){b([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.publicKey=null,e.attributes=[],e.getAttribute=function(t){return h(e,t)},e.addAttribute=function(t){b([t]),e.attributes.push(t)},e.md=null,e.setSubject=function(t){b(t),e.subject.attributes=t,e.subject.hash=null},e.setAttributes=function(t){b(t),e.attributes=t},e.sign=function(t,n){e.md=n||i.md.sha1.create();var r=s[e.md.algorithm+"WithRSAEncryption"];if(!r){var u=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw u.algorithm=e.md.algorithm,u}e.signatureOid=e.siginfo.algorithmOid=r,e.certificationRequestInfo=o.getCertificationRequestInfo(e);var c=a.toDer(e.certificationRequestInfo);e.md.update(c.getBytes()),e.signature=t.sign(e.md)},e.verify=function(){var t=!1,n=e.md;if(null===n){n=v({signatureOid:e.signatureOid,type:"certification request"});var r=e.certificationRequestInfo||o.getCertificationRequestInfo(e),i=a.toDer(r);n.update(i.getBytes())}return null!==n&&(t=g({certificate:e,md:n,signature:e.signature})),t},e};var E=new Date("1950-01-01T00:00:00Z"),k=new Date("2050-01-01T00:00:00Z");function C(e){return e>=E&&e<k?a.create(a.Class.UNIVERSAL,a.Type.UTCTIME,!1,a.dateToUtcTime(e)):a.create(a.Class.UNIVERSAL,a.Type.GENERALIZEDTIME,!1,a.dateToGeneralizedTime(e))}o.getTBSCertificate=function(e){var t=C(e.validity.notBefore),n=C(e.validity.notAfter),r=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(e.version).getBytes())]),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,i.util.hexToBytes(e.serialNumber)),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(e.siginfo.algorithmOid).getBytes()),D(e.siginfo.algorithmOid,e.siginfo.parameters)]),y(e.issuer),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[t,n]),y(e.subject),o.publicKeyToAsn1(e.publicKey)]);return e.issuer.uniqueId&&r.value.push(a.create(a.Class.CONTEXT_SPECIFIC,1,!0,[a.create(a.Class.UNIVERSAL,a.Type.BITSTRING,!1,String.fromCharCode(0)+e.issuer.uniqueId)])),e.subject.uniqueId&&r.value.push(a.create(a.Class.CONTEXT_SPECIFIC,2,!0,[a.create(a.Class.UNIVERSAL,a.Type.BITSTRING,!1,String.fromCharCode(0)+e.subject.uniqueId)])),e.extensions.length>0&&r.value.push(o.certificateExtensionsToAsn1(e.extensions)),r},o.getCertificationRequestInfo=function(e){return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(e.version).getBytes()),y(e.subject),o.publicKeyToAsn1(e.publicKey),A(e)])},o.distinguishedNameToAsn1=function(e){return y(e)},o.certificateToAsn1=function(e){var t=e.tbsCertificate||o.getTBSCertificate(e);return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[t,a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(e.signatureOid).getBytes()),D(e.signatureOid,e.signatureParameters)]),a.create(a.Class.UNIVERSAL,a.Type.BITSTRING,!1,String.fromCharCode(0)+e.signature)])},o.certificateExtensionsToAsn1=function(e){var t=a.create(a.Class.CONTEXT_SPECIFIC,3,!0,[]),n=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]);t.value.push(n);for(var r=0;r<e.length;++r)n.value.push(o.certificateExtensionToAsn1(e[r]));return t},o.certificateExtensionToAsn1=function(e){var t=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]);t.value.push(a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(e.id).getBytes())),e.critical&&t.value.push(a.create(a.Class.UNIVERSAL,a.Type.BOOLEAN,!1,String.fromCharCode(255)));var n=e.value;return"string"!=typeof e.value&&(n=a.toDer(n).getBytes()),t.value.push(a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,n)),t},o.certificationRequestToAsn1=function(e){var t=e.certificationRequestInfo||o.getCertificationRequestInfo(e);return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[t,a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(e.signatureOid).getBytes()),D(e.signatureOid,e.signatureParameters)]),a.create(a.Class.UNIVERSAL,a.Type.BITSTRING,!1,String.fromCharCode(0)+e.signature)])},o.createCaStore=function(e){var t={certs:{}};function n(e){return r(e),t.certs[e.hash]||null}function r(e){if(!e.hash){var t=i.md.sha1.create();e.attributes=o.RDNAttributesAsArray(y(e),t),e.hash=t.digest().toHex()}}if(t.getIssuer=function(e){return n(e.issuer)},t.addCertificate=function(e){if("string"==typeof e&&(e=i.pki.certificateFromPem(e)),r(e.subject),!t.hasCertificate(e))if(e.subject.hash in t.certs){var n=t.certs[e.subject.hash];i.util.isArray(n)||(n=[n]),n.push(e),t.certs[e.subject.hash]=n}else t.certs[e.subject.hash]=e},t.hasCertificate=function(e){"string"==typeof e&&(e=i.pki.certificateFromPem(e));var t=n(e.subject);if(!t)return!1;i.util.isArray(t)||(t=[t]);for(var r=a.toDer(o.certificateToAsn1(e)).getBytes(),s=0;s<t.length;++s){if(r===a.toDer(o.certificateToAsn1(t[s])).getBytes())return!0}return!1},t.listAllCertificates=function(){var e=[];for(var n in t.certs)if(t.certs.hasOwnProperty(n)){var r=t.certs[n];if(i.util.isArray(r))for(var a=0;a<r.length;++a)e.push(r[a]);else e.push(r)}return e},t.removeCertificate=function(e){var s;if("string"==typeof e&&(e=i.pki.certificateFromPem(e)),r(e.subject),!t.hasCertificate(e))return null;var u=n(e.subject);if(!i.util.isArray(u))return s=t.certs[e.subject.hash],delete t.certs[e.subject.hash],s;for(var c=a.toDer(o.certificateToAsn1(e)).getBytes(),l=0;l<u.length;++l){c===a.toDer(o.certificateToAsn1(u[l])).getBytes()&&(s=u[l],u.splice(l,1))}return 0===u.length&&delete t.certs[e.subject.hash],s},e)for(var s=0;s<e.length;++s){var u=e[s];t.addCertificate(u)}return t},o.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"},o.verifyCertificateChain=function(e,t,n){"function"==typeof n&&(n={verify:n}),n=n||{};var a=(t=t.slice(0)).slice(0),s=n.validityCheckDate;void 0===s&&(s=new Date);var u=!0,c=null,l=0;do{var d=t.shift(),p=null,f=!1;if(s&&(s<d.validity.notBefore||s>d.validity.notAfter)&&(c={message:"Certificate is not valid yet or has expired.",error:o.certificateError.certificate_expired,notBefore:d.validity.notBefore,notAfter:d.validity.notAfter,now:s}),null===c){if(null===(p=t[0]||e.getIssuer(d))&&d.isIssuer(d)&&(f=!0,p=d),p){var h=p;i.util.isArray(h)||(h=[h]);for(var m=!1;!m&&h.length>0;){p=h.shift();try{m=p.verify(d)}catch(e){}}m||(c={message:"Certificate signature is invalid.",error:o.certificateError.bad_certificate})}null!==c||p&&!f||e.hasCertificate(d)||(c={message:"Certificate is not trusted.",error:o.certificateError.unknown_ca})}if(null===c&&p&&!d.isIssuer(p)&&(c={message:"Certificate issuer is invalid.",error:o.certificateError.bad_certificate}),null===c)for(var v={keyUsage:!0,basicConstraints:!0},g=0;null===c&&g<d.extensions.length;++g){var y=d.extensions[g];y.critical&&!(y.name in v)&&(c={message:"Certificate has an unsupported critical extension.",error:o.certificateError.unsupported_certificate})}if(null===c&&(!u||0===t.length&&(!p||f))){var b=d.getExtension("basicConstraints"),w=d.getExtension("keyUsage");if(null!==w&&(w.keyCertSign&&null!==b||(c={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:o.certificateError.bad_certificate})),null!==c||null===b||b.cA||(c={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:o.certificateError.bad_certificate}),null===c&&null!==w&&"pathLenConstraint"in b)l-1>b.pathLenConstraint&&(c={message:"Certificate basicConstraints pathLenConstraint violated.",error:o.certificateError.bad_certificate})}var D=null===c||c.error,A=n.verify?n.verify(D,l,a):D;if(!0!==A)throw!0===D&&(c={message:"The application rejected the certificate.",error:o.certificateError.bad_certificate}),(A||0===A)&&("object"!==r(A)||i.util.isArray(A)?"string"==typeof A&&(c.error=A):(A.message&&(c.message=A.message),A.error&&(c.error=A.error))),c;c=null,u=!1,++l}while(t.length>0);return!0}},33483:(e,t,n)=>{n(16280),n(76918),n(59904),n(84185);var r=n(70312);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},33517:(e,t,n)=>{"use strict";var r=n(79504),i=n(79039),a=n(94901),o=n(36955),s=n(97751),u=n(33706),c=function(){},l=s("Reflect","construct"),d=/^\s*(?:class|function)\b/,p=r(d.exec),f=!d.test(c),h=function(e){if(!a(e))return!1;try{return l(c,[],e),!0}catch(e){return!1}},m=function(e){if(!a(e))return!1;switch(o(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return f||!!p(d,u(e))}catch(e){return!0}};m.sham=!0,e.exports=!l||i((function(){var e;return h(h.call)||!h(Object)||!h((function(){e=!0}))||e}))?m:h},33684:(e,t,n)=>{"use strict";var r=n(94644).exportTypedArrayMethod,i=n(79039),a=n(44576),o=n(79504),s=a.Uint8Array,u=s&&s.prototype||{},c=[].toString,l=o([].join);i((function(){c.call({})}))&&(c=function(){return l(this)});var d=u.toString!==c;r("toString",c,d)},33706:(e,t,n)=>{"use strict";var r=n(79504),i=n(94901),a=n(77629),o=r(Function.toString);i(a.inspectSource)||(a.inspectSource=function(e){return o(e)}),e.exports=a.inspectSource},33717:(e,t)=>{"use strict";t.f=Object.getOwnPropertySymbols},33748:(e,t,n)=>{"use strict";e.exports=n(33171)},33758:(e,t,n)=>{var r=n(89990);n(16280),n(76918),n(34782),n(23288),n(26099),n(58940),n(27495),n(90906),n(38781),n(25440),n(13611),n(76031);var i="Expected a function",a=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt,l="object"==(void 0===n.g?"undefined":r(n.g))&&n.g&&n.g.Object===Object&&n.g,d="object"==("undefined"==typeof self?"undefined":r(self))&&self&&self.Object===Object&&self,p=l||d||Function("return this")(),f=Object.prototype.toString,h=Math.max,m=Math.min,v=function(){return p.Date.now()};function g(e,t,n){var r,a,o,s,u,c,l=0,d=!1,p=!1,f=!0;if("function"!=typeof e)throw new TypeError(i);function g(t){var n=r,i=a;return r=a=void 0,l=t,s=e.apply(i,n)}function b(e){var n=e-c;return void 0===c||n>=t||n<0||p&&e-l>=o}function D(){var e=v();if(b(e))return A(e);u=setTimeout(D,function(e){var n=t-(e-c);return p?m(n,o-(e-l)):n}(e))}function A(e){return u=void 0,f&&r?g(e):(r=a=void 0,s)}function E(){var e=v(),n=b(e);if(r=arguments,a=this,c=e,n){if(void 0===u)return function(e){return l=e,u=setTimeout(D,t),d?g(e):s}(c);if(p)return u=setTimeout(D,t),g(c)}return void 0===u&&(u=setTimeout(D,t)),s}return t=w(t)||0,y(n)&&(d=!!n.leading,o=(p="maxWait"in n)?h(w(n.maxWait)||0,t):o,f="trailing"in n?!!n.trailing:f),E.cancel=function(){void 0!==u&&clearTimeout(u),l=0,r=c=a=u=void 0},E.flush=function(){return void 0===u?s:A(v())},E}function y(e){var t=r(e);return!!e&&("object"==t||"function"==t)}function b(e){return"symbol"==r(e)||function(e){return!!e&&"object"==r(e)}(e)&&"[object Symbol]"==f.call(e)}function w(e){if("number"==typeof e)return e;if(b(e))return NaN;if(y(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=y(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var n=s.test(e);return n||u.test(e)?c(e.slice(2),n?2:8):o.test(e)?NaN:+e}e.exports=function(e,t,n){var r=!0,a=!0;if("function"!=typeof e)throw new TypeError(i);return y(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),g(e,t,{"leading":r,"maxWait":t,"trailing":a})}},33771:(e,t,n)=>{"use strict";var r=n(46518),i=n(84373),a=n(6469);r({target:"Array",proto:!0},{fill:i}),a("fill")},33825:(e,t,n)=>{"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{A:()=>r})},33904:(e,t,n)=>{"use strict";var r=n(44576),i=n(79039),a=n(79504),o=n(655),s=n(43802).trim,u=n(47452),c=a("".charAt),l=r.parseFloat,d=r.Symbol,p=d&&d.iterator,f=1/l(u+"-0")!=-1/0||p&&!i((function(){l(Object(p))}));e.exports=f?function(e){var t=s(o(e)),n=l(t);return 0===n&&"-"===c(t,0)?-0:n}:l},33994:(e,t,n)=>{"use strict";var r=n(57657).IteratorPrototype,i=n(2360),a=n(6980),o=n(10687),s=n(26269),u=function(){return this};e.exports=function(e,t,n,c){var l=t+" Iterator";return e.prototype=i(r,{next:a(+!c,n)}),o(e,l,!1,!0),s[l]=u,e}},34022:(e,t,n)=>{var r=n(89990);n(27495),n(90906);var i=n(81813),a=n(78766),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=function(e,t){if(i(e))return!1;var n=r(e);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!a(e))||(s.test(e)||!o.test(e)||null!=t&&e in Object(t))}},34034:(e,t,n)=>{n(16280),n(76918);var r=n(59209),i=n(67873);e.exports=function(e,t,n){var a=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return i(n)&&(a="leading"in n?!!n.leading:a,o="trailing"in n?!!n.trailing:o),r(e,t,{"leading":a,"maxWait":t,"trailing":o})}},34124:(e,t,n)=>{"use strict";var r=n(79039),i=n(20034),a=n(22195),o=n(15652),s=Object.isExtensible,u=r((function(){s(1)}));e.exports=u||o?function(e){return!!i(e)&&((!o||"ArrayBuffer"!==a(e))&&(!s||s(e)))}:s},34261:(e,t,n)=>{n(76918),n(23288),n(26099),n(38781);var r=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return r.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},34376:(e,t,n)=>{"use strict";var r=n(22195);e.exports=Array.isArray||function(e){return"Array"===r(e)}},34383:function(e,t,n){var r,i,a,o=n(89990);n(52675),n(89463),n(2259),n(16280),n(76918),n(28706),n(2008),n(51629),n(23418),n(25276),n(64346),n(23792),n(48598),n(62062),n(44114),n(34782),n(26910),n(54743),n(11745),n(38309),n(23288),n(94170),n(62010),n(2892),n(40150),n(69085),n(67945),n(84185),n(83851),n(81278),n(79432),n(26099),n(27495),n(90906),n(38781),n(47764),n(71761),n(25440),n(90744),n(42762),n(21489),n(48140),n(81630),n(72170),n(75044),n(69539),n(31694),n(89955),n(21903),n(91134),n(33206),n(44496),n(66651),n(12887),n(19369),n(66812),n(8995),n(31575),n(36072),n(88747),n(28845),n(29423),n(57301),n(373),n(86614),n(41405),n(33684),n(98992),n(54520),n(3949),n(43250),n(10149),n(24082),n(2945),n(42207),n(23500),n(62953),n(55815),n(64979),n(79739),n(13611),n(76031),a=function(){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){n(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function a(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s="undefined"!=typeof window&&void 0!==window.document,u=s?window:{},c=!(!s||!u.document.documentElement)&&"ontouchstart"in u.document.documentElement,l=!!s&&"PointerEvent"in u,d="cropper",p="all",f="crop",h="move",m="zoom",v="e",g="w",y="s",b="n",w="ne",D="nw",A="se",E="sw",k="".concat(d,"-crop"),C="".concat(d,"-disabled"),_="".concat(d,"-hidden"),x="".concat(d,"-hide"),S="".concat(d,"-invisible"),T="".concat(d,"-modal"),F="".concat(d,"-move"),O="".concat(d,"Action"),P="".concat(d,"Preview"),I="crop",B="move",R="none",N="crop",M="cropend",L="cropmove",j="cropstart",U="dblclick",z=l?"pointerdown":c?"touchstart":"mousedown",V=l?"pointermove":c?"touchmove":"mousemove",q=l?"pointerup pointercancel":c?"touchend touchcancel":"mouseup",H="ready",W="resize",K="wheel",$="zoom",G="image/jpeg",Q=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,Y=/^data:/,X=/^data:image\/jpeg;base64,/,Z=/^img|canvas$/i,J={viewMode:0,dragMode:I,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},ee=Number.isNaN||u.isNaN;function te(e){return"number"==typeof e&&!ee(e)}var ne=function(e){return e>0&&e<1/0};function re(e){return void 0===e}function ie(t){return"object"===e(t)&&null!==t}var ae=Object.prototype.hasOwnProperty;function oe(e){if(!ie(e))return!1;try{var t=e.constructor,n=t.prototype;return t&&n&&ae.call(n,"isPrototypeOf")}catch(e){return!1}}function se(e){return"function"==typeof e}var ue=Array.prototype.slice;function ce(e){return Array.from?Array.from(e):ue.call(e)}function le(e,t){return e&&se(t)&&(Array.isArray(e)||te(e.length)?ce(e).forEach((function(n,r){t.call(e,n,r,e)})):ie(e)&&Object.keys(e).forEach((function(n){t.call(e,e[n],n,e)}))),e}var de=Object.assign||function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ie(e)&&n.length>0&&n.forEach((function(t){ie(t)&&Object.keys(t).forEach((function(n){e[n]=t[n]}))})),e},pe=/\.\d*(?:0|9){12}\d*$/;function fe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return pe.test(e)?Math.round(e*t)/t:e}var he=/^width|height|left|top|marginLeft|marginTop$/;function me(e,t){var n=e.style;le(t,(function(e,t){he.test(t)&&te(e)&&(e="".concat(e,"px")),n[t]=e}))}function ve(e,t){if(t)if(te(e.length))le(e,(function(e){ve(e,t)}));else if(e.classList)e.classList.add(t);else{var n=e.className.trim();n?n.indexOf(t)<0&&(e.className="".concat(n," ").concat(t)):e.className=t}}function ge(e,t){t&&(te(e.length)?le(e,(function(e){ge(e,t)})):e.classList?e.classList.remove(t):e.className.indexOf(t)>=0&&(e.className=e.className.replace(t,"")))}function ye(e,t,n){t&&(te(e.length)?le(e,(function(e){ye(e,t,n)})):n?ve(e,t):ge(e,t))}var be=/([a-z\d])([A-Z])/g;function we(e){return e.replace(be,"$1-$2").toLowerCase()}function De(e,t){return ie(e[t])?e[t]:e.dataset?e.dataset[t]:e.getAttribute("data-".concat(we(t)))}function Ae(e,t,n){ie(n)?e[t]=n:e.dataset?e.dataset[t]=n:e.setAttribute("data-".concat(we(t)),n)}var Ee=/\s\s*/,ke=function(){var e=!1;if(s){var t=!1,n=function(){},r=Object.defineProperty({},"once",{get:function(){return e=!0,t},set:function(e){t=e}});u.addEventListener("test",n,r),u.removeEventListener("test",n,r)}return e}();function Ce(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=n;t.trim().split(Ee).forEach((function(t){if(!ke){var a=e.listeners;a&&a[t]&&a[t][n]&&(i=a[t][n],delete a[t][n],0===Object.keys(a[t]).length&&delete a[t],0===Object.keys(a).length&&delete e.listeners)}e.removeEventListener(t,i,r)}))}function _e(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=n;t.trim().split(Ee).forEach((function(t){if(r.once&&!ke){var a=e.listeners,o=void 0===a?{}:a;i=function(){delete o[t][n],e.removeEventListener(t,i,r);for(var a=arguments.length,s=new Array(a),u=0;u<a;u++)s[u]=arguments[u];n.apply(e,s)},o[t]||(o[t]={}),o[t][n]&&e.removeEventListener(t,o[t][n],r),o[t][n]=i,e.listeners=o}e.addEventListener(t,i,r)}))}function xe(e,t,n){var r;return se(Event)&&se(CustomEvent)?r=new CustomEvent(t,{detail:n,bubbles:!0,cancelable:!0}):(r=document.createEvent("CustomEvent")).initCustomEvent(t,!0,!0,n),e.dispatchEvent(r)}function Se(e){var t=e.getBoundingClientRect();return{left:t.left+(window.pageXOffset-document.documentElement.clientLeft),top:t.top+(window.pageYOffset-document.documentElement.clientTop)}}var Te=u.location,Fe=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function Oe(e){var t=e.match(Fe);return null!==t&&(t[1]!==Te.protocol||t[2]!==Te.hostname||t[3]!==Te.port)}function Pe(e){var t="timestamp=".concat((new Date).getTime());return e+(-1===e.indexOf("?")?"?":"&")+t}function Ie(e){var t=e.rotate,n=e.scaleX,r=e.scaleY,i=e.translateX,a=e.translateY,o=[];te(i)&&0!==i&&o.push("translateX(".concat(i,"px)")),te(a)&&0!==a&&o.push("translateY(".concat(a,"px)")),te(t)&&0!==t&&o.push("rotate(".concat(t,"deg)")),te(n)&&1!==n&&o.push("scaleX(".concat(n,")")),te(r)&&1!==r&&o.push("scaleY(".concat(r,")"));var s=o.length?o.join(" "):"none";return{WebkitTransform:s,msTransform:s,transform:s}}function Be(e,t){var n=e.pageX,r=e.pageY,a={endX:n,endY:r};return t?a:i({startX:n,startY:r},a)}function Re(e){var t=e.aspectRatio,n=e.height,r=e.width,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"contain",a=ne(r),o=ne(n);if(a&&o){var s=n*t;"contain"===i&&s>r||"cover"===i&&s<r?n=r/t:r=n*t}else a?n=r/t:o&&(r=n*t);return{width:r,height:n}}var Ne=String.fromCharCode,Me=/^data:.*,/;function Le(e){var t,n=new DataView(e);try{var r,i,a;if(255===n.getUint8(0)&&216===n.getUint8(1))for(var o=n.byteLength,s=2;s+1<o;){if(255===n.getUint8(s)&&225===n.getUint8(s+1)){i=s;break}s+=1}if(i){var u=i+10;if("Exif"===function(e,t,n){var r="";n+=t;for(var i=t;i<n;i+=1)r+=Ne(e.getUint8(i));return r}(n,i+4,4)){var c=n.getUint16(u);if(((r=18761===c)||19789===c)&&42===n.getUint16(u+2,r)){var l=n.getUint32(u+4,r);l>=8&&(a=u+l)}}}if(a){var d,p,f=n.getUint16(a,r);for(p=0;p<f;p+=1)if(d=a+12*p+2,274===n.getUint16(d,r)){d+=8,t=n.getUint16(d,r),n.setUint16(d,1,r);break}}}catch(e){t=1}return t}var je={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var e=this.element,t=this.options,n=this.container,r=this.cropper;ve(r,_),ge(e,_);var i={width:Math.max(n.offsetWidth,Number(t.minContainerWidth)||200),height:Math.max(n.offsetHeight,Number(t.minContainerHeight)||100)};this.containerData=i,me(r,{width:i.width,height:i.height}),ve(e,_),ge(r,_)},initCanvas:function(){var e=this.containerData,t=this.imageData,n=this.options.viewMode,r=Math.abs(t.rotate)%180==90,i=r?t.naturalHeight:t.naturalWidth,a=r?t.naturalWidth:t.naturalHeight,o=i/a,s=e.width,u=e.height;e.height*o>e.width?3===n?s=e.height*o:u=e.width/o:3===n?u=e.width/o:s=e.height*o;var c={aspectRatio:o,naturalWidth:i,naturalHeight:a,width:s,height:u};c.left=(e.width-s)/2,c.top=(e.height-u)/2,c.oldLeft=c.left,c.oldTop=c.top,this.canvasData=c,this.limited=1===n||2===n,this.limitCanvas(!0,!0),this.initialImageData=de({},t),this.initialCanvasData=de({},c)},limitCanvas:function(e,t){var n=this.options,r=this.containerData,i=this.canvasData,a=this.cropBoxData,o=n.viewMode,s=i.aspectRatio,u=this.cropped&&a;if(e){var c=Number(n.minCanvasWidth)||0,l=Number(n.minCanvasHeight)||0;o>1?(c=Math.max(c,r.width),l=Math.max(l,r.height),3===o&&(l*s>c?c=l*s:l=c/s)):o>0&&(c?c=Math.max(c,u?a.width:0):l?l=Math.max(l,u?a.height:0):u&&(c=a.width,(l=a.height)*s>c?c=l*s:l=c/s));var d=Re({aspectRatio:s,width:c,height:l});c=d.width,l=d.height,i.minWidth=c,i.minHeight=l,i.maxWidth=1/0,i.maxHeight=1/0}if(t)if(o>(u?0:1)){var p=r.width-i.width,f=r.height-i.height;i.minLeft=Math.min(0,p),i.minTop=Math.min(0,f),i.maxLeft=Math.max(0,p),i.maxTop=Math.max(0,f),u&&this.limited&&(i.minLeft=Math.min(a.left,a.left+(a.width-i.width)),i.minTop=Math.min(a.top,a.top+(a.height-i.height)),i.maxLeft=a.left,i.maxTop=a.top,2===o&&(i.width>=r.width&&(i.minLeft=Math.min(0,p),i.maxLeft=Math.max(0,p)),i.height>=r.height&&(i.minTop=Math.min(0,f),i.maxTop=Math.max(0,f))))}else i.minLeft=-i.width,i.minTop=-i.height,i.maxLeft=r.width,i.maxTop=r.height},renderCanvas:function(e,t){var n=this.canvasData,r=this.imageData;if(t){var i=function(e){var t=e.width,n=e.height,r=e.degree;if(90==(r=Math.abs(r)%180))return{width:n,height:t};var i=r%90*Math.PI/180,a=Math.sin(i),o=Math.cos(i),s=t*o+n*a,u=t*a+n*o;return r>90?{width:u,height:s}:{width:s,height:u}}({width:r.naturalWidth*Math.abs(r.scaleX||1),height:r.naturalHeight*Math.abs(r.scaleY||1),degree:r.rotate||0}),a=i.width,o=i.height,s=n.width*(a/n.naturalWidth),u=n.height*(o/n.naturalHeight);n.left-=(s-n.width)/2,n.top-=(u-n.height)/2,n.width=s,n.height=u,n.aspectRatio=a/o,n.naturalWidth=a,n.naturalHeight=o,this.limitCanvas(!0,!1)}(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCanvas(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,me(this.canvas,de({width:n.width,height:n.height},Ie({translateX:n.left,translateY:n.top}))),this.renderImage(e),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(e){var t=this.canvasData,n=this.imageData,r=n.naturalWidth*(t.width/t.naturalWidth),i=n.naturalHeight*(t.height/t.naturalHeight);de(n,{width:r,height:i,left:(t.width-r)/2,top:(t.height-i)/2}),me(this.image,de({width:n.width,height:n.height},Ie(de({translateX:n.left,translateY:n.top},n)))),e&&this.output()},initCropBox:function(){var e=this.options,t=this.canvasData,n=e.aspectRatio||e.initialAspectRatio,r=Number(e.autoCropArea)||.8,i={width:t.width,height:t.height};n&&(t.height*n>t.width?i.height=i.width/n:i.width=i.height*n),this.cropBoxData=i,this.limitCropBox(!0,!0),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),i.width=Math.max(i.minWidth,i.width*r),i.height=Math.max(i.minHeight,i.height*r),i.left=t.left+(t.width-i.width)/2,i.top=t.top+(t.height-i.height)/2,i.oldLeft=i.left,i.oldTop=i.top,this.initialCropBoxData=de({},i)},limitCropBox:function(e,t){var n=this.options,r=this.containerData,i=this.canvasData,a=this.cropBoxData,o=this.limited,s=n.aspectRatio;if(e){var u=Number(n.minCropBoxWidth)||0,c=Number(n.minCropBoxHeight)||0,l=o?Math.min(r.width,i.width,i.width+i.left,r.width-i.left):r.width,d=o?Math.min(r.height,i.height,i.height+i.top,r.height-i.top):r.height;u=Math.min(u,r.width),c=Math.min(c,r.height),s&&(u&&c?c*s>u?c=u/s:u=c*s:u?c=u/s:c&&(u=c*s),d*s>l?d=l/s:l=d*s),a.minWidth=Math.min(u,l),a.minHeight=Math.min(c,d),a.maxWidth=l,a.maxHeight=d}t&&(o?(a.minLeft=Math.max(0,i.left),a.minTop=Math.max(0,i.top),a.maxLeft=Math.min(r.width,i.left+i.width)-a.width,a.maxTop=Math.min(r.height,i.top+i.height)-a.height):(a.minLeft=0,a.minTop=0,a.maxLeft=r.width-a.width,a.maxTop=r.height-a.height))},renderCropBox:function(){var e=this.options,t=this.containerData,n=this.cropBoxData;(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCropBox(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,e.movable&&e.cropBoxMovable&&Ae(this.face,O,n.width>=t.width&&n.height>=t.height?h:p),me(this.cropBox,de({width:n.width,height:n.height},Ie({translateX:n.left,translateY:n.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),xe(this.element,N,this.getData())}},Ue={initPreview:function(){var e=this.element,t=this.crossOrigin,n=this.options.preview,r=t?this.crossOriginUrl:this.url,i=e.alt||"The image to preview",a=document.createElement("img");if(t&&(a.crossOrigin=t),a.src=r,a.alt=i,this.viewBox.appendChild(a),this.viewBoxImage=a,n){var o=n;"string"==typeof n?o=e.ownerDocument.querySelectorAll(n):n.querySelector&&(o=[n]),this.previews=o,le(o,(function(e){var n=document.createElement("img");Ae(e,P,{width:e.offsetWidth,height:e.offsetHeight,html:e.innerHTML}),t&&(n.crossOrigin=t),n.src=r,n.alt=i,n.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',e.innerHTML="",e.appendChild(n)}))}},resetPreview:function(){le(this.previews,(function(e){var t=De(e,P);me(e,{width:t.width,height:t.height}),e.innerHTML=t.html,function(e,t){if(ie(e[t]))try{delete e[t]}catch(n){e[t]=void 0}else if(e.dataset)try{delete e.dataset[t]}catch(n){e.dataset[t]=void 0}else e.removeAttribute("data-".concat(we(t)))}(e,P)}))},preview:function(){var e=this.imageData,t=this.canvasData,n=this.cropBoxData,r=n.width,i=n.height,a=e.width,o=e.height,s=n.left-t.left-e.left,u=n.top-t.top-e.top;this.cropped&&!this.disabled&&(me(this.viewBoxImage,de({width:a,height:o},Ie(de({translateX:-s,translateY:-u},e)))),le(this.previews,(function(t){var n=De(t,P),c=n.width,l=n.height,d=c,p=l,f=1;r&&(p=i*(f=c/r)),i&&p>l&&(d=r*(f=l/i),p=l),me(t,{width:d,height:p}),me(t.getElementsByTagName("img")[0],de({width:a*f,height:o*f},Ie(de({translateX:-s*f,translateY:-u*f},e))))})))}},ze={bind:function(){var e=this.element,t=this.options,n=this.cropper;se(t.cropstart)&&_e(e,j,t.cropstart),se(t.cropmove)&&_e(e,L,t.cropmove),se(t.cropend)&&_e(e,M,t.cropend),se(t.crop)&&_e(e,N,t.crop),se(t.zoom)&&_e(e,$,t.zoom),_e(n,z,this.onCropStart=this.cropStart.bind(this)),t.zoomable&&t.zoomOnWheel&&_e(n,K,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),t.toggleDragModeOnDblclick&&_e(n,U,this.onDblclick=this.dblclick.bind(this)),_e(e.ownerDocument,V,this.onCropMove=this.cropMove.bind(this)),_e(e.ownerDocument,q,this.onCropEnd=this.cropEnd.bind(this)),t.responsive&&_e(window,W,this.onResize=this.resize.bind(this))},unbind:function(){var e=this.element,t=this.options,n=this.cropper;se(t.cropstart)&&Ce(e,j,t.cropstart),se(t.cropmove)&&Ce(e,L,t.cropmove),se(t.cropend)&&Ce(e,M,t.cropend),se(t.crop)&&Ce(e,N,t.crop),se(t.zoom)&&Ce(e,$,t.zoom),Ce(n,z,this.onCropStart),t.zoomable&&t.zoomOnWheel&&Ce(n,K,this.onWheel,{passive:!1,capture:!0}),t.toggleDragModeOnDblclick&&Ce(n,U,this.onDblclick),Ce(e.ownerDocument,V,this.onCropMove),Ce(e.ownerDocument,q,this.onCropEnd),t.responsive&&Ce(window,W,this.onResize)}},Ve={resize:function(){if(!this.disabled){var e,t,n=this.options,r=this.container,i=this.containerData,a=r.offsetWidth/i.width;1===a&&r.offsetHeight===i.height||(n.restore&&(e=this.getCanvasData(),t=this.getCropBoxData()),this.render(),n.restore&&(this.setCanvasData(le(e,(function(t,n){e[n]=t*a}))),this.setCropBoxData(le(t,(function(e,n){t[n]=e*a})))))}},dblclick:function(){var e,t;this.disabled||this.options.dragMode===R||this.setDragMode((e=this.dragBox,t=k,(e.classList?e.classList.contains(t):e.className.indexOf(t)>-1)?B:I))},wheel:function(e){var t=this,n=Number(this.options.wheelZoomRatio)||.1,r=1;this.disabled||(e.preventDefault(),this.wheeling||(this.wheeling=!0,setTimeout((function(){t.wheeling=!1}),50),e.deltaY?r=e.deltaY>0?1:-1:e.wheelDelta?r=-e.wheelDelta/120:e.detail&&(r=e.detail>0?1:-1),this.zoom(-r*n,e)))},cropStart:function(e){var t=e.buttons,n=e.button;if(!(this.disabled||("mousedown"===e.type||"pointerdown"===e.type&&"mouse"===e.pointerType)&&(te(t)&&1!==t||te(n)&&0!==n||e.ctrlKey))){var r,i=this.options,a=this.pointers;e.changedTouches?le(e.changedTouches,(function(e){a[e.identifier]=Be(e)})):a[e.pointerId||0]=Be(e),r=Object.keys(a).length>1&&i.zoomable&&i.zoomOnTouch?m:De(e.target,O),Q.test(r)&&!1!==xe(this.element,j,{originalEvent:e,action:r})&&(e.preventDefault(),this.action=r,this.cropping=!1,r===f&&(this.cropping=!0,ve(this.dragBox,T)))}},cropMove:function(e){var t=this.action;if(!this.disabled&&t){var n=this.pointers;e.preventDefault(),!1!==xe(this.element,L,{originalEvent:e,action:t})&&(e.changedTouches?le(e.changedTouches,(function(e){de(n[e.identifier]||{},Be(e,!0))})):de(n[e.pointerId||0]||{},Be(e,!0)),this.change(e))}},cropEnd:function(e){if(!this.disabled){var t=this.action,n=this.pointers;e.changedTouches?le(e.changedTouches,(function(e){delete n[e.identifier]})):delete n[e.pointerId||0],t&&(e.preventDefault(),Object.keys(n).length||(this.action=""),this.cropping&&(this.cropping=!1,ye(this.dragBox,T,this.cropped&&this.options.modal)),xe(this.element,M,{originalEvent:e,action:t}))}}},qe={change:function(e){var t,n=this.options,r=this.canvasData,a=this.containerData,o=this.cropBoxData,s=this.pointers,u=this.action,c=n.aspectRatio,l=o.left,d=o.top,k=o.width,C=o.height,x=l+k,S=d+C,T=0,F=0,O=a.width,P=a.height,I=!0;!c&&e.shiftKey&&(c=k&&C?k/C:1),this.limited&&(T=o.minLeft,F=o.minTop,O=T+Math.min(a.width,r.width,r.left+r.width),P=F+Math.min(a.height,r.height,r.top+r.height));var B=s[Object.keys(s)[0]],R={x:B.endX-B.startX,y:B.endY-B.startY},N=function(e){switch(e){case v:x+R.x>O&&(R.x=O-x);break;case g:l+R.x<T&&(R.x=T-l);break;case b:d+R.y<F&&(R.y=F-d);break;case y:S+R.y>P&&(R.y=P-S)}};switch(u){case p:l+=R.x,d+=R.y;break;case v:if(R.x>=0&&(x>=O||c&&(d<=F||S>=P))){I=!1;break}N(v),(k+=R.x)<0&&(u=g,l-=k=-k),c&&(C=k/c,d+=(o.height-C)/2);break;case b:if(R.y<=0&&(d<=F||c&&(l<=T||x>=O))){I=!1;break}N(b),C-=R.y,d+=R.y,C<0&&(u=y,d-=C=-C),c&&(k=C*c,l+=(o.width-k)/2);break;case g:if(R.x<=0&&(l<=T||c&&(d<=F||S>=P))){I=!1;break}N(g),k-=R.x,l+=R.x,k<0&&(u=v,l-=k=-k),c&&(C=k/c,d+=(o.height-C)/2);break;case y:if(R.y>=0&&(S>=P||c&&(l<=T||x>=O))){I=!1;break}N(y),(C+=R.y)<0&&(u=b,d-=C=-C),c&&(k=C*c,l+=(o.width-k)/2);break;case w:if(c){if(R.y<=0&&(d<=F||x>=O)){I=!1;break}N(b),C-=R.y,d+=R.y,k=C*c}else N(b),N(v),R.x>=0?x<O?k+=R.x:R.y<=0&&d<=F&&(I=!1):k+=R.x,R.y<=0?d>F&&(C-=R.y,d+=R.y):(C-=R.y,d+=R.y);k<0&&C<0?(u=E,d-=C=-C,l-=k=-k):k<0?(u=D,l-=k=-k):C<0&&(u=A,d-=C=-C);break;case D:if(c){if(R.y<=0&&(d<=F||l<=T)){I=!1;break}N(b),C-=R.y,d+=R.y,k=C*c,l+=o.width-k}else N(b),N(g),R.x<=0?l>T?(k-=R.x,l+=R.x):R.y<=0&&d<=F&&(I=!1):(k-=R.x,l+=R.x),R.y<=0?d>F&&(C-=R.y,d+=R.y):(C-=R.y,d+=R.y);k<0&&C<0?(u=A,d-=C=-C,l-=k=-k):k<0?(u=w,l-=k=-k):C<0&&(u=E,d-=C=-C);break;case E:if(c){if(R.x<=0&&(l<=T||S>=P)){I=!1;break}N(g),k-=R.x,l+=R.x,C=k/c}else N(y),N(g),R.x<=0?l>T?(k-=R.x,l+=R.x):R.y>=0&&S>=P&&(I=!1):(k-=R.x,l+=R.x),R.y>=0?S<P&&(C+=R.y):C+=R.y;k<0&&C<0?(u=w,d-=C=-C,l-=k=-k):k<0?(u=A,l-=k=-k):C<0&&(u=D,d-=C=-C);break;case A:if(c){if(R.x>=0&&(x>=O||S>=P)){I=!1;break}N(v),C=(k+=R.x)/c}else N(y),N(v),R.x>=0?x<O?k+=R.x:R.y>=0&&S>=P&&(I=!1):k+=R.x,R.y>=0?S<P&&(C+=R.y):C+=R.y;k<0&&C<0?(u=D,d-=C=-C,l-=k=-k):k<0?(u=E,l-=k=-k):C<0&&(u=w,d-=C=-C);break;case h:this.move(R.x,R.y),I=!1;break;case m:this.zoom(function(e){var t=i({},e),n=[];return le(e,(function(e,r){delete t[r],le(t,(function(t){var r=Math.abs(e.startX-t.startX),i=Math.abs(e.startY-t.startY),a=Math.abs(e.endX-t.endX),o=Math.abs(e.endY-t.endY),s=Math.sqrt(r*r+i*i),u=(Math.sqrt(a*a+o*o)-s)/s;n.push(u)}))})),n.sort((function(e,t){return Math.abs(e)<Math.abs(t)})),n[0]}(s),e),I=!1;break;case f:if(!R.x||!R.y){I=!1;break}t=Se(this.cropper),l=B.startX-t.left,d=B.startY-t.top,k=o.minWidth,C=o.minHeight,R.x>0?u=R.y>0?A:w:R.x<0&&(l-=k,u=R.y>0?E:D),R.y<0&&(d-=C),this.cropped||(ge(this.cropBox,_),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}I&&(o.width=k,o.height=C,o.left=l,o.top=d,this.action=u,this.renderCropBox()),le(s,(function(e){e.startX=e.endX,e.startY=e.endY}))}},He={crop:function(){return!this.ready||this.cropped||this.disabled||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&ve(this.dragBox,T),ge(this.cropBox,_),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=de({},this.initialImageData),this.canvasData=de({},this.initialCanvasData),this.cropBoxData=de({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(de(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),ge(this.dragBox,T),ve(this.cropBox,_)),this},replace:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!this.disabled&&e&&(this.isImg&&(this.element.src=e),t?(this.url=e,this.image.src=e,this.ready&&(this.viewBoxImage.src=e,le(this.previews,(function(t){t.getElementsByTagName("img")[0].src=e})))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(e))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,ge(this.cropper,C)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,ve(this.cropper,C)),this},destroy:function(){var e=this.element;return e[d]?(e[d]=void 0,this.isImg&&this.replaced&&(e.src=this.originalUrl),this.uncreate(),this):this},move:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=this.canvasData,r=n.left,i=n.top;return this.moveTo(re(e)?e:r+Number(e),re(t)?t:i+Number(t))},moveTo:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=this.canvasData,r=!1;return e=Number(e),t=Number(t),this.ready&&!this.disabled&&this.options.movable&&(te(e)&&(n.left=e,r=!0),te(t)&&(n.top=t,r=!0),r&&this.renderCanvas(!0)),this},zoom:function(e,t){var n=this.canvasData;return e=(e=Number(e))<0?1/(1-e):1+e,this.zoomTo(n.width*e/n.naturalWidth,null,t)},zoomTo:function(e,t,n){var r=this.options,i=this.canvasData,a=i.width,o=i.height,s=i.naturalWidth,u=i.naturalHeight;if((e=Number(e))>=0&&this.ready&&!this.disabled&&r.zoomable){var c=s*e,l=u*e;if(!1===xe(this.element,$,{ratio:e,oldRatio:a/s,originalEvent:n}))return this;if(n){var d=this.pointers,p=Se(this.cropper),f=d&&Object.keys(d).length?function(e){var t=0,n=0,r=0;return le(e,(function(e){var i=e.startX,a=e.startY;t+=i,n+=a,r+=1})),{pageX:t/=r,pageY:n/=r}}(d):{pageX:n.pageX,pageY:n.pageY};i.left-=(c-a)*((f.pageX-p.left-i.left)/a),i.top-=(l-o)*((f.pageY-p.top-i.top)/o)}else oe(t)&&te(t.x)&&te(t.y)?(i.left-=(c-a)*((t.x-i.left)/a),i.top-=(l-o)*((t.y-i.top)/o)):(i.left-=(c-a)/2,i.top-=(l-o)/2);i.width=c,i.height=l,this.renderCanvas(!0)}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e))},rotateTo:function(e){return te(e=Number(e))&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=e%360,this.renderCanvas(!0,!0)),this},scaleX:function(e){var t=this.imageData.scaleY;return this.scale(e,te(t)?t:1)},scaleY:function(e){var t=this.imageData.scaleX;return this.scale(te(t)?t:1,e)},scale:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=this.imageData,r=!1;return e=Number(e),t=Number(t),this.ready&&!this.disabled&&this.options.scalable&&(te(e)&&(n.scaleX=e,r=!0),te(t)&&(n.scaleY=t,r=!0),r&&this.renderCanvas(!0,!0)),this},getData:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.options,r=this.imageData,i=this.canvasData,a=this.cropBoxData;if(this.ready&&this.cropped){e={x:a.left-i.left,y:a.top-i.top,width:a.width,height:a.height};var o=r.width/r.naturalWidth;if(le(e,(function(t,n){e[n]=t/o})),t){var s=Math.round(e.y+e.height),u=Math.round(e.x+e.width);e.x=Math.round(e.x),e.y=Math.round(e.y),e.width=u-e.x,e.height=s-e.y}}else e={x:0,y:0,width:0,height:0};return n.rotatable&&(e.rotate=r.rotate||0),n.scalable&&(e.scaleX=r.scaleX||1,e.scaleY=r.scaleY||1),e},setData:function(e){var t=this.options,n=this.imageData,r=this.canvasData,i={};if(this.ready&&!this.disabled&&oe(e)){var a=!1;t.rotatable&&te(e.rotate)&&e.rotate!==n.rotate&&(n.rotate=e.rotate,a=!0),t.scalable&&(te(e.scaleX)&&e.scaleX!==n.scaleX&&(n.scaleX=e.scaleX,a=!0),te(e.scaleY)&&e.scaleY!==n.scaleY&&(n.scaleY=e.scaleY,a=!0)),a&&this.renderCanvas(!0,!0);var o=n.width/n.naturalWidth;te(e.x)&&(i.left=e.x*o+r.left),te(e.y)&&(i.top=e.y*o+r.top),te(e.width)&&(i.width=e.width*o),te(e.height)&&(i.height=e.height*o),this.setCropBoxData(i)}return this},getContainerData:function(){return this.ready?de({},this.containerData):{}},getImageData:function(){return this.sized?de({},this.imageData):{}},getCanvasData:function(){var e=this.canvasData,t={};return this.ready&&le(["left","top","width","height","naturalWidth","naturalHeight"],(function(n){t[n]=e[n]})),t},setCanvasData:function(e){var t=this.canvasData,n=t.aspectRatio;return this.ready&&!this.disabled&&oe(e)&&(te(e.left)&&(t.left=e.left),te(e.top)&&(t.top=e.top),te(e.width)?(t.width=e.width,t.height=e.width/n):te(e.height)&&(t.height=e.height,t.width=e.height*n),this.renderCanvas(!0)),this},getCropBoxData:function(){var e,t=this.cropBoxData;return this.ready&&this.cropped&&(e={left:t.left,top:t.top,width:t.width,height:t.height}),e||{}},setCropBoxData:function(e){var t,n,r=this.cropBoxData,i=this.options.aspectRatio;return this.ready&&this.cropped&&!this.disabled&&oe(e)&&(te(e.left)&&(r.left=e.left),te(e.top)&&(r.top=e.top),te(e.width)&&e.width!==r.width&&(t=!0,r.width=e.width),te(e.height)&&e.height!==r.height&&(n=!0,r.height=e.height),i&&(t?r.height=r.width/i:n&&(r.width=r.height*i)),this.renderCropBox()),this},getCroppedCanvas:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var t=this.canvasData,n=function(e,t,n,r){var i=t.aspectRatio,o=t.naturalWidth,s=t.naturalHeight,u=t.rotate,c=void 0===u?0:u,l=t.scaleX,d=void 0===l?1:l,p=t.scaleY,f=void 0===p?1:p,h=n.aspectRatio,m=n.naturalWidth,v=n.naturalHeight,g=r.fillColor,y=void 0===g?"transparent":g,b=r.imageSmoothingEnabled,w=void 0===b||b,D=r.imageSmoothingQuality,A=void 0===D?"low":D,E=r.maxWidth,k=void 0===E?1/0:E,C=r.maxHeight,_=void 0===C?1/0:C,x=r.minWidth,S=void 0===x?0:x,T=r.minHeight,F=void 0===T?0:T,O=document.createElement("canvas"),P=O.getContext("2d"),I=Re({aspectRatio:h,width:k,height:_}),B=Re({aspectRatio:h,width:S,height:F},"cover"),R=Math.min(I.width,Math.max(B.width,m)),N=Math.min(I.height,Math.max(B.height,v)),M=Re({aspectRatio:i,width:k,height:_}),L=Re({aspectRatio:i,width:S,height:F},"cover"),j=Math.min(M.width,Math.max(L.width,o)),U=Math.min(M.height,Math.max(L.height,s)),z=[-j/2,-U/2,j,U];return O.width=fe(R),O.height=fe(N),P.fillStyle=y,P.fillRect(0,0,R,N),P.save(),P.translate(R/2,N/2),P.rotate(c*Math.PI/180),P.scale(d,f),P.imageSmoothingEnabled=w,P.imageSmoothingQuality=A,P.drawImage.apply(P,[e].concat(a(z.map((function(e){return Math.floor(fe(e))}))))),P.restore(),O}(this.image,this.imageData,t,e);if(!this.cropped)return n;var r=this.getData(),i=r.x,o=r.y,s=r.width,u=r.height,c=n.width/Math.floor(t.naturalWidth);1!==c&&(i*=c,o*=c,s*=c,u*=c);var l=s/u,d=Re({aspectRatio:l,width:e.maxWidth||1/0,height:e.maxHeight||1/0}),p=Re({aspectRatio:l,width:e.minWidth||0,height:e.minHeight||0},"cover"),f=Re({aspectRatio:l,width:e.width||(1!==c?n.width:s),height:e.height||(1!==c?n.height:u)}),h=f.width,m=f.height;h=Math.min(d.width,Math.max(p.width,h)),m=Math.min(d.height,Math.max(p.height,m));var v=document.createElement("canvas"),g=v.getContext("2d");v.width=fe(h),v.height=fe(m),g.fillStyle=e.fillColor||"transparent",g.fillRect(0,0,h,m);var y=e.imageSmoothingEnabled,b=void 0===y||y,w=e.imageSmoothingQuality;g.imageSmoothingEnabled=b,w&&(g.imageSmoothingQuality=w);var D,A,E,k,C,_,x=n.width,S=n.height,T=i,F=o;T<=-s||T>x?(T=0,D=0,E=0,C=0):T<=0?(E=-T,T=0,C=D=Math.min(x,s+T)):T<=x&&(E=0,C=D=Math.min(s,x-T)),D<=0||F<=-u||F>S?(F=0,A=0,k=0,_=0):F<=0?(k=-F,F=0,_=A=Math.min(S,u+F)):F<=S&&(k=0,_=A=Math.min(u,S-F));var O=[T,F,D,A];if(C>0&&_>0){var P=h/s;O.push(E*P,k*P,C*P,_*P)}return g.drawImage.apply(g,[n].concat(a(O.map((function(e){return Math.floor(fe(e))}))))),v},setAspectRatio:function(e){var t=this.options;return this.disabled||re(e)||(t.aspectRatio=Math.max(0,e)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(e){var t=this.options,n=this.dragBox,r=this.face;if(this.ready&&!this.disabled){var i=e===I,a=t.movable&&e===B;e=i||a?e:R,t.dragMode=e,Ae(n,O,e),ye(n,k,i),ye(n,F,a),t.cropBoxMovable||(Ae(r,O,e),ye(r,k,i),ye(r,F,a))}return this}},We=u.Cropper,Ke=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t||!Z.test(t.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=t,this.options=de({},J,oe(n)&&n),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}var n,r,i;return n=e,i=[{key:"noConflict",value:function(){return window.Cropper=We,e}},{key:"setDefaults",value:function(e){de(J,oe(e)&&e)}}],(r=[{key:"init",value:function(){var e,t=this.element,n=t.tagName.toLowerCase();if(!t[d]){if(t[d]=this,"img"===n){if(this.isImg=!0,e=t.getAttribute("src")||"",this.originalUrl=e,!e)return;e=t.src}else"canvas"===n&&window.HTMLCanvasElement&&(e=t.toDataURL());this.load(e)}}},{key:"load",value:function(e){var t=this;if(e){this.url=e,this.imageData={};var n=this.element,r=this.options;if(r.rotatable||r.scalable||(r.checkOrientation=!1),r.checkOrientation&&window.ArrayBuffer)if(Y.test(e))X.test(e)?this.read((i=e.replace(Me,""),a=atob(i),o=new ArrayBuffer(a.length),le(s=new Uint8Array(o),(function(e,t){s[t]=a.charCodeAt(t)})),o)):this.clone();else{var i,a,o,s,u=new XMLHttpRequest,c=this.clone.bind(this);this.reloading=!0,this.xhr=u,u.onabort=c,u.onerror=c,u.ontimeout=c,u.onprogress=function(){u.getResponseHeader("content-type")!==G&&u.abort()},u.onload=function(){t.read(u.response)},u.onloadend=function(){t.reloading=!1,t.xhr=null},r.checkCrossOrigin&&Oe(e)&&n.crossOrigin&&(e=Pe(e)),u.open("GET",e),u.responseType="arraybuffer",u.withCredentials="use-credentials"===n.crossOrigin,u.send()}else this.clone()}}},{key:"read",value:function(e){var t=this.options,n=this.imageData,r=Le(e),i=0,a=1,o=1;if(r>1){this.url=function(e,t){for(var n=[],r=new Uint8Array(e);r.length>0;)n.push(Ne.apply(null,ce(r.subarray(0,8192)))),r=r.subarray(8192);return"data:".concat(t,";base64,").concat(btoa(n.join("")))}(e,G);var s=function(e){var t=0,n=1,r=1;switch(e){case 2:n=-1;break;case 3:t=-180;break;case 4:r=-1;break;case 5:t=90,r=-1;break;case 6:t=90;break;case 7:t=90,n=-1;break;case 8:t=-90}return{rotate:t,scaleX:n,scaleY:r}}(r);i=s.rotate,a=s.scaleX,o=s.scaleY}t.rotatable&&(n.rotate=i),t.scalable&&(n.scaleX=a,n.scaleY=o),this.clone()}},{key:"clone",value:function(){var e=this.element,t=this.url,n=e.crossOrigin,r=t;this.options.checkCrossOrigin&&Oe(t)&&(n||(n="anonymous"),r=Pe(t)),this.crossOrigin=n,this.crossOriginUrl=r;var i=document.createElement("img");n&&(i.crossOrigin=n),i.src=r||t,i.alt=e.alt||"The image to crop",this.image=i,i.onload=this.start.bind(this),i.onerror=this.stop.bind(this),ve(i,x),e.parentNode.insertBefore(i,e.nextSibling)}},{key:"start",value:function(){var e=this,t=this.image;t.onload=null,t.onerror=null,this.sizing=!0;var n=u.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(u.navigator.userAgent),r=function(t,n){de(e.imageData,{naturalWidth:t,naturalHeight:n,aspectRatio:t/n}),e.sizing=!1,e.sized=!0,e.build()};if(!t.naturalWidth||n){var i=document.createElement("img"),a=document.body||document.documentElement;this.sizingImage=i,i.onload=function(){r(i.width,i.height),n||a.removeChild(i)},i.src=t.src,n||(i.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",a.appendChild(i))}else r(t.naturalWidth,t.naturalHeight)}},{key:"stop",value:function(){var e=this.image;e.onload=null,e.onerror=null,e.parentNode.removeChild(e),this.image=null}},{key:"build",value:function(){if(this.sized&&!this.ready){var e=this.element,t=this.options,n=this.image,r=e.parentNode,i=document.createElement("div");i.innerHTML='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>';var a=i.querySelector(".".concat(d,"-container")),o=a.querySelector(".".concat(d,"-canvas")),s=a.querySelector(".".concat(d,"-drag-box")),u=a.querySelector(".".concat(d,"-crop-box")),c=u.querySelector(".".concat(d,"-face"));this.container=r,this.cropper=a,this.canvas=o,this.dragBox=s,this.cropBox=u,this.viewBox=a.querySelector(".".concat(d,"-view-box")),this.face=c,o.appendChild(n),ve(e,_),r.insertBefore(a,e.nextSibling),this.isImg||ge(n,x),this.initPreview(),this.bind(),t.initialAspectRatio=Math.max(0,t.initialAspectRatio)||NaN,t.aspectRatio=Math.max(0,t.aspectRatio)||NaN,t.viewMode=Math.max(0,Math.min(3,Math.round(t.viewMode)))||0,ve(u,_),t.guides||ve(u.getElementsByClassName("".concat(d,"-dashed")),_),t.center||ve(u.getElementsByClassName("".concat(d,"-center")),_),t.background&&ve(a,"".concat(d,"-bg")),t.highlight||ve(c,S),t.cropBoxMovable&&(ve(c,F),Ae(c,O,p)),t.cropBoxResizable||(ve(u.getElementsByClassName("".concat(d,"-line")),_),ve(u.getElementsByClassName("".concat(d,"-point")),_)),this.render(),this.ready=!0,this.setDragMode(t.dragMode),t.autoCrop&&this.crop(),this.setData(t.data),se(t.ready)&&_e(e,H,t.ready,{once:!0}),xe(e,H)}}},{key:"unbuild",value:function(){this.ready&&(this.ready=!1,this.unbind(),this.resetPreview(),this.cropper.parentNode.removeChild(this.cropper),ge(this.element,_))}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}])&&t(n.prototype,r),i&&t(n,i),e}();return de(Ke.prototype,je,Ue,ze,Ve,qe,He),Ke},"object"===o(t)?e.exports=a():void 0===(i="function"==typeof(r=a)?r.call(t,n,t,e):r)||(e.exports=i)},34527:(e,t,n)=>{"use strict";var r=n(43724),i=n(34376),a=TypeError,o=Object.getOwnPropertyDescriptor,s=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=s?function(e,t){if(i(e)&&!o(e,"length").writable)throw new a("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},34594:(e,t,n)=>{"use strict";n(15823)("Float32",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},34598:(e,t,n)=>{"use strict";var r=n(79039);e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){return 1},1)}))}},34782:(e,t,n)=>{"use strict";var r=n(46518),i=n(34376),a=n(33517),o=n(20034),s=n(35610),u=n(26198),c=n(25397),l=n(97040),d=n(78227),p=n(70597),f=n(67680),h=p("slice"),m=d("species"),v=Array,g=Math.max;r({target:"Array",proto:!0,forced:!h},{slice:function(e,t){var n,r,d,p=c(this),h=u(p),y=s(e,h),b=s(void 0===t?h:t,h);if(i(p)&&(n=p.constructor,(a(n)&&(n===v||i(n.prototype))||o(n)&&null===(n=n[m]))&&(n=void 0),n===v||void 0===n))return f(p,y,b);for(r=new(void 0===n?v:n)(g(b-y,0)),d=0;y<b;y++,d++)y in p&&l(r,d,p[y]);return r.length=d,r}})},35031:(e,t,n)=>{"use strict";var r=n(97751),i=n(79504),a=n(38480),o=n(33717),s=n(28551),u=i([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=a.f(s(e)),n=o.f;return n?u(t,n(e)):t}},35252:(e,t,n)=>{n(34782),n(27495),n(25440);var r=n(79876),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},35370:(e,t,n)=>{"use strict";var r=n(26198);e.exports=function(e,t,n){for(var i=0,a=arguments.length>2?n:r(t),o=new e(a);a>i;)o[i]=t[i++];return o}},35548:(e,t,n)=>{"use strict";var r=n(33517),i=n(16823),a=TypeError;e.exports=function(e){if(r(e))return e;throw new a(i(e)+" is not a constructor")}},35610:(e,t,n)=>{"use strict";var r=n(91291),i=Math.max,a=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):a(n,t)}},35701:(e,t,n)=>{"use strict";var r=n(46518),i=n(60533).end;r({target:"String",proto:!0,forced:n(83063)},{padEnd:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},35754:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});n(52675),n(25276);function r(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}},35917:(e,t,n)=>{"use strict";var r=n(43724),i=n(79039),a=n(4055);e.exports=!r&&!i((function(){return 7!==Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},36033:(e,t,n)=>{"use strict";n(48523)},36043:(e,t,n)=>{"use strict";var r=n(79306),i=TypeError,a=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw new i("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new a(e)}},36072:(e,t,n)=>{"use strict";var r=n(94644),i=n(80926).right,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduceRight",(function(e){var t=arguments.length;return i(a(this),e,t,t>1?arguments[1]:void 0)}))},36090:(e,t,n)=>{var r=n(46878),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,a,o,s){var u=1&n,c=r(e),l=c.length;if(l!=r(t).length&&!u)return!1;for(var d=l;d--;){var p=c[d];if(!(u?p in t:i.call(t,p)))return!1}var f=s.get(e),h=s.get(t);if(f&&h)return f==t&&h==e;var m=!0;s.set(e,t),s.set(t,e);for(var v=u;++d<l;){var g=e[p=c[d]],y=t[p];if(a)var b=u?a(y,g,p,t,e,s):a(g,y,p,e,t,s);if(!(void 0===b?g===y||o(g,y,n,a,s):b)){m=!1;break}v||(v="constructor"==p)}if(m&&!v){var w=e.constructor,D=t.constructor;w==D||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof D&&D instanceof D||(m=!1)}return s.delete(e),s.delete(t),m}},36118:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(e){for(var t;e&&!e.dir;)e=e.parentNode;return null==(t=e)?void 0:t.dir}},36389:(e,t,n)=>{"use strict";var r=n(46518),i=Math.atanh,a=Math.log;r({target:"Math",stat:!0,forced:!(i&&1/i(-0)<0)},{atanh:function(e){var t=+e;return 0===t?t:a((1+t)/(1-t))/2}})},36456:(e,t,n)=>{"use strict";var r=n(46518),i=n(79504),a=n(655),o=i("".charAt),s=i("".charCodeAt),u=i(/./.exec),c=i(1..toString),l=i("".toUpperCase),d=/[\w*+\-./@]/,p=function(e,t){for(var n=c(e,16);n.length<t;)n="0"+n;return n};r({global:!0},{escape:function(e){for(var t,n,r=a(e),i="",c=r.length,f=0;f<c;)t=o(r,f++),u(d,t)?i+=t:i+=(n=s(t,0))<256?"%"+p(n,2):"%u"+l(p(n,4));return i}})},36460:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},36480:(e,t,n)=>{"use strict";n.d(t,{FK:()=>k,Ob:()=>K,XX:()=>W,_3:()=>E,fF:()=>i,h:()=>D,uA:()=>C,v2:()=>I});var r,i,a,o,s,u,c,l,d,p,f,h=n(18180),m=(n(51629),n(25276),n(64346),n(23792),n(62062),n(44114),n(34782),n(15086),n(26910),n(94170),n(62010),n(26099),n(3362),n(27495),n(90906),n(31415),n(47764),n(25440),n(48718),n(98992),n(3949),n(81454),n(37550),n(23500),n(62953),n(76031),{}),v=[],g=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,y=Array.isArray;function b(e,t){for(var n in t)e[n]=t[n];return e}function w(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function D(e,t,n){var i,a,o,s={};for(o in t)"key"==o?i=t[o]:"ref"==o?a=t[o]:s[o]=t[o];if(arguments.length>2&&(s.children=arguments.length>3?r.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(o in e.defaultProps)null==s[o]&&(s[o]=e.defaultProps[o]);return A(e,s,i,a,null)}function A(e,t,n,r,o){var s={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:null==o?++a:o,__i:-1,__u:0};return null==o&&null!=i.vnode&&i.vnode(s),s}function E(){return{current:null}}function k(e){return e.children}function C(e,t){this.props=e,this.context=t}function _(e,t){if(null==t)return e.__?_(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?_(e):null}function x(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return x(e)}}function S(e){(!e.__d&&(e.__d=!0)&&o.push(e)&&!T.__r++||s!=i.debounceRendering)&&((s=i.debounceRendering)||u)(T)}function T(){for(var e,t,n,r,a,s,u,l=1;o.length;)o.length>l&&o.sort(c),e=o.shift(),l=o.length,e.__d&&(n=void 0,a=(r=(t=e).__v).__e,s=[],u=[],t.__P&&((n=b({},r)).__v=r.__v+1,i.vnode&&i.vnode(n),L(t.__P,n,r,t.__n,t.__P.namespaceURI,32&r.__u?[a]:null,s,null==a?_(r):a,!!(32&r.__u),u),n.__v=r.__v,n.__.__k[n.__i]=n,j(s,n,u),n.__e!=a&&x(n)));T.__r=0}function F(e,t,n,r,i,a,o,s,u,c,l){var d,p,f,h,g,y,b=r&&r.__k||v,w=t.length;for(u=O(n,t,b,u,w),d=0;d<w;d++)null!=(f=n.__k[d])&&(p=-1==f.__i?m:b[f.__i]||m,f.__i=d,y=L(e,f,p,i,a,o,s,u,c,l),h=f.__e,f.ref&&p.ref!=f.ref&&(p.ref&&V(p.ref,null,f),l.push(f.ref,f.__c||h,f)),null==g&&null!=h&&(g=h),4&f.__u||p.__k===f.__k?u=P(f,u,e):"function"==typeof f.type&&void 0!==y?u=y:h&&(u=h.nextSibling),f.__u&=-7);return n.__e=g,u}function O(e,t,n,r,i){var a,o,s,u,c,l=n.length,d=l,p=0;for(e.__k=new Array(i),a=0;a<i;a++)null!=(o=t[a])&&"boolean"!=typeof o&&"function"!=typeof o?(u=a+p,(o=e.__k[a]="string"==typeof o||"number"==typeof o||"bigint"==typeof o||o.constructor==String?A(null,o,null,null,null):y(o)?A(k,{children:o},null,null,null):null==o.constructor&&o.__b>0?A(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o).__=e,o.__b=e.__b+1,s=null,-1!=(c=o.__i=B(o,n,u,d))&&(d--,(s=n[c])&&(s.__u|=2)),null==s||null==s.__v?(-1==c&&(i>l?p--:i<l&&p++),"function"!=typeof o.type&&(o.__u|=4)):c!=u&&(c==u-1?p--:c==u+1?p++:(c>u?p--:p++,o.__u|=4))):e.__k[a]=null;if(d)for(a=0;a<l;a++)null!=(s=n[a])&&!(2&s.__u)&&(s.__e==r&&(r=_(s)),q(s,s));return r}function P(e,t,n){var r,i;if("function"==typeof e.type){for(r=e.__k,i=0;r&&i<r.length;i++)r[i]&&(r[i].__=e,t=P(r[i],t,n));return t}e.__e!=t&&(t&&e.type&&!n.contains(t)&&(t=_(e)),n.insertBefore(e.__e,t||null),t=e.__e);do{t=t&&t.nextSibling}while(null!=t&&8==t.nodeType);return t}function I(e,t){return t=t||[],null==e||"boolean"==typeof e||(y(e)?e.some((function(e){I(e,t)})):t.push(e)),t}function B(e,t,n,r){var i,a,o=e.key,s=e.type,u=t[n];if(null===u&&null==e.key||u&&o==u.key&&s==u.type&&!(2&u.__u))return n;if(r>(null==u||2&u.__u?0:1))for(i=n-1,a=n+1;i>=0||a<t.length;){if(i>=0){if((u=t[i])&&!(2&u.__u)&&o==u.key&&s==u.type)return i;i--}if(a<t.length){if((u=t[a])&&!(2&u.__u)&&o==u.key&&s==u.type)return a;a++}}return-1}function R(e,t,n){"-"==t[0]?e.setProperty(t,null==n?"":n):e[t]=null==n?"":"number"!=typeof n||g.test(t)?n:n+"px"}function N(e,t,n,r,i){var a;e:if("style"==t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||R(e.style,t,"");if(n)for(t in n)r&&n[t]==r[t]||R(e.style,t,n[t])}else if("o"==t[0]&&"n"==t[1])a=t!=(t=t.replace(l,"$1")),t=t.toLowerCase()in e||"onFocusOut"==t||"onFocusIn"==t?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+a]=n,n?r?n.u=r.u:(n.u=d,e.addEventListener(t,a?f:p,a)):e.removeEventListener(t,a?f:p,a);else{if("http://www.w3.org/2000/svg"==i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=t&&"height"!=t&&"href"!=t&&"list"!=t&&"form"!=t&&"tabIndex"!=t&&"download"!=t&&"rowSpan"!=t&&"colSpan"!=t&&"role"!=t&&"popover"!=t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null==n||!1===n&&"-"!=t[4]?e.removeAttribute(t):e.setAttribute(t,"popover"==t&&1==n?"":n))}}function M(e){return function(t){if(this.l){var n=this.l[t.type+e];if(null==t.t)t.t=d++;else if(t.t<n.u)return;return n(i.event?i.event(t):t)}}}function L(e,t,n,r,a,o,s,u,c,l){var d,p,f,h,m,v,g,D,A,E,_,x,S,T,O,P,I,B=t.type;if(null!=t.constructor)return null;128&n.__u&&(c=!!(32&n.__u),o=[u=t.__e=n.__e]),(d=i.__b)&&d(t);e:if("function"==typeof B)try{if(D=t.props,A="prototype"in B&&B.prototype.render,E=(d=B.contextType)&&r[d.__c],_=d?E?E.props.value:d.__:r,n.__c?g=(p=t.__c=n.__c).__=p.__E:(A?t.__c=p=new B(D,_):(t.__c=p=new C(D,_),p.constructor=B,p.render=H),E&&E.sub(p),p.props=D,p.state||(p.state={}),p.context=_,p.__n=r,f=p.__d=!0,p.__h=[],p._sb=[]),A&&null==p.__s&&(p.__s=p.state),A&&null!=B.getDerivedStateFromProps&&(p.__s==p.state&&(p.__s=b({},p.__s)),b(p.__s,B.getDerivedStateFromProps(D,p.__s))),h=p.props,m=p.state,p.__v=t,f)A&&null==B.getDerivedStateFromProps&&null!=p.componentWillMount&&p.componentWillMount(),A&&null!=p.componentDidMount&&p.__h.push(p.componentDidMount);else{if(A&&null==B.getDerivedStateFromProps&&D!==h&&null!=p.componentWillReceiveProps&&p.componentWillReceiveProps(D,_),!p.__e&&null!=p.shouldComponentUpdate&&!1===p.shouldComponentUpdate(D,p.__s,_)||t.__v==n.__v){for(t.__v!=n.__v&&(p.props=D,p.state=p.__s,p.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some((function(e){e&&(e.__=t)})),x=0;x<p._sb.length;x++)p.__h.push(p._sb[x]);p._sb=[],p.__h.length&&s.push(p);break e}null!=p.componentWillUpdate&&p.componentWillUpdate(D,p.__s,_),A&&null!=p.componentDidUpdate&&p.__h.push((function(){p.componentDidUpdate(h,m,v)}))}if(p.context=_,p.props=D,p.__P=e,p.__e=!1,S=i.__r,T=0,A){for(p.state=p.__s,p.__d=!1,S&&S(t),d=p.render(p.props,p.state,p.context),O=0;O<p._sb.length;O++)p.__h.push(p._sb[O]);p._sb=[]}else do{p.__d=!1,S&&S(t),d=p.render(p.props,p.state,p.context),p.state=p.__s}while(p.__d&&++T<25);p.state=p.__s,null!=p.getChildContext&&(r=b(b({},r),p.getChildContext())),A&&!f&&null!=p.getSnapshotBeforeUpdate&&(v=p.getSnapshotBeforeUpdate(h,m)),P=d,null!=d&&d.type===k&&null==d.key&&(P=U(d.props.children)),u=F(e,y(P)?P:[P],t,n,r,a,o,s,u,c,l),p.base=t.__e,t.__u&=-161,p.__h.length&&s.push(p),g&&(p.__E=p.__=null)}catch(e){if(t.__v=null,c||null!=o)if(e.then){for(t.__u|=c?160:128;u&&8==u.nodeType&&u.nextSibling;)u=u.nextSibling;o[o.indexOf(u)]=null,t.__e=u}else for(I=o.length;I--;)w(o[I]);else t.__e=n.__e,t.__k=n.__k;i.__e(e,t,n)}else null==o&&t.__v==n.__v?(t.__k=n.__k,t.__e=n.__e):u=t.__e=z(n.__e,t,n,r,a,o,s,c,l);return(d=i.diffed)&&d(t),128&t.__u?void 0:u}function j(e,t,n){for(var r=0;r<n.length;r++)V(n[r],n[++r],n[++r]);i.__c&&i.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){i.__e(e,t.__v)}}))}function U(e){return"object"!=(0,h.A)(e)||null==e||e.__b&&e.__b>0?e:y(e)?e.map(U):b({},e)}function z(e,t,n,a,o,s,u,c,l){var d,p,f,h,v,g,b,D=n.props,A=t.props,E=t.type;if("svg"==E?o="http://www.w3.org/2000/svg":"math"==E?o="http://www.w3.org/1998/Math/MathML":o||(o="http://www.w3.org/1999/xhtml"),null!=s)for(d=0;d<s.length;d++)if((v=s[d])&&"setAttribute"in v==!!E&&(E?v.localName==E:3==v.nodeType)){e=v,s[d]=null;break}if(null==e){if(null==E)return document.createTextNode(A);e=document.createElementNS(o,E,A.is&&A),c&&(i.__m&&i.__m(t,s),c=!1),s=null}if(null==E)D===A||c&&e.data==A||(e.data=A);else{if(s=s&&r.call(e.childNodes),D=n.props||m,!c&&null!=s)for(D={},d=0;d<e.attributes.length;d++)D[(v=e.attributes[d]).name]=v.value;for(d in D)if(v=D[d],"children"==d);else if("dangerouslySetInnerHTML"==d)f=v;else if(!(d in A)){if("value"==d&&"defaultValue"in A||"checked"==d&&"defaultChecked"in A)continue;N(e,d,null,v,o)}for(d in A)v=A[d],"children"==d?h=v:"dangerouslySetInnerHTML"==d?p=v:"value"==d?g=v:"checked"==d?b=v:c&&"function"!=typeof v||D[d]===v||N(e,d,v,D[d],o);if(p)c||f&&(p.__html==f.__html||p.__html==e.innerHTML)||(e.innerHTML=p.__html),t.__k=[];else if(f&&(e.innerHTML=""),F("template"==t.type?e.content:e,y(h)?h:[h],t,n,a,"foreignObject"==E?"http://www.w3.org/1999/xhtml":o,s,u,s?s[0]:n.__k&&_(n,0),c,l),null!=s)for(d=s.length;d--;)w(s[d]);c||(d="value","progress"==E&&null==g?e.removeAttribute("value"):null!=g&&(g!==e[d]||"progress"==E&&!g||"option"==E&&g!=D[d])&&N(e,d,g,D[d],o),d="checked",null!=b&&b!=e[d]&&N(e,d,b,D[d],o))}return e}function V(e,t,n){try{if("function"==typeof e){var r="function"==typeof e.__u;r&&e.__u(),r&&null==t||(e.__u=e(t))}else e.current=t}catch(e){i.__e(e,n)}}function q(e,t,n){var r,a;if(i.unmount&&i.unmount(e),(r=e.ref)&&(r.current&&r.current!=e.__e||V(r,null,t)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){i.__e(e,t)}r.base=r.__P=null}if(r=e.__k)for(a=0;a<r.length;a++)r[a]&&q(r[a],t,n||"function"!=typeof e.type);n||w(e.__e),e.__c=e.__=e.__e=void 0}function H(e,t,n){return this.constructor(e,n)}function W(e,t,n){var a,o,s,u;t==document&&(t=document.documentElement),i.__&&i.__(e,t),o=(a="function"==typeof n)?null:n&&n.__k||t.__k,s=[],u=[],L(t,e=(!a&&n||t).__k=D(k,null,[e]),o||m,m,t.namespaceURI,!a&&n?[n]:o?null:t.firstChild?r.call(t.childNodes):null,s,!a&&n?n:o?o.__e:t.firstChild,a,u),j(s,e,u)}function K(e,t,n){var i,a,o,s,u=b({},e.props);for(o in e.type&&e.type.defaultProps&&(s=e.type.defaultProps),t)"key"==o?i=t[o]:"ref"==o?a=t[o]:u[o]=null==t[o]&&null!=s?s[o]:t[o];return arguments.length>2&&(u.children=arguments.length>3?r.call(arguments,2):n),A(e.type,u,i||e.key,a||e.ref,null)}r=v.slice,i={__e:function(e,t,n,r){for(var i,a,o;t=t.__;)if((i=t.__c)&&!i.__)try{if((a=i.constructor)&&null!=a.getDerivedStateFromError&&(i.setState(a.getDerivedStateFromError(e)),o=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e,r||{}),o=i.__d),o)return i.__E=i}catch(t){e=t}throw e}},a=0,C.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!=this.state?this.__s:this.__s=b({},this.state),"function"==typeof e&&(e=e(b({},n),this.props)),e&&b(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),S(this))},C.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),S(this))},C.prototype.render=k,o=[],u="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,c=function(e,t){return e.__v.__b-t.__v.__b},T.__r=0,l=/(PointerCapture)$|Capture$/i,d=0,p=M(!1),f=M(!0)},36591:(e,t,n)=>{var r=n(15393)("length");e.exports=r},36795:(e,t,n)=>{var r=n(15393),i=n(77451),a=n(34022),o=n(13585);e.exports=function(e){return a(e)?r(o(e)):i(e)}},36840:(e,t,n)=>{"use strict";var r=n(94901),i=n(24913),a=n(50283),o=n(39433);e.exports=function(e,t,n,s){s||(s={});var u=s.enumerable,c=void 0!==s.name?s.name:t;if(r(n)&&a(n,c,s),s.global)u?e[t]=n:o(t,n);else{try{s.unsafe?e[t]&&(u=!0):delete e[t]}catch(e){}u?e[t]=n:i.f(e,t,{value:n,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return e}},36858:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});n(94170),n(40875),n(63548),n(10287);function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}},36955:(e,t,n)=>{"use strict";var r=n(92140),i=n(94901),a=n(22195),o=n(78227)("toStringTag"),s=Object,u="Arguments"===a(function(){return arguments}());e.exports=r?a:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=s(e),o))?n:u?a(t):"Object"===(r=a(t))&&i(t.callee)?"Arguments":r}},37057:(e,t,n)=>{"use strict";n(84185),n(27495),n(90906),n(25440),Object.defineProperty(t,"__esModule",{value:!0}),t.camelCase=void 0;var r=/^--[a-zA-Z0-9_-]+$/,i=/-([a-z])/g,a=/^[^-]+$/,o=/^-(webkit|moz|ms|o|khtml)-/,s=/^-(ms)-/,u=function(e,t){return t.toUpperCase()},c=function(e,t){return"".concat(t,"-")};t.camelCase=function(e,t){return void 0===t&&(t={}),function(e){return!e||a.test(e)||r.test(e)}(e)?e:(e=e.toLowerCase(),(e=t.reactCompat?e.replace(s,c):e.replace(o,c)).replace(i,u))}},37467:(e,t,n)=>{"use strict";var r=n(37628),i=n(94644),a=i.aTypedArray,o=i.exportTypedArrayMethod,s=i.getTypedArrayConstructor;o("toReversed",(function(){return r(a(this),s(this))}))},37540:(e,t,n)=>{n(16280),n(76918),n(18107),n(67357);var r=n(85192);n(1238),n(32807),(e.exports=r.hmac=r.hmac||{}).create=function(){var e=null,t=null,n=null,i=null,a={start:function(a,o){if(null!==a)if("string"==typeof a){if(!((a=a.toLowerCase())in r.md.algorithms))throw new Error('Unknown hash algorithm "'+a+'"');t=r.md.algorithms[a].create()}else t=a;if(null===o)o=e;else{if("string"==typeof o)o=r.util.createBuffer(o);else if(r.util.isArray(o)){var s=o;o=r.util.createBuffer();for(var u=0;u<s.length;++u)o.putByte(s[u])}var c=o.length();c>t.blockLength&&(t.start(),t.update(o.bytes()),o=t.digest()),n=r.util.createBuffer(),i=r.util.createBuffer(),c=o.length();for(u=0;u<c;++u){s=o.at(u);n.putByte(54^s),i.putByte(92^s)}if(c<t.blockLength)for(s=t.blockLength-c,u=0;u<s;++u)n.putByte(54),i.putByte(92);e=o,n=n.bytes(),i=i.bytes()}t.start(),t.update(n)},update:function(e){t.update(e)},getMac:function(){var e=t.digest().bytes();return t.start(),t.update(i),t.update(e),t.digest()}};return a.digest=a.getMac,a}},37550:(e,t,n)=>{"use strict";n(13579)},37628:(e,t,n)=>{"use strict";var r=n(26198);e.exports=function(e,t){for(var n=r(e),i=new t(n),a=0;a<n;a++)i[a]=e[n-a-1];return i}},38294:function(e,t,n){var r,i,a,o,s=n(89990);n(28706),o=function(e){var t,n,r,i,a,o,s;return n=(t=e).lib,r=n.Base,i=n.WordArray,a=t.algo,o=a.MD5,s=a.EvpKDF=r.extend({cfg:r.extend({keySize:4,hasher:o,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n,r=this.cfg,a=r.hasher.create(),o=i.create(),s=o.words,u=r.keySize,c=r.iterations;s.length<u;){n&&a.update(n),n=a.update(e).finalize(t),a.reset();for(var l=1;l<c;l++)n=a.finalize(n),a.reset();o.concat(n)}return o.sigBytes=4*u,o}}),t.EvpKDF=function(e,t,n){return s.create(n).compute(e,t)},e.EvpKDF},"object"===s(t)?e.exports=t=o(n(83841),n(44451),n(39773)):(i=[n(83841),n(44451),n(39773)],void 0===(a="function"==typeof(r=o)?r.apply(t,i):r)||(e.exports=a))},38309:(e,t,n)=>{"use strict";n(24359)},38469:(e,t,n)=>{"use strict";var r=n(79504),i=n(40507),a=n(94402),o=a.Set,s=a.proto,u=r(s.forEach),c=r(s.keys),l=c(new o).next;e.exports=function(e,t,n){return n?i({iterator:c(e),next:l},t):u(e,t)}},38480:(e,t,n)=>{"use strict";var r=n(61828),i=n(88727).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},38574:(e,t,n)=>{"use strict";var r=n(79504),i=Error,a=r("".replace),o=String(new i("zxcasd").stack),s=/\n\s*at [^:]*:[^\n]*/,u=s.test(o);e.exports=function(e,t){if(u&&"string"==typeof e&&!i.prepareStackTrace)for(;t--;)e=a(e,s,"");return e}},38781:(e,t,n)=>{"use strict";var r=n(10350).PROPER,i=n(36840),a=n(28551),o=n(655),s=n(79039),u=n(61034),c="toString",l=RegExp.prototype,d=l[c],p=s((function(){return"/a/b"!==d.call({source:"a",flags:"b"})})),f=r&&d.name!==c;(p||f)&&i(l,c,(function(){var e=a(this);return"/"+o(e.source)+"/"+o(u(e))}),{unsafe:!0})},38850:(e,t,n)=>{var r=n(89990);n(76918),n(23792),n(62062),n(44114),n(54554),n(23288),n(26099),n(84864),n(57465),n(27495),n(87745),n(90906),n(38781),n(25440),n(98992),n(81454),n(62953),n(13611);var i="__lodash_hash_undefined__",a=9007199254740991,o=/^\[object .+?Constructor\]$/,s="object"==(void 0===n.g?"undefined":r(n.g))&&n.g&&n.g.Object===Object&&n.g,u="object"==("undefined"==typeof self?"undefined":r(self))&&self&&self.Object===Object&&self,c=s||u||Function("return this")();function l(e,t){return!!(e?e.length:0)&&function(e,t,n){if(t!=t)return function(e,t,n,r){var i=e.length,a=n+(r?1:-1);for(;r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}(e,p,n);var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,0)>-1}function d(e,t,n){for(var r=-1,i=e?e.length:0;++r<i;)if(n(t,e[r]))return!0;return!1}function p(e){return e!=e}function f(e,t){return e.has(t)}var h,m=Array.prototype,v=Function.prototype,g=Object.prototype,y=c["__core-js_shared__"],b=(h=/[^.]+$/.exec(y&&y.keys&&y.keys.IE_PROTO||""))?"Symbol(src)_1."+h:"",w=v.toString,D=g.hasOwnProperty,A=g.toString,E=RegExp("^"+w.call(D).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),k=m.splice,C=Math.max,_=N(c,"Map"),x=N(Object,"create");function S(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function T(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function F(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function O(e){var t=-1,n=e?e.length:0;for(this.__data__=new F;++t<n;)this.add(e[t])}function P(e,t){for(var n,r,i=e.length;i--;)if((n=e[i][0])===(r=t)||n!=n&&r!=r)return i;return-1}function I(e,t,n,r){var i,a=-1,o=l,s=!0,u=e.length,c=[],p=t.length;if(!u)return c;n&&(t=function(e,t){for(var n=-1,r=e?e.length:0,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}(t,(i=n,function(e){return i(e)}))),r?(o=d,s=!1):t.length>=200&&(o=f,s=!1,t=new O(t));e:for(;++a<u;){var h=e[a],m=n?n(h):h;if(h=r||0!==h?h:0,s&&m==m){for(var v=p;v--;)if(t[v]===m)continue e;c.push(h)}else o(t,m,r)||c.push(h)}return c}function B(e){if(!z(e)||(t=e,b&&b in t))return!1;var t,n=U(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?E:o;return n.test(function(e){if(null!=e){try{return w.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}function R(e,t){var n=e.__data__;return function(e){var t=r(e);return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function N(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return B(n)?n:void 0}S.prototype.clear=function(){this.__data__=x?x(null):{}},S.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},S.prototype.get=function(e){var t=this.__data__;if(x){var n=t[e];return n===i?void 0:n}return D.call(t,e)?t[e]:void 0},S.prototype.has=function(e){var t=this.__data__;return x?void 0!==t[e]:D.call(t,e)},S.prototype.set=function(e,t){return this.__data__[e]=x&&void 0===t?i:t,this},T.prototype.clear=function(){this.__data__=[]},T.prototype.delete=function(e){var t=this.__data__,n=P(t,e);return!(n<0)&&(n==t.length-1?t.pop():k.call(t,n,1),!0)},T.prototype.get=function(e){var t=this.__data__,n=P(t,e);return n<0?void 0:t[n][1]},T.prototype.has=function(e){return P(this.__data__,e)>-1},T.prototype.set=function(e,t){var n=this.__data__,r=P(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},F.prototype.clear=function(){this.__data__={"hash":new S,"map":new(_||T),"string":new S}},F.prototype.delete=function(e){return R(this,e).delete(e)},F.prototype.get=function(e){return R(this,e).get(e)},F.prototype.has=function(e){return R(this,e).has(e)},F.prototype.set=function(e,t){return R(this,e).set(e,t),this},O.prototype.add=O.prototype.push=function(e){return this.__data__.set(e,i),this},O.prototype.has=function(e){return this.__data__.has(e)};var M,L,j=(M=function(e,t){return function(e){return!!e&&"object"==r(e)}(n=e)&&function(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=a}(e.length)&&!U(e)}(n)?I(e,t):[];var n},L=C(void 0===L?M.length-1:L,0),function(){for(var e=arguments,t=-1,n=C(e.length-L,0),r=Array(n);++t<n;)r[t]=e[L+t];t=-1;for(var i=Array(L+1);++t<L;)i[t]=e[t];return i[L]=r,function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(M,this,i)});function U(e){var t=z(e)?A.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}function z(e){var t=r(e);return!!e&&("object"==t||"function"==t)}e.exports=j},39202:(e,t,n)=>{"use strict";n(33313);var r=n(46518),i=n(18866);r({target:"String",proto:!0,name:"trimEnd",forced:"".trimEnd!==i},{trimEnd:i})},39297:(e,t,n)=>{"use strict";var r=n(79504),i=n(48981),a=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return a(i(e),t)}},39433:(e,t,n)=>{"use strict";var r=n(44576),i=Object.defineProperty;e.exports=function(e,t){try{i(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},39469:(e,t,n)=>{"use strict";var r=n(46518),i=Math.hypot,a=Math.abs,o=Math.sqrt;r({target:"Math",stat:!0,arity:2,forced:!!i&&i(1/0,NaN)!==1/0},{hypot:function(e,t){for(var n,r,i=0,s=0,u=arguments.length,c=0;s<u;)c<(n=a(arguments[s++]))?(i=i*(r=c/n)*r+1,c=n):i+=n>0?(r=n/c)*r:n;return c===1/0?1/0:c*o(i)}})},39519:(e,t,n)=>{"use strict";var r,i,a=n(44576),o=n(82839),s=a.process,u=a.Deno,c=s&&s.versions||u&&u.version,l=c&&c.v8;l&&(i=(r=l.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&o&&(!(r=o.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=o.match(/Chrome\/(\d+)/))&&(i=+r[1]),e.exports=i},39617:(e,t,n)=>{n(51629),n(26099),n(98992),n(3949),n(23500),e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},39760:(e,t,n)=>{n(16280),n(76918),n(62010);var r=n(85192);n(32807),e.exports=r.cipher=r.cipher||{},r.cipher.algorithms=r.cipher.algorithms||{},r.cipher.createCipher=function(e,t){var n=e;if("string"==typeof n&&(n=r.cipher.getAlgorithm(n))&&(n=n()),!n)throw new Error("Unsupported algorithm: "+e);return new r.cipher.BlockCipher({algorithm:n,key:t,decrypt:!1})},r.cipher.createDecipher=function(e,t){var n=e;if("string"==typeof n&&(n=r.cipher.getAlgorithm(n))&&(n=n()),!n)throw new Error("Unsupported algorithm: "+e);return new r.cipher.BlockCipher({algorithm:n,key:t,decrypt:!0})},r.cipher.registerAlgorithm=function(e,t){e=e.toUpperCase(),r.cipher.algorithms[e]=t},r.cipher.getAlgorithm=function(e){return(e=e.toUpperCase())in r.cipher.algorithms?r.cipher.algorithms[e]:null};var i=r.cipher.BlockCipher=function(e){this.algorithm=e.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=e.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=e.decrypt,this.algorithm.initialize(e)};i.prototype.start=function(e){e=e||{};var t={};for(var n in e)t[n]=e[n];t.decrypt=this._decrypt,this._finish=!1,this._input=r.util.createBuffer(),this.output=e.output||r.util.createBuffer(),this.mode.start(t)},i.prototype.update=function(e){for(e&&this._input.putBuffer(e);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()},i.prototype.finish=function(e){!e||"ECB"!==this.mode.name&&"CBC"!==this.mode.name||(this.mode.pad=function(t){return e(this.blockSize,t,!1)},this.mode.unpad=function(t){return e(this.blockSize,t,!0)});var t={};return t.decrypt=this._decrypt,t.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,t))&&(this._finish=!0,this.update(),!(this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,t))&&!(this.mode.afterFinish&&!this.mode.afterFinish(this.output,t)))}},39773:function(e,t,n){var r,i,a,o,s=n(89990);n(28706),o=function(e){var t,n,r;n=(t=e).lib.Base,r=t.enc.Utf8,t.algo.HMAC=n.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=r.parse(t));var n=e.blockSize,i=4*n;t.sigBytes>i&&(t=e.finalize(t)),t.clamp();for(var a=this._oKey=t.clone(),o=this._iKey=t.clone(),s=a.words,u=o.words,c=0;c<n;c++)s[c]^=1549556828,u[c]^=909522486;a.sigBytes=o.sigBytes=i,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}})},"object"===s(t)?e.exports=t=o(n(83841)):(i=[n(83841)],void 0===(a="function"==typeof(r=o)?r.apply(t,i):r)||(e.exports=a))},39887:e=>{e.exports=function(e){return this.__data__.has(e)}},39928:(e,t,n)=>{"use strict";var r=n(26198),i=n(91291),a=RangeError;e.exports=function(e,t,n,o){var s=r(e),u=i(n),c=u<0?s+u:u;if(c>=s||c<0)throw new a("Incorrect index");for(var l=new t(s),d=0;d<s;d++)l[d]=d===c?o:e[d];return l}},40112:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});n(76918),n(23418),n(34782),n(23288),n(62010),n(26099),n(27495),n(90906),n(38781),n(47764);var r=n(33825);function i(e,t){if(e){if("string"==typeof e)return(0,r.A)(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.A)(e,t):void 0}}},40150:(e,t,n)=>{"use strict";n(46518)({target:"Number",stat:!0},{isNaN:function(e){return e!=e}})},40178:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(70058);function i(e){return new r.A(e,0)}},40280:(e,t,n)=>{"use strict";var r=n(46518),i=n(97751),a=n(96395),o=n(80550),s=n(10916).CONSTRUCTOR,u=n(93438),c=i("Promise"),l=a&&!s;r({target:"Promise",stat:!0,forced:a||s},{resolve:function(e){return u(l&&this===c?o:this,e)}})},40504:(e,t,n)=>{"use strict";n(84185),Object.defineProperty(t,"__esModule",{value:!0});var r=n(16973),i=function(){function e(e){this.target=e,this.$$broadcastWidth=this.$$broadcastHeight=0}return Object.defineProperty(e.prototype,"broadcastWidth",{get:function(){return this.$$broadcastWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"broadcastHeight",{get:function(){return this.$$broadcastHeight},enumerable:!0,configurable:!0}),e.prototype.isActive=function(){var e=r.ContentRect(this.target);return!!e&&(e.width!==this.broadcastWidth||e.height!==this.broadcastHeight)},e}();t.ResizeObservation=i},40507:(e,t,n)=>{"use strict";var r=n(69565);e.exports=function(e,t,n){for(var i,a,o=n?e:e.iterator,s=e.next;!(i=r(s,o)).done;)if(void 0!==(a=t(i.value)))return a}},40616:(e,t,n)=>{"use strict";var r=n(79039);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},40824:function(e,t,n){var r,i,a,o,s=n(89990);o=function(e){return e.pad.NoPadding={pad:function(){},unpad:function(){}},e.pad.NoPadding},"object"===s(t)?e.exports=t=o(n(83841),n(76793)):(i=[n(83841),n(76793)],void 0===(a="function"==typeof(r=o)?r.apply(t,i):r)||(e.exports=a))},40875:(e,t,n)=>{"use strict";var r=n(46518),i=n(79039),a=n(48981),o=n(42787),s=n(12211);r({target:"Object",stat:!0,forced:i((function(){o(1)})),sham:!s},{getPrototypeOf:function(e){return o(a(e))}})},40888:(e,t,n)=>{"use strict";var r=n(46518),i=n(69565),a=n(20034),o=n(28551),s=n(16575),u=n(77347),c=n(42787);r({target:"Reflect",stat:!0},{get:function e(t,n){var r,l,d=arguments.length<3?t:arguments[2];return o(t)===d?t[n]:(r=u.f(t,n))?s(r)?r.value:void 0===r.get?void 0:i(r.get,d):a(l=c(t))?e(l,n,d):void 0}})},41220:(e,t,n)=>{"use strict";var r=n(89990);n(16280),n(76918),n(28706),n(84185),n(27495),n(90906),n(71761),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n,r=(e=(0,i.escapeSpecialCharacters)(e)).match(u),f=r&&r[1]?r[1].toLowerCase():"";switch(f){case a:var h=p(e);if(!c.test(e))null===(t=null==(g=h.querySelector(o))?void 0:g.parentNode)||void 0===t||t.removeChild(g);if(!l.test(e))null===(n=null==(g=h.querySelector(s))?void 0:g.parentNode)||void 0===n||n.removeChild(g);return h.querySelectorAll(a);case o:case s:var m=d(e).querySelectorAll(f);return l.test(e)&&c.test(e)?m[0].parentNode.childNodes:m;default:return v?v(e):(g=d(e,s).querySelector(s)).childNodes;var g}};var i=n(8247),a="html",o="head",s="body",u=/<([a-zA-Z]+[0-9]?)/,c=/<head[^]*>/i,l=/<body[^]*>/i,d=function(e,t){throw new Error("This browser does not support `document.implementation.createHTMLDocument`")},p=function(e,t){throw new Error("This browser does not support `DOMParser.prototype.parseFromString`")},f="object"===("undefined"==typeof window?"undefined":r(window))&&window.DOMParser;if("function"==typeof f){var h=new f;d=p=function(e,t){return t&&(e="<".concat(t,">").concat(e,"</").concat(t,">")),h.parseFromString(e,"text/html")}}if("object"===("undefined"==typeof document?"undefined":r(document))&&document.implementation){var m=document.implementation.createHTMLDocument();d=function(e,t){if(t){var n=m.documentElement.querySelector(t);return n&&(n.innerHTML=e),m}return m.documentElement.innerHTML=e,m}}var v,g="object"===("undefined"==typeof document?"undefined":r(document))&&document.createElement("template");g&&g.content&&(v=function(e){return g.innerHTML=e,g.content.childNodes})},41329:(e,t,n)=>{var r=n(3509),i=n(8062),a=[n(23841)];e.exports=r.createStore(i,a)},41405:(e,t,n)=>{"use strict";var r=n(44576),i=n(18745),a=n(94644),o=n(79039),s=n(67680),u=r.Int8Array,c=a.aTypedArray,l=a.exportTypedArrayMethod,d=[].toLocaleString,p=!!u&&o((function(){d.call(new u(1))}));l("toLocaleString",(function(){return i(d,p?s(c(this)):c(this),s(arguments))}),o((function(){return[1,2].toLocaleString()!==new u([1,2]).toLocaleString()}))||!o((function(){u.prototype.toLocaleString.call([1,2])})))},41436:(e,t,n)=>{"use strict";var r=n(78227)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(e){}}return!1}},41612:function(e,t,n){var r,i,a,o,s=n(89990);n(23792),n(54743),n(11745),n(38309),n(26099),n(34594),n(29833),n(46594),n(72107),n(95477),n(21489),n(22134),n(3690),n(61740),n(48140),n(81630),n(72170),n(75044),n(69539),n(31694),n(89955),n(21903),n(91134),n(33206),n(44496),n(66651),n(12887),n(19369),n(66812),n(8995),n(31575),n(36072),n(88747),n(28845),n(29423),n(57301),n(373),n(86614),n(41405),n(33684),n(43250),n(10149),n(24082),o=function(e){return function(){if("function"==typeof ArrayBuffer){var t=e.lib.WordArray,n=t.init,r=t.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var t=e.byteLength,r=[],i=0;i<t;i++)r[i>>>2]|=e[i]<<24-i%4*8;n.call(this,r,t)}else n.apply(this,arguments)};r.prototype=t}}(),e.lib.WordArray},"object"===s(t)?e.exports=t=o(n(83841)):(i=[n(83841)],void 0===(a="function"==typeof(r=o)?r.apply(t,i):r)||(e.exports=a))},41684:(e,t,n)=>{n(44114);var r=n(74307),i=n(24294),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))a.call(e,n)&&"constructor"!=n&&t.push(n);return t}},41795:(e,t,n)=>{"use strict";n(61806)},42184:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});n(60825);function r(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(r=function(){return!!e})()}},42207:(e,t,n)=>{"use strict";var r=n(46518),i=n(44576),a=n(97751),o=n(79504),s=n(69565),u=n(79039),c=n(655),l=n(22812),d=n(92804).i2c,p=a("btoa"),f=o("".charAt),h=o("".charCodeAt),m=!!p&&!u((function(){return"aGk="!==p("hi")})),v=m&&!u((function(){p()})),g=m&&u((function(){return"bnVsbA=="!==p(null)})),y=m&&1!==p.length;r({global:!0,bind:!0,enumerable:!0,forced:!m||v||g||y},{btoa:function(e){if(l(arguments.length,1),m)return s(p,i,c(e));for(var t,n,r=c(e),o="",u=0,v=d;f(r,u)||(v="=",u%1);){if((n=h(r,u+=3/4))>255)throw new(a("DOMException"))("The string contains characters outside of the Latin1 range","InvalidCharacterError");o+=f(v,63&(t=t<<8|n)>>8-u%1*8)}return o}})},42379:(e,t,n)=>{var r=n(86090),i=n(16268),a=n(45855),o=n(19747),s=n(53435);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=o,u.prototype.set=s,e.exports=u},42551:(e,t,n)=>{"use strict";var r=n(96395),i=n(44576),a=n(79039),o=n(3607);e.exports=r||!a((function(){if(!(o&&o<535)){var e=Math.random();__defineSetter__.call(null,e,(function(){})),delete i[e]}}))},42631:(e,t,n)=>{n(76918),n(23288),n(26099),n(38781);var r=n(46133),i=Object.prototype,a=i.hasOwnProperty,o=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=a.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var i=o.call(e);return r&&(t?e[s]=n:delete e[s]),i}},42762:(e,t,n)=>{"use strict";var r=n(46518),i=n(43802).trim;r({target:"String",proto:!0,forced:n(60706)("trim")},{trim:function(){return i(this)}})},42781:(e,t,n)=>{"use strict";n(46518)({target:"String",proto:!0},{repeat:n(72333)})},42785:(e,t,n)=>{var r=n(89990);n(13611);var i=n(47436),a="object"==("undefined"==typeof self?"undefined":r(self))&&self&&self.Object===Object&&self,o=i||a||Function("return this")();e.exports=o},42787:(e,t,n)=>{"use strict";var r=n(39297),i=n(94901),a=n(48981),o=n(66119),s=n(12211),u=o("IE_PROTO"),c=Object,l=c.prototype;e.exports=s?c.getPrototypeOf:function(e){var t=a(e);if(r(t,u))return t[u];var n=t.constructor;return i(n)&&t instanceof n?n.prototype:t instanceof c?l:null}},43140:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},43146:(e,t,n)=>{n(34782),n(58940),n(27495),n(90906);var r=n(35252),i=n(67873),a=n(78766),o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(a(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||u.test(e)?c(e.slice(2),n?2:8):o.test(e)?NaN:+e}},43250:(e,t,n)=>{"use strict";n(37467)},43251:(e,t,n)=>{"use strict";var r=n(76080),i=n(69565),a=n(35548),o=n(48981),s=n(26198),u=n(70081),c=n(50851),l=n(44209),d=n(18727),p=n(94644).aTypedArrayConstructor,f=n(75854);e.exports=function(e){var t,n,h,m,v,g,y,b,w=a(this),D=o(e),A=arguments.length,E=A>1?arguments[1]:void 0,k=void 0!==E,C=c(D);if(C&&!l(C))for(b=(y=u(D,C)).next,D=[];!(g=i(b,y)).done;)D.push(g.value);for(k&&A>2&&(E=r(E,arguments[2])),n=s(D),h=new(p(w))(n),m=d(h),t=0;n>t;t++)v=k?E(D[t],t):D[t],h[t]=m?f(v):+v;return h}},43268:(e,t,n)=>{"use strict";n(45281)},43359:(e,t,n)=>{"use strict";n(58934);var r=n(46518),i=n(53487);r({target:"String",proto:!0,name:"trimStart",forced:"".trimStart!==i},{trimStart:i})},43724:(e,t,n)=>{"use strict";var r=n(79039);e.exports=!r((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},43802:(e,t,n)=>{"use strict";var r=n(79504),i=n(67750),a=n(655),o=n(47452),s=r("".replace),u=RegExp("^["+o+"]+"),c=RegExp("(^|[^"+o+"])["+o+"]+$"),l=function(e){return function(t){var n=a(i(t));return 1&e&&(n=s(n,u,"")),2&e&&(n=s(n,c,"$1")),n}};e.exports={start:l(1),end:l(2),trim:l(3)}},43839:(e,t,n)=>{"use strict";var r=n(76080),i=n(47055),a=n(48981),o=n(26198),s=function(e){var t=1===e;return function(n,s,u){for(var c,l=a(n),d=i(l),p=o(d),f=r(s,u);p-- >0;)if(f(c=d[p],p,l))switch(e){case 0:return c;case 1:return p}return t?-1:void 0}};e.exports={findLast:s(0),findLastIndex:s(1)}},43903:(e,t,n)=>{n(16280),n(76918),e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},43964:(e,t,n)=>{var r=n(20905),i=n(74946);e.exports=function(e,t){var n=-1,a=i(e)?Array(e.length):[];return r(e,(function(e,r,i){a[++n]=t(e,r,i)})),a}},44114:(e,t,n)=>{"use strict";var r=n(46518),i=n(48981),a=n(26198),o=n(34527),s=n(96837);r({target:"Array",proto:!0,arity:1,forced:n(79039)((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}}()},{push:function(e){var t=i(this),n=a(t),r=arguments.length;s(n+r);for(var u=0;u<r;u++)t[n]=arguments[u],n++;return o(t,n),n}})},44209:(e,t,n)=>{"use strict";var r=n(78227),i=n(26269),a=r("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||o[a]===e)}},44213:(e,t,n)=>{"use strict";var r=n(43724),i=n(79504),a=n(69565),o=n(79039),s=n(71072),u=n(33717),c=n(48773),l=n(48981),d=n(47055),p=Object.assign,f=Object.defineProperty,h=i([].concat);e.exports=!p||o((function(){if(r&&1!==p({b:1},p(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol("assign detection"),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach((function(e){t[e]=e})),7!==p({},e)[n]||s(p({},t)).join("")!==i}))?function(e,t){for(var n=l(e),i=arguments.length,o=1,p=u.f,f=c.f;i>o;)for(var m,v=d(arguments[o++]),g=p?h(s(v),p(v)):s(v),y=g.length,b=0;y>b;)m=g[b++],r&&!a(f,v,m)||(n[m]=v[m]);return n}:p},44265:(e,t,n)=>{"use strict";var r=n(82839);e.exports=/ipad|iphone|ipod/i.test(r)&&"undefined"!=typeof Pebble},44435:(e,t,n)=>{"use strict";n(46518)({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MIN_SAFE_INTEGER:-9007199254740991})},44448:(e,t,n)=>{var r=n(67873);e.exports=function(e){return e==e&&!r(e)}},44451:function(e,t,n){var r,i,a,o,s=n(89990);o=function(e){var t,n,r,i,a,o,s;return n=(t=e).lib,r=n.WordArray,i=n.Hasher,a=t.algo,o=[],s=a.SHA1=i.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],a=n[2],s=n[3],u=n[4],c=0;c<80;c++){if(c<16)o[c]=0|e[t+c];else{var l=o[c-3]^o[c-8]^o[c-14]^o[c-16];o[c]=l<<1|l>>>31}var d=(r<<5|r>>>27)+u+o[c];d+=c<20?1518500249+(i&a|~i&s):c<40?1859775393+(i^a^s):c<60?(i&a|i&s|a&s)-1894007588:(i^a^s)-899497514,u=s,s=a,a=i<<30|i>>>2,i=r,r=d}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+a|0,n[3]=n[3]+s|0,n[4]=n[4]+u|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=Math.floor(n/4294967296),t[15+(r+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}}),t.SHA1=i._createHelper(s),t.HmacSHA1=i._createHmacHelper(s),e.SHA1},"object"===s(t)?e.exports=t=o(n(83841)):(i=[n(83841)],void 0===(a="function"==typeof(r=o)?r.apply(t,i):r)||(e.exports=a))},44496:(e,t,n)=>{"use strict";var r=n(94644),i=n(19617).includes,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("includes",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},44576:function(e,t,n){"use strict";var r=function(e){return e&&e.Math===Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||r("object"==typeof this&&this)||function(){return this}()||Function("return this")()},44732:(e,t,n)=>{"use strict";var r=n(94644),i=n(79504),a=n(79306),o=n(35370),s=r.aTypedArray,u=r.getTypedArrayConstructor,c=r.exportTypedArrayMethod,l=i(r.TypedArrayPrototype.sort);c("toSorted",(function(e){void 0!==e&&a(e);var t=s(this),n=o(u(t),t);return l(n,e)}))},45121:(e,t,n)=>{var r=n(86836),i=n(92554),a=n(286),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return a(e)&&i(e.length)&&!!o[r(e)]}},45281:(e,t,n)=>{"use strict";n(29908);var r=n(55384);var i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=r.useState,o=r.useEffect,s=r.useLayoutEffect,u=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(e){return!0}}var l="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return s((function(){i.value=n,i.getSnapshot=t,c(i)&&l({inst:i})}),[e,n,t]),o((function(){return c(i)&&l({inst:i}),e((function(){c(i)&&l({inst:i})}))}),[e]),u(n),n};void 0!==r.useSyncExternalStore&&r.useSyncExternalStore},45353:(e,t,n)=>{n(54743),n(11745),n(38309),n(26099);var r=n(65248),i=n(98235),a=n(79168),o=n(48373),s=n(95451),u=n(86836),c=n(34261),l="[object Map]",d="[object Promise]",p="[object Set]",f="[object WeakMap]",h="[object DataView]",m=c(r),v=c(i),g=c(a),y=c(o),b=c(s),w=u;(r&&w(new r(new ArrayBuffer(1)))!=h||i&&w(new i)!=l||a&&w(a.resolve())!=d||o&&w(new o)!=p||s&&w(new s)!=f)&&(w=function(e){var t=u(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case m:return h;case v:return l;case g:return d;case y:return p;case b:return f}return t}),e.exports=w},45700:(e,t,n)=>{"use strict";var r=n(70511),i=n(58242);r("toPrimitive"),i()},45806:(e,t,n)=>{"use strict";n(47764);var r,i=n(46518),a=n(43724),o=n(67416),s=n(44576),u=n(76080),c=n(79504),l=n(36840),d=n(62106),p=n(90679),f=n(39297),h=n(44213),m=n(97916),v=n(67680),g=n(68183).codeAt,y=n(3717),b=n(655),w=n(10687),D=n(22812),A=n(98406),E=n(91181),k=E.set,C=E.getterFor("URL"),_=A.URLSearchParams,x=A.getState,S=s.URL,T=s.TypeError,F=s.parseInt,O=Math.floor,P=Math.pow,I=c("".charAt),B=c(/./.exec),R=c([].join),N=c(1..toString),M=c([].pop),L=c([].push),j=c("".replace),U=c([].shift),z=c("".split),V=c("".slice),q=c("".toLowerCase),H=c([].unshift),W="Invalid scheme",K="Invalid host",$="Invalid port",G=/[a-z]/i,Q=/[\d+-.a-z]/i,Y=/\d/,X=/^0x/i,Z=/^[0-7]+$/,J=/^\d+$/,ee=/^[\da-f]+$/i,te=/[\0\t\n\r #%/:<>?@[\\\]^|]/,ne=/[\0\t\n\r #/:<>?@[\\\]^|]/,re=/^[\u0000-\u0020]+/,ie=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,ae=/[\t\n\r]/g,oe=function(e){var t,n,r,i;if("number"==typeof e){for(t=[],n=0;n<4;n++)H(t,e%256),e=O(e/256);return R(t,".")}if("object"==typeof e){for(t="",r=function(e){for(var t=null,n=1,r=null,i=0,a=0;a<8;a++)0!==e[a]?(i>n&&(t=r,n=i),r=null,i=0):(null===r&&(r=a),++i);return i>n?r:t}(e),n=0;n<8;n++)i&&0===e[n]||(i&&(i=!1),r===n?(t+=n?":":"::",i=!0):(t+=N(e[n],16),n<7&&(t+=":")));return"["+t+"]"}return e},se={},ue=h({},se,{" ":1,'"':1,"<":1,">":1,"`":1}),ce=h({},ue,{"#":1,"?":1,"{":1,"}":1}),le=h({},ce,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),de=function(e,t){var n=g(e,0);return n>32&&n<127&&!f(t,e)?e:encodeURIComponent(e)},pe={ftp:21,file:null,http:80,https:443,ws:80,wss:443},fe=function(e,t){var n;return 2===e.length&&B(G,I(e,0))&&(":"===(n=I(e,1))||!t&&"|"===n)},he=function(e){var t;return e.length>1&&fe(V(e,0,2))&&(2===e.length||"/"===(t=I(e,2))||"\\"===t||"?"===t||"#"===t)},me=function(e){return"."===e||"%2e"===q(e)},ve={},ge={},ye={},be={},we={},De={},Ae={},Ee={},ke={},Ce={},_e={},xe={},Se={},Te={},Fe={},Oe={},Pe={},Ie={},Be={},Re={},Ne={},Me=function(e,t,n){var r,i,a,o=b(e);if(t){if(i=this.parse(o))throw new T(i);this.searchParams=null}else{if(void 0!==n&&(r=new Me(n,!0)),i=this.parse(o,null,r))throw new T(i);(a=x(new _)).bindURL(this),this.searchParams=a}};Me.prototype={type:"URL",parse:function(e,t,n){var i,a,o,s,u,c=this,l=t||ve,d=0,p="",h=!1,g=!1,y=!1;for(e=b(e),t||(c.scheme="",c.username="",c.password="",c.host=null,c.port=null,c.path=[],c.query=null,c.fragment=null,c.cannotBeABaseURL=!1,e=j(e,re,""),e=j(e,ie,"$1")),e=j(e,ae,""),i=m(e);d<=i.length;){switch(a=i[d],l){case ve:if(!a||!B(G,a)){if(t)return W;l=ye;continue}p+=q(a),l=ge;break;case ge:if(a&&(B(Q,a)||"+"===a||"-"===a||"."===a))p+=q(a);else{if(":"!==a){if(t)return W;p="",l=ye,d=0;continue}if(t&&(c.isSpecial()!==f(pe,p)||"file"===p&&(c.includesCredentials()||null!==c.port)||"file"===c.scheme&&!c.host))return;if(c.scheme=p,t)return void(c.isSpecial()&&pe[c.scheme]===c.port&&(c.port=null));p="","file"===c.scheme?l=Te:c.isSpecial()&&n&&n.scheme===c.scheme?l=be:c.isSpecial()?l=Ee:"/"===i[d+1]?(l=we,d++):(c.cannotBeABaseURL=!0,L(c.path,""),l=Be)}break;case ye:if(!n||n.cannotBeABaseURL&&"#"!==a)return W;if(n.cannotBeABaseURL&&"#"===a){c.scheme=n.scheme,c.path=v(n.path),c.query=n.query,c.fragment="",c.cannotBeABaseURL=!0,l=Ne;break}l="file"===n.scheme?Te:De;continue;case be:if("/"!==a||"/"!==i[d+1]){l=De;continue}l=ke,d++;break;case we:if("/"===a){l=Ce;break}l=Ie;continue;case De:if(c.scheme=n.scheme,a===r)c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=v(n.path),c.query=n.query;else if("/"===a||"\\"===a&&c.isSpecial())l=Ae;else if("?"===a)c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=v(n.path),c.query="",l=Re;else{if("#"!==a){c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=v(n.path),c.path.length--,l=Ie;continue}c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=v(n.path),c.query=n.query,c.fragment="",l=Ne}break;case Ae:if(!c.isSpecial()||"/"!==a&&"\\"!==a){if("/"!==a){c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,l=Ie;continue}l=Ce}else l=ke;break;case Ee:if(l=ke,"/"!==a||"/"!==I(p,d+1))continue;d++;break;case ke:if("/"!==a&&"\\"!==a){l=Ce;continue}break;case Ce:if("@"===a){h&&(p="%40"+p),h=!0,o=m(p);for(var w=0;w<o.length;w++){var D=o[w];if(":"!==D||y){var A=de(D,le);y?c.password+=A:c.username+=A}else y=!0}p=""}else if(a===r||"/"===a||"?"===a||"#"===a||"\\"===a&&c.isSpecial()){if(h&&""===p)return"Invalid authority";d-=m(p).length+1,p="",l=_e}else p+=a;break;case _e:case xe:if(t&&"file"===c.scheme){l=Oe;continue}if(":"!==a||g){if(a===r||"/"===a||"?"===a||"#"===a||"\\"===a&&c.isSpecial()){if(c.isSpecial()&&""===p)return K;if(t&&""===p&&(c.includesCredentials()||null!==c.port))return;if(s=c.parseHost(p))return s;if(p="",l=Pe,t)return;continue}"["===a?g=!0:"]"===a&&(g=!1),p+=a}else{if(""===p)return K;if(s=c.parseHost(p))return s;if(p="",l=Se,t===xe)return}break;case Se:if(!B(Y,a)){if(a===r||"/"===a||"?"===a||"#"===a||"\\"===a&&c.isSpecial()||t){if(""!==p){var E=F(p,10);if(E>65535)return $;c.port=c.isSpecial()&&E===pe[c.scheme]?null:E,p=""}if(t)return;l=Pe;continue}return $}p+=a;break;case Te:if(c.scheme="file","/"===a||"\\"===a)l=Fe;else{if(!n||"file"!==n.scheme){l=Ie;continue}switch(a){case r:c.host=n.host,c.path=v(n.path),c.query=n.query;break;case"?":c.host=n.host,c.path=v(n.path),c.query="",l=Re;break;case"#":c.host=n.host,c.path=v(n.path),c.query=n.query,c.fragment="",l=Ne;break;default:he(R(v(i,d),""))||(c.host=n.host,c.path=v(n.path),c.shortenPath()),l=Ie;continue}}break;case Fe:if("/"===a||"\\"===a){l=Oe;break}n&&"file"===n.scheme&&!he(R(v(i,d),""))&&(fe(n.path[0],!0)?L(c.path,n.path[0]):c.host=n.host),l=Ie;continue;case Oe:if(a===r||"/"===a||"\\"===a||"?"===a||"#"===a){if(!t&&fe(p))l=Ie;else if(""===p){if(c.host="",t)return;l=Pe}else{if(s=c.parseHost(p))return s;if("localhost"===c.host&&(c.host=""),t)return;p="",l=Pe}continue}p+=a;break;case Pe:if(c.isSpecial()){if(l=Ie,"/"!==a&&"\\"!==a)continue}else if(t||"?"!==a)if(t||"#"!==a){if(a!==r&&(l=Ie,"/"!==a))continue}else c.fragment="",l=Ne;else c.query="",l=Re;break;case Ie:if(a===r||"/"===a||"\\"===a&&c.isSpecial()||!t&&("?"===a||"#"===a)){if(".."===(u=q(u=p))||"%2e."===u||".%2e"===u||"%2e%2e"===u?(c.shortenPath(),"/"===a||"\\"===a&&c.isSpecial()||L(c.path,"")):me(p)?"/"===a||"\\"===a&&c.isSpecial()||L(c.path,""):("file"===c.scheme&&!c.path.length&&fe(p)&&(c.host&&(c.host=""),p=I(p,0)+":"),L(c.path,p)),p="","file"===c.scheme&&(a===r||"?"===a||"#"===a))for(;c.path.length>1&&""===c.path[0];)U(c.path);"?"===a?(c.query="",l=Re):"#"===a&&(c.fragment="",l=Ne)}else p+=de(a,ce);break;case Be:"?"===a?(c.query="",l=Re):"#"===a?(c.fragment="",l=Ne):a!==r&&(c.path[0]+=de(a,se));break;case Re:t||"#"!==a?a!==r&&("'"===a&&c.isSpecial()?c.query+="%27":c.query+="#"===a?"%23":de(a,se)):(c.fragment="",l=Ne);break;case Ne:a!==r&&(c.fragment+=de(a,ue))}d++}},parseHost:function(e){var t,n,r;if("["===I(e,0)){if("]"!==I(e,e.length-1))return K;if(t=function(e){var t,n,r,i,a,o,s,u=[0,0,0,0,0,0,0,0],c=0,l=null,d=0,p=function(){return I(e,d)};if(":"===p()){if(":"!==I(e,1))return;d+=2,l=++c}for(;p();){if(8===c)return;if(":"!==p()){for(t=n=0;n<4&&B(ee,p());)t=16*t+F(p(),16),d++,n++;if("."===p()){if(0===n)return;if(d-=n,c>6)return;for(r=0;p();){if(i=null,r>0){if(!("."===p()&&r<4))return;d++}if(!B(Y,p()))return;for(;B(Y,p());){if(a=F(p(),10),null===i)i=a;else{if(0===i)return;i=10*i+a}if(i>255)return;d++}u[c]=256*u[c]+i,2!=++r&&4!==r||c++}if(4!==r)return;break}if(":"===p()){if(d++,!p())return}else if(p())return;u[c++]=t}else{if(null!==l)return;d++,l=++c}}if(null!==l)for(o=c-l,c=7;0!==c&&o>0;)s=u[c],u[c--]=u[l+o-1],u[l+--o]=s;else if(8!==c)return;return u}(V(e,1,-1)),!t)return K;this.host=t}else if(this.isSpecial()){if(e=y(e),B(te,e))return K;if(t=function(e){var t,n,r,i,a,o,s,u=z(e,".");if(u.length&&""===u[u.length-1]&&u.length--,(t=u.length)>4)return e;for(n=[],r=0;r<t;r++){if(""===(i=u[r]))return e;if(a=10,i.length>1&&"0"===I(i,0)&&(a=B(X,i)?16:8,i=V(i,8===a?1:2)),""===i)o=0;else{if(!B(10===a?J:8===a?Z:ee,i))return e;o=F(i,a)}L(n,o)}for(r=0;r<t;r++)if(o=n[r],r===t-1){if(o>=P(256,5-t))return null}else if(o>255)return null;for(s=M(n),r=0;r<n.length;r++)s+=n[r]*P(256,3-r);return s}(e),null===t)return K;this.host=t}else{if(B(ne,e))return K;for(t="",n=m(e),r=0;r<n.length;r++)t+=de(n[r],se);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"===this.scheme},includesCredentials:function(){return""!==this.username||""!==this.password},isSpecial:function(){return f(pe,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"===this.scheme&&1===t&&fe(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,n=e.username,r=e.password,i=e.host,a=e.port,o=e.path,s=e.query,u=e.fragment,c=t+":";return null!==i?(c+="//",e.includesCredentials()&&(c+=n+(r?":"+r:"")+"@"),c+=oe(i),null!==a&&(c+=":"+a)):"file"===t&&(c+="//"),c+=e.cannotBeABaseURL?o[0]:o.length?"/"+R(o,"/"):"",null!==s&&(c+="?"+s),null!==u&&(c+="#"+u),c},setHref:function(e){var t=this.parse(e);if(t)throw new T(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"===e)try{return new Le(e.path[0]).origin}catch(e){return"null"}return"file"!==e&&this.isSpecial()?e+"://"+oe(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(b(e)+":",ve)},getUsername:function(){return this.username},setUsername:function(e){var t=m(b(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<t.length;n++)this.username+=de(t[n],le)}},getPassword:function(){return this.password},setPassword:function(e){var t=m(b(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<t.length;n++)this.password+=de(t[n],le)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?oe(e):oe(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,_e)},getHostname:function(){var e=this.host;return null===e?"":oe(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,xe)},getPort:function(){var e=this.port;return null===e?"":b(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""===(e=b(e))?this.port=null:this.parse(e,Se))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+R(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,Pe))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){""===(e=b(e))?this.query=null:("?"===I(e,0)&&(e=V(e,1)),this.query="",this.parse(e,Re)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){""!==(e=b(e))?("#"===I(e,0)&&(e=V(e,1)),this.fragment="",this.parse(e,Ne)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Le=function(e){var t=p(this,je),n=D(arguments.length,1)>1?arguments[1]:void 0,r=k(t,new Me(e,!1,n));a||(t.href=r.serialize(),t.origin=r.getOrigin(),t.protocol=r.getProtocol(),t.username=r.getUsername(),t.password=r.getPassword(),t.host=r.getHost(),t.hostname=r.getHostname(),t.port=r.getPort(),t.pathname=r.getPathname(),t.search=r.getSearch(),t.searchParams=r.getSearchParams(),t.hash=r.getHash())},je=Le.prototype,Ue=function(e,t){return{get:function(){return C(this)[e]()},set:t&&function(e){return C(this)[t](e)},configurable:!0,enumerable:!0}};if(a&&(d(je,"href",Ue("serialize","setHref")),d(je,"origin",Ue("getOrigin")),d(je,"protocol",Ue("getProtocol","setProtocol")),d(je,"username",Ue("getUsername","setUsername")),d(je,"password",Ue("getPassword","setPassword")),d(je,"host",Ue("getHost","setHost")),d(je,"hostname",Ue("getHostname","setHostname")),d(je,"port",Ue("getPort","setPort")),d(je,"pathname",Ue("getPathname","setPathname")),d(je,"search",Ue("getSearch","setSearch")),d(je,"searchParams",Ue("getSearchParams")),d(je,"hash",Ue("getHash","setHash"))),l(je,"toJSON",(function(){return C(this).serialize()}),{enumerable:!0}),l(je,"toString",(function(){return C(this).serialize()}),{enumerable:!0}),S){var ze=S.createObjectURL,Ve=S.revokeObjectURL;ze&&l(Le,"createObjectURL",u(ze,S)),Ve&&l(Le,"revokeObjectURL",u(Ve,S))}w(Le,"URL"),i({global:!0,constructor:!0,forced:!o,sham:!a},{URL:Le})},45855:(e,t,n)=>{var r=n(73749);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},46051:(e,t,n)=>{n(44114);var r=n(1231),i=n(66196),a=n(70519);e.exports=function(e,t,n,o,s,u){var c=1&n,l=e.length,d=t.length;if(l!=d&&!(c&&d>l))return!1;var p=u.get(e),f=u.get(t);if(p&&f)return p==t&&f==e;var h=-1,m=!0,v=2&n?new r:void 0;for(u.set(e,t),u.set(t,e);++h<l;){var g=e[h],y=t[h];if(o)var b=c?o(y,g,h,t,e,u):o(g,y,h,e,t,u);if(void 0!==b){if(b)continue;m=!1;break}if(v){if(!i(t,(function(e,t){if(!a(v,t)&&(g===e||s(g,e,n,o,u)))return v.push(t)}))){m=!1;break}}else if(g!==y&&!s(g,y,n,o,u)){m=!1;break}}return u.delete(e),u.delete(t),m}},46133:(e,t,n)=>{var r=n(42785).Symbol;e.exports=r},46426:(e,t,n)=>{var r=n(78735),i=n(46796);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},46449:(e,t,n)=>{"use strict";var r=n(46518),i=n(70259),a=n(48981),o=n(26198),s=n(91291),u=n(1469);r({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=a(this),n=o(t),r=u(t,0);return r.length=i(r,t,t,n,0,void 0===e?1:s(e)),r}})},46518:(e,t,n)=>{"use strict";var r=n(44576),i=n(77347).f,a=n(66699),o=n(36840),s=n(39433),u=n(77740),c=n(92796);e.exports=function(e,t){var n,l,d,p,f,h=e.target,m=e.global,v=e.stat;if(n=m?r:v?r[h]||s(h,{}):r[h]&&r[h].prototype)for(l in t){if(p=t[l],d=e.dontCallGetSet?(f=i(n,l))&&f.value:n[l],!c(m?l:h+(v?".":"#")+l,e.forced)&&void 0!==d){if(typeof p==typeof d)continue;u(p,d)}(e.sham||d&&d.sham)&&a(p,"sham",!0),o(n,l,p,e)}}},46594:(e,t,n)=>{"use strict";n(15823)("Int8",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},46706:(e,t,n)=>{"use strict";var r=n(79504),i=n(79306);e.exports=function(e,t,n){try{return r(i(Object.getOwnPropertyDescriptor(e,t)[n]))}catch(e){}}},46761:(e,t,n)=>{"use strict";var r=n(46518),i=n(94644);r({target:"ArrayBuffer",stat:!0,forced:!i.NATIVE_ARRAY_BUFFER_VIEWS},{isView:i.isView})},46785:e=>{e.exports=function(e){return this.__data__.get(e)}},46796:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},46878:(e,t,n)=>{var r=n(65419),i=n(54516),a=n(21426);e.exports=function(e){return r(e,a,i)}},46930:(e,t,n)=>{"use strict";e.exports=n(23641)},46983:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});n(64346);var r=n(33825);var i=n(18061),a=n(40112);n(16280),n(76918);function o(e){return function(e){if(Array.isArray(e))return(0,r.A)(e)}(e)||(0,i.A)(e)||(0,a.A)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},47055:(e,t,n)=>{"use strict";var r=n(79504),i=n(79039),a=n(22195),o=Object,s=r("".split);e.exports=i((function(){return!o("z").propertyIsEnumerable(0)}))?function(e){return"String"===a(e)?s(e,""):o(e)}:o},47251:(e,t,n)=>{n(16280),n(76918),e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},47335:(e,t,n)=>{var r=n(41684),i=n(45353),a=n(74946),o=n(58251),s=n(13573);e.exports=function(e){if(null==e)return 0;if(a(e))return o(e)?s(e):e.length;var t=i(e);return"[object Map]"==t||"[object Set]"==t?e.size:r(e).length}},47436:(e,t,n)=>{var r=n(89990),i="object"==(void 0===n.g?"undefined":r(n.g))&&n.g&&n.g.Object===Object&&n.g;e.exports=i},47452:e=>{"use strict";e.exports="\t\n\v\f\r \u2028\u2029\ufeff"},47764:(e,t,n)=>{"use strict";var r=n(68183).charAt,i=n(655),a=n(91181),o=n(51088),s=n(62529),u="String Iterator",c=a.set,l=a.getterFor(u);o(String,"String",(function(e){c(this,{type:u,string:i(e),index:0})}),(function(){var e,t=l(this),n=t.string,i=t.index;return i>=n.length?s(void 0,!0):(e=r(n,i),t.index+=e.length,s(e,!1))}))},47896:(e,t,n)=>{n(18107),n(44114),n(67357);var r=n(85192);n(32807);var i=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],a=[1,2,3,5],o=function(e,t){return e<<t&65535|(65535&e)>>16-t},s=function(e,t){return(65535&e)>>t|e<<16-t&65535};e.exports=r.rc2=r.rc2||{},r.rc2.expandKey=function(e,t){"string"==typeof e&&(e=r.util.createBuffer(e)),t=t||128;var n,a=e,o=e.length(),s=t,u=Math.ceil(s/8),c=255>>(7&s);for(n=o;n<128;n++)a.putByte(i[a.at(n-1)+a.at(n-o)&255]);for(a.setAt(128-u,i[a.at(128-u)&c]),n=127-u;n>=0;n--)a.setAt(n,i[a.at(n+1)^a.at(n+u)]);return a};var u=function(e,t,n){var i,u,c,l,d=!1,p=null,f=null,h=null,m=[];for(e=r.rc2.expandKey(e,t),c=0;c<64;c++)m.push(e.getInt16Le());n?(i=function(e){for(c=0;c<4;c++)e[c]+=m[l]+(e[(c+3)%4]&e[(c+2)%4])+(~e[(c+3)%4]&e[(c+1)%4]),e[c]=o(e[c],a[c]),l++},u=function(e){for(c=0;c<4;c++)e[c]+=m[63&e[(c+3)%4]]}):(i=function(e){for(c=3;c>=0;c--)e[c]=s(e[c],a[c]),e[c]-=m[l]+(e[(c+3)%4]&e[(c+2)%4])+(~e[(c+3)%4]&e[(c+1)%4]),l--},u=function(e){for(c=3;c>=0;c--)e[c]-=m[63&e[(c+3)%4]]});var v=function(e){var t=[];for(c=0;c<4;c++){var r=p.getInt16Le();null!==h&&(n?r^=h.getInt16Le():h.putInt16Le(r)),t.push(65535&r)}l=n?0:63;for(var i=0;i<e.length;i++)for(var a=0;a<e[i][0];a++)e[i][1](t);for(c=0;c<4;c++)null!==h&&(n?h.putInt16Le(t[c]):t[c]^=h.getInt16Le()),f.putInt16Le(t[c])},g=null;return g={start:function(e,t){e&&"string"==typeof e&&(e=r.util.createBuffer(e)),d=!1,p=r.util.createBuffer(),f=t||new r.util.createBuffer,h=e,g.output=f},update:function(e){for(d||p.putBuffer(e);p.length()>=8;)v([[5,i],[1,u],[6,i],[1,u],[5,i]])},finish:function(e){var t=!0;if(n)if(e)t=e(8,p,!n);else{var r=8===p.length()?8:8-p.length();p.fillWithByte(r,r)}if(t&&(d=!0,g.update()),!n&&(t=0===p.length()))if(e)t=e(8,f,!n);else{var i=f.length(),a=f.at(i-1);a>i?t=!1:f.truncate(a)}return t}}};r.rc2.startEncrypting=function(e,t,n){var i=r.rc2.createEncryptionCipher(e,128);return i.start(t,n),i},r.rc2.createEncryptionCipher=function(e,t){return u(e,t,!0)},r.rc2.startDecrypting=function(e,t,n){var i=r.rc2.createDecryptionCipher(e,128);return i.start(t,n),i},r.rc2.createDecryptionCipher=function(e,t){return u(e,t,!1)}},48080:(e,t,n)=>{var r=n(10042),i=n(286),a=Object.prototype,o=a.hasOwnProperty,s=a.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return i(e)&&o.call(e,"callee")&&!s.call(e,"callee")};e.exports=u},48140:(e,t,n)=>{"use strict";var r=n(94644),i=n(26198),a=n(91291),o=r.aTypedArray;(0,r.exportTypedArrayMethod)("at",(function(e){var t=o(this),n=i(t),r=a(e),s=r>=0?r:n+r;return s<0||s>=n?void 0:t[s]}))},48242:(e,t,n)=>{var r=n(64327);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},48373:(e,t,n)=>{var r=n(46426)(n(42785),"Set");e.exports=r},48408:(e,t,n)=>{"use strict";n(98406)},48523:(e,t,n)=>{"use strict";n(16468)("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n(86938))},48598:(e,t,n)=>{"use strict";var r=n(46518),i=n(79504),a=n(47055),o=n(25397),s=n(34598),u=i([].join);r({target:"Array",proto:!0,forced:a!==Object||!s("join",",")},{join:function(e){return u(o(this),void 0===e?",":e)}})},48605:function(e,t,n){var r,i,a,o,s=n(89990);n(28706),o=function(e){return e.pad.Iso10126={pad:function(t,n){var r=4*n,i=r-t.sigBytes%r;t.concat(e.lib.WordArray.random(i-1)).concat(e.lib.WordArray.create([i<<24],1))},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},e.pad.Iso10126},"object"===s(t)?e.exports=t=o(n(83841),n(76793)):(i=[n(83841),n(76793)],void 0===(a="function"==typeof(r=o)?r.apply(t,i):r)||(e.exports=a))},48646:(e,t,n)=>{"use strict";var r=n(69565),i=n(28551),a=n(1767),o=n(50851);e.exports=function(e,t){t&&"string"==typeof e||i(e);var n=o(e);return a(i(void 0!==n?r(n,e):e))}},48686:(e,t,n)=>{"use strict";var r=n(43724),i=n(79039);e.exports=r&&i((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},48718:(e,t,n)=>{"use strict";var r=n(46518),i=n(77240);r({target:"String",proto:!0,forced:n(23061)("sub")},{sub:function(){return i(this,"sub","","")}})},48760:(e,t,n)=>{"use strict";n.r(t),n.d(t,{SecureStoragePluginWeb:()=>c});n(60825),n(86777);var r=n(58237),i=n(84285),a=n(68119),o=n(36858),s=n(31061);n(76918),n(2008),n(25276),n(62062),n(79432),n(26099),n(3362),n(27495),n(25440),n(98992),n(54520),n(81454),n(2945),n(42207),n(55815),n(64979),n(79739);function u(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(u=function(){return!!e})()}var c=function(e){function t(){var e;return(0,r.A)(this,t),(e=function(e,t,n){return t=(0,o.A)(t),(0,a.A)(e,u()?Reflect.construct(t,n||[],(0,o.A)(e).constructor):t.apply(e,n))}(this,t,arguments)).PREFIX="cap_sec_",e.addPrefix=function(t){return e.PREFIX+t},e.removePrefix=function(t){return t.replace(e.PREFIX,"")},e}return(0,s.A)(t,e),(0,i.A)(t,[{key:"get",value:function(e){var t=localStorage.getItem(this.addPrefix(e.key));return null!==t?Promise.resolve({value:atob(t)}):Promise.reject("Item with given key does not exist")}},{key:"set",value:function(e){return localStorage.setItem(this.addPrefix(e.key),btoa(e.value)),Promise.resolve({value:!0})}},{key:"remove",value:function(e){return localStorage.getItem(this.addPrefix(e.key))?(localStorage.removeItem(this.addPrefix(e.key)),Promise.resolve({value:!0})):Promise.reject("Item with given key does not exist")}},{key:"clear",value:function(){for(var e in localStorage)0===e.indexOf(this.PREFIX)&&localStorage.removeItem(e);return Promise.resolve({value:!0})}},{key:"keys",value:function(){var e=this,t=Object.keys(localStorage).filter((function(t){return 0===t.indexOf(e.PREFIX)})).map(this.removePrefix);return Promise.resolve({value:t})}},{key:"getPlatform",value:function(){return Promise.resolve({value:"web"})}}])}(n(94230).E_)},48773:(e,t)=>{"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);t.f=i?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},48781:(e,t,n)=>{var r=n(42379),i=n(99824),a=n(66870),o=n(46785),s=n(9165),u=n(15813);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=a,c.prototype.get=o,c.prototype.has=s,c.prototype.set=u,e.exports=c},48980:(e,t,n)=>{"use strict";var r=n(46518),i=n(59213).findIndex,a=n(6469),o="findIndex",s=!0;o in[]&&Array(1)[o]((function(){s=!1})),r({target:"Array",proto:!0,forced:s},{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a(o)},48981:(e,t,n)=>{"use strict";var r=n(67750),i=Object;e.exports=function(e){return i(r(e))}},49046:(e,t,n)=>{n(16280),n(76918),n(18107),n(25276),n(48598),n(44114),n(23288),n(26099),n(38781),n(67357),n(50375);var r=n(85192);if(n(90092),n(53486),n(27499),n(1238),n(70430),n(66978),n(90005),n(78008),n(47896),n(90705),n(32807),void 0===i)var i=r.jsbn.BigInteger;var a=r.asn1,o=r.pki=r.pki||{};e.exports=o.pbe=r.pbe=r.pbe||{};var s=o.oids,u={name:"EncryptedPrivateKeyInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},c={name:"PBES2Algorithms",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},l={name:"pkcs-12PbeParams",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"iterations"}]};function d(e,t){return e.start().update(t).digest().getBytes()}function p(e){var t;if(e){if(!(t=o.oids[a.derToOid(e)])){var n=new Error("Unsupported PRF OID.");throw n.oid=e,n.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],n}}else t="hmacWithSHA1";return f(t)}function f(e){var t=r.md;switch(e){case"hmacWithSHA224":t=r.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":e=e.substr(8).toLowerCase();break;default:var n=new Error("Unsupported PRF algorithm.");throw n.algorithm=e,n.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],n}if(!t||!(e in t))throw new Error("Unknown hash algorithm: "+e);return t[e].create()}o.encryptPrivateKeyInfo=function(e,t,n){(n=n||{}).saltSize=n.saltSize||8,n.count=n.count||2048,n.algorithm=n.algorithm||"aes128",n.prfAlgorithm=n.prfAlgorithm||"sha1";var i,u,c,l=r.random.getBytesSync(n.saltSize),d=n.count,p=a.integerToDer(d);if(0===n.algorithm.indexOf("aes")||"des"===n.algorithm){var h,m,v;switch(n.algorithm){case"aes128":i=16,h=16,m=s["aes128-CBC"],v=r.aes.createEncryptionCipher;break;case"aes192":i=24,h=16,m=s["aes192-CBC"],v=r.aes.createEncryptionCipher;break;case"aes256":i=32,h=16,m=s["aes256-CBC"],v=r.aes.createEncryptionCipher;break;case"des":i=8,h=8,m=s.desCBC,v=r.des.createEncryptionCipher;break;default:throw(A=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=n.algorithm,A}var g="hmacWith"+n.prfAlgorithm.toUpperCase(),y=f(g),b=r.pkcs5.pbkdf2(t,l,d,i,y),w=r.random.getBytesSync(h);(E=v(b)).start(w),E.update(a.toDer(e)),E.finish(),c=E.output.getBytes();var D=function(e,t,n,i){var s=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,e),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,t.getBytes())]);"hmacWithSHA1"!==i&&s.value.push(a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,r.util.hexToBytes(n.toString(16))),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(o.oids[i]).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")]));return s}(l,p,i,g);u=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(s.pkcs5PBES2).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(s.pkcs5PBKDF2).getBytes()),D]),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(m).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,w)])])])}else{var A;if("3des"!==n.algorithm)throw(A=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=n.algorithm,A;i=24;var E,k=new r.util.ByteBuffer(l);b=o.pbe.generatePkcs12Key(t,k,1,d,i),w=o.pbe.generatePkcs12Key(t,k,2,d,i);(E=r.des.createEncryptionCipher(b)).start(w),E.update(a.toDer(e)),E.finish(),c=E.output.getBytes(),u=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(s["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,l),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,p.getBytes())])])}return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[u,a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,c)])},o.decryptPrivateKeyInfo=function(e,t){var n=null,i={},s=[];if(!a.validate(e,u,i,s)){var c=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw c.errors=s,c}var l=a.derToOid(i.encryptionOid),d=o.pbe.getCipher(l,i.encryptionParams,t),p=r.util.createBuffer(i.encryptedData);return d.update(p),d.finish()&&(n=a.fromDer(d.output)),n},o.encryptedPrivateKeyToPem=function(e,t){var n={type:"ENCRYPTED PRIVATE KEY",body:a.toDer(e).getBytes()};return r.pem.encode(n,{maxline:t})},o.encryptedPrivateKeyFromPem=function(e){var t=r.pem.decode(e)[0];if("ENCRYPTED PRIVATE KEY"!==t.type){var n=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw n.headerType=t.type,n}if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return a.fromDer(t.body)},o.encryptRsaPrivateKey=function(e,t,n){if(!(n=n||{}).legacy){var i=o.wrapRsaPrivateKey(o.privateKeyToAsn1(e));return i=o.encryptPrivateKeyInfo(i,t,n),o.encryptedPrivateKeyToPem(i)}var s,u,c,l;switch(n.algorithm){case"aes128":s="AES-128-CBC",c=16,u=r.random.getBytesSync(16),l=r.aes.createEncryptionCipher;break;case"aes192":s="AES-192-CBC",c=24,u=r.random.getBytesSync(16),l=r.aes.createEncryptionCipher;break;case"aes256":s="AES-256-CBC",c=32,u=r.random.getBytesSync(16),l=r.aes.createEncryptionCipher;break;case"3des":s="DES-EDE3-CBC",c=24,u=r.random.getBytesSync(8),l=r.des.createEncryptionCipher;break;case"des":s="DES-CBC",c=8,u=r.random.getBytesSync(8),l=r.des.createEncryptionCipher;break;default:var d=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+n.algorithm+'".');throw d.algorithm=n.algorithm,d}var p=l(r.pbe.opensslDeriveBytes(t,u.substr(0,8),c));p.start(u),p.update(a.toDer(o.privateKeyToAsn1(e))),p.finish();var f={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:s,parameters:r.util.bytesToHex(u).toUpperCase()},body:p.output.getBytes()};return r.pem.encode(f)},o.decryptRsaPrivateKey=function(e,t){var n=null,i=r.pem.decode(e)[0];if("ENCRYPTED PRIVATE KEY"!==i.type&&"PRIVATE KEY"!==i.type&&"RSA PRIVATE KEY"!==i.type)throw(c=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".')).headerType=c,c;if(i.procType&&"ENCRYPTED"===i.procType.type){var s,u;switch(i.dekInfo.algorithm){case"DES-CBC":s=8,u=r.des.createDecryptionCipher;break;case"DES-EDE3-CBC":s=24,u=r.des.createDecryptionCipher;break;case"AES-128-CBC":s=16,u=r.aes.createDecryptionCipher;break;case"AES-192-CBC":s=24,u=r.aes.createDecryptionCipher;break;case"AES-256-CBC":s=32,u=r.aes.createDecryptionCipher;break;case"RC2-40-CBC":s=5,u=function(e){return r.rc2.createDecryptionCipher(e,40)};break;case"RC2-64-CBC":s=8,u=function(e){return r.rc2.createDecryptionCipher(e,64)};break;case"RC2-128-CBC":s=16,u=function(e){return r.rc2.createDecryptionCipher(e,128)};break;default:var c;throw(c=new Error('Could not decrypt private key; unsupported encryption algorithm "'+i.dekInfo.algorithm+'".')).algorithm=i.dekInfo.algorithm,c}var l=r.util.hexToBytes(i.dekInfo.parameters),d=u(r.pbe.opensslDeriveBytes(t,l.substr(0,8),s));if(d.start(l),d.update(r.util.createBuffer(i.body)),!d.finish())return n;n=d.output.getBytes()}else n=i.body;return null!==(n="ENCRYPTED PRIVATE KEY"===i.type?o.decryptPrivateKeyInfo(a.fromDer(n),t):a.fromDer(n))&&(n=o.privateKeyFromAsn1(n)),n},o.pbe.generatePkcs12Key=function(e,t,n,i,a,o){var s,u;if(null==o){if(!("sha1"in r.md))throw new Error('"sha1" hash algorithm unavailable.');o=r.md.sha1.create()}var c=o.digestLength,l=o.blockLength,d=new r.util.ByteBuffer,p=new r.util.ByteBuffer;if(null!=e){for(u=0;u<e.length;u++)p.putInt16(e.charCodeAt(u));p.putInt16(0)}var f=p.length(),h=t.length(),m=new r.util.ByteBuffer;m.fillWithByte(n,l);var v=l*Math.ceil(h/l),g=new r.util.ByteBuffer;for(u=0;u<v;u++)g.putByte(t.at(u%h));var y=l*Math.ceil(f/l),b=new r.util.ByteBuffer;for(u=0;u<y;u++)b.putByte(p.at(u%f));var w=g;w.putBuffer(b);for(var D=Math.ceil(a/c),A=1;A<=D;A++){var E=new r.util.ByteBuffer;E.putBytes(m.bytes()),E.putBytes(w.bytes());for(var k=0;k<i;k++)o.start(),o.update(E.getBytes()),E=o.digest();var C=new r.util.ByteBuffer;for(u=0;u<l;u++)C.putByte(E.at(u%c));var _=Math.ceil(h/l)+Math.ceil(f/l),x=new r.util.ByteBuffer;for(s=0;s<_;s++){var S=new r.util.ByteBuffer(w.getBytes(l)),T=511;for(u=C.length()-1;u>=0;u--)T>>=8,T+=C.at(u)+S.at(u),S.setAt(u,255&T);x.putBuffer(S)}w=x,d.putBuffer(E)}return d.truncate(d.length()-a),d},o.pbe.getCipher=function(e,t,n){switch(e){case o.oids.pkcs5PBES2:return o.pbe.getCipherForPBES2(e,t,n);case o.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case o.oids["pbewithSHAAnd40BitRC2-CBC"]:return o.pbe.getCipherForPKCS12PBE(e,t,n);default:var r=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw r.oid=e,r.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],r}},o.pbe.getCipherForPBES2=function(e,t,n){var i,s={},u=[];if(!a.validate(t,c,s,u))throw(i=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=u,i;if((e=a.derToOid(s.kdfOid))!==o.oids.pkcs5PBKDF2)throw(i=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.")).oid=e,i.supportedOids=["pkcs5PBKDF2"],i;if((e=a.derToOid(s.encOid))!==o.oids["aes128-CBC"]&&e!==o.oids["aes192-CBC"]&&e!==o.oids["aes256-CBC"]&&e!==o.oids["des-EDE3-CBC"]&&e!==o.oids.desCBC)throw(i=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.")).oid=e,i.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],i;var l,d,f=s.kdfSalt,h=r.util.createBuffer(s.kdfIterationCount);switch(h=h.getInt(h.length()<<3),o.oids[e]){case"aes128-CBC":l=16,d=r.aes.createDecryptionCipher;break;case"aes192-CBC":l=24,d=r.aes.createDecryptionCipher;break;case"aes256-CBC":l=32,d=r.aes.createDecryptionCipher;break;case"des-EDE3-CBC":l=24,d=r.des.createDecryptionCipher;break;case"desCBC":l=8,d=r.des.createDecryptionCipher}var m=p(s.prfOid),v=r.pkcs5.pbkdf2(n,f,h,l,m),g=s.encIv,y=d(v);return y.start(g),y},o.pbe.getCipherForPKCS12PBE=function(e,t,n){var i={},s=[];if(!a.validate(t,l,i,s))throw(m=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=s,m;var u,c,d,f=r.util.createBuffer(i.salt),h=r.util.createBuffer(i.iterations);switch(h=h.getInt(h.length()<<3),e){case o.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:u=24,c=8,d=r.des.startDecrypting;break;case o.oids["pbewithSHAAnd40BitRC2-CBC"]:u=5,c=8,d=function(e,t){var n=r.rc2.createDecryptionCipher(e,40);return n.start(t,null),n};break;default:var m;throw(m=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.")).oid=e,m}var v=p(i.prfOid),g=o.pbe.generatePkcs12Key(n,f,1,h,u,v);return v.start(),d(g,o.pbe.generatePkcs12Key(n,f,2,h,c,v))},o.pbe.opensslDeriveBytes=function(e,t,n,i){if(null==i){if(!("md5"in r.md))throw new Error('"md5" hash algorithm unavailable.');i=r.md.md5.create()}null===t&&(t="");for(var a=[d(i,e+t)],o=16,s=1;o<n;++s,o+=16)a.push(d(i,a[s-1]+e+t));return a.join("").substr(0,n)}},49340:e=>{"use strict";var t=Math.log,n=Math.LOG10E;e.exports=Math.log10||function(e){return t(e)*n}},49347:(e,t,n)=>{var r=n(49905),i=n(64602);e.exports=function(e,t){return null!=e&&i(e,t,r)}},49625:(e,t,n)=>{var r=n(13236),i=n(63266),a=n(55805),o=n(94353),s=n(62809);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=o,u.prototype.set=s,e.exports=u},49773:(e,t,n)=>{"use strict";var r=n(46518),i=n(4495),a=n(79039),o=n(33717),s=n(48981);r({target:"Object",stat:!0,forced:!i||a((function(){o.f(1)}))},{getOwnPropertySymbols:function(e){var t=o.f;return t?t(s(e)):[]}})},49784:(e,t,n)=>{var r,i=n(89990);n(76918),n(51629),n(25276),n(64346),n(23792),n(44114),n(34782),n(54554),n(54743),n(11745),n(38309),n(59089),n(94170),n(79432),n(26099),n(78459),n(58940),n(3362),n(27495),n(90906),n(71761),n(25440),n(21489),n(48140),n(81630),n(72170),n(75044),n(69539),n(31694),n(89955),n(21903),n(91134),n(33206),n(44496),n(66651),n(12887),n(19369),n(66812),n(8995),n(31575),n(36072),n(88747),n(28845),n(29423),n(57301),n(373),n(86614),n(41405),n(33684),n(98992),n(3949),n(43250),n(10149),n(24082),n(2945),n(23500),n(55815),n(64979),n(79739),n(76031),function(){"use strict";var i=function(){this.init()};i.prototype={init:function(){var e=this||a;return e._counter=1e3,e._html5AudioPool=[],e.html5PoolSize=10,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.autoUnlock=!0,e._setup(),e},volume:function(e){var t=this||a;if(e=parseFloat(e),t.ctx||f(),void 0!==e&&e>=0&&e<=1){if(t._volume=e,t._muted)return t;t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e,a.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var r=t._howls[n]._getSoundIds(),i=0;i<r.length;i++){var o=t._howls[n]._soundById(r[i]);o&&o._node&&(o._node.volume=o._volume*e)}return t}return t._volume},mute:function(e){var t=this||a;t.ctx||f(),t._muted=e,t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e?0:t._volume,a.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var r=t._howls[n]._getSoundIds(),i=0;i<r.length;i++){var o=t._howls[n]._soundById(r[i]);o&&o._node&&(o._node.muted=!!e||o._muted)}return t},stop:function(){for(var e=this||a,t=0;t<e._howls.length;t++)e._howls[t].stop();return e},unload:function(){for(var e=this||a,t=e._howls.length-1;t>=0;t--)e._howls[t].unload();return e.usingWebAudio&&e.ctx&&void 0!==e.ctx.close&&(e.ctx.close(),e.ctx=null,f()),e},codecs:function(e){return(this||a)._codecs[e.replace(/^x-/,"")]},_setup:function(){var e=this||a;if(e.state=e.ctx&&e.ctx.state||"suspended",e._autoSuspend(),!e.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(e._canPlayEvent="canplay")}catch(t){e.noAudio=!0}else e.noAudio=!0;try{(new Audio).muted&&(e.noAudio=!0)}catch(e){}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||a,t=null;try{t="undefined"!=typeof Audio?new Audio:null}catch(t){return e}if(!t||"function"!=typeof t.canPlayType)return e;var n=t.canPlayType("audio/mpeg;").replace(/^no$/,""),r=e._navigator?e._navigator.userAgent:"",i=r.match(/OPR\/(\d+)/g),o=i&&parseInt(i[0].split("/")[1],10)<33,s=-1!==r.indexOf("Safari")&&-1===r.indexOf("Chrome"),u=r.match(/Version\/(.*?) /),c=s&&u&&parseInt(u[1],10)<15;return e._codecs={mp3:!(o||!n&&!t.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!n,opus:!!t.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(t.canPlayType('audio/wav; codecs="1"')||t.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!t.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!t.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(t.canPlayType("audio/x-m4b;")||t.canPlayType("audio/m4b;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(t.canPlayType("audio/x-mp4;")||t.canPlayType("audio/mp4;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!(c||!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!(c||!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!t.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(t.canPlayType("audio/x-flac;")||t.canPlayType("audio/flac;")).replace(/^no$/,"")},e},_unlockAudio:function(){var e=this||a;if(!e._audioUnlocked&&e.ctx){e._audioUnlocked=!1,e.autoUnlock=!1,e._mobileUnloaded||44100===e.ctx.sampleRate||(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var t=function(n){for(;e._html5AudioPool.length<e.html5PoolSize;)try{var r=new Audio;r._unlocked=!0,e._releaseHtml5Audio(r)}catch(n){e.noAudio=!0;break}for(var i=0;i<e._howls.length;i++)if(!e._howls[i]._webAudio)for(var a=e._howls[i]._getSoundIds(),o=0;o<a.length;o++){var s=e._howls[i]._soundById(a[o]);s&&s._node&&!s._node._unlocked&&(s._node._unlocked=!0,s._node.load())}e._autoResume();var u=e.ctx.createBufferSource();u.buffer=e._scratchBuffer,u.connect(e.ctx.destination),void 0===u.start?u.noteOn(0):u.start(0),"function"==typeof e.ctx.resume&&e.ctx.resume(),u.onended=function(){u.disconnect(0),e._audioUnlocked=!0,document.removeEventListener("touchstart",t,!0),document.removeEventListener("touchend",t,!0),document.removeEventListener("click",t,!0),document.removeEventListener("keydown",t,!0);for(var n=0;n<e._howls.length;n++)e._howls[n]._emit("unlock")}};return document.addEventListener("touchstart",t,!0),document.addEventListener("touchend",t,!0),document.addEventListener("click",t,!0),document.addEventListener("keydown",t,!0),e}},_obtainHtml5Audio:function(){var e=this||a;if(e._html5AudioPool.length)return e._html5AudioPool.pop();var t=(new Audio).play();return t&&"undefined"!=typeof Promise&&(t instanceof Promise||"function"==typeof t.then)&&t.catch((function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")})),new Audio},_releaseHtml5Audio:function(e){var t=this||a;return e._unlocked&&t._html5AudioPool.push(e),t},_autoSuspend:function(){var e=this;if(e.autoSuspend&&e.ctx&&void 0!==e.ctx.suspend&&a.usingWebAudio){for(var t=0;t<e._howls.length;t++)if(e._howls[t]._webAudio)for(var n=0;n<e._howls[t]._sounds.length;n++)if(!e._howls[t]._sounds[n]._paused)return e;return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout((function(){if(e.autoSuspend){e._suspendTimer=null,e.state="suspending";var t=function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())};e.ctx.suspend().then(t,t)}}),3e4),e}},_autoResume:function(){var e=this;if(e.ctx&&void 0!==e.ctx.resume&&a.usingWebAudio)return"running"===e.state&&"interrupted"!==e.ctx.state&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):"suspended"===e.state||"running"===e.state&&"interrupted"===e.ctx.state?(e.ctx.resume().then((function(){e.state="running";for(var t=0;t<e._howls.length;t++)e._howls[t]._emit("resume")})),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):"suspending"===e.state&&(e._resumeAfterSuspend=!0),e}};var a=new i,o=function(e){e.src&&0!==e.src.length?this.init(e):console.error("An array of source files must be passed with any new Howl.")};o.prototype={init:function(e){var t=this;return a.ctx||f(),t._autoplay=e.autoplay||!1,t._format="string"!=typeof e.format?e.format:[e.format],t._html5=e.html5||!1,t._muted=e.mute||!1,t._loop=e.loop||!1,t._pool=e.pool||5,t._preload="boolean"!=typeof e.preload&&"metadata"!==e.preload||e.preload,t._rate=e.rate||1,t._sprite=e.sprite||{},t._src="string"!=typeof e.src?e.src:[e.src],t._volume=void 0!==e.volume?e.volume:1,t._xhr={method:e.xhr&&e.xhr.method?e.xhr.method:"GET",headers:e.xhr&&e.xhr.headers?e.xhr.headers:null,withCredentials:!(!e.xhr||!e.xhr.withCredentials)&&e.xhr.withCredentials},t._duration=0,t._state="unloaded",t._sounds=[],t._endTimers={},t._queue=[],t._playLock=!1,t._onend=e.onend?[{fn:e.onend}]:[],t._onfade=e.onfade?[{fn:e.onfade}]:[],t._onload=e.onload?[{fn:e.onload}]:[],t._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],t._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],t._onpause=e.onpause?[{fn:e.onpause}]:[],t._onplay=e.onplay?[{fn:e.onplay}]:[],t._onstop=e.onstop?[{fn:e.onstop}]:[],t._onmute=e.onmute?[{fn:e.onmute}]:[],t._onvolume=e.onvolume?[{fn:e.onvolume}]:[],t._onrate=e.onrate?[{fn:e.onrate}]:[],t._onseek=e.onseek?[{fn:e.onseek}]:[],t._onunlock=e.onunlock?[{fn:e.onunlock}]:[],t._onresume=[],t._webAudio=a.usingWebAudio&&!t._html5,void 0!==a.ctx&&a.ctx&&a.autoUnlock&&a._unlockAudio(),a._howls.push(t),t._autoplay&&t._queue.push({event:"play",action:function(){t.play()}}),t._preload&&"none"!==t._preload&&t.load(),t},load:function(){var e=this,t=null;if(a.noAudio)e._emit("loaderror",null,"No audio support.");else{"string"==typeof e._src&&(e._src=[e._src]);for(var n=0;n<e._src.length;n++){var r,i;if(e._format&&e._format[n])r=e._format[n];else{if("string"!=typeof(i=e._src[n])){e._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(r=/^data:audio\/([^;,]+);/i.exec(i))||(r=/\.([^.]+)$/.exec(i.split("?",1)[0])),r&&(r=r[1].toLowerCase())}if(r||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),r&&a.codecs(r)){t=e._src[n];break}}if(t)return e._src=t,e._state="loading","https:"===window.location.protocol&&"http:"===t.slice(0,5)&&(e._html5=!0,e._webAudio=!1),new s(e),e._webAudio&&c(e),e;e._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(e,t){var n=this,r=null;if("number"==typeof e)r=e,e=null;else{if("string"==typeof e&&"loaded"===n._state&&!n._sprite[e])return null;if(void 0===e&&(e="__default",!n._playLock)){for(var i=0,o=0;o<n._sounds.length;o++)n._sounds[o]._paused&&!n._sounds[o]._ended&&(i++,r=n._sounds[o]._id);1===i?e=null:r=null}}var s=r?n._soundById(r):n._inactiveSound();if(!s)return null;if(r&&!e&&(e=s._sprite||"__default"),"loaded"!==n._state){s._sprite=e,s._ended=!1;var u=s._id;return n._queue.push({event:"play",action:function(){n.play(u)}}),u}if(r&&!s._paused)return t||n._loadQueue("play"),s._id;n._webAudio&&a._autoResume();var c=Math.max(0,s._seek>0?s._seek:n._sprite[e][0]/1e3),l=Math.max(0,(n._sprite[e][0]+n._sprite[e][1])/1e3-c),d=1e3*l/Math.abs(s._rate),p=n._sprite[e][0]/1e3,f=(n._sprite[e][0]+n._sprite[e][1])/1e3;s._sprite=e,s._ended=!1;var h=function(){s._paused=!1,s._seek=c,s._start=p,s._stop=f,s._loop=!(!s._loop&&!n._sprite[e][2])};if(!(c>=f)){var m=s._node;if(n._webAudio){var v=function(){n._playLock=!1,h(),n._refreshBuffer(s);var e=s._muted||n._muted?0:s._volume;m.gain.setValueAtTime(e,a.ctx.currentTime),s._playStart=a.ctx.currentTime,void 0===m.bufferSource.start?s._loop?m.bufferSource.noteGrainOn(0,c,86400):m.bufferSource.noteGrainOn(0,c,l):s._loop?m.bufferSource.start(0,c,86400):m.bufferSource.start(0,c,l),d!==1/0&&(n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),d)),t||setTimeout((function(){n._emit("play",s._id),n._loadQueue()}),0)};"running"===a.state&&"interrupted"!==a.ctx.state?v():(n._playLock=!0,n.once("resume",v),n._clearTimer(s._id))}else{var g=function(){m.currentTime=c,m.muted=s._muted||n._muted||a._muted||m.muted,m.volume=s._volume*a.volume(),m.playbackRate=s._rate;try{var r=m.play();if(r&&"undefined"!=typeof Promise&&(r instanceof Promise||"function"==typeof r.then)?(n._playLock=!0,h(),r.then((function(){n._playLock=!1,m._unlocked=!0,t?n._loadQueue():n._emit("play",s._id)})).catch((function(){n._playLock=!1,n._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),s._ended=!0,s._paused=!0}))):t||(n._playLock=!1,h(),n._emit("play",s._id)),m.playbackRate=s._rate,m.paused)return void n._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==e||s._loop?n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),d):(n._endTimers[s._id]=function(){n._ended(s),m.removeEventListener("ended",n._endTimers[s._id],!1)},m.addEventListener("ended",n._endTimers[s._id],!1))}catch(e){n._emit("playerror",s._id,e)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===m.src&&(m.src=n._src,m.load());var y=window&&window.ejecta||!m.readyState&&a._navigator.isCocoonJS;if(m.readyState>=3||y)g();else{n._playLock=!0,n._state="loading";var b=function(){n._state="loaded",g(),m.removeEventListener(a._canPlayEvent,b,!1)};m.addEventListener(a._canPlayEvent,b,!1),n._clearTimer(s._id)}}return s._id}n._ended(s)},pause:function(e){var t=this;if("loaded"!==t._state||t._playLock)return t._queue.push({event:"pause",action:function(){t.pause(e)}}),t;for(var n=t._getSoundIds(e),r=0;r<n.length;r++){t._clearTimer(n[r]);var i=t._soundById(n[r]);if(i&&!i._paused&&(i._seek=t.seek(n[r]),i._rateSeek=0,i._paused=!0,t._stopFade(n[r]),i._node))if(t._webAudio){if(!i._node.bufferSource)continue;void 0===i._node.bufferSource.stop?i._node.bufferSource.noteOff(0):i._node.bufferSource.stop(0),t._cleanBuffer(i._node)}else isNaN(i._node.duration)&&i._node.duration!==1/0||i._node.pause();arguments[1]||t._emit("pause",i?i._id:null)}return t},stop:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"stop",action:function(){n.stop(e)}}),n;for(var r=n._getSoundIds(e),i=0;i<r.length;i++){n._clearTimer(r[i]);var a=n._soundById(r[i]);a&&(a._seek=a._start||0,a._rateSeek=0,a._paused=!0,a._ended=!0,n._stopFade(r[i]),a._node&&(n._webAudio?a._node.bufferSource&&(void 0===a._node.bufferSource.stop?a._node.bufferSource.noteOff(0):a._node.bufferSource.stop(0),n._cleanBuffer(a._node)):isNaN(a._node.duration)&&a._node.duration!==1/0||(a._node.currentTime=a._start||0,a._node.pause(),a._node.duration===1/0&&n._clearSound(a._node))),t||n._emit("stop",a._id))}return n},mute:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"mute",action:function(){n.mute(e,t)}}),n;if(void 0===t){if("boolean"!=typeof e)return n._muted;n._muted=e}for(var r=n._getSoundIds(t),i=0;i<r.length;i++){var o=n._soundById(r[i]);o&&(o._muted=e,o._interval&&n._stopFade(o._id),n._webAudio&&o._node?o._node.gain.setValueAtTime(e?0:o._volume,a.ctx.currentTime):o._node&&(o._node.muted=!!a._muted||e),n._emit("mute",o._id))}return n},volume:function(){var e,t,n,r=this,i=arguments;if(0===i.length)return r._volume;if(1===i.length||2===i.length&&void 0===i[1]?r._getSoundIds().indexOf(i[0])>=0?t=parseInt(i[0],10):e=parseFloat(i[0]):i.length>=2&&(e=parseFloat(i[0]),t=parseInt(i[1],10)),!(void 0!==e&&e>=0&&e<=1))return(n=t?r._soundById(t):r._sounds[0])?n._volume:0;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"volume",action:function(){r.volume.apply(r,i)}}),r;void 0===t&&(r._volume=e),t=r._getSoundIds(t);for(var o=0;o<t.length;o++)(n=r._soundById(t[o]))&&(n._volume=e,i[2]||r._stopFade(t[o]),r._webAudio&&n._node&&!n._muted?n._node.gain.setValueAtTime(e,a.ctx.currentTime):n._node&&!n._muted&&(n._node.volume=e*a.volume()),r._emit("volume",n._id));return r},fade:function(e,t,n,r){var i=this;if("loaded"!==i._state||i._playLock)return i._queue.push({event:"fade",action:function(){i.fade(e,t,n,r)}}),i;e=Math.min(Math.max(0,parseFloat(e)),1),t=Math.min(Math.max(0,parseFloat(t)),1),n=parseFloat(n),i.volume(e,r);for(var o=i._getSoundIds(r),s=0;s<o.length;s++){var u=i._soundById(o[s]);if(u){if(r||i._stopFade(o[s]),i._webAudio&&!u._muted){var c=a.ctx.currentTime,l=c+n/1e3;u._volume=e,u._node.gain.setValueAtTime(e,c),u._node.gain.linearRampToValueAtTime(t,l)}i._startFadeInterval(u,e,t,n,o[s],void 0===r)}}return i},_startFadeInterval:function(e,t,n,r,i,a){var o=this,s=t,u=n-t,c=Math.abs(u/.01),l=Math.max(4,c>0?r/c:r),d=Date.now();e._fadeTo=n,e._interval=setInterval((function(){var i=(Date.now()-d)/r;d=Date.now(),s+=u*i,s=Math.round(100*s)/100,s=u<0?Math.max(n,s):Math.min(n,s),o._webAudio?e._volume=s:o.volume(s,e._id,!0),a&&(o._volume=s),(n<t&&s<=n||n>t&&s>=n)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,o.volume(n,e._id),o._emit("fade",e._id))}),l)},_stopFade:function(e){var t=this,n=t._soundById(e);return n&&n._interval&&(t._webAudio&&n._node.gain.cancelScheduledValues(a.ctx.currentTime),clearInterval(n._interval),n._interval=null,t.volume(n._fadeTo,e),n._fadeTo=null,t._emit("fade",e)),t},loop:function(){var e,t,n,r=this,i=arguments;if(0===i.length)return r._loop;if(1===i.length){if("boolean"!=typeof i[0])return!!(n=r._soundById(parseInt(i[0],10)))&&n._loop;e=i[0],r._loop=e}else 2===i.length&&(e=i[0],t=parseInt(i[1],10));for(var a=r._getSoundIds(t),o=0;o<a.length;o++)(n=r._soundById(a[o]))&&(n._loop=e,r._webAudio&&n._node&&n._node.bufferSource&&(n._node.bufferSource.loop=e,e&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop,r.playing(a[o])&&(r.pause(a[o],!0),r.play(a[o],!0)))));return r},rate:function(){var e,t,n,r=this,i=arguments;if(0===i.length)t=r._sounds[0]._id;else if(1===i.length){r._getSoundIds().indexOf(i[0])>=0?t=parseInt(i[0],10):e=parseFloat(i[0])}else 2===i.length&&(e=parseFloat(i[0]),t=parseInt(i[1],10));if("number"!=typeof e)return(n=r._soundById(t))?n._rate:r._rate;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"rate",action:function(){r.rate.apply(r,i)}}),r;void 0===t&&(r._rate=e),t=r._getSoundIds(t);for(var o=0;o<t.length;o++)if(n=r._soundById(t[o])){r.playing(t[o])&&(n._rateSeek=r.seek(t[o]),n._playStart=r._webAudio?a.ctx.currentTime:n._playStart),n._rate=e,r._webAudio&&n._node&&n._node.bufferSource?n._node.bufferSource.playbackRate.setValueAtTime(e,a.ctx.currentTime):n._node&&(n._node.playbackRate=e);var s=r.seek(t[o]),u=1e3*((r._sprite[n._sprite][0]+r._sprite[n._sprite][1])/1e3-s)/Math.abs(n._rate);!r._endTimers[t[o]]&&n._paused||(r._clearTimer(t[o]),r._endTimers[t[o]]=setTimeout(r._ended.bind(r,n),u)),r._emit("rate",n._id)}return r},seek:function(){var e,t,n=this,r=arguments;if(0===r.length)n._sounds.length&&(t=n._sounds[0]._id);else if(1===r.length){n._getSoundIds().indexOf(r[0])>=0?t=parseInt(r[0],10):n._sounds.length&&(t=n._sounds[0]._id,e=parseFloat(r[0]))}else 2===r.length&&(e=parseFloat(r[0]),t=parseInt(r[1],10));if(void 0===t)return 0;if("number"==typeof e&&("loaded"!==n._state||n._playLock))return n._queue.push({event:"seek",action:function(){n.seek.apply(n,r)}}),n;var i=n._soundById(t);if(i){if(!("number"==typeof e&&e>=0)){if(n._webAudio){var o=n.playing(t)?a.ctx.currentTime-i._playStart:0,s=i._rateSeek?i._rateSeek-i._seek:0;return i._seek+(s+o*Math.abs(i._rate))}return i._node.currentTime}var u=n.playing(t);u&&n.pause(t,!0),i._seek=e,i._ended=!1,n._clearTimer(t),n._webAudio||!i._node||isNaN(i._node.duration)||(i._node.currentTime=e);var c=function(){u&&n.play(t,!0),n._emit("seek",t)};if(u&&!n._webAudio){var l=function(){n._playLock?setTimeout(l,0):c()};setTimeout(l,0)}else c()}return n},playing:function(e){var t=this;if("number"==typeof e){var n=t._soundById(e);return!!n&&!n._paused}for(var r=0;r<t._sounds.length;r++)if(!t._sounds[r]._paused)return!0;return!1},duration:function(e){var t=this,n=t._duration,r=t._soundById(e);return r&&(n=t._sprite[r._sprite][1]/1e3),n},state:function(){return this._state},unload:function(){for(var e=this,t=e._sounds,n=0;n<t.length;n++)t[n]._paused||e.stop(t[n]._id),e._webAudio||(e._clearSound(t[n]._node),t[n]._node.removeEventListener("error",t[n]._errorFn,!1),t[n]._node.removeEventListener(a._canPlayEvent,t[n]._loadFn,!1),t[n]._node.removeEventListener("ended",t[n]._endFn,!1),a._releaseHtml5Audio(t[n]._node)),delete t[n]._node,e._clearTimer(t[n]._id);var r=a._howls.indexOf(e);r>=0&&a._howls.splice(r,1);var i=!0;for(n=0;n<a._howls.length;n++)if(a._howls[n]._src===e._src||e._src.indexOf(a._howls[n]._src)>=0){i=!1;break}return u&&i&&delete u[e._src],a.noAudio=!1,e._state="unloaded",e._sounds=[],e=null,null},on:function(e,t,n,r){var i=this["_on"+e];return"function"==typeof t&&i.push(r?{id:n,fn:t,once:r}:{id:n,fn:t}),this},off:function(e,t,n){var r=this,i=r["_on"+e],a=0;if("number"==typeof t&&(n=t,t=null),t||n)for(a=0;a<i.length;a++){var o=n===i[a].id;if(t===i[a].fn&&o||!t&&o){i.splice(a,1);break}}else if(e)r["_on"+e]=[];else{var s=Object.keys(r);for(a=0;a<s.length;a++)0===s[a].indexOf("_on")&&Array.isArray(r[s[a]])&&(r[s[a]]=[])}return r},once:function(e,t,n){return this.on(e,t,n,1),this},_emit:function(e,t,n){for(var r=this,i=r["_on"+e],a=i.length-1;a>=0;a--)i[a].id&&i[a].id!==t&&"load"!==e||(setTimeout(function(e){e.call(this,t,n)}.bind(r,i[a].fn),0),i[a].once&&r.off(e,i[a].fn,i[a].id));return r._loadQueue(e),r},_loadQueue:function(e){var t=this;if(t._queue.length>0){var n=t._queue[0];n.event===e&&(t._queue.shift(),t._loadQueue()),e||n.action()}return t},_ended:function(e){var t=this,n=e._sprite;if(!t._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(t._ended.bind(t,e),100),t;var r=!(!e._loop&&!t._sprite[n][2]);if(t._emit("end",e._id),!t._webAudio&&r&&t.stop(e._id,!0).play(e._id),t._webAudio&&r){t._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=a.ctx.currentTime;var i=1e3*(e._stop-e._start)/Math.abs(e._rate);t._endTimers[e._id]=setTimeout(t._ended.bind(t,e),i)}return t._webAudio&&!r&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,t._clearTimer(e._id),t._cleanBuffer(e._node),a._autoSuspend()),t._webAudio||r||t.stop(e._id,!0),t},_clearTimer:function(e){var t=this;if(t._endTimers[e]){if("function"!=typeof t._endTimers[e])clearTimeout(t._endTimers[e]);else{var n=t._soundById(e);n&&n._node&&n._node.removeEventListener("ended",t._endTimers[e],!1)}delete t._endTimers[e]}return t},_soundById:function(e){for(var t=this,n=0;n<t._sounds.length;n++)if(e===t._sounds[n]._id)return t._sounds[n];return null},_inactiveSound:function(){var e=this;e._drain();for(var t=0;t<e._sounds.length;t++)if(e._sounds[t]._ended)return e._sounds[t].reset();return new s(e)},_drain:function(){var e=this,t=e._pool,n=0,r=0;if(!(e._sounds.length<t)){for(r=0;r<e._sounds.length;r++)e._sounds[r]._ended&&n++;for(r=e._sounds.length-1;r>=0;r--){if(n<=t)return;e._sounds[r]._ended&&(e._webAudio&&e._sounds[r]._node&&e._sounds[r]._node.disconnect(0),e._sounds.splice(r,1),n--)}}},_getSoundIds:function(e){if(void 0===e){for(var t=[],n=0;n<this._sounds.length;n++)t.push(this._sounds[n]._id);return t}return[e]},_refreshBuffer:function(e){return e._node.bufferSource=a.ctx.createBufferSource(),e._node.bufferSource.buffer=u[this._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop||0),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,a.ctx.currentTime),this},_cleanBuffer:function(e){var t=a._navigator&&a._navigator.vendor.indexOf("Apple")>=0;if(!e.bufferSource)return this;if(a._scratchBuffer&&e.bufferSource&&(e.bufferSource.onended=null,e.bufferSource.disconnect(0),t))try{e.bufferSource.buffer=a._scratchBuffer}catch(e){}return e.bufferSource=null,this},_clearSound:function(e){/MSIE |Trident\//.test(a._navigator&&a._navigator.userAgent)||(e.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var s=function(e){this._parent=e,this.init()};s.prototype={init:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++a._counter,t._sounds.push(e),e.create(),e},create:function(){var e=this,t=e._parent,n=a._muted||e._muted||e._parent._muted?0:e._volume;return t._webAudio?(e._node=void 0===a.ctx.createGain?a.ctx.createGainNode():a.ctx.createGain(),e._node.gain.setValueAtTime(n,a.ctx.currentTime),e._node.paused=!0,e._node.connect(a.masterGain)):a.noAudio||(e._node=a._obtainHtml5Audio(),e._errorFn=e._errorListener.bind(e),e._node.addEventListener("error",e._errorFn,!1),e._loadFn=e._loadListener.bind(e),e._node.addEventListener(a._canPlayEvent,e._loadFn,!1),e._endFn=e._endListener.bind(e),e._node.addEventListener("ended",e._endFn,!1),e._node.src=t._src,e._node.preload=!0===t._preload?"auto":t._preload,e._node.volume=n*a.volume(),e._node.load()),e},reset:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._rateSeek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++a._counter,e},_errorListener:function(){var e=this;e._parent._emit("loaderror",e._id,e._node.error?e._node.error.code:0),e._node.removeEventListener("error",e._errorFn,!1)},_loadListener:function(){var e=this,t=e._parent;t._duration=Math.ceil(10*e._node.duration)/10,0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue()),e._node.removeEventListener(a._canPlayEvent,e._loadFn,!1)},_endListener:function(){var e=this,t=e._parent;t._duration===1/0&&(t._duration=Math.ceil(10*e._node.duration)/10,t._sprite.__default[1]===1/0&&(t._sprite.__default[1]=1e3*t._duration),t._ended(e)),e._node.removeEventListener("ended",e._endFn,!1)}};var u={},c=function(e){var t=e._src;if(u[t])return e._duration=u[t].duration,void p(e);if(/^data:[^;]+;base64,/.test(t)){for(var n=atob(t.split(",")[1]),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);d(r.buffer,e)}else{var a=new XMLHttpRequest;a.open(e._xhr.method,t,!0),a.withCredentials=e._xhr.withCredentials,a.responseType="arraybuffer",e._xhr.headers&&Object.keys(e._xhr.headers).forEach((function(t){a.setRequestHeader(t,e._xhr.headers[t])})),a.onload=function(){var t=(a.status+"")[0];"0"===t||"2"===t||"3"===t?d(a.response,e):e._emit("loaderror",null,"Failed loading audio file with status: "+a.status+".")},a.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete u[t],e.load())},l(a)}},l=function(e){try{e.send()}catch(t){e.onerror()}},d=function(e,t){var n=function(){t._emit("loaderror",null,"Decoding audio data failed.")},r=function(e){e&&t._sounds.length>0?(u[t._src]=e,p(t,e)):n()};"undefined"!=typeof Promise&&1===a.ctx.decodeAudioData.length?a.ctx.decodeAudioData(e).then(r).catch(n):a.ctx.decodeAudioData(e,r,n)},p=function(e,t){t&&!e._duration&&(e._duration=t.duration),0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue())},f=function(){if(a.usingWebAudio){try{"undefined"!=typeof AudioContext?a.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?a.ctx=new webkitAudioContext:a.usingWebAudio=!1}catch(e){a.usingWebAudio=!1}a.ctx||(a.usingWebAudio=!1);var e=/iP(hone|od|ad)/.test(a._navigator&&a._navigator.platform),t=a._navigator&&a._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),n=t?parseInt(t[1],10):null;if(e&&n&&n<9){var r=/safari/.test(a._navigator&&a._navigator.userAgent.toLowerCase());a._navigator&&!r&&(a.usingWebAudio=!1)}a.usingWebAudio&&(a.masterGain=void 0===a.ctx.createGain?a.ctx.createGainNode():a.ctx.createGain(),a.masterGain.gain.setValueAtTime(a._muted?0:a._volume,a.ctx.currentTime),a.masterGain.connect(a.ctx.destination)),a._setup()}};void 0===(r=function(){return{Howler:a,Howl:o}}.apply(t,[]))||(e.exports=r),t.Howler=a,t.Howl=o,void 0!==n.g?(n.g.HowlerGlobal=i,n.g.Howler=a,n.g.Howl=o,n.g.Sound=s):"undefined"!=typeof window&&(window.HowlerGlobal=i,window.Howler=a,window.Howl=o,window.Sound=s)}(),function(){"use strict";var e;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(e){var t=this;if(!t.ctx||!t.ctx.listener)return t;for(var n=t._howls.length-1;n>=0;n--)t._howls[n].stereo(e);return t},HowlerGlobal.prototype.pos=function(e,t,n){var r=this;return r.ctx&&r.ctx.listener?(t="number"!=typeof t?r._pos[1]:t,n="number"!=typeof n?r._pos[2]:n,"number"!=typeof e?r._pos:(r._pos=[e,t,n],void 0!==r.ctx.listener.positionX?(r.ctx.listener.positionX.setTargetAtTime(r._pos[0],Howler.ctx.currentTime,.1),r.ctx.listener.positionY.setTargetAtTime(r._pos[1],Howler.ctx.currentTime,.1),r.ctx.listener.positionZ.setTargetAtTime(r._pos[2],Howler.ctx.currentTime,.1)):r.ctx.listener.setPosition(r._pos[0],r._pos[1],r._pos[2]),r)):r},HowlerGlobal.prototype.orientation=function(e,t,n,r,i,a){var o=this;if(!o.ctx||!o.ctx.listener)return o;var s=o._orientation;return t="number"!=typeof t?s[1]:t,n="number"!=typeof n?s[2]:n,r="number"!=typeof r?s[3]:r,i="number"!=typeof i?s[4]:i,a="number"!=typeof a?s[5]:a,"number"!=typeof e?s:(o._orientation=[e,t,n,r,i,a],void 0!==o.ctx.listener.forwardX?(o.ctx.listener.forwardX.setTargetAtTime(e,Howler.ctx.currentTime,.1),o.ctx.listener.forwardY.setTargetAtTime(t,Howler.ctx.currentTime,.1),o.ctx.listener.forwardZ.setTargetAtTime(n,Howler.ctx.currentTime,.1),o.ctx.listener.upX.setTargetAtTime(r,Howler.ctx.currentTime,.1),o.ctx.listener.upY.setTargetAtTime(i,Howler.ctx.currentTime,.1),o.ctx.listener.upZ.setTargetAtTime(a,Howler.ctx.currentTime,.1)):o.ctx.listener.setOrientation(e,t,n,r,i,a),o)},Howl.prototype.init=(e=Howl.prototype.init,function(t){var n=this;return n._orientation=t.orientation||[1,0,0],n._stereo=t.stereo||null,n._pos=t.pos||null,n._pannerAttr={coneInnerAngle:void 0!==t.coneInnerAngle?t.coneInnerAngle:360,coneOuterAngle:void 0!==t.coneOuterAngle?t.coneOuterAngle:360,coneOuterGain:void 0!==t.coneOuterGain?t.coneOuterGain:0,distanceModel:void 0!==t.distanceModel?t.distanceModel:"inverse",maxDistance:void 0!==t.maxDistance?t.maxDistance:1e4,panningModel:void 0!==t.panningModel?t.panningModel:"HRTF",refDistance:void 0!==t.refDistance?t.refDistance:1,rolloffFactor:void 0!==t.rolloffFactor?t.rolloffFactor:1},n._onstereo=t.onstereo?[{fn:t.onstereo}]:[],n._onpos=t.onpos?[{fn:t.onpos}]:[],n._onorientation=t.onorientation?[{fn:t.onorientation}]:[],e.call(this,t)}),Howl.prototype.stereo=function(e,n){var r=this;if(!r._webAudio)return r;if("loaded"!==r._state)return r._queue.push({event:"stereo",action:function(){r.stereo(e,n)}}),r;var i=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===n){if("number"!=typeof e)return r._stereo;r._stereo=e,r._pos=[e,0,0]}for(var a=r._getSoundIds(n),o=0;o<a.length;o++){var s=r._soundById(a[o]);if(s){if("number"!=typeof e)return s._stereo;s._stereo=e,s._pos=[e,0,0],s._node&&(s._pannerAttr.panningModel="equalpower",s._panner&&s._panner.pan||t(s,i),"spatial"===i?void 0!==s._panner.positionX?(s._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),s._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),s._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):s._panner.setPosition(e,0,0):s._panner.pan.setValueAtTime(e,Howler.ctx.currentTime)),r._emit("stereo",s._id)}}return r},Howl.prototype.pos=function(e,n,r,i){var a=this;if(!a._webAudio)return a;if("loaded"!==a._state)return a._queue.push({event:"pos",action:function(){a.pos(e,n,r,i)}}),a;if(n="number"!=typeof n?0:n,r="number"!=typeof r?-.5:r,void 0===i){if("number"!=typeof e)return a._pos;a._pos=[e,n,r]}for(var o=a._getSoundIds(i),s=0;s<o.length;s++){var u=a._soundById(o[s]);if(u){if("number"!=typeof e)return u._pos;u._pos=[e,n,r],u._node&&(u._panner&&!u._panner.pan||t(u,"spatial"),void 0!==u._panner.positionX?(u._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),u._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),u._panner.positionZ.setValueAtTime(r,Howler.ctx.currentTime)):u._panner.setPosition(e,n,r)),a._emit("pos",u._id)}}return a},Howl.prototype.orientation=function(e,n,r,i){var a=this;if(!a._webAudio)return a;if("loaded"!==a._state)return a._queue.push({event:"orientation",action:function(){a.orientation(e,n,r,i)}}),a;if(n="number"!=typeof n?a._orientation[1]:n,r="number"!=typeof r?a._orientation[2]:r,void 0===i){if("number"!=typeof e)return a._orientation;a._orientation=[e,n,r]}for(var o=a._getSoundIds(i),s=0;s<o.length;s++){var u=a._soundById(o[s]);if(u){if("number"!=typeof e)return u._orientation;u._orientation=[e,n,r],u._node&&(u._panner||(u._pos||(u._pos=a._pos||[0,0,-.5]),t(u,"spatial")),void 0!==u._panner.orientationX?(u._panner.orientationX.setValueAtTime(e,Howler.ctx.currentTime),u._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),u._panner.orientationZ.setValueAtTime(r,Howler.ctx.currentTime)):u._panner.setOrientation(e,n,r)),a._emit("orientation",u._id)}}return a},Howl.prototype.pannerAttr=function(){var e,n,r,a=this,o=arguments;if(!a._webAudio)return a;if(0===o.length)return a._pannerAttr;if(1===o.length){if("object"!==i(o[0]))return(r=a._soundById(parseInt(o[0],10)))?r._pannerAttr:a._pannerAttr;e=o[0],void 0===n&&(e.pannerAttr||(e.pannerAttr={coneInnerAngle:e.coneInnerAngle,coneOuterAngle:e.coneOuterAngle,coneOuterGain:e.coneOuterGain,distanceModel:e.distanceModel,maxDistance:e.maxDistance,refDistance:e.refDistance,rolloffFactor:e.rolloffFactor,panningModel:e.panningModel}),a._pannerAttr={coneInnerAngle:void 0!==e.pannerAttr.coneInnerAngle?e.pannerAttr.coneInnerAngle:a._coneInnerAngle,coneOuterAngle:void 0!==e.pannerAttr.coneOuterAngle?e.pannerAttr.coneOuterAngle:a._coneOuterAngle,coneOuterGain:void 0!==e.pannerAttr.coneOuterGain?e.pannerAttr.coneOuterGain:a._coneOuterGain,distanceModel:void 0!==e.pannerAttr.distanceModel?e.pannerAttr.distanceModel:a._distanceModel,maxDistance:void 0!==e.pannerAttr.maxDistance?e.pannerAttr.maxDistance:a._maxDistance,refDistance:void 0!==e.pannerAttr.refDistance?e.pannerAttr.refDistance:a._refDistance,rolloffFactor:void 0!==e.pannerAttr.rolloffFactor?e.pannerAttr.rolloffFactor:a._rolloffFactor,panningModel:void 0!==e.pannerAttr.panningModel?e.pannerAttr.panningModel:a._panningModel})}else 2===o.length&&(e=o[0],n=parseInt(o[1],10));for(var s=a._getSoundIds(n),u=0;u<s.length;u++)if(r=a._soundById(s[u])){var c=r._pannerAttr;c={coneInnerAngle:void 0!==e.coneInnerAngle?e.coneInnerAngle:c.coneInnerAngle,coneOuterAngle:void 0!==e.coneOuterAngle?e.coneOuterAngle:c.coneOuterAngle,coneOuterGain:void 0!==e.coneOuterGain?e.coneOuterGain:c.coneOuterGain,distanceModel:void 0!==e.distanceModel?e.distanceModel:c.distanceModel,maxDistance:void 0!==e.maxDistance?e.maxDistance:c.maxDistance,refDistance:void 0!==e.refDistance?e.refDistance:c.refDistance,rolloffFactor:void 0!==e.rolloffFactor?e.rolloffFactor:c.rolloffFactor,panningModel:void 0!==e.panningModel?e.panningModel:c.panningModel};var l=r._panner;l||(r._pos||(r._pos=a._pos||[0,0,-.5]),t(r,"spatial"),l=r._panner),l.coneInnerAngle=c.coneInnerAngle,l.coneOuterAngle=c.coneOuterAngle,l.coneOuterGain=c.coneOuterGain,l.distanceModel=c.distanceModel,l.maxDistance=c.maxDistance,l.refDistance=c.refDistance,l.rolloffFactor=c.rolloffFactor,l.panningModel=c.panningModel}return a},Sound.prototype.init=function(e){return function(){var t=this,n=t._parent;t._orientation=n._orientation,t._stereo=n._stereo,t._pos=n._pos,t._pannerAttr=n._pannerAttr,e.call(this),t._stereo?n.stereo(t._stereo):t._pos&&n.pos(t._pos[0],t._pos[1],t._pos[2],t._id)}}(Sound.prototype.init),Sound.prototype.reset=function(e){return function(){var t=this,n=t._parent;return t._orientation=n._orientation,t._stereo=n._stereo,t._pos=n._pos,t._pannerAttr=n._pannerAttr,t._stereo?n.stereo(t._stereo):t._pos?n.pos(t._pos[0],t._pos[1],t._pos[2],t._id):t._panner&&(t._panner.disconnect(0),t._panner=void 0,n._refreshBuffer(t)),e.call(this)}}(Sound.prototype.reset);var t=function(e,t){"spatial"===(t=t||"spatial")?(e._panner=Howler.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOuterAngle=e._pannerAttr.coneOuterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.panningModel=e._pannerAttr.panningModel,void 0!==e._panner.positionX?(e._panner.positionX.setValueAtTime(e._pos[0],Howler.ctx.currentTime),e._panner.positionY.setValueAtTime(e._pos[1],Howler.ctx.currentTime),e._panner.positionZ.setValueAtTime(e._pos[2],Howler.ctx.currentTime)):e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),void 0!==e._panner.orientationX?(e._panner.orientationX.setValueAtTime(e._orientation[0],Howler.ctx.currentTime),e._panner.orientationY.setValueAtTime(e._orientation[1],Howler.ctx.currentTime),e._panner.orientationZ.setValueAtTime(e._orientation[2],Howler.ctx.currentTime)):e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2])):(e._panner=Howler.ctx.createStereoPanner(),e._panner.pan.setValueAtTime(e._stereo,Howler.ctx.currentTime)),e._panner.connect(e._node),e._paused||e._parent.pause(e._id,!0).play(e._id,!0)}}()},49905:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},49979:(e,t,n)=>{n(16280),n(76918);var r=n(85192);n(53486),n(70430),n(49046),n(90005),n(66978),n(31899),n(22205),n(90705),n(32807),n(33423);var i=r.asn1,a=e.exports=r.pki=r.pki||{};a.pemToDer=function(e){var t=r.pem.decode(e)[0];if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert PEM to DER; PEM is encrypted.");return r.util.createBuffer(t.body)},a.privateKeyFromPem=function(e){var t=r.pem.decode(e)[0];if("PRIVATE KEY"!==t.type&&"RSA PRIVATE KEY"!==t.type){var n=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw n.headerType=t.type,n}if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert private key from PEM; PEM is encrypted.");var o=i.fromDer(t.body);return a.privateKeyFromAsn1(o)},a.privateKeyToPem=function(e,t){var n={type:"RSA PRIVATE KEY",body:i.toDer(a.privateKeyToAsn1(e)).getBytes()};return r.pem.encode(n,{maxline:t})},a.privateKeyInfoToPem=function(e,t){var n={type:"PRIVATE KEY",body:i.toDer(e).getBytes()};return r.pem.encode(n,{maxline:t})}},50113:(e,t,n)=>{"use strict";var r=n(46518),i=n(59213).find,a=n(6469),o="find",s=!0;o in[]&&Array(1)[o]((function(){s=!1})),r({target:"Array",proto:!0,forced:s},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a(o)},50121:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Browser:()=>f,BrowserWeb:()=>p});n(60825);var r=n(18443),i=n(58237),a=n(84285),o=n(68119),s=n(36858),u=n(31061),c=(n(26099),n(3362),n(61792)),l=n.n(c);function d(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(d=function(){return!!e})()}var p=function(e){function t(){var e;return(0,i.A)(this,t),(e=function(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,d()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}(this,t))._lastWindow=null,e}return(0,u.A)(t,e),(0,a.A)(t,[{key:"open",value:(c=(0,r.A)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._lastWindow=window.open(t.url,t.windowName||"_blank");case 1:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"close",value:(n=(0,r.A)(l().mark((function e(){var t=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){null!=t._lastWindow?(t._lastWindow.close(),t._lastWindow=null,e()):n("No active window to close!")})));case 1:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})}]);var n,c}(n(94230).E_),f=new p},50283:(e,t,n)=>{"use strict";var r=n(79504),i=n(79039),a=n(94901),o=n(39297),s=n(43724),u=n(10350).CONFIGURABLE,c=n(33706),l=n(91181),d=l.enforce,p=l.get,f=String,h=Object.defineProperty,m=r("".slice),v=r("".replace),g=r([].join),y=s&&!i((function(){return 8!==h((function(){}),"length",{value:8}).length})),b=String(String).split("String"),w=e.exports=function(e,t,n){"Symbol("===m(f(t),0,7)&&(t="["+v(f(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!o(e,"name")||u&&e.name!==t)&&(s?h(e,"name",{value:t,configurable:!0}):e.name=t),y&&n&&o(n,"arity")&&e.length!==n.arity&&h(e,"length",{value:n.arity});try{n&&o(n,"constructor")&&n.constructor?s&&h(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var r=d(e);return o(r,"source")||(r.source=g(b,"string"==typeof t?t:"")),e};Function.prototype.toString=w((function(){return a(this)&&p(this).source||c(this)}),"toString")},50310:()=>{},50360:(e,t,n)=>{"use strict";var r=n(44576).isFinite;e.exports=Number.isFinite||function(e){return"number"==typeof e&&r(e)}},50375:(e,t,n)=>{"use strict";var r=n(46518),i=n(79504),a=n(67750),o=n(91291),s=n(655),u=i("".slice),c=Math.max,l=Math.min;r({target:"String",proto:!0,forced:!"".substr||"b"!=="ab".substr(-1)},{substr:function(e,t){var n,r,i=s(a(this)),d=i.length,p=o(e);return p===1/0&&(p=0),p<0&&(p=c(d+p,0)),(n=void 0===t?d:o(t))<=0||n===1/0||p>=(r=l(p+n,d))?"":u(i,p,r)}})},50469:(e,t,n)=>{n(52675),n(89463),n(16280),n(76918),n(51629),n(44114),n(94490),n(34782),n(62010),n(59904),n(84185),n(40875),n(63548),n(10287),n(26099),n(3362),n(98992),n(3949),n(23500);var r=n(89990).default;function i(){"use strict";e.exports=i=function(){return n},e.exports.__esModule=!0,e.exports.default=e.exports;var t,n={},a=Object.prototype,o=a.hasOwnProperty,s=Object.defineProperty||function(e,t,n){e[t]=n.value},u="function"==typeof Symbol?Symbol:{},c=u.iterator||"@@iterator",l=u.asyncIterator||"@@asyncIterator",d=u.toStringTag||"@@toStringTag";function p(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{p({},"")}catch(t){p=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var i=t&&t.prototype instanceof w?t:w,a=Object.create(i.prototype),o=new I(r||[]);return s(a,"_invoke",{value:T(e,n,o)}),a}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}n.wrap=f;var m="suspendedStart",v="suspendedYield",g="executing",y="completed",b={};function w(){}function D(){}function A(){}var E={};p(E,c,(function(){return this}));var k=Object.getPrototypeOf,C=k&&k(k(B([])));C&&C!==a&&o.call(C,c)&&(E=C);var _=A.prototype=w.prototype=Object.create(E);function x(e){["next","throw","return"].forEach((function(t){p(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(i,a,s,u){var c=h(e[i],e,a);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==r(d)&&o.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(d).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,u)}))}u(c.arg)}var i;s(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}})}function T(e,n,r){var i=m;return function(a,o){if(i===g)throw Error("Generator is already running");if(i===y){if("throw"===a)throw o;return{value:t,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var u=F(s,r);if(u){if(u===b)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===m)throw i=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=g;var c=h(e,n,r);if("normal"===c.type){if(i=r.done?y:v,c.arg===b)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=y,r.method="throw",r.arg=c.arg)}}}function F(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,F(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),b;var a=h(i,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,b;var o=a.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,b):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function B(e){if(e||""===e){var n=e[c];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(o.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(r(e)+" is not iterable")}return D.prototype=A,s(_,"constructor",{value:A,configurable:!0}),s(A,"constructor",{value:D,configurable:!0}),D.displayName=p(A,d,"GeneratorFunction"),n.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===D||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,A):(e.__proto__=A,p(e,d,"GeneratorFunction")),e.prototype=Object.create(_),e},n.awrap=function(e){return{__await:e}},x(S.prototype),p(S.prototype,l,(function(){return this})),n.AsyncIterator=S,n.async=function(e,t,r,i,a){void 0===a&&(a=Promise);var o=new S(f(e,t,r,i),a);return n.isGeneratorFunction(t)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},x(_),p(_,d,"Generator"),p(_,c,(function(){return this})),p(_,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},n.values=B,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=o.call(a,"catchLoc"),c=o.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,b):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),b}},"catch":function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;P(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:B(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),b}},n}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},50477:()=>{},50778:(e,t,n)=>{"use strict";var r=n(46518),i=n(77240);r({target:"String",proto:!0,forced:n(23061)("link")},{link:function(e){return i(this,"a","href",e)}})},50851:(e,t,n)=>{"use strict";var r=n(36955),i=n(55966),a=n(64117),o=n(26269),s=n(78227)("iterator");e.exports=function(e){if(!a(e))return i(e,s)||i(e,"@@iterator")||o[r(e)]}},51017:(e,t,n)=>{var r=n(85192);n(53486);var i=r.asn1;t.privateKeyValidator={name:"PrivateKeyInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},t.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:i.Class.UNIVERSAL,type:i.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}},51088:(e,t,n)=>{"use strict";var r=n(46518),i=n(69565),a=n(96395),o=n(10350),s=n(94901),u=n(33994),c=n(42787),l=n(52967),d=n(10687),p=n(66699),f=n(36840),h=n(78227),m=n(26269),v=n(57657),g=o.PROPER,y=o.CONFIGURABLE,b=v.IteratorPrototype,w=v.BUGGY_SAFARI_ITERATORS,D=h("iterator"),A="keys",E="values",k="entries",C=function(){return this};e.exports=function(e,t,n,o,h,v,_){u(n,t,o);var x,S,T,F=function(e){if(e===h&&R)return R;if(!w&&e&&e in I)return I[e];switch(e){case A:case E:case k:return function(){return new n(this,e)}}return function(){return new n(this)}},O=t+" Iterator",P=!1,I=e.prototype,B=I[D]||I["@@iterator"]||h&&I[h],R=!w&&B||F(h),N="Array"===t&&I.entries||B;if(N&&(x=c(N.call(new e)))!==Object.prototype&&x.next&&(a||c(x)===b||(l?l(x,b):s(x[D])||f(x,D,C)),d(x,O,!0,!0),a&&(m[O]=C)),g&&h===E&&B&&B.name!==E&&(!a&&y?p(I,"name",E):(P=!0,R=function(){return i(B,this)})),h)if(S={values:F(E),keys:v?R:F(A),entries:F(k)},_)for(T in S)(w||P||!(T in I))&&f(I,T,S[T]);else r({target:t,proto:!0,forced:w||P},S);return a&&!_||I[D]===R||f(I,D,R,{name:h}),m[t]=R,S}},51391:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var r=function(){for(var e="",t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;t--;)e+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return e}},51481:(e,t,n)=>{"use strict";var r=n(46518),i=n(36043);r({target:"Promise",stat:!0,forced:n(10916).CONSTRUCTOR},{reject:function(e){var t=i.f(this);return(0,t.reject)(e),t.promise}})},51494:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});n(62010);var r=n(77943),i=n(63265);function a(e){var t;if(e.type)return e.type;var n=e.name?null==(t=(0,r.A)(e.name).extension)?void 0:t.toLowerCase():null;return n&&n in i.A?i.A[n]:"application/octet-stream"}},51531:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});n(84185);var r=n(19326);function i(e,t,n){return(t=(0,r.A)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},51629:(e,t,n)=>{"use strict";var r=n(46518),i=n(90235);r({target:"Array",proto:!0,forced:[].forEach!==i},{forEach:i})},51807:(e,t,n)=>{n(44114),n(50375);var r=n(85192);n(1238),n(32807);var i=e.exports=r.md5=r.md5||{};r.md.md5=r.md.algorithms.md5=i,i.create=function(){c||function(){a=String.fromCharCode(128),a+=r.util.fillString(String.fromCharCode(0),64),o=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],s=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],u=new Array(64);for(var e=0;e<64;++e)u[e]=Math.floor(4294967296*Math.abs(Math.sin(e+1)));c=!0}();var e=null,t=r.util.createBuffer(),n=new Array(16),i={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){i.messageLength=0,i.fullMessageLength=i.messageLength64=[];for(var n=i.messageLengthSize/4,a=0;a<n;++a)i.fullMessageLength.push(0);return t=r.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},i}};return i.start(),i.update=function(a,o){"utf8"===o&&(a=r.util.encodeUtf8(a));var s=a.length;i.messageLength+=s,s=[s/4294967296>>>0,s>>>0];for(var u=i.fullMessageLength.length-1;u>=0;--u)i.fullMessageLength[u]+=s[1],s[1]=s[0]+(i.fullMessageLength[u]/4294967296>>>0),i.fullMessageLength[u]=i.fullMessageLength[u]>>>0,s[0]=s[1]/4294967296>>>0;return t.putBytes(a),l(e,n,t),(t.read>2048||0===t.length())&&t.compact(),i},i.digest=function(){var o=r.util.createBuffer();o.putBytes(t.bytes());var s=i.fullMessageLength[i.fullMessageLength.length-1]+i.messageLengthSize&i.blockLength-1;o.putBytes(a.substr(0,i.blockLength-s));for(var u,c=0,d=i.fullMessageLength.length-1;d>=0;--d)c=(u=8*i.fullMessageLength[d]+c)/4294967296>>>0,o.putInt32Le(u>>>0);var p={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3};l(p,n,o);var f=r.util.createBuffer();return f.putInt32Le(p.h0),f.putInt32Le(p.h1),f.putInt32Le(p.h2),f.putInt32Le(p.h3),f},i};var a=null,o=null,s=null,u=null,c=!1;function l(e,t,n){for(var r,i,a,c,l,d,p,f=n.length();f>=64;){for(i=e.h0,a=e.h1,c=e.h2,l=e.h3,p=0;p<16;++p)t[p]=n.getInt32Le(),r=i+(l^a&(c^l))+u[p]+t[p],i=l,l=c,c=a,a+=r<<(d=s[p])|r>>>32-d;for(;p<32;++p)r=i+(c^l&(a^c))+u[p]+t[o[p]],i=l,l=c,c=a,a+=r<<(d=s[p])|r>>>32-d;for(;p<48;++p)r=i+(a^c^l)+u[p]+t[o[p]],i=l,l=c,c=a,a+=r<<(d=s[p])|r>>>32-d;for(;p<64;++p)r=i+(c^(a|~l))+u[p]+t[o[p]],i=l,l=c,c=a,a+=r<<(d=s[p])|r>>>32-d;e.h0=e.h0+i|0,e.h1=e.h1+a|0,e.h2=e.h2+c|0,e.h3=e.h3+l|0,f-=64}}},51869:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},52364:(e,t,n)=>{n(76918),n(72712),n(23288),n(26099),n(38781),n(50375),n(98992),n(8872);var r,i=n(85192);e.exports=i.jsbn=i.jsbn||{};function a(e,t,n){this.data=[],null!=e&&("number"==typeof e?this.fromNumber(e,t,n):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function o(){return new a(null)}function s(e,t,n,r,i,a){for(var o=16383&t,s=t>>14;--a>=0;){var u=16383&this.data[e],c=this.data[e++]>>14,l=s*u+c*o;i=((u=o*u+((16383&l)<<14)+n.data[r]+i)>>28)+(l>>14)+s*c,n.data[r++]=268435455&u}return i}i.jsbn.BigInteger=a,"undefined"==typeof navigator?(a.prototype.am=s,r=28):"Microsoft Internet Explorer"==navigator.appName?(a.prototype.am=function(e,t,n,r,i,a){for(var o=32767&t,s=t>>15;--a>=0;){var u=32767&this.data[e],c=this.data[e++]>>15,l=s*u+c*o;i=((u=o*u+((32767&l)<<15)+n.data[r]+(1073741823&i))>>>30)+(l>>>15)+s*c+(i>>>30),n.data[r++]=1073741823&u}return i},r=30):"Netscape"!=navigator.appName?(a.prototype.am=function(e,t,n,r,i,a){for(;--a>=0;){var o=t*this.data[e++]+n.data[r]+i;i=Math.floor(o/67108864),n.data[r++]=67108863&o}return i},r=26):(a.prototype.am=s,r=28),a.prototype.DB=r,a.prototype.DM=(1<<r)-1,a.prototype.DV=1<<r;a.prototype.FV=Math.pow(2,52),a.prototype.F1=52-r,a.prototype.F2=2*r-52;var u,c,l=new Array;for(u="0".charCodeAt(0),c=0;c<=9;++c)l[u++]=c;for(u="a".charCodeAt(0),c=10;c<36;++c)l[u++]=c;for(u="A".charCodeAt(0),c=10;c<36;++c)l[u++]=c;function d(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function p(e,t){var n=l[e.charCodeAt(t)];return null==n?-1:n}function f(e){var t=o();return t.fromInt(e),t}function h(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function m(e){this.m=e}function v(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function g(e,t){return e&t}function y(e,t){return e|t}function b(e,t){return e^t}function w(e,t){return e&~t}function D(e){if(0==e)return-1;var t=0;return 65535&e||(e>>=16,t+=16),255&e||(e>>=8,t+=8),15&e||(e>>=4,t+=4),3&e||(e>>=2,t+=2),1&e||++t,t}function A(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function E(){}function k(e){return e}function C(e){this.r2=o(),this.q3=o(),a.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}m.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},m.prototype.revert=function(e){return e},m.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},m.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},m.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},v.prototype.convert=function(e){var t=o();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(a.ZERO)>0&&this.m.subTo(t,t),t},v.prototype.revert=function(e){var t=o();return e.copyTo(t),this.reduce(t),t},v.prototype.reduce=function(e){for(;e.t<=this.mt2;)e.data[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e.data[t],r=n*this.mpl+((n*this.mph+(e.data[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(n=t+this.m.t,e.data[n]+=this.m.am(0,r,e,t,0,this.m.t);e.data[n]>=e.DV;)e.data[n]-=e.DV,e.data[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},v.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},v.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},a.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e.data[t]=this.data[t];e.t=this.t,e.s=this.s},a.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this.data[0]=e:e<-1?this.data[0]=e+this.DV:this.t=0},a.prototype.fromString=function(e,t){var n;if(16==t)n=4;else if(8==t)n=3;else if(256==t)n=8;else if(2==t)n=1;else if(32==t)n=5;else{if(4!=t)return void this.fromRadix(e,t);n=2}this.t=0,this.s=0;for(var r=e.length,i=!1,o=0;--r>=0;){var s=8==n?255&e[r]:p(e,r);s<0?"-"==e.charAt(r)&&(i=!0):(i=!1,0==o?this.data[this.t++]=s:o+n>this.DB?(this.data[this.t-1]|=(s&(1<<this.DB-o)-1)<<o,this.data[this.t++]=s>>this.DB-o):this.data[this.t-1]|=s<<o,(o+=n)>=this.DB&&(o-=this.DB))}8==n&&128&e[0]&&(this.s=-1,o>0&&(this.data[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),i&&a.ZERO.subTo(this,this)},a.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this.data[this.t-1]==e;)--this.t},a.prototype.dlShiftTo=function(e,t){var n;for(n=this.t-1;n>=0;--n)t.data[n+e]=this.data[n];for(n=e-1;n>=0;--n)t.data[n]=0;t.t=this.t+e,t.s=this.s},a.prototype.drShiftTo=function(e,t){for(var n=e;n<this.t;++n)t.data[n-e]=this.data[n];t.t=Math.max(this.t-e,0),t.s=this.s},a.prototype.lShiftTo=function(e,t){var n,r=e%this.DB,i=this.DB-r,a=(1<<i)-1,o=Math.floor(e/this.DB),s=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)t.data[n+o+1]=this.data[n]>>i|s,s=(this.data[n]&a)<<r;for(n=o-1;n>=0;--n)t.data[n]=0;t.data[o]=s,t.t=this.t+o+1,t.s=this.s,t.clamp()},a.prototype.rShiftTo=function(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)t.t=0;else{var r=e%this.DB,i=this.DB-r,a=(1<<r)-1;t.data[0]=this.data[n]>>r;for(var o=n+1;o<this.t;++o)t.data[o-n-1]|=(this.data[o]&a)<<i,t.data[o-n]=this.data[o]>>r;r>0&&(t.data[this.t-n-1]|=(this.s&a)<<i),t.t=this.t-n,t.clamp()}},a.prototype.subTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this.data[n]-e.data[n],t.data[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;n<this.t;)r+=this.data[n],t.data[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r-=e.data[n],t.data[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=r<0?-1:0,r<-1?t.data[n++]=this.DV+r:r>0&&(t.data[n++]=r),t.t=n,t.clamp()},a.prototype.multiplyTo=function(e,t){var n=this.abs(),r=e.abs(),i=n.t;for(t.t=i+r.t;--i>=0;)t.data[i]=0;for(i=0;i<r.t;++i)t.data[i+n.t]=n.am(0,r.data[i],t,i,0,n.t);t.s=0,t.clamp(),this.s!=e.s&&a.ZERO.subTo(t,t)},a.prototype.squareTo=function(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e.data[n]=0;for(n=0;n<t.t-1;++n){var r=t.am(n,t.data[n],e,2*n,0,1);(e.data[n+t.t]+=t.am(n+1,2*t.data[n],e,2*n+1,r,t.t-n-1))>=t.DV&&(e.data[n+t.t]-=t.DV,e.data[n+t.t+1]=1)}e.t>0&&(e.data[e.t-1]+=t.am(n,t.data[n],e,2*n,0,1)),e.s=0,e.clamp()},a.prototype.divRemTo=function(e,t,n){var r=e.abs();if(!(r.t<=0)){var i=this.abs();if(i.t<r.t)return null!=t&&t.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=o());var s=o(),u=this.s,c=e.s,l=this.DB-h(r.data[r.t-1]);l>0?(r.lShiftTo(l,s),i.lShiftTo(l,n)):(r.copyTo(s),i.copyTo(n));var d=s.t,p=s.data[d-1];if(0!=p){var f=p*(1<<this.F1)+(d>1?s.data[d-2]>>this.F2:0),m=this.FV/f,v=(1<<this.F1)/f,g=1<<this.F2,y=n.t,b=y-d,w=null==t?o():t;for(s.dlShiftTo(b,w),n.compareTo(w)>=0&&(n.data[n.t++]=1,n.subTo(w,n)),a.ONE.dlShiftTo(d,w),w.subTo(s,s);s.t<d;)s.data[s.t++]=0;for(;--b>=0;){var D=n.data[--y]==p?this.DM:Math.floor(n.data[y]*m+(n.data[y-1]+g)*v);if((n.data[y]+=s.am(0,D,n,b,0,d))<D)for(s.dlShiftTo(b,w),n.subTo(w,n);n.data[y]<--D;)n.subTo(w,n)}null!=t&&(n.drShiftTo(d,t),u!=c&&a.ZERO.subTo(t,t)),n.t=d,n.clamp(),l>0&&n.rShiftTo(l,n),u<0&&a.ZERO.subTo(n,n)}}},a.prototype.invDigit=function(){if(this.t<1)return 0;var e=this.data[0];if(!(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},a.prototype.isEven=function(){return 0==(this.t>0?1&this.data[0]:this.s)},a.prototype.exp=function(e,t){if(e>4294967295||e<1)return a.ONE;var n=o(),r=o(),i=t.convert(this),s=h(e)-1;for(i.copyTo(n);--s>=0;)if(t.sqrTo(n,r),(e&1<<s)>0)t.mulTo(r,i,n);else{var u=n;n=r,r=u}return t.revert(n)},a.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var n,r=(1<<t)-1,i=!1,a="",o=this.t,s=this.DB-o*this.DB%t;if(o-- >0)for(s<this.DB&&(n=this.data[o]>>s)>0&&(i=!0,a=d(n));o>=0;)s<t?(n=(this.data[o]&(1<<s)-1)<<t-s,n|=this.data[--o]>>(s+=this.DB-t)):(n=this.data[o]>>(s-=t)&r,s<=0&&(s+=this.DB,--o)),n>0&&(i=!0),i&&(a+=d(n));return i?a:"0"},a.prototype.negate=function(){var e=o();return a.ZERO.subTo(this,e),e},a.prototype.abs=function(){return this.s<0?this.negate():this},a.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this.data[n]-e.data[n]))return t;return 0},a.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+h(this.data[this.t-1]^this.s&this.DM)},a.prototype.mod=function(e){var t=o();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(a.ZERO)>0&&e.subTo(t,t),t},a.prototype.modPowInt=function(e,t){var n;return n=e<256||t.isEven()?new m(t):new v(t),this.exp(e,n)},a.ZERO=f(0),a.ONE=f(1),E.prototype.convert=k,E.prototype.revert=k,E.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n)},E.prototype.sqrTo=function(e,t){e.squareTo(t)},C.prototype.convert=function(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=o();return e.copyTo(t),this.reduce(t),t},C.prototype.revert=function(e){return e},C.prototype.reduce=function(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)},C.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},C.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)};var _=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],x=(1<<26)/_[_.length-1];a.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},a.prototype.toRadix=function(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),n=Math.pow(e,t),r=f(n),i=o(),a=o(),s="";for(this.divRemTo(r,i,a);i.signum()>0;)s=(n+a.intValue()).toString(e).substr(1)+s,i.divRemTo(r,i,a);return a.intValue().toString(e)+s},a.prototype.fromRadix=function(e,t){this.fromInt(0),null==t&&(t=10);for(var n=this.chunkSize(t),r=Math.pow(t,n),i=!1,o=0,s=0,u=0;u<e.length;++u){var c=p(e,u);c<0?"-"==e.charAt(u)&&0==this.signum()&&(i=!0):(s=t*s+c,++o>=n&&(this.dMultiply(r),this.dAddOffset(s,0),o=0,s=0))}o>0&&(this.dMultiply(Math.pow(t,o)),this.dAddOffset(s,0)),i&&a.ZERO.subTo(this,this)},a.prototype.fromNumber=function(e,t,n){if("number"==typeof t)if(e<2)this.fromInt(1);else for(this.fromNumber(e,n),this.testBit(e-1)||this.bitwiseTo(a.ONE.shiftLeft(e-1),y,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(a.ONE.shiftLeft(e-1),this);else{var r=new Array,i=7&e;r.length=1+(e>>3),t.nextBytes(r),i>0?r[0]&=(1<<i)-1:r[0]=0,this.fromString(r,256)}},a.prototype.bitwiseTo=function(e,t,n){var r,i,a=Math.min(e.t,this.t);for(r=0;r<a;++r)n.data[r]=t(this.data[r],e.data[r]);if(e.t<this.t){for(i=e.s&this.DM,r=a;r<this.t;++r)n.data[r]=t(this.data[r],i);n.t=this.t}else{for(i=this.s&this.DM,r=a;r<e.t;++r)n.data[r]=t(i,e.data[r]);n.t=e.t}n.s=t(this.s,e.s),n.clamp()},a.prototype.changeBit=function(e,t){var n=a.ONE.shiftLeft(e);return this.bitwiseTo(n,t,n),n},a.prototype.addTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this.data[n]+e.data[n],t.data[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r+=e.s;n<this.t;)r+=this.data[n],t.data[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r+=e.data[n],t.data[n++]=r&this.DM,r>>=this.DB;r+=e.s}t.s=r<0?-1:0,r>0?t.data[n++]=r:r<-1&&(t.data[n++]=this.DV+r),t.t=n,t.clamp()},a.prototype.dMultiply=function(e){this.data[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},a.prototype.dAddOffset=function(e,t){if(0!=e){for(;this.t<=t;)this.data[this.t++]=0;for(this.data[t]+=e;this.data[t]>=this.DV;)this.data[t]-=this.DV,++t>=this.t&&(this.data[this.t++]=0),++this.data[t]}},a.prototype.multiplyLowerTo=function(e,t,n){var r,i=Math.min(this.t+e.t,t);for(n.s=0,n.t=i;i>0;)n.data[--i]=0;for(r=n.t-this.t;i<r;++i)n.data[i+this.t]=this.am(0,e.data[i],n,i,0,this.t);for(r=Math.min(e.t,t);i<r;++i)this.am(0,e.data[i],n,i,0,t-i);n.clamp()},a.prototype.multiplyUpperTo=function(e,t,n){--t;var r=n.t=this.t+e.t-t;for(n.s=0;--r>=0;)n.data[r]=0;for(r=Math.max(t-this.t,0);r<e.t;++r)n.data[this.t+r-t]=this.am(t-r,e.data[r],n,0,0,this.t+r-t);n.clamp(),n.drShiftTo(1,n)},a.prototype.modInt=function(e){if(e<=0)return 0;var t=this.DV%e,n=this.s<0?e-1:0;if(this.t>0)if(0==t)n=this.data[0]%e;else for(var r=this.t-1;r>=0;--r)n=(t*n+this.data[r])%e;return n},a.prototype.millerRabin=function(e){var t=this.subtract(a.ONE),n=t.getLowestSetBit();if(n<=0)return!1;for(var r,i=t.shiftRight(n),o={nextBytes:function(e){for(var t=0;t<e.length;++t)e[t]=Math.floor(256*Math.random())}},s=0;s<e;++s){do{r=new a(this.bitLength(),o)}while(r.compareTo(a.ONE)<=0||r.compareTo(t)>=0);var u=r.modPow(i,this);if(0!=u.compareTo(a.ONE)&&0!=u.compareTo(t)){for(var c=1;c++<n&&0!=u.compareTo(t);)if(0==(u=u.modPowInt(2,this)).compareTo(a.ONE))return!1;if(0!=u.compareTo(t))return!1}}return!0},a.prototype.clone=function(){var e=o();return this.copyTo(e),e},a.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this.data[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this.data[0];if(0==this.t)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]},a.prototype.byteValue=function(){return 0==this.t?this.s:this.data[0]<<24>>24},a.prototype.shortValue=function(){return 0==this.t?this.s:this.data[0]<<16>>16},a.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this.data[0]<=0?0:1},a.prototype.toByteArray=function(){var e=this.t,t=new Array;t[0]=this.s;var n,r=this.DB-e*this.DB%8,i=0;if(e-- >0)for(r<this.DB&&(n=this.data[e]>>r)!=(this.s&this.DM)>>r&&(t[i++]=n|this.s<<this.DB-r);e>=0;)r<8?(n=(this.data[e]&(1<<r)-1)<<8-r,n|=this.data[--e]>>(r+=this.DB-8)):(n=this.data[e]>>(r-=8)&255,r<=0&&(r+=this.DB,--e)),128&n&&(n|=-256),0==i&&(128&this.s)!=(128&n)&&++i,(i>0||n!=this.s)&&(t[i++]=n);return t},a.prototype.equals=function(e){return 0==this.compareTo(e)},a.prototype.min=function(e){return this.compareTo(e)<0?this:e},a.prototype.max=function(e){return this.compareTo(e)>0?this:e},a.prototype.and=function(e){var t=o();return this.bitwiseTo(e,g,t),t},a.prototype.or=function(e){var t=o();return this.bitwiseTo(e,y,t),t},a.prototype.xor=function(e){var t=o();return this.bitwiseTo(e,b,t),t},a.prototype.andNot=function(e){var t=o();return this.bitwiseTo(e,w,t),t},a.prototype.not=function(){for(var e=o(),t=0;t<this.t;++t)e.data[t]=this.DM&~this.data[t];return e.t=this.t,e.s=~this.s,e},a.prototype.shiftLeft=function(e){var t=o();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t},a.prototype.shiftRight=function(e){var t=o();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t},a.prototype.getLowestSetBit=function(){for(var e=0;e<this.t;++e)if(0!=this.data[e])return e*this.DB+D(this.data[e]);return this.s<0?this.t*this.DB:-1},a.prototype.bitCount=function(){for(var e=0,t=this.s&this.DM,n=0;n<this.t;++n)e+=A(this.data[n]^t);return e},a.prototype.testBit=function(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:!!(this.data[t]&1<<e%this.DB)},a.prototype.setBit=function(e){return this.changeBit(e,y)},a.prototype.clearBit=function(e){return this.changeBit(e,w)},a.prototype.flipBit=function(e){return this.changeBit(e,b)},a.prototype.add=function(e){var t=o();return this.addTo(e,t),t},a.prototype.subtract=function(e){var t=o();return this.subTo(e,t),t},a.prototype.multiply=function(e){var t=o();return this.multiplyTo(e,t),t},a.prototype.divide=function(e){var t=o();return this.divRemTo(e,t,null),t},a.prototype.remainder=function(e){var t=o();return this.divRemTo(e,null,t),t},a.prototype.divideAndRemainder=function(e){var t=o(),n=o();return this.divRemTo(e,t,n),new Array(t,n)},a.prototype.modPow=function(e,t){var n,r,i=e.bitLength(),a=f(1);if(i<=0)return a;n=i<18?1:i<48?3:i<144?4:i<768?5:6,r=i<8?new m(t):t.isEven()?new C(t):new v(t);var s=new Array,u=3,c=n-1,l=(1<<n)-1;if(s[1]=r.convert(this),n>1){var d=o();for(r.sqrTo(s[1],d);u<=l;)s[u]=o(),r.mulTo(d,s[u-2],s[u]),u+=2}var p,g,y=e.t-1,b=!0,w=o();for(i=h(e.data[y])-1;y>=0;){for(i>=c?p=e.data[y]>>i-c&l:(p=(e.data[y]&(1<<i+1)-1)<<c-i,y>0&&(p|=e.data[y-1]>>this.DB+i-c)),u=n;!(1&p);)p>>=1,--u;if((i-=u)<0&&(i+=this.DB,--y),b)s[p].copyTo(a),b=!1;else{for(;u>1;)r.sqrTo(a,w),r.sqrTo(w,a),u-=2;u>0?r.sqrTo(a,w):(g=a,a=w,w=g),r.mulTo(w,s[p],a)}for(;y>=0&&!(e.data[y]&1<<i);)r.sqrTo(a,w),g=a,a=w,w=g,--i<0&&(i=this.DB-1,--y)}return r.revert(a)},a.prototype.modInverse=function(e){var t=e.isEven();if(this.isEven()&&t||0==e.signum())return a.ZERO;for(var n=e.clone(),r=this.clone(),i=f(1),o=f(0),s=f(0),u=f(1);0!=n.signum();){for(;n.isEven();)n.rShiftTo(1,n),t?(i.isEven()&&o.isEven()||(i.addTo(this,i),o.subTo(e,o)),i.rShiftTo(1,i)):o.isEven()||o.subTo(e,o),o.rShiftTo(1,o);for(;r.isEven();)r.rShiftTo(1,r),t?(s.isEven()&&u.isEven()||(s.addTo(this,s),u.subTo(e,u)),s.rShiftTo(1,s)):u.isEven()||u.subTo(e,u),u.rShiftTo(1,u);n.compareTo(r)>=0?(n.subTo(r,n),t&&i.subTo(s,i),o.subTo(u,o)):(r.subTo(n,r),t&&s.subTo(i,s),u.subTo(o,u))}return 0!=r.compareTo(a.ONE)?a.ZERO:u.compareTo(e)>=0?u.subtract(e):u.signum()<0?(u.addTo(e,u),u.signum()<0?u.add(e):u):u},a.prototype.pow=function(e){return this.exp(e,new E)},a.prototype.gcd=function(e){var t=this.s<0?this.negate():this.clone(),n=e.s<0?e.negate():e.clone();if(t.compareTo(n)<0){var r=t;t=n,n=r}var i=t.getLowestSetBit(),a=n.getLowestSetBit();if(a<0)return t;for(i<a&&(a=i),a>0&&(t.rShiftTo(a,t),n.rShiftTo(a,n));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=n.getLowestSetBit())>0&&n.rShiftTo(i,n),t.compareTo(n)>=0?(t.subTo(n,t),t.rShiftTo(1,t)):(n.subTo(t,n),n.rShiftTo(1,n));return a>0&&n.lShiftTo(a,n),n},a.prototype.isProbablePrime=function(e){var t,n=this.abs();if(1==n.t&&n.data[0]<=_[_.length-1]){for(t=0;t<_.length;++t)if(n.data[0]==_[t])return!0;return!1}if(n.isEven())return!1;for(t=1;t<_.length;){for(var r=_[t],i=t+1;i<_.length&&r<x;)r*=_[i++];for(r=n.modInt(r);t<i;)if(r%_[t++]==0)return!1}return n.millerRabin(e)}},52675:(e,t,n)=>{"use strict";n(6761),n(81510),n(97812),n(33110),n(49773)},52703:(e,t,n)=>{"use strict";var r=n(44576),i=n(79039),a=n(79504),o=n(655),s=n(43802).trim,u=n(47452),c=r.parseInt,l=r.Symbol,d=l&&l.iterator,p=/^[+-]?0x/i,f=a(p.exec),h=8!==c(u+"08")||22!==c(u+"0x16")||d&&!i((function(){c(Object(d))}));e.exports=h?function(e,t){var n=s(o(e));return c(n,t>>>0||(f(p,n)?16:10))}:c},52811:(e,t,n)=>{"use strict";var r=n(46518),i=n(92744),a=n(79039),o=n(20034),s=n(3451).onFreeze,u=Object.freeze;r({target:"Object",stat:!0,forced:a((function(){u(1)})),sham:!i},{freeze:function(e){return u&&o(e)?u(s(e)):e}})},52936:function(e,t,n){var r,i,a,o,s=n(89990);o=function(e){return e},"object"===s(t)?e.exports=t=o(n(83841),n(55412),n(41612),n(63123),n(21894),n(68449),n(54624),n(44451),n(4501),n(64880),n(67712),n(12849),n(87589),n(20484),n(39773),n(89671),n(38294),n(76793),n(71533),n(90703),n(27048),n(17905),n(83626),n(26229),n(48605),n(68510),n(27415),n(40824),n(7485),n(76431),n(76592),n(55917),n(6358),n(64284),n(55164)):(i=[n(83841),n(55412),n(41612),n(63123),n(21894),n(68449),n(54624),n(44451),n(4501),n(64880),n(67712),n(12849),n(87589),n(20484),n(39773),n(89671),n(38294),n(76793),n(71533),n(90703),n(27048),n(17905),n(83626),n(26229),n(48605),n(68510),n(27415),n(40824),n(7485),n(76431),n(76592),n(55917),n(6358),n(64284),n(55164)],void 0===(a="function"==typeof(r=o)?r.apply(t,i):r)||(e.exports=a))},52967:(e,t,n)=>{"use strict";var r=n(46706),i=n(20034),a=n(67750),o=n(73506);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=r(Object.prototype,"__proto__","set"))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return a(n),o(r),i(n)?(t?e(n,r):n.__proto__=r,n):n}}():void 0)},53044:(e,t,n)=>{n(16280),n(76918),e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},53179:(e,t,n)=>{"use strict";var r=n(92140),i=n(36955);e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},53250:e=>{"use strict";var t=Math.expm1,n=Math.exp;e.exports=!t||t(10)>22025.465794806718||t(10)<22025.465794806718||-2e-17!==t(-2e-17)?function(e){var t=+e;return 0===t?t:t>-1e-6&&t<1e-6?t+t*t/2:n(t)-1}:t},53435:(e,t,n)=>{n(44114);var r=n(73749);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},53486:(e,t,n)=>{var r=n(89990);n(16280),n(76918),n(44114),n(34782),n(23288),n(62010),n(78459),n(58940),n(27495),n(90906),n(50375);var i=n(85192);n(32807),n(70430);var a=e.exports=i.asn1=i.asn1||{};function o(e,t,n){if(n>t){var r=new Error("Too few bytes to parse DER.");throw r.available=e.length(),r.remaining=t,r.requested=n,r}}a.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192},a.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30},a.create=function(e,t,n,r,o){if(i.util.isArray(r)){for(var s=[],u=0;u<r.length;++u)void 0!==r[u]&&s.push(r[u]);r=s}var c={tagClass:e,type:t,constructed:n,composed:n||i.util.isArray(r),value:r};return o&&"bitStringContents"in o&&(c.bitStringContents=o.bitStringContents,c.original=a.copy(c)),c},a.copy=function(e,t){var n;if(i.util.isArray(e)){n=[];for(var r=0;r<e.length;++r)n.push(a.copy(e[r],t));return n}return"string"==typeof e?e:(n={tagClass:e.tagClass,type:e.type,constructed:e.constructed,composed:e.composed,value:a.copy(e.value,t)},t&&!t.excludeBitStringContents&&(n.bitStringContents=e.bitStringContents),n)},a.equals=function(e,t,n){if(i.util.isArray(e)){if(!i.util.isArray(t))return!1;if(e.length!==t.length)return!1;for(var o=0;o<e.length;++o)if(!a.equals(e[o],t[o]))return!1;return!0}if(r(e)!==r(t))return!1;if("string"==typeof e)return e===t;var s=e.tagClass===t.tagClass&&e.type===t.type&&e.constructed===t.constructed&&e.composed===t.composed&&a.equals(e.value,t.value);return n&&n.includeBitStringContents&&(s=s&&e.bitStringContents===t.bitStringContents),s},a.getBerValueLength=function(e){var t=e.getByte();if(128!==t)return 128&t?e.getInt((127&t)<<3):t};function s(e,t,n,r){var i;o(e,t,2);var u=e.getByte();t--;var c=192&u,l=31&u;i=e.length();var d,p,f=function(e,t){var n=e.getByte();if(t--,128!==n){var r;if(128&n){var i=127&n;o(e,t,i),r=e.getInt(i<<3)}else r=n;if(r<0)throw new Error("Negative length: "+r);return r}}(e,t);if(t-=i-e.length(),void 0!==f&&f>t){if(r.strict){var h=new Error("Too few bytes to read ASN.1 value.");throw h.available=e.length(),h.remaining=t,h.requested=f,h}f=t}var m=!(32&~u);if(m)if(d=[],void 0===f)for(;;){if(o(e,t,2),e.bytes(2)===String.fromCharCode(0,0)){e.getBytes(2),t-=2;break}i=e.length(),d.push(s(e,t,n+1,r)),t-=i-e.length()}else for(;f>0;)i=e.length(),d.push(s(e,f,n+1,r)),t-=i-e.length(),f-=i-e.length();if(void 0===d&&c===a.Class.UNIVERSAL&&l===a.Type.BITSTRING&&(p=e.bytes(f)),void 0===d&&r.decodeBitStrings&&c===a.Class.UNIVERSAL&&l===a.Type.BITSTRING&&f>1){var v=e.read,g=t,y=0;if(l===a.Type.BITSTRING&&(o(e,t,1),y=e.getByte(),t--),0===y)try{i=e.length();var b=s(e,t,n+1,{strict:!0,decodeBitStrings:!0}),w=i-e.length();t-=w,l==a.Type.BITSTRING&&w++;var D=b.tagClass;w!==f||D!==a.Class.UNIVERSAL&&D!==a.Class.CONTEXT_SPECIFIC||(d=[b])}catch(e){}void 0===d&&(e.read=v,t=g)}if(void 0===d){if(void 0===f){if(r.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");f=t}if(l===a.Type.BMPSTRING)for(d="";f>0;f-=2)o(e,t,2),d+=String.fromCharCode(e.getInt16()),t-=2;else d=e.getBytes(f),t-=f}var A=void 0===p?null:{bitStringContents:p};return a.create(c,l,m,d,A)}a.fromDer=function(e,t){void 0===t&&(t={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),"boolean"==typeof t&&(t={strict:t,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in t||(t.strict=!0),"parseAllBytes"in t||(t.parseAllBytes=!0),"decodeBitStrings"in t||(t.decodeBitStrings=!0),"string"==typeof e&&(e=i.util.createBuffer(e));var n=e.length(),r=s(e,e.length(),0,t);if(t.parseAllBytes&&0!==e.length()){var a=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw a.byteCount=n,a.remaining=e.length(),a}return r},a.toDer=function(e){var t=i.util.createBuffer(),n=e.tagClass|e.type,r=i.util.createBuffer(),o=!1;if("bitStringContents"in e&&(o=!0,e.original&&(o=a.equals(e,e.original))),o)r.putBytes(e.bitStringContents);else if(e.composed){e.constructed?n|=32:r.putByte(0);for(var s=0;s<e.value.length;++s)void 0!==e.value[s]&&r.putBuffer(a.toDer(e.value[s]))}else if(e.type===a.Type.BMPSTRING)for(s=0;s<e.value.length;++s)r.putInt16(e.value.charCodeAt(s));else!(e.type===a.Type.INTEGER&&e.value.length>1)||(0!==e.value.charCodeAt(0)||128&e.value.charCodeAt(1))&&(255!==e.value.charCodeAt(0)||128&~e.value.charCodeAt(1))?r.putBytes(e.value):r.putBytes(e.value.substr(1));if(t.putByte(n),r.length()<=127)t.putByte(127&r.length());else{var u=r.length(),c="";do{c+=String.fromCharCode(255&u),u>>>=8}while(u>0);t.putByte(128|c.length);for(s=c.length-1;s>=0;--s)t.putByte(c.charCodeAt(s))}return t.putBuffer(r),t},a.oidToDer=function(e){var t,n,r,a,o=e.split("."),s=i.util.createBuffer();s.putByte(40*parseInt(o[0],10)+parseInt(o[1],10));for(var u=2;u<o.length;++u){t=!0,n=[],r=parseInt(o[u],10);do{a=127&r,r>>>=7,t||(a|=128),n.push(a),t=!1}while(r>0);for(var c=n.length-1;c>=0;--c)s.putByte(n[c])}return s},a.derToOid=function(e){var t;"string"==typeof e&&(e=i.util.createBuffer(e));var n=e.getByte();t=Math.floor(n/40)+"."+n%40;for(var r=0;e.length()>0;)r<<=7,128&(n=e.getByte())?r+=127&n:(t+="."+(r+n),r=0);return t},a.utcTimeToDate=function(e){var t=new Date,n=parseInt(e.substr(0,2),10);n=n>=50?1900+n:2e3+n;var r=parseInt(e.substr(2,2),10)-1,i=parseInt(e.substr(4,2),10),a=parseInt(e.substr(6,2),10),o=parseInt(e.substr(8,2),10),s=0;if(e.length>11){var u=e.charAt(10),c=10;"+"!==u&&"-"!==u&&(s=parseInt(e.substr(10,2),10),c+=2)}if(t.setUTCFullYear(n,r,i),t.setUTCHours(a,o,s,0),c&&("+"===(u=e.charAt(c))||"-"===u)){var l=60*parseInt(e.substr(c+1,2),10)+parseInt(e.substr(c+4,2),10);l*=6e4,"+"===u?t.setTime(+t-l):t.setTime(+t+l)}return t},a.generalizedTimeToDate=function(e){var t=new Date,n=parseInt(e.substr(0,4),10),r=parseInt(e.substr(4,2),10)-1,i=parseInt(e.substr(6,2),10),a=parseInt(e.substr(8,2),10),o=parseInt(e.substr(10,2),10),s=parseInt(e.substr(12,2),10),u=0,c=0,l=!1;"Z"===e.charAt(e.length-1)&&(l=!0);var d=e.length-5,p=e.charAt(d);"+"!==p&&"-"!==p||(c=60*parseInt(e.substr(d+1,2),10)+parseInt(e.substr(d+4,2),10),c*=6e4,"+"===p&&(c*=-1),l=!0);return"."===e.charAt(14)&&(u=1e3*parseFloat(e.substr(14),10)),l?(t.setUTCFullYear(n,r,i),t.setUTCHours(a,o,s,u),t.setTime(+t+c)):(t.setFullYear(n,r,i),t.setHours(a,o,s,u)),t},a.dateToUtcTime=function(e){if("string"==typeof e)return e;var t="",n=[];n.push((""+e.getUTCFullYear()).substr(2)),n.push(""+(e.getUTCMonth()+1)),n.push(""+e.getUTCDate()),n.push(""+e.getUTCHours()),n.push(""+e.getUTCMinutes()),n.push(""+e.getUTCSeconds());for(var r=0;r<n.length;++r)n[r].length<2&&(t+="0"),t+=n[r];return t+="Z"},a.dateToGeneralizedTime=function(e){if("string"==typeof e)return e;var t="",n=[];n.push(""+e.getUTCFullYear()),n.push(""+(e.getUTCMonth()+1)),n.push(""+e.getUTCDate()),n.push(""+e.getUTCHours()),n.push(""+e.getUTCMinutes()),n.push(""+e.getUTCSeconds());for(var r=0;r<n.length;++r)n[r].length<2&&(t+="0"),t+=n[r];return t+="Z"},a.integerToDer=function(e){var t=i.util.createBuffer();if(e>=-128&&e<128)return t.putSignedInt(e,8);if(e>=-32768&&e<32768)return t.putSignedInt(e,16);if(e>=-8388608&&e<8388608)return t.putSignedInt(e,24);if(e>=-2147483648&&e<2147483648)return t.putSignedInt(e,32);var n=new Error("Integer too large; max is 32-bits.");throw n.integer=e,n},a.derToInteger=function(e){"string"==typeof e&&(e=i.util.createBuffer(e));var t=8*e.length();if(t>32)throw new Error("Integer too large; max is 32-bits.");return e.getSignedInt(t)},a.validate=function(e,t,n,r){var o=!1;if(e.tagClass!==t.tagClass&&void 0!==t.tagClass||e.type!==t.type&&void 0!==t.type)r&&(e.tagClass!==t.tagClass&&r.push("["+t.name+'] Expected tag class "'+t.tagClass+'", got "'+e.tagClass+'"'),e.type!==t.type&&r.push("["+t.name+'] Expected type "'+t.type+'", got "'+e.type+'"'));else if(e.constructed===t.constructed||void 0===t.constructed){if(o=!0,t.value&&i.util.isArray(t.value))for(var s=0,u=0;o&&u<t.value.length;++u)o=t.value[u].optional||!1,e.value[s]&&((o=a.validate(e.value[s],t.value[u],n,r))?++s:t.value[u].optional&&(o=!0)),!o&&r&&r.push("["+t.name+'] Tag class "'+t.tagClass+'", type "'+t.type+'" expected value length "'+t.value.length+'", got "'+e.value.length+'"');if(o&&n)if(t.capture&&(n[t.capture]=e.value),t.captureAsn1&&(n[t.captureAsn1]=e),t.captureBitStringContents&&"bitStringContents"in e&&(n[t.captureBitStringContents]=e.bitStringContents),t.captureBitStringValue&&"bitStringContents"in e)if(e.bitStringContents.length<2)n[t.captureBitStringValue]="";else{if(0!==e.bitStringContents.charCodeAt(0))throw new Error("captureBitStringValue only supported for zero unused bits");n[t.captureBitStringValue]=e.bitStringContents.slice(1)}}else r&&r.push("["+t.name+'] Expected constructed "'+t.constructed+'", got "'+e.constructed+'"');return o};var u=/[^\\u0000-\\u00ff]/;a.prettyPrint=function(e,t,n){var r="";n=n||2,(t=t||0)>0&&(r+="\n");for(var o="",s=0;s<t*n;++s)o+=" ";switch(r+=o+"Tag: ",e.tagClass){case a.Class.UNIVERSAL:r+="Universal:";break;case a.Class.APPLICATION:r+="Application:";break;case a.Class.CONTEXT_SPECIFIC:r+="Context-Specific:";break;case a.Class.PRIVATE:r+="Private:"}if(e.tagClass===a.Class.UNIVERSAL)switch(r+=e.type,e.type){case a.Type.NONE:r+=" (None)";break;case a.Type.BOOLEAN:r+=" (Boolean)";break;case a.Type.INTEGER:r+=" (Integer)";break;case a.Type.BITSTRING:r+=" (Bit string)";break;case a.Type.OCTETSTRING:r+=" (Octet string)";break;case a.Type.NULL:r+=" (Null)";break;case a.Type.OID:r+=" (Object Identifier)";break;case a.Type.ODESC:r+=" (Object Descriptor)";break;case a.Type.EXTERNAL:r+=" (External or Instance of)";break;case a.Type.REAL:r+=" (Real)";break;case a.Type.ENUMERATED:r+=" (Enumerated)";break;case a.Type.EMBEDDED:r+=" (Embedded PDV)";break;case a.Type.UTF8:r+=" (UTF8)";break;case a.Type.ROID:r+=" (Relative Object Identifier)";break;case a.Type.SEQUENCE:r+=" (Sequence)";break;case a.Type.SET:r+=" (Set)";break;case a.Type.PRINTABLESTRING:r+=" (Printable String)";break;case a.Type.IA5String:r+=" (IA5String (ASCII))";break;case a.Type.UTCTIME:r+=" (UTC time)";break;case a.Type.GENERALIZEDTIME:r+=" (Generalized time)";break;case a.Type.BMPSTRING:r+=" (BMP String)"}else r+=e.type;if(r+="\n",r+=o+"Constructed: "+e.constructed+"\n",e.composed){var c=0,l="";for(s=0;s<e.value.length;++s)void 0!==e.value[s]&&(c+=1,l+=a.prettyPrint(e.value[s],t+1,n),s+1<e.value.length&&(l+=","));r+=o+"Sub values: "+c+l}else{if(r+=o+"Value: ",e.type===a.Type.OID){var d=a.derToOid(e.value);r+=d,i.pki&&i.pki.oids&&d in i.pki.oids&&(r+=" ("+i.pki.oids[d]+") ")}if(e.type===a.Type.INTEGER)try{r+=a.derToInteger(e.value)}catch(t){r+="0x"+i.util.bytesToHex(e.value)}else if(e.type===a.Type.BITSTRING){if(e.value.length>1?r+="0x"+i.util.bytesToHex(e.value.slice(1)):r+="(none)",e.value.length>0){var p=e.value.charCodeAt(0);1==p?r+=" (1 unused bit shown)":p>1&&(r+=" ("+p+" unused bits shown)")}}else if(e.type===a.Type.OCTETSTRING)u.test(e.value)||(r+="("+e.value+") "),r+="0x"+i.util.bytesToHex(e.value);else if(e.type===a.Type.UTF8)try{r+=i.util.decodeUtf8(e.value)}catch(t){if("URI malformed"!==t.message)throw t;r+="0x"+i.util.bytesToHex(e.value)+" (malformed UTF8)"}else e.type===a.Type.PRINTABLESTRING||e.type===a.Type.IA5String?r+=e.value:u.test(e.value)?r+="0x"+i.util.bytesToHex(e.value):0===e.value.length?r+="[null]":r+=e.value}return r}},53487:(e,t,n)=>{"use strict";var r=n(43802).start,i=n(60706);e.exports=i("trimStart")?function(){return r(this)}:"".trimStart},53526:(e,t,n)=>{n(84864),n(57465),n(27495),n(87745),n(90906),n(38781);var r=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return r.test(e)}},53602:e=>{"use strict";var t=4503599627370496;e.exports=function(e){return e+t-t}},53640:(e,t,n)=>{"use strict";var r=n(28551),i=n(84270),a=TypeError;e.exports=function(e){if(r(this),"string"===e||"default"===e)e="string";else if("number"!==e)throw new a("Incorrect hint");return i(this,e)}},53921:(e,t,n)=>{"use strict";var r=n(46518),i=n(72652),a=n(97040);r({target:"Object",stat:!0},{fromEntries:function(e){var t={};return i(e,(function(e,n){a(t,e,n)}),{AS_ENTRIES:!0}),t}})},54516:(e,t,n)=>{n(52675);var r=n(16110),i=n(7621),a=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,s=o?function(e){return null==e?[]:(e=Object(e),r(o(e),(function(t){return a.call(e,t)})))}:i;e.exports=s},54520:(e,t,n)=>{"use strict";n(22489)},54554:(e,t,n)=>{"use strict";var r=n(46518),i=n(48981),a=n(35610),o=n(91291),s=n(26198),u=n(34527),c=n(96837),l=n(1469),d=n(97040),p=n(84606),f=n(70597)("splice"),h=Math.max,m=Math.min;r({target:"Array",proto:!0,forced:!f},{splice:function(e,t){var n,r,f,v,g,y,b=i(this),w=s(b),D=a(e,w),A=arguments.length;for(0===A?n=r=0:1===A?(n=0,r=w-D):(n=A-2,r=m(h(o(t),0),w-D)),c(w+n-r),f=l(b,r),v=0;v<r;v++)(g=D+v)in b&&d(f,v,b[g]);if(f.length=r,n<r){for(v=D;v<w-r;v++)y=v+n,(g=v+r)in b?b[y]=b[g]:p(b,y);for(v=w;v>w-r+n;v--)p(b,v-1)}else if(n>r)for(v=w-r;v>D;v--)y=v+n-1,(g=v+r-1)in b?b[y]=b[g]:p(b,y);for(v=0;v<n;v++)b[v+D]=arguments[v+2];return u(b,w-r+n),f}})},54624:function(e,t,n){var r,i,a,o,s=n(89990);o=function(e){return function(t){var n=e,r=n.lib,i=r.WordArray,a=r.Hasher,o=n.algo,s=[];!function(){for(var e=0;e<64;e++)s[e]=4294967296*t.abs(t.sin(e+1))|0}();var u=o.MD5=a.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,i=e[r];e[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var a=this._hash.words,o=e[t+0],u=e[t+1],f=e[t+2],h=e[t+3],m=e[t+4],v=e[t+5],g=e[t+6],y=e[t+7],b=e[t+8],w=e[t+9],D=e[t+10],A=e[t+11],E=e[t+12],k=e[t+13],C=e[t+14],_=e[t+15],x=a[0],S=a[1],T=a[2],F=a[3];x=c(x,S,T,F,o,7,s[0]),F=c(F,x,S,T,u,12,s[1]),T=c(T,F,x,S,f,17,s[2]),S=c(S,T,F,x,h,22,s[3]),x=c(x,S,T,F,m,7,s[4]),F=c(F,x,S,T,v,12,s[5]),T=c(T,F,x,S,g,17,s[6]),S=c(S,T,F,x,y,22,s[7]),x=c(x,S,T,F,b,7,s[8]),F=c(F,x,S,T,w,12,s[9]),T=c(T,F,x,S,D,17,s[10]),S=c(S,T,F,x,A,22,s[11]),x=c(x,S,T,F,E,7,s[12]),F=c(F,x,S,T,k,12,s[13]),T=c(T,F,x,S,C,17,s[14]),x=l(x,S=c(S,T,F,x,_,22,s[15]),T,F,u,5,s[16]),F=l(F,x,S,T,g,9,s[17]),T=l(T,F,x,S,A,14,s[18]),S=l(S,T,F,x,o,20,s[19]),x=l(x,S,T,F,v,5,s[20]),F=l(F,x,S,T,D,9,s[21]),T=l(T,F,x,S,_,14,s[22]),S=l(S,T,F,x,m,20,s[23]),x=l(x,S,T,F,w,5,s[24]),F=l(F,x,S,T,C,9,s[25]),T=l(T,F,x,S,h,14,s[26]),S=l(S,T,F,x,b,20,s[27]),x=l(x,S,T,F,k,5,s[28]),F=l(F,x,S,T,f,9,s[29]),T=l(T,F,x,S,y,14,s[30]),x=d(x,S=l(S,T,F,x,E,20,s[31]),T,F,v,4,s[32]),F=d(F,x,S,T,b,11,s[33]),T=d(T,F,x,S,A,16,s[34]),S=d(S,T,F,x,C,23,s[35]),x=d(x,S,T,F,u,4,s[36]),F=d(F,x,S,T,m,11,s[37]),T=d(T,F,x,S,y,16,s[38]),S=d(S,T,F,x,D,23,s[39]),x=d(x,S,T,F,k,4,s[40]),F=d(F,x,S,T,o,11,s[41]),T=d(T,F,x,S,h,16,s[42]),S=d(S,T,F,x,g,23,s[43]),x=d(x,S,T,F,w,4,s[44]),F=d(F,x,S,T,E,11,s[45]),T=d(T,F,x,S,_,16,s[46]),x=p(x,S=d(S,T,F,x,f,23,s[47]),T,F,o,6,s[48]),F=p(F,x,S,T,y,10,s[49]),T=p(T,F,x,S,C,15,s[50]),S=p(S,T,F,x,v,21,s[51]),x=p(x,S,T,F,E,6,s[52]),F=p(F,x,S,T,h,10,s[53]),T=p(T,F,x,S,D,15,s[54]),S=p(S,T,F,x,u,21,s[55]),x=p(x,S,T,F,b,6,s[56]),F=p(F,x,S,T,_,10,s[57]),T=p(T,F,x,S,g,15,s[58]),S=p(S,T,F,x,k,21,s[59]),x=p(x,S,T,F,m,6,s[60]),F=p(F,x,S,T,A,10,s[61]),T=p(T,F,x,S,f,15,s[62]),S=p(S,T,F,x,w,21,s[63]),a[0]=a[0]+x|0,a[1]=a[1]+S|0,a[2]=a[2]+T|0,a[3]=a[3]+F|0},_doFinalize:function(){var e=this._data,n=e.words,r=8*this._nDataBytes,i=8*e.sigBytes;n[i>>>5]|=128<<24-i%32;var a=t.floor(r/4294967296),o=r;n[15+(i+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),n[14+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),e.sigBytes=4*(n.length+1),this._process();for(var s=this._hash,u=s.words,c=0;c<4;c++){var l=u[c];u[c]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}return s},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}});function c(e,t,n,r,i,a,o){var s=e+(t&n|~t&r)+i+o;return(s<<a|s>>>32-a)+t}function l(e,t,n,r,i,a,o){var s=e+(t&r|n&~r)+i+o;return(s<<a|s>>>32-a)+t}function d(e,t,n,r,i,a,o){var s=e+(t^n^r)+i+o;return(s<<a|s>>>32-a)+t}function p(e,t,n,r,i,a,o){var s=e+(n^(t|~r))+i+o;return(s<<a|s>>>32-a)+t}n.MD5=a._createHelper(u),n.HmacMD5=a._createHmacHelper(u)}(Math),e.MD5},"object"===s(t)?e.exports=t=o(n(83841)):(i=[n(83841)],void 0===(a="function"==typeof(r=o)?r.apply(t,i):r)||(e.exports=a))},54743:(e,t,n)=>{"use strict";var r=n(46518),i=n(44576),a=n(66346),o=n(87633),s="ArrayBuffer",u=a[s];r({global:!0,constructor:!0,forced:i[s]!==u},{ArrayBuffer:u}),o(s)},54972:(e,t,n)=>{"use strict";var r=n(46518),i=n(69565),a=n(28551),o=n(1767),s=n(24149),u=n(99590),c=n(19462),l=n(9539),d=n(96395),p=c((function(){var e=this.iterator;if(!this.remaining--)return this.done=!0,l(e,"normal",void 0);var t=a(i(this.next,e));return(this.done=!!t.done)?void 0:t.value}));r({target:"Iterator",proto:!0,real:!0,forced:d},{take:function(e){a(this);var t=u(s(+e));return new p(o(this),{remaining:t})}})},55002:e=>{"use strict";e.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},55081:(e,t,n)=>{"use strict";var r=n(46518),i=n(44576);r({global:!0,forced:i.globalThis!==i},{globalThis:i})},55130:(e,t,n)=>{function r(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(e.exports=r=function(){return!!t},e.exports.__esModule=!0,e.exports.default=e.exports)()}n(60825),e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},55164:function(e,t,n){var r,i,a,o,s=n(89990);o=function(e){return function(){var t=e,n=t.lib.BlockCipher,r=t.algo,i=16,a=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],o=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]],s={pbox:[],sbox:[]};function u(e,t){var n=t>>24&255,r=t>>16&255,i=t>>8&255,a=255&t,o=e.sbox[0][n]+e.sbox[1][r];return o^=e.sbox[2][i],o+=e.sbox[3][a]}function c(e,t,n){for(var r,a=t,o=n,s=0;s<i;++s)r=a^=e.pbox[s],a=o=u(e,a)^o,o=r;return r=a,a=o,o=r,o^=e.pbox[i],{left:a^=e.pbox[17],right:o}}var l=r.Blowfish=n.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var e=this._keyPriorReset=this._key,t=e.words,n=e.sigBytes/4;!function(e,t,n){for(var r=0;r<4;r++){e.sbox[r]=[];for(var i=0;i<256;i++)e.sbox[r][i]=o[r][i]}for(var s=0,u=0;u<18;u++)e.pbox[u]=a[u]^t[s],++s>=n&&(s=0);for(var l=0,d=0,p=0,f=0;f<18;f+=2)l=(p=c(e,l,d)).left,d=p.right,e.pbox[f]=l,e.pbox[f+1]=d;for(var h=0;h<4;h++)for(var m=0;m<256;m+=2)l=(p=c(e,l,d)).left,d=p.right,e.sbox[h][m]=l,e.sbox[h][m+1]=d}(s,t,n)}},encryptBlock:function(e,t){var n=c(s,e[t],e[t+1]);e[t]=n.left,e[t+1]=n.right},decryptBlock:function(e,t){var n=function(e,t,n){for(var r,i=t,a=n,o=17;o>1;--o)r=i^=e.pbox[o],i=a=u(e,i)^a,a=r;return r=i,i=a,a=r,a^=e.pbox[1],{left:i^=e.pbox[0],right:a}}(s,e[t],e[t+1]);e[t]=n.left,e[t+1]=n.right},blockSize:2,keySize:4,ivSize:2});t.Blowfish=n._createHelper(l)}(),e.Blowfish},"object"===s(t)?e.exports=t=o(n(83841),n(21894),n(54624),n(38294),n(76793)):(i=[n(83841),n(21894),n(54624),n(38294),n(76793)],void 0===(a="function"==typeof(r=o)?r.apply(t,i):r)||(e.exports=a))},55337:(e,t,n)=>{n(45700),n(16280),n(76918),n(89572),n(2892);var r=n(89990).default;e.exports=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},55384:(e,t,n)=>{"use strict";e.exports=n(18905)},55412:function(e,t,n){var r,i,a,o,s=n(89990);n(44114),n(34782),o=function(e){var t,n,r,i,a;return n=(t=e).lib,r=n.Base,i=n.WordArray,(a=t.x64={}).Word=r.extend({init:function(e,t){this.high=e,this.low=t}}),a.WordArray=r.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,n=[],r=0;r<t;r++){var a=e[r];n.push(a.high),n.push(a.low)}return i.create(n,this.sigBytes)},clone:function(){for(var e=r.clone.call(this),t=e.words=this.words.slice(0),n=t.length,i=0;i<n;i++)t[i]=t[i].clone();return e}}),e},"object"===s(t)?e.exports=t=o(n(83841)):(i=[n(83841)],void 0===(a="function"==typeof(r=o)?r.apply(t,i):r)||(e.exports=a))},55417:e=>{e.exports=function(e){return function(t,n,r){for(var i=-1,a=Object(t),o=r(t),s=o.length;s--;){var u=o[e?s:++i];if(!1===n(a[u],u,a))break}return t}}},55587:function(e,t,n){"use strict";n(16280),n(76918),n(84185),n(27495),n(71761);var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if("string"!=typeof e)throw new TypeError("First argument must be a string");if(!e)return[];var t=e.match(o),n=t?t[1]:void 0;return(0,a.formatDOM)((0,i.default)(e),null,n)};var i=r(n(41220)),a=n(8247),o=/<(![a-zA-Z\s]+)>/},55805:(e,t,n)=>{var r=n(85046),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},55815:(e,t,n)=>{"use strict";var r=n(46518),i=n(97751),a=n(89429),o=n(79039),s=n(2360),u=n(6980),c=n(24913).f,l=n(36840),d=n(62106),p=n(39297),f=n(90679),h=n(28551),m=n(77536),v=n(32603),g=n(55002),y=n(38574),b=n(91181),w=n(43724),D=n(96395),A="DOMException",E="DATA_CLONE_ERR",k=i("Error"),C=i(A)||function(){try{(new(i("MessageChannel")||a("worker_threads").MessageChannel)).port1.postMessage(new WeakMap)}catch(e){if(e.name===E&&25===e.code)return e.constructor}}(),_=C&&C.prototype,x=k.prototype,S=b.set,T=b.getterFor(A),F="stack"in new k(A),O=function(e){return p(g,e)&&g[e].m?g[e].c:0},P=function(){f(this,I);var e=arguments.length,t=v(e<1?void 0:arguments[0]),n=v(e<2?void 0:arguments[1],"Error"),r=O(n);if(S(this,{type:A,name:n,message:t,code:r}),w||(this.name=n,this.message=t,this.code=r),F){var i=new k(t);i.name=A,c(this,"stack",u(1,y(i.stack,1)))}},I=P.prototype=s(x),B=function(e){return{enumerable:!0,configurable:!0,get:e}},R=function(e){return B((function(){return T(this)[e]}))};w&&(d(I,"code",R("code")),d(I,"message",R("message")),d(I,"name",R("name"))),c(I,"constructor",u(1,P));var N=o((function(){return!(new C instanceof k)})),M=N||o((function(){return x.toString!==m||"2: 1"!==String(new C(1,2))})),L=N||o((function(){return 25!==new C(1,"DataCloneError").code})),j=N||25!==C[E]||25!==_[E],U=D?M||L||j:N;r({global:!0,constructor:!0,forced:U},{DOMException:U?P:C});var z=i(A),V=z.prototype;for(var q in M&&(D||C===z)&&l(V,"toString",m),L&&w&&C===z&&d(V,"code",B((function(){return O(h(this).name)}))),g)if(p(g,q)){var H=g[q],W=H.s,K=u(6,H.c);p(z,W)||c(z,W,K),p(V,W)||c(V,W,K)}},55837:(e,t,n)=>{var r=n(93445),i=n(21426);e.exports=function(e,t){return e&&r(e,t,i)}},55898:(e,t,n)=>{var r=n(89990);n(52675),n(89463),n(2259),n(78125),n(16280),n(76918),n(28706),n(23418),n(25276),n(64346),n(23792),n(62062),n(44114),n(34782),n(13609),n(60739),n(23288),n(94170),n(62010),n(33110),n(4731),n(39469),n(60479),n(80630),n(69085),n(59904),n(84185),n(40875),n(79432),n(63548),n(10287),n(26099),n(78459),n(60825),n(15472),n(27495),n(90906),n(38781),n(47764),n(71761),n(98992),n(81454),n(62953),n(76031),e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==r(e)&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(i,a,function(t){return e[t]}.bind(null,a));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t){e.exports=n(55384)},function(e,t){e.exports=n(1352)},function(e,t,n){"use strict";n.r(t);var i="fslightbox-";function a(){var e=document.createElement("style");e.className="fslightbox-styles",e.appendChild(document.createTextNode(".fslightbox-fade-in{animation:fslightbox-fade-in .3s cubic-bezier(0,0,.7,1)}.fslightbox-fade-out{animation:fslightbox-fade-out .3s ease}.fslightbox-fade-in-strong{animation:fslightbox-fade-in-strong .3s cubic-bezier(0,0,.7,1)}.fslightbox-fade-out-strong{animation:fslightbox-fade-out-strong .3s ease}@keyframes fslightbox-fade-in{from{opacity:.65}to{opacity:1}}@keyframes fslightbox-fade-out{from{opacity:.35}to{opacity:0}}@keyframes fslightbox-fade-in-strong{from{opacity:.3}to{opacity:1}}@keyframes fslightbox-fade-out-strong{from{opacity:1}to{opacity:0}}.fslightbox-absoluted{position:absolute;top:0;left:0}.fslightbox-cursor-grabbing{cursor:grabbing}.fslightbox-full-dimension{width:100%;height:100%}.fslightbox-open{overflow:hidden;height:100%}.fslightbox-flex-centered{display:flex;justify-content:center;align-items:center}.fslightbox-opacity-0{opacity:0!important}.fslightbox-opacity-1{opacity:1!important}.fslightbox-scrollbarfix{padding-right:17px}.fslightbox-transform-transition{transition:transform .3s}.fslightbox-container{font-family:Arial,sans-serif;position:fixed;top:0;left:0;background:linear-gradient(rgba(30,30,30,.9),#000 1810%);z-index:1000000000;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent}.fslightbox-container *{box-sizing:border-box}.fslightbox-svg-path{transition:fill .15s ease;fill:#d1d2d2}.fslightbox-loader{display:block;margin:auto;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:67px;height:67px}.fslightbox-loader div{box-sizing:border-box;display:block;position:absolute;width:54px;height:54px;margin:6px;border:5px solid;border-color:#999 transparent transparent transparent;border-radius:50%;animation:fslightbox-loader 1.2s cubic-bezier(.5,0,.5,1) infinite}.fslightbox-loader div:nth-child(1){animation-delay:-.45s}.fslightbox-loader div:nth-child(2){animation-delay:-.3s}.fslightbox-loader div:nth-child(3){animation-delay:-.15s}@keyframes fslightbox-loader{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}.fslightbox-thumbs-loader{width:54px!important;height:54px!important}.fslightbox-thumbs-loader div{border-width:4px!important;width:44px!important;height:44px!important}.fslightbox-source-wrappers-container{transition:transform .2s linear;z-index:2}.fslightbox-source-wrappers-container-pinching{transition:none!important}.fslightbox-nav{height:45px;width:100%;transition:opacity .3s}.fslightbox-slide-number-container{display:flex;justify-content:center;align-items:center;position:relative;height:100%;font-size:15px;color:#d7d7d7;z-index:0;max-width:55px;text-align:left}.fslightbox-slide-number-container .fslightbox-flex-centered{height:100%}.fslightbox-slash{display:block;margin:0 5px;width:1px;height:12px;transform:rotate(15deg);background:#fff}.fslightbox-toolbar{position:absolute;z-index:3;right:0;top:0;height:100%;display:flex;background:rgba(35,35,35,.65)}.fslightbox-toolbar-button{height:100%;width:45px;cursor:pointer}.fslightbox-toolbar-button:hover .fslightbox-svg-path{fill:#fff}.fslightbox-slide-btn-container{display:flex;align-items:center;padding:12px 12px 12px 6px;position:absolute;top:50%;cursor:pointer;z-index:3;transform:translateY(-50%);transition:opacity .3s}@media (min-width:476px){.fslightbox-slide-btn-container{padding:22px 22px 22px 6px}}@media (min-width:768px){.fslightbox-slide-btn-container{padding:30px 30px 30px 6px}}.fslightbox-slide-btn-container:hover .fslightbox-svg-path{fill:#f1f1f1}.fslightbox-slide-btn{padding:9px;font-size:26px;background:rgba(35,35,35,.65)}@media (min-width:768px){.fslightbox-slide-btn{padding:10px}}@media (min-width:1600px){.fslightbox-slide-btn{padding:11px}}.fslightbox-slide-btn-container-previous{left:0}@media (max-width:475.99px){.fslightbox-slide-btn-container-previous{padding-left:3px!important}}.fslightbox-slide-btn-container-next{right:0;padding-left:12px!important;padding-right:3px!important}@media (min-width:476px){.fslightbox-slide-btn-container-next{padding-left:22px!important}}@media (min-width:768px){.fslightbox-slide-btn-container-next{padding-left:30px!important}}@media (min-width:476px){.fslightbox-slide-btn-container-next{padding-right:6px!important}}.fslightbox-down-event-detector{position:absolute;z-index:1}.fslightbox-slide-swiping-hoverer{z-index:4}.fslightbox-slideshow-bar{width:0;height:2px;z-index:4;opacity:0;background:#fff;transition:opacity .4s}.fslightbox-invalid-file-wrapper{font-size:26px;color:#eaebeb;margin:auto}.fslightbox-video{object-fit:cover}.fslightbox-source{position:relative;z-index:2;display:block;opacity:0;transform:translateZ(0);margin:auto;cursor:zoom-in;backface-visibility:hidden}.fslightbox-thumbs{position:absolute;bottom:0;left:0;width:100%;z-index:3;background:linear-gradient(180deg,rgba(0,0,0,0),#1e1e1e 100%);opacity:0;transition:opacity .2s;backface-visibility:hidden;padding:0 5px 12px 5px;height:114px}@media (min-width:992px){.fslightbox-thumbs{padding-bottom:13px;height:120px}}@media (min-width:1600px){.fslightbox-thumbs{padding-bottom:14px;height:126px}}.fslightbox-thumbs-active{opacity:1;z-index:3}.fslightbox-thumbs-inner{display:inline-flex;justify-content:flex-start;align-items:center;height:100%}.fslightbox-thumb-wrapper{position:relative;height:100%;margin:0 4px;opacity:0;transition:opacity .3s}.fslightbox-thumb-wrapper svg{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);cursor:pointer;z-index:1}.fslightbox-thumb-wrapper path{fill:#fff}.fslightbox-thumb-wrapper-darkener{position:absolute;top:2px;left:2px;width:calc(100% - 4px);height:calc(100% - 4px);background:rgba(0,0,0,.4);cursor:pointer}.fslightbox-thumb{cursor:pointer;border-radius:1px;height:100%;width:auto!important;border:2px solid transparent;max-width:unset;max-height:unset}.fslightbox-thumb-active{border:2px solid #fff!important}.fslightbox-thumb-invalid{background:linear-gradient(to bottom,#0f0f0f,rgba(15,15,15,.5));display:inline-block;min-width:155px}.fslightbox-thumbs-cursorer{z-index:4;cursor:grabbing}.fslightbox-caption{position:absolute;bottom:0;left:50%;width:100%;background:linear-gradient(180deg,rgba(0,0,0,0),#1e1e1e 100%);transform:translateX(-50%);opacity:0;transition:opacity .2s;z-index:-1}.fslightbox-caption-inner{padding:25px;max-width:1200px;color:#eee;text-align:center;font-size:14px}@media (min-width:768px){.fslightbox-caption-inner{padding:30px 25px}}.fslightbox-caption-active{opacity:1;z-index:3}")),document.head.appendChild(e)}function o(e){return(o="function"==typeof Symbol&&"symbol"==r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)})(e)}"object"===("undefined"==typeof document?"undefined":o(document))&&a();var s=n(0),u=n.n(s),c=n(1),l=n.n(c),d=function(e){var t=e.viewBox,n=e.width,r=e.height,a=e.d;return u.a.createElement("svg",{width:n,height:r,viewBox:t,xmlns:"http://www.w3.org/2000/svg"},u.a.createElement("path",{className:i+"svg-path",d:a}))};function p(e){var t=e.onClick,n=e.viewBox,r=e.width,i=e.height,a=e.d,o=e.title;return u.a.createElement("div",{className:"fslightbox-toolbar-button fslightbox-flex-centered",title:o,onClick:t},u.a.createElement(d,{viewBox:n,width:r,height:i,d:a}))}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e){var t=e.fsLightbox,n=t.componentsServices.toolbarButtons.fullscreen,r=t.core.fullscreenToggler,i=r.exitFullscreen,a=r.enterFullscreen,o=t.data.toolbarButtons.fullscreen,c=o.enter,l=o.exit,d=h(Object(s.useState)(!1),2),m=d[0],v=d[1];n.get=function(){return m},n.set=v;var g=m?l:c;return u.a.createElement(p,f({onClick:m?i:a},g))}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e){var t=e.fsLightbox,n=t.componentsServices,r=t.core.slideshowManager,i=t.data.toolbarButtons.slideshow,a=i.start,o=i.pause,c=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Object(s.useState)(!1),2),l=c[0],d=c[1];n.startSlideshow=function(){return d(!0)},n.stopSlideshow=function(){return d(!1)};var f=l?o:a;return u.a.createElement(p,g({onClick:r.toggleSlideshow},f))}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var D=function(e){var t=e.fsLightbox,n=t.core,r=n.clickZoomer,i=r.zoomIn,a=r.zoomOut,o=n.lightboxCloser.close,s=t.data.toolbarButtons,c=t.props,l=c.customToolbarButtons,d=c.disableThumbs,f=[];if(d||f.push(u.a.createElement(p,w({onClick:t.core.thumbsToggler.toggleThumbs},s.thumbs,{key:s.thumbs.title}))),l)for(var h=function(e){var n=l[e];f.unshift(u.a.createElement(p,{onClick:function(){return n.onClick(t)},viewBox:n.viewBox,width:n.width,height:n.height,d:n.d,title:n.title,key:n.title}))},m=0;m<l.length;m++)h(m);return u.a.createElement("div",{className:"fslightbox-toolbar"},f,u.a.createElement(p,w({onClick:i},s.zoomIn)),u.a.createElement(p,w({onClick:a},s.zoomOut)),u.a.createElement(b,{fsLightbox:t}),u.a.createElement(v,{fsLightbox:t}),u.a.createElement(p,w({onClick:o},s.close)))};function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var E=function(e){var t=e.fsLightbox,n=t.componentsServices,r=t.props.sources,a=t.stageIndexes,o=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Object(s.useState)(a.current+1),2),c=o[0],l=o[1];n.setSlideNumber=function(e){l(e)};var d=u.a.createRef(),p=u.a.createRef();return Object(s.useEffect)((function(){p.current.offsetWidth>55&&(d.current.style.justifyContent="flex-start")}),[]),u.a.createElement("div",{ref:d,className:i+"slide-number-container"},u.a.createElement("div",{ref:p,className:"fslightbox-flex-centered"},u.a.createElement("span",null,c),u.a.createElement("span",{className:i+"slash"}),u.a.createElement("span",null,r.length)))},k=function(e){var t=e.fsLightbox;return u.a.createElement("div",{ref:t.elements.nav,className:i+"nav fslightbox-absoluted"},u.a.createElement(D,{fsLightbox:t}),t.props.sources.length>1&&u.a.createElement(E,{fsLightbox:t}))},C=function(e){var t=e.additionalClassName,n=(e.testId,i+"loader");return t&&(n+=" "+t),u.a.createElement("div",{className:n},u.a.createElement("div",null),u.a.createElement("div",null),u.a.createElement("div",null),u.a.createElement("div",null))};function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var x=function(e){var t=e.fsLightbox,n=t.componentsServices.updateSourceDirectWrapperCollection,r=t.core.stageManager.isSourceInStage,i=t.elements,a=i.sourceComponents,o=i.sourceAnimationWrappers,c=t.props.loadOnlyCurrentSource,l=t.stageIndexes.current,d=e.i,p=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Object(s.useState)(!1),2),f=p[0],h=p[1];return n[d]=function(){h(!f)},u.a.createElement("div",{ref:o[d]},d===l||!c&&r(d)?a[d]:null)},S=function(e){var t=e.fsLightbox,n=e.i;return u.a.createElement("div",{ref:t.elements.sourceEnhancementWrappers[n]},u.a.createElement(x,{fsLightbox:t,i:n}))};function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var F=function(e){var t=e.fsLightbox,n=e.i,r=t.componentsServices.hideSourceLoaderCollection,i=t.elements.sourceMainWrappers,a=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Object(s.useState)(!1),2),o=a[0],c=a[1];return r[n]=function(){return c(!0)},u.a.createElement("div",{ref:i[n],className:"fslightbox-absoluted fslightbox-full-dimension fslightbox-flex-centered"},!o&&u.a.createElement(C,null),u.a.createElement(S,{fsLightbox:t,i:n}))};function O(e,t){var n=e.sourcePointerProps;n.pointers[t.pointerId]={screenX:t.screenX,screenY:t.screenY};var r=Object.keys(n.pointers).length;return n.pointersCount=r,r<=2}function P(e){for(var t=e.fsLightbox,n=t.core.sourcesPointerDown.listener,r=t.elements.sourceWrappersContainer,i=t.middleware,a=t.props.sources,o=[],s=0;s<a.length;s++)o.push(u.a.createElement(F,{fsLightbox:t,i:s,key:s}));return u.a.createElement("div",{className:"fslightbox-source-wrappers-container fslightbox-absoluted fslightbox-full-dimension",ref:r,onPointerDown:i(n,O)},o)}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var B=function(e){var t=e.fsLightbox.componentsServices,n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Object(s.useState)(!1),2),r=n[0],a=n[1];return t.showSlideSwipingHovererIfNotYet=function(){r||a(!0)},t.hideSlideSwipingHoverer=function(){a(!1)},r&&u.a.createElement("div",{className:i+"slide-swiping-hoverer fslightbox-full-dimension fslightbox-absoluted"})};function R(e){var t=e.core.lightboxOpener,n=e.data,r=e.props.openOnMount;document.getElementsByClassName("fslightbox-styles").length||a(),n.scrollbarWidth=function(e){var t=e.props.disableLocalStorage;if(!t){var n=localStorage.getItem("fslightbox-scrollbar-width");if(n)return n}var r=function(){var e=document.createElement("div"),t=e.style;return t.visibility="hidden",t.width="100px",t.msOverflowStyle="scrollbar",t.overflow="scroll",e}(),i=function(){var e=document.createElement("div");return e.style.width="100%",e}();document.body.appendChild(r);var a=r.offsetWidth;r.appendChild(i);var o=i.offsetWidth;document.body.removeChild(r);var s=a-o;return t||localStorage.setItem("fslightbox-scrollbar-width",s.toString()),s}(e),r&&t.initializeAndOpen()}var N=function(e){var t=e.fsLightbox.elements.slideshowBar;return u.a.createElement("div",{className:i+"slideshow-bar fslightbox-absoluted",ref:t})};function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L(e){var t=e.fsLightbox,n=t.componentsServices,r=t.core.thumbsSwipingDown.listener,i=t.elements,a=i.thumbsComponents,o=i.thumbsInner,c=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Object(s.useState)(!1),2),l=c[0],d=c[1];return n.updateThumbsInner=function(){d(!l)},u.a.createElement("div",{className:"fslightbox-thumbs-inner",ref:o,onPointerDown:r},a)}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var U=function(e){var t=e.fsLightbox.componentsServices,n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Object(s.useState)(!1),2),r=n[0],i=n[1];return t.showThumbsCursorerIfNotYet=function(){r||i(!0)},t.hideThumbsCursorerIfShown=function(){r&&i(!1)},r?u.a.createElement("div",{className:"fslightbox-thumbs-cursorer fslightbox-full-dimension fslightbox-absoluted"}):null};function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function V(e){var t=e.fsLightbox,n=t.componentsServices,r=t.data.isThumbing,i=t.elements.thumbsContainer,a=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Object(s.useState)(!0),2),o=a[0],c=a[1];n.hideThumbsLoader=function(){return c(!1)};var l="fslightbox-thumbs";return r&&(l+=" fslightbox-thumbs-active"),u.a.createElement("div",{className:l,ref:i},u.a.createElement(U,{fsLightbox:t}),u.a.createElement(L,{fsLightbox:t}),o&&u.a.createElement(C,{testId:"thumbs-loader",additionalClassName:"fslightbox-thumbs-loader",key:"loader"}))}var q=function(e){var t=e.fsLightbox,n=e.index,r=e.children,i=t.data.isThumbing,a=t.elements.captions,o="fslightbox-caption";return n!==t.stageIndexes.current||i||(o+=" fslightbox-caption-active"),u.a.createElement("div",{ref:a[n],className:o+" fslightbox-flex-centered"},u.a.createElement("div",{className:"fslightbox-caption-inner"},r))},H=function(e){var t=e.fsLightbox,n=t.props.captions;return n?n.map((function(e,n){return e&&u.a.createElement(q,{fsLightbox:t,index:n,key:n},e)})):null};function W(e){var t=e.componentsServices.isLightboxOpenManager,n=e.core,r=n.lightboxCloser,i=n.lightboxOpener,a=n.slideIndexChanger,o=e.data,s=e.stageIndexes;this.runTogglerUpdateActions=function(){t.get()?r.close():o.isInitialized?i.open():i.initializeAndOpen()},this.runCurrentStageIndexUpdateActionsFor=function(e){e!==s.current&&(t.get()?a.jumpTo(e):s.current=e)}}function K(e){var t=e.core.lightboxUpdater,n=(0,e.resolve)(W);t.handleUpdate=function(t){var r=e.props;"number"==typeof r.sourceIndex?n.runCurrentStageIndexUpdateActionsFor(r.sourceIndex):"string"==typeof r.source?n.runCurrentStageIndexUpdateActionsFor(r.sources.indexOf(r.source)):"number"==typeof r.slide&&n.runCurrentStageIndexUpdateActionsFor(r.slide-1),t.toggler!==r.toggler&&n.runTogglerUpdateActions()}}function $(e){var t,n=e.props,r=0,i={};this.getSourceTypeFromLocalStorageByUrl=function(e){return t[e]?t[e]:a(e)},this.handleReceivedSourceTypeForUrl=function(e,n){!1===i[n]&&(r--,"invalid"!==e?i[n]=e:delete i[n],0===r&&(function(e,t){for(var n in t)e[n]=t[n]}(t,i),localStorage.setItem("fslightbox-types",JSON.stringify(t))))};var a=function(e){r++,i[e]=!1};n.disableLocalStorage?(this.getSourceTypeFromLocalStorageByUrl=function(){},this.handleReceivedSourceTypeForUrl=function(){}):(t=JSON.parse(localStorage.getItem("fslightbox-types")))||(t={},this.getSourceTypeFromLocalStorageByUrl=a)}function G(){return(G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Q=function(e){var t=e.fsLightbox,n=t.collections.sourceLoadHandlers,r=t.elements.sources,i=t.props,a=i.customAttributes,o=i.sources,s=e.i;return u.a.createElement("img",G({onLoad:n[s].handleImageLoad,ref:r[s],className:"fslightbox-source",src:o[s]},a&&a[s]?a[s]:{}))};function Y(){return(Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var X=function(e){var t=e.fsLightbox,n=t.collections.sourceLoadHandlers,r=t.elements.sources,a=t.props,o=a.customAttributes,s=a.sources,c=t.timeout,l=e.i;return c(n[l].handleNotMetaDatedVideoLoad,3e3),u.a.createElement("video",Y({onLoadedMetadata:n[l].handleVideoLoad,className:"fslightbox-source "+i+"video",controls:!0,ref:r[l]},o&&o[l]?o[l]:{}),u.a.createElement("source",{src:s[l]}))};function Z(){return(Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var J=function(e){var t,n=e.fsLightbox,r=n.props,a=r.customAttributes,o=r.sources,c=n.elements.sources,l=n.collections.sourceLoadHandlers,d=e.i;return Object(s.useEffect)(l[d].handleYoutubeLoad),u.a.createElement("iframe",Z({ref:c[d],className:"fslightbox-source "+i+"youtube-iframe",src:"https://www.youtube.com/embed/"+(t=o[d],t.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/)[2]+"?enablejsapi=1"),allowFullScreen:!0},a&&a[d]?a[d]:{}))},ee=function(e){var t=e.fsLightbox,n=t.collections.sourceLoadHandlers,r=t.elements.sources,i=t.props.sources,a=e.i;Object(s.useEffect)(n[a].handleCustomLoad);var o=i[a].props.className;return u.a.cloneElement(i[a],{ref:r[a],className:o?o+" fslightbox-source":"fslightbox-source"})},te=function(e){var t=e.fsLightbox,n=t.componentsServices.hideSourceLoaderCollection,r=t.elements.sourceAnimationWrappers,a=t.props.initialAnimation,o=e.i;return Object(s.useEffect)((function(){n[o](),r[o].current.classList.add(a)})),u.a.createElement("div",{className:i+"invalid-file-wrapper fslightbox-flex-centered"},"Invalid source")},ne=function(e){var t=e.fsLightbox,n=t.core.thumbLoadHandler,r=t.elements,i=r.thumbs,a=r.thumbsWrappers,o=t.props.thumbsIcons,s=t.stageIndexes.current,c=e.src,l=e.i,d="fslightbox-thumb";s===l&&(d+=" fslightbox-thumb-active");var p=o&&o[l];return u.a.createElement("div",{ref:a[l],className:"fslightbox-thumb-wrapper"},p,p&&u.a.createElement("div",{className:"fslightbox-thumb-wrapper-darkener"}),u.a.createElement("img",{ref:i[l],className:d,src:c,alt:c,onLoad:n.handleLoad}))},re=function(e){var t=e.fsLightbox,n=t.core.thumbLoadHandler,r=t.elements,i=r.thumbs,a=r.thumbsWrappers,o=t.stageIndexes.current,c=e.i;Object(s.useEffect)(n.handleLoad);var l="fslightbox-thumb fslightbox-flex-centered";return c===o&&(l+=" fslightbox-thumb-active"),u.a.createElement("div",{ref:a[c],className:"fslightbox-thumb-invalid fslightbox-thumb-wrapper"},u.a.createElement("div",{ref:i[c],className:l},u.a.createElement(d,{viewBox:"0 0 30 30",height:"22px",width:"22px",d:"M15,3C8.373,3,3,8.373,3,15c0,6.627,5.373,12,12,12s12-5.373,12-12C27,8.373,21.627,3,15,3z M16.212,8l-0.2,9h-2.024l-0.2-9 H16.212z M15.003,22.189c-0.828,0-1.323-0.441-1.323-1.182c0-0.755,0.494-1.196,1.323-1.196c0.822,0,1.316,0.441,1.316,1.196 C16.319,21.748,15.825,22.189,15.003,22.189z"})))};function ie(e){var t=e.componentsServices,n=e.core.thumbsRenderDispatcher,r=e.data,i=e.elements.thumbsComponents,a=e.props,o=a.showThumbsOnMount,s=a.sources,c=a.thumbs;this.buildComponentForTypeAndIndex=function(a,d){c&&c[d]?i[d]=l(c,d):i[d]="image"===a?l(s,d):u.a.createElement(re,{fsLightbox:e,i:d,key:d}),n.countBuiltThumb(),t.isLightboxOpenManager.get()&&(o||r.isThumbing)&&n.renderThumbsIfNotYetAndAllBuilt()};var l=function(t,n){return u.a.createElement(ne,{fsLightbox:e,src:t[n],i:n,key:n})}}function ae(e){var t,n=e.componentsServices,r=n.isLightboxOpenManager,i=n.updateSourceDirectWrapperCollection,a=e.elements.sourceComponents,o=e.props.disableThumbs,s=e.resolve;o||(t=s(ie)),this.runActionsForSourceTypeAndIndex=function(n,s){var c;switch(n){case"image":c=Q;break;case"video":c=X;break;case"youtube":c=J;break;case"custom":c=ee;break;default:c=te}a[s]=u.a.createElement(c,{fsLightbox:e,i:s}),o||t.buildComponentForTypeAndIndex(n,s),r.get()&&i[s]()}}function oe(){var e,t,n,r=function(e){var t=document.createElement("a");return t.href=e,"www.youtube.com"===t.hostname},i=function(e){return e.slice(0,e.indexOf("/"))};function a(){if(4!==n.readyState){if(2===n.readyState){var e;switch(i(n.getResponseHeader("content-type"))){case"image":e="image";break;case"video":e="video";break;default:e="invalid"}n.onreadystatechange=null,n.abort(),t(e)}}else t("invalid")}this.setUrlToCheck=function(t){e=t},this.getSourceType=function(i){if(r(e))return i("youtube");t=i,(n=new XMLHttpRequest).onreadystatechange=a,n.open("GET",e,!0),n.send()}}function se(e,t,n){var r=e.props,i=r.types,a=r.type,o=r.sources,s=e.resolve;this.getTypeSetByClientForIndex=function(e){var t;return i&&i[e]?t=i[e]:a&&(t=a),t},this.retrieveTypeWithXhrForIndex=function(e){var r=s(oe);r.setUrlToCheck(o[e]),r.getSourceType((function(r){t.handleReceivedSourceTypeForUrl(r,o[e]),n.runActionsForSourceTypeAndIndex(r,e)}))}}function ue(e){var t=Object.keys(e.pointers),n=e.pointers[t[0]],r=e.pointers[t[1]];return Math.hypot(n.screenX-r.screenX,n.screenY-r.screenY)}function ce(e,t){var n=e.current.classList;n.contains(t)||n.add(t)}function le(e){var t=e.core.zoomer,n=e.data,r=e.elements,i=e.sourcePointerProps;this.runPinchActions=function(){i.isPinching=!0,i.pinchedHypot=ue(i),ce(r.sourceWrappersContainer,"fslightbox-source-wrappers-container-pinching"),1===n.zoom&&t.startZooming()}}function de(e,t){var n=e.current.classList;n.contains(t)&&n.remove(t)}function pe(e){var t=e.elements.captions;this.runSlideChangeActions=function(e,t){n(e,"remove"),n(t,"add")};var n=function(e,n){t[e].current&&t[e].current.classList[n]("fslightbox-caption-active")}}function fe(e){var t=e.core,n=t.clickZoomer,r=t.lightboxCloser,i=t.fullscreenToggler,a=t.slideChangeFacade,o=t.slideshowManager,s=t.thumbsToggler,u=e.props.disableThumbs;this.listener=function(e){if("Space"!==e.code)switch(e.key){case"Escape":r.close();break;case"ArrowLeft":a.changeToPrevious();break;case"ArrowRight":a.changeToNext();break;case"t":u||s.toggleThumbs();break;case"+":n.zoomIn();break;case"-":n.zoomOut();break;case"F11":e.preventDefault(),i.enterFullscreen()}else o.toggleSlideshow()}}function he(e){var t=e.componentsServices,n=e.core.pointeringBucket,r=e.data,i=e.elements.thumbsInner,a=e.thumbsSwipingProps;this.runActions=function(e){n.runSwipingMoveActionsForPropsAndEvent(a,e),i.current.style.transform="translateX("+(r.thumbsTransform+a.swipedX)+"px)",t.showThumbsCursorerIfNotYet()}}function me(e){var t=e.data,n=e.resolve,r=e.thumbsSwipingProps,i=n(he);this.listener=function(e){t.thumbsInnerWidth>innerWidth&&r.isPointering&&i.runActions(e)}}function ve(e){var t=e.componentsServices,n=e.data,r=e.core,i=r.slideIndexChanger,a=r.thumbsTransformTransitioner,o=r.pointeringBucket,s=e.elements,u=s.thumbsWrappers,c=s.thumbsInner,l=e.thumbsSwipingProps;function d(e){n.thumbsTransform=e,a.callActionWithTransition((function(){c.current.style.transform="translateX("+e+"px)"}))}this.runNoSwipeActionsForEvent=function(e){t.hideThumbsCursorerIfShown(),l.isPointering=!1;for(var n=0;n<u.length;n++)if(u[n].current&&u[n].current.contains(e.target))return void i.jumpTo(n)},this.runActions=function(){if(t.hideThumbsCursorerIfShown(),n.thumbsTransform+=l.swipedX,o.runSwipingTopActionsForPropsAndEvent(l),n.thumbsTransform>0)return d(0);n.thumbsTransform<innerWidth-n.thumbsInnerWidth-9&&d(innerWidth-n.thumbsInnerWidth-9)}}function ge(e){var t=e.resolve,n=e.thumbsSwipingProps,r=t(ve);this.listener=function(e){n.isPointering&&(n.swipedX?r.runActions():r.runNoSwipeActionsForEvent(e))}}function ye(e){var t=e.collections.sourceMainWrapperTransformers,n=e.core.zoomer,r=e.data,i=e.sourcePointerProps;this.runZoomingPinchActionsForHypot=function(e){var t=e-i.pinchedHypot,a=r.zoom+t/Math.hypot(innerWidth,innerHeight)*10;a<.9&&(a=.9),n.zoomTo(a),i.pinchedHypot=e},this.translateSourceMainWrapperAtIndexUsingMethod=function(e,n){t[e].translate(i.swipedX)[n]()}}function be(e){var t=e.collections.sourceMainWrapperTransformers,n=e.componentsServices,r=e.core.pointeringBucket,i=e.data,a=e.resolve,o=e.sourcePointerProps,s=e.stageIndexes,u=a(ye);this.runActions=function(e){r.runSwipingMoveActionsForPropsAndEvent(o,e),n.showSlideSwipingHovererIfNotYet()},this.runPinchActions=function(){var e=ue(o);o.pinchedHypot?u.runZoomingPinchActionsForHypot(e):o.pinchedHypot=e},this.runNormalSwipeActions=function(){u.translateSourceMainWrapperAtIndexUsingMethod(s.current,"zero"),void 0!==s.previous&&o.swipedX>0?u.translateSourceMainWrapperAtIndexUsingMethod(s.previous,"negative"):void 0!==s.next&&o.swipedX<0&&u.translateSourceMainWrapperAtIndexUsingMethod(s.next,"positive")},this.runZoomSwipeActions=function(e){o.swipedX=(e.screenX-o.downScreenX)/i.zoom,o.swipedY=(e.screenY-o.downScreenY)/i.zoom,t[s.current].translate(o.upSwipedX+o.swipedX,o.upSwipedY+o.swipedY).zero()}}function we(e){var t=e.data,n=e.props.sources,r=e.resolve,i=e.sourcePointerProps,a=r(be);this.listener=function(e){if(i.isPinching)return a.runActions(e),void a.runPinchActions();2!==i.pointersCount&&(a.runActions(e),1===t.zoom?1===n.length?i.swipedX=1:a.runNormalSwipeActions():a.runZoomSwipeActions(e))}}function De(e){var t=e.collections.sourceMainWrapperTransformers,n=e.core,r=n.slideIndexChanger,i=n.clickZoomer,a=e.data,o=e.elements.sourceMainWrappers,s=e.sourcePointerProps,u=e.stageIndexes;this.runPositiveSwipedXActions=function(){void 0===u.previous||(c("positive"),r.changeTo(u.previous)),c("zero")},this.runNegativeSwipedXActions=function(){void 0===u.next||(c("negative"),r.changeTo(u.next)),c("zero")},this.saveCurrentSourceMainWrapperPosition=function(){s.upSwipedX=t[u.current].getTranslateX(),s.upSwipedY=t[u.current].getTranslateY()},this.runSourceDownEventTargetActions=function(){a.zoom<=1?i.zoomIn():i.zoomOut()};var c=function(e){o[u.current].current.classList.add("fslightbox-transform-transition"),t[u.current][e]()}}function Ae(e){var t=e.componentsServices,n=e.core,r=n.lightboxCloser,i=n.pointeringBucket,a=e.data,o=e.elements.sourceWrappersContainer,s=e.resolve,u=e.sourcePointerProps,c=s(De);this.runActions=function(){t.hideSlideSwipingHoverer(),u.isPinching=!1,u.pinchedHypot=0,i.runSwipingTopActionsForPropsAndEvent(u),de(o,"fslightbox-source-wrappers-container-pinching")},this.runSwipeActions=function(){1===a.zoom?u.swipedX>0?c.runPositiveSwipedXActions():c.runNegativeSwipedXActions():c.saveCurrentSourceMainWrapperPosition()},this.runNoSwipeActions=function(){u.isSourceDownEventTarget?c.runSourceDownEventTargetActions():r.close()}}function Ee(e){var t=e.data,n=e.resolve,r=e.sourcePointerProps,i=e.core.zoomer,a=n(Ae);this.listener=function(e){r.pointers={},r.isPointering&&(r.isPinching||(r.swipedX?a.runSwipeActions():a.runNoSwipeActions()),a.runActions(e),t.zoom<1&&(i.zoomTo(1),i.endZooming()))}}function ke(e){return e.sourcePointerProps.isPointering}function Ce(e){var t=e.core.inactiver,n=e.middleware,r=e.props,i=e.resolve,a=i(we),o=i(Ee),s=i(me),u=i(ge);this.moveListener=function(e){t.listener(e),n(n(a.listener,O),ke)(e),r.disableThumbs||s.listener(e)},this.upListener=function(e){o.listener(e),r.disableThumbs||u.listener(e)}}function _e(e){var t=e.core.zoomer,n=e.data;this.listener=function(e){if(1===n.zoom){if(e.deltaY>0)return;t.startZooming()}var r=.1*n.zoom,i=n.zoom;e.deltaY<0?i+=r:(i-=r)<1&&(i=1),t.zoomTo(i),1===i&&t.endZooming()}}function xe(e){return!e.sourcePointerProps.isPointering}function Se(e){var t=e.data,n=e.elements,r=n.captions,i=n.slideButtonPrevious,a=n.slideButtonNext,o=n.thumbsContainer,s=e.stageIndexes;this.runOpacity0ActionUsingMethod=function(e){i.current&&(i.current.classList[e]("fslightbox-opacity-0"),a.current.classList[e]("fslightbox-opacity-0"))},this.runActiveEnhancementActionUsingMethod=function(e){t.isThumbing?o.current.classList[e]("fslightbox-thumbs-active"):r[s.current].current&&r[s.current].current.classList[e]("fslightbox-caption-active")}}function Te(e){var t,n,r,i=e.data,a=e.elements,o=a.sourceEnhancementWrappers,s=a.sources,u=a.thumbsContainer,c=i.captionHeights,l=i.notThumbedSourceEnhancementWrapperScales,d=i.notThumbedSourceEnhancementWrapperTranslatesY;this.setUpThumbedEnhancementWrapperTransform=function(){t=u.current.offsetHeight,n=i.thumbedSourceEnhancementWrapperTranslateY,r="translateY("+n+"px) scale("+i.thumbedSourceEnhancementWrapperScale+")"},this.setUpNotThumbedEnhancementWrapperTransformAtIndex=function(e){t=c[e],n=d[e],r="translateY("+n+"px) scale("+l[e]+")"},this.ifSourceIsLoadedTransformEnhancementWrapperAtIndex=function(e){s[e].current&&(innerWidth<innerHeight&&s[e].current.offsetWidth>s[e].current.offsetHeight+t?o[e].current.style.transform="translateY("+n/2+"px) scale(1)":o[e].current.style.transform=r)}}function Fe(e){var t,n,r;n=(t=e).core.classFacade,r=t.elements,n.removeFromEachElementClassIfContains=function(e,t){for(var n=0;n<100;n++)for(var i=0;i<r[e].length;i++)de(r[e][i],t)},function(e){var t=e.core,n=t.clickZoomer,r=t.zoomer,i=e.data,a=e.elements.sourceWrappersContainer,o=e.getQueuedAction,s=e.props.zoomIncrement,u=o((function(){de(a,"fslightbox-transform-transition")}),300);function c(){1===i.zoom&&r.startZooming()}function l(e){ce(a,"fslightbox-transform-transition"),r.zoomTo(e),u()}n.zoomIn=function(){c(),l(i.zoom+s)},n.zoomOut=function(){i.zoom-s<=1?1!==i.zoom&&(l(1),r.endZooming()):(c(),l(i.zoom-s),1===i.zoom&&r.endZooming())}}(e),function(e){var t=e.core.eventsDispatcher,n=e.props;t.dispatch=function(t){n[t]&&n[t](e)}}(e),function(e){var t=e.componentsServices.toolbarButtons.fullscreen,n=e.core.fullscreenToggler;n.enterFullscreen=function(){t.set(!0);var e=document.documentElement;e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()},n.exitFullscreen=function(){t.set(!1),document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()}}(e),function(e){var t,n=e.core,r=n.inactiver,i=n.globalEventsController,a=n.windowResizeActioner,o=e.middleware,s=e.resolve,u=s(Ce),c=s(fe),l=s(_e);i.addListeners=function(){document.addEventListener("pointerdown",r.listener),document.addEventListener("pointermove",u.moveListener),document.addEventListener("pointerup",u.upListener),addEventListener("resize",a.runActions),document.addEventListener("keydown",c.listener);var e,n=(e=!1,function(){return!e&&(e=!0,requestAnimationFrame((function(){e=!1})),!0)});t=o(t=function(e){return n()&&l.listener(e)},xe),document.addEventListener("wheel",t)},i.removeListeners=function(){document.removeEventListener("pointerdown",r.listener),document.removeEventListener("pointermove",u.moveListener),document.removeEventListener("pointerup",u.upListener),removeEventListener("resize",a.runActions),document.removeEventListener("keydown",c.listener),document.removeEventListener("wheel",t)}}(e),function(e){var t=e.core.inactiver,n=e.data,r=e.elements,i=r.nav,a=r.slideButtonPrevious,o=r.slideButtonNext,s=r.thumbsContainer,u=e.getQueuedAction,c=e.props.UIFadeOutTime,l=!1,d=u((function(){l=!0,p(f)}),c);d(),t.listener=function(){d(),l&&(p(h),l=!1)};var p=function(e){try{e(i),1===n.zoom&&a.current&&(e(a),e(o)),n.isThumbing&&e(s)}catch(e){}},f=function(e){e.current.classList.add("fslightbox-opacity-0")},h=function(e){e.current.classList.remove("fslightbox-opacity-0")}}(e),function(e){var t=e.core,n=t.lightboxCloser,r=t.lightboxCloseActioner;n.close=function(){r.isLightboxFadingOut||r.runActions()}}(e),function(e){var t=e.componentsServices,n=t.isLightboxOpenManager,r=t.toolbarButtons.fullscreen,i=e.core,a=i.eventsDispatcher,o=i.globalEventsController,s=i.fullscreenToggler,u=i.lightboxCloseActioner,c=i.scrollbarRecompensor,l=i.slideshowManager,d=i.zoomer,p=e.elements.container,f=e.props,h=e.sourcePointerProps,m=e.timeout,v=e.thumbsSwipingProps;u.isLightboxFadingOut=!1,u.runActions=function(){u.isLightboxFadingOut=!0,p.current.classList.add("fslightbox-fade-out-strong"),o.removeListeners(),l.resetSlideshow(),f.exitFullscreenOnClose&&r.get()&&s.exitFullscreen(),d.ifZoomingResetZoom(),m((function(){u.isLightboxFadingOut=!1,h.isPointering=!1,v&&(v.isPointering=!1),p.current.classList.remove("fslightbox-fade-out-strong"),document.documentElement.classList.remove("fslightbox-open"),c.removeRecompense(),n.set(!1),a.dispatch("onClose")}),270)}}(e),Ve(e),function(e){var t=e.collections.sourceMainWrapperTransformers,n=e.core,r=n.eventsDispatcher,i=n.lightboxOpenActioner,a=n.globalEventsController,o=n.scrollbarRecompensor,s=n.sourceDisplayFacade,u=n.stageManager,c=n.windowResizeActioner,l=e.data,d=e.props.sources,p=e.stageIndexes;i.runInitializedLightboxActions=function(){l.unloadedThumbsCount=d.length,u.updateStageIndexes(),s.displaySourcesWhichShouldBeDisplayed(),document.documentElement.classList.add("fslightbox-open"),o.addRecompense(),a.addListeners(),c.runActions(),t[p.current].zero(),r.dispatch("onOpen")}}(e),K(e),function(e){var t=e.data,n=e.core.scrollbarRecompensor;n.addRecompense=function(){"complete"===document.readyState?r():window.addEventListener("load",(function(){r(),n.addRecompense=r}))};var r=function(){document.body.offsetHeight>window.innerHeight&&(document.body.style.marginRight=t.scrollbarWidth+"px")};n.removeRecompense=function(){document.body.style.removeProperty("margin-right")}}(e),function(e){var t,n=e.core,r=n.slideshowManager,i=n.slideChangeFacade,a=e.componentsServices,o=e.elements.slideshowBar,s=e.props,u=!1;function c(){u=!1,clearTimeout(t),o.current.classList.remove("fslightbox-opacity-1"),a.stopSlideshow()}r.toggleSlideshow=function(){u?c():(u=!0,a.startSlideshow(),o.current.classList.add("fslightbox-opacity-1"),function e(){o.current.style.transition="opacity .2s",o.current.style.width="0px",o.current.offsetWidth,o.current.style.transition="opacity .2s, width linear "+s.slideshowTime+"ms",o.current.style.width=innerWidth+"px",t=setTimeout((function(){i.changeToNext(),e()}),s.slideshowTime)}())},r.resetSlideshow=function(){u&&c()}}(e),function(e){var t=e.core,n=t.slideChangeFacade,r=t.slideIndexChanger,i=t.stageManager;e.props.sources.length>1?(n.changeToPrevious=function(){r.jumpTo(i.getPreviousSlideIndex())},n.changeToNext=function(){r.jumpTo(i.getNextSlideIndex())}):(n.changeToPrevious=function(){},n.changeToNext=function(){})}(e),function(e){var t=e.collections.sourceMainWrapperTransformers,n=e.componentsServices,r=e.core,i=r.classFacade,a=r.eventsDispatcher,o=r.slideIndexChanger,s=r.sourceDisplayFacade,u=r.stageManager,c=r.thumbsTransformer,l=r.zoomer,d=e.data,p=e.elements,f=p.sourceAnimationWrappers,h=p.sources,m=p.thumbs,v=e.getQueuedAction,g=e.props,y=g.disableThumbs,b=g.initialAnimation,w=g.slideChangeAnimation,D=e.resolve,A=e.stageIndexes,E=e.timeout,k=D(pe),C=v((function(){i.removeFromEachElementClassIfContains("sourceAnimationWrappers","fslightbox-fade-out")}),300);o.changeTo=function(e){y||(m[A.current].current&&m[A.current].current.classList.remove("fslightbox-thumb-active"),m[e].current&&m[e].current.classList.add("fslightbox-thumb-active")),l.ifZoomingResetZoom(),d.isThumbing||k.runSlideChangeActions(A.current,e),A.current=e,u.updateStageIndexes(),!y&&m[A.current].current&&c.transformToCurrentWithTransition(),n.setSlideNumber(e+1),s.displaySourcesWhichShouldBeDisplayed(),a.dispatch("onSlideChange")},o.jumpTo=function(e){var n=A.current;i.removeFromEachElementClassIfContains("sourceMainWrappers","fslightbox-transform-transition"),de(f[n],b),de(f[n],w),f[n].current.classList.add("fslightbox-fade-out"),de(f[e],b),de(f[e],"fslightbox-fade-out"),h[e].current&&f[e].current.classList.add(w),o.changeTo(e),C(),t[e].zero(),E((function(){n!==A.current&&t[n].negative()}),270)}}(e),function(e){var t=e.core.sourceEnhancementWrappersTransformer,n=e.data,r=(0,e.resolve)(Te);t.ifSourceIsLoadedTransformEnhancementWrapperAtIndex=function(e){n.isThumbing?r.setUpThumbedEnhancementWrapperTransform():r.setUpNotThumbedEnhancementWrapperTransformAtIndex(e),r.ifSourceIsLoadedTransformEnhancementWrapperAtIndex(e)},t.ifSourceIsLoadedTransformThumbedEnhancementWrapperAtIndex=function(e){r.setUpThumbedEnhancementWrapperTransform(e),r.ifSourceIsLoadedTransformEnhancementWrapperAtIndex(e)},t.ifSourceIsLoadedTransformNotThumbedEnhancementWrapperAtIndex=function(e){r.setUpNotThumbedEnhancementWrapperTransformAtIndex(e),r.ifSourceIsLoadedTransformEnhancementWrapperAtIndex(e)}}(e),function(e){var t=e.core.sourceDisplayFacade,n=e.componentsServices.updateSourceDirectWrapperCollection,r=e.stageIndexes,i=e.props.loadOnlyCurrentSource;t.displaySourcesWhichShouldBeDisplayed=function(){if(i)n[r.current]();else for(var e in r)void 0!==r[e]&&n[r[e]]()}}(e),function(e){var t=e.core,n=t.classFacade,r=t.sourcesPointerDown,i=t.pointeringBucket,a=e.elements.sources,o=e.resolve,s=e.sourcePointerProps,u=e.stageIndexes,c=o(le);r.listener=function(e){"touch"!==e.pointerType&&"VIDEO"!==e.target.tagName&&e.preventDefault(),i.runSwipingDownActionsForPropsAndEvent(s,e),s.downScreenY=e.screenY,2===s.pointersCount?c.runPinchActions():n.removeFromEachElementClassIfContains("sourceMainWrappers","fslightbox-transform-transition");var t=a[u.current].current;t&&t.contains(e.target)?s.isSourceDownEventTarget=!0:s.isSourceDownEventTarget=!1}}(e),function(e){var t=e.stageIndexes,n=e.core.stageManager,r=e.props.sources.length-1;n.getPreviousSlideIndex=function(){return 0===t.current?r:t.current-1},n.getNextSlideIndex=function(){return t.current===r?0:t.current+1},n.updateStageIndexes=0===r?function(){}:1===r?function(){0===t.current?(t.next=1,delete t.previous):(t.previous=0,delete t.next)}:function(){t.previous=n.getPreviousSlideIndex(),t.next=n.getNextSlideIndex()},n.isSourceInStage=r<=2?function(){return!0}:function(e){var n=t.current;if(0===n&&e===r||n===r&&0===e)return!0;var i=n-e;return-1===i||0===i||1===i}}(e),function(e){var t=e.core.pointeringBucket,n=e.elements.container;t.runSwipingDownActionsForPropsAndEvent=function(e,t){e.isPointering=!0,e.downScreenX=t.screenX,e.swipedX=0},t.runSwipingMoveActionsForPropsAndEvent=function(e,t){ce(n,"fslightbox-cursor-grabbing"),e.swipedX=t.screenX-e.downScreenX},t.runSwipingTopActionsForPropsAndEvent=function(e){de(n,"fslightbox-cursor-grabbing"),e.isPointering=!1}}(e),function(e){var t=e.collections,n=t.sourceMainWrapperTransformers,r=t.sourceSizers,i=e.core,a=i.sourceEnhancementWrappersTransformer,o=i.windowResizeActioner,s=i.thumbsTransformer,u=e.data,c=e.elements,l=c.captions,d=c.sourceMainWrappers,p=c.sources,f=c.thumbs,h=c.thumbsContainer,m=e.props.disableThumbs,v=e.stageIndexes,g=u.captionHeights,y=u.notThumbedSourceEnhancementWrapperScales,b=u.notThumbedSourceEnhancementWrapperTranslatesY;o.runActions=function(){innerWidth<992?u.maxSourceWidth=innerWidth:u.maxSourceWidth=.9*innerWidth,u.maxSourceHeight=.9*innerHeight,m||(u.thumbedSourceEnhancementWrapperScale=1-h.current.offsetHeight/innerHeight,u.thumbedSourceEnhancementWrapperTranslateY=-h.current.offsetHeight/2),0===u.unloadedThumbsCount&&o.runThumbsActions();for(var e=0;e<p.length;e++){if(l[e].current){g[e]=l[e].current.offsetHeight;var t=g[e]-25;y[e]=1-t/innerHeight,b[e]=-t/2}else y[e]=1,b[e]=0;de(d[e],"fslightbox-transform-transition"),a.ifSourceIsLoadedTransformEnhancementWrapperAtIndex(e),e!==v.current&&n[e].negative(),r[e]&&p[e].current&&r[e].adjustSize()}},o.runThumbsActions=function(){u.thumbsInnerWidth=0;for(var e=0;e<p.length;e++)u.thumbsInnerWidth+=f[e].current.offsetWidth+8;s.transformToCurrent()}}(e),function(e){var t=e.collections.sourceMainWrapperTransformers,n=e.core,r=n.eventsDispatcher,i=n.zoomer,a=e.data,o=e.elements,s=o.sourceMainWrappers,u=o.sourceWrappersContainer,c=o.sources,l=e.resolve,d=e.sourcePointerProps,p=e.stageIndexes,f=l(Se);i.zoomTo=function(e){a.zoom=m(e),u.current.style.transform="scale("+a.zoom+")"},i.ifZoomingResetZoom=function(){1!==a.zoom&&(i.zoomTo(1),i.endZooming())},i.startZooming=function(){h("grab"),f.runOpacity0ActionUsingMethod("add"),f.runActiveEnhancementActionUsingMethod("remove"),r.dispatch("onZoomingStart")},i.endZooming=function(){h("zoom-in"),f.runOpacity0ActionUsingMethod("remove"),f.runActiveEnhancementActionUsingMethod("add"),s[p.current].current.classList.add("fslightbox-transform-transition"),t[p.current].translate(0,0).zero(),d.upSwipedX=0,d.upSwipedY=0,r.dispatch("onZoomingEnd")};var h=function(e){c[p.current].current&&(c[p.current].current.style.cursor=e)},m=function(e){return parseFloat(e.toPrecision(12))}}(e)}function Oe(e){for(var t=e.props.sources,n=[],r=0;r<t.length;r++)n.push(u.a.createRef());return n}function Pe(e){var t=e.core,n=t.sourceEnhancementWrappersTransformer,r=t.thumbsRenderDispatcher,i=t.zoomer,a=e.data,o=e.elements,s=o.captions,u=o.thumbsContainer,c=e.props.sources,l=e.stageIndexes;function d(){for(var e=0;e<c.length;e++)n.ifSourceIsLoadedTransformEnhancementWrapperAtIndex(e)}function p(e){s[l.current].current&&s[l.current].current.classList[e]("fslightbox-caption-active")}this.openThumbs=function(){i.ifZoomingResetZoom(),a.isThumbing=!0,u.current.classList.add("fslightbox-thumbs-active"),d(),p("remove"),r.renderThumbsIfNotYetAndAllBuilt()},this.closeThumbs=function(){i.ifZoomingResetZoom(),a.isThumbing=!1,u.current.classList.remove("fslightbox-thumbs-active"),d(),p("add")}}function Ie(e){var t=e.data,n=e.elements,r=n.thumbsWrappers,i=n.thumbsContainer,a=n.thumbsInner,o=e.stageIndexes,s=e.timeout;this.runActions=function(){de(i,"fslightbox-flex-centered");var e=innerWidth/2,n=r[o.current].current,a=n.offsetLeft+n.offsetWidth/2,s=t.thumbsInnerWidth-a;a>e&&s>e?u(e-a):a>e?u(innerWidth-t.thumbsInnerWidth-9):s>e&&u(0)},this.runToThinThumbsActions=function(){s((function(){return ce(i,"fslightbox-flex-centered")})),u(0)};var u=function(e){t.thumbsTransform=e,a.current.style.transform="translateX("+e+"px)"}}function Be(e){var t,n,r,i,a,o=e.componentsServices,s=e.core,c=e.data,l=e.elements,d=e.props;o.updateThumbsInner=null,o.showThumbsCursorerIfNotYet=null,o.hideThumbsCursorerIfShown=null,o.hideThumbsLoader=null,c.isThumbing=d.showThumbsOnMount,c.thumbsInnerWidth=null,c.thumbsTransform=0,c.thumbedSourceEnhancementWrapperScale=null,c.thumbedSourceEnhancementWrapperTranslateY=null,c.unloadedThumbsCount=null,e.thumbsSwipingProps={isPointering:!1,downScreenX:null,swipedX:null},s.thumbLoadHandler={},s.thumbsRenderDispatcher={},s.thumbsSwipingDown={},s.thumbsToggler={},s.thumbsTransformer={},s.thumbsTransformTransitioner={},l.thumbsContainer=u.a.createRef(),l.thumbs=Oe(e),l.thumbsWrappers=Oe(e),l.thumbsComponents=[],l.thumbsInner=u.a.createRef(),function(e){var t=e.core,n=t.thumbLoadHandler,r=t.windowResizeActioner,i=e.componentsServices,a=e.data,o=e.elements.thumbsWrappers;n.handleLoad=function(){if(a.unloadedThumbsCount--,0===a.unloadedThumbsCount){for(var e=0;e<o.length;e++)o[e].current.classList.add("fslightbox-opacity-1");r.runThumbsActions(),i.hideThumbsLoader()}}}(e),function(e){var t=e.componentsServices,n=e.core.thumbsRenderDispatcher,r=e.props.sources,i=!1,a=0;n.countBuiltThumb=function(){a++},n.renderThumbsIfNotYetAndAllBuilt=function(){i||a!==r.length||(i=!0,t.updateThumbsInner())}}(e),r=(n=(t=e).core).thumbsSwipingDown,i=n.pointeringBucket,a=t.thumbsSwipingProps,r.listener=function(e){e.preventDefault(),i.runSwipingDownActionsForPropsAndEvent(a,e)},function(e){var t=e.core,n=t.thumbsTransformer,r=t.thumbsTransformTransitioner,i=e.data,a=(0,e.resolve)(Ie);n.transformToCurrent=function(){i.thumbsInnerWidth>innerWidth?a.runActions():a.runToThinThumbsActions()},n.transformToCurrentWithTransition=function(){i.thumbsInnerWidth>innerWidth&&r.callActionWithTransition(a.runActions)}}(e),function(e){var t=e.core.thumbsTransformTransitioner,n=e.elements.thumbsInner,r=(0,e.getQueuedAction)((function(){n.current.classList.remove("fslightbox-transform-transition")}),300);t.callActionWithTransition=function(e){n.current.classList.add("fslightbox-transform-transition"),e(),r()}}(e),function(e){var t=e.core.thumbsToggler,n=e.data,r=(0,e.resolve)(Pe);t.toggleThumbs=function(){n.isThumbing?r.closeThumbs():r.openThumbs()}}(e)}function Re(e){return(Re="function"==typeof Symbol&&"symbol"==r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)})(e)}function Ne(e,t){if("object"===Re(t))for(var n in e)"object"===Re(t[n])?Ne(e[n],t[n]):t[n]&&(e[n]=t[n])}function Me(e,t,n){for(var r=0;r<e.props.sources.length;r++)e.collections[t][r]=e.resolve(n,[r])}function Le(e,t,n,r){var i=e.data,a=e.elements.sources,o=n/r,s=0;this.adjustSize=function(){if((s=i.maxSourceWidth/o)<i.maxSourceHeight)return n<i.maxSourceWidth&&(s=r),u();s=r>i.maxSourceHeight?i.maxSourceHeight:r,u()};var u=function(){var e=a[t].current.style;e.width=s*o+"px",e.height=s+"px"}}function je(e,t){var n=this,r=e.collections.sourceSizers,i=e.componentsServices.hideSourceLoaderCollection,a=e.core.sourceEnhancementWrappersTransformer,o=e.elements,s=o.sourceAnimationWrappers,u=o.sourceEnhancementWrappers,c=o.sources,l=e.props.initialAnimation,d=e.resolve;function p(e,n){r[t]=d(Le,[t,e,n]),r[t].adjustSize()}this.runActions=function(e,r){c[t].current.classList.add("fslightbox-opacity-1"),s[t].current.classList.add(l),i[t](),a.ifSourceIsLoadedTransformEnhancementWrapperAtIndex(t),u[t].current.offsetWidth,u[t].current.classList.add("fslightbox-transform-transition"),p(e,r),n.runActions=p}}function Ue(e,t){var n,r=this,i=e.elements.sources,a=e.props,o=e.resolve,s=e.timeout,u=o(je,[t]);this.handleImageLoad=function(e){var t=e.target,n=t.naturalWidth,r=t.naturalHeight;u.runActions(n,r)},this.handleVideoLoad=function(e){var t=e.target,r=t.videoWidth,i=t.videoHeight;n=!0,u.runActions(r,i)},this.handleNotMetaDatedVideoLoad=function(){n||r.handleYoutubeLoad()},this.handleYoutubeLoad=function(){var e=1920,t=1080;a.maxYoutubeVideoDimensions&&(e=a.maxYoutubeVideoDimensions.width,t=a.maxYoutubeVideoDimensions.height),u.runActions(e,t)},this.handleCustomLoad=function(){s((function(){var e=i[t].current;u.runActions(e.offsetWidth,e.offsetHeight)}))}}function ze(e,t){var n=this,r=e.elements.sourceMainWrappers,i=e.props.slideDistance,a=0,o=0,s=0;this.translate=function(e,t){return o=e,void 0!==t&&(s=t),n},this.getTranslateX=function(){return a},this.getTranslateY=function(){return s},this.negative=function(){u(-(1+i)*innerWidth)},this.zero=function(){u(0)},this.positive=function(){u((1+i)*innerWidth)};var u=function(e){a=e+o,c(),o=0},c=function(){r[t].current.style.transform="translate("+a+"px, "+s+"px)"}}function Ve(e){var t=e.componentsServices.isLightboxOpenManager,n=e.core,r=n.eventsDispatcher,i=n.lightboxOpener,a=n.lightboxOpenActioner,o=e.data,s=e.elements,u=e.props;i.open=function(){r.dispatch("onShow"),Me(e,"sourceLoadHandlers",Ue),t.set(!0,a.runInitializedLightboxActions)},i.initializeAndOpen=function(){o.isInitialized=!0,s.captions=Oe(e),s.sourceAnimationWrappers=Oe(e),s.sourceEnhancementWrappers=Oe(e),s.sourceMainWrappers=Oe(e),s.sources=Oe(e),Me(e,"sourceLoadHandlers",Ue),Me(e,"sourceMainWrapperTransformers",ze),Ne(o.slideButtons,u.svg.slideButtons),Ne(o.toolbarButtons,u.svg.toolbarButtons),u.disableThumbs||Be(e),Fe(e),r.dispatch("onInit"),t.set(!0,(function(){a.runInitializedLightboxActions(),function(e){for(var t=e.props.sources,n=e.resolve,r=n($),i=n(ae),a=n(se,[r,i]),o=0;o<t.length;o++)if("string"==typeof t[o]){var s=a.getTypeSetByClientForIndex(o);if(s)i.runActionsForSourceTypeAndIndex(s,o);else{var u=r.getSourceTypeFromLocalStorageByUrl(t[o]);u?i.runActionsForSourceTypeAndIndex(u,o):a.retrieveTypeWithXhrForIndex(o)}}else i.runActionsForSourceTypeAndIndex("custom",o)}(e)}))}}function qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var He={thumbs:{width:"17px",height:"17px",viewBox:"0 0 22 22",d:"M 3 2 C 2.448 2 2 2.448 2 3 L 2 6 C 2 6.552 2.448 7 3 7 L 6 7 C 6.552 7 7 6.552 7 6 L 7 3 C 7 2.448 6.552 2 6 2 L 3 2 z M 10 2 C 9.448 2 9 2.448 9 3 L 9 6 C 9 6.552 9.448 7 10 7 L 13 7 C 13.552 7 14 6.552 14 6 L 14 3 C 14 2.448 13.552 2 13 2 L 10 2 z M 17 2 C 16.448 2 16 2.448 16 3 L 16 6 C 16 6.552 16.448 7 17 7 L 20 7 C 20.552 7 21 6.552 21 6 L 21 3 C 21 2.448 20.552 2 20 2 L 17 2 z M 3 9 C 2.448 9 2 9.448 2 10 L 2 13 C 2 13.552 2.448 14 3 14 L 6 14 C 6.552 14 7 13.552 7 13 L 7 10 C 7 9.448 6.552 9 6 9 L 3 9 z M 10 9 C 9.448 9 9 9.448 9 10 L 9 13 C 9 13.552 9.448 14 10 14 L 13 14 C 13.552 14 14 13.552 14 13 L 14 10 C 14 9.448 13.552 9 13 9 L 10 9 z M 17 9 C 16.448 9 16 9.448 16 10 L 16 13 C 16 13.552 16.448 14 17 14 L 20 14 C 20.552 14 21 13.552 21 13 L 21 10 C 21 9.448 20.552 9 20 9 L 17 9 z M 3 16 C 2.448 16 2 16.448 2 17 L 2 20 C 2 20.552 2.448 21 3 21 L 6 21 C 6.552 21 7 20.552 7 20 L 7 17 C 7 16.448 6.552 16 6 16 L 3 16 z M 10 16 C 9.448 16 9 16.448 9 17 L 9 20 C 9 20.552 9.448 21 10 21 L 13 21 C 13.552 21 14 20.552 14 20 L 14 17 C 14 16.448 13.552 16 13 16 L 10 16 z M 17 16 C 16.448 16 16 16.448 16 17 L 16 20 C 16 20.552 16.448 21 17 21 L 20 21 C 20.552 21 21 20.552 21 20 L 21 17 C 21 16.448 20.552 16 20 16 L 17 16 z",title:"Thumbnails"},zoomIn:{width:"20px",height:"20px",viewBox:"0 0 30 30",d:"M 13 3 C 7.4889971 3 3 7.4889971 3 13 C 3 18.511003 7.4889971 23 13 23 C 15.396508 23 17.597385 22.148986 19.322266 20.736328 L 25.292969 26.707031 A 1.0001 1.0001 0 1 0 26.707031 25.292969 L 20.736328 19.322266 C 22.148986 17.597385 23 15.396508 23 13 C 23 7.4889971 18.511003 3 13 3 z M 13 5 C 17.430123 5 21 8.5698774 21 13 C 21 17.430123 17.430123 21 13 21 C 8.5698774 21 5 17.430123 5 13 C 5 8.5698774 8.5698774 5 13 5 z M 12.984375 7.9863281 A 1.0001 1.0001 0 0 0 12 9 L 12 12 L 9 12 A 1.0001 1.0001 0 1 0 9 14 L 12 14 L 12 17 A 1.0001 1.0001 0 1 0 14 17 L 14 14 L 17 14 A 1.0001 1.0001 0 1 0 17 12 L 14 12 L 14 9 A 1.0001 1.0001 0 0 0 12.984375 7.9863281 z",title:"Zoom In"},zoomOut:{width:"20px",height:"20px",viewBox:"0 0 30 30",d:"M 13 3 C 7.4889971 3 3 7.4889971 3 13 C 3 18.511003 7.4889971 23 13 23 C 15.396508 23 17.597385 22.148986 19.322266 20.736328 L 25.292969 26.707031 A 1.0001 1.0001 0 1 0 26.707031 25.292969 L 20.736328 19.322266 C 22.148986 17.597385 23 15.396508 23 13 C 23 7.4889971 18.511003 3 13 3 z M 13 5 C 17.430123 5 21 8.5698774 21 13 C 21 17.430123 17.430123 21 13 21 C 8.5698774 21 5 17.430123 5 13 C 5 8.5698774 8.5698774 5 13 5 z M 9 12 A 1.0001 1.0001 0 1 0 9 14 L 17 14 A 1.0001 1.0001 0 1 0 17 12 L 9 12 z",title:"Zoom Out"},slideshow:{start:{width:"16px",height:"16px",viewBox:"0 0 30 30",d:"M 6 3 A 1 1 0 0 0 5 4 A 1 1 0 0 0 5 4.0039062 L 5 15 L 5 25.996094 A 1 1 0 0 0 5 26 A 1 1 0 0 0 6 27 A 1 1 0 0 0 6.5800781 26.8125 L 6.5820312 26.814453 L 26.416016 15.908203 A 1 1 0 0 0 27 15 A 1 1 0 0 0 26.388672 14.078125 L 6.5820312 3.1855469 L 6.5800781 3.1855469 A 1 1 0 0 0 6 3 z",title:"Turn on slideshow"},pause:{width:"14px",height:"14px",viewBox:"0 0 356.19 356.19",d:"M121,0c18,0,33,15,33,33v372c0,18-15,33-33,33s-32-15-32-33V33C89,15,103,0,121,0zM317,0c18,0,32,15,32,33v372c0,18-14,33-32,33s-33-15-33-33V33C284,15,299,0,317,0z",title:"Turn off slideshow"}},fullscreen:{enter:{width:"20px",height:"20px",viewBox:"0 0 18 18",d:"M4.5 11H3v4h4v-1.5H4.5V11zM3 7h1.5V4.5H7V3H3v4zm10.5 6.5H11V15h4v-4h-1.5v2.5zM11 3v1.5h2.5V7H15V3h-4z",title:"Enter fullscreen"},exit:{width:"24px",height:"24px",viewBox:"0 0 950 1024",d:"M682 342h128v84h-212v-212h84v128zM598 810v-212h212v84h-128v128h-84zM342 342v-128h84v212h-212v-84h128zM214 682v-84h212v212h-84v-128h-128z",title:"Exit fullscreen"}},close:{width:"20px",height:"20px",viewBox:"0 0 24 24",d:"M 4.7070312 3.2929688 L 3.2929688 4.7070312 L 10.585938 12 L 3.2929688 19.292969 L 4.7070312 20.707031 L 12 13.414062 L 19.292969 20.707031 L 20.707031 19.292969 L 13.414062 12 L 20.707031 4.7070312 L 19.292969 3.2929688 L 12 10.585938 L 4.7070312 3.2929688 z",title:"Close"}},We={previous:{width:"20px",height:"20px",viewBox:"0 0 20 20",d:"M18.271,9.212H3.615l4.184-4.184c0.306-0.306,0.306-0.801,0-1.107c-0.306-0.306-0.801-0.306-1.107,0L1.21,9.403C1.194,9.417,1.174,9.421,1.158,9.437c-0.181,0.181-0.242,0.425-0.209,0.66c0.005,0.038,0.012,0.071,0.022,0.109c0.028,0.098,0.075,0.188,0.142,0.271c0.021,0.026,0.021,0.061,0.045,0.085c0.015,0.016,0.034,0.02,0.05,0.033l5.484,5.483c0.306,0.307,0.801,0.307,1.107,0c0.306-0.305,0.306-0.801,0-1.105l-4.184-4.185h14.656c0.436,0,0.788-0.353,0.788-0.788S18.707,9.212,18.271,9.212z",title:"Previous"},next:{width:"20px",height:"20px",viewBox:"0 0 20 20",d:"M1.729,9.212h14.656l-4.184-4.184c-0.307-0.306-0.307-0.801,0-1.107c0.305-0.306,0.801-0.306,1.106,0l5.481,5.482c0.018,0.014,0.037,0.019,0.053,0.034c0.181,0.181,0.242,0.425,0.209,0.66c-0.004,0.038-0.012,0.071-0.021,0.109c-0.028,0.098-0.075,0.188-0.143,0.271c-0.021,0.026-0.021,0.061-0.045,0.085c-0.015,0.016-0.034,0.02-0.051,0.033l-5.483,5.483c-0.306,0.307-0.802,0.307-1.106,0c-0.307-0.305-0.307-0.801,0-1.105l4.184-4.185H1.729c-0.436,0-0.788-0.353-0.788-0.788S1.293,9.212,1.729,9.212z",title:"Next"}};function Ke(e){var t=e.additionalClassName,n=e.reference,r=e.onClick,i=e.viewBox,a=e.width,o=e.height,s=e.d,c=e.title;return u.a.createElement("div",{ref:n,onClick:r,title:c,className:"fslightbox-slide-btn-container "+t},u.a.createElement("div",{className:"fslightbox-slide-btn fslightbox-flex-centered"},u.a.createElement(d,{viewBox:i,width:a,height:o,d:s})))}function $e(){return($e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ge(e){var t=e.fsLightbox,n=t.core.slideChangeFacade,r=n.changeToPrevious,i=n.changeToNext,a=t.data.slideButtons,o=a.previous,s=a.next,c=t.elements,l=c.slideButtonPrevious,d=c.slideButtonNext;return t.props.sources.length>1&&u.a.createElement(u.a.Fragment,null,u.a.createElement(Ke,$e({reference:l,additionalClassName:"fslightbox-slide-btn-container-previous",onClick:r},o)),u.a.createElement(Ke,$e({reference:d,additionalClassName:"fslightbox-slide-btn-container-next",onClick:i},s)))}function Qe(e){return(Qe="function"==typeof Symbol&&"symbol"==r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)})(e)}function Ye(e,t,n){return(Ye=tt()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Je(i,n.prototype),i}).apply(null,arguments)}function Xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Je(e,t){return(Je=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function et(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function nt(e){return(nt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var rt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Je(e,t)}(s,e);var t,n,r,a,o=(t=s,n=tt(),function(){var e,r=nt(t);if(n){var i=nt(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return function(e,t){return!t||"object"!==Qe(t)&&"function"!=typeof t?et(e):t}(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=o.call(this,e)).state={isOpen:!1},t.data={isInitialized:!1,maxSourceWidth:0,maxSourceHeight:0,scrollbarWidth:0,toolbarButtons:He,slideButtons:We,captionHeights:[],notThumbedSourceEnhancementWrapperScales:[],notThumbedSourceEnhancementWrapperTranslatesY:[],thumbedSourceEnhancementWrapperTranslateY:null,zoom:1},t.sourcePointerProps={isPointering:!1,pointers:{},pointersCount:0,downScreenX:null,downScreenY:null,isSourceDownEventTarget:!1,swipedX:0,swipedY:0,upSwipedX:0,upSwipedY:0,pinchedHypot:0},t.stageIndexes={current:0},t.componentsServices={showSlideSwipingHovererIfNotYet:null,hideSlideSwipingHoverer:null,hideSourceLoaderCollection:[],updateSourceDirectWrapperCollection:[],isFullscreenOpen:{},startSlideshow:null,stopSlideshow:null,isSlideShowOn:{},slideNumberUpdater:{},toolbarButtons:{fullscreen:{},slideshow:{}},isLightboxOpenManager:{get:function(){return t.state.isOpen},set:function(e,n){t.setState({isOpen:e},n)}}},t.elements={captions:null,container:u.a.createRef(),nav:u.a.createRef(),slideButtonPrevious:u.a.createRef(),slideButtonNext:u.a.createRef(),slideshowBar:u.a.createRef(),sourceAnimationWrappers:null,sourceEnhancementWrappers:null,sourceMainWrappers:null,sourceWrappersContainer:u.a.createRef(),sources:null,sourceComponents:[]},t.core={classFacade:{},clickZoomer:{},eventsDispatcher:{},fullscreenToggler:{},globalEventsController:{},inactiver:{},lightboxCloser:{},lightboxCloseActioner:{},lightboxOpener:{},lightboxOpenActioner:{},lightboxUpdater:{},scrollbarRecompensor:{},slideshowManager:{},slideChangeFacade:{},slideIndexChanger:{},sourceEnhancementWrappersTransformer:{},sourceDisplayFacade:{},sourcesPointerDown:{},stageManager:{},pointeringBucket:{},windowResizeActioner:{},zoomer:{}},t.collections={sourceMainWrapperTransformers:[],sourceLoadHandlers:[],sourceSizers:[],xhrs:[]},t.getQueuedAction=t.getQueuedAction.bind(et(t)),t.middleware=t.middleware.bind(et(t)),t.resolve=t.resolve.bind(et(t)),t.timeout=t.timeout.bind(et(t)),K(et(t)),Ve(et(t)),t}return r=s,(a=[{key:"getQueuedAction",value:function(e,t){var n=this,r=[];return function(){r.push(!0),n.timeout((function(){r.pop(),r.length||e()}),t)}}},{key:"middleware",value:function(e,t){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];t.apply(void 0,function(e){return function(e){if(Array.isArray(e))return qe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return qe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qe(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(n.concat(i)))&&e.apply(void 0,i)}}(e,t,[this])}},{key:"resolve",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.unshift(this),Ye(e,function(e){return function(e){if(Array.isArray(e))return Xe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Xe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xe(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t))}},{key:"timeout",value:function(e,t){var n=this;setTimeout((function(){n.elements.container.current&&e()}),t)}},{key:"componentDidUpdate",value:function(e){this.core.lightboxUpdater.handleUpdate(e)}},{key:"componentDidMount",value:function(){R(this)}},{key:"componentWillUnmount",value:function(){!function(e){for(var t=e.collections.xhrs,n=e.componentsServices.isLightboxOpenManager,r=e.core.globalEventsController,i=0;i<t.length;i++)t[i].abort();n.get()&&r.removeListeners()}(this)}},{key:"render",value:function(){return this.state.isOpen?u.a.createElement("div",{className:i+"container fslightbox-full-dimension fslightbox-fade-in-strong",ref:this.elements.container},u.a.createElement(B,{fsLightbox:this}),u.a.createElement(k,{fsLightbox:this}),u.a.createElement(N,{fsLightbox:this}),u.a.createElement(Ge,{fsLightbox:this}),u.a.createElement(P,{fsLightbox:this}),u.a.createElement(H,{fsLightbox:this}),this.props.disableThumbs?null:u.a.createElement(V,{fsLightbox:this})):null}}])&&Ze(r.prototype,a),s}(s.Component);rt.propTypes={toggler:l.a.bool,sources:l.a.array,initialAnimation:l.a.string,slideChangeAnimation:l.a.string,captions:l.a.array,onOpen:l.a.func,onClose:l.a.func,onInit:l.a.func,onShow:l.a.func,onSlideChange:l.a.func,onZoomingStart:l.a.func,onZoomingEnd:l.a.func,source:l.a.string,sourceIndex:l.a.number,slide:l.a.number,customAttributes:l.a.array,maxYoutubeVideoDimensions:l.a.object,svg:l.a.object,disableLocalStorage:l.a.bool,types:l.a.array,type:l.a.string,thumbs:l.a.array,disableThumbs:l.a.bool,showThumbsOnMount:l.a.bool,thumbsIcons:l.a.array,customToolbarButtons:l.a.array,exitFullscreenOnClose:l.a.bool,loadOnlyCurrentSource:l.a.bool,openOnMount:l.a.bool,slideDistance:l.a.number,slideshowTime:l.a.number,UIFadeOutTime:l.a.number,zoomIncrement:l.a.number},rt.defaultProps={svg:{},initialAnimation:"fslightbox-fade-in-strong",slideChangeAnimation:"fslightbox-fade-in",slideDistance:.3,slideshowTime:8e3,UIFadeOutTime:8e3,zoomIncrement:.25},t.default=rt}])},55917:function(e,t,n){var r,i,a,o,s=n(89990);n(26099),n(3362),n(98992),n(64743),o=function(e){return function(){var t=e,n=t.lib.StreamCipher,r=t.algo,i=r.RC4=n.extend({_doReset:function(){for(var e=this._key,t=e.words,n=e.sigBytes,r=this._S=[],i=0;i<256;i++)r[i]=i;i=0;for(var a=0;i<256;i++){var o=i%n,s=t[o>>>2]>>>24-o%4*8&255;a=(a+r[i]+s)%256;var u=r[i];r[i]=r[a],r[a]=u}this._i=this._j=0},_doProcessBlock:function(e,t){e[t]^=a.call(this)},keySize:8,ivSize:0});function a(){for(var e=this._S,t=this._i,n=this._j,r=0,i=0;i<4;i++){n=(n+e[t=(t+1)%256])%256;var a=e[t];e[t]=e[n],e[n]=a,r|=e[(e[t]+e[n])%256]<<24-8*i}return this._i=t,this._j=n,r}t.RC4=n._createHelper(i);var o=r.RC4Drop=i.extend({cfg:i.cfg.extend({drop:192}),_doReset:function(){i._doReset.call(this);for(var e=this.cfg.drop;e>0;e--)a.call(this)}});t.RC4Drop=n._createHelper(o)}(),e.RC4},"object"===s(t)?e.exports=t=o(n(83841),n(21894),n(54624),n(38294),n(76793)):(i=[n(83841),n(21894),n(54624),n(38294),n(76793)],void 0===(a="function"==typeof(r=o)?r.apply(t,i):r)||(e.exports=a))},55966:(e,t,n)=>{"use strict";var r=n(79306),i=n(64117);e.exports=function(e,t){var n=e[t];return i(n)?void 0:r(n)}},56023:(e,t)=>{t.SAME=0;t.CAMELCASE=1,t.possibleStandardNames={accept:0,acceptCharset:1,"accept-charset":"acceptCharset",accessKey:1,action:0,allowFullScreen:1,alt:0,as:0,async:0,autoCapitalize:1,autoComplete:1,autoCorrect:1,autoFocus:1,autoPlay:1,autoSave:1,capture:0,cellPadding:1,cellSpacing:1,challenge:0,charSet:1,checked:0,children:0,cite:0,"class":"className",classID:1,className:1,cols:0,colSpan:1,content:0,contentEditable:1,contextMenu:1,controls:0,controlsList:1,coords:0,crossOrigin:1,dangerouslySetInnerHTML:1,data:0,dateTime:1,"default":0,defaultChecked:1,defaultValue:1,defer:0,dir:0,disabled:0,disablePictureInPicture:1,disableRemotePlayback:1,download:0,draggable:0,encType:1,enterKeyHint:1,"for":"htmlFor",form:0,formMethod:1,formAction:1,formEncType:1,formNoValidate:1,formTarget:1,frameBorder:1,headers:0,height:0,hidden:0,high:0,href:0,hrefLang:1,htmlFor:1,httpEquiv:1,"http-equiv":"httpEquiv",icon:0,id:0,innerHTML:1,inputMode:1,integrity:0,is:0,itemID:1,itemProp:1,itemRef:1,itemScope:1,itemType:1,keyParams:1,keyType:1,kind:0,label:0,lang:0,list:0,loop:0,low:0,manifest:0,marginWidth:1,marginHeight:1,max:0,maxLength:1,media:0,mediaGroup:1,method:0,min:0,minLength:1,multiple:0,muted:0,name:0,noModule:1,nonce:0,noValidate:1,open:0,optimum:0,pattern:0,placeholder:0,playsInline:1,poster:0,preload:0,profile:0,radioGroup:1,readOnly:1,referrerPolicy:1,rel:0,required:0,reversed:0,role:0,rows:0,rowSpan:1,sandbox:0,scope:0,scoped:0,scrolling:0,seamless:0,selected:0,shape:0,size:0,sizes:0,span:0,spellCheck:1,src:0,srcDoc:1,srcLang:1,srcSet:1,start:0,step:0,style:0,summary:0,tabIndex:1,target:0,title:0,type:0,useMap:1,value:0,width:0,wmode:0,wrap:0,about:0,accentHeight:1,"accent-height":"accentHeight",accumulate:0,additive:0,alignmentBaseline:1,"alignment-baseline":"alignmentBaseline",allowReorder:1,alphabetic:0,amplitude:0,arabicForm:1,"arabic-form":"arabicForm",ascent:0,attributeName:1,attributeType:1,autoReverse:1,azimuth:0,baseFrequency:1,baselineShift:1,"baseline-shift":"baselineShift",baseProfile:1,bbox:0,begin:0,bias:0,by:0,calcMode:1,capHeight:1,"cap-height":"capHeight",clip:0,clipPath:1,"clip-path":"clipPath",clipPathUnits:1,clipRule:1,"clip-rule":"clipRule",color:0,colorInterpolation:1,"color-interpolation":"colorInterpolation",colorInterpolationFilters:1,"color-interpolation-filters":"colorInterpolationFilters",colorProfile:1,"color-profile":"colorProfile",colorRendering:1,"color-rendering":"colorRendering",contentScriptType:1,contentStyleType:1,cursor:0,cx:0,cy:0,d:0,datatype:0,decelerate:0,descent:0,diffuseConstant:1,direction:0,display:0,divisor:0,dominantBaseline:1,"dominant-baseline":"dominantBaseline",dur:0,dx:0,dy:0,edgeMode:1,elevation:0,enableBackground:1,"enable-background":"enableBackground",end:0,exponent:0,externalResourcesRequired:1,fill:0,fillOpacity:1,"fill-opacity":"fillOpacity",fillRule:1,"fill-rule":"fillRule",filter:0,filterRes:1,filterUnits:1,floodOpacity:1,"flood-opacity":"floodOpacity",floodColor:1,"flood-color":"floodColor",focusable:0,fontFamily:1,"font-family":"fontFamily",fontSize:1,"font-size":"fontSize",fontSizeAdjust:1,"font-size-adjust":"fontSizeAdjust",fontStretch:1,"font-stretch":"fontStretch",fontStyle:1,"font-style":"fontStyle",fontVariant:1,"font-variant":"fontVariant",fontWeight:1,"font-weight":"fontWeight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:1,"glyph-name":"glyphName",glyphOrientationHorizontal:1,"glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphOrientationVertical:1,"glyph-orientation-vertical":"glyphOrientationVertical",glyphRef:1,gradientTransform:1,gradientUnits:1,hanging:0,horizAdvX:1,"horiz-adv-x":"horizAdvX",horizOriginX:1,"horiz-origin-x":"horizOriginX",ideographic:0,imageRendering:1,"image-rendering":"imageRendering",in2:0,"in":0,inlist:0,intercept:0,k1:0,k2:0,k3:0,k4:0,k:0,kernelMatrix:1,kernelUnitLength:1,kerning:0,keyPoints:1,keySplines:1,keyTimes:1,lengthAdjust:1,letterSpacing:1,"letter-spacing":"letterSpacing",lightingColor:1,"lighting-color":"lightingColor",limitingConeAngle:1,local:0,markerEnd:1,"marker-end":"markerEnd",markerHeight:1,markerMid:1,"marker-mid":"markerMid",markerStart:1,"marker-start":"markerStart",markerUnits:1,markerWidth:1,mask:0,maskContentUnits:1,maskUnits:1,mathematical:0,mode:0,numOctaves:1,offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:1,"overline-position":"overlinePosition",overlineThickness:1,"overline-thickness":"overlineThickness",paintOrder:1,"paint-order":"paintOrder",panose1:0,"panose-1":"panose1",pathLength:1,patternContentUnits:1,patternTransform:1,patternUnits:1,pointerEvents:1,"pointer-events":"pointerEvents",points:0,pointsAtX:1,pointsAtY:1,pointsAtZ:1,prefix:0,preserveAlpha:1,preserveAspectRatio:1,primitiveUnits:1,property:0,r:0,radius:0,refX:1,refY:1,renderingIntent:1,"rendering-intent":"renderingIntent",repeatCount:1,repeatDur:1,requiredExtensions:1,requiredFeatures:1,resource:0,restart:0,result:0,results:0,rotate:0,rx:0,ry:0,scale:0,security:0,seed:0,shapeRendering:1,"shape-rendering":"shapeRendering",slope:0,spacing:0,specularConstant:1,specularExponent:1,speed:0,spreadMethod:1,startOffset:1,stdDeviation:1,stemh:0,stemv:0,stitchTiles:1,stopColor:1,"stop-color":"stopColor",stopOpacity:1,"stop-opacity":"stopOpacity",strikethroughPosition:1,"strikethrough-position":"strikethroughPosition",strikethroughThickness:1,"strikethrough-thickness":"strikethroughThickness",string:0,stroke:0,strokeDasharray:1,"stroke-dasharray":"strokeDasharray",strokeDashoffset:1,"stroke-dashoffset":"strokeDashoffset",strokeLinecap:1,"stroke-linecap":"strokeLinecap",strokeLinejoin:1,"stroke-linejoin":"strokeLinejoin",strokeMiterlimit:1,"stroke-miterlimit":"strokeMiterlimit",strokeWidth:1,"stroke-width":"strokeWidth",strokeOpacity:1,"stroke-opacity":"strokeOpacity",suppressContentEditableWarning:1,suppressHydrationWarning:1,surfaceScale:1,systemLanguage:1,tableValues:1,targetX:1,targetY:1,textAnchor:1,"text-anchor":"textAnchor",textDecoration:1,"text-decoration":"textDecoration",textLength:1,textRendering:1,"text-rendering":"textRendering",to:0,transform:0,"typeof":0,u1:0,u2:0,underlinePosition:1,"underline-position":"underlinePosition",underlineThickness:1,"underline-thickness":"underlineThickness",unicode:0,unicodeBidi:1,"unicode-bidi":"unicodeBidi",unicodeRange:1,"unicode-range":"unicodeRange",unitsPerEm:1,"units-per-em":"unitsPerEm",unselectable:0,vAlphabetic:1,"v-alphabetic":"vAlphabetic",values:0,vectorEffect:1,"vector-effect":"vectorEffect",version:0,vertAdvY:1,"vert-adv-y":"vertAdvY",vertOriginX:1,"vert-origin-x":"vertOriginX",vertOriginY:1,"vert-origin-y":"vertOriginY",vHanging:1,"v-hanging":"vHanging",vIdeographic:1,"v-ideographic":"vIdeographic",viewBox:1,viewTarget:1,visibility:0,vMathematical:1,"v-mathematical":"vMathematical",vocab:0,widths:0,wordSpacing:1,"word-spacing":"wordSpacing",writingMode:1,"writing-mode":"writingMode",x1:0,x2:0,x:0,xChannelSelector:1,xHeight:1,"x-height":"xHeight",xlinkActuate:1,"xlink:actuate":"xlinkActuate",xlinkArcrole:1,"xlink:arcrole":"xlinkArcrole",xlinkHref:1,"xlink:href":"xlinkHref",xlinkRole:1,"xlink:role":"xlinkRole",xlinkShow:1,"xlink:show":"xlinkShow",xlinkTitle:1,"xlink:title":"xlinkTitle",xlinkType:1,"xlink:type":"xlinkType",xmlBase:1,"xml:base":"xmlBase",xmlLang:1,"xml:lang":"xmlLang",xmlns:0,"xml:space":"xmlSpace",xmlnsXlink:1,"xmlns:xlink":"xmlnsXlink",xmlSpace:1,y1:0,y2:0,y:0,yChannelSelector:1,z:0,zoomAndPan:1}},56078:(e,t,n)=>{var r=n(21272),i=n(29321),a=n(43964),o=n(81813);e.exports=function(e,t){return(o(e)?r:a)(e,i(t,3))}},56279:(e,t,n)=>{"use strict";var r=n(36840);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},56682:(e,t,n)=>{"use strict";var r=n(69565),i=n(28551),a=n(94901),o=n(22195),s=n(57323),u=TypeError;e.exports=function(e,t){var n=e.exec;if(a(n)){var c=r(n,e,t);return null!==c&&i(c),c}if("RegExp"===o(e))return r(s,e,t);throw new u("RegExp#exec called on incompatible receiver")}},56969:(e,t,n)=>{"use strict";var r=n(72777),i=n(10757);e.exports=function(e){var t=r(e,"string");return i(t)?t:t+""}},57029:(e,t,n)=>{"use strict";var r=n(48981),i=n(35610),a=n(26198),o=n(84606),s=Math.min;e.exports=[].copyWithin||function(e,t){var n=r(this),u=a(n),c=i(e,u),l=i(t,u),d=arguments.length>2?arguments[2]:void 0,p=s((void 0===d?u:i(d,u))-l,u-c),f=1;for(l<c&&c<l+p&&(f=-1,l+=p-1,c+=p-1);p-- >0;)l in n?n[c]=n[l]:o(n,c),c+=f,l+=f;return n}},57301:(e,t,n)=>{"use strict";var r=n(94644),i=n(59213).some,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("some",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},57323:(e,t,n)=>{"use strict";var r,i,a=n(69565),o=n(79504),s=n(655),u=n(67979),c=n(58429),l=n(25745),d=n(2360),p=n(91181).get,f=n(83635),h=n(18814),m=l("native-string-replace",String.prototype.replace),v=RegExp.prototype.exec,g=v,y=o("".charAt),b=o("".indexOf),w=o("".replace),D=o("".slice),A=(i=/b*/g,a(v,r=/a/,"a"),a(v,i,"a"),0!==r.lastIndex||0!==i.lastIndex),E=c.BROKEN_CARET,k=void 0!==/()??/.exec("")[1];(A||k||E||f||h)&&(g=function(e){var t,n,r,i,o,c,l,f=this,h=p(f),C=s(e),_=h.raw;if(_)return _.lastIndex=f.lastIndex,t=a(g,_,C),f.lastIndex=_.lastIndex,t;var x=h.groups,S=E&&f.sticky,T=a(u,f),F=f.source,O=0,P=C;if(S&&(T=w(T,"y",""),-1===b(T,"g")&&(T+="g"),P=D(C,f.lastIndex),f.lastIndex>0&&(!f.multiline||f.multiline&&"\n"!==y(C,f.lastIndex-1))&&(F="(?: "+F+")",P=" "+P,O++),n=new RegExp("^(?:"+F+")",T)),k&&(n=new RegExp("^"+F+"$(?!\\s)",T)),A&&(r=f.lastIndex),i=a(v,S?n:f,P),S?i?(i.input=D(i.input,O),i[0]=D(i[0],O),i.index=f.lastIndex,f.lastIndex+=i[0].length):f.lastIndex=0:A&&i&&(f.lastIndex=f.global?i.index+i[0].length:r),k&&i&&i.length>1&&a(m,i[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(i[o]=void 0)})),i&&x)for(i.groups=c=d(null),o=0;o<x.length;o++)c[(l=x[o])[0]]=i[l[1]];return i}),e.exports=g},57465:(e,t,n)=>{"use strict";var r=n(43724),i=n(83635),a=n(22195),o=n(62106),s=n(91181).get,u=RegExp.prototype,c=TypeError;r&&i&&o(u,"dotAll",{configurable:!0,get:function(){if(this!==u){if("RegExp"===a(this))return!!s(this).dotAll;throw new c("Incompatible receiver, RegExp required")}}})},57657:(e,t,n)=>{"use strict";var r,i,a,o=n(79039),s=n(94901),u=n(20034),c=n(2360),l=n(42787),d=n(36840),p=n(78227),f=n(96395),h=p("iterator"),m=!1;[].keys&&("next"in(a=[].keys())?(i=l(l(a)))!==Object.prototype&&(r=i):m=!0),!u(r)||o((function(){var e={};return r[h].call(e)!==e}))?r={}:f&&(r=c(r)),s(r[h])||d(r,h,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:m}},57696:(e,t,n)=>{"use strict";var r=n(91291),i=n(18014),a=RangeError;e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=i(t);if(t!==n)throw new a("Wrong length or index");return n}},57829:(e,t,n)=>{"use strict";var r=n(68183).charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},58229:(e,t,n)=>{"use strict";var r=n(99590),i=RangeError;e.exports=function(e,t){var n=r(e);if(n%t)throw new i("Wrong offset");return n}},58237:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});n(16280),n(76918);function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},58242:(e,t,n)=>{"use strict";var r=n(69565),i=n(97751),a=n(78227),o=n(36840);e.exports=function(){var e=i("Symbol"),t=e&&e.prototype,n=t&&t.valueOf,s=a("toPrimitive");t&&!t[s]&&o(t,s,(function(e){return r(n,this)}),{arity:1})}},58251:(e,t,n)=>{var r=n(86836),i=n(81813),a=n(286);e.exports=function(e){return"string"==typeof e||!i(e)&&a(e)&&"[object String]"==r(e)}},58319:e=>{"use strict";var t=Math.round;e.exports=function(e){var n=t(e);return n<0?0:n>255?255:255&n}},58429:(e,t,n)=>{"use strict";var r=n(79039),i=n(44576).RegExp,a=r((function(){var e=i("a","y");return e.lastIndex=2,null!==e.exec("abcd")})),o=a||r((function(){return!i("a","y").sticky})),s=a||r((function(){var e=i("^r","gy");return e.lastIndex=2,null!==e.exec("str")}));e.exports={BROKEN_CARET:s,MISSED_STICKY:o,UNSUPPORTED_Y:a}},58622:(e,t,n)=>{"use strict";var r=n(44576),i=n(94901),a=r.WeakMap;e.exports=i(a)&&/native code/.test(String(a))},58630:(e,t,n)=>{n(28706);var r=n(85192);n(53486),n(32807);var i=r.asn1,a=e.exports=r.pkcs7asn1=r.pkcs7asn1||{};r.pkcs7=r.pkcs7||{},r.pkcs7.asn1=a;var o={name:"ContentInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};a.contentInfoValidator=o;var s={name:"EncryptedContentInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:i.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};a.envelopedDataValidator={name:"EnvelopedData",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(s)},a.encryptedDataValidator={name:"EncryptedData",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"}].concat(s)};var u={name:"SignerInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:i.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:i.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};a.signedDataValidator={name:"SignedData",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},o,{name:"SignedData.Certificates",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:i.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,capture:"signerInfos",optional:!0,value:[u]}]},a.recipientInfoValidator={name:"RecipientInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:i.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}},58934:(e,t,n)=>{"use strict";var r=n(46518),i=n(53487);r({target:"String",proto:!0,name:"trimStart",forced:"".trimLeft!==i},{trimLeft:i})},58940:(e,t,n)=>{"use strict";var r=n(46518),i=n(52703);r({global:!0,forced:parseInt!==i},{parseInt:i})},59089:(e,t,n)=>{"use strict";var r=n(46518),i=n(79504),a=Date,o=i(a.prototype.getTime);r({target:"Date",stat:!0},{now:function(){return o(new a)}})},59209:(e,t,n)=>{n(16280),n(76918),n(76031);var r=n(67873),i=n(93224),a=n(43146),o=Math.max,s=Math.min;e.exports=function(e,t,n){var u,c,l,d,p,f,h=0,m=!1,v=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=u,r=c;return u=c=void 0,h=t,d=e.apply(r,n)}function b(e){var n=e-f;return void 0===f||n>=t||n<0||v&&e-h>=l}function w(){var e=i();if(b(e))return D(e);p=setTimeout(w,function(e){var n=t-(e-f);return v?s(n,l-(e-h)):n}(e))}function D(e){return p=void 0,g&&u?y(e):(u=c=void 0,d)}function A(){var e=i(),n=b(e);if(u=arguments,c=this,f=e,n){if(void 0===p)return function(e){return h=e,p=setTimeout(w,t),m?y(e):d}(f);if(v)return clearTimeout(p),p=setTimeout(w,t),y(f)}return void 0===p&&(p=setTimeout(w,t)),d}return t=a(t)||0,r(n)&&(m=!!n.leading,l=(v="maxWait"in n)?o(a(n.maxWait)||0,t):l,g="trailing"in n?!!n.trailing:g),A.cancel=function(){void 0!==p&&clearTimeout(p),h=0,u=f=c=p=void 0},A.flush=function(){return void 0===p?d:D(i())},A}},59213:(e,t,n)=>{"use strict";var r=n(76080),i=n(79504),a=n(47055),o=n(48981),s=n(26198),u=n(1469),c=i([].push),l=function(e){var t=1===e,n=2===e,i=3===e,l=4===e,d=6===e,p=7===e,f=5===e||d;return function(h,m,v,g){for(var y,b,w=o(h),D=a(w),A=s(D),E=r(m,v),k=0,C=g||u,_=t?C(h,A):n||p?C(h,0):void 0;A>k;k++)if((f||k in D)&&(b=E(y=D[k],k,w),e))if(t)_[k]=b;else if(b)switch(e){case 3:return!0;case 5:return y;case 6:return k;case 2:c(_,y)}else switch(e){case 4:return!1;case 7:c(_,y)}return d?-1:i||l?l:_}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},59225:(e,t,n)=>{"use strict";var r,i,a,o,s=n(44576),u=n(18745),c=n(76080),l=n(94901),d=n(39297),p=n(79039),f=n(20397),h=n(67680),m=n(4055),v=n(22812),g=n(89544),y=n(16193),b=s.setImmediate,w=s.clearImmediate,D=s.process,A=s.Dispatch,E=s.Function,k=s.MessageChannel,C=s.String,_=0,x={},S="onreadystatechange";p((function(){r=s.location}));var T=function(e){if(d(x,e)){var t=x[e];delete x[e],t()}},F=function(e){return function(){T(e)}},O=function(e){T(e.data)},P=function(e){s.postMessage(C(e),r.protocol+"//"+r.host)};b&&w||(b=function(e){v(arguments.length,1);var t=l(e)?e:E(e),n=h(arguments,1);return x[++_]=function(){u(t,void 0,n)},i(_),_},w=function(e){delete x[e]},y?i=function(e){D.nextTick(F(e))}:A&&A.now?i=function(e){A.now(F(e))}:k&&!g?(o=(a=new k).port2,a.port1.onmessage=O,i=c(o.postMessage,o)):s.addEventListener&&l(s.postMessage)&&!s.importScripts&&r&&"file:"!==r.protocol&&!p(P)?(i=P,s.addEventListener("message",O,!1)):i=S in m("script")?function(e){f.appendChild(m("script"))[S]=function(){f.removeChild(this),T(e)}}:function(e){setTimeout(F(e),0)}),e.exports={set:b,clear:w}},59404:(e,t,n)=>{var r=n(14116);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},59848:(e,t,n)=>{"use strict";n(86368),n(29309)},59904:(e,t,n)=>{"use strict";n(46518)({target:"Object",stat:!0,sham:!n(43724)},{create:n(2360)})},59956:(e,t,n)=>{var r=n(4373).H;!function(e){var t=r,n=t.lib,i=n.WordArray,a=n.Hasher,o=t.algo,s=[];!function(){for(var t=0;t<64;t++)s[t]=4294967296*e.abs(e.sin(t+1))|0}();var u=o.MD5=a.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,i=e[r];e[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var a=this._hash.words,o=e[t+0],u=e[t+1],f=e[t+2],h=e[t+3],m=e[t+4],v=e[t+5],g=e[t+6],y=e[t+7],b=e[t+8],w=e[t+9],D=e[t+10],A=e[t+11],E=e[t+12],k=e[t+13],C=e[t+14],_=e[t+15],x=a[0],S=a[1],T=a[2],F=a[3];x=c(x,S,T,F,o,7,s[0]),F=c(F,x,S,T,u,12,s[1]),T=c(T,F,x,S,f,17,s[2]),S=c(S,T,F,x,h,22,s[3]),x=c(x,S,T,F,m,7,s[4]),F=c(F,x,S,T,v,12,s[5]),T=c(T,F,x,S,g,17,s[6]),S=c(S,T,F,x,y,22,s[7]),x=c(x,S,T,F,b,7,s[8]),F=c(F,x,S,T,w,12,s[9]),T=c(T,F,x,S,D,17,s[10]),S=c(S,T,F,x,A,22,s[11]),x=c(x,S,T,F,E,7,s[12]),F=c(F,x,S,T,k,12,s[13]),T=c(T,F,x,S,C,17,s[14]),x=l(x,S=c(S,T,F,x,_,22,s[15]),T,F,u,5,s[16]),F=l(F,x,S,T,g,9,s[17]),T=l(T,F,x,S,A,14,s[18]),S=l(S,T,F,x,o,20,s[19]),x=l(x,S,T,F,v,5,s[20]),F=l(F,x,S,T,D,9,s[21]),T=l(T,F,x,S,_,14,s[22]),S=l(S,T,F,x,m,20,s[23]),x=l(x,S,T,F,w,5,s[24]),F=l(F,x,S,T,C,9,s[25]),T=l(T,F,x,S,h,14,s[26]),S=l(S,T,F,x,b,20,s[27]),x=l(x,S,T,F,k,5,s[28]),F=l(F,x,S,T,f,9,s[29]),T=l(T,F,x,S,y,14,s[30]),x=d(x,S=l(S,T,F,x,E,20,s[31]),T,F,v,4,s[32]),F=d(F,x,S,T,b,11,s[33]),T=d(T,F,x,S,A,16,s[34]),S=d(S,T,F,x,C,23,s[35]),x=d(x,S,T,F,u,4,s[36]),F=d(F,x,S,T,m,11,s[37]),T=d(T,F,x,S,y,16,s[38]),S=d(S,T,F,x,D,23,s[39]),x=d(x,S,T,F,k,4,s[40]),F=d(F,x,S,T,o,11,s[41]),T=d(T,F,x,S,h,16,s[42]),S=d(S,T,F,x,g,23,s[43]),x=d(x,S,T,F,w,4,s[44]),F=d(F,x,S,T,E,11,s[45]),T=d(T,F,x,S,_,16,s[46]),x=p(x,S=d(S,T,F,x,f,23,s[47]),T,F,o,6,s[48]),F=p(F,x,S,T,y,10,s[49]),T=p(T,F,x,S,C,15,s[50]),S=p(S,T,F,x,v,21,s[51]),x=p(x,S,T,F,E,6,s[52]),F=p(F,x,S,T,h,10,s[53]),T=p(T,F,x,S,D,15,s[54]),S=p(S,T,F,x,u,21,s[55]),x=p(x,S,T,F,b,6,s[56]),F=p(F,x,S,T,_,10,s[57]),T=p(T,F,x,S,g,15,s[58]),S=p(S,T,F,x,k,21,s[59]),x=p(x,S,T,F,m,6,s[60]),F=p(F,x,S,T,A,10,s[61]),T=p(T,F,x,S,f,15,s[62]),S=p(S,T,F,x,w,21,s[63]),a[0]=a[0]+x|0,a[1]=a[1]+S|0,a[2]=a[2]+T|0,a[3]=a[3]+F|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;n[i>>>5]|=128<<24-i%32;var a=e.floor(r/4294967296),o=r;n[15+(i+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),n[14+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),t.sigBytes=4*(n.length+1),this._process();for(var s=this._hash,u=s.words,c=0;c<4;c++){var l=u[c];u[c]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}return s},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}});function c(e,t,n,r,i,a,o){var s=e+(t&n|~t&r)+i+o;return(s<<a|s>>>32-a)+t}function l(e,t,n,r,i,a,o){var s=e+(t&r|n&~r)+i+o;return(s<<a|s>>>32-a)+t}function d(e,t,n,r,i,a,o){var s=e+(t^n^r)+i+o;return(s<<a|s>>>32-a)+t}function p(e,t,n,r,i,a,o){var s=e+(n^(t|~r))+i+o;return(s<<a|s>>>32-a)+t}t.MD5=a._createHelper(u),t.HmacMD5=a._createHmacHelper(u)}(Math)},59957:(e,t,n)=>{"use strict";n(60825);var r=n(33351),i=n(47251),a=n(4912),o=n(17948),s=n(33483),u=n(14937);function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(c=function(){return!!e})()}n(16280),n(76918),n(62010),n(26099),n(3362),n(76031);var l=n(80397),d=function(e){function t(e){var n;return i(this,t),(n=function(e,t,n){return t=o(t),a(e,c()?Reflect.construct(t,n||[],o(e).constructor):t.apply(e,n))}(this,t,[e])).name="TimeoutError",n}return s(t,e),r(t)}(u(Error)),p=function(e,t,n){return new Promise((function(r,i){if("number"!=typeof t||t<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(t!==1/0){var a=setTimeout((function(){if("function"!=typeof n){var a="string"==typeof n?n:"Promise timed out after ".concat(t," milliseconds"),o=n instanceof Error?n:new d(a);"function"==typeof e.cancel&&e.cancel(),i(o)}else try{r(n())}catch(e){i(e)}}),t);l(e.then(r,i),(function(){clearTimeout(a)}))}else r(e)}))};e.exports=p,e.exports.default=p,e.exports.TimeoutError=d},60479:(e,t,n)=>{"use strict";n(10687)(Math,"Math",!0)},60511:(e,t,n)=>{"use strict";var r=n(60788),i=TypeError;e.exports=function(e){if(r(e))throw new i("The method doesn't accept regular expressions");return e}},60533:(e,t,n)=>{"use strict";var r=n(79504),i=n(18014),a=n(655),o=n(72333),s=n(67750),u=r(o),c=r("".slice),l=Math.ceil,d=function(e){return function(t,n,r){var o,d,p=a(s(t)),f=i(n),h=p.length,m=void 0===r?" ":a(r);return f<=h||""===m?p:((d=u(m,l((o=f-h)/m.length))).length>o&&(d=c(d,0,o)),e?p+d:d+p)}};e.exports={start:d(!1),end:d(!0)}},60706:(e,t,n)=>{"use strict";var r=n(10350).PROPER,i=n(79039),a=n(47452);e.exports=function(e){return i((function(){return!!a[e]()||""!==""[e]()||r&&a[e].name!==e}))}},60739:(e,t,n)=>{"use strict";var r=n(46518),i=n(79039),a=n(48981),o=n(72777);r({target:"Date",proto:!0,arity:1,forced:i((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}))},{toJSON:function(e){var t=a(this),n=o(t,"number");return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},60788:(e,t,n)=>{"use strict";var r=n(20034),i=n(22195),a=n(78227)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[a])?!!t:"RegExp"===i(e))}},60825:(e,t,n)=>{"use strict";var r=n(46518),i=n(97751),a=n(18745),o=n(30566),s=n(35548),u=n(28551),c=n(20034),l=n(2360),d=n(79039),p=i("Reflect","construct"),f=Object.prototype,h=[].push,m=d((function(){function e(){}return!(p((function(){}),[],e)instanceof e)})),v=!d((function(){p((function(){}))})),g=m||v;r({target:"Reflect",stat:!0,forced:g,sham:g},{construct:function(e,t){s(e),u(t);var n=arguments.length<3?e:s(arguments[2]);if(v&&!m)return p(e,t,n);if(e===n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return a(h,r,t),new(a(o,e,r))}var i=n.prototype,d=l(c(i)?i:f),g=a(e,d,t);return c(g)?g:d}})},61034:(e,t,n)=>{"use strict";var r=n(69565),i=n(39297),a=n(1625),o=n(67979),s=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in s||i(e,"flags")||!a(s,e)?t:r(o,e)}},61206:(e,t,n)=>{n(36456),n(84864),n(57465),n(27495),n(87745),n(90906),n(38781),n(25440),n(90744),n(42762),n(88267);var r=n(9919),i=r.Global,a=r.trim;e.exports={name:"cookieStorage",read:function(e){if(!e||!c(e))return null;var t="(?:^|.*;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*";return unescape(o.cookie.replace(new RegExp(t),"$1"))},write:function(e,t){if(!e)return;o.cookie=escape(e)+"="+escape(t)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/"},each:s,remove:u,clearAll:function(){s((function(e,t){u(t)}))}};var o=i.document;function s(e){for(var t=o.cookie.split(/; ?/g),n=t.length-1;n>=0;n--)if(a(t[n])){var r=t[n].split("="),i=unescape(r[0]);e(unescape(r[1]),i)}}function u(e){e&&c(e)&&(o.cookie=escape(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/")}function c(e){return new RegExp("(?:^|;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(o.cookie)}},61305:(e,t,n)=>{n(28706),n(23792),n(44114),n(34782),n(23288),n(62010),n(26099),n(69479),n(47764),n(62953),n(3296),n(27208),n(48408);var r=n(85192);n(32807),e.exports=r.log=r.log||{},r.log.levels=["none","error","warning","info","debug","verbose","max"];var i={},a=[],o=null;r.log.LEVEL_LOCKED=2,r.log.NO_LEVEL_CHECK=4,r.log.INTERPOLATE=8;for(var s=0;s<r.log.levels.length;++s){var u=r.log.levels[s];i[u]={index:s,name:u.toUpperCase()}}r.log.logMessage=function(e){for(var t=i[e.level].index,n=0;n<a.length;++n){var o=a[n];if(o.flags&r.log.NO_LEVEL_CHECK)o.f(e);else t<=i[o.level].index&&o.f(o,e)}},r.log.prepareStandard=function(e){"standard"in e||(e.standard=i[e.level].name+" ["+e.category+"] "+e.message)},r.log.prepareFull=function(e){if(!("full"in e)){var t=[e.message];t=t.concat([]||0),e.full=r.util.format.apply(this,t)}},r.log.prepareStandardFull=function(e){"standardFull"in e||(r.log.prepareStandard(e),e.standardFull=e.standard)};var c=["error","warning","info","debug","verbose"];for(s=0;s<c.length;++s)!function(e){r.log[e]=function(t,n){var i=Array.prototype.slice.call(arguments).slice(2),a={timestamp:new Date,level:e,category:t,message:n,"arguments":i};r.log.logMessage(a)}}(c[s]);if(r.log.makeLogger=function(e){var t={flags:0,f:e};return r.log.setLevel(t,"none"),t},r.log.setLevel=function(e,t){var n=!1;if(e&&!(e.flags&r.log.LEVEL_LOCKED))for(var i=0;i<r.log.levels.length;++i){if(t==r.log.levels[i]){e.level=t,n=!0;break}}return n},r.log.lock=function(e,t){void 0===t||t?e.flags|=r.log.LEVEL_LOCKED:e.flags&=~r.log.LEVEL_LOCKED},r.log.addLogger=function(e){a.push(e)},"undefined"!=typeof console&&"log"in console){var l;if(console.error&&console.warn&&console.info&&console.debug){var d={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},p=function(e,t){r.log.prepareStandard(t);var n=d[t.level],i=[t.standard];i=i.concat(t.arguments.slice()),n.apply(console,i)};l=r.log.makeLogger(p)}else{p=function(e,t){r.log.prepareStandardFull(t),console.log(t.standardFull)};l=r.log.makeLogger(p)}r.log.setLevel(l,"debug"),r.log.addLogger(l),o=l}else console={log:function(){}};if(null!==o&&"undefined"!=typeof window&&window.location){var f=new URL(window.location.href).searchParams;if(f.has("console.level")&&r.log.setLevel(o,f.get("console.level").slice(-1)[0]),f.has("console.lock"))"true"==f.get("console.lock").slice(-1)[0]&&r.log.lock(o)}r.log.consoleLogger=o},61312:(e,t,n)=>{n(16280),n(76918),n(23288),n(62010),n(26099),n(38781);var r=n(85192);n(32807),n(52364),n(78008),function(){if(r.prime)e.exports=r.prime;else{var t=e.exports=r.prime=r.prime||{},n=r.jsbn.BigInteger,i=[6,4,2,4,2,4,6,2],a=new n(null);a.fromInt(30);var o=function(e,t){return e|t};t.generateProbablePrime=function(e,t,i){"function"==typeof t&&(i=t,t={});var a=(t=t||{}).algorithm||"PRIMEINC";"string"==typeof a&&(a={name:a}),a.options=a.options||{};var o=t.prng||r.random,u={nextBytes:function(e){for(var t=o.getBytesSync(e.length),n=0;n<e.length;++n)e[n]=t.charCodeAt(n)}};if("PRIMEINC"===a.name)return function(e,t,i,a){if("workers"in i)return function(e,t,i,a){if("undefined"==typeof Worker)return s(e,t,i,a);var o=c(e,t),u=i.workers,l=i.workLoad||100,d=30*l/8,p=i.workerScript||"forge/prime.worker.js";if(-1===u)return r.util.estimateCores((function(e,t){e&&(t=2),u=t-1,f()}));function f(){u=Math.max(1,u);for(var r=[],i=0;i<u;++i)r[i]=new Worker(p);for(i=0;i<u;++i)r[i].addEventListener("message",f);var s=!1;function f(i){if(!s){0;var u=i.data;if(u.found){for(var p=0;p<r.length;++p)r[p].terminate();return s=!0,a(null,new n(u.prime,16))}o.bitLength()>e&&(o=c(e,t));var f=o.toString(16);i.target.postMessage({hex:f,workLoad:l}),o.dAddOffset(d,0)}}}f()}(e,t,i,a);return s(e,t,i,a)}(e,u,a.options,i);throw new Error("Invalid prime generation algorithm: "+a.name)}}function s(e,t,n,r){var i=c(e,t),a=function(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}(i.bitLength());"millerRabinTests"in n&&(a=n.millerRabinTests);var o=10;"maxBlockTime"in n&&(o=n.maxBlockTime),u(i,e,t,0,a,o,r)}function u(e,t,n,a,o,s,l){var d=+new Date;do{if(e.bitLength()>t&&(e=c(t,n)),e.isProbablePrime(o))return l(null,e);e.dAddOffset(i[a++%8],0)}while(s<0||+new Date-d<s);r.util.setImmediate((function(){u(e,t,n,a,o,s,l)}))}function c(e,t){var r=new n(e,t),i=e-1;return r.testBit(i)||r.bitwiseTo(n.ONE.shiftLeft(i),o,r),r.dAddOffset(31-r.mod(a).byteValue(),0),r}}()},61643:(e,t,n)=>{var r=n(89990);n(16280),n(76918),n(28706),n(2892),n(9868),e.exports=function(e){if("number"!=typeof e||isNaN(e))throw new TypeError("Expected a number, got ".concat(r(e)));var t=e<0,n=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];if(t&&(e=-e),e<1)return"".concat((t?"-":"")+e," B");var i=Math.min(Math.floor(Math.log(e)/Math.log(1024)),n.length-1);e=Number(e/Math.pow(1024,i));var a=n[i];return e>=10||e%1==0?"".concat((t?"-":"")+e.toFixed(0)," ").concat(a):"".concat((t?"-":"")+e.toFixed(1)," ").concat(a)}},61701:(e,t,n)=>{"use strict";var r=n(46518),i=n(20713);r({target:"Iterator",proto:!0,real:!0,forced:n(96395)},{map:i})},61740:(e,t,n)=>{"use strict";n(15823)("Uint32",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},61792:(e,t,n)=>{var r=n(89990);n(55081);var i=n(50469)();e.exports=i;try{regeneratorRuntime=i}catch(e){"object"===("undefined"==typeof globalThis?"undefined":r(globalThis))?globalThis.regeneratorRuntime=i:Function("r","regeneratorRuntime = r")(i)}},61806:(e,t,n)=>{"use strict";var r=n(46518),i=n(28551),a=n(72652),o=n(1767),s=[].push;r({target:"Iterator",proto:!0,real:!0},{toArray:function(){var e=[];return a(o(i(this)),s,{that:e,IS_RECORD:!0}),e}})},61828:(e,t,n)=>{"use strict";var r=n(79504),i=n(39297),a=n(25397),o=n(19617).indexOf,s=n(30421),u=r([].push);e.exports=function(e,t){var n,r=a(e),c=0,l=[];for(n in r)!i(s,n)&&i(r,n)&&u(l,n);for(;t.length>c;)i(r,n=t[c++])&&(~o(l,n)||u(l,n));return l}},62010:(e,t,n)=>{"use strict";var r=n(43724),i=n(10350).EXISTS,a=n(79504),o=n(62106),s=Function.prototype,u=a(s.toString),c=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,l=a(c.exec);r&&!i&&o(s,"name",{configurable:!0,get:function(){try{return l(c,u(this))[1]}catch(e){return""}}})},62062:(e,t,n)=>{"use strict";var r=n(46518),i=n(59213).map;r({target:"Array",proto:!0,forced:!n(70597)("map")},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},62106:(e,t,n)=>{"use strict";var r=n(50283),i=n(24913);e.exports=function(e,t,n){return n.get&&r(n.get,t,{getter:!0}),n.set&&r(n.set,t,{setter:!0}),i.f(e,t,n)}},62529:e=>{"use strict";e.exports=function(e,t){return{value:e,done:t}}},62809:(e,t,n)=>{var r=n(85046);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},62953:(e,t,n)=>{"use strict";var r=n(44576),i=n(67400),a=n(79296),o=n(23792),s=n(66699),u=n(10687),c=n(78227)("iterator"),l=o.values,d=function(e,t){if(e){if(e[c]!==l)try{s(e,c,l)}catch(t){e[c]=l}if(u(e,t,!0),i[t])for(var n in o)if(e[n]!==o[n])try{s(e,n,o[n])}catch(t){e[n]=o[n]}}};for(var p in i)d(r[p]&&r[p].prototype,p);d(a,"DOMTokenList")},62997:(e,t,n)=>{var r=n(89990);n(27495),n(90906);var i=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var n=r(e);return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&i.test(e))&&e>-1&&e%1==0&&e<t}},63016:(e,t,n)=>{n(16280),n(76918),n(8921),n(44114),n(34782),n(27495),n(71761),n(25440);var r=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,i=/\n/g,a=/^\s*/,o=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,s=/^:\s*/,u=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,c=/^[;\s]*/,l=/^\s+|\s+$/g,d="";function p(e){return e?e.replace(l,d):d}e.exports=function(e,t){if("string"!=typeof e)throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,l=1;function f(e){var t=e.match(i);t&&(n+=t.length);var r=e.lastIndexOf("\n");l=~r?e.length-r:l+e.length}function h(){var e={line:n,column:l};return function(t){return t.position=new m(e),b(),t}}function m(e){this.start=e,this.end={line:n,column:l},this.source=t.source}m.prototype.content=e;var v=[];function g(r){var i=new Error(t.source+":"+n+":"+l+": "+r);if(i.reason=r,i.filename=t.source,i.line=n,i.column=l,i.source=e,!t.silent)throw i;v.push(i)}function y(t){var n=t.exec(e);if(n){var r=n[0];return f(r),e=e.slice(r.length),n}}function b(){y(a)}function w(e){var t;for(e=e||[];t=D();)!1!==t&&e.push(t);return e}function D(){var t=h();if("/"==e.charAt(0)&&"*"==e.charAt(1)){for(var n=2;d!=e.charAt(n)&&("*"!=e.charAt(n)||"/"!=e.charAt(n+1));)++n;if(n+=2,d===e.charAt(n-1))return g("End of comment missing");var r=e.slice(2,n-2);return l+=2,f(r),e=e.slice(n),l+=2,t({type:"comment",comment:r})}}function A(){var e=h(),t=y(o);if(t){if(D(),!y(s))return g("property missing ':'");var n=y(u),i=e({type:"declaration",property:p(t[0].replace(r,d)),value:n?p(n[0].replace(r,d)):d});return y(c),i}}return b(),function(){var e,t=[];for(w(t);e=A();)!1!==e&&(t.push(e),w(t));return t}()}},63123:function(e,t,n){var r,i,a,o,s=n(89990);n(48598),n(44114),o=function(e){return function(){var t=e,n=t.lib.WordArray,r=t.enc;function i(e){return e<<8&4278255360|e>>>8&16711935}r.Utf16=r.Utf16BE={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i+=2){var a=t[i>>>2]>>>16-i%4*8&65535;r.push(String.fromCharCode(a))}return r.join("")},parse:function(e){for(var t=e.length,r=[],i=0;i<t;i++)r[i>>>1]|=e.charCodeAt(i)<<16-i%2*16;return n.create(r,2*t)}},r.Utf16LE={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],a=0;a<n;a+=2){var o=i(t[a>>>2]>>>16-a%4*8&65535);r.push(String.fromCharCode(o))}return r.join("")},parse:function(e){for(var t=e.length,r=[],a=0;a<t;a++)r[a>>>1]|=i(e.charCodeAt(a)<<16-a%2*16);return n.create(r,2*t)}}}(),e.enc.Utf16},"object"===s(t)?e.exports=t=o(n(83841)):(i=[n(83841)],void 0===(a="function"==typeof(r=o)?r.apply(t,i):r)||(e.exports=a))},63225:function(e,t,n){"use strict";var r=(this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}})(n(18993)),i=n(37057);function a(e,t){var n={};return e&&"string"==typeof e?((0,r.default)(e,(function(e,r){e&&r&&(n[(0,i.camelCase)(e,t)]=r)})),n):n}a.default=a,e.exports=a},63265:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r={__proto__:null,md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",webp:"image/webp",gif:"image/gif",heic:"image/heic",heif:"image/heif",yaml:"text/yaml",yml:"text/yaml",csv:"text/csv",tsv:"text/tab-separated-values",tab:"text/tab-separated-values",avi:"video/x-msvideo",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",dicom:"application/dicom",doc:"application/msword",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",txt:"text/plain",text:"text/plain",conf:"text/plain",log:"text/plain",pdf:"application/pdf",zip:"application/zip","7z":"application/x-7z-compressed",rar:"application/x-rar-compressed",tar:"application/x-tar",gz:"application/gzip",dmg:"application/x-apple-diskimage"}},63266:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},63548:(e,t,n)=>{"use strict";var r=n(43724),i=n(62106),a=n(20034),o=n(13925),s=n(48981),u=n(67750),c=Object.getPrototypeOf,l=Object.setPrototypeOf,d=Object.prototype,p="__proto__";if(r&&c&&l&&!(p in d))try{i(d,p,{configurable:!0,get:function(){return c(s(this))},set:function(e){var t=u(this);o(e)&&a(t)&&l(t,e)}})}catch(e){}},63734:(e,t,n)=>{var r=n(10676);e.exports=function(e){return"function"==typeof e?e:r}},63904:(e,t,n)=>{"use strict";n.r(t),n.d(t,{KeepAwakeWeb:()=>p});n(60825);var r=n(18443),i=n(58237),a=n(84285),o=n(68119),s=n(36858),u=n(31061),c=n(61792),l=n.n(c);function d(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(d=function(){return!!e})()}var p=function(e){function t(){var e;return(0,i.A)(this,t),(e=function(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,d()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}(this,t,arguments)).wakeLock=null,e._isSupported="undefined"!=typeof navigator&&"wakeLock"in navigator,e.handleVisibilityChange=function(){"visible"===document.visibilityState&&e.keepAwake()},e}return(0,u.A)(t,e),(0,a.A)(t,[{key:"keepAwake",value:(f=(0,r.A)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._isSupported||this.throwUnsupportedError(),!this.wakeLock){e.next=4;break}return e.next=4,this.allowSleep();case 4:return e.next=6,navigator.wakeLock.request("screen");case 6:this.wakeLock=e.sent,document.addEventListener("visibilitychange",this.handleVisibilityChange),document.addEventListener("fullscreenchange",this.handleVisibilityChange);case 9:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)})},{key:"allowSleep",value:(p=(0,r.A)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._isSupported||this.throwUnsupportedError(),null===(t=this.wakeLock)||void 0===t||t.release(),this.wakeLock=null,document.removeEventListener("visibilitychange",this.handleVisibilityChange),document.removeEventListener("fullscreenchange",this.handleVisibilityChange);case 5:case"end":return e.stop()}}),e,this)}))),function(){return p.apply(this,arguments)})},{key:"isSupported",value:(c=(0,r.A)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={isSupported:this._isSupported},e.abrupt("return",t);case 2:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"isKeptAwake",value:(n=(0,r.A)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._isSupported||this.throwUnsupportedError(),t={isKeptAwake:!!this.wakeLock},e.abrupt("return",t);case 3:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"throwUnsupportedError",value:function(){throw this.unavailable("Screen Wake Lock API not available in this browser.")}}]);var n,c,p,f}(n(94230).E_)},64117:e=>{"use strict";e.exports=function(e){return null==e}},64284:function(e,t,n){var r,i,a,o,s=n(89990);o=function(e){return function(){var t=e,n=t.lib.StreamCipher,r=t.algo,i=[],a=[],o=[],s=r.RabbitLegacy=n.extend({_doReset:function(){var e=this._key.words,t=this.cfg.iv,n=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],r=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(var i=0;i<4;i++)u.call(this);for(i=0;i<8;i++)r[i]^=n[i+4&7];if(t){var a=t.words,o=a[0],s=a[1],c=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),l=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),d=c>>>16|4294901760&l,p=l<<16|65535&c;for(r[0]^=c,r[1]^=d,r[2]^=l,r[3]^=p,r[4]^=c,r[5]^=d,r[6]^=l,r[7]^=p,i=0;i<4;i++)u.call(this)}},_doProcessBlock:function(e,t){var n=this._X;u.call(this),i[0]=n[0]^n[5]>>>16^n[3]<<16,i[1]=n[2]^n[7]>>>16^n[5]<<16,i[2]=n[4]^n[1]>>>16^n[7]<<16,i[3]=n[6]^n[3]>>>16^n[1]<<16;for(var r=0;r<4;r++)i[r]=16711935&(i[r]<<8|i[r]>>>24)|4278255360&(i[r]<<24|i[r]>>>8),e[t+r]^=i[r]},blockSize:4,ivSize:2});function u(){for(var e=this._X,t=this._C,n=0;n<8;n++)a[n]=t[n];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<a[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<a[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<a[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<a[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<a[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<a[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<a[6]>>>0?1:0)|0,this._b=t[7]>>>0<a[7]>>>0?1:0,n=0;n<8;n++){var r=e[n]+t[n],i=65535&r,s=r>>>16,u=((i*i>>>17)+i*s>>>15)+s*s,c=((4294901760&r)*r|0)+((65535&r)*r|0);o[n]=u^c}e[0]=o[0]+(o[7]<<16|o[7]>>>16)+(o[6]<<16|o[6]>>>16)|0,e[1]=o[1]+(o[0]<<8|o[0]>>>24)+o[7]|0,e[2]=o[2]+(o[1]<<16|o[1]>>>16)+(o[0]<<16|o[0]>>>16)|0,e[3]=o[3]+(o[2]<<8|o[2]>>>24)+o[1]|0,e[4]=o[4]+(o[3]<<16|o[3]>>>16)+(o[2]<<16|o[2]>>>16)|0,e[5]=o[5]+(o[4]<<8|o[4]>>>24)+o[3]|0,e[6]=o[6]+(o[5]<<16|o[5]>>>16)+(o[4]<<16|o[4]>>>16)|0,e[7]=o[7]+(o[6]<<8|o[6]>>>24)+o[5]|0}t.RabbitLegacy=n._createHelper(s)}(),e.RabbitLegacy},"object"===s(t)?e.exports=t=o(n(83841),n(21894),n(54624),n(38294),n(76793)):(i=[n(83841),n(21894),n(54624),n(38294),n(76793)],void 0===(a="function"==typeof(r=o)?r.apply(t,i):r)||(e.exports=a))},64327:(e,t,n)=>{n(62062),n(26099),n(98992),n(81454);var r=n(4326);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},64346:(e,t,n)=>{"use strict";n(46518)({target:"Array",stat:!0},{isArray:n(34376)})},64601:(e,t,n)=>{"use strict";n(46518)({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MAX_SAFE_INTEGER:9007199254740991})},64602:(e,t,n)=>{var r=n(91557),i=n(48080),a=n(81813),o=n(62997),s=n(92554),u=n(13585);e.exports=function(e,t,n){for(var c=-1,l=(t=r(t,e)).length,d=!1;++c<l;){var p=u(t[c]);if(!(d=null!=e&&n(e,p)))break;e=e[p]}return d||++c!=l?d:!!(l=null==e?0:e.length)&&s(l)&&o(p,l)&&(a(e)||i(e))}},64622:(e,t,n)=>{n(16280),n(76918),n(18107),n(28706),n(44114),n(34782),n(62010),n(67357);var r=n(85192);n(32807),r.cipher=r.cipher||{};var i=e.exports=r.cipher.modes=r.cipher.modes||{};function a(e,t){if("string"==typeof e&&(e=r.util.createBuffer(e)),r.util.isArray(e)&&e.length>4){var n=e;e=r.util.createBuffer();for(var i=0;i<n.length;++i)e.putByte(n[i])}if(e.length()<t)throw new Error("Invalid IV length; got "+e.length()+" bytes and expected "+t+" bytes.");if(!r.util.isArray(e)){var a=[],o=t/4;for(i=0;i<o;++i)a.push(e.getInt32());e=a}return e}function o(e){e[e.length-1]=e[e.length-1]+1&4294967295}function s(e){return[e/4294967296|0,4294967295&e]}i.ecb=function(e){e=e||{},this.name="ECB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},i.ecb.prototype.start=function(e){},i.ecb.prototype.encrypt=function(e,t,n){if(e.length()<this.blockSize&&!(n&&e.length()>0))return!0;for(var r=0;r<this._ints;++r)this._inBlock[r]=e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(r=0;r<this._ints;++r)t.putInt32(this._outBlock[r])},i.ecb.prototype.decrypt=function(e,t,n){if(e.length()<this.blockSize&&!(n&&e.length()>0))return!0;for(var r=0;r<this._ints;++r)this._inBlock[r]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(r=0;r<this._ints;++r)t.putInt32(this._outBlock[r])},i.ecb.prototype.pad=function(e,t){var n=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(n,n),!0},i.ecb.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var n=e.length(),r=e.at(n-1);return!(r>this.blockSize<<2)&&(e.truncate(r),!0)},i.cbc=function(e){e=e||{},this.name="CBC",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},i.cbc.prototype.start=function(e){if(null===e.iv){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else{if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=a(e.iv,this.blockSize),this._prev=this._iv.slice(0)}},i.cbc.prototype.encrypt=function(e,t,n){if(e.length()<this.blockSize&&!(n&&e.length()>0))return!0;for(var r=0;r<this._ints;++r)this._inBlock[r]=this._prev[r]^e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(r=0;r<this._ints;++r)t.putInt32(this._outBlock[r]);this._prev=this._outBlock},i.cbc.prototype.decrypt=function(e,t,n){if(e.length()<this.blockSize&&!(n&&e.length()>0))return!0;for(var r=0;r<this._ints;++r)this._inBlock[r]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(r=0;r<this._ints;++r)t.putInt32(this._prev[r]^this._outBlock[r]);this._prev=this._inBlock.slice(0)},i.cbc.prototype.pad=function(e,t){var n=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(n,n),!0},i.cbc.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var n=e.length(),r=e.at(n-1);return!(r>this.blockSize<<2)&&(e.truncate(r),!0)},i.cfb=function(e){e=e||{},this.name="CFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=r.util.createBuffer(),this._partialBytes=0},i.cfb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=a(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},i.cfb.prototype.encrypt=function(e,t,n){var r=e.length();if(0===r)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&r>=this.blockSize)for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32()^this._outBlock[i],t.putInt32(this._inBlock[i]);else{var a=(this.blockSize-r)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32()^this._outBlock[i],this._partialOutput.putInt32(this._partialBlock[i]);if(a>0)e.read-=this.blockSize;else for(i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!n)return t.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;t.putBytes(this._partialOutput.getBytes(r-this._partialBytes)),this._partialBytes=0}},i.cfb.prototype.decrypt=function(e,t,n){var r=e.length();if(0===r)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&r>=this.blockSize)for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32(),t.putInt32(this._inBlock[i]^this._outBlock[i]);else{var a=(this.blockSize-r)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32(),this._partialOutput.putInt32(this._partialBlock[i]^this._outBlock[i]);if(a>0)e.read-=this.blockSize;else for(i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!n)return t.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;t.putBytes(this._partialOutput.getBytes(r-this._partialBytes)),this._partialBytes=0}},i.ofb=function(e){e=e||{},this.name="OFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=r.util.createBuffer(),this._partialBytes=0},i.ofb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=a(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},i.ofb.prototype.encrypt=function(e,t,n){var r=e.length();if(0===e.length())return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&r>=this.blockSize)for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]),this._inBlock[i]=this._outBlock[i];else{var a=(this.blockSize-r)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(a>0)e.read-=this.blockSize;else for(i=0;i<this._ints;++i)this._inBlock[i]=this._outBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!n)return t.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;t.putBytes(this._partialOutput.getBytes(r-this._partialBytes)),this._partialBytes=0}},i.ofb.prototype.decrypt=i.ofb.prototype.encrypt,i.ctr=function(e){e=e||{},this.name="CTR",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=r.util.createBuffer(),this._partialBytes=0},i.ctr.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=a(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},i.ctr.prototype.encrypt=function(e,t,n){var r=e.length();if(0===r)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&r>=this.blockSize)for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]);else{var a=(this.blockSize-r)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(a>0&&(e.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!n)return t.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;t.putBytes(this._partialOutput.getBytes(r-this._partialBytes)),this._partialBytes=0}o(this._inBlock)},i.ctr.prototype.decrypt=i.ctr.prototype.encrypt,i.gcm=function(e){e=e||{},this.name="GCM",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=r.util.createBuffer(),this._partialBytes=0,this._R=3774873600},i.gcm.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");var t,n=r.util.createBuffer(e.iv);if(this._cipherLength=0,t="additionalData"in e?r.util.createBuffer(e.additionalData):r.util.createBuffer(),this._tagLength="tagLength"in e?e.tagLength:128,this._tag=null,e.decrypt&&(this._tag=r.util.createBuffer(e.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var i=n.length();if(12===i)this._j0=[n.getInt32(),n.getInt32(),n.getInt32(),1];else{for(this._j0=[0,0,0,0];n.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[n.getInt32(),n.getInt32(),n.getInt32(),n.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(s(8*i)))}this._inBlock=this._j0.slice(0),o(this._inBlock),this._partialBytes=0,t=r.util.createBuffer(t),this._aDataLength=s(8*t.length());var a=t.length()%this.blockSize;for(a&&t.fillWithByte(0,this.blockSize-a),this._s=[0,0,0,0];t.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[t.getInt32(),t.getInt32(),t.getInt32(),t.getInt32()])},i.gcm.prototype.encrypt=function(e,t,n){var r=e.length();if(0===r)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&r>=this.blockSize){for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^=e.getInt32());this._cipherLength+=this.blockSize}else{var a=(this.blockSize-r)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(a<=0||n){if(n){var s=r%this.blockSize;this._cipherLength+=s,this._partialOutput.truncate(this.blockSize-s)}else this._cipherLength+=this.blockSize;for(i=0;i<this._ints;++i)this._outBlock[i]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!n)return e.read-=this.blockSize,t.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;t.putBytes(this._partialOutput.getBytes(r-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),o(this._inBlock)},i.gcm.prototype.decrypt=function(e,t,n){var r=e.length();if(r<this.blockSize&&!(n&&r>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),o(this._inBlock),this._hashBlock[0]=e.getInt32(),this._hashBlock[1]=e.getInt32(),this._hashBlock[2]=e.getInt32(),this._hashBlock[3]=e.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^this._hashBlock[i]);r<this.blockSize?this._cipherLength+=r%this.blockSize:this._cipherLength+=this.blockSize},i.gcm.prototype.afterFinish=function(e,t){var n=!0;t.decrypt&&t.overflow&&e.truncate(this.blockSize-t.overflow),this.tag=r.util.createBuffer();var i=this._aDataLength.concat(s(8*this._cipherLength));this._s=this.ghash(this._hashSubkey,this._s,i);var a=[];this.cipher.encrypt(this._j0,a);for(var o=0;o<this._ints;++o)this.tag.putInt32(this._s[o]^a[o]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),t.decrypt&&this.tag.bytes()!==this._tag&&(n=!1),n},i.gcm.prototype.multiply=function(e,t){for(var n=[0,0,0,0],r=t.slice(0),i=0;i<128;++i){e[i/32|0]&1<<31-i%32&&(n[0]^=r[0],n[1]^=r[1],n[2]^=r[2],n[3]^=r[3]),this.pow(r,r)}return n},i.gcm.prototype.pow=function(e,t){for(var n=1&e[3],r=3;r>0;--r)t[r]=e[r]>>>1|(1&e[r-1])<<31;t[0]=e[0]>>>1,n&&(t[0]^=this._R)},i.gcm.prototype.tableMultiply=function(e){for(var t=[0,0,0,0],n=0;n<32;++n){var r=e[n/8|0]>>>4*(7-n%8)&15,i=this._m[n][r];t[0]^=i[0],t[1]^=i[1],t[2]^=i[2],t[3]^=i[3]}return t},i.gcm.prototype.ghash=function(e,t,n){return t[0]^=n[0],t[1]^=n[1],t[2]^=n[2],t[3]^=n[3],this.tableMultiply(t)},i.gcm.prototype.generateHashTable=function(e,t){for(var n=8/t,r=4*n,i=16*n,a=new Array(i),o=0;o<i;++o){var s=[0,0,0,0],u=(r-1-o%r)*t;s[o/r|0]=1<<t-1<<u,a[o]=this.generateSubHashTable(this.multiply(s,e),t)}return a},i.gcm.prototype.generateSubHashTable=function(e,t){var n=1<<t,r=n>>>1,i=new Array(n);i[r]=e.slice(0);for(var a=r>>>1;a>0;)this.pow(i[2*a],i[a]=[]),a>>=1;for(a=2;a<r;){for(var o=1;o<a;++o){var s=i[a],u=i[o];i[a+o]=[s[0]^u[0],s[1]^u[1],s[2]^u[2],s[3]^u[3]]}a*=2}for(i[0]=[0,0,0,0],a=r+1;a<n;++a){var c=i[a^r];i[a]=[e[0]^c[0],e[1]^c[1],e[2]^c[2],e[3]^c[3]]}return i}},64743:(e,t,n)=>{"use strict";n(29314)},64880:function(e,t,n){var r,i,a,o,s=n(89990);o=function(e){var t,n,r,i,a;return n=(t=e).lib.WordArray,r=t.algo,i=r.SHA256,a=r.SHA224=i.extend({_doReset:function(){this._hash=new n.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=i._doFinalize.call(this);return e.sigBytes-=4,e}}),t.SHA224=i._createHelper(a),t.HmacSHA224=i._createHmacHelper(a),e.SHA224},"object"===s(t)?e.exports=t=o(n(83841),n(4501)):(i=[n(83841),n(4501)],void 0===(a="function"==typeof(r=o)?r.apply(t,i):r)||(e.exports=a))},64979:(e,t,n)=>{"use strict";var r=n(46518),i=n(44576),a=n(97751),o=n(6980),s=n(24913).f,u=n(39297),c=n(90679),l=n(23167),d=n(32603),p=n(55002),f=n(38574),h=n(43724),m=n(96395),v="DOMException",g=a("Error"),y=a(v),b=function(){c(this,w);var e=arguments.length,t=d(e<1?void 0:arguments[0]),n=d(e<2?void 0:arguments[1],"Error"),r=new y(t,n),i=new g(t);return i.name=v,s(r,"stack",o(1,f(i.stack,1))),l(r,this,b),r},w=b.prototype=y.prototype,D="stack"in new g(v),A="stack"in new y(1,2),E=y&&h&&Object.getOwnPropertyDescriptor(i,v),k=!(!E||E.writable&&E.configurable),C=D&&!k&&!A;r({global:!0,constructor:!0,forced:m||C},{DOMException:C?b:y});var _=a(v),x=_.prototype;if(x.constructor!==_)for(var S in m||s(x,"constructor",o(1,_)),p)if(u(p,S)){var T=p[S],F=T.s;u(_,F)||s(_,F,o(6,T.c))}},65248:(e,t,n)=>{var r=n(46426)(n(42785),"DataView");e.exports=r},65419:(e,t,n)=>{var r=n(36460),i=n(81813);e.exports=function(e,t,n){var a=t(e);return i(e)?a:r(a,n(e))}},65746:(e,t,n)=>{"use strict";var r,i=n(92744),a=n(44576),o=n(79504),s=n(56279),u=n(3451),c=n(16468),l=n(91625),d=n(20034),p=n(91181).enforce,f=n(79039),h=n(58622),m=Object,v=Array.isArray,g=m.isExtensible,y=m.isFrozen,b=m.isSealed,w=m.freeze,D=m.seal,A=!a.ActiveXObject&&"ActiveXObject"in a,E=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},k=c("WeakMap",E,l),C=k.prototype,_=o(C.set);if(h)if(A){r=l.getConstructor(E,"WeakMap",!0),u.enable();var x=o(C.delete),S=o(C.has),T=o(C.get);s(C,{"delete":function(e){if(d(e)&&!g(e)){var t=p(this);return t.frozen||(t.frozen=new r),x(this,e)||t.frozen.delete(e)}return x(this,e)},has:function(e){if(d(e)&&!g(e)){var t=p(this);return t.frozen||(t.frozen=new r),S(this,e)||t.frozen.has(e)}return S(this,e)},get:function(e){if(d(e)&&!g(e)){var t=p(this);return t.frozen||(t.frozen=new r),S(this,e)?T(this,e):t.frozen.get(e)}return T(this,e)},set:function(e,t){if(d(e)&&!g(e)){var n=p(this);n.frozen||(n.frozen=new r),S(this,e)?_(this,e,t):n.frozen.set(e,t)}else _(this,e,t);return this}})}else i&&f((function(){var e=w([]);return _(new k,e,1),!y(e)}))&&s(C,{set:function(e,t){var n;return v(e)&&(y(e)?n=w:b(e)&&(n=D)),_(this,e,t),n&&n(e),this}})},65778:(e,t,n)=>{var r=n(89990);n(76918),n(48598),n(23288),n(26099),n(84864),n(57465),n(27495),n(87745),n(90906),n(38781),n(71761),n(25440),n(13611);var i="[object Symbol]",a=/^\s+|\s+$/g,o="\\ud800-\\udfff",s="\\u0300-\\u036f\\ufe20-\\ufe23",u="\\u20d0-\\u20f0",c="\\ufe0e\\ufe0f",l="["+o+"]",d="["+s+u+"]",p="\\ud83c[\\udffb-\\udfff]",f="[^"+o+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",m="[\\ud800-\\udbff][\\udc00-\\udfff]",v="\\u200d",g="(?:"+d+"|"+p+")"+"?",y="["+c+"]?",b=y+g+("(?:"+v+"(?:"+[f,h,m].join("|")+")"+y+g+")*"),w="(?:"+[f+d+"?",d,h,m,l].join("|")+")",D=RegExp(p+"(?="+p+")|"+w+b,"g"),A=RegExp("["+v+o+s+u+c+"]"),E="object"==(void 0===n.g?"undefined":r(n.g))&&n.g&&n.g.Object===Object&&n.g,k="object"==("undefined"==typeof self?"undefined":r(self))&&self&&self.Object===Object&&self,C=E||k||Function("return this")();function _(e,t,n){if(t!=t)return function(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}(e,x,n);for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function x(e){return e!=e}function S(e){return function(e){return A.test(e)}(e)?function(e){return e.match(D)||[]}(e):function(e){return e.split("")}(e)}var T=Object.prototype.toString,F=C.Symbol,O=F?F.prototype:void 0,P=O?O.toString:void 0;function I(e){if("string"==typeof e)return e;if(function(e){return"symbol"==r(e)||function(e){return!!e&&"object"==r(e)}(e)&&T.call(e)==i}(e))return P?P.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function B(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a}(e,t,n)}e.exports=function(e,t,n){var r;if((e=null==(r=e)?"":I(r))&&(n||void 0===t))return e.replace(a,"");if(!e||!(t=I(t)))return e;var i=S(e),o=S(t),s=function(e,t){for(var n=-1,r=e.length;++n<r&&_(t,e[n],0)>-1;);return n}(i,o),u=function(e,t){for(var n=e.length;n--&&_(t,e[n],0)>-1;);return n}(i,o)+1;return B(i,s,u).join("")}},66119:(e,t,n)=>{"use strict";var r=n(25745),i=n(33392),a=r("keys");e.exports=function(e){return a[e]||(a[e]=i(e))}},66196:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},66346:(e,t,n)=>{"use strict";var r=n(44576),i=n(79504),a=n(43724),o=n(77811),s=n(10350),u=n(66699),c=n(62106),l=n(56279),d=n(79039),p=n(90679),f=n(91291),h=n(18014),m=n(57696),v=n(15617),g=n(88490),y=n(42787),b=n(52967),w=n(84373),D=n(67680),A=n(23167),E=n(77740),k=n(10687),C=n(91181),_=s.PROPER,x=s.CONFIGURABLE,S="ArrayBuffer",T="DataView",F="prototype",O="Wrong index",P=C.getterFor(S),I=C.getterFor(T),B=C.set,R=r[S],N=R,M=N&&N[F],L=r[T],j=L&&L[F],U=Object.prototype,z=r.Array,V=r.RangeError,q=i(w),H=i([].reverse),W=g.pack,K=g.unpack,$=function(e){return[255&e]},G=function(e){return[255&e,e>>8&255]},Q=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},Y=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},X=function(e){return W(v(e),23,4)},Z=function(e){return W(e,52,8)},J=function(e,t,n){c(e[F],t,{configurable:!0,get:function(){return n(this)[t]}})},ee=function(e,t,n,r){var i=I(e),a=m(n),o=!!r;if(a+t>i.byteLength)throw new V(O);var s=i.bytes,u=a+i.byteOffset,c=D(s,u,u+t);return o?c:H(c)},te=function(e,t,n,r,i,a){var o=I(e),s=m(n),u=r(+i),c=!!a;if(s+t>o.byteLength)throw new V(O);for(var l=o.bytes,d=s+o.byteOffset,p=0;p<t;p++)l[d+p]=u[c?p:t-p-1]};if(o){var ne=_&&R.name!==S;d((function(){R(1)}))&&d((function(){new R(-1)}))&&!d((function(){return new R,new R(1.5),new R(NaN),1!==R.length||ne&&!x}))?ne&&x&&u(R,"name",S):((N=function(e){return p(this,M),A(new R(m(e)),this,N)})[F]=M,M.constructor=N,E(N,R)),b&&y(j)!==U&&b(j,U);var re=new L(new N(2)),ie=i(j.setInt8);re.setInt8(0,2147483648),re.setInt8(1,2147483649),!re.getInt8(0)&&re.getInt8(1)||l(j,{setInt8:function(e,t){ie(this,e,t<<24>>24)},setUint8:function(e,t){ie(this,e,t<<24>>24)}},{unsafe:!0})}else M=(N=function(e){p(this,M);var t=m(e);B(this,{type:S,bytes:q(z(t),0),byteLength:t}),a||(this.byteLength=t,this.detached=!1)})[F],j=(L=function(e,t,n){p(this,j),p(e,M);var r=P(e),i=r.byteLength,o=f(t);if(o<0||o>i)throw new V("Wrong offset");if(o+(n=void 0===n?i-o:h(n))>i)throw new V("Wrong length");B(this,{type:T,buffer:e,byteLength:n,byteOffset:o,bytes:r.bytes}),a||(this.buffer=e,this.byteLength=n,this.byteOffset=o)})[F],a&&(J(N,"byteLength",P),J(L,"buffer",I),J(L,"byteLength",I),J(L,"byteOffset",I)),l(j,{getInt8:function(e){return ee(this,1,e)[0]<<24>>24},getUint8:function(e){return ee(this,1,e)[0]},getInt16:function(e){var t=ee(this,2,e,arguments.length>1&&arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=ee(this,2,e,arguments.length>1&&arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return Y(ee(this,4,e,arguments.length>1&&arguments[1]))},getUint32:function(e){return Y(ee(this,4,e,arguments.length>1&&arguments[1]))>>>0},getFloat32:function(e){return K(ee(this,4,e,arguments.length>1&&arguments[1]),23)},getFloat64:function(e){return K(ee(this,8,e,arguments.length>1&&arguments[1]),52)},setInt8:function(e,t){te(this,1,e,$,t)},setUint8:function(e,t){te(this,1,e,$,t)},setInt16:function(e,t){te(this,2,e,G,t,arguments.length>2&&arguments[2])},setUint16:function(e,t){te(this,2,e,G,t,arguments.length>2&&arguments[2])},setInt32:function(e,t){te(this,4,e,Q,t,arguments.length>2&&arguments[2])},setUint32:function(e,t){te(this,4,e,Q,t,arguments.length>2&&arguments[2])},setFloat32:function(e,t){te(this,4,e,X,t,arguments.length>2&&arguments[2])},setFloat64:function(e,t){te(this,8,e,Z,t,arguments.length>2&&arguments[2])}});k(N,S),k(L,T),e.exports={ArrayBuffer:N,DataView:L}},66412:(e,t,n)=>{"use strict";n(70511)("asyncIterator")},66651:(e,t,n)=>{"use strict";var r=n(94644),i=n(19617).indexOf,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("indexOf",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},66665:(e,t,n)=>{var r=n(93252),i=n(48242),a=n(25069),o=n(29633),s=n(93897);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=o,u.prototype.set=s,e.exports=u},66699:(e,t,n)=>{"use strict";var r=n(43724),i=n(24913),a=n(6980);e.exports=r?function(e,t,n){return i.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},66812:(e,t,n)=>{"use strict";var r=n(94644),i=n(18745),a=n(8379),o=r.aTypedArray;(0,r.exportTypedArrayMethod)("lastIndexOf",(function(e){var t=arguments.length;return i(a,o(this),t>1?[e,arguments[1]]:[e])}))},66857:e=>{e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},66870:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},66933:(e,t,n)=>{"use strict";var r=n(79504),i=n(34376),a=n(94901),o=n(22195),s=n(655),u=r([].push);e.exports=function(e){if(a(e))return e;if(i(e)){for(var t=e.length,n=[],r=0;r<t;r++){var c=e[r];"string"==typeof c?u(n,c):"number"!=typeof c&&"Number"!==o(c)&&"String"!==o(c)||u(n,s(c))}var l=n.length,d=!0;return function(e,t){if(d)return d=!1,t;if(i(this))return t;for(var r=0;r<l;r++)if(n[r]===e)return t}}}},66978:(e,t,n)=>{var r=n(89990);n(16280),n(76918),n(23288),n(26099),n(38781),n(50375);var i=n(85192);n(37540),n(1238),n(32807);var a,o=i.pkcs5=i.pkcs5||{};i.util.isNodejs&&!i.options.usePureJavaScript&&(a=n(50310)),e.exports=i.pbkdf2=o.pbkdf2=function(e,t,n,o,s,u){if("function"==typeof s&&(u=s,s=null),i.util.isNodejs&&!i.options.usePureJavaScript&&a.pbkdf2&&(null===s||"object"!==r(s))&&(a.pbkdf2Sync.length>4||!s||"sha1"===s))return"string"!=typeof s&&(s="sha1"),e=Buffer.from(e,"binary"),t=Buffer.from(t,"binary"),u?4===a.pbkdf2Sync.length?a.pbkdf2(e,t,n,o,(function(e,t){if(e)return u(e);u(null,t.toString("binary"))})):a.pbkdf2(e,t,n,o,s,(function(e,t){if(e)return u(e);u(null,t.toString("binary"))})):4===a.pbkdf2Sync.length?a.pbkdf2Sync(e,t,n,o).toString("binary"):a.pbkdf2Sync(e,t,n,o,s).toString("binary");if(null==s&&(s="sha1"),"string"==typeof s){if(!(s in i.md.algorithms))throw new Error("Unknown hash algorithm: "+s);s=i.md[s].create()}var c=s.digestLength;if(o>4294967295*c){var l=new Error("Derived key is too long.");if(u)return u(l);throw l}var d=Math.ceil(o/c),p=o-(d-1)*c,f=i.hmac.create();f.start(s,e);var h,m,v,g="";if(!u){for(var y=1;y<=d;++y){f.start(null,null),f.update(t),f.update(i.util.int32ToBytes(y)),h=v=f.digest().getBytes();for(var b=2;b<=n;++b)f.start(null,null),f.update(v),m=f.digest().getBytes(),h=i.util.xorBytes(h,m,c),v=m;g+=y<d?h:h.substr(0,p)}return g}y=1;function w(){if(y>d)return u(null,g);f.start(null,null),f.update(t),f.update(i.util.int32ToBytes(y)),h=v=f.digest().getBytes(),b=2,D()}function D(){if(b<=n)return f.start(null,null),f.update(v),m=f.digest().getBytes(),h=i.util.xorBytes(h,m,c),v=m,++b,i.util.setImmediate(D);g+=y<d?h:h.substr(0,p),++y,w()}w()}},67330:(e,t,n)=>{"use strict";n(84185),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){for(var r=0,i=e.length;i>0;){var a=i/2|0,o=r+a;n(e[o],t)<=0?(r=++o,i-=a+1):i=a}return r}},67357:(e,t,n)=>{"use strict";var r=n(46518),i=n(79504),a=n(67750),o=n(91291),s=n(655),u=n(79039),c=i("".charAt);r({target:"String",proto:!0,forced:u((function(){return"\ud842"!=="".at(-2)}))},{at:function(e){var t=s(a(this)),n=t.length,r=o(e),i=r>=0?r:n+r;return i<0||i>=n?void 0:c(t,i)}})},67400:e=>{"use strict";e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},67416:(e,t,n)=>{"use strict";var r=n(79039),i=n(78227),a=n(43724),o=n(96395),s=i("iterator");e.exports=!r((function(){var e=new URL("b?a=1&b=2&c=3","https://a"),t=e.searchParams,n=new URLSearchParams("a=1&a=2&b=3"),r="";return e.pathname="c%20d",t.forEach((function(e,n){t.delete("b"),r+=n+e})),n.delete("a",2),n.delete("b",void 0),o&&(!e.toJSON||!n.has("a",1)||n.has("a",2)||!n.has("a",void 0)||n.has("b"))||!t.size&&(o||!a)||!t.sort||"https://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[s]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("https://").host||"#%D0%B1"!==new URL("https://a#").hash||"a1c3"!==r||"x"!==new URL("https://x",void 0).host}))},67680:(e,t,n)=>{"use strict";var r=n(79504);e.exports=r([].slice)},67712:function(e,t,n){var r,i,a,o,s=n(89990);o=function(e){return function(){var t=e,n=t.lib.Hasher,r=t.x64,i=r.Word,a=r.WordArray,o=t.algo;function s(){return i.create.apply(i,arguments)}var u=[s(1116352408,3609767458),s(1899447441,602891725),s(3049323471,3964484399),s(3921009573,2173295548),s(961987163,4081628472),s(1508970993,3053834265),s(2453635748,2937671579),s(2870763221,3664609560),s(3624381080,2734883394),s(310598401,1164996542),s(607225278,1323610764),s(1426881987,3590304994),s(1925078388,4068182383),s(2162078206,991336113),s(2614888103,633803317),s(3248222580,3479774868),s(3835390401,2666613458),s(4022224774,944711139),s(264347078,2341262773),s(604807628,2007800933),s(770255983,1495990901),s(1249150122,1856431235),s(1555081692,3175218132),s(1996064986,2198950837),s(2554220882,3999719339),s(2821834349,766784016),s(2952996808,2566594879),s(3210313671,3203337956),s(3336571891,1034457026),s(3584528711,2466948901),s(113926993,3758326383),s(338241895,168717936),s(666307205,1188179964),s(773529912,1546045734),s(1294757372,1522805485),s(1396182291,2643833823),s(1695183700,2343527390),s(1986661051,1014477480),s(2177026350,1206759142),s(2456956037,344077627),s(2730485921,1290863460),s(2820302411,3158454273),s(3259730800,3505952657),s(3345764771,106217008),s(3516065817,3606008344),s(3600352804,1432725776),s(4094571909,1467031594),s(275423344,851169720),s(430227734,3100823752),s(506948616,1363258195),s(659060556,3750685593),s(883997877,3785050280),s(958139571,3318307427),s(1322822218,3812723403),s(1537002063,2003034995),s(1747873779,3602036899),s(1955562222,1575990012),s(2024104815,1125592928),s(2227730452,2716904306),s(2361852424,442776044),s(2428436474,593698344),s(2756734187,3733110249),s(3204031479,2999351573),s(3329325298,3815920427),s(3391569614,3928383900),s(3515267271,566280711),s(3940187606,3454069534),s(4118630271,4000239992),s(116418474,1914138554),s(174292421,2731055270),s(289380356,3203993006),s(460393269,320620315),s(685471733,587496836),s(852142971,1086792851),s(1017036298,365543100),s(1126000580,2618297676),s(1288033470,3409855158),s(1501505948,4234509866),s(1607167915,987167468),s(1816402316,1246189591)],c=[];!function(){for(var e=0;e<80;e++)c[e]=s()}();var l=o.SHA512=n.extend({_doReset:function(){this._hash=new a.init([new i.init(1779033703,4089235720),new i.init(3144134277,2227873595),new i.init(1013904242,4271175723),new i.init(2773480762,1595750129),new i.init(1359893119,2917565137),new i.init(2600822924,725511199),new i.init(528734635,4215389547),new i.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],l=n[5],d=n[6],p=n[7],f=r.high,h=r.low,m=i.high,v=i.low,g=a.high,y=a.low,b=o.high,w=o.low,D=s.high,A=s.low,E=l.high,k=l.low,C=d.high,_=d.low,x=p.high,S=p.low,T=f,F=h,O=m,P=v,I=g,B=y,R=b,N=w,M=D,L=A,j=E,U=k,z=C,V=_,q=x,H=S,W=0;W<80;W++){var K,$,G=c[W];if(W<16)$=G.high=0|e[t+2*W],K=G.low=0|e[t+2*W+1];else{var Q=c[W-15],Y=Q.high,X=Q.low,Z=(Y>>>1|X<<31)^(Y>>>8|X<<24)^Y>>>7,J=(X>>>1|Y<<31)^(X>>>8|Y<<24)^(X>>>7|Y<<25),ee=c[W-2],te=ee.high,ne=ee.low,re=(te>>>19|ne<<13)^(te<<3|ne>>>29)^te>>>6,ie=(ne>>>19|te<<13)^(ne<<3|te>>>29)^(ne>>>6|te<<26),ae=c[W-7],oe=ae.high,se=ae.low,ue=c[W-16],ce=ue.high,le=ue.low;$=($=($=Z+oe+((K=J+se)>>>0<J>>>0?1:0))+re+((K+=ie)>>>0<ie>>>0?1:0))+ce+((K+=le)>>>0<le>>>0?1:0),G.high=$,G.low=K}var de,pe=M&j^~M&z,fe=L&U^~L&V,he=T&O^T&I^O&I,me=F&P^F&B^P&B,ve=(T>>>28|F<<4)^(T<<30|F>>>2)^(T<<25|F>>>7),ge=(F>>>28|T<<4)^(F<<30|T>>>2)^(F<<25|T>>>7),ye=(M>>>14|L<<18)^(M>>>18|L<<14)^(M<<23|L>>>9),be=(L>>>14|M<<18)^(L>>>18|M<<14)^(L<<23|M>>>9),we=u[W],De=we.high,Ae=we.low,Ee=q+ye+((de=H+be)>>>0<H>>>0?1:0),ke=ge+me;q=z,H=V,z=j,V=U,j=M,U=L,M=R+(Ee=(Ee=(Ee=Ee+pe+((de+=fe)>>>0<fe>>>0?1:0))+De+((de+=Ae)>>>0<Ae>>>0?1:0))+$+((de+=K)>>>0<K>>>0?1:0))+((L=N+de|0)>>>0<N>>>0?1:0)|0,R=I,N=B,I=O,B=P,O=T,P=F,T=Ee+(ve+he+(ke>>>0<ge>>>0?1:0))+((F=de+ke|0)>>>0<de>>>0?1:0)|0}h=r.low=h+F,r.high=f+T+(h>>>0<F>>>0?1:0),v=i.low=v+P,i.high=m+O+(v>>>0<P>>>0?1:0),y=a.low=y+B,a.high=g+I+(y>>>0<B>>>0?1:0),w=o.low=w+N,o.high=b+R+(w>>>0<N>>>0?1:0),A=s.low=A+L,s.high=D+M+(A>>>0<L>>>0?1:0),k=l.low=k+U,l.high=E+j+(k>>>0<U>>>0?1:0),_=d.low=_+V,d.high=C+z+(_>>>0<V>>>0?1:0),S=p.low=S+H,p.high=x+q+(S>>>0<H>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[30+(r+128>>>10<<5)]=Math.floor(n/4294967296),t[31+(r+128>>>10<<5)]=n,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32});t.SHA512=n._createHelper(l),t.HmacSHA512=n._createHmacHelper(l)}(),e.SHA512},"object"===s(t)?e.exports=t=o(n(83841),n(55412)):(i=[n(83841),n(55412)],void 0===(a="function"==typeof(r=o)?r.apply(t,i):r)||(e.exports=a))},67750:(e,t,n)=>{"use strict";var r=n(64117),i=TypeError;e.exports=function(e){if(r(e))throw new i("Can't call method on "+e);return e}},67787:e=>{"use strict";var t=Math.log,n=Math.LN2;e.exports=Math.log2||function(e){return t(e)/n}},67873:(e,t,n)=>{var r=n(89990);e.exports=function(e){var t=r(e);return null!=e&&("object"==t||"function"==t)}},67945:(e,t,n)=>{"use strict";var r=n(46518),i=n(43724),a=n(96801).f;r({target:"Object",stat:!0,forced:Object.defineProperties!==a,sham:!i},{defineProperties:a})},67979:(e,t,n)=>{"use strict";var r=n(28551);e.exports=function(){var e=r(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},68119:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});n(16280),n(76918);var r=n(18180);function i(e,t){if(t&&("object"==(0,r.A)(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}},68156:(e,t,n)=>{"use strict";var r=n(46518),i=n(60533).start;r({target:"String",proto:!0,forced:n(83063)},{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},68183:(e,t,n)=>{"use strict";var r=n(79504),i=n(91291),a=n(655),o=n(67750),s=r("".charAt),u=r("".charCodeAt),c=r("".slice),l=function(e){return function(t,n){var r,l,d=a(o(t)),p=i(n),f=d.length;return p<0||p>=f?e?"":void 0:(r=u(d,p))<55296||r>56319||p+1===f||(l=u(d,p+1))<56320||l>57343?e?s(d,p):r:e?c(d,p,p+2):l-56320+(r-55296<<10)+65536}};e.exports={codeAt:l(!1),charAt:l(!0)}},68260:(e,t,n)=>{"use strict";e.exports=n(76422)},68449:function(e,t,n){var r,i,a,o,s=n(89990);n(25276),n(48598),n(44114),o=function(e){var t,n;return n=(t=e).lib.WordArray,t.enc.Base64url={stringify:function(e,t){void 0===t&&(t=!0);var n=e.words,r=e.sigBytes,i=t?this._safe_map:this._map;e.clamp();for(var a=[],o=0;o<r;o+=3)for(var s=(n[o>>>2]>>>24-o%4*8&255)<<16|(n[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|n[o+2>>>2]>>>24-(o+2)%4*8&255,u=0;u<4&&o+.75*u<r;u++)a.push(i.charAt(s>>>6*(3-u)&63));var c=i.charAt(64);if(c)for(;a.length%4;)a.push(c);return a.join("")},parse:function(e,t){void 0===t&&(t=!0);var r=e.length,i=t?this._safe_map:this._map,a=this._reverseMap;if(!a){a=this._reverseMap=[];for(var o=0;o<i.length;o++)a[i.charCodeAt(o)]=o}var s=i.charAt(64);if(s){var u=e.indexOf(s);-1!==u&&(r=u)}return function(e,t,r){for(var i=[],a=0,o=0;o<t;o++)if(o%4){var s=r[e.charCodeAt(o-1)]<<o%4*2|r[e.charCodeAt(o)]>>>6-o%4*2;i[a>>>2]|=s<<24-a%4*8,a++}return n.create(i,a)}(e,r,a)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"},e.enc.Base64url},"object"===s(t)?e.exports=t=o(n(83841)):(i=[n(83841)],void 0===(a="function"==typeof(r=o)?r.apply(t,i):r)||(e.exports=a))},68510:function(e,t,n){var r,i,a,o,s=n(89990);n(28706),o=function(e){return e.pad.Iso97971={pad:function(t,n){t.concat(e.lib.WordArray.create([2147483648],1)),e.pad.ZeroPadding.pad(t,n)},unpad:function(t){e.pad.ZeroPadding.unpad(t),t.sigBytes--}},e.pad.Iso97971},"object"===s(t)?e.exports=t=o(n(83841),n(76793)):(i=[n(83841),n(76793)],void 0===(a="function"==typeof(r=o)?r.apply(t,i):r)||(e.exports=a))},69083:(e,t,n)=>{"use strict";var r=n(8498),i=n(89990);n(2259),n(16280),n(76918),n(28706),n(51629),n(74423),n(25276),n(64346),n(23792),n(48598),n(62062),n(44114),n(34782),n(54554),n(13609),n(59089),n(23288),n(94170),n(62010),n(36033),n(8085),n(69085),n(84185),n(83851),n(29908),n(79432),n(26099),n(3362),n(60825),n(15472),n(84864),n(57465),n(27495),n(69479),n(87745),n(90906),n(38781),n(31415),n(99449),n(21699),n(47764),n(71761),n(25440),n(42762),n(73772),n(30958),n(98992),n(3949),n(81454),n(23500),n(62953),n(122),n(76031);var a=n(46930),o=n(55384),s=n(2701);function u(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function d(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function p(e){if(l(e)!==e)throw Error(u(188))}function f(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=f(e)))return t;e=e.sibling}return null}var h=Object.assign,m=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),A=Symbol.for("react.consumer"),E=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),S=Symbol.for("react.lazy");Symbol.for("react.scope");var T=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var F=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var O=Symbol.iterator;function P(e){return null===e||"object"!==i(e)?null:"function"==typeof(e=O&&e[O]||e["@@iterator"])?e:null}var I=Symbol.for("react.client.reference");function B(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===I?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case y:return"Fragment";case w:return"Profiler";case b:return"StrictMode";case C:return"Suspense";case _:return"SuspenseList";case T:return"Activity"}if("object"===i(e))switch(e.$$typeof){case g:return"Portal";case E:return(e.displayName||"Context")+".Provider";case A:return(e._context.displayName||"Context")+".Consumer";case k:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case x:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case S:t=e._payload,e=e._init;try{return B(e(t))}catch(e){}}return null}var R=Array.isArray,N=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L={pending:!1,data:null,method:null,action:null},j=[],U=-1;function z(e){return{current:e}}function V(e){0>U||(e.current=j[U],j[U]=null,U--)}function q(e,t){U++,j[U]=e.current,e.current=t}var H=z(null),W=z(null),K=z(null),$=z(null);function G(e,t){switch(q(K,t),q(W,e),q(H,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?od(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=sd(t=od(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}V(H),q(H,e)}function Q(){V(H),V(W),V(K)}function Y(e){null!==e.memoizedState&&q($,e);var t=H.current,n=sd(t,e.type);t!==n&&(q(W,e),q(H,n))}function X(e){W.current===e&&(V(H),V(W)),$.current===e&&(V($),Yd._currentValue=L)}var Z=Object.prototype.hasOwnProperty,J=a.unstable_scheduleCallback,ee=a.unstable_cancelCallback,te=a.unstable_shouldYield,ne=a.unstable_requestPaint,re=a.unstable_now,ie=a.unstable_getCurrentPriorityLevel,ae=a.unstable_ImmediatePriority,oe=a.unstable_UserBlockingPriority,se=a.unstable_NormalPriority,ue=a.unstable_LowPriority,ce=a.unstable_IdlePriority,le=a.log,de=a.unstable_setDisableYieldValue,pe=null,fe=null;function he(e){if("function"==typeof le&&de(e),fe&&"function"==typeof fe.setStrictMode)try{fe.setStrictMode(pe,e)}catch(e){}}var me=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ve(e)/ge|0)|0},ve=Math.log,ge=Math.LN2;var ye=256,be=4194304;function we(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function De(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,a=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var s=134217727&r;return 0!==s?0!==(r=s&~a)?i=we(r):0!==(o&=s)?i=we(o):n||0!==(n=s&~e)&&(i=we(n)):0!==(s=r&~a)?i=we(s):0!==o?i=we(o):n||0!==(n=r&~e)&&(i=we(n)),0===i?0:0!==t&&t!==i&&!(t&a)&&((a=i&-i)>=(n=t&-t)||32===a&&4194048&n)?t:i}function Ae(e,t){return!(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ee(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ke(){var e=ye;return!(4194048&(ye<<=1))&&(ye=256),e}function Ce(){var e=be;return!(62914560&(be<<=1))&&(be=4194304),e}function _e(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function xe(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Se(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-me(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Te(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-me(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Fe(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Oe(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function Pe(){var e=M.p;return 0!==e?e:void 0===(e=window.event)?32:dp(e.type)}var Ie=Math.random().toString(36).slice(2),Be="__reactFiber$"+Ie,Re="__reactProps$"+Ie,Ne="__reactContainer$"+Ie,Me="__reactEvents$"+Ie,Le="__reactListeners$"+Ie,je="__reactHandles$"+Ie,Ue="__reactResources$"+Ie,ze="__reactMarker$"+Ie;function Ve(e){delete e[Be],delete e[Re],delete e[Me],delete e[Le],delete e[je]}function qe(e){var t=e[Be];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ne]||n[Be]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Dd(e);null!==e;){if(n=e[Be])return n;e=Dd(e)}return t}n=(e=n).parentNode}return null}function He(e){if(e=e[Be]||e[Ne]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function We(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(u(33))}function Ke(e){var t=e[Ue];return t||(t=e[Ue]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function $e(e){e[ze]=!0}var Ge=new Set,Qe={};function Ye(e,t){Xe(e,t),Xe(e+"Capture",t)}function Xe(e,t){for(Qe[e]=t,e=0;e<t.length;e++)Ge.add(t[e])}var Ze,Je,et=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tt={},nt={};function rt(e,t,n){if(a=t,Z.call(nt,a)||!Z.call(tt,a)&&(et.test(a)?nt[a]=!0:(tt[a]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(i(n)){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var a}function it(e,t,n){if(null===n)e.removeAttribute(t);else{switch(i(n)){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function at(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(i(r)){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function ot(e){if(void 0===Ze)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);Ze=t&&t[1]||"",Je=-1<e.stack.indexOf("\n    at")?" (<anonymous>)":-1<e.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Ze+e+Je}var st=!1;function ut(e,t){if(!e||st)return"";st=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===("undefined"==typeof Reflect?"undefined":i(Reflect))&&Reflect.construct){try{Reflect.construct(n,[])}catch(e){var r=e}Reflect.construct(e,[],n)}else{try{n.call()}catch(e){r=e}e.call(n.prototype)}}else{try{throw Error()}catch(e){r=e}(n=e())&&"function"==typeof n.catch&&n.catch((function(){}))}}catch(e){if(e&&r&&"string"==typeof e.stack)return[e.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=r.DetermineComponentFrameRoot(),s=o[0],u=o[1];if(s&&u){var c=s.split("\n"),l=u.split("\n");for(a=r=0;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;for(;a<l.length&&!l[a].includes("DetermineComponentFrameRoot");)a++;if(r===c.length||a===l.length)for(r=c.length-1,a=l.length-1;1<=r&&0<=a&&c[r]!==l[a];)a--;for(;1<=r&&0<=a;r--,a--)if(c[r]!==l[a]){if(1!==r||1!==a)do{if(r--,0>--a||c[r]!==l[a]){var d="\n"+c[r].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}}while(1<=r&&0<=a);break}}}finally{st=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ot(n):""}function ct(e){switch(e.tag){case 26:case 27:case 5:return ot(e.type);case 16:return ot("Lazy");case 13:return ot("Suspense");case 19:return ot("SuspenseList");case 0:case 15:return ut(e.type,!1);case 11:return ut(e.type.render,!1);case 1:return ut(e.type,!0);case 31:return ot("Activity");default:return""}}function lt(e){try{var t="";do{t+=ct(e),e=e.return}while(e);return t}catch(e){return"\nError generating stack: "+e.message+"\n"+e.stack}}function dt(e){switch(i(e)){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function pt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ft(e){e._valueTracker||(e._valueTracker=function(e){var t=pt(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=pt(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function mt(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var vt=/[\n"\\]/g;function gt(e){return e.replace(vt,(function(e){return"\\"+e.charCodeAt(0).toString(16)+" "}))}function yt(e,t,n,r,a,o,s,u){e.name="",null!=s&&"function"!=typeof s&&"symbol"!==i(s)&&"boolean"!=typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+dt(t)):e.value!==""+dt(t)&&(e.value=""+dt(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?wt(e,s,dt(t)):null!=n?wt(e,s,dt(n)):null!=r&&e.removeAttribute("value"),null==a&&null!=o&&(e.defaultChecked=!!o),null!=a&&(e.checked=a&&"function"!=typeof a&&"symbol"!==i(a)),null!=u&&"function"!=typeof u&&"symbol"!==i(u)&&"boolean"!=typeof u?e.name=""+dt(u):e.removeAttribute("name")}function bt(e,t,n,r,a,o,s,u){if(null!=o&&"function"!=typeof o&&"symbol"!==i(o)&&"boolean"!=typeof o&&(e.type=o),null!=t||null!=n){if(("submit"===o||"reset"===o)&&null==t)return;n=null!=n?""+dt(n):"",t=null!=t?""+dt(t):n,u||t===e.value||(e.value=t),e.defaultValue=t}r="function"!=typeof(r=null!=r?r:a)&&"symbol"!==i(r)&&!!r,e.checked=u?e.checked:!!r,e.defaultChecked=!!r,null!=s&&"function"!=typeof s&&"symbol"!==i(s)&&"boolean"!=typeof s&&(e.name=s)}function wt(e,t,n){"number"===t&&mt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Dt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+dt(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function At(e,t,n){null==t||((t=""+dt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+dt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function Et(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(u(92));if(R(r)){if(1<r.length)throw Error(u(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=dt(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function kt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Ct=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _t(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"==typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!=typeof n||0===n||Ct.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function xt(e,t,n){if(null!=t&&"object"!==i(t))throw Error(u(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var a in t)r=t[a],t.hasOwnProperty(a)&&n[a]!==r&&_t(e,a,r)}else for(var o in t)t.hasOwnProperty(o)&&_t(e,o,t[o])}function St(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ft=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ot(e){return Ft.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Pt=null;function It(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Bt=null,Rt=null;function Nt(e){var t=He(e);if(t&&(e=t.stateNode)){var n=e[Re]||null;e:switch(e=t.stateNode,t.type){case"input":if(yt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+gt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[Re]||null;if(!i)throw Error(u(90));yt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ht(r)}break e;case"textarea":At(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&Dt(e,!!n.multiple,t,!1)}}}var Mt=!1;function Lt(e,t,n){if(Mt)return e(t,n);Mt=!0;try{return e(t)}finally{if(Mt=!1,(null!==Bt||null!==Rt)&&(qc(),Bt&&(t=Bt,e=Rt,Rt=Bt=null,Nt(t),e)))for(t=0;t<e.length;t++)Nt(e[t])}}function jt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Re]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(u(231,t,i(n)));return n}var Ut=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),zt=!1;if(Ut)try{var Vt={};Object.defineProperty(Vt,"passive",{get:function(){zt=!0}}),window.addEventListener("test",Vt,Vt),window.removeEventListener("test",Vt,Vt)}catch(e){zt=!1}var qt=null,Ht=null,Wt=null;function Kt(){if(Wt)return Wt;var e,t,n=Ht,r=n.length,i="value"in qt?qt.value:qt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Wt=i.slice(e,1<t?1-t:void 0)}function $t(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Gt(){return!0}function Qt(){return!1}function Yt(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Gt:Qt,this.isPropagationStopped=Qt,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Gt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Gt)},persist:function(){},isPersistent:Gt}),t}var Xt,Zt,Jt,en={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tn=Yt(en),nn=h({},en,{view:0,detail:0}),rn=Yt(nn),an=h({},nn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Jt&&(Jt&&"mousemove"===e.type?(Xt=e.screenX-Jt.screenX,Zt=e.screenY-Jt.screenY):Zt=Xt=0,Jt=e),Xt)},movementY:function(e){return"movementY"in e?e.movementY:Zt}}),on=Yt(an),sn=Yt(h({},an,{dataTransfer:0})),un=Yt(h({},nn,{relatedTarget:0})),cn=Yt(h({},en,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Yt(h({},en,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),dn=Yt(h({},en,{data:0})),pn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=hn[e])&&!!t[e]}function vn(){return mn}var gn=Yt(h({},nn,{key:function(e){if(e.key){var t=pn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=$t(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?fn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vn,charCode:function(e){return"keypress"===e.type?$t(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?$t(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),yn=Yt(h({},an,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),bn=Yt(h({},nn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vn})),wn=Yt(h({},en,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=Yt(h({},an,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),An=Yt(h({},en,{newState:0,oldState:0})),En=[9,13,27,32],kn=Ut&&"CompositionEvent"in window,Cn=null;Ut&&"documentMode"in document&&(Cn=document.documentMode);var _n=Ut&&"TextEvent"in window&&!Cn,xn=Ut&&(!kn||Cn&&8<Cn&&11>=Cn),Sn=String.fromCharCode(32),Tn=!1;function Fn(e,t){switch(e){case"keyup":return-1!==En.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function On(e){return e=e.detail,"object"===i(e)&&"data"in e?e.data:null}var Pn=!1;var In={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!In[e.type]:"textarea"===t}function Rn(e,t,n,r){Bt?Rt?Rt.push(r):Rt=[r]:Bt=r,0<(t=Kl(t,"onChange")).length&&(n=new tn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Nn=null,Mn=null;function Ln(e){Ll(e,0)}function jn(e){if(ht(We(e)))return e}function Un(e,t){if("change"===e)return t}var zn=!1;if(Ut){var Vn;if(Ut){var qn="oninput"in document;if(!qn){var Hn=document.createElement("div");Hn.setAttribute("oninput","return;"),qn="function"==typeof Hn.oninput}Vn=qn}else Vn=!1;zn=Vn&&(!document.documentMode||9<document.documentMode)}function Wn(){Nn&&(Nn.detachEvent("onpropertychange",Kn),Mn=Nn=null)}function Kn(e){if("value"===e.propertyName&&jn(Mn)){var t=[];Rn(t,Mn,e,It(e)),Lt(Ln,t)}}function $n(e,t,n){"focusin"===e?(Wn(),Mn=n,(Nn=t).attachEvent("onpropertychange",Kn)):"focusout"===e&&Wn()}function Gn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return jn(Mn)}function Qn(e,t){if("click"===e)return jn(t)}function Yn(e,t){if("input"===e||"change"===e)return jn(t)}var Xn="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function Zn(e,t){if(Xn(e,t))return!0;if("object"!==i(e)||null===e||"object"!==i(t)||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!Z.call(t,a)||!Xn(e[a],t[a]))return!1}return!0}function Jn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function er(e,t){var n,r=Jn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Jn(r)}}function tr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?tr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function nr(e){for(var t=mt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=mt((e=t.contentWindow).document)}return t}function rr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ir=Ut&&"documentMode"in document&&11>=document.documentMode,ar=null,or=null,sr=null,ur=!1;function cr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ur||null==ar||ar!==mt(r)||("selectionStart"in(r=ar)&&rr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},sr&&Zn(sr,r)||(sr=r,0<(r=Kl(or,"onSelect")).length&&(t=new tn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ar)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var dr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},pr={},fr={};function hr(e){if(pr[e])return pr[e];if(!dr[e])return e;var t,n=dr[e];for(t in n)if(n.hasOwnProperty(t)&&t in fr)return pr[e]=n[t];return e}Ut&&(fr=document.createElement("div").style,"AnimationEvent"in window||(delete dr.animationend.animation,delete dr.animationiteration.animation,delete dr.animationstart.animation),"TransitionEvent"in window||delete dr.transitionend.transition);var mr=hr("animationend"),vr=hr("animationiteration"),gr=hr("animationstart"),yr=hr("transitionrun"),br=hr("transitionstart"),wr=hr("transitioncancel"),Dr=hr("transitionend"),Ar=new Map,Er="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kr(e,t){Ar.set(e,t),Ye(t,[e])}Er.push("scrollEnd");var Cr=new WeakMap;function _r(e,t){if("object"===i(e)&&null!==e){var n=Cr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},Cr.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var xr=[],Sr=0,Tr=0;function Fr(){for(var e=Sr,t=Tr=Sr=0;t<e;){var n=xr[t];xr[t++]=null;var r=xr[t];xr[t++]=null;var i=xr[t];xr[t++]=null;var a=xr[t];if(xr[t++]=null,null!==r&&null!==i){var o=r.pending;null===o?i.next=i:(i.next=o.next,o.next=i),r.pending=i}0!==a&&Br(n,i,a)}}function Or(e,t,n,r){xr[Sr++]=e,xr[Sr++]=t,xr[Sr++]=n,xr[Sr++]=r,Tr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Pr(e,t,n,r){return Or(e,t,n,r),Rr(e)}function Ir(e,t){return Or(e,null,null,t),Rr(e)}function Br(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,a=e.return;null!==a;)a.childLanes|=n,null!==(r=a.alternate)&&(r.childLanes|=n),22===a.tag&&(null===(e=a.stateNode)||1&e._visibility||(i=!0)),e=a,a=a.return;return 3===e.tag?(a=e.stateNode,i&&null!==t&&(i=31-me(n),null===(r=(e=a.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),a):null}function Rr(e){if(50<Bc)throw Bc=0,Rc=null,Error(u(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Nr={};function Mr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lr(e,t,n,r){return new Mr(e,t,n,r)}function jr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ur(e,t){var n=e.alternate;return null===n?((n=Lr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function zr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Vr(e,t,n,r,a,o){var s=0;if(r=e,"function"==typeof e)jr(e)&&(s=1);else if("string"==typeof e)s=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof t.precedence||"string"!=typeof t.href||""===t.href)break;return!0;case"link":if("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"==typeof t.precedence&&null==e);case"script":if(t.async&&"function"!=typeof t.async&&"symbol"!==i(t.async)&&!t.onLoad&&!t.onError&&t.src&&"string"==typeof t.src)return!0}return!1}(e,n,H.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case T:return(e=Lr(31,n,t,a)).elementType=T,e.lanes=o,e;case y:return qr(n.children,a,o,t);case b:s=8,a|=24;break;case w:return(e=Lr(12,n,t,2|a)).elementType=w,e.lanes=o,e;case C:return(e=Lr(13,n,t,a)).elementType=C,e.lanes=o,e;case _:return(e=Lr(19,n,t,a)).elementType=_,e.lanes=o,e;default:if("object"===i(e)&&null!==e)switch(e.$$typeof){case D:case E:s=10;break e;case A:s=9;break e;case k:s=11;break e;case x:s=14;break e;case S:s=16,r=null;break e}s=29,n=Error(u(130,null===e?"null":i(e),"")),r=null}return(t=Lr(s,n,t,a)).elementType=e,t.type=r,t.lanes=o,t}function qr(e,t,n,r){return(e=Lr(7,e,r,t)).lanes=n,e}function Hr(e,t,n){return(e=Lr(6,e,null,t)).lanes=n,e}function Wr(e,t,n){return(t=Lr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Kr=[],$r=0,Gr=null,Qr=0,Yr=[],Xr=0,Zr=null,Jr=1,ei="";function ti(e,t){Kr[$r++]=Qr,Kr[$r++]=Gr,Gr=e,Qr=t}function ni(e,t,n){Yr[Xr++]=Jr,Yr[Xr++]=ei,Yr[Xr++]=Zr,Zr=e;var r=Jr;e=ei;var i=32-me(r)-1;r&=~(1<<i),n+=1;var a=32-me(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Jr=1<<32-me(t)+i|n<<i|r,ei=a+e}else Jr=1<<a|n<<i|r,ei=e}function ri(e){null!==e.return&&(ti(e,1),ni(e,1,0))}function ii(e){for(;e===Gr;)Gr=Kr[--$r],Kr[$r]=null,Qr=Kr[--$r],Kr[$r]=null;for(;e===Zr;)Zr=Yr[--Xr],Yr[Xr]=null,ei=Yr[--Xr],Yr[Xr]=null,Jr=Yr[--Xr],Yr[Xr]=null}var ai=null,oi=null,si=!1,ui=null,ci=!1,li=Error(u(519));function di(e){throw gi(_r(Error(u(418,"")),e)),li}function pi(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Be]=e,t[Re]=r,n){case"dialog":jl("cancel",t),jl("close",t);break;case"iframe":case"object":case"embed":jl("load",t);break;case"video":case"audio":for(n=0;n<Nl.length;n++)jl(Nl[n],t);break;case"source":jl("error",t);break;case"img":case"image":case"link":jl("error",t),jl("load",t);break;case"details":jl("toggle",t);break;case"input":jl("invalid",t),bt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),ft(t);break;case"select":jl("invalid",t);break;case"textarea":jl("invalid",t),Et(t,r.value,r.defaultValue,r.children),ft(t)}"string"!=typeof(n=r.children)&&"number"!=typeof n&&"bigint"!=typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Zl(t.textContent,n)?(null!=r.popover&&(jl("beforetoggle",t),jl("toggle",t)),null!=r.onScroll&&jl("scroll",t),null!=r.onScrollEnd&&jl("scrollend",t),null!=r.onClick&&(t.onclick=Jl),t=!0):t=!1,t||di(e)}function fi(e){for(ai=e.return;ai;)switch(ai.tag){case 5:case 13:return void(ci=!1);case 27:case 3:return void(ci=!0);default:ai=ai.return}}function hi(e){if(e!==ai)return!1;if(!si)return fi(e),si=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||ud(e.type,e.memoizedProps)),t=!t),t&&oi&&di(e),fi(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(u(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){oi=bd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}oi=null}}else 27===n?(n=oi,md(e.type)?(e=wd,wd=null,oi=e):oi=n):oi=ai?bd(e.stateNode.nextSibling):null;return!0}function mi(){oi=ai=null,si=!1}function vi(){var e=ui;return null!==e&&(null===Dc?Dc=e:Dc.push.apply(Dc,e),ui=null),e}function gi(e){null===ui?ui=[e]:ui.push(e)}var yi=z(null),bi=null,wi=null;function Di(e,t,n){q(yi,t._currentValue),t._currentValue=n}function Ai(e){e._currentValue=yi.current,V(yi)}function Ei(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ki(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var a=i.dependencies;if(null!==a){var o=i.child;a=a.firstContext;e:for(;null!==a;){var s=a;a=i;for(var c=0;c<t.length;c++)if(s.context===t[c]){a.lanes|=n,null!==(s=a.alternate)&&(s.lanes|=n),Ei(a.return,n,e),r||(o=null);break e}a=s.next}}else if(18===i.tag){if(null===(o=i.return))throw Error(u(341));o.lanes|=n,null!==(a=o.alternate)&&(a.lanes|=n),Ei(o,n,e),o=null}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===e){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}}function Ci(e,t,n,r){e=null;for(var i=t,a=!1;null!==i;){if(!a)if(524288&i.flags)a=!0;else if(262144&i.flags)break;if(10===i.tag){var o=i.alternate;if(null===o)throw Error(u(387));if(null!==(o=o.memoizedProps)){var s=i.type;Xn(i.pendingProps.value,o.value)||(null!==e?e.push(s):e=[s])}}else if(i===$.current){if(null===(o=i.alternate))throw Error(u(387));o.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(Yd):e=[Yd])}i=i.return}null!==e&&ki(t,e,n,r),t.flags|=262144}function _i(e){for(e=e.firstContext;null!==e;){if(!Xn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function xi(e){bi=e,wi=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Si(e){return Fi(bi,e)}function Ti(e,t){return null===bi&&xi(e),Fi(e,t)}function Fi(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===wi){if(null===e)throw Error(u(308));wi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else wi=wi.next=t;return n}var Oi="undefined"!=typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach((function(e){return e()}))}},Pi=a.unstable_scheduleCallback,Ii=a.unstable_NormalPriority,Bi={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ri(){return{controller:new Oi,data:new Map,refCount:0}}function Ni(e){e.refCount--,0===e.refCount&&Pi(Ii,(function(){e.controller.abort()}))}var Mi=null,Li=0,ji=0,Ui=null;function zi(){if(0==--Li&&null!==Mi){null!==Ui&&(Ui.status="fulfilled");var e=Mi;Mi=null,ji=0,Ui=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Vi=N.S;N.S=function(e,t){"object"===i(t)&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===Mi){var n=Mi=[];Li=0,ji=Ol(),Ui={status:"pending",value:void 0,then:function(e){n.push(e)}}}Li++,t.then(zi,zi)}(0,t),null!==Vi&&Vi(e,t)};var qi=z(null);function Hi(){var e=qi.current;return null!==e?e:ac.pooledCache}function Wi(e,t){q(qi,null===t?qi.current:t.pool)}function Ki(){var e=Hi();return null===e?null:{parent:Bi._currentValue,pool:e}}var $i=Error(u(460)),Gi=Error(u(474)),Qi=Error(u(542)),Yi={then:function(){}};function Xi(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Zi(){}function Ji(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Zi,Zi),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw na(e=t.reason),e;default:if("string"==typeof t.status)t.then(Zi,Zi);else{if(null!==(e=ac)&&100<e.shellSuspendCounter)throw Error(u(482));(e=t).status="pending",e.then((function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}}),(function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}}))}switch(t.status){case"fulfilled":return t.value;case"rejected":throw na(e=t.reason),e}throw ea=t,$i}}var ea=null;function ta(){if(null===ea)throw Error(u(459));var e=ea;return ea=null,e}function na(e){if(e===$i||e===Qi)throw Error(u(483))}var ra=!1;function ia(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function aa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function oa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function sa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&ic){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Rr(e),Br(e,null,n),t}return Or(e,r,t,n),Rr(e)}function ua(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Te(e,n)}}function ca(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var la=!1;function da(){if(la){if(null!==Ui)throw Ui}}function pa(e,t,n,r){la=!1;var i=e.updateQueue;ra=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===o?a=c:o.next=c,o=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==a){var d=i.baseState;for(o=0,l=c=u=null,s=a;;){var p=-536870913&s.lane,f=p!==s.lane;if(f?(sc&p)===p:(r&p)===p){0!==p&&p===ji&&(la=!0),null!==l&&(l=l.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var m=e,v=s;p=t;var g=n;switch(v.tag){case 1:if("function"==typeof(m=v.payload)){d=m.call(g,d,p);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null==(p="function"==typeof(m=v.payload)?m.call(g,d,p):m))break e;d=h({},d,p);break e;case 2:ra=!0}}null!==(p=s.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=i.callbacks)?i.callbacks=[p]:f.push(p))}else f={lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=f,u=d):l=l.next=f,o|=p;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}null===l&&(u=d),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null===a&&(i.shared.lanes=0),mc|=o,e.lanes=o,e.memoizedState=d}}function fa(e,t){if("function"!=typeof e)throw Error(u(191,e));e.call(t)}function ha(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)fa(n[e],t)}var ma=z(null),va=z(0);function ga(e,t){q(va,e=fc),q(ma,t),fc=e|t.baseLanes}function ya(){q(va,fc),q(ma,ma.current)}function ba(){fc=va.current,V(ma),V(va)}var wa=0,Da=null,Aa=null,Ea=null,ka=!1,Ca=!1,_a=!1,xa=0,Sa=0,Ta=null,Fa=0;function Oa(){throw Error(u(321))}function Pa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Xn(e[n],t[n]))return!1;return!0}function Ia(e,t,n,r,i,a){return wa=a,Da=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,N.H=null===e||null===e.memoizedState?Go:Qo,_a=!1,a=n(r,i),_a=!1,Ca&&(a=Ra(t,n,r,i)),Ba(e),a}function Ba(e){N.H=$o;var t=null!==Aa&&null!==Aa.next;if(wa=0,Ea=Aa=Da=null,ka=!1,Sa=0,Ta=null,t)throw Error(u(300));null===e||Ts||null!==(e=e.dependencies)&&_i(e)&&(Ts=!0)}function Ra(e,t,n,r){Da=e;var i=0;do{if(Ca&&(Ta=null),Sa=0,Ca=!1,25<=i)throw Error(u(301));if(i+=1,Ea=Aa=null,null!=e.updateQueue){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,null!=a.memoCache&&(a.memoCache.index=0)}N.H=Yo,a=t(n,r)}while(Ca);return a}function Na(){var e=N.H,t=e.useState()[0];return t="function"==typeof t.then?Va(t):t,e=e.useState()[0],(null!==Aa?Aa.memoizedState:null)!==e&&(Da.flags|=1024),t}function Ma(){var e=0!==xa;return xa=0,e}function La(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function ja(e){if(ka){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}ka=!1}wa=0,Ea=Aa=Da=null,Ca=!1,Sa=xa=0,Ta=null}function Ua(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ea?Da.memoizedState=Ea=e:Ea=Ea.next=e,Ea}function za(){if(null===Aa){var e=Da.alternate;e=null!==e?e.memoizedState:null}else e=Aa.next;var t=null===Ea?Da.memoizedState:Ea.next;if(null!==t)Ea=t,Aa=e;else{if(null===e){if(null===Da.alternate)throw Error(u(467));throw Error(u(310))}e={memoizedState:(Aa=e).memoizedState,baseState:Aa.baseState,baseQueue:Aa.baseQueue,queue:Aa.queue,next:null},null===Ea?Da.memoizedState=Ea=e:Ea=Ea.next=e}return Ea}function Va(e){var t=Sa;return Sa+=1,null===Ta&&(Ta=[]),e=Ji(Ta,e,t),t=Da,null===(null===Ea?t.memoizedState:Ea.next)&&(t=t.alternate,N.H=null===t||null===t.memoizedState?Go:Qo),e}function qa(e){if(null!==e&&"object"===i(e)){if("function"==typeof e.then)return Va(e);if(e.$$typeof===E)return Si(e)}throw Error(u(438,String(e)))}function Ha(e){var t=null,n=Da.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=Da.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map((function(e){return e.slice()})),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Da.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=F;return t.index++,n}function Wa(e,t){return"function"==typeof t?t(e):t}function Ka(e){return $a(za(),Aa,e)}function $a(e,t,n){var r=e.queue;if(null===r)throw Error(u(311));r.lastRenderedReducer=n;var i=e.baseQueue,a=r.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}t.baseQueue=i=a,r.pending=null}if(a=e.baseState,null===i)e.memoizedState=a;else{var s=o=null,c=null,l=t=i.next,d=!1;do{var p=-536870913&l.lane;if(p!==l.lane?(sc&p)===p:(wa&p)===p){var f=l.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),p===ji&&(d=!0);else{if((wa&f)===f){l=l.next,f===ji&&(d=!0);continue}p={lane:0,revertLane:l.revertLane,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null},null===c?(s=c=p,o=a):c=c.next=p,Da.lanes|=f,mc|=f}p=l.action,_a&&n(a,p),a=l.hasEagerState?l.eagerState:n(a,p)}else f={lane:p,revertLane:l.revertLane,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null},null===c?(s=c=f,o=a):c=c.next=f,Da.lanes|=p,mc|=p;l=l.next}while(null!==l&&l!==t);if(null===c?o=a:c.next=s,!Xn(a,e.memoizedState)&&(Ts=!0,d&&null!==(n=Ui)))throw n;e.memoizedState=a,e.baseState=o,e.baseQueue=c,r.lastRenderedState=a}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Ga(e){var t=za(),n=t.queue;if(null===n)throw Error(u(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);Xn(a,t.memoizedState)||(Ts=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Qa(e,t,n){var r=Da,i=za(),a=si;if(a){if(void 0===n)throw Error(u(407));n=n()}else n=t();var o=!Xn((Aa||i).memoizedState,n);if(o&&(i.memoizedState=n,Ts=!0),i=i.queue,bo(2048,8,Za.bind(null,r,i,e),[e]),i.getSnapshot!==t||o||null!==Ea&&1&Ea.memoizedState.tag){if(r.flags|=2048,vo(9,{destroy:void 0,resource:void 0},Xa.bind(null,r,i,n,t),null),null===ac)throw Error(u(349));a||124&wa||Ya(r,t,n)}return n}function Ya(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Da.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Da.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Xa(e,t,n,r){t.value=n,t.getSnapshot=r,Ja(t)&&eo(e)}function Za(e,t,n){return n((function(){Ja(t)&&eo(e)}))}function Ja(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Xn(e,n)}catch(e){return!0}}function eo(e){var t=Ir(e,2);null!==t&&Lc(t,e,2)}function to(e){var t=Ua();if("function"==typeof e){var n=e;if(e=n(),_a){he(!0);try{n()}finally{he(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wa,lastRenderedState:e},t}function no(e,t,n,r){return e.baseState=n,$a(e,Aa,"function"==typeof r?r:Wa)}function ro(e,t,n,r,i){if(Ho(e))throw Error(u(485));if(null!==(e=t.action)){var a={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){a.listeners.push(e)}};null!==N.T?n(!0):a.isTransition=!1,r(a),null===(n=t.pending)?(a.next=t.pending=a,io(t,a)):(a.next=n.next,t.pending=n.next=a)}}function io(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var a=N.T,o={};N.T=o;try{var s=n(i,r),u=N.S;null!==u&&u(o,s),ao(e,t,s)}catch(n){so(e,t,n)}finally{N.T=a}}else try{ao(e,t,a=n(i,r))}catch(n){so(e,t,n)}}function ao(e,t,n){null!==n&&"object"===i(n)&&"function"==typeof n.then?n.then((function(n){oo(e,t,n)}),(function(n){return so(e,t,n)})):oo(e,t,n)}function oo(e,t,n){t.status="fulfilled",t.value=n,uo(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,io(e,n)))}function so(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,uo(t),t=t.next}while(t!==r)}e.action=null}function uo(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function co(e,t){return t}function lo(e,t){if(si){var n=ac.formState;if(null!==n){e:{var r=Da;if(si){if(oi){t:{for(var i=oi,a=ci;8!==i.nodeType;){if(!a){i=null;break t}if(null===(i=bd(i.nextSibling))){i=null;break t}}i="F!"===(a=i.data)||"F"===a?i:null}if(i){oi=bd(i.nextSibling),r="F!"===i.data;break e}}di(r)}r=!1}r&&(t=n[0])}}return(n=Ua()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:co,lastRenderedState:t},n.queue=r,n=zo.bind(null,Da,r),r.dispatch=n,r=to(!1),a=qo.bind(null,Da,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=Ua()).queue=i,n=ro.bind(null,Da,i,a,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function po(e){return fo(za(),Aa,e)}function fo(e,t,n){if(t=$a(e,t,co)[0],e=Ka(Wa)[0],"object"===i(t)&&null!==t&&"function"==typeof t.then)try{var r=Va(t)}catch(e){if(e===$i)throw Qi;throw e}else r=t;var a=(t=za()).queue,o=a.dispatch;return n!==t.memoizedState&&(Da.flags|=2048,vo(9,{destroy:void 0,resource:void 0},ho.bind(null,a,n),null)),[r,o,e]}function ho(e,t){e.action=t}function mo(e){var t=za(),n=Aa;if(null!==n)return fo(t,n,e);za(),t=t.memoizedState;var r=(n=za()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function vo(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=Da.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Da.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function go(){return za().memoizedState}function yo(e,t,n,r){var i=Ua();r=void 0===r?null:r,Da.flags|=e,i.memoizedState=vo(1|t,{destroy:void 0,resource:void 0},n,r)}function bo(e,t,n,r){var i=za();r=void 0===r?null:r;var a=i.memoizedState.inst;null!==Aa&&null!==r&&Pa(r,Aa.memoizedState.deps)?i.memoizedState=vo(t,a,n,r):(Da.flags|=e,i.memoizedState=vo(1|t,a,n,r))}function wo(e,t){yo(8390656,8,e,t)}function Do(e,t){bo(2048,8,e,t)}function Ao(e,t){return bo(4,2,e,t)}function Eo(e,t){return bo(4,4,e,t)}function ko(e,t){if("function"==typeof t){e=e();var n=t(e);return function(){"function"==typeof n?n():t(null)}}if(null!=t)return e=e(),t.current=e,function(){t.current=null}}function Co(e,t,n){n=null!=n?n.concat([e]):null,bo(4,4,ko.bind(null,t,e),n)}function _o(){}function xo(e,t){var n=za();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Pa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function So(e,t){var n=za();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Pa(t,r[1]))return r[0];if(r=e(),_a){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r}function To(e,t,n){return void 0===n||1073741824&wa?e.memoizedState=t:(e.memoizedState=n,e=Mc(),Da.lanes|=e,mc|=e,n)}function Fo(e,t,n,r){return Xn(n,t)?n:null!==ma.current?(e=To(e,n,r),Xn(e,t)||(Ts=!0),e):42&wa?(e=Mc(),Da.lanes|=e,mc|=e,t):(Ts=!0,e.memoizedState=n)}function Oo(e,t,n,r,a){var o=M.p;M.p=0!==o&&8>o?o:8;var s,u,c,l=N.T,d={};N.T=d,qo(e,!1,t,n);try{var p=a(),f=N.S;if(null!==f&&f(d,p),null!==p&&"object"===i(p)&&"function"==typeof p.then)Vo(e,t,(s=r,u=[],c={status:"pending",value:null,reason:null,then:function(e){u.push(e)}},p.then((function(){c.status="fulfilled",c.value=s;for(var e=0;e<u.length;e++)(0,u[e])(s)}),(function(e){for(c.status="rejected",c.reason=e,e=0;e<u.length;e++)(0,u[e])(void 0)})),c),Nc());else Vo(e,t,r,Nc())}catch(n){Vo(e,t,{then:function(){},status:"rejected",reason:n},Nc())}finally{M.p=o,N.T=l}}function Po(){}function Io(e,t,n,r){if(5!==e.tag)throw Error(u(476));var i=Bo(e).queue;Oo(e,i,t,L,null===n?Po:function(){return Ro(e),n(r)})}function Bo(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:L,baseState:L,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wa,lastRenderedState:L},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wa,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Ro(e){Vo(e,Bo(e).next.queue,{},Nc())}function No(){return Si(Yd)}function Mo(){return za().memoizedState}function Lo(){return za().memoizedState}function jo(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Nc(),r=sa(t,e=oa(n),n);return null!==r&&(Lc(r,t,n),ua(r,t,n)),t={cache:Ri()},void(e.payload=t)}t=t.return}}function Uo(e,t,n){var r=Nc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Ho(e)?Wo(t,n):null!==(n=Pr(e,t,n,r))&&(Lc(n,e,r),Ko(n,t,r))}function zo(e,t,n){Vo(e,t,n,Nc())}function Vo(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ho(e))Wo(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,Xn(s,o))return Or(e,t,i,0),null===ac&&Fr(),!1}catch(e){}if(null!==(n=Pr(e,t,i,r)))return Lc(n,e,r),Ko(n,t,r),!0}return!1}function qo(e,t,n,r){if(r={lane:2,revertLane:Ol(),action:r,hasEagerState:!1,eagerState:null,next:null},Ho(e)){if(t)throw Error(u(479))}else null!==(t=Pr(e,n,r,2))&&Lc(t,e,2)}function Ho(e){var t=e.alternate;return e===Da||null!==t&&t===Da}function Wo(e,t){Ca=ka=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ko(e,t,n){if(4194048&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Te(e,n)}}var $o={readContext:Si,use:qa,useCallback:Oa,useContext:Oa,useEffect:Oa,useImperativeHandle:Oa,useLayoutEffect:Oa,useInsertionEffect:Oa,useMemo:Oa,useReducer:Oa,useRef:Oa,useState:Oa,useDebugValue:Oa,useDeferredValue:Oa,useTransition:Oa,useSyncExternalStore:Oa,useId:Oa,useHostTransitionStatus:Oa,useFormState:Oa,useActionState:Oa,useOptimistic:Oa,useMemoCache:Oa,useCacheRefresh:Oa},Go={readContext:Si,use:qa,useCallback:function(e,t){return Ua().memoizedState=[e,void 0===t?null:t],e},useContext:Si,useEffect:wo,useImperativeHandle:function(e,t,n){n=null!=n?n.concat([e]):null,yo(4194308,4,ko.bind(null,t,e),n)},useLayoutEffect:function(e,t){return yo(4194308,4,e,t)},useInsertionEffect:function(e,t){yo(4,2,e,t)},useMemo:function(e,t){var n=Ua();t=void 0===t?null:t;var r=e();if(_a){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Ua();if(void 0!==n){var i=n(t);if(_a){he(!0);try{n(t)}finally{he(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=Uo.bind(null,Da,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ua().memoizedState=e},useState:function(e){var t=(e=to(e)).queue,n=zo.bind(null,Da,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:_o,useDeferredValue:function(e,t){return To(Ua(),e,t)},useTransition:function(){var e=to(!1);return e=Oo.bind(null,Da,e.queue,!0,!1),Ua().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Da,i=Ua();if(si){if(void 0===n)throw Error(u(407));n=n()}else{if(n=t(),null===ac)throw Error(u(349));124&sc||Ya(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,wo(Za.bind(null,r,a,e),[e]),r.flags|=2048,vo(9,{destroy:void 0,resource:void 0},Xa.bind(null,r,a,n,t),null),n},useId:function(){var e=Ua(),t=ac.identifierPrefix;if(si){var n=ei;t=""+t+"R"+(n=(Jr&~(1<<32-me(Jr)-1)).toString(32)+n),0<(n=xa++)&&(t+="H"+n.toString(32)),t+=""}else t=""+t+"r"+(n=Fa++).toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:No,useFormState:lo,useActionState:lo,useOptimistic:function(e){var t=Ua();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=qo.bind(null,Da,!0,n),n.dispatch=t,[e,t]},useMemoCache:Ha,useCacheRefresh:function(){return Ua().memoizedState=jo.bind(null,Da)}},Qo={readContext:Si,use:qa,useCallback:xo,useContext:Si,useEffect:Do,useImperativeHandle:Co,useInsertionEffect:Ao,useLayoutEffect:Eo,useMemo:So,useReducer:Ka,useRef:go,useState:function(){return Ka(Wa)},useDebugValue:_o,useDeferredValue:function(e,t){return Fo(za(),Aa.memoizedState,e,t)},useTransition:function(){var e=Ka(Wa)[0],t=za().memoizedState;return["boolean"==typeof e?e:Va(e),t]},useSyncExternalStore:Qa,useId:Mo,useHostTransitionStatus:No,useFormState:po,useActionState:po,useOptimistic:function(e,t){return no(za(),0,e,t)},useMemoCache:Ha,useCacheRefresh:Lo},Yo={readContext:Si,use:qa,useCallback:xo,useContext:Si,useEffect:Do,useImperativeHandle:Co,useInsertionEffect:Ao,useLayoutEffect:Eo,useMemo:So,useReducer:Ga,useRef:go,useState:function(){return Ga(Wa)},useDebugValue:_o,useDeferredValue:function(e,t){var n=za();return null===Aa?To(n,e,t):Fo(n,Aa.memoizedState,e,t)},useTransition:function(){var e=Ga(Wa)[0],t=za().memoizedState;return["boolean"==typeof e?e:Va(e),t]},useSyncExternalStore:Qa,useId:Mo,useHostTransitionStatus:No,useFormState:mo,useActionState:mo,useOptimistic:function(e,t){var n=za();return null!==Aa?no(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Ha,useCacheRefresh:Lo},Xo=null,Zo=0;function Jo(e){var t=Zo;return Zo+=1,null===Xo&&(Xo=[]),Ji(Xo,e,t)}function es(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function ts(e,t){if(t.$$typeof===m)throw Error(u(525));throw e=Object.prototype.toString.call(t),Error(u(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ns(e){return(0,e._init)(e._payload)}function rs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function a(e,t){return(e=Ur(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=Hr(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function l(e,t,n,r){var o=n.type;return o===y?p(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===i(o)&&null!==o&&o.$$typeof===S&&ns(o)===t.type)?(es(t=a(t,n.props),n),t.return=e,t):(es(t=Vr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function d(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Wr(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function p(e,t,n,r,i){return null===t||7!==t.tag?((t=qr(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function f(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=Hr(""+t,e.mode,n)).return=e,t;if("object"===i(t)&&null!==t){switch(t.$$typeof){case v:return es(n=Vr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case g:return(t=Wr(t,e.mode,n)).return=e,t;case S:return f(e,t=(0,t._init)(t._payload),n)}if(R(t)||P(t))return(t=qr(t,e.mode,n,null)).return=e,t;if("function"==typeof t.then)return f(e,Jo(t),n);if(t.$$typeof===E)return f(e,Ti(e,t),n);ts(e,t)}return null}function h(e,t,n,r){var a=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return null!==a?null:c(e,t,""+n,r);if("object"===i(n)&&null!==n){switch(n.$$typeof){case v:return n.key===a?l(e,t,n,r):null;case g:return n.key===a?d(e,t,n,r):null;case S:return h(e,t,n=(a=n._init)(n._payload),r)}if(R(n)||P(n))return null!==a?null:p(e,t,n,r,null);if("function"==typeof n.then)return h(e,t,Jo(n),r);if(n.$$typeof===E)return h(e,t,Ti(e,n),r);ts(e,n)}return null}function m(e,t,n,r,a){if("string"==typeof r&&""!==r||"number"==typeof r||"bigint"==typeof r)return c(t,e=e.get(n)||null,""+r,a);if("object"===i(r)&&null!==r){switch(r.$$typeof){case v:return l(t,e=e.get(null===r.key?n:r.key)||null,r,a);case g:return d(t,e=e.get(null===r.key?n:r.key)||null,r,a);case S:return m(e,t,n,r=(0,r._init)(r._payload),a)}if(R(r)||P(r))return p(t,e=e.get(n)||null,r,a,null);if("function"==typeof r.then)return m(e,t,n,Jo(r),a);if(r.$$typeof===E)return m(e,t,n,Ti(t,r),a);ts(t,r)}return null}function b(c,l,d,p){if("object"===i(d)&&null!==d&&d.type===y&&null===d.key&&(d=d.props.children),"object"===i(d)&&null!==d){switch(d.$$typeof){case v:e:{for(var w=d.key;null!==l;){if(l.key===w){if((w=d.type)===y){if(7===l.tag){n(c,l.sibling),(p=a(l,d.props.children)).return=c,c=p;break e}}else if(l.elementType===w||"object"===i(w)&&null!==w&&w.$$typeof===S&&ns(w)===l.type){n(c,l.sibling),es(p=a(l,d.props),d),p.return=c,c=p;break e}n(c,l);break}t(c,l),l=l.sibling}d.type===y?((p=qr(d.props.children,c.mode,p,d.key)).return=c,c=p):(es(p=Vr(d.type,d.key,d.props,null,c.mode,p),d),p.return=c,c=p)}return s(c);case g:e:{for(w=d.key;null!==l;){if(l.key===w){if(4===l.tag&&l.stateNode.containerInfo===d.containerInfo&&l.stateNode.implementation===d.implementation){n(c,l.sibling),(p=a(l,d.children||[])).return=c,c=p;break e}n(c,l);break}t(c,l),l=l.sibling}(p=Wr(d,c.mode,p)).return=c,c=p}return s(c);case S:return b(c,l,d=(w=d._init)(d._payload),p)}if(R(d))return function(i,a,s,u){for(var c=null,l=null,d=a,p=a=0,v=null;null!==d&&p<s.length;p++){d.index>p?(v=d,d=null):v=d.sibling;var g=h(i,d,s[p],u);if(null===g){null===d&&(d=v);break}e&&d&&null===g.alternate&&t(i,d),a=o(g,a,p),null===l?c=g:l.sibling=g,l=g,d=v}if(p===s.length)return n(i,d),si&&ti(i,p),c;if(null===d){for(;p<s.length;p++)null!==(d=f(i,s[p],u))&&(a=o(d,a,p),null===l?c=d:l.sibling=d,l=d);return si&&ti(i,p),c}for(d=r(d);p<s.length;p++)null!==(v=m(d,i,p,s[p],u))&&(e&&null!==v.alternate&&d.delete(null===v.key?p:v.key),a=o(v,a,p),null===l?c=v:l.sibling=v,l=v);return e&&d.forEach((function(e){return t(i,e)})),si&&ti(i,p),c}(c,l,d,p);if(P(d)){if("function"!=typeof(w=P(d)))throw Error(u(150));return function(i,a,s,c){if(null==s)throw Error(u(151));for(var l=null,d=null,p=a,v=a=0,g=null,y=s.next();null!==p&&!y.done;v++,y=s.next()){p.index>v?(g=p,p=null):g=p.sibling;var b=h(i,p,y.value,c);if(null===b){null===p&&(p=g);break}e&&p&&null===b.alternate&&t(i,p),a=o(b,a,v),null===d?l=b:d.sibling=b,d=b,p=g}if(y.done)return n(i,p),si&&ti(i,v),l;if(null===p){for(;!y.done;v++,y=s.next())null!==(y=f(i,y.value,c))&&(a=o(y,a,v),null===d?l=y:d.sibling=y,d=y);return si&&ti(i,v),l}for(p=r(p);!y.done;v++,y=s.next())null!==(y=m(p,i,v,y.value,c))&&(e&&null!==y.alternate&&p.delete(null===y.key?v:y.key),a=o(y,a,v),null===d?l=y:d.sibling=y,d=y);return e&&p.forEach((function(e){return t(i,e)})),si&&ti(i,v),l}(c,l,d=w.call(d),p)}if("function"==typeof d.then)return b(c,l,Jo(d),p);if(d.$$typeof===E)return b(c,l,Ti(c,d),p);ts(c,d)}return"string"==typeof d&&""!==d||"number"==typeof d||"bigint"==typeof d?(d=""+d,null!==l&&6===l.tag?(n(c,l.sibling),(p=a(l,d)).return=c,c=p):(n(c,l),(p=Hr(d,c.mode,p)).return=c,c=p),s(c)):n(c,l)}return function(e,t,n,r){try{Zo=0;var i=b(e,t,n,r);return Xo=null,i}catch(t){if(t===$i||t===Qi)throw t;var a=Lr(29,t,null,e.mode);return a.lanes=r,a.return=e,a}}}var is=rs(!0),as=rs(!1),os=z(null),ss=null;function us(e){var t=e.alternate;q(ps,1&ps.current),q(os,e),null===ss&&(null===t||null!==ma.current||null!==t.memoizedState)&&(ss=e)}function cs(e){if(22===e.tag){if(q(ps,ps.current),q(os,e),null===ss){var t=e.alternate;null!==t&&null!==t.memoizedState&&(ss=e)}}else ls()}function ls(){q(ps,ps.current),q(os,os.current)}function ds(e){V(os),ss===e&&(ss=null),V(ps)}var ps=z(0);function fs(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||yd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function hs(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:h({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ms={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Nc(),i=oa(r);i.payload=t,null!=n&&(i.callback=n),null!==(t=sa(e,i,r))&&(Lc(t,e,r),ua(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Nc(),i=oa(r);i.tag=1,i.payload=t,null!=n&&(i.callback=n),null!==(t=sa(e,i,r))&&(Lc(t,e,r),ua(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Nc(),r=oa(n);r.tag=2,null!=t&&(r.callback=t),null!==(t=sa(e,r,n))&&(Lc(t,e,n),ua(t,e,n))}};function vs(e,t,n,r,i,a,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!Zn(n,r)||!Zn(i,a))}function gs(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ms.enqueueReplaceState(t,t.state,null)}function ys(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=h({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}var bs="function"==typeof reportError?reportError:function(e){if("object"===("undefined"==typeof window?"undefined":i(window))&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===i(e)&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===(void 0===r?"undefined":i(r))&&"function"==typeof r.emit)return void r.emit("uncaughtException",e);console.error(e)};function ws(e){bs(e)}function Ds(e){console.error(e)}function As(e){bs(e)}function Es(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(e){setTimeout((function(){throw e}))}}function ks(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(e){setTimeout((function(){throw e}))}}function Cs(e,t,n){return(n=oa(n)).tag=3,n.payload={element:null},n.callback=function(){Es(e,t)},n}function _s(e){return(e=oa(e)).tag=3,e}function xs(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"==typeof i){var a=r.value;e.payload=function(){return i(a)},e.callback=function(){ks(t,n,r)}}var o=n.stateNode;null!==o&&"function"==typeof o.componentDidCatch&&(e.callback=function(){ks(t,n,r),"function"!=typeof i&&(null===_c?_c=new Set([this]):_c.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Ss=Error(u(461)),Ts=!1;function Fs(e,t,n,r){t.child=null===e?as(t,null,n,r):is(t,e.child,n,r)}function Os(e,t,n,r,i){n=n.render;var a=t.ref;if("ref"in r){var o={};for(var s in r)"ref"!==s&&(o[s]=r[s])}else o=r;return xi(t),r=Ia(e,t,n,o,a,i),s=Ma(),null===e||Ts?(si&&s&&ri(t),t.flags|=1,Fs(e,t,r,i),t.child):(La(e,t,i),Xs(e,t,i))}function Ps(e,t,n,r,i){if(null===e){var a=n.type;return"function"!=typeof a||jr(a)||void 0!==a.defaultProps||null!==n.compare?((e=Vr(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Is(e,t,a,r,i))}if(a=e.child,!Zs(e,i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:Zn)(o,r)&&e.ref===t.ref)return Xs(e,t,i)}return t.flags|=1,(e=Ur(a,r)).ref=t.ref,e.return=t,t.child=e}function Is(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(Zn(a,r)&&e.ref===t.ref){if(Ts=!1,t.pendingProps=r=a,!Zs(e,i))return t.lanes=e.lanes,Xs(e,t,i);131072&e.flags&&(Ts=!0)}}return Ms(e,t,n,r,i)}function Bs(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(128&t.flags){if(r=null!==a?a.baseLanes|n:n,null!==e){for(i=t.child=e.child,a=0;null!==i;)a=a|i.lanes|i.childLanes,i=i.sibling;t.childLanes=a&~r}else t.childLanes=0,t.child=null;return Rs(e,t,r,n)}if(!(536870912&n))return t.lanes=t.childLanes=536870912,Rs(e,t,null!==a?a.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Wi(0,null!==a?a.cachePool:null),null!==a?ga(t,a):ya(),cs(t)}else null!==a?(Wi(0,a.cachePool),ga(t,a),ls(),t.memoizedState=null):(null!==e&&Wi(0,null),ya(),ls());return Fs(e,t,i,n),t.child}function Rs(e,t,n,r){var i=Hi();return i=null===i?null:{parent:Bi._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&Wi(0,null),ya(),cs(t),null!==e&&Ci(e,t,r,!0),null}function Ns(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!=typeof n&&"object"!==i(n))throw Error(u(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Ms(e,t,n,r,i){return xi(t),n=Ia(e,t,n,r,void 0,i),r=Ma(),null===e||Ts?(si&&r&&ri(t),t.flags|=1,Fs(e,t,n,i),t.child):(La(e,t,i),Xs(e,t,i))}function Ls(e,t,n,r,i,a){return xi(t),t.updateQueue=null,n=Ra(t,r,n,i),Ba(e),r=Ma(),null===e||Ts?(si&&r&&ri(t),t.flags|=1,Fs(e,t,n,a),t.child):(La(e,t,a),Xs(e,t,a))}function js(e,t,n,r,a){if(xi(t),null===t.stateNode){var o=Nr,s=n.contextType;"object"===i(s)&&null!==s&&(o=Si(s)),o=new n(r,o),t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,o.updater=ms,t.stateNode=o,o._reactInternals=t,(o=t.stateNode).props=r,o.state=t.memoizedState,o.refs={},ia(t),s=n.contextType,o.context="object"===i(s)&&null!==s?Si(s):Nr,o.state=t.memoizedState,"function"==typeof(s=n.getDerivedStateFromProps)&&(hs(t,n,s,r),o.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(s=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),s!==o.state&&ms.enqueueReplaceState(o,o.state,null),pa(t,r,o,a),da(),o.state=t.memoizedState),"function"==typeof o.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){o=t.stateNode;var u=t.memoizedProps,c=ys(n,u);o.props=c;var l=o.context,d=n.contextType;s=Nr,"object"===i(d)&&null!==d&&(s=Si(d));var p=n.getDerivedStateFromProps;d="function"==typeof p||"function"==typeof o.getSnapshotBeforeUpdate,u=t.pendingProps!==u,d||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(u||l!==s)&&gs(t,o,r,s),ra=!1;var f=t.memoizedState;o.state=f,pa(t,r,o,a),da(),l=t.memoizedState,u||f!==l||ra?("function"==typeof p&&(hs(t,n,p,r),l=t.memoizedState),(c=ra||vs(t,n,c,r,f,l,s))?(d||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.flags|=4194308)):("function"==typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=s,r=c):("function"==typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,aa(e,t),d=ys(n,s=t.memoizedProps),o.props=d,p=t.pendingProps,f=o.context,l=n.contextType,c=Nr,"object"===i(l)&&null!==l&&(c=Si(l)),(l="function"==typeof(u=n.getDerivedStateFromProps)||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==p||f!==c)&&gs(t,o,r,c),ra=!1,f=t.memoizedState,o.state=f,pa(t,r,o,a),da();var h=t.memoizedState;s!==p||f!==h||ra||null!==e&&null!==e.dependencies&&_i(e.dependencies)?("function"==typeof u&&(hs(t,n,u,r),h=t.memoizedState),(d=ra||vs(t,n,d,r,f,h,c)||null!==e&&null!==e.dependencies&&_i(e.dependencies))?(l||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(r,h,c),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,h,c)),"function"==typeof o.componentDidUpdate&&(t.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),o.props=r,o.state=h,o.context=c,r=d):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return o=r,Ns(e,t),r=!!(128&t.flags),o||r?(o=t.stateNode,n=r&&"function"!=typeof n.getDerivedStateFromError?null:o.render(),t.flags|=1,null!==e&&r?(t.child=is(t,e.child,null,a),t.child=is(t,null,n,a)):Fs(e,t,n,a),t.memoizedState=o.state,e=t.child):e=Xs(e,t,a),e}function Us(e,t,n,r){return mi(),t.flags|=256,Fs(e,t,n,r),t.child}var zs={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vs(e){return{baseLanes:e,cachePool:Ki()}}function qs(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=yc),e}function Hs(e,t,n){var r,i=t.pendingProps,a=!1,o=!!(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&!!(2&ps.current)),r&&(a=!0,t.flags&=-129),r=!!(32&t.flags),t.flags&=-33,null===e){if(si){if(a?us(t):ls(),si){var s,c=oi;if(s=c){e:{for(s=c,c=ci;8!==s.nodeType;){if(!c){c=null;break e}if(null===(s=bd(s.nextSibling))){c=null;break e}}c=s}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Zr?{id:Jr,overflow:ei}:null,retryLane:536870912,hydrationErrors:null},(s=Lr(18,null,null,0)).stateNode=c,s.return=t,t.child=s,ai=t,oi=null,s=!0):s=!1}s||di(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return yd(c)?t.lanes=32:t.lanes=536870912,null;ds(t)}return c=i.children,i=i.fallback,a?(ls(),c=Ks({mode:"hidden",children:c},a=t.mode),i=qr(i,a,n,null),c.return=t,i.return=t,c.sibling=i,t.child=c,(a=t.child).memoizedState=Vs(n),a.childLanes=qs(e,r,n),t.memoizedState=zs,i):(us(t),Ws(t,c))}if(null!==(s=e.memoizedState)&&null!==(c=s.dehydrated)){if(o)256&t.flags?(us(t),t.flags&=-257,t=$s(e,t,n)):null!==t.memoizedState?(ls(),t.child=e.child,t.flags|=128,t=null):(ls(),a=i.fallback,c=t.mode,i=Ks({mode:"visible",children:i.children},c),(a=qr(a,c,n,null)).flags|=2,i.return=t,a.return=t,i.sibling=a,t.child=i,is(t,e.child,null,n),(i=t.child).memoizedState=Vs(n),i.childLanes=qs(e,r,n),t.memoizedState=zs,t=a);else if(us(t),yd(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var l=r.dgst;r=l,(i=Error(u(419))).stack="",i.digest=r,gi({value:i,source:null,stack:null}),t=$s(e,t,n)}else if(Ts||Ci(e,t,n,!1),r=!!(n&e.childLanes),Ts||r){if(null!==(r=ac)&&(0!==(i=(i=42&(i=n&-n)?1:Fe(i))&(r.suspendedLanes|n)?0:i)&&i!==s.retryLane))throw s.retryLane=i,Ir(e,i),Lc(r,e,i),Ss;"$?"===c.data||Qc(),t=$s(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=s.treeContext,oi=bd(c.nextSibling),ai=t,si=!0,ui=null,ci=!1,null!==e&&(Yr[Xr++]=Jr,Yr[Xr++]=ei,Yr[Xr++]=Zr,Jr=e.id,ei=e.overflow,Zr=t),(t=Ws(t,i.children)).flags|=4096);return t}return a?(ls(),a=i.fallback,c=t.mode,l=(s=e.child).sibling,(i=Ur(s,{mode:"hidden",children:i.children})).subtreeFlags=65011712&s.subtreeFlags,null!==l?a=Ur(l,a):(a=qr(a,c,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,null===(c=e.child.memoizedState)?c=Vs(n):(null!==(s=c.cachePool)?(l=Bi._currentValue,s=s.parent!==l?{parent:l,pool:l}:s):s=Ki(),c={baseLanes:c.baseLanes|n,cachePool:s}),a.memoizedState=c,a.childLanes=qs(e,r,n),t.memoizedState=zs,i):(us(t),e=(n=e.child).sibling,(n=Ur(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Ws(e,t){return(t=Ks({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Ks(e,t){return(e=Lr(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function $s(e,t,n){return is(t,e.child,null,n),(e=Ws(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Gs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ei(e.return,t,n)}function Qs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Ys(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Fs(e,t,r.children,n),2&(r=ps.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Gs(e,n,t);else if(19===e.tag)Gs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(q(ps,r),i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===fs(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Qs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===fs(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Qs(t,!0,n,null,a);break;case"together":Qs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),mc|=t.lanes,!(n&t.childLanes)){if(null===e)return null;if(Ci(e,t,n,!1),!(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(u(153));if(null!==t.child){for(n=Ur(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ur(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Zs(e,t){return!!(e.lanes&t)||!(null===(e=e.dependencies)||!_i(e))}function Js(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ts=!0;else{if(!(Zs(e,n)||128&t.flags))return Ts=!1,function(e,t,n){switch(t.tag){case 3:G(t,t.stateNode.containerInfo),Di(0,Bi,e.memoizedState.cache),mi();break;case 27:case 5:Y(t);break;case 4:G(t,t.stateNode.containerInfo);break;case 10:Di(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(us(t),t.flags|=128,null):n&t.child.childLanes?Hs(e,t,n):(us(t),null!==(e=Xs(e,t,n))?e.sibling:null);us(t);break;case 19:var i=!!(128&e.flags);if((r=!!(n&t.childLanes))||(Ci(e,t,n,!1),r=!!(n&t.childLanes)),i){if(r)return Ys(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),q(ps,ps.current),r)break;return null;case 22:case 23:return t.lanes=0,Bs(e,t,n);case 24:Di(0,Bi,e.memoizedState.cache)}return Xs(e,t,n)}(e,t,n);Ts=!!(131072&e.flags)}else Ts=!1,si&&1048576&t.flags&&ni(t,Qr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,i=r._init;if(r=i(r._payload),t.type=r,"function"!=typeof r){if(null!=r){if((i=r.$$typeof)===k){t.tag=11,t=Os(null,t,r,e,n);break e}if(i===x){t.tag=14,t=Ps(null,t,r,e,n);break e}}throw t=B(r)||r,Error(u(306,t,""))}jr(r)?(e=ys(r,e),t.tag=1,t=js(null,t,r,e,n)):(t.tag=0,t=Ms(null,t,r,e,n))}return t;case 0:return Ms(e,t,t.type,t.pendingProps,n);case 1:return js(e,t,r=t.type,i=ys(r,t.pendingProps),n);case 3:e:{if(G(t,t.stateNode.containerInfo),null===e)throw Error(u(387));r=t.pendingProps;var a=t.memoizedState;i=a.element,aa(e,t),pa(t,r,null,n);var o=t.memoizedState;if(r=o.cache,Di(0,Bi,r),r!==a.cache&&ki(t,[Bi],n,!0),da(),r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Us(e,t,r,n);break e}if(r!==i){gi(i=_r(Error(u(424)),t)),t=Us(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(oi=bd(e.firstChild),ai=t,si=!0,ui=null,ci=!0,n=as(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(mi(),r===i){t=Xs(e,t,n);break e}Fs(e,t,r,n)}t=t.child}return t;case 26:return Ns(e,t),null===e?(n=Fd(t.type,null,t.pendingProps,null))?t.memoizedState=n:si||(n=t.type,e=t.pendingProps,(r=ad(K.current).createElement(n))[Be]=t,r[Re]=e,nd(r,n,e),$e(r),t.stateNode=r):t.memoizedState=Fd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Y(t),null===e&&si&&(r=t.stateNode=Ad(t.type,t.pendingProps,K.current),ai=t,ci=!0,i=oi,md(t.type)?(wd=i,oi=bd(r.firstChild)):oi=i),Fs(e,t,t.pendingProps.children,n),Ns(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&si&&((i=r=oi)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[ze])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(a=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(a!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((a=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var a=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===a)return e}if(null===(e=bd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,ci))?(t.stateNode=r,ai=t,oi=bd(r.firstChild),ci=!1,i=!0):i=!1),i||di(t)),Y(t),i=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,r=a.children,ud(i,a)?r=null:null!==o&&ud(i,o)&&(t.flags|=32),null!==t.memoizedState&&(i=Ia(e,t,Na,null,null,n),Yd._currentValue=i),Ns(e,t),Fs(e,t,r,n),t.child;case 6:return null===e&&si&&((e=n=oi)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=bd(e.nextSibling)))return null}return e}(n,t.pendingProps,ci))?(t.stateNode=n,ai=t,oi=null,e=!0):e=!1),e||di(t)),null;case 13:return Hs(e,t,n);case 4:return G(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=is(t,null,r,n):Fs(e,t,r,n),t.child;case 11:return Os(e,t,t.type,t.pendingProps,n);case 7:return Fs(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fs(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Di(0,t.type,r.value),Fs(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,xi(t),r=r(i=Si(i)),t.flags|=1,Fs(e,t,r,n),t.child;case 14:return Ps(e,t,t.type,t.pendingProps,n);case 15:return Is(e,t,t.type,t.pendingProps,n);case 19:return Ys(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=Ks(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Ur(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Bs(e,t,n);case 24:return xi(t),r=Si(Bi),null===e?(null===(i=Hi())&&(i=ac,a=Ri(),i.pooledCache=a,a.refCount++,null!==a&&(i.pooledCacheLanes|=n),i=a),t.memoizedState={parent:r,cache:i},ia(t),Di(0,Bi,i)):(!!(e.lanes&n)&&(aa(e,t),pa(t,null,null,n),da()),i=e.memoizedState,a=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),Di(0,Bi,r)):(r=a.cache,Di(0,Bi,r),r!==i.cache&&ki(t,[Bi],n,!0))),Fs(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(u(156,t.tag))}function eu(e){e.flags|=4}function tu(e,t){if("stylesheet"!==t.type||4&t.state.loading)e.flags&=-16777217;else if(e.flags|=16777216,!qd(t)){if(null!==(t=os.current)&&((4194048&sc)===sc?null!==ss:(62914560&sc)!==sc&&!(536870912&sc)||t!==ss))throw ea=Yi,Gi;e.flags|=8192}}function nu(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ce():536870912,e.lanes|=t,bc|=t)}function ru(e,t){if(!si)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function iu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function au(e,t,n){var r=t.pendingProps;switch(ii(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return iu(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Ai(Bi),Q(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(hi(t)?eu(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,vi())),iu(t),null;case 26:return n=t.memoizedState,null===e?(eu(t),null!==n?(iu(t),tu(t,n)):(iu(t),t.flags&=-16777217)):n?n!==e.memoizedState?(eu(t),iu(t),tu(t,n)):(iu(t),t.flags&=-16777217):(e.memoizedProps!==r&&eu(t),iu(t),t.flags&=-16777217),null;case 27:X(t),n=K.current;var i=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&eu(t);else{if(!r){if(null===t.stateNode)throw Error(u(166));return iu(t),null}e=H.current,hi(t)?pi(t):(e=Ad(i,r,n),t.stateNode=e,eu(t))}return iu(t),null;case 5:if(X(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&eu(t);else{if(!r){if(null===t.stateNode)throw Error(u(166));return iu(t),null}if(e=H.current,hi(t))pi(t);else{switch(i=ad(K.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"==typeof r.is?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"==typeof r.is?i.createElement(n,{is:r.is}):i.createElement(n)}}e[Be]=t,e[Re]=r;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(nd(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&eu(t)}}return iu(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&eu(t);else{if("string"!=typeof r&&null===t.stateNode)throw Error(u(166));if(e=K.current,hi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=ai))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Be]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Zl(e.nodeValue,n)))||di(t)}else(e=ad(e).createTextNode(r))[Be]=t,t.stateNode=e}return iu(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=hi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(u(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(u(317));i[Be]=t}else mi(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;iu(t),i=!1}else i=vi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(ds(t),t):(ds(t),null)}if(ds(t),128&t.flags)return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool);var a=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(a=r.memoizedState.cachePool.pool),a!==i&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),nu(t,t.updateQueue),iu(t),null;case 4:return Q(),null===e&&Vl(t.stateNode.containerInfo),iu(t),null;case 10:return Ai(t.type),iu(t),null;case 19:if(V(ps),null===(i=t.memoizedState))return iu(t),null;if(r=!!(128&t.flags),null===(a=i.rendering))if(r)ru(i,!1);else{if(0!==hc||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(a=fs(e))){for(t.flags|=128,ru(i,!1),e=a.updateQueue,t.updateQueue=e,nu(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)zr(n,e),n=n.sibling;return q(ps,1&ps.current|2),t.child}e=e.sibling}null!==i.tail&&re()>kc&&(t.flags|=128,r=!0,ru(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=fs(a))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,nu(t,e),ru(i,!0),null===i.tail&&"hidden"===i.tailMode&&!a.alternate&&!si)return iu(t),null}else 2*re()-i.renderingStartTime>kc&&536870912!==n&&(t.flags|=128,r=!0,ru(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=i.last)?e.sibling=a:t.child=a,i.last=a)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=re(),t.sibling=null,e=ps.current,q(ps,r?1&e|2:1&e),t):(iu(t),null);case 22:case 23:return ds(t),ba(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?!!(536870912&n)&&!(128&t.flags)&&(iu(t),6&t.subtreeFlags&&(t.flags|=8192)):iu(t),null!==(n=t.updateQueue)&&nu(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&V(qi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ai(Bi),iu(t),null;case 25:case 30:return null}throw Error(u(156,t.tag))}function ou(e,t){switch(ii(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ai(Bi),Q(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return X(t),null;case 13:if(ds(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(u(340));mi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return V(ps),null;case 4:return Q(),null;case 10:return Ai(t.type),null;case 22:case 23:return ds(t),ba(),null!==e&&V(qi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Ai(Bi),null;default:return null}}function su(e,t){switch(ii(t),t.tag){case 3:Ai(Bi),Q();break;case 26:case 27:case 5:X(t);break;case 4:Q();break;case 13:ds(t);break;case 19:V(ps);break;case 10:Ai(t.type);break;case 22:case 23:ds(t),ba(),null!==e&&V(qi);break;case 24:Ai(Bi)}}function uu(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var a=n.create,o=n.inst;r=a(),o.destroy=r}n=n.next}while(n!==i)}}catch(e){pl(t,t.return,e)}}function cu(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var a=i.next;r=a;do{if((r.tag&e)===e){var o=r.inst,s=o.destroy;if(void 0!==s){o.destroy=void 0,i=t;var u=n,c=s;try{c()}catch(e){pl(i,u,e)}}}r=r.next}while(r!==a)}}catch(e){pl(t,t.return,e)}}function lu(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{ha(t,n)}catch(t){pl(e,e.return,t)}}}function du(e,t,n){n.props=ys(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(n){pl(e,t,n)}}function pu(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"==typeof n?e.refCleanup=n(r):n.current=r}}catch(n){pl(e,t,n)}}function fu(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"==typeof r)try{r()}catch(n){pl(e,t,n)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof n)try{n(null)}catch(n){pl(e,t,n)}else n.current=null}function hu(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(t){pl(e,e.return,t)}}function mu(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,o=null,s=null,c=null,l=null,d=null,p=null;for(m in n){var f=n[m];if(n.hasOwnProperty(m)&&null!=f)switch(m){case"checked":case"value":break;case"defaultValue":l=f;default:r.hasOwnProperty(m)||ed(e,t,m,null,r,f)}}for(var h in r){var m=r[h];if(f=n[h],r.hasOwnProperty(h)&&(null!=m||null!=f))switch(h){case"type":o=m;break;case"name":a=m;break;case"checked":d=m;break;case"defaultChecked":p=m;break;case"value":s=m;break;case"defaultValue":c=m;break;case"children":case"dangerouslySetInnerHTML":if(null!=m)throw Error(u(137,t));break;default:m!==f&&ed(e,t,h,m,r,f)}}return void yt(e,s,c,l,d,p,o,a);case"select":for(o in m=s=c=h=null,n)if(l=n[o],n.hasOwnProperty(o)&&null!=l)switch(o){case"value":break;case"multiple":m=l;default:r.hasOwnProperty(o)||ed(e,t,o,null,r,l)}for(a in r)if(o=r[a],l=n[a],r.hasOwnProperty(a)&&(null!=o||null!=l))switch(a){case"value":h=o;break;case"defaultValue":c=o;break;case"multiple":s=o;default:o!==l&&ed(e,t,a,o,r,l)}return t=c,n=s,r=m,void(null!=h?Dt(e,!!n,h,!1):!!r!=!!n&&(null!=t?Dt(e,!!n,t,!0):Dt(e,!!n,n?[]:"",!1)));case"textarea":for(c in m=h=null,n)if(a=n[c],n.hasOwnProperty(c)&&null!=a&&!r.hasOwnProperty(c))switch(c){case"value":case"children":break;default:ed(e,t,c,null,r,a)}for(s in r)if(a=r[s],o=n[s],r.hasOwnProperty(s)&&(null!=a||null!=o))switch(s){case"value":h=a;break;case"defaultValue":m=a;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=a)throw Error(u(91));break;default:a!==o&&ed(e,t,s,a,r,o)}return void At(e,h,m);case"option":for(var v in n)if(h=n[v],n.hasOwnProperty(v)&&null!=h&&!r.hasOwnProperty(v))if("selected"===v)e.selected=!1;else ed(e,t,v,null,r,h);for(l in r)if(h=r[l],m=n[l],r.hasOwnProperty(l)&&h!==m&&(null!=h||null!=m))if("selected"===l)e.selected=h&&"function"!=typeof h&&"symbol"!==i(h);else ed(e,t,l,h,r,m);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)h=n[g],n.hasOwnProperty(g)&&null!=h&&!r.hasOwnProperty(g)&&ed(e,t,g,null,r,h);for(d in r)if(h=r[d],m=n[d],r.hasOwnProperty(d)&&h!==m&&(null!=h||null!=m))switch(d){case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(u(137,t));break;default:ed(e,t,d,h,r,m)}return;default:if(St(t)){for(var y in n)h=n[y],n.hasOwnProperty(y)&&void 0!==h&&!r.hasOwnProperty(y)&&td(e,t,y,void 0,r,h);for(p in r)h=r[p],m=n[p],!r.hasOwnProperty(p)||h===m||void 0===h&&void 0===m||td(e,t,p,h,r,m);return}}for(var b in n)h=n[b],n.hasOwnProperty(b)&&null!=h&&!r.hasOwnProperty(b)&&ed(e,t,b,null,r,h);for(f in r)h=r[f],m=n[f],!r.hasOwnProperty(f)||h===m||null==h&&null==m||ed(e,t,f,h,r,m)}(r,e.type,n,t),r[Re]=t}catch(t){pl(e,e.return,t)}}function vu(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&md(e.type)||4===e.tag}function gu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||vu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&md(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function yu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Jl));else if(4!==r&&(27===r&&md(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(yu(e,t,n),e=e.sibling;null!==e;)yu(e,t,n),e=e.sibling}function bu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&md(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(bu(e,t,n),e=e.sibling;null!==e;)bu(e,t,n),e=e.sibling}function wu(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);nd(t,r,n),t[Be]=e,t[Re]=n}catch(t){pl(e,e.return,t)}}var Du=!1,Au=!1,Eu=!1,ku="function"==typeof WeakSet?WeakSet:Set,Cu=null;function _u(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:ju(e,n),4&r&&uu(5,n);break;case 1:if(ju(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(e){pl(n,n.return,e)}else{var i=ys(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(e){pl(n,n.return,e)}}64&r&&lu(n),512&r&&pu(n,n.return);break;case 3:if(ju(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{ha(e,t)}catch(e){pl(n,n.return,e)}}break;case 27:null===t&&4&r&&wu(n);case 26:case 5:ju(e,n),null===t&&4&r&&hu(n),512&r&&pu(n,n.return);break;case 12:ju(e,n);break;case 13:ju(e,n),4&r&&Pu(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=vl.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||Du)){t=null!==t&&null!==t.memoizedState||Au,i=Du;var a=Au;Du=r,(Au=t)&&!a?zu(e,n,!!(8772&n.subtreeFlags)):ju(e,n),Du=i,Au=a}break;case 30:break;default:ju(e,n)}}function xu(e){var t=e.alternate;null!==t&&(e.alternate=null,xu(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ve(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Su=null,Tu=!1;function Fu(e,t,n){for(n=n.child;null!==n;)Ou(e,t,n),n=n.sibling}function Ou(e,t,n){if(fe&&"function"==typeof fe.onCommitFiberUnmount)try{fe.onCommitFiberUnmount(pe,n)}catch(e){}switch(n.tag){case 26:Au||fu(n,t),Fu(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Au||fu(n,t);var r=Su,i=Tu;md(n.type)&&(Su=n.stateNode,Tu=!1),Fu(e,t,n),Ed(n.stateNode),Su=r,Tu=i;break;case 5:Au||fu(n,t);case 6:if(r=Su,i=Tu,Su=null,Fu(e,t,n),Tu=i,null!==(Su=r))if(Tu)try{(9===Su.nodeType?Su.body:"HTML"===Su.nodeName?Su.ownerDocument.body:Su).removeChild(n.stateNode)}catch(e){pl(n,t,e)}else try{Su.removeChild(n.stateNode)}catch(e){pl(n,t,e)}break;case 18:null!==Su&&(Tu?(vd(9===(e=Su).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Tp(e)):vd(Su,n.stateNode));break;case 4:r=Su,i=Tu,Su=n.stateNode.containerInfo,Tu=!0,Fu(e,t,n),Su=r,Tu=i;break;case 0:case 11:case 14:case 15:Au||cu(2,n,t),Au||cu(4,n,t),Fu(e,t,n);break;case 1:Au||(fu(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount&&du(n,t,r)),Fu(e,t,n);break;case 21:Fu(e,t,n);break;case 22:Au=(r=Au)||null!==n.memoizedState,Fu(e,t,n),Au=r;break;default:Fu(e,t,n)}}function Pu(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Tp(e)}catch(e){pl(t,t.return,e)}}function Iu(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new ku),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new ku),t;default:throw Error(u(435,e.tag))}}(e);t.forEach((function(t){var r=gl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}function Bu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],a=e,o=t,s=o;e:for(;null!==s;){switch(s.tag){case 27:if(md(s.type)){Su=s.stateNode,Tu=!1;break e}break;case 5:Su=s.stateNode,Tu=!1;break e;case 3:case 4:Su=s.stateNode.containerInfo,Tu=!0;break e}s=s.return}if(null===Su)throw Error(u(160));Ou(a,o,i),Su=null,Tu=!1,null!==(a=i.alternate)&&(a.return=null),i.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Nu(t,e),t=t.sibling}var Ru=null;function Nu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Bu(t,e),Mu(e),4&r&&(cu(3,e,e.return),uu(3,e),cu(5,e,e.return));break;case 1:Bu(t,e),Mu(e),512&r&&(Au||null===n||fu(n,n.return)),64&r&&Du&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=Ru;if(Bu(t,e),Mu(e),512&r&&(Au||null===n||fu(n,n.return)),4&r){var a=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(a=i.getElementsByTagName("title")[0])||a[ze]||a[Be]||"http://www.w3.org/2000/svg"===a.namespaceURI||a.hasAttribute("itemprop"))&&(a=i.createElement(r),i.head.insertBefore(a,i.querySelector("head > title"))),nd(a,r,n),a[Be]=e,$e(a),r=a;break e;case"link":var o=zd("link","href",i).get(r+(n.href||""));if(o)for(var s=0;s<o.length;s++)if((a=o[s]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&a.getAttribute("rel")===(null==n.rel?null:n.rel)&&a.getAttribute("title")===(null==n.title?null:n.title)&&a.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(s,1);break t}nd(a=i.createElement(r),r,n),i.head.appendChild(a);break;case"meta":if(o=zd("meta","content",i).get(r+(n.content||"")))for(s=0;s<o.length;s++)if((a=o[s]).getAttribute("content")===(null==n.content?null:""+n.content)&&a.getAttribute("name")===(null==n.name?null:n.name)&&a.getAttribute("property")===(null==n.property?null:n.property)&&a.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&a.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(s,1);break t}nd(a=i.createElement(r),r,n),i.head.appendChild(a);break;default:throw Error(u(468,r))}a[Be]=e,$e(a),r=a}e.stateNode=r}else Vd(i,e.type,e.stateNode);else e.stateNode=Nd(i,r,e.memoizedProps);else a!==r?(null===a?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):a.count--,null===r?Vd(i,e.type,e.stateNode):Nd(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&mu(e,e.memoizedProps,n.memoizedProps)}break;case 27:Bu(t,e),Mu(e),512&r&&(Au||null===n||fu(n,n.return)),null!==n&&4&r&&mu(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Bu(t,e),Mu(e),512&r&&(Au||null===n||fu(n,n.return)),32&e.flags){i=e.stateNode;try{kt(i,"")}catch(t){pl(e,e.return,t)}}4&r&&null!=e.stateNode&&mu(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(Eu=!0);break;case 6:if(Bu(t,e),Mu(e),4&r){if(null===e.stateNode)throw Error(u(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(t){pl(e,e.return,t)}}break;case 3:if(Ud=null,i=Ru,Ru=_d(t.containerInfo),Bu(t,e),Ru=i,Mu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Tp(t.containerInfo)}catch(t){pl(e,e.return,t)}Eu&&(Eu=!1,Lu(e));break;case 4:r=Ru,Ru=_d(e.stateNode.containerInfo),Bu(t,e),Mu(e),Ru=r;break;case 12:default:Bu(t,e),Mu(e);break;case 13:Bu(t,e),Mu(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==n&&null!==n.memoizedState)&&(Ec=re()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Iu(e,r)));break;case 22:i=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,l=Du,d=Au;if(Du=l||i,Au=d||c,Bu(t,e),Au=d,Du=l,Mu(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||c||Du||Au||Uu(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(a=c.stateNode,i)"function"==typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{s=c.stateNode;var p=c.memoizedProps.style,f=null!=p&&p.hasOwnProperty("display")?p.display:null;s.style.display=null==f||"boolean"==typeof f?"":(""+f).trim()}}catch(e){pl(c,c.return,e)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(e){pl(c,c.return,e)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Iu(e,n))));break;case 19:Bu(t,e),Mu(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Iu(e,r)));case 30:case 21:}}function Mu(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(vu(r)){n=r;break}r=r.return}if(null==n)throw Error(u(160));switch(n.tag){case 27:var i=n.stateNode;bu(e,gu(e),i);break;case 5:var a=n.stateNode;32&n.flags&&(kt(a,""),n.flags&=-33),bu(e,gu(e),a);break;case 3:case 4:var o=n.stateNode.containerInfo;yu(e,gu(e),o);break;default:throw Error(u(161))}}catch(t){pl(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Lu(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Lu(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function ju(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)_u(e,t.alternate,t),t=t.sibling}function Uu(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:cu(4,t,t.return),Uu(t);break;case 1:fu(t,t.return);var n=t.stateNode;"function"==typeof n.componentWillUnmount&&du(t,t.return,n),Uu(t);break;case 27:Ed(t.stateNode);case 26:case 5:fu(t,t.return),Uu(t);break;case 22:null===t.memoizedState&&Uu(t);break;default:Uu(t)}e=e.sibling}}function zu(e,t,n){for(n=n&&!!(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,a=t,o=a.flags;switch(a.tag){case 0:case 11:case 15:zu(i,a,n),uu(4,a);break;case 1:if(zu(i,a,n),"function"==typeof(i=(r=a).stateNode).componentDidMount)try{i.componentDidMount()}catch(e){pl(r,r.return,e)}if(null!==(i=(r=a).updateQueue)){var s=r.stateNode;try{var u=i.shared.hiddenCallbacks;if(null!==u)for(i.shared.hiddenCallbacks=null,i=0;i<u.length;i++)fa(u[i],s)}catch(e){pl(r,r.return,e)}}n&&64&o&&lu(a),pu(a,a.return);break;case 27:wu(a);case 26:case 5:zu(i,a,n),n&&null===r&&4&o&&hu(a),pu(a,a.return);break;case 12:zu(i,a,n);break;case 13:zu(i,a,n),n&&4&o&&Pu(i,a);break;case 22:null===a.memoizedState&&zu(i,a,n),pu(a,a.return);break;case 30:break;default:zu(i,a,n)}t=t.sibling}}function Vu(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Ni(n))}function qu(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ni(e))}function Hu(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Wu(e,t,n,r),t=t.sibling}function Wu(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Hu(e,t,n,r),2048&i&&uu(9,t);break;case 1:case 13:default:Hu(e,t,n,r);break;case 3:Hu(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ni(e)));break;case 12:if(2048&i){Hu(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,o=a.id,s=a.onPostCommit;"function"==typeof s&&s(o,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(e){pl(t,t.return,e)}}else Hu(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,o=t.alternate,null!==t.memoizedState?2&a._visibility?Hu(e,t,n,r):$u(e,t):2&a._visibility?Hu(e,t,n,r):(a._visibility|=2,Ku(e,t,n,r,!!(10256&t.subtreeFlags))),2048&i&&Vu(o,t);break;case 24:Hu(e,t,n,r),2048&i&&qu(t.alternate,t)}}function Ku(e,t,n,r,i){for(i=i&&!!(10256&t.subtreeFlags),t=t.child;null!==t;){var a=e,o=t,s=n,u=r,c=o.flags;switch(o.tag){case 0:case 11:case 15:Ku(a,o,s,u,i),uu(8,o);break;case 23:break;case 22:var l=o.stateNode;null!==o.memoizedState?2&l._visibility?Ku(a,o,s,u,i):$u(a,o):(l._visibility|=2,Ku(a,o,s,u,i)),i&&2048&c&&Vu(o.alternate,o);break;case 24:Ku(a,o,s,u,i),i&&2048&c&&qu(o.alternate,o);break;default:Ku(a,o,s,u,i)}t=t.sibling}}function $u(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:$u(n,r),2048&i&&Vu(r.alternate,r);break;case 24:$u(n,r),2048&i&&qu(r.alternate,r);break;default:$u(n,r)}t=t.sibling}}var Gu=8192;function Qu(e){if(e.subtreeFlags&Gu)for(e=e.child;null!==e;)Yu(e),e=e.sibling}function Yu(e){switch(e.tag){case 26:Qu(e),e.flags&Gu&&null!==e.memoizedState&&function(e,t,n){if(null===Hd)throw Error(u(475));var r=Hd;if(!("stylesheet"!==t.type||"string"==typeof n.media&&!1===matchMedia(n.media).matches||4&t.state.loading)){if(null===t.instance){var a=Od(n.href),o=e.querySelector(Pd(a));if(o)return null!==(e=o._p)&&"object"===i(e)&&"function"==typeof e.then&&(r.count++,r=Kd.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=o,void $e(o);o=e.ownerDocument||e,n=Id(n),(a=kd.get(a))&&Ld(n,a),$e(o=o.createElement("link"));var s=o;s._p=new Promise((function(e,t){s.onload=e,s.onerror=t})),nd(o,"link",n),t.instance=o}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&!(3&t.state.loading)&&(r.count++,t=Kd.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Ru,e.memoizedState,e.memoizedProps);break;case 5:default:Qu(e);break;case 3:case 4:var t=Ru;Ru=_d(e.stateNode.containerInfo),Qu(e),Ru=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Gu,Gu=16777216,Qu(e),Gu=t):Qu(e))}}function Xu(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Zu(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Cu=r,tc(r,e)}Xu(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Ju(e),e=e.sibling}function Ju(e){switch(e.tag){case 0:case 11:case 15:Zu(e),2048&e.flags&&cu(9,e,e.return);break;case 3:case 12:default:Zu(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,ec(e)):Zu(e)}}function ec(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Cu=r,tc(r,e)}Xu(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:cu(8,t,t.return),ec(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,ec(t));break;default:ec(t)}e=e.sibling}}function tc(e,t){for(;null!==Cu;){var n=Cu;switch(n.tag){case 0:case 11:case 15:cu(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Ni(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Cu=r;else e:for(n=e;null!==Cu;){var i=(r=Cu).sibling,a=r.return;if(xu(r),r===n){Cu=null;break e}if(null!==i){i.return=a,Cu=i;break e}Cu=a}}}var nc={getCacheForType:function(e){var t=Si(Bi),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},rc="function"==typeof WeakMap?WeakMap:Map,ic=0,ac=null,oc=null,sc=0,uc=0,cc=null,lc=!1,dc=!1,pc=!1,fc=0,hc=0,mc=0,vc=0,gc=0,yc=0,bc=0,wc=null,Dc=null,Ac=!1,Ec=0,kc=1/0,Cc=null,_c=null,xc=0,Sc=null,Tc=null,Fc=0,Oc=0,Pc=null,Ic=null,Bc=0,Rc=null;function Nc(){if(2&ic&&0!==sc)return sc&-sc;if(null!==N.T){return 0!==ji?ji:Ol()}return Pe()}function Mc(){0===yc&&(yc=536870912&sc&&!si?536870912:ke());var e=os.current;return null!==e&&(e.flags|=32),yc}function Lc(e,t,n){(e!==ac||2!==uc&&9!==uc)&&null===e.cancelPendingCommit||(Wc(e,0),Vc(e,sc,yc,!1)),xe(e,n),2&ic&&e===ac||(e===ac&&(!(2&ic)&&(vc|=n),4===hc&&Vc(e,sc,yc,!1)),kl(e))}function jc(e,t,n){if(6&ic)throw Error(u(327));for(var r=!n&&!(124&t)&&!(t&e.expiredLanes)||Ae(e,t),i=r?function(e,t){var n=ic;ic|=2;var r=$c(),i=Gc();ac!==e||sc!==t?(Cc=null,kc=re()+500,Wc(e,t)):dc=Ae(e,t);e:for(;;)try{if(0!==uc&&null!==oc){t=oc;var a=cc;t:switch(uc){case 1:uc=0,cc=null,tl(e,t,a,1);break;case 2:case 9:if(Xi(a)){uc=0,cc=null,el(t);break}t=function(){2!==uc&&9!==uc||ac!==e||(uc=7),kl(e)},a.then(t,t);break e;case 3:uc=7;break e;case 4:uc=5;break e;case 7:Xi(a)?(uc=0,cc=null,el(t)):(uc=0,cc=null,tl(e,t,a,7));break;case 5:var o=null;switch(oc.tag){case 26:o=oc.memoizedState;case 5:case 27:var s=oc;if(!o||qd(o)){uc=0,cc=null;var c=s.sibling;if(null!==c)oc=c;else{var l=s.return;null!==l?(oc=l,nl(l)):oc=null}break t}}uc=0,cc=null,tl(e,t,a,5);break;case 6:uc=0,cc=null,tl(e,t,a,6);break;case 8:Hc(),hc=6;break e;default:throw Error(u(462))}}Zc();break}catch(t){Kc(e,t)}return wi=bi=null,N.H=r,N.A=i,ic=n,null!==oc?0:(ac=null,sc=0,Fr(),hc)}(e,t):Yc(e,t,!0),a=r;;){if(0===i){dc&&!r&&Vc(e,t,0,!1);break}if(n=e.current.alternate,!a||zc(n)){if(2===i){if(a=t,e.errorRecoveryDisabledLanes&a)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var s=e;i=wc;var c=s.current.memoizedState.isDehydrated;if(c&&(Wc(s,o).flags|=256),2!==(o=Yc(s,o,!1))){if(pc&&!c){s.errorRecoveryDisabledLanes|=a,vc|=a,i=4;break e}a=Dc,Dc=i,null!==a&&(null===Dc?Dc=a:Dc.push.apply(Dc,a))}i=o}if(a=!1,2!==i)continue}}if(1===i){Wc(e,0),Vc(e,t,0,!0);break}e:{switch(r=e,a=i){case 0:case 1:throw Error(u(345));case 4:if((4194048&t)!==t)break;case 6:Vc(r,t,yc,!lc);break e;case 2:Dc=null;break;case 3:case 5:break;default:throw Error(u(329))}if((62914560&t)===t&&10<(i=Ec+300-re())){if(Vc(r,t,yc,!lc),0!==De(r,0,!0))break e;r.timeoutHandle=ld(Uc.bind(null,r,n,Dc,Cc,Ac,t,yc,vc,bc,lc,a,2,-0,0),i)}else Uc(r,n,Dc,Cc,Ac,t,yc,vc,bc,lc,a,0,-0,0)}break}i=Yc(e,t,!1),a=!1}kl(e)}function Uc(e,t,n,r,i,a,o,s,c,l,d,p,f,h){if(e.timeoutHandle=-1,(8192&(p=t.subtreeFlags)||!(16785408&~p))&&(Hd={stylesheets:null,count:0,unsuspend:Wd},Yu(t),null!==(p=function(){if(null===Hd)throw Error(u(475));var e=Hd;return e.stylesheets&&0===e.count&&Gd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout((function(){if(e.stylesheets&&Gd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}}),6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=p(il.bind(null,e,t,a,n,r,i,o,s,c,d,1,f,h)),void Vc(e,a,o,!l);il(e,t,a,n,r,i,o,s,c)}function zc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Xn(a(),i))return!1}catch(e){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Vc(e,t,n,r){t&=~gc,t&=~vc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var a=31-me(i),o=1<<a;r[a]=-1,i&=~o}0!==n&&Se(e,n,t)}function qc(){return!!(6&ic)||(Cl(0,!1),!1)}function Hc(){if(null!==oc){if(0===uc)var e=oc.return;else wi=bi=null,ja(e=oc),Xo=null,Zo=0,e=oc;for(;null!==e;)su(e.alternate,e),e=e.return;oc=null}}function Wc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,dd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Hc(),ac=e,oc=n=Ur(e.current,null),sc=t,uc=0,cc=null,lc=!1,dc=Ae(e,t),pc=!1,bc=yc=gc=vc=mc=hc=0,Dc=wc=null,Ac=!1,8&t&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-me(r),a=1<<i;t|=e[i],r&=~a}return fc=t,Fr(),n}function Kc(e,t){Da=null,N.H=$o,t===$i||t===Qi?(t=ta(),uc=3):t===Gi?(t=ta(),uc=4):uc=t===Ss?8:null!==t&&"object"===i(t)&&"function"==typeof t.then?6:1,cc=t,null===oc&&(hc=1,Es(e,_r(t,e.current)))}function $c(){var e=N.H;return N.H=$o,null===e?$o:e}function Gc(){var e=N.A;return N.A=nc,e}function Qc(){hc=4,lc||(4194048&sc)!==sc&&null!==os.current||(dc=!0),!(134217727&mc)&&!(134217727&vc)||null===ac||Vc(ac,sc,yc,!1)}function Yc(e,t,n){var r=ic;ic|=2;var i=$c(),a=Gc();ac===e&&sc===t||(Cc=null,Wc(e,t)),t=!1;var o=hc;e:for(;;)try{if(0!==uc&&null!==oc){var s=oc,u=cc;switch(uc){case 8:Hc(),o=6;break e;case 3:case 2:case 9:case 6:null===os.current&&(t=!0);var c=uc;if(uc=0,cc=null,tl(e,s,u,c),n&&dc){o=0;break e}break;default:c=uc,uc=0,cc=null,tl(e,s,u,c)}}Xc(),o=hc;break}catch(t){Kc(e,t)}return t&&e.shellSuspendCounter++,wi=bi=null,ic=r,N.H=i,N.A=a,null===oc&&(ac=null,sc=0,Fr()),o}function Xc(){for(;null!==oc;)Jc(oc)}function Zc(){for(;null!==oc&&!te();)Jc(oc)}function Jc(e){var t=Js(e.alternate,e,fc);e.memoizedProps=e.pendingProps,null===t?nl(e):oc=t}function el(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ls(n,t,t.pendingProps,t.type,void 0,sc);break;case 11:t=Ls(n,t,t.pendingProps,t.type.render,t.ref,sc);break;case 5:ja(t);default:su(n,t),t=Js(n,t=oc=zr(t,fc),fc)}e.memoizedProps=e.pendingProps,null===t?nl(e):oc=t}function tl(e,t,n,r){wi=bi=null,ja(t),Xo=null,Zo=0;var a=t.return;try{if(function(e,t,n,r,a){if(n.flags|=32768,null!==r&&"object"===i(r)&&"function"==typeof r.then){if(null!==(t=n.alternate)&&Ci(t,n,a,!0),null!==(n=os.current)){switch(n.tag){case 13:return null===ss?Qc():null===n.alternate&&0===hc&&(hc=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===Yi?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),fl(e,r,a)),!1;case 22:return n.flags|=65536,r===Yi?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),fl(e,r,a)),!1}throw Error(u(435,n.tag))}return fl(e,r,a),Qc(),!1}if(si)return null!==(t=os.current)?(!(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=a,r!==li&&gi(_r(e=Error(u(422),{cause:r}),n))):(r!==li&&gi(_r(t=Error(u(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,a&=-a,e.lanes|=a,r=_r(r,n),ca(e,a=Cs(e.stateNode,r,a)),4!==hc&&(hc=2)),!1;var o=Error(u(520),{cause:r});if(o=_r(o,n),null===wc?wc=[o]:wc.push(o),4!==hc&&(hc=2),null===t)return!0;r=_r(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,ca(n,e=Cs(n.stateNode,r,e)),!1;case 1:if(t=n.type,o=n.stateNode,!(128&n.flags||"function"!=typeof t.getDerivedStateFromError&&(null===o||"function"!=typeof o.componentDidCatch||null!==_c&&_c.has(o))))return n.flags|=65536,a&=-a,n.lanes|=a,xs(a=_s(a),e,n,r),ca(n,a),!1}n=n.return}while(null!==n);return!1}(e,a,t,n,sc))return hc=1,Es(e,_r(n,e.current)),void(oc=null)}catch(t){if(null!==a)throw oc=a,t;return hc=1,Es(e,_r(n,e.current)),void(oc=null)}32768&t.flags?(si||1===r?e=!0:dc||536870912&sc?e=!1:(lc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=os.current)&&13===r.tag&&(r.flags|=16384))),rl(t,e)):nl(t)}function nl(e){var t=e;do{if(32768&t.flags)return void rl(t,lc);e=t.return;var n=au(t.alternate,t,fc);if(null!==n)return void(oc=n);if(null!==(t=t.sibling))return void(oc=t);oc=t=e}while(null!==t);0===hc&&(hc=5)}function rl(e,t){do{var n=ou(e.alternate,e);if(null!==n)return n.flags&=32767,void(oc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(oc=e);oc=e=n}while(null!==e);hc=6,oc=null}function il(e,t,n,r,i,a,o,s,c){e.cancelPendingCommit=null;do{cl()}while(0!==xc);if(6&ic)throw Error(u(327));if(null!==t){if(t===e.current)throw Error(u(177));if(a=t.lanes|t.childLanes,function(e,t,n,r,i,a){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,u=e.expirationTimes,c=e.hiddenUpdates;for(n=o&~n;0<n;){var l=31-me(n),d=1<<l;s[l]=0,u[l]=-1;var p=c[l];if(null!==p)for(c[l]=null,l=0;l<p.length;l++){var f=p[l];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&Se(e,r,0),0!==a&&0===i&&0!==e.tag&&(e.suspendedLanes|=a&~(o&~t))}(e,n,a|=Tr,o,s,c),e===ac&&(oc=ac=null,sc=0),Tc=t,Sc=e,Fc=n,Oc=a,Pc=i,Ic=r,10256&t.subtreeFlags||10256&t.flags?(e.callbackNode=null,e.callbackPriority=0,J(se,(function(){return ll(),null}))):(e.callbackNode=null,e.callbackPriority=0),r=!!(13878&t.flags),13878&t.subtreeFlags||r){r=N.T,N.T=null,i=M.p,M.p=2,o=ic,ic|=4;try{!function(e,t){if(e=e.containerInfo,rd=ip,rr(e=nr(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(e){n=null;break e}var o=0,s=-1,c=-1,l=0,d=0,p=e,f=null;t:for(;;){for(var h;p!==n||0!==i&&3!==p.nodeType||(s=o+i),p!==a||0!==r&&3!==p.nodeType||(c=o+r),3===p.nodeType&&(o+=p.nodeValue.length),null!==(h=p.firstChild);)f=p,p=h;for(;;){if(p===e)break t;if(f===n&&++l===i&&(s=o),f===a&&++d===r&&(c=o),null!==(h=p.nextSibling))break;f=(p=f).parentNode}p=h}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(id={focusedElem:e,selectionRange:n},ip=!1,Cu=t;null!==Cu;)if(e=(t=Cu).child,1024&t.subtreeFlags&&null!==e)e.return=t,Cu=e;else for(;null!==Cu;){switch(a=(t=Cu).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&e&&null!==a){e=void 0,n=t,i=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var m=ys(n.type,i,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(m,a),r.__reactInternalSnapshotBeforeUpdate=e}catch(e){pl(n,n.return,e)}}break;case 3:if(1024&e)if(9===(n=(e=t.stateNode.containerInfo).nodeType))gd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":gd(e);break;default:e.textContent=""}break;default:if(1024&e)throw Error(u(163))}if(null!==(e=t.sibling)){e.return=t.return,Cu=e;break}Cu=t.return}}(e,t)}finally{ic=o,M.p=i,N.T=r}}xc=1,al(),ol(),sl()}}function al(){if(1===xc){xc=0;var e=Sc,t=Tc,n=!!(13878&t.flags);if(13878&t.subtreeFlags||n){n=N.T,N.T=null;var r=M.p;M.p=2;var i=ic;ic|=4;try{Nu(t,e);var a=id,o=nr(e.containerInfo),s=a.focusedElem,u=a.selectionRange;if(o!==s&&s&&s.ownerDocument&&tr(s.ownerDocument.documentElement,s)){if(null!==u&&rr(s)){var c=u.start,l=u.end;if(void 0===l&&(l=c),"selectionStart"in s)s.selectionStart=c,s.selectionEnd=Math.min(l,s.value.length);else{var d=s.ownerDocument||document,p=d&&d.defaultView||window;if(p.getSelection){var f=p.getSelection(),h=s.textContent.length,m=Math.min(u.start,h),v=void 0===u.end?m:Math.min(u.end,h);!f.extend&&m>v&&(o=v,v=m,m=o);var g=er(s,m),y=er(s,v);if(g&&y&&(1!==f.rangeCount||f.anchorNode!==g.node||f.anchorOffset!==g.offset||f.focusNode!==y.node||f.focusOffset!==y.offset)){var b=d.createRange();b.setStart(g.node,g.offset),f.removeAllRanges(),m>v?(f.addRange(b),f.extend(y.node,y.offset)):(b.setEnd(y.node,y.offset),f.addRange(b))}}}}for(d=[],f=s;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"==typeof s.focus&&s.focus(),s=0;s<d.length;s++){var w=d[s];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}ip=!!rd,id=rd=null}finally{ic=i,M.p=r,N.T=n}}e.current=t,xc=2}}function ol(){if(2===xc){xc=0;var e=Sc,t=Tc,n=!!(8772&t.flags);if(8772&t.subtreeFlags||n){n=N.T,N.T=null;var r=M.p;M.p=2;var i=ic;ic|=4;try{_u(e,t.alternate,t)}finally{ic=i,M.p=r,N.T=n}}xc=3}}function sl(){if(4===xc||3===xc){xc=0,ne();var e=Sc,t=Tc,n=Fc,r=Ic;10256&t.subtreeFlags||10256&t.flags?xc=5:(xc=0,Tc=Sc=null,ul(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(_c=null),Oe(n),t=t.stateNode,fe&&"function"==typeof fe.onCommitFiberRoot)try{fe.onCommitFiberRoot(pe,t,void 0,!(128&~t.current.flags))}catch(e){}if(null!==r){t=N.T,i=M.p,M.p=2,N.T=null;try{for(var a=e.onRecoverableError,o=0;o<r.length;o++){var s=r[o];a(s.value,{componentStack:s.stack})}}finally{N.T=t,M.p=i}}3&Fc&&cl(),kl(e),i=e.pendingLanes,4194090&n&&42&i?e===Rc?Bc++:(Bc=0,Rc=e):Bc=0,Cl(0,!1)}}function ul(e,t){0==(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Ni(t)))}function cl(e){return al(),ol(),sl(),ll()}function ll(){if(5!==xc)return!1;var e=Sc,t=Oc;Oc=0;var n=Oe(Fc),r=N.T,i=M.p;try{M.p=32>n?32:n,N.T=null,n=Pc,Pc=null;var a=Sc,o=Fc;if(xc=0,Tc=Sc=null,Fc=0,6&ic)throw Error(u(331));var s=ic;if(ic|=4,Ju(a.current),Wu(a,a.current,o,n),ic=s,Cl(0,!1),fe&&"function"==typeof fe.onPostCommitFiberRoot)try{fe.onPostCommitFiberRoot(pe,a)}catch(e){}return!0}finally{M.p=i,N.T=r,ul(e,t)}}function dl(e,t,n){t=_r(n,t),null!==(e=sa(e,t=Cs(e.stateNode,t,2),2))&&(xe(e,2),kl(e))}function pl(e,t,n){if(3===e.tag)dl(e,e,n);else for(;null!==t;){if(3===t.tag){dl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===_c||!_c.has(r))){e=_r(n,e),null!==(r=sa(t,n=_s(2),2))&&(xs(n,r,t,e),xe(r,2),kl(r));break}}t=t.return}}function fl(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new rc;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(pc=!0,i.add(n),e=hl.bind(null,e,t,n),t.then(e,e))}function hl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ac===e&&(sc&n)===n&&(4===hc||3===hc&&(62914560&sc)===sc&&300>re()-Ec?!(2&ic)&&Wc(e,0):gc|=n,bc===sc&&(bc=0)),kl(e)}function ml(e,t){0===t&&(t=Ce()),null!==(e=Ir(e,t))&&(xe(e,t),kl(e))}function vl(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),ml(e,n)}function gl(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(u(314))}null!==r&&r.delete(t),ml(e,n)}var yl=null,bl=null,wl=!1,Dl=!1,Al=!1,El=0;function kl(e){e!==bl&&null===e.next&&(null===bl?yl=bl=e:bl=bl.next=e),Dl=!0,wl||(wl=!0,fd((function(){6&ic?J(ae,_l):xl()})))}function Cl(e,t){if(!Al&&Dl){Al=!0;do{for(var n=!1,r=yl;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var a=0;else{var o=r.suspendedLanes,s=r.pingedLanes;a=(1<<31-me(42|e)+1)-1,a=201326741&(a&=i&~(o&~s))?201326741&a|1:a?2|a:0}0!==a&&(n=!0,Fl(r,a))}else a=sc,!(3&(a=De(r,r===ac?a:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||Ae(r,a)||(n=!0,Fl(r,a));r=r.next}}while(n);Al=!1}}function _l(){xl()}function xl(){Dl=wl=!1;var e=0;0!==El&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==cd&&(cd=e,!0);return cd=null,!1}()&&(e=El),El=0);for(var t=re(),n=null,r=yl;null!==r;){var i=r.next,a=Sl(r,t);0===a?(r.next=null,null===n?yl=i:n.next=i,null===i&&(bl=n)):(n=r,(0!==e||3&a)&&(Dl=!0)),r=i}Cl(e,!1)}function Sl(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=-62914561&e.pendingLanes;0<a;){var o=31-me(a),s=1<<o,u=i[o];-1===u?s&n&&!(s&r)||(i[o]=Ee(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}if(n=sc,n=De(e,e===(t=ac)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===uc||9===uc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&ee(r),e.callbackNode=null,e.callbackPriority=0;if(!(3&n)||Ae(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&ee(r),Oe(n)){case 2:case 8:n=oe;break;case 32:default:n=se;break;case 268435456:n=ce}return r=Tl.bind(null,e),n=J(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&ee(r),e.callbackPriority=2,e.callbackNode=null,2}function Tl(e,t){if(0!==xc&&5!==xc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(cl()&&e.callbackNode!==n)return null;var r=sc;return 0===(r=De(e,e===ac?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(jc(e,r,t),Sl(e,re()),null!=e.callbackNode&&e.callbackNode===n?Tl.bind(null,e):null)}function Fl(e,t){if(cl())return null;jc(e,t,!0)}function Ol(){return 0===El&&(El=ke()),El}function Pl(e){return null==e||"symbol"===i(e)||"boolean"==typeof e?null:"function"==typeof e?e:Ot(""+e)}function Il(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Bl=0;Bl<Er.length;Bl++){var Rl=Er[Bl];kr(Rl.toLowerCase(),"on"+(Rl[0].toUpperCase()+Rl.slice(1)))}kr(mr,"onAnimationEnd"),kr(vr,"onAnimationIteration"),kr(gr,"onAnimationStart"),kr("dblclick","onDoubleClick"),kr("focusin","onFocus"),kr("focusout","onBlur"),kr(yr,"onTransitionRun"),kr(br,"onTransitionStart"),kr(wr,"onTransitionCancel"),kr(Dr,"onTransitionEnd"),Xe("onMouseEnter",["mouseout","mouseover"]),Xe("onMouseLeave",["mouseout","mouseover"]),Xe("onPointerEnter",["pointerout","pointerover"]),Xe("onPointerLeave",["pointerout","pointerover"]),Ye("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ye("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ye("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ye("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ye("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ye("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ml=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nl));function Ll(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;a=s,i.currentTarget=c;try{a(i)}catch(e){bs(e)}i.currentTarget=null,a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;a=s,i.currentTarget=c;try{a(i)}catch(e){bs(e)}i.currentTarget=null,a=u}}}}function jl(e,t){var n=t[Me];void 0===n&&(n=t[Me]=new Set);var r=e+"__bubble";n.has(r)||(ql(t,e,2,!1),n.add(r))}function Ul(e,t,n){var r=0;t&&(r|=4),ql(n,e,r,t)}var zl="_reactListening"+Math.random().toString(36).slice(2);function Vl(e){if(!e[zl]){e[zl]=!0,Ge.forEach((function(t){"selectionchange"!==t&&(Ml.has(t)||Ul(t,!1,e),Ul(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zl]||(t[zl]=!0,Ul("selectionchange",!1,t))}}function ql(e,t,n,r){switch(dp(t)){case 2:var i=ap;break;case 8:i=op;break;default:i=sp}n=i.bind(null,t,n,e),i=void 0,!zt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hl(e,t,n,r,i){var a=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&o.stateNode.containerInfo===i)return;o=o.return}for(;null!==s;){if(null===(o=qe(s)))return;if(5===(u=o.tag)||6===u||26===u||27===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Lt((function(){var r=a,i=It(n),o=[];e:{var s=Ar.get(e);if(void 0!==s){var u=tn,c=e;switch(e){case"keypress":if(0===$t(n))break e;case"keydown":case"keyup":u=gn;break;case"focusin":c="focus",u=un;break;case"focusout":c="blur",u=un;break;case"beforeblur":case"afterblur":u=un;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=on;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=sn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=bn;break;case mr:case vr:case gr:u=cn;break;case Dr:u=wn;break;case"scroll":case"scrollend":u=rn;break;case"wheel":u=Dn;break;case"copy":case"cut":case"paste":u=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=yn;break;case"toggle":case"beforetoggle":u=An}var d=!!(4&t),p=!d&&("scroll"===e||"scrollend"===e),f=d?null!==s?s+"Capture":null:s;d=[];for(var h,m=r;null!==m;){var v=m;if(h=v.stateNode,5!==(v=v.tag)&&26!==v&&27!==v||null===h||null===f||null!=(v=jt(m,f))&&d.push(Wl(m,v,h)),p)break;m=m.return}0<d.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:d}))}}if(!(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===Pt||!(c=n.relatedTarget||n.fromElement)||!qe(c)&&!c[Ne])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?qe(c):null)&&(p=l(c),d=c.tag,c!==p||5!==d&&27!==d&&6!==d)&&(c=null)):(u=null,c=r),u!==c)){if(d=on,v="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=yn,v="onPointerLeave",f="onPointerEnter",m="pointer"),p=null==u?s:We(u),h=null==c?s:We(c),(s=new d(v,m+"leave",u,n,i)).target=p,s.relatedTarget=h,v=null,qe(i)===r&&((d=new d(f,m+"enter",c,n,i)).target=h,d.relatedTarget=p,v=d),p=v,u&&c)e:{for(f=c,m=0,h=d=u;h;h=$l(h))m++;for(h=0,v=f;v;v=$l(v))h++;for(;0<m-h;)d=$l(d),m--;for(;0<h-m;)f=$l(f),h--;for(;m--;){if(d===f||null!==f&&d===f.alternate)break e;d=$l(d),f=$l(f)}d=null}else d=null;null!==u&&Gl(o,s,u,d,!1),null!==c&&null!==p&&Gl(o,p,c,d,!0)}if("select"===(u=(s=r?We(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var g=Un;else if(Bn(s))if(zn)g=Yn;else{g=Gn;var y=$n}else!(u=s.nodeName)||"input"!==u.toLowerCase()||"checkbox"!==s.type&&"radio"!==s.type?r&&St(r.elementType)&&(g=Un):g=Qn;switch(g&&(g=g(e,r))?Rn(o,g,n,i):(y&&y(e,s,r),"focusout"===e&&r&&"number"===s.type&&null!=r.memoizedProps.value&&wt(s,"number",s.value)),y=r?We(r):window,e){case"focusin":(Bn(y)||"true"===y.contentEditable)&&(ar=y,or=r,sr=null);break;case"focusout":sr=or=ar=null;break;case"mousedown":ur=!0;break;case"contextmenu":case"mouseup":case"dragend":ur=!1,cr(o,n,i);break;case"selectionchange":if(ir)break;case"keydown":case"keyup":cr(o,n,i)}var b;if(kn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Pn?Fn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(xn&&"ko"!==n.locale&&(Pn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Pn&&(b=Kt()):(Ht="value"in(qt=i)?qt.value:qt.textContent,Pn=!0)),0<(y=Kl(r,w)).length&&(w=new dn(w,e,null,n,i),o.push({event:w,listeners:y}),b?w.data=b:null!==(b=On(n))&&(w.data=b))),(b=_n?function(e,t){switch(e){case"compositionend":return On(t);case"keypress":return 32!==t.which?null:(Tn=!0,Sn);case"textInput":return(e=t.data)===Sn&&Tn?null:e;default:return null}}(e,n):function(e,t){if(Pn)return"compositionend"===e||!kn&&Fn(e,t)?(e=Kt(),Wt=Ht=qt=null,Pn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return xn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(w=Kl(r,"onBeforeInput")).length&&(y=new dn("onBeforeInput","beforeinput",null,n,i),o.push({event:y,listeners:w}),y.data=b)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var a=Pl((i[Re]||null).action),o=r.submitter;o&&null!==(t=(t=o[Re]||null)?Pl(t.formAction):o.getAttribute("formAction"))&&(a=t,o=null);var s=new tn("action","action",null,r,i);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==El){var e=o?Il(i,o):new FormData(i);Io(n,{pending:!0,data:e,method:i.method,action:a},null,e)}}else"function"==typeof a&&(s.preventDefault(),e=o?Il(i,o):new FormData(i),Io(n,{pending:!0,data:e,method:i.method,action:a},a,e))},currentTarget:i}]})}}(o,e,r,n,i)}Ll(o,t)}))}function Wl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kl(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===a||(null!=(i=jt(e,n))&&r.unshift(Wl(e,i,a)),null!=(i=jt(e,t))&&r.push(Wl(e,i,a))),3===e.tag)return r;e=e.return}return[]}function $l(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Gl(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(s=s.tag,null!==u&&u===r)break;5!==s&&26!==s&&27!==s||null===c||(u=c,i?null!=(c=jt(n,a))&&o.unshift(Wl(n,c,u)):i||null!=(c=jt(n,a))&&o.push(Wl(n,c,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Ql=/\r\n?/g,Yl=/\u0000|\uFFFD/g;function Xl(e){return("string"==typeof e?e:""+e).replace(Ql,"\n").replace(Yl,"")}function Zl(e,t){return t=Xl(t),Xl(e)===t}function Jl(){}function ed(e,t,n,r,a,o){switch(n){case"children":"string"==typeof r?"body"===t||"textarea"===t&&""===r||kt(e,r):("number"==typeof r||"bigint"==typeof r)&&"body"!==t&&kt(e,""+r);break;case"className":it(e,"class",r);break;case"tabIndex":it(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":it(e,n,r);break;case"style":xt(e,r,o);break;case"data":if("object"!==t){it(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"==typeof r||"symbol"===i(r)||"boolean"==typeof r){e.removeAttribute(n);break}r=Ot(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"==typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof o&&("formAction"===n?("input"!==t&&ed(e,t,"name",a.name,a,null),ed(e,t,"formEncType",a.formEncType,a,null),ed(e,t,"formMethod",a.formMethod,a,null),ed(e,t,"formTarget",a.formTarget,a,null)):(ed(e,t,"encType",a.encType,a,null),ed(e,t,"method",a.method,a,null),ed(e,t,"target",a.target,a,null))),null==r||"symbol"===i(r)||"boolean"==typeof r){e.removeAttribute(n);break}r=Ot(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Jl);break;case"onScroll":null!=r&&jl("scroll",e);break;case"onScrollEnd":null!=r&&jl("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==i(r)||!("__html"in r))throw Error(u(61));if(null!=(n=r.__html)){if(null!=a.children)throw Error(u(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!=typeof r&&"symbol"!==i(r);break;case"muted":e.muted=r&&"function"!=typeof r&&"symbol"!==i(r);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"==typeof r||"boolean"==typeof r||"symbol"===i(r)){e.removeAttribute("xlink:href");break}n=Ot(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!=typeof r&&"symbol"!==i(r)?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!=typeof r&&"symbol"!==i(r)?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!=typeof r&&"symbol"!==i(r)?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!=typeof r&&"symbol"!==i(r)&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"==typeof r||"symbol"===i(r)||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":jl("beforetoggle",e),jl("toggle",e),rt(e,"popover",r);break;case"xlinkActuate":at(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":at(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":at(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":at(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":at(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":at(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":at(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":at(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":at(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":rt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&rt(e,n=Tt.get(n)||n,r)}}function td(e,t,n,r,a,o){switch(n){case"style":xt(e,r,o);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==i(r)||!("__html"in r))throw Error(u(61));if(null!=(n=r.__html)){if(null!=a.children)throw Error(u(60));e.innerHTML=n}}break;case"children":"string"==typeof r?kt(e,r):("number"==typeof r||"bigint"==typeof r)&&kt(e,""+r);break;case"onScroll":null!=r&&jl("scroll",e);break;case"onScrollEnd":null!=r&&jl("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Jl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Qe.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(a=n.endsWith("Capture"),t=n.slice(2,a?n.length-7:void 0),"function"==typeof(o=null!=(o=e[Re]||null)?o[n]:null)&&e.removeEventListener(t,o,a),"function"!=typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):rt(e,n,r):("function"!=typeof o&&null!==o&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,a)))}}function nd(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":jl("error",e),jl("load",e);var r,a=!1,o=!1;for(r in n)if(n.hasOwnProperty(r)){var s=n[r];if(null!=s)switch(r){case"src":a=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(u(137,t));default:ed(e,t,r,s,n,null)}}return o&&ed(e,t,"srcSet",n.srcSet,n,null),void(a&&ed(e,t,"src",n.src,n,null));case"input":jl("invalid",e);var c=r=s=o=null,l=null,d=null;for(a in n)if(n.hasOwnProperty(a)){var p=n[a];if(null!=p)switch(a){case"name":o=p;break;case"type":s=p;break;case"checked":l=p;break;case"defaultChecked":d=p;break;case"value":r=p;break;case"defaultValue":c=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(u(137,t));break;default:ed(e,t,a,p,n,null)}}return bt(e,r,c,l,d,s,o,!1),void ft(e);case"select":for(o in jl("invalid",e),a=s=r=null,n)if(n.hasOwnProperty(o)&&null!=(c=n[o]))switch(o){case"value":r=c;break;case"defaultValue":s=c;break;case"multiple":a=c;default:ed(e,t,o,c,n,null)}return t=r,n=s,e.multiple=!!a,void(null!=t?Dt(e,!!a,t,!1):null!=n&&Dt(e,!!a,n,!0));case"textarea":for(s in jl("invalid",e),r=o=a=null,n)if(n.hasOwnProperty(s)&&null!=(c=n[s]))switch(s){case"value":a=c;break;case"defaultValue":o=c;break;case"children":r=c;break;case"dangerouslySetInnerHTML":if(null!=c)throw Error(u(91));break;default:ed(e,t,s,c,n,null)}return Et(e,a,o,r),void ft(e);case"option":for(l in n)if(n.hasOwnProperty(l)&&null!=(a=n[l]))if("selected"===l)e.selected=a&&"function"!=typeof a&&"symbol"!==i(a);else ed(e,t,l,a,n,null);return;case"dialog":jl("beforetoggle",e),jl("toggle",e),jl("cancel",e),jl("close",e);break;case"iframe":case"object":jl("load",e);break;case"video":case"audio":for(a=0;a<Nl.length;a++)jl(Nl[a],e);break;case"image":jl("error",e),jl("load",e);break;case"details":jl("toggle",e);break;case"embed":case"source":case"link":jl("error",e),jl("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(d in n)if(n.hasOwnProperty(d)&&null!=(a=n[d]))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(u(137,t));default:ed(e,t,d,a,n,null)}return;default:if(St(t)){for(p in n)n.hasOwnProperty(p)&&(void 0!==(a=n[p])&&td(e,t,p,a,n,void 0));return}}for(c in n)n.hasOwnProperty(c)&&(null!=(a=n[c])&&ed(e,t,c,a,n,null))}var rd=null,id=null;function ad(e){return 9===e.nodeType?e:e.ownerDocument}function od(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function ud(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"bigint"==typeof t.children||"object"===i(t.dangerouslySetInnerHTML)&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var cd=null;var ld="function"==typeof setTimeout?setTimeout:void 0,dd="function"==typeof clearTimeout?clearTimeout:void 0,pd="function"==typeof Promise?Promise:void 0,fd="function"==typeof queueMicrotask?queueMicrotask:void 0!==pd?function(e){return pd.resolve(null).then(e).catch(hd)}:ld;function hd(e){setTimeout((function(){throw e}))}function md(e){return"head"===e}function vd(e,t){var n=t,r=0,i=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0<r&&8>r){n=r;var o=e.ownerDocument;if(1&n&&Ed(o.documentElement),2&n&&Ed(o.body),4&n)for(Ed(n=o.head),o=n.firstChild;o;){var s=o.nextSibling,u=o.nodeName;o[ze]||"SCRIPT"===u||"STYLE"===u||"LINK"===u&&"stylesheet"===o.rel.toLowerCase()||n.removeChild(o),o=s}}if(0===i)return e.removeChild(a),void Tp(t);i--}else"$"===n||"$?"===n||"$!"===n?i++:r=n.charCodeAt(0)-48;else r=0;n=a}while(n);Tp(t)}function gd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":gd(n),Ve(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function yd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function bd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var wd=null;function Dd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function Ad(e,t,n){switch(t=ad(n),e){case"html":if(!(e=t.documentElement))throw Error(u(452));return e;case"head":if(!(e=t.head))throw Error(u(453));return e;case"body":if(!(e=t.body))throw Error(u(454));return e;default:throw Error(u(451))}}function Ed(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ve(e)}var kd=new Map,Cd=new Set;function _d(e){return"function"==typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var xd=M.d;M.d={f:function(){var e=xd.f(),t=qc();return e||t},r:function(e){var t=He(e);null!==t&&5===t.tag&&"form"===t.type?Ro(t):xd.r(e)},D:function(e){xd.D(e),Td("dns-prefetch",e,null)},C:function(e,t){xd.C(e,t),Td("preconnect",e,t)},L:function(e,t,n){xd.L(e,t,n);var r=Sd;if(r&&e&&t){var i='link[rel="preload"][as="'+gt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+gt(n.imageSrcSet)+'"]',"string"==typeof n.imageSizes&&(i+='[imagesizes="'+gt(n.imageSizes)+'"]')):i+='[href="'+gt(e)+'"]';var a=i;switch(t){case"style":a=Od(e);break;case"script":a=Bd(e)}kd.has(a)||(e=h({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),kd.set(a,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Pd(a))||"script"===t&&r.querySelector(Rd(a))||(nd(t=r.createElement("link"),"link",e),$e(t),r.head.appendChild(t)))}},m:function(e,t){xd.m(e,t);var n=Sd;if(n&&e){var r=t&&"string"==typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+gt(r)+'"][href="'+gt(e)+'"]',a=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Bd(e)}if(!kd.has(a)&&(e=h({rel:"modulepreload",href:e},t),kd.set(a,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Rd(a)))return}nd(r=n.createElement("link"),"link",e),$e(r),n.head.appendChild(r)}}},X:function(e,t){xd.X(e,t);var n=Sd;if(n&&e){var r=Ke(n).hoistableScripts,i=Bd(e),a=r.get(i);a||((a=n.querySelector(Rd(i)))||(e=h({src:e,async:!0},t),(t=kd.get(i))&&jd(e,t),$e(a=n.createElement("script")),nd(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}},S:function(e,t,n){xd.S(e,t,n);var r=Sd;if(r&&e){var i=Ke(r).hoistableStyles,a=Od(e);t=t||"default";var o=i.get(a);if(!o){var s={loading:0,preload:null};if(o=r.querySelector(Pd(a)))s.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},n),(n=kd.get(a))&&Ld(e,n);var u=o=r.createElement("link");$e(u),nd(u,"link",e),u._p=new Promise((function(e,t){u.onload=e,u.onerror=t})),u.addEventListener("load",(function(){s.loading|=1})),u.addEventListener("error",(function(){s.loading|=2})),s.loading|=4,Md(o,t,r)}o={type:"stylesheet",instance:o,count:1,state:s},i.set(a,o)}}},M:function(e,t){xd.M(e,t);var n=Sd;if(n&&e){var r=Ke(n).hoistableScripts,i=Bd(e),a=r.get(i);a||((a=n.querySelector(Rd(i)))||(e=h({src:e,async:!0,type:"module"},t),(t=kd.get(i))&&jd(e,t),$e(a=n.createElement("script")),nd(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}};var Sd="undefined"==typeof document?null:document;function Td(e,t,n){var r=Sd;if(r&&"string"==typeof t&&t){var i=gt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"==typeof n&&(i+='[crossorigin="'+n+'"]'),Cd.has(i)||(Cd.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(nd(t=r.createElement("link"),"link",e),$e(t),r.head.appendChild(t)))}}function Fd(e,t,n,r){var a,o,s,c,l=(l=K.current)?_d(l):null;if(!l)throw Error(u(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof n.precedence&&"string"==typeof n.href?(t=Od(n.href),(r=(n=Ke(l).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"==typeof n.href&&"string"==typeof n.precedence){e=Od(n.href);var d=Ke(l).hoistableStyles,p=d.get(e);if(p||(l=l.ownerDocument||l,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,p),(d=l.querySelector(Pd(e)))&&!d._p&&(p.instance=d,p.state.loading=5),kd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},kd.set(e,n),d||(a=l,o=e,s=n,c=p.state,a.querySelector('link[rel="preload"][as="style"]['+o+"]")?c.loading=1:(o=a.createElement("link"),c.preload=o,o.addEventListener("load",(function(){return c.loading|=1})),o.addEventListener("error",(function(){return c.loading|=2})),nd(o,"link",s),$e(o),a.head.appendChild(o))))),t&&null===r)throw Error(u(528,""));return p}if(t&&null!==r)throw Error(u(529,""));return null;case"script":return t=n.async,"string"==typeof(n=n.src)&&t&&"function"!=typeof t&&"symbol"!==i(t)?(t=Bd(n),(r=(n=Ke(l).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(u(444,e))}}function Od(e){return'href="'+gt(e)+'"'}function Pd(e){return'link[rel="stylesheet"]['+e+"]"}function Id(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Bd(e){return'[src="'+gt(e)+'"]'}function Rd(e){return"script[async]"+e}function Nd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+gt(n.href)+'"]');if(r)return t.instance=r,$e(r),r;var i=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return $e(r=(e.ownerDocument||e).createElement("style")),nd(r,"style",i),Md(r,n.precedence,e),t.instance=r;case"stylesheet":i=Od(n.href);var a=e.querySelector(Pd(i));if(a)return t.state.loading|=4,t.instance=a,$e(a),a;r=Id(n),(i=kd.get(i))&&Ld(r,i),$e(a=(e.ownerDocument||e).createElement("link"));var o=a;return o._p=new Promise((function(e,t){o.onload=e,o.onerror=t})),nd(a,"link",r),t.state.loading|=4,Md(a,n.precedence,e),t.instance=a;case"script":return a=Bd(n.src),(i=e.querySelector(Rd(a)))?(t.instance=i,$e(i),i):(r=n,(i=kd.get(a))&&jd(r=h({},n),i),$e(i=(e=e.ownerDocument||e).createElement("script")),nd(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(u(443,t.type))}else"stylesheet"===t.type&&!(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Md(r,n.precedence,e));return t.instance}function Md(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,a=i,o=0;o<r.length;o++){var s=r[o];if(s.dataset.precedence===t)a=s;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Ld(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function jd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Ud=null;function zd(e,t,n){if(null===Ud){var r=new Map,i=Ud=new Map;i.set(n,r)}else(r=(i=Ud).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var a=n[i];if(!(a[ze]||a[Be]||"link"===e&&"stylesheet"===a.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==a.namespaceURI){var o=a.getAttribute(t)||"";o=e+o;var s=r.get(o);s?s.push(a):r.set(o,[a])}}return r}function Vd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function qd(e){return!!("stylesheet"!==e.type||3&e.state.loading)}var Hd=null;function Wd(){}function Kd(){if(this.count--,0===this.count)if(this.stylesheets)Gd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var $d=null;function Gd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,$d=new Map,t.forEach(Qd,e),$d=null,Kd.call(e))}function Qd(e,t){if(!(4&t.state.loading)){var n=$d.get(e);if(n)var r=n.get(null);else{n=new Map,$d.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var o=i[a];"LINK"!==o.nodeName&&"not all"===o.getAttribute("media")||(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}o=(i=t.instance).getAttribute("data-precedence"),(a=n.get(o)||r)===r&&n.set(null,i),n.set(o,i),this.count++,r=Kd.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),a?a.parentNode.insertBefore(i,a.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var Yd={$$typeof:E,Provider:null,Consumer:null,_currentValue:L,_currentValue2:L,_threadCount:0};function Xd(e,t,n,r,i,a,o,s){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_e(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_e(0),this.hiddenUpdates=_e(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function Zd(e,t,n,r,i,a,o,s,u,c,l,d){return e=new Xd(e,t,n,o,s,u,c,d),t=1,!0===a&&(t|=24),a=Lr(3,null,null,t),e.current=a,a.stateNode=e,(t=Ri()).refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},ia(a),e}function Jd(e){return e?e=Nr:Nr}function ep(e,t,n,r,i,a){i=Jd(i),null===r.context?r.context=i:r.pendingContext=i,(r=oa(t)).payload={element:n},null!==(a=void 0===a?null:a)&&(r.callback=a),null!==(n=sa(e,r,t))&&(Lc(n,0,t),ua(n,e,t))}function tp(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function np(e,t){tp(e,t),(e=e.alternate)&&tp(e,t)}function rp(e){if(13===e.tag){var t=Ir(e,67108864);null!==t&&Lc(t,0,67108864),np(e,67108864)}}var ip=!0;function ap(e,t,n,r){var i=N.T;N.T=null;var a=M.p;try{M.p=2,sp(e,t,n,r)}finally{M.p=a,N.T=i}}function op(e,t,n,r){var i=N.T;N.T=null;var a=M.p;try{M.p=8,sp(e,t,n,r)}finally{M.p=a,N.T=i}}function sp(e,t,n,r){if(ip){var i=up(r);if(null===i)Hl(e,t,r,cp,n),wp(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return fp=Dp(fp,e,t,n,r,i),!0;case"dragenter":return hp=Dp(hp,e,t,n,r,i),!0;case"mouseover":return mp=Dp(mp,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return vp.set(a,Dp(vp.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,gp.set(a,Dp(gp.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(wp(e,r),4&t&&-1<bp.indexOf(e)){for(;null!==i;){var a=He(i);if(null!==a)switch(a.tag){case 3:if((a=a.stateNode).current.memoizedState.isDehydrated){var o=we(a.pendingLanes);if(0!==o){var s=a;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var u=1<<31-me(o);s.entanglements[1]|=u,o&=~u}kl(a),!(6&ic)&&(kc=re()+500,Cl(0,!1))}}break;case 13:null!==(s=Ir(a,2))&&Lc(s,0,2),qc(),np(a,2)}if(null===(a=up(r))&&Hl(e,t,r,cp,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Hl(e,t,r,null,n)}}function up(e){return lp(e=It(e))}var cp=null;function lp(e){if(cp=null,null!==(e=qe(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=d(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return cp=e,null}function dp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ie()){case ae:return 2;case oe:return 8;case se:case ue:return 32;case ce:return 268435456;default:return 32}default:return 32}}var pp=!1,fp=null,hp=null,mp=null,vp=new Map,gp=new Map,yp=[],bp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wp(e,t){switch(e){case"focusin":case"focusout":fp=null;break;case"dragenter":case"dragleave":hp=null;break;case"mouseover":case"mouseout":mp=null;break;case"pointerover":case"pointerout":vp.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gp.delete(t.pointerId)}}function Dp(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=He(t))&&rp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ap(e){var t=qe(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=d(n)))return e.blockedOn=t,void function(e,t){var n=M.p;try{return M.p=e,t()}finally{M.p=n}}(e.priority,(function(){if(13===n.tag){var e=Nc();e=Fe(e);var t=Ir(n,e);null!==t&&Lc(t,0,e),np(n,e)}}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ep(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=up(e.nativeEvent);if(null!==n)return null!==(t=He(n))&&rp(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Pt=r,n.target.dispatchEvent(r),Pt=null,t.shift()}return!0}function kp(e,t,n){Ep(e)&&n.delete(t)}function Cp(){pp=!1,null!==fp&&Ep(fp)&&(fp=null),null!==hp&&Ep(hp)&&(hp=null),null!==mp&&Ep(mp)&&(mp=null),vp.forEach(kp),gp.forEach(kp)}function _p(e,t){e.blockedOn===t&&(e.blockedOn=null,pp||(pp=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Cp)))}var xp=null;function Sp(e){xp!==e&&(xp=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,(function(){xp===e&&(xp=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!=typeof r){if(null===lp(r||n))continue;break}var a=He(n);null!==a&&(e.splice(t,3),t-=3,Io(a,{pending:!0,data:i,method:n.method,action:r},r,i))}})))}function Tp(e){function t(t){return _p(t,e)}null!==fp&&_p(fp,e),null!==hp&&_p(hp,e),null!==mp&&_p(mp,e),vp.forEach(t),gp.forEach(t);for(var n=0;n<yp.length;n++){var r=yp[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<yp.length&&null===(n=yp[0]).blockedOn;)Ap(n),null===n.blockedOn&&yp.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],o=i[Re]||null;if("function"==typeof a)o||Sp(n);else if(o){var s=null;if(a&&a.hasAttribute("formAction")){if(i=a,o=a[Re]||null)s=o.formAction;else if(null!==lp(i))continue}else s=o.action;"function"==typeof s?n[r+1]=s:(n.splice(r,3),r-=3),Sp(n)}}}function Fp(e){this._internalRoot=e}function Op(e){this._internalRoot=e}Op.prototype.render=Fp.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(u(409));ep(t.current,Nc(),e,t,null,null)},Op.prototype.unmount=Fp.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;ep(e.current,2,null,e,null,null),qc(),t[Ne]=null}},Op.prototype.unstable_scheduleHydration=function(e){if(e){var t=Pe();e={blockedOn:null,target:e,priority:t};for(var n=0;n<yp.length&&0!==t&&t<yp[n].priority;n++);yp.splice(n,0,e),0===n&&Ap(e)}};var Pp=o.version;if("19.1.0"!==Pp)throw Error(u(527,Pp,"19.1.0"));M.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(u(188));throw e=Object.keys(e).join(","),Error(u(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(u(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return p(i),e;if(a===r)return p(i),t;a=a.sibling}throw Error(u(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o)throw Error(u(189))}}if(n.alternate!==r)throw Error(u(190))}if(3!==n.tag)throw Error(u(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?f(e):null)?null:e.stateNode};var Ip={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:N,reconcilerVersion:"19.1.0"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Bp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bp.isDisabled&&Bp.supportsFiber)try{pe=Bp.inject(Ip),fe=Bp}catch(e){}}t.createRoot=function(e,t){if(!c(e))throw Error(u(299));var n=!1,r="",i=ws,a=Ds,o=As;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(a=t.onCaughtError),void 0!==t.onRecoverableError&&(o=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Zd(e,1,!1,null,0,n,r,i,a,o,0,null),e[Ne]=t.current,Vl(e),new Fp(t)}},69085:(e,t,n)=>{"use strict";var r=n(46518),i=n(44213);r({target:"Object",stat:!0,arity:2,forced:Object.assign!==i},{assign:i})},69233:(e,t,n)=>{var r=n(9919).Global;function i(){return r.localStorage}function a(e){return i().getItem(e)}e.exports={name:"localStorage",read:a,write:function(e,t){return i().setItem(e,t)},each:function(e){for(var t=i().length-1;t>=0;t--){var n=i().key(t);e(a(n),n)}},remove:function(e){return i().removeItem(e)},clearAll:function(){return i().clear()}}},69479:(e,t,n)=>{"use strict";var r=n(44576),i=n(43724),a=n(62106),o=n(67979),s=n(79039),u=r.RegExp,c=u.prototype;i&&s((function(){var e=!0;try{u(".","d")}catch(t){e=!1}var t={},n="",r=e?"dgimsy":"gimsy",i=function(e,r){Object.defineProperty(t,e,{get:function(){return n+=r,!0}})},a={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var o in e&&(a.hasIndices="d"),a)i(o,a[o]);return Object.getOwnPropertyDescriptor(c,"flags").get.call(t)!==r||n!==r}))&&a(c,"flags",{configurable:!0,get:o})},69539:(e,t,n)=>{"use strict";var r=n(94644),i=n(59213).filter,a=n(29948),o=r.aTypedArray;(0,r.exportTypedArrayMethod)("filter",(function(e){var t=i(o(this),e,arguments.length>1?arguments[1]:void 0);return a(this,t)}))},69565:(e,t,n)=>{"use strict";var r=n(40616),i=Function.prototype.call;e.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},70058:(e,t,n)=>{"use strict";function r(e,t){this.v=e,this.k=t}n.d(t,{A:()=>r})},70081:(e,t,n)=>{"use strict";var r=n(69565),i=n(79306),a=n(28551),o=n(16823),s=n(50851),u=TypeError;e.exports=function(e,t){var n=arguments.length<2?s(e):t;if(i(n))return a(r(n,e));throw new u(o(e)+" is not iterable")}},70259:(e,t,n)=>{"use strict";var r=n(34376),i=n(26198),a=n(96837),o=n(76080),s=function(e,t,n,u,c,l,d,p){for(var f,h,m=c,v=0,g=!!d&&o(d,p);v<u;)v in n&&(f=g?g(n[v],v,t):n[v],l>0&&r(f)?(h=i(f),m=s(e,t,f,h,m,l-1)-1):(a(m+1),e[m]=f),m++),v++;return m};e.exports=s},70266:(e,t,n)=>{n(44114),n(50375);var r=n(85192);n(1238),n(32807);var i=e.exports=r.sha1=r.sha1||{};r.md.sha1=r.md.algorithms.sha1=i,i.create=function(){o||(a=String.fromCharCode(128),a+=r.util.fillString(String.fromCharCode(0),64),o=!0);var e=null,t=r.util.createBuffer(),n=new Array(80),i={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){i.messageLength=0,i.fullMessageLength=i.messageLength64=[];for(var n=i.messageLengthSize/4,a=0;a<n;++a)i.fullMessageLength.push(0);return t=r.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},i}};return i.start(),i.update=function(a,o){"utf8"===o&&(a=r.util.encodeUtf8(a));var u=a.length;i.messageLength+=u,u=[u/4294967296>>>0,u>>>0];for(var c=i.fullMessageLength.length-1;c>=0;--c)i.fullMessageLength[c]+=u[1],u[1]=u[0]+(i.fullMessageLength[c]/4294967296>>>0),i.fullMessageLength[c]=i.fullMessageLength[c]>>>0,u[0]=u[1]/4294967296>>>0;return t.putBytes(a),s(e,n,t),(t.read>2048||0===t.length())&&t.compact(),i},i.digest=function(){var o=r.util.createBuffer();o.putBytes(t.bytes());var u,c=i.fullMessageLength[i.fullMessageLength.length-1]+i.messageLengthSize&i.blockLength-1;o.putBytes(a.substr(0,i.blockLength-c));for(var l=8*i.fullMessageLength[0],d=0;d<i.fullMessageLength.length-1;++d)l+=(u=8*i.fullMessageLength[d+1])/4294967296>>>0,o.putInt32(l>>>0),l=u>>>0;o.putInt32(l);var p={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4};s(p,n,o);var f=r.util.createBuffer();return f.putInt32(p.h0),f.putInt32(p.h1),f.putInt32(p.h2),f.putInt32(p.h3),f.putInt32(p.h4),f},i};var a=null,o=!1;function s(e,t,n){for(var r,i,a,o,s,u,c,l=n.length();l>=64;){for(i=e.h0,a=e.h1,o=e.h2,s=e.h3,u=e.h4,c=0;c<16;++c)r=n.getInt32(),t[c]=r,r=(i<<5|i>>>27)+(s^a&(o^s))+u+1518500249+r,u=s,s=o,o=(a<<30|a>>>2)>>>0,a=i,i=r;for(;c<20;++c)r=(r=t[c-3]^t[c-8]^t[c-14]^t[c-16])<<1|r>>>31,t[c]=r,r=(i<<5|i>>>27)+(s^a&(o^s))+u+1518500249+r,u=s,s=o,o=(a<<30|a>>>2)>>>0,a=i,i=r;for(;c<32;++c)r=(r=t[c-3]^t[c-8]^t[c-14]^t[c-16])<<1|r>>>31,t[c]=r,r=(i<<5|i>>>27)+(a^o^s)+u+1859775393+r,u=s,s=o,o=(a<<30|a>>>2)>>>0,a=i,i=r;for(;c<40;++c)r=(r=t[c-6]^t[c-16]^t[c-28]^t[c-32])<<2|r>>>30,t[c]=r,r=(i<<5|i>>>27)+(a^o^s)+u+1859775393+r,u=s,s=o,o=(a<<30|a>>>2)>>>0,a=i,i=r;for(;c<60;++c)r=(r=t[c-6]^t[c-16]^t[c-28]^t[c-32])<<2|r>>>30,t[c]=r,r=(i<<5|i>>>27)+(a&o|s&(a^o))+u+2400959708+r,u=s,s=o,o=(a<<30|a>>>2)>>>0,a=i,i=r;for(;c<80;++c)r=(r=t[c-6]^t[c-16]^t[c-28]^t[c-32])<<2|r>>>30,t[c]=r,r=(i<<5|i>>>27)+(a^o^s)+u+3395469782+r,u=s,s=o,o=(a<<30|a>>>2)>>>0,a=i,i=r;e.h0=e.h0+i|0,e.h1=e.h1+a|0,e.h2=e.h2+o|0,e.h3=e.h3+s|0,e.h4=e.h4+u|0,l-=64}}},70312:(e,t,n)=>{function r(t,n){return e.exports=r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,r(t,n)}n(94170),n(63548),n(10287),e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},70380:(e,t,n)=>{"use strict";var r=n(79504),i=n(79039),a=n(60533).start,o=RangeError,s=isFinite,u=Math.abs,c=Date.prototype,l=c.toISOString,d=r(c.getTime),p=r(c.getUTCDate),f=r(c.getUTCFullYear),h=r(c.getUTCHours),m=r(c.getUTCMilliseconds),v=r(c.getUTCMinutes),g=r(c.getUTCMonth),y=r(c.getUTCSeconds);e.exports=i((function(){return"0385-07-25T07:06:39.999Z"!==l.call(new Date(-50000000000001))}))||!i((function(){l.call(new Date(NaN))}))?function(){if(!s(d(this)))throw new o("Invalid time value");var e=this,t=f(e),n=m(e),r=t<0?"-":t>9999?"+":"";return r+a(u(t),r?6:4,0)+"-"+a(g(e)+1,2,0)+"-"+a(p(e),2,0)+"T"+a(h(e),2,0)+":"+a(v(e),2,0)+":"+a(y(e),2,0)+"."+a(n,3,0)+"Z"}:l},70430:(e,t,n)=>{var r=n(85192);r.pki=r.pki||{};var i=e.exports=r.pki.oids=r.oids=r.oids||{};function a(e,t){i[e]=t,i[t]=e}function o(e,t){i[e]=t}a("1.2.840.113549.1.1.1","rsaEncryption"),a("1.2.840.113549.1.1.4","md5WithRSAEncryption"),a("1.2.840.113549.1.1.5","sha1WithRSAEncryption"),a("1.2.840.113549.1.1.7","RSAES-OAEP"),a("1.2.840.113549.1.1.8","mgf1"),a("1.2.840.113549.1.1.9","pSpecified"),a("1.2.840.113549.1.1.10","RSASSA-PSS"),a("1.2.840.113549.1.1.11","sha256WithRSAEncryption"),a("1.2.840.113549.1.1.12","sha384WithRSAEncryption"),a("1.2.840.113549.1.1.13","sha512WithRSAEncryption"),a("1.3.101.112","EdDSA25519"),a("1.2.840.10040.4.3","dsa-with-sha1"),a("1.3.14.3.2.7","desCBC"),a("1.3.14.3.2.26","sha1"),a("1.3.14.3.2.29","sha1WithRSASignature"),a("2.16.840.1.101.3.4.2.1","sha256"),a("2.16.840.1.101.3.4.2.2","sha384"),a("2.16.840.1.101.3.4.2.3","sha512"),a("2.16.840.1.101.3.4.2.4","sha224"),a("2.16.840.1.101.3.4.2.5","sha512-224"),a("2.16.840.1.101.3.4.2.6","sha512-256"),a("1.2.840.113549.2.2","md2"),a("1.2.840.113549.2.5","md5"),a("1.2.840.113549.1.7.1","data"),a("1.2.840.113549.1.7.2","signedData"),a("1.2.840.113549.1.7.3","envelopedData"),a("1.2.840.113549.1.7.4","signedAndEnvelopedData"),a("1.2.840.113549.1.7.5","digestedData"),a("1.2.840.113549.1.7.6","encryptedData"),a("1.2.840.113549.1.9.1","emailAddress"),a("1.2.840.113549.1.9.2","unstructuredName"),a("1.2.840.113549.1.9.3","contentType"),a("1.2.840.113549.1.9.4","messageDigest"),a("1.2.840.113549.1.9.5","signingTime"),a("1.2.840.113549.1.9.6","counterSignature"),a("1.2.840.113549.1.9.7","challengePassword"),a("1.2.840.113549.1.9.8","unstructuredAddress"),a("1.2.840.113549.1.9.14","extensionRequest"),a("1.2.840.113549.1.9.20","friendlyName"),a("1.2.840.113549.1.9.21","localKeyId"),a("1.2.840.113549.1.9.22.1","x509Certificate"),a("1.2.840.113549.1.12.10.1.1","keyBag"),a("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag"),a("1.2.840.113549.1.12.10.1.3","certBag"),a("1.2.840.113549.1.12.10.1.4","crlBag"),a("1.2.840.113549.1.12.10.1.5","secretBag"),a("1.2.840.113549.1.12.10.1.6","safeContentsBag"),a("1.2.840.113549.1.5.13","pkcs5PBES2"),a("1.2.840.113549.1.5.12","pkcs5PBKDF2"),a("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4"),a("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4"),a("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC"),a("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC"),a("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC"),a("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC"),a("1.2.840.113549.2.7","hmacWithSHA1"),a("1.2.840.113549.2.8","hmacWithSHA224"),a("1.2.840.113549.2.9","hmacWithSHA256"),a("1.2.840.113549.2.10","hmacWithSHA384"),a("1.2.840.113549.2.11","hmacWithSHA512"),a("1.2.840.113549.3.7","des-EDE3-CBC"),a("2.16.840.1.101.3.4.1.2","aes128-CBC"),a("2.16.840.1.101.3.4.1.22","aes192-CBC"),a("2.16.840.1.101.3.4.1.42","aes256-CBC"),a("2.5.4.3","commonName"),a("2.5.4.4","surname"),a("2.5.4.5","serialNumber"),a("2.5.4.6","countryName"),a("2.5.4.7","localityName"),a("2.5.4.8","stateOrProvinceName"),a("2.5.4.9","streetAddress"),a("2.5.4.10","organizationName"),a("2.5.4.11","organizationalUnitName"),a("2.5.4.12","title"),a("2.5.4.13","description"),a("2.5.4.15","businessCategory"),a("2.5.4.17","postalCode"),a("2.5.4.42","givenName"),a("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName"),a("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName"),a("2.16.840.1.113730.1.1","nsCertType"),a("2.16.840.1.113730.1.13","nsComment"),o("2.5.29.1","authorityKeyIdentifier"),o("2.5.29.2","keyAttributes"),o("2.5.29.3","certificatePolicies"),o("2.5.29.4","keyUsageRestriction"),o("2.5.29.5","policyMapping"),o("2.5.29.6","subtreesConstraint"),o("2.5.29.7","subjectAltName"),o("2.5.29.8","issuerAltName"),o("2.5.29.9","subjectDirectoryAttributes"),o("2.5.29.10","basicConstraints"),o("2.5.29.11","nameConstraints"),o("2.5.29.12","policyConstraints"),o("2.5.29.13","basicConstraints"),a("2.5.29.14","subjectKeyIdentifier"),a("2.5.29.15","keyUsage"),o("2.5.29.16","privateKeyUsagePeriod"),a("2.5.29.17","subjectAltName"),a("2.5.29.18","issuerAltName"),a("2.5.29.19","basicConstraints"),o("2.5.29.20","cRLNumber"),o("2.5.29.21","cRLReason"),o("2.5.29.22","expirationDate"),o("2.5.29.23","instructionCode"),o("2.5.29.24","invalidityDate"),o("2.5.29.25","cRLDistributionPoints"),o("2.5.29.26","issuingDistributionPoint"),o("2.5.29.27","deltaCRLIndicator"),o("2.5.29.28","issuingDistributionPoint"),o("2.5.29.29","certificateIssuer"),o("2.5.29.30","nameConstraints"),a("2.5.29.31","cRLDistributionPoints"),a("2.5.29.32","certificatePolicies"),o("2.5.29.33","policyMappings"),o("2.5.29.34","policyConstraints"),a("2.5.29.35","authorityKeyIdentifier"),o("2.5.29.36","policyConstraints"),a("2.5.29.37","extKeyUsage"),o("2.5.29.46","freshestCRL"),o("2.5.29.54","inhibitAnyPolicy"),a("1.3.6.1.4.1.11129.2.4.2","timestampList"),a("1.3.6.1.5.5.7.1.1","authorityInfoAccess"),a("1.3.6.1.5.5.7.3.1","serverAuth"),a("1.3.6.1.5.5.7.3.2","clientAuth"),a("1.3.6.1.5.5.7.3.3","codeSigning"),a("1.3.6.1.5.5.7.3.4","emailProtection"),a("1.3.6.1.5.5.7.3.8","timeStamping")},70511:(e,t,n)=>{"use strict";var r=n(19167),i=n(39297),a=n(1951),o=n(24913).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||o(t,e,{value:a.f(e)})}},70519:e=>{e.exports=function(e,t){return e.has(t)}},70597:(e,t,n)=>{"use strict";var r=n(79039),i=n(78227),a=n(39519),o=i("species");e.exports=function(e){return a>=51||!r((function(){var t=[];return(t.constructor={})[o]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},70647:(e,t,n)=>{n(28706),n(25276),n(44114),n(79432),e.exports=function(){var e={},t=e._fns={};return e.emit=function(e,n,r,i,a,o,s){var u=function(e){var n=t[e]?t[e]:[],r=e.indexOf(":"),i=-1===r?[e]:[e.substring(0,r),e.substring(r+1)],a=Object.keys(t),o=0,s=a.length;for(;o<s;o++){var u=a[o];if("*"===u&&(n=n.concat(t[u])),2===i.length&&i[0]===u){n=n.concat(t[u]);break}}return n}(e);u.length&&function(e,t,n){var r=0,i=t.length;for(;r<i&&t[r];r++)t[r].event=e,t[r].apply(t[r],n)}(e,u,[n,r,i,a,o,s])},e.on=function(e,n){t[e]||(t[e]=[]),t[e].push(n)},e.once=function(t,n){this.on(t,(function r(){n.apply(this,arguments),e.off(t,r)}))},e.off=function(e,t){var n=[];if(e&&t)for(var r=this._fns[e],i=0,a=r?r.length:0;i<a;i++)r[i]!==t&&n.push(r[i]);n.length?this._fns[e]=n:delete this._fns[e]},e}},70675:(e,t,n)=>{var r=n(45121),i=n(31729),a=n(28045),o=a&&a.isTypedArray,s=o?i(o):r;e.exports=s},70761:(e,t,n)=>{"use strict";n(46518)({target:"Math",stat:!0},{trunc:n(80741)})},70966:(e,t,n)=>{var r=n(89990);n(52675),n(89463),n(16280),n(76918),n(23792),n(44114),n(34782),n(54554),n(23288),n(26099),n(50375),n(62953);var i=n(85192);n(53486),n(37540),n(51807),n(90005),n(49979),n(78008),n(70266),n(32807);var a=function(e,t,n,r){var a=i.util.createBuffer(),o=e.length>>1,s=o+(1&e.length),u=e.substr(0,s),c=e.substr(o,s),l=i.util.createBuffer(),d=i.hmac.create();n=t+n;var p=Math.ceil(r/16),f=Math.ceil(r/20);d.start("MD5",u);var h=i.util.createBuffer();l.putBytes(n);for(var m=0;m<p;++m)d.start(null,null),d.update(l.getBytes()),l.putBuffer(d.digest()),d.start(null,null),d.update(l.bytes()+n),h.putBuffer(d.digest());d.start("SHA1",c);var v=i.util.createBuffer();l.clear(),l.putBytes(n);for(m=0;m<f;++m)d.start(null,null),d.update(l.getBytes()),l.putBuffer(d.digest()),d.start(null,null),d.update(l.bytes()+n),v.putBuffer(d.digest());return a.putBytes(i.util.xorBytes(h.getBytes(),v.getBytes(),r)),a},o=function(e,t,n){var r=!1;try{var a=e.deflate(t.fragment.getBytes());t.fragment=i.util.createBuffer(a),t.length=a.length,r=!0}catch(e){}return r},s=function(e,t,n){var r=!1;try{var a=e.inflate(t.fragment.getBytes());t.fragment=i.util.createBuffer(a),t.length=a.length,r=!0}catch(e){}return r},u=function(e,t){var n=0;switch(t){case 1:n=e.getByte();break;case 2:n=e.getInt16();break;case 3:n=e.getInt24();break;case 4:n=e.getInt32()}return i.util.createBuffer(e.getBytes(n))},c=function(e,t,n){e.putInt(n.length(),t<<3),e.putBuffer(n)},l={Versions:{TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}}};l.SupportedVersions=[l.Versions.TLS_1_1,l.Versions.TLS_1_0],l.Version=l.SupportedVersions[0],l.MaxFragment=15360,l.ConnectionEnd={server:0,client:1},l.PRFAlgorithm={tls_prf_sha256:0},l.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2},l.CipherType={stream:0,block:1,aead:2},l.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4},l.CompressionMethod={none:0,deflate:1},l.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24},l.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20},l.Alert={},l.Alert.Level={warning:1,fatal:2},l.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100},l.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2},l.CipherSuites={},l.getCipherSuite=function(e){var t=null;for(var n in l.CipherSuites){var r=l.CipherSuites[n];if(r.id[0]===e.charCodeAt(0)&&r.id[1]===e.charCodeAt(1)){t=r;break}}return t},l.handleUnexpected=function(e,t){!e.open&&e.entity===l.ConnectionEnd.client||e.error(e,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.unexpected_message}})},l.handleHelloRequest=function(e,t,n){!e.handshaking&&e.handshakes>0&&(l.queue(e,l.createAlert(e,{level:l.Alert.Level.warning,description:l.Alert.Description.no_renegotiation})),l.flush(e)),e.process()},l.parseHelloMessage=function(e,t,n){var r=null,a=e.entity===l.ConnectionEnd.client;if(n<38)e.error(e,{message:a?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.illegal_parameter}});else{var o=t.fragment,s=o.length();if(r={version:{major:o.getByte(),minor:o.getByte()},random:i.util.createBuffer(o.getBytes(32)),session_id:u(o,1),extensions:[]},a?(r.cipher_suite=o.getBytes(2),r.compression_method=o.getByte()):(r.cipher_suites=u(o,2),r.compression_methods=u(o,1)),(s=n-(s-o.length()))>0){for(var c=u(o,2);c.length()>0;)r.extensions.push({type:[c.getByte(),c.getByte()],data:u(c,2)});if(!a)for(var d=0;d<r.extensions.length;++d){var p=r.extensions[d];if(0===p.type[0]&&0===p.type[1])for(var f=u(p.data,2);f.length()>0;){if(0!==f.getByte())break;e.session.extensions.server_name.serverNameList.push(u(f,2).getBytes())}}}if(e.session.version&&(r.version.major!==e.session.version.major||r.version.minor!==e.session.version.minor))return e.error(e,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.protocol_version}});if(a)e.session.cipherSuite=l.getCipherSuite(r.cipher_suite);else for(var h=i.util.createBuffer(r.cipher_suites.bytes());h.length()>0&&(e.session.cipherSuite=l.getCipherSuite(h.getBytes(2)),null===e.session.cipherSuite););if(null===e.session.cipherSuite)return e.error(e,{message:"No cipher suites in common.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.handshake_failure},cipherSuite:i.util.bytesToHex(r.cipher_suite)});e.session.compressionMethod=a?r.compression_method:l.CompressionMethod.none}return r},l.createSecurityParameters=function(e,t){var n=e.entity===l.ConnectionEnd.client,r=t.random.bytes(),i=n?e.session.sp.client_random:r,a=n?r:l.createRandom().getBytes();e.session.sp={entity:e.entity,prf_algorithm:l.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:e.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:i,server_random:a}},l.handleServerHello=function(e,t,n){var r=l.parseHelloMessage(e,t,n);if(!e.fail){if(!(r.version.minor<=e.version.minor))return e.error(e,{message:"Incompatible TLS version.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.protocol_version}});e.version.minor=r.version.minor,e.session.version=e.version;var i=r.session_id.bytes();i.length>0&&i===e.session.id?(e.expect=m,e.session.resuming=!0,e.session.sp.server_random=r.random.bytes()):(e.expect=d,e.session.resuming=!1,l.createSecurityParameters(e,r)),e.session.id=i,e.process()}},l.handleClientHello=function(e,t,n){var r=l.parseHelloMessage(e,t,n);if(!e.fail){var a=r.session_id.bytes(),o=null;if(e.sessionCache&&(null===(o=e.sessionCache.getSession(a))?a="":(o.version.major!==r.version.major||o.version.minor>r.version.minor)&&(o=null,a="")),0===a.length&&(a=i.random.getBytes(32)),e.session.id=a,e.session.clientHelloVersion=r.version,e.session.sp={},o)e.version=e.session.version=o.version,e.session.sp=o.sp;else{for(var s,u=1;u<l.SupportedVersions.length&&!((s=l.SupportedVersions[u]).minor<=r.version.minor);++u);e.version={major:s.major,minor:s.minor},e.session.version=e.version}null!==o?(e.expect=A,e.session.resuming=!0,e.session.sp.client_random=r.random.bytes()):(e.expect=!1!==e.verifyClient?b:w,e.session.resuming=!1,l.createSecurityParameters(e,r)),e.open=!0,l.queue(e,l.createRecord(e,{type:l.ContentType.handshake,data:l.createServerHello(e)})),e.session.resuming?(l.queue(e,l.createRecord(e,{type:l.ContentType.change_cipher_spec,data:l.createChangeCipherSpec()})),e.state.pending=l.createConnectionState(e),e.state.current.write=e.state.pending.write,l.queue(e,l.createRecord(e,{type:l.ContentType.handshake,data:l.createFinished(e)}))):(l.queue(e,l.createRecord(e,{type:l.ContentType.handshake,data:l.createCertificate(e)})),e.fail||(l.queue(e,l.createRecord(e,{type:l.ContentType.handshake,data:l.createServerKeyExchange(e)})),!1!==e.verifyClient&&l.queue(e,l.createRecord(e,{type:l.ContentType.handshake,data:l.createCertificateRequest(e)})),l.queue(e,l.createRecord(e,{type:l.ContentType.handshake,data:l.createServerHelloDone(e)})))),l.flush(e),e.process()}},l.handleCertificate=function(e,t,n){if(n<3)return e.error(e,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.illegal_parameter}});var r,a,o=t.fragment,s={certificate_list:u(o,3)},c=[];try{for(;s.certificate_list.length()>0;)r=u(s.certificate_list,3),a=i.asn1.fromDer(r),r=i.pki.certificateFromAsn1(a,!0),c.push(r)}catch(t){return e.error(e,{message:"Could not parse certificate list.",cause:t,send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.bad_certificate}})}var d=e.entity===l.ConnectionEnd.client;!d&&!0!==e.verifyClient||0!==c.length?0===c.length?e.expect=d?p:w:(d?e.session.serverCertificate=c[0]:e.session.clientCertificate=c[0],l.verifyCertificateChain(e,c)&&(e.expect=d?p:w)):e.error(e,{message:d?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.illegal_parameter}}),e.process()},l.handleServerKeyExchange=function(e,t,n){if(n>0)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.unsupported_certificate}});e.expect=f,e.process()},l.handleClientKeyExchange=function(e,t,n){if(n<48)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.unsupported_certificate}});var r=t.fragment,a={enc_pre_master_secret:u(r,2).getBytes()},o=null;if(e.getPrivateKey)try{o=e.getPrivateKey(e,e.session.serverCertificate),o=i.pki.privateKeyFromPem(o)}catch(t){e.error(e,{message:"Could not get private key.",cause:t,send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.internal_error}})}if(null===o)return e.error(e,{message:"No private key set.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.internal_error}});try{var s=e.session.sp;s.pre_master_secret=o.decrypt(a.enc_pre_master_secret);var c=e.session.clientHelloVersion;if(c.major!==s.pre_master_secret.charCodeAt(0)||c.minor!==s.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch(e){s.pre_master_secret=i.random.getBytes(48)}e.expect=A,null!==e.session.clientCertificate&&(e.expect=D),e.process()},l.handleCertificateRequest=function(e,t,n){if(n<3)return e.error(e,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.illegal_parameter}});var r=t.fragment,i={certificate_types:u(r,1),certificate_authorities:u(r,2)};e.session.certificateRequest=i,e.expect=h,e.process()},l.handleCertificateVerify=function(e,t,n){if(n<2)return e.error(e,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.illegal_parameter}});var r=t.fragment;r.read-=4;var a=r.bytes();r.read+=4;var o={signature:u(r,2).getBytes()},s=i.util.createBuffer();s.putBuffer(e.session.md5.digest()),s.putBuffer(e.session.sha1.digest()),s=s.getBytes();try{if(!e.session.clientCertificate.publicKey.verify(s,o.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");e.session.md5.update(a),e.session.sha1.update(a)}catch(t){return e.error(e,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.handshake_failure}})}e.expect=A,e.process()},l.handleServerHelloDone=function(e,t,n){if(n>0)return e.error(e,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.record_overflow}});if(null===e.serverCertificate){var a={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.insufficient_security}},o=e.verify(e,a.alert.description,0,[]);if(!0!==o)return(o||0===o)&&("object"!==r(o)||i.util.isArray(o)?"number"==typeof o&&(a.alert.description=o):(o.message&&(a.message=o.message),o.alert&&(a.alert.description=o.alert))),e.error(e,a)}null!==e.session.certificateRequest&&(t=l.createRecord(e,{type:l.ContentType.handshake,data:l.createCertificate(e)}),l.queue(e,t)),t=l.createRecord(e,{type:l.ContentType.handshake,data:l.createClientKeyExchange(e)}),l.queue(e,t),e.expect=y;var s=function(e,t){null!==e.session.certificateRequest&&null!==e.session.clientCertificate&&l.queue(e,l.createRecord(e,{type:l.ContentType.handshake,data:l.createCertificateVerify(e,t)})),l.queue(e,l.createRecord(e,{type:l.ContentType.change_cipher_spec,data:l.createChangeCipherSpec()})),e.state.pending=l.createConnectionState(e),e.state.current.write=e.state.pending.write,l.queue(e,l.createRecord(e,{type:l.ContentType.handshake,data:l.createFinished(e)})),e.expect=m,l.flush(e),e.process()};if(null===e.session.certificateRequest||null===e.session.clientCertificate)return s(e,null);l.getClientSignature(e,s)},l.handleChangeCipherSpec=function(e,t){if(1!==t.fragment.getByte())return e.error(e,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.illegal_parameter}});var n=e.entity===l.ConnectionEnd.client;(e.session.resuming&&n||!e.session.resuming&&!n)&&(e.state.pending=l.createConnectionState(e)),e.state.current.read=e.state.pending.read,(!e.session.resuming&&n||e.session.resuming&&!n)&&(e.state.pending=null),e.expect=n?v:E,e.process()},l.handleFinished=function(e,t,n){var r=t.fragment;r.read-=4;var o=r.bytes();r.read+=4;var s=t.fragment.getBytes();(r=i.util.createBuffer()).putBuffer(e.session.md5.digest()),r.putBuffer(e.session.sha1.digest());var u=e.entity===l.ConnectionEnd.client,c=u?"server finished":"client finished",d=e.session.sp;if((r=a(d.master_secret,c,r.getBytes(),12)).getBytes()!==s)return e.error(e,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.decrypt_error}});e.session.md5.update(o),e.session.sha1.update(o),(e.session.resuming&&u||!e.session.resuming&&!u)&&(l.queue(e,l.createRecord(e,{type:l.ContentType.change_cipher_spec,data:l.createChangeCipherSpec()})),e.state.current.write=e.state.pending.write,e.state.pending=null,l.queue(e,l.createRecord(e,{type:l.ContentType.handshake,data:l.createFinished(e)}))),e.expect=u?g:k,e.handshaking=!1,++e.handshakes,e.peerCertificate=u?e.session.serverCertificate:e.session.clientCertificate,l.flush(e),e.isConnected=!0,e.connected(e),e.process()},l.handleAlert=function(e,t){var n,r=t.fragment,i={level:r.getByte(),description:r.getByte()};switch(i.description){case l.Alert.Description.close_notify:n="Connection closed.";break;case l.Alert.Description.unexpected_message:n="Unexpected message.";break;case l.Alert.Description.bad_record_mac:n="Bad record MAC.";break;case l.Alert.Description.decryption_failed:n="Decryption failed.";break;case l.Alert.Description.record_overflow:n="Record overflow.";break;case l.Alert.Description.decompression_failure:n="Decompression failed.";break;case l.Alert.Description.handshake_failure:n="Handshake failure.";break;case l.Alert.Description.bad_certificate:n="Bad certificate.";break;case l.Alert.Description.unsupported_certificate:n="Unsupported certificate.";break;case l.Alert.Description.certificate_revoked:n="Certificate revoked.";break;case l.Alert.Description.certificate_expired:n="Certificate expired.";break;case l.Alert.Description.certificate_unknown:n="Certificate unknown.";break;case l.Alert.Description.illegal_parameter:n="Illegal parameter.";break;case l.Alert.Description.unknown_ca:n="Unknown certificate authority.";break;case l.Alert.Description.access_denied:n="Access denied.";break;case l.Alert.Description.decode_error:n="Decode error.";break;case l.Alert.Description.decrypt_error:n="Decrypt error.";break;case l.Alert.Description.export_restriction:n="Export restriction.";break;case l.Alert.Description.protocol_version:n="Unsupported protocol version.";break;case l.Alert.Description.insufficient_security:n="Insufficient security.";break;case l.Alert.Description.internal_error:n="Internal error.";break;case l.Alert.Description.user_canceled:n="User canceled.";break;case l.Alert.Description.no_renegotiation:n="Renegotiation not supported.";break;default:n="Unknown error."}if(i.description===l.Alert.Description.close_notify)return e.close();e.error(e,{message:n,send:!1,origin:e.entity===l.ConnectionEnd.client?"server":"client",alert:i}),e.process()},l.handleHandshake=function(e,t){var n=t.fragment,r=n.getByte(),a=n.getInt24();if(a>n.length())return e.fragmented=t,t.fragment=i.util.createBuffer(),n.read-=4,e.process();e.fragmented=null,n.read-=4;var o=n.bytes(a+4);n.read+=4,r in j[e.entity][e.expect]?(e.entity!==l.ConnectionEnd.server||e.open||e.fail||(e.handshaking=!0,e.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:i.md.md5.create(),sha1:i.md.sha1.create()}),r!==l.HandshakeType.hello_request&&r!==l.HandshakeType.certificate_verify&&r!==l.HandshakeType.finished&&(e.session.md5.update(o),e.session.sha1.update(o)),j[e.entity][e.expect][r](e,t,a)):l.handleUnexpected(e,t)},l.handleApplicationData=function(e,t){e.data.putBuffer(t.fragment),e.dataReady(e),e.process()},l.handleHeartbeat=function(e,t){var n=t.fragment,r=n.getByte(),a=n.getInt16(),o=n.getBytes(a);if(r===l.HeartbeatMessageType.heartbeat_request){if(e.handshaking||a>o.length)return e.process();l.queue(e,l.createRecord(e,{type:l.ContentType.heartbeat,data:l.createHeartbeat(l.HeartbeatMessageType.heartbeat_response,o)})),l.flush(e)}else if(r===l.HeartbeatMessageType.heartbeat_response){if(o!==e.expectedHeartbeatPayload)return e.process();e.heartbeatReceived&&e.heartbeatReceived(e,i.util.createBuffer(o))}e.process()};var d=1,p=2,f=3,h=4,m=5,v=6,g=7,y=8,b=1,w=2,D=3,A=4,E=5,k=6,C=l.handleUnexpected,_=l.handleChangeCipherSpec,x=l.handleAlert,S=l.handleHandshake,T=l.handleApplicationData,F=l.handleHeartbeat,O=[];O[l.ConnectionEnd.client]=[[C,x,S,C,F],[C,x,S,C,F],[C,x,S,C,F],[C,x,S,C,F],[C,x,S,C,F],[_,x,C,C,F],[C,x,S,C,F],[C,x,S,T,F],[C,x,S,C,F]],O[l.ConnectionEnd.server]=[[C,x,S,C,F],[C,x,S,C,F],[C,x,S,C,F],[C,x,S,C,F],[_,x,C,C,F],[C,x,S,C,F],[C,x,S,T,F],[C,x,S,C,F]];var P=l.handleHelloRequest,I=l.handleServerHello,B=l.handleCertificate,R=l.handleServerKeyExchange,N=l.handleCertificateRequest,M=l.handleServerHelloDone,L=l.handleFinished,j=[];j[l.ConnectionEnd.client]=[[C,C,I,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C],[P,C,C,C,C,C,C,C,C,C,C,B,R,N,M,C,C,C,C,C,C],[P,C,C,C,C,C,C,C,C,C,C,C,R,N,M,C,C,C,C,C,C],[P,C,C,C,C,C,C,C,C,C,C,C,C,N,M,C,C,C,C,C,C],[P,C,C,C,C,C,C,C,C,C,C,C,C,C,M,C,C,C,C,C,C],[P,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C],[P,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,L],[P,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C],[P,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C]];var U=l.handleClientHello,z=l.handleClientKeyExchange,V=l.handleCertificateVerify;j[l.ConnectionEnd.server]=[[C,U,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C],[C,C,C,C,C,C,C,C,C,C,C,B,C,C,C,C,C,C,C,C,C],[C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,z,C,C,C,C],[C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,V,C,C,C,C,C],[C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C],[C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,L],[C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C],[C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C]],l.generateKeys=function(e,t){var n=a,r=t.client_random+t.server_random;e.session.resuming||(t.master_secret=n(t.pre_master_secret,"master secret",r,48).bytes(),t.pre_master_secret=null),r=t.server_random+t.client_random;var i=2*t.mac_key_length+2*t.enc_key_length,o=e.version.major===l.Versions.TLS_1_0.major&&e.version.minor===l.Versions.TLS_1_0.minor;o&&(i+=2*t.fixed_iv_length);var s=n(t.master_secret,"key expansion",r,i),u={client_write_MAC_key:s.getBytes(t.mac_key_length),server_write_MAC_key:s.getBytes(t.mac_key_length),client_write_key:s.getBytes(t.enc_key_length),server_write_key:s.getBytes(t.enc_key_length)};return o&&(u.client_write_IV=s.getBytes(t.fixed_iv_length),u.server_write_IV=s.getBytes(t.fixed_iv_length)),u},l.createConnectionState=function(e){var t=e.entity===l.ConnectionEnd.client,n=function(){var e={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(e){return!0},compressionState:null,compressFunction:function(e){return!0},updateSequenceNumber:function(){4294967295===e.sequenceNumber[1]?(e.sequenceNumber[1]=0,++e.sequenceNumber[0]):++e.sequenceNumber[1]}};return e},r={read:n(),write:n()};if(r.read.update=function(e,t){return r.read.cipherFunction(t,r.read)?r.read.compressFunction(e,t,r.read)||e.error(e,{message:"Could not decompress record.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.decompression_failure}}):e.error(e,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.bad_record_mac}}),!e.fail},r.write.update=function(e,t){return r.write.compressFunction(e,t,r.write)?r.write.cipherFunction(t,r.write)||e.error(e,{message:"Could not encrypt record.",send:!1,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.internal_error}}):e.error(e,{message:"Could not compress record.",send:!1,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.internal_error}}),!e.fail},e.session){var i=e.session.sp;switch(e.session.cipherSuite.initSecurityParameters(i),i.keys=l.generateKeys(e,i),r.read.macKey=t?i.keys.server_write_MAC_key:i.keys.client_write_MAC_key,r.write.macKey=t?i.keys.client_write_MAC_key:i.keys.server_write_MAC_key,e.session.cipherSuite.initConnectionState(r,e,i),i.compression_algorithm){case l.CompressionMethod.none:break;case l.CompressionMethod.deflate:r.read.compressFunction=s,r.write.compressFunction=o;break;default:throw new Error("Unsupported compression algorithm.")}}return r},l.createRandom=function(){var e=new Date,t=+e+6e4*e.getTimezoneOffset(),n=i.util.createBuffer();return n.putInt32(t),n.putBytes(i.random.getBytes(28)),n},l.createRecord=function(e,t){return t.data?{type:t.type,version:{major:e.version.major,minor:e.version.minor},length:t.data.length(),fragment:t.data}:null},l.createAlert=function(e,t){var n=i.util.createBuffer();return n.putByte(t.level),n.putByte(t.description),l.createRecord(e,{type:l.ContentType.alert,data:n})},l.createClientHello=function(e){e.session.clientHelloVersion={major:e.version.major,minor:e.version.minor};for(var t=i.util.createBuffer(),n=0;n<e.cipherSuites.length;++n){var r=e.cipherSuites[n];t.putByte(r.id[0]),t.putByte(r.id[1])}var a=t.length(),o=i.util.createBuffer();o.putByte(l.CompressionMethod.none);var s=o.length(),u=i.util.createBuffer();if(e.virtualHost){var d=i.util.createBuffer();d.putByte(0),d.putByte(0);var p=i.util.createBuffer();p.putByte(0),c(p,2,i.util.createBuffer(e.virtualHost));var f=i.util.createBuffer();c(f,2,p),c(d,2,f),u.putBuffer(d)}var h=u.length();h>0&&(h+=2);var m=e.session.id,v=m.length+1+2+4+28+2+a+1+s+h,g=i.util.createBuffer();return g.putByte(l.HandshakeType.client_hello),g.putInt24(v),g.putByte(e.version.major),g.putByte(e.version.minor),g.putBytes(e.session.sp.client_random),c(g,1,i.util.createBuffer(m)),c(g,2,t),c(g,1,o),h>0&&c(g,2,u),g},l.createServerHello=function(e){var t=e.session.id,n=t.length+1+2+4+28+2+1,r=i.util.createBuffer();return r.putByte(l.HandshakeType.server_hello),r.putInt24(n),r.putByte(e.version.major),r.putByte(e.version.minor),r.putBytes(e.session.sp.server_random),c(r,1,i.util.createBuffer(t)),r.putByte(e.session.cipherSuite.id[0]),r.putByte(e.session.cipherSuite.id[1]),r.putByte(e.session.compressionMethod),r},l.createCertificate=function(e){var t,n=e.entity===l.ConnectionEnd.client,r=null;e.getCertificate&&(t=n?e.session.certificateRequest:e.session.extensions.server_name.serverNameList,r=e.getCertificate(e,t));var a=i.util.createBuffer();if(null!==r)try{i.util.isArray(r)||(r=[r]);for(var o=null,s=0;s<r.length;++s){var u=i.pem.decode(r[s])[0];if("CERTIFICATE"!==u.type&&"X509 CERTIFICATE"!==u.type&&"TRUSTED CERTIFICATE"!==u.type){var d=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw d.headerType=u.type,d}if(u.procType&&"ENCRYPTED"===u.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var p=i.util.createBuffer(u.body);null===o&&(o=i.asn1.fromDer(p.bytes(),!1));var f=i.util.createBuffer();c(f,3,p),a.putBuffer(f)}r=i.pki.certificateFromAsn1(o),n?e.session.clientCertificate=r:e.session.serverCertificate=r}catch(t){return e.error(e,{message:"Could not send certificate list.",cause:t,send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.bad_certificate}})}var h=3+a.length(),m=i.util.createBuffer();return m.putByte(l.HandshakeType.certificate),m.putInt24(h),c(m,3,a),m},l.createClientKeyExchange=function(e){var t=i.util.createBuffer();t.putByte(e.session.clientHelloVersion.major),t.putByte(e.session.clientHelloVersion.minor),t.putBytes(i.random.getBytes(46));var n=e.session.sp;n.pre_master_secret=t.getBytes();var r=(t=e.session.serverCertificate.publicKey.encrypt(n.pre_master_secret)).length+2,a=i.util.createBuffer();return a.putByte(l.HandshakeType.client_key_exchange),a.putInt24(r),a.putInt16(t.length),a.putBytes(t),a},l.createServerKeyExchange=function(e){var t=i.util.createBuffer();return t},l.getClientSignature=function(e,t){var n=i.util.createBuffer();n.putBuffer(e.session.md5.digest()),n.putBuffer(e.session.sha1.digest()),n=n.getBytes(),e.getSignature=e.getSignature||function(e,t,n){var r=null;if(e.getPrivateKey)try{r=e.getPrivateKey(e,e.session.clientCertificate),r=i.pki.privateKeyFromPem(r)}catch(t){e.error(e,{message:"Could not get private key.",cause:t,send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.internal_error}})}null===r?e.error(e,{message:"No private key set.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.internal_error}}):t=r.sign(t,null),n(e,t)},e.getSignature(e,n,t)},l.createCertificateVerify=function(e,t){var n=t.length+2,r=i.util.createBuffer();return r.putByte(l.HandshakeType.certificate_verify),r.putInt24(n),r.putInt16(t.length),r.putBytes(t),r},l.createCertificateRequest=function(e){var t=i.util.createBuffer();t.putByte(1);var n=i.util.createBuffer();for(var r in e.caStore.certs){var a=e.caStore.certs[r],o=i.pki.distinguishedNameToAsn1(a.subject),s=i.asn1.toDer(o);n.putInt16(s.length()),n.putBuffer(s)}var u=1+t.length()+2+n.length(),d=i.util.createBuffer();return d.putByte(l.HandshakeType.certificate_request),d.putInt24(u),c(d,1,t),c(d,2,n),d},l.createServerHelloDone=function(e){var t=i.util.createBuffer();return t.putByte(l.HandshakeType.server_hello_done),t.putInt24(0),t},l.createChangeCipherSpec=function(){var e=i.util.createBuffer();return e.putByte(1),e},l.createFinished=function(e){var t=i.util.createBuffer();t.putBuffer(e.session.md5.digest()),t.putBuffer(e.session.sha1.digest());var n=e.entity===l.ConnectionEnd.client,r=e.session.sp,o=n?"client finished":"server finished";t=a(r.master_secret,o,t.getBytes(),12);var s=i.util.createBuffer();return s.putByte(l.HandshakeType.finished),s.putInt24(t.length()),s.putBuffer(t),s},l.createHeartbeat=function(e,t,n){void 0===n&&(n=t.length);var r=i.util.createBuffer();r.putByte(e),r.putInt16(n),r.putBytes(t);var a=r.length(),o=Math.max(16,a-n-3);return r.putBytes(i.random.getBytes(o)),r},l.queue=function(e,t){if(t&&(0!==t.fragment.length()||t.type!==l.ContentType.handshake&&t.type!==l.ContentType.alert&&t.type!==l.ContentType.change_cipher_spec)){if(t.type===l.ContentType.handshake){var n=t.fragment.bytes();e.session.md5.update(n),e.session.sha1.update(n),n=null}var r;if(t.fragment.length()<=l.MaxFragment)r=[t];else{r=[];for(var a=t.fragment.bytes();a.length>l.MaxFragment;)r.push(l.createRecord(e,{type:t.type,data:i.util.createBuffer(a.slice(0,l.MaxFragment))})),a=a.slice(l.MaxFragment);a.length>0&&r.push(l.createRecord(e,{type:t.type,data:i.util.createBuffer(a)}))}for(var o=0;o<r.length&&!e.fail;++o){var s=r[o];e.state.current.write.update(e,s)&&e.records.push(s)}}},l.flush=function(e){for(var t=0;t<e.records.length;++t){var n=e.records[t];e.tlsData.putByte(n.type),e.tlsData.putByte(n.version.major),e.tlsData.putByte(n.version.minor),e.tlsData.putInt16(n.fragment.length()),e.tlsData.putBuffer(e.records[t].fragment)}return e.records=[],e.tlsDataReady(e)};var q=function(e){switch(e){case!0:return!0;case i.pki.certificateError.bad_certificate:return l.Alert.Description.bad_certificate;case i.pki.certificateError.unsupported_certificate:return l.Alert.Description.unsupported_certificate;case i.pki.certificateError.certificate_revoked:return l.Alert.Description.certificate_revoked;case i.pki.certificateError.certificate_expired:return l.Alert.Description.certificate_expired;case i.pki.certificateError.certificate_unknown:return l.Alert.Description.certificate_unknown;case i.pki.certificateError.unknown_ca:return l.Alert.Description.unknown_ca;default:return l.Alert.Description.bad_certificate}};for(var H in l.verifyCertificateChain=function(e,t){try{var n={};for(var a in e.verifyOptions)n[a]=e.verifyOptions[a];n.verify=function(t,n,a){q(t);var o=e.verify(e,t,n,a);if(!0!==o){if("object"===r(o)&&!i.util.isArray(o)){var s=new Error("The application rejected the certificate.");throw s.send=!0,s.alert={level:l.Alert.Level.fatal,description:l.Alert.Description.bad_certificate},o.message&&(s.message=o.message),o.alert&&(s.alert.description=o.alert),s}o!==t&&(o=function(e){switch(e){case!0:return!0;case l.Alert.Description.bad_certificate:return i.pki.certificateError.bad_certificate;case l.Alert.Description.unsupported_certificate:return i.pki.certificateError.unsupported_certificate;case l.Alert.Description.certificate_revoked:return i.pki.certificateError.certificate_revoked;case l.Alert.Description.certificate_expired:return i.pki.certificateError.certificate_expired;case l.Alert.Description.certificate_unknown:return i.pki.certificateError.certificate_unknown;case l.Alert.Description.unknown_ca:return i.pki.certificateError.unknown_ca;default:return i.pki.certificateError.bad_certificate}}(o))}return o},i.pki.verifyCertificateChain(e.caStore,t,n)}catch(t){var o=t;("object"!==r(o)||i.util.isArray(o))&&(o={send:!0,alert:{level:l.Alert.Level.fatal,description:q(t)}}),"send"in o||(o.send=!0),"alert"in o||(o.alert={level:l.Alert.Level.fatal,description:q(o.error)}),e.error(e,o)}return!e.fail},l.createSessionCache=function(e,t){var n=null;if(e&&e.getSession&&e.setSession&&e.order)n=e;else{for(var r in(n={}).cache=e||{},n.capacity=Math.max(t||100,1),n.order=[],e)n.order.length<=t?n.order.push(r):delete e[r];n.getSession=function(e){var t=null,r=null;if(e?r=i.util.bytesToHex(e):n.order.length>0&&(r=n.order[0]),null!==r&&r in n.cache)for(var a in t=n.cache[r],delete n.cache[r],n.order)if(n.order[a]===r){n.order.splice(a,1);break}return t},n.setSession=function(e,t){if(n.order.length===n.capacity){var r=n.order.shift();delete n.cache[r]}r=i.util.bytesToHex(e);n.order.push(r),n.cache[r]=t}}return n},l.createConnection=function(e){var t=null;t=e.caStore?i.util.isArray(e.caStore)?i.pki.createCaStore(e.caStore):e.caStore:i.pki.createCaStore();var n=e.cipherSuites||null;if(null===n)for(var r in n=[],l.CipherSuites)n.push(l.CipherSuites[r]);var a=e.server?l.ConnectionEnd.server:l.ConnectionEnd.client,o=e.sessionCache?l.createSessionCache(e.sessionCache):null,s={version:{major:l.Version.major,minor:l.Version.minor},entity:a,sessionId:e.sessionId,caStore:t,sessionCache:o,cipherSuites:n,connected:e.connected,virtualHost:e.virtualHost||null,verifyClient:e.verifyClient||!1,verify:e.verify||function(e,t,n,r){return t},verifyOptions:e.verifyOptions||{},getCertificate:e.getCertificate||null,getPrivateKey:e.getPrivateKey||null,getSignature:e.getSignature||null,input:i.util.createBuffer(),tlsData:i.util.createBuffer(),data:i.util.createBuffer(),tlsDataReady:e.tlsDataReady,dataReady:e.dataReady,heartbeatReceived:e.heartbeatReceived,closed:e.closed,error:function(t,n){n.origin=n.origin||(t.entity===l.ConnectionEnd.client?"client":"server"),n.send&&(l.queue(t,l.createAlert(t,n.alert)),l.flush(t));var r=!1!==n.fatal;r&&(t.fail=!0),e.error(t,n),r&&t.close(!1)},deflate:e.deflate||null,inflate:e.inflate||null,reset:function(e){s.version={major:l.Version.major,minor:l.Version.minor},s.record=null,s.session=null,s.peerCertificate=null,s.state={pending:null,current:null},s.expect=(s.entity,l.ConnectionEnd.client,0),s.fragmented=null,s.records=[],s.open=!1,s.handshakes=0,s.handshaking=!1,s.isConnected=!1,s.fail=!(e||void 0===e),s.input.clear(),s.tlsData.clear(),s.data.clear(),s.state.current=l.createConnectionState(s)}};s.reset();return s.handshake=function(e){if(s.entity!==l.ConnectionEnd.client)s.error(s,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(s.handshaking)s.error(s,{message:"Handshake already in progress.",fatal:!1});else{s.fail&&!s.open&&0===s.handshakes&&(s.fail=!1),s.handshaking=!0;var t=null;(e=e||"").length>0&&(s.sessionCache&&(t=s.sessionCache.getSession(e)),null===t&&(e="")),0===e.length&&s.sessionCache&&null!==(t=s.sessionCache.getSession())&&(e=t.id),s.session={id:e,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:i.md.md5.create(),sha1:i.md.sha1.create()},t&&(s.version=t.version,s.session.sp=t.sp),s.session.sp.client_random=l.createRandom().getBytes(),s.open=!0,l.queue(s,l.createRecord(s,{type:l.ContentType.handshake,data:l.createClientHello(s)})),l.flush(s)}},s.process=function(e){var t=0;return e&&s.input.putBytes(e),s.fail||(null!==s.record&&s.record.ready&&s.record.fragment.isEmpty()&&(s.record=null),null===s.record&&(t=function(e){var t=0,n=e.input,r=n.length();if(r<5)t=5-r;else{e.record={type:n.getByte(),version:{major:n.getByte(),minor:n.getByte()},length:n.getInt16(),fragment:i.util.createBuffer(),ready:!1};var a=e.record.version.major===e.version.major;a&&e.session&&e.session.version&&(a=e.record.version.minor===e.version.minor),a||e.error(e,{message:"Incompatible TLS version.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.protocol_version}})}return t}(s)),s.fail||null===s.record||s.record.ready||(t=function(e){var t=0,n=e.input,r=n.length();return r<e.record.length?t=e.record.length-r:(e.record.fragment.putBytes(n.getBytes(e.record.length)),n.compact(),e.state.current.read.update(e,e.record)&&(null!==e.fragmented&&(e.fragmented.type===e.record.type?(e.fragmented.fragment.putBuffer(e.record.fragment),e.record=e.fragmented):e.error(e,{message:"Invalid fragmented record.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.unexpected_message}})),e.record.ready=!0)),t}(s)),!s.fail&&null!==s.record&&s.record.ready&&function(e,t){var n=t.type-l.ContentType.change_cipher_spec,r=O[e.entity][e.expect];n in r?r[n](e,t):l.handleUnexpected(e,t)}(s,s.record)),t},s.prepare=function(e){return l.queue(s,l.createRecord(s,{type:l.ContentType.application_data,data:i.util.createBuffer(e)})),l.flush(s)},s.prepareHeartbeatRequest=function(e,t){return e instanceof i.util.ByteBuffer&&(e=e.bytes()),void 0===t&&(t=e.length),s.expectedHeartbeatPayload=e,l.queue(s,l.createRecord(s,{type:l.ContentType.heartbeat,data:l.createHeartbeat(l.HeartbeatMessageType.heartbeat_request,e,t)})),l.flush(s)},s.close=function(e){if(!s.fail&&s.sessionCache&&s.session){var t={id:s.session.id,version:s.session.version,sp:s.session.sp};t.sp.keys=null,s.sessionCache.setSession(t.id,t)}s.open&&(s.open=!1,s.input.clear(),(s.isConnected||s.handshaking)&&(s.isConnected=s.handshaking=!1,l.queue(s,l.createAlert(s,{level:l.Alert.Level.warning,description:l.Alert.Description.close_notify})),l.flush(s)),s.closed(s)),s.reset(e)},s},e.exports=i.tls=i.tls||{},l)"function"!=typeof l[H]&&(i.tls[H]=l[H]);i.tls.prf_tls1=a,i.tls.hmac_sha1=function(e,t,n){var r=i.hmac.create();r.start("SHA1",e);var a=i.util.createBuffer();return a.putInt32(t[0]),a.putInt32(t[1]),a.putByte(n.type),a.putByte(n.version.major),a.putByte(n.version.minor),a.putInt16(n.length),a.putBytes(n.fragment.bytes()),r.update(a.getBytes()),r.digest().getBytes()},i.tls.createSessionCache=l.createSessionCache,i.tls.createConnection=l.createConnection},71072:(e,t,n)=>{"use strict";var r=n(61828),i=n(88727);e.exports=Object.keys||function(e){return r(e,i)}},71392:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});n(52675),n(89463),n(66412),n(26099),n(3362);var r=n(70058);function i(e){return function(){return new a(e.apply(this,arguments))}}function a(e){var t,n;function i(t,n){try{var o=e[t](n),s=o.value,u=s instanceof r.A;Promise.resolve(u?s.v:s).then((function(n){if(u){var r="return"===t?"return":"next";if(!s.k||n.done)return i(r,n);n=e[r](n).value}a(o.done?"return":"normal",n)}),(function(e){i("throw",e)}))}catch(e){a("throw",e)}}function a(e,r){switch(e){case"return":t.resolve({value:r,done:!0});break;case"throw":t.reject(r);break;default:t.resolve({value:r,done:!1})}(t=t.next)?i(t.key,t.arg):n=null}this._invoke=function(e,r){return new Promise((function(a,o){var s={key:e,arg:r,resolve:a,reject:o,next:null};n?n=n.next=s:(t=n=s,i(e,r))}))},"function"!=typeof e.return&&(this.return=void 0)}a.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},a.prototype.next=function(e){return this._invoke("next",e)},a.prototype.throw=function(e){return this._invoke("throw",e)},a.prototype.return=function(e){return this._invoke("return",e)}},71533:function(e,t,n){var r,i,a,o,s=n(89990);n(34782),o=function(e){return e.mode.CFB=function(){var t=e.lib.BlockCipherMode.extend();function n(e,t,n,r){var i,a=this._iv;a?(i=a.slice(0),this._iv=void 0):i=this._prevBlock,r.encryptBlock(i,0);for(var o=0;o<n;o++)e[t+o]^=i[o]}return t.Encryptor=t.extend({processBlock:function(e,t){var r=this._cipher,i=r.blockSize;n.call(this,e,t,i,r),this._prevBlock=e.slice(t,t+i)}}),t.Decryptor=t.extend({processBlock:function(e,t){var r=this._cipher,i=r.blockSize,a=e.slice(t,t+i);n.call(this,e,t,i,r),this._prevBlock=a}}),t}(),e.mode.CFB},"object"===s(t)?e.exports=t=o(n(83841),n(76793)):(i=[n(83841),n(76793)],void 0===(a="function"==typeof(r=o)?r.apply(t,i):r)||(e.exports=a))},71678:(e,t,n)=>{"use strict";var r,i=n(96395),a=n(46518),o=n(44576),s=n(97751),u=n(79504),c=n(79039),l=n(33392),d=n(94901),p=n(33517),f=n(64117),h=n(20034),m=n(10757),v=n(72652),g=n(28551),y=n(36955),b=n(39297),w=n(97040),D=n(66699),A=n(26198),E=n(22812),k=n(61034),C=n(72248),_=n(94402),x=n(38469),S=n(94483),T=n(24659),F=n(1548),O=o.Object,P=o.Array,I=o.Date,B=o.Error,R=o.TypeError,N=o.PerformanceMark,M=s("DOMException"),L=C.Map,j=C.has,U=C.get,z=C.set,V=_.Set,q=_.add,H=_.has,W=s("Object","keys"),K=u([].push),$=u((!0).valueOf),G=u(1..valueOf),Q=u("".valueOf),Y=u(I.prototype.getTime),X=l("structuredClone"),Z="DataCloneError",J="Transferring",ee=function(e){return!c((function(){var t=new o.Set([7]),n=e(t),r=e(O(7));return n===t||!n.has(7)||!h(r)||7!=+r}))&&e},te=function(e,t){return!c((function(){var n=new t,r=e({a:n,b:n});return!(r&&r.a===r.b&&r.a instanceof t&&r.a.stack===n.stack)}))},ne=o.structuredClone,re=i||!te(ne,B)||!te(ne,M)||(r=ne,!!c((function(){var e=r(new o.AggregateError([1],X,{cause:3}));return"AggregateError"!==e.name||1!==e.errors[0]||e.message!==X||3!==e.cause}))),ie=!ne&&ee((function(e){return new N(X,{detail:e}).detail})),ae=ee(ne)||ie,oe=function(e){throw new M("Uncloneable type: "+e,Z)},se=function(e,t){throw new M((t||"Cloning")+" of "+e+" cannot be properly polyfilled in this engine",Z)},ue=function(e,t){return ae||se(t),ae(e)},ce=function(e,t,n){if(j(t,e))return U(t,e);var r,i,a,s,u,c;if("SharedArrayBuffer"===(n||y(e)))r=ae?ae(e):e;else{var l=o.DataView;l||d(e.slice)||se("ArrayBuffer");try{if(d(e.slice)&&!e.resizable)r=e.slice(0);else{i=e.byteLength,a="maxByteLength"in e?{maxByteLength:e.maxByteLength}:void 0,r=new ArrayBuffer(i,a),s=new l(e),u=new l(r);for(c=0;c<i;c++)u.setUint8(c,s.getUint8(c))}}catch(e){throw new M("ArrayBuffer is detached",Z)}}return z(t,e,r),r},le=function(e,t){if(m(e)&&oe("Symbol"),!h(e))return e;if(t){if(j(t,e))return U(t,e)}else t=new L;var n,r,i,a,u,c,l,p,f=y(e);switch(f){case"Array":i=P(A(e));break;case"Object":i={};break;case"Map":i=new L;break;case"Set":i=new V;break;case"RegExp":i=new RegExp(e.source,k(e));break;case"Error":switch(r=e.name){case"AggregateError":i=new(s(r))([]);break;case"EvalError":case"RangeError":case"ReferenceError":case"SuppressedError":case"SyntaxError":case"TypeError":case"URIError":i=new(s(r));break;case"CompileError":case"LinkError":case"RuntimeError":i=new(s("WebAssembly",r));break;default:i=new B}break;case"DOMException":i=new M(e.message,e.name);break;case"ArrayBuffer":case"SharedArrayBuffer":i=ce(e,t,f);break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float16Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":c="DataView"===f?e.byteLength:e.length,i=function(e,t,n,r,i){var a=o[t];return h(a)||se(t),new a(ce(e.buffer,i),n,r)}(e,f,e.byteOffset,c,t);break;case"DOMQuad":try{i=new DOMQuad(le(e.p1,t),le(e.p2,t),le(e.p3,t),le(e.p4,t))}catch(t){i=ue(e,f)}break;case"File":if(ae)try{i=ae(e),y(i)!==f&&(i=void 0)}catch(e){}if(!i)try{i=new File([e],e.name,e)}catch(e){}i||se(f);break;case"FileList":if(a=function(){var e;try{e=new o.DataTransfer}catch(t){try{e=new o.ClipboardEvent("").clipboardData}catch(e){}}return e&&e.items&&e.files?e:null}()){for(u=0,c=A(e);u<c;u++)a.items.add(le(e[u],t));i=a.files}else i=ue(e,f);break;case"ImageData":try{i=new ImageData(le(e.data,t),e.width,e.height,{colorSpace:e.colorSpace})}catch(t){i=ue(e,f)}break;default:if(ae)i=ae(e);else switch(f){case"BigInt":i=O(e.valueOf());break;case"Boolean":i=O($(e));break;case"Number":i=O(G(e));break;case"String":i=O(Q(e));break;case"Date":i=new I(Y(e));break;case"Blob":try{i=e.slice(0,e.size,e.type)}catch(e){se(f)}break;case"DOMPoint":case"DOMPointReadOnly":n=o[f];try{i=n.fromPoint?n.fromPoint(e):new n(e.x,e.y,e.z,e.w)}catch(e){se(f)}break;case"DOMRect":case"DOMRectReadOnly":n=o[f];try{i=n.fromRect?n.fromRect(e):new n(e.x,e.y,e.width,e.height)}catch(e){se(f)}break;case"DOMMatrix":case"DOMMatrixReadOnly":n=o[f];try{i=n.fromMatrix?n.fromMatrix(e):new n(e)}catch(e){se(f)}break;case"AudioData":case"VideoFrame":d(e.clone)||se(f);try{i=e.clone()}catch(e){oe(f)}break;case"CropTarget":case"CryptoKey":case"FileSystemDirectoryHandle":case"FileSystemFileHandle":case"FileSystemHandle":case"GPUCompilationInfo":case"GPUCompilationMessage":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":se(f);default:oe(f)}}switch(z(t,e,i),f){case"Array":case"Object":for(l=W(e),u=0,c=A(l);u<c;u++)p=l[u],w(i,p,le(e[p],t));break;case"Map":e.forEach((function(e,n){z(i,le(n,t),le(e,t))}));break;case"Set":e.forEach((function(e){q(i,le(e,t))}));break;case"Error":D(i,"message",le(e.message,t)),b(e,"cause")&&D(i,"cause",le(e.cause,t)),"AggregateError"===r?i.errors=le(e.errors,t):"SuppressedError"===r&&(i.error=le(e.error,t),i.suppressed=le(e.suppressed,t));case"DOMException":T&&D(i,"stack",le(e.stack,t))}return i};a({global:!0,enumerable:!0,sham:!F,forced:re},{structuredClone:function(e){var t,n,r=E(arguments.length,1)>1&&!f(arguments[1])?g(arguments[1]):void 0,i=r?r.transfer:void 0;void 0!==i&&(n=function(e,t){if(!h(e))throw new R("Transfer option cannot be converted to a sequence");var n=[];v(e,(function(e){K(n,g(e))}));for(var r,i,a,s,u,c=0,l=A(n),f=new V;c<l;){if(r=n[c++],"ArrayBuffer"===(i=y(r))?H(f,r):j(t,r))throw new M("Duplicate transferable",Z);if("ArrayBuffer"!==i){if(F)s=ne(r,{transfer:[r]});else switch(i){case"ImageBitmap":a=o.OffscreenCanvas,p(a)||se(i,J);try{(u=new a(r.width,r.height)).getContext("bitmaprenderer").transferFromImageBitmap(r),s=u.transferToImageBitmap()}catch(e){}break;case"AudioData":case"VideoFrame":d(r.clone)&&d(r.close)||se(i,J);try{s=r.clone(),r.close()}catch(e){}break;case"MediaSourceHandle":case"MessagePort":case"MIDIAccess":case"OffscreenCanvas":case"ReadableStream":case"RTCDataChannel":case"TransformStream":case"WebTransportReceiveStream":case"WebTransportSendStream":case"WritableStream":se(i,J)}if(void 0===s)throw new M("This object cannot be transferred: "+i,Z);z(t,r,s)}else q(f,r)}return f}(i,t=new L));var a=le(e,t);return n&&function(e){x(e,(function(e){F?ae(e,{transfer:[e]}):d(e.transfer)?e.transfer():S?S(e):se("ArrayBuffer",J)}))}(n),a}})},71679:e=>{e.exports=function(e){return null===e}},71761:(e,t,n)=>{"use strict";var r=n(69565),i=n(89228),a=n(28551),o=n(64117),s=n(18014),u=n(655),c=n(67750),l=n(55966),d=n(57829),p=n(56682);i("match",(function(e,t,n){return[function(t){var n=c(this),i=o(t)?void 0:l(t,e);return i?r(i,t,n):new RegExp(t)[e](u(n))},function(e){var r=a(this),i=u(e),o=n(t,r,i);if(o.done)return o.value;if(!r.global)return p(r,i);var c=r.unicode;r.lastIndex=0;for(var l,f=[],h=0;null!==(l=p(r,i));){var m=u(l[0]);f[h]=m,""===m&&(r.lastIndex=d(i,s(r.lastIndex),c)),h++}return 0===h?null:f}]}))},72107:(e,t,n)=>{"use strict";n(15823)("Int16",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},72170:(e,t,n)=>{"use strict";var r=n(94644),i=n(59213).every,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("every",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},72248:(e,t,n)=>{"use strict";var r=n(79504),i=Map.prototype;e.exports={Map,set:r(i.set),get:r(i.get),has:r(i.has),remove:r(i.delete),proto:i}},72333:(e,t,n)=>{"use strict";var r=n(91291),i=n(655),a=n(67750),o=RangeError;e.exports=function(e){var t=i(a(this)),n="",s=r(e);if(s<0||s===1/0)throw new o("Wrong number of repetitions");for(;s>0;(s>>>=1)&&(t+=t))1&s&&(n+=t);return n}},72577:(e,t,n)=>{"use strict";n(20116)},72652:(e,t,n)=>{"use strict";var r=n(76080),i=n(69565),a=n(28551),o=n(16823),s=n(44209),u=n(26198),c=n(1625),l=n(70081),d=n(50851),p=n(9539),f=TypeError,h=function(e,t){this.stopped=e,this.result=t},m=h.prototype;e.exports=function(e,t,n){var v,g,y,b,w,D,A,E=n&&n.that,k=!(!n||!n.AS_ENTRIES),C=!(!n||!n.IS_RECORD),_=!(!n||!n.IS_ITERATOR),x=!(!n||!n.INTERRUPTED),S=r(t,E),T=function(e){return v&&p(v,"normal",e),new h(!0,e)},F=function(e){return k?(a(e),x?S(e[0],e[1],T):S(e[0],e[1])):x?S(e,T):S(e)};if(C)v=e.iterator;else if(_)v=e;else{if(!(g=d(e)))throw new f(o(e)+" is not iterable");if(s(g)){for(y=0,b=u(e);b>y;y++)if((w=F(e[y]))&&c(m,w))return w;return new h(!1)}v=l(e,g)}for(D=C?e.next:v.next;!(A=i(D,v)).done;){try{w=F(A.value)}catch(e){p(v,"throw",e)}if("object"==typeof w&&w&&c(m,w))return w}return new h(!1)}},72712:(e,t,n)=>{"use strict";var r=n(46518),i=n(80926).left,a=n(34598),o=n(39519);r({target:"Array",proto:!0,forced:!n(16193)&&o>79&&o<83||!a("reduce")},{reduce:function(e){var t=arguments.length;return i(this,e,t,t>1?arguments[1]:void 0)}})},72777:(e,t,n)=>{"use strict";var r=n(69565),i=n(20034),a=n(10757),o=n(55966),s=n(84270),u=n(78227),c=TypeError,l=u("toPrimitive");e.exports=function(e,t){if(!i(e)||a(e))return e;var n,u=o(e,l);if(u){if(void 0===t&&(t="default"),n=r(u,e,t),!i(n)||a(n))return n;throw new c("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},72805:(e,t,n)=>{"use strict";var r=n(44576),i=n(79039),a=n(84428),o=n(94644).NATIVE_ARRAY_BUFFER_VIEWS,s=r.ArrayBuffer,u=r.Int8Array;e.exports=!o||!i((function(){u(1)}))||!i((function(){new u(-1)}))||!a((function(e){new u,new u(null),new u(1.5),new u(e)}),!0)||i((function(){return 1!==new u(new s(2),1,void 0).length}))},72955:e=>{e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},73255:(e,t,n)=>{"use strict";n.r(t),n.d(t,{SplashScreenWeb:()=>p});n(60825);var r=n(18443),i=n(58237),a=n(84285),o=n(68119),s=n(36858),u=n(31061),c=n(61792),l=n.n(c);function d(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(d=function(){return!!e})()}var p=function(e){function t(){return(0,i.A)(this,t),function(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,d()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}(this,t,arguments)}return(0,u.A)(t,e),(0,a.A)(t,[{key:"show",value:(c=(0,r.A)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",void 0);case 1:case"end":return e.stop()}}),e)}))),function(e){return c.apply(this,arguments)})},{key:"hide",value:(n=(0,r.A)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",void 0);case 1:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)})}]);var n,c}(n(94230).E_)},73320:(e,t,n)=>{var r=n(89202);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},73506:(e,t,n)=>{"use strict";var r=n(13925),i=String,a=TypeError;e.exports=function(e){if(r(e))return e;throw new a("Can't set "+i(e)+" as a prototype")}},73512:function(e,t,n){"use strict";n(44114),n(62010),n(84185),n(27495),n(25440),n(42762);var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t,n){void 0===n&&(n={});for(var r=[],i="function"==typeof n.replace,c=n.transform||o.returnFirstArg,l=n.library||s,d=l.cloneElement,p=l.createElement,f=l.isValidElement,h=t.length,m=0;m<h;m++){var v=t[m];if(i){var g=n.replace(v,m);if(f(g)){h>1&&(g=d(g,{key:g.key||m})),r.push(c(g,v,m));continue}}if("text"!==v.type){var y=v,b={};u(y)?((0,o.setStyleProp)(y.attribs.style,y.attribs),b=y.attribs):y.attribs&&(b=(0,a.default)(y.attribs,y.name));var w=void 0;switch(v.type){case"script":case"style":v.children[0]&&(b.dangerouslySetInnerHTML={__html:v.children[0].data});break;case"tag":"textarea"===v.name&&v.children[0]?b.defaultValue=v.children[0].data:v.children&&v.children.length&&(w=e(v.children,n));break;default:continue}h>1&&(b.key=m),r.push(c(p(v.name,b,w),v,m))}else{var D=!v.data.trim().length;if(D&&v.parent&&!(0,o.canTextBeChildOfNode)(v.parent))continue;if(n.trim&&D)continue;r.push(c(v.data,v,m))}}return 1===r.length?r[0]:r};var i=n(55384),a=r(n(83532)),o=n(6762),s={cloneElement:i.cloneElement,createElement:i.createElement,isValidElement:i.isValidElement};function u(e){return o.PRESERVE_CUSTOM_ATTRIBUTES&&"tag"===e.type&&(0,o.isCustomComponent)(e.name,e.attribs)}},73749:(e,t,n)=>{var r=n(79932);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},73772:(e,t,n)=>{"use strict";n(65746)},73848:(e,t,n)=>{"use strict";n.d(t,{A:()=>b});var r=n(58237),i=n(84285),a=n(68119),o=n(36858),s=n(31061),u=n(46983),c=(n(16280),n(76918),n(28706),n(84185),n(26099),n(3362),n(60825),n(36480)),l=n(10826);const d=function(e,t){return void 0===t&&(t=document),"string"==typeof e?t.querySelector(e):(0,l.A)(e)?e:null};var p=n(36118),f=n(32744);function h(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(h=function(){return!!e})()}function m(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var v=0;function g(e){return"__private_"+v+++"_"+e}var y=g("updateUI");const b=function(e){function t(){var e;return(0,r.A)(this,t),e=function(e,t,n){return t=(0,o.A)(t),(0,a.A)(e,h()?Reflect.construct(t,n||[],(0,o.A)(e).constructor):t.apply(e,n))}(this,t,arguments),Object.defineProperty(e,y,{writable:!0,value:void 0}),e}return(0,s.A)(t,e),(0,i.A)(t,[{key:"getTargetPlugin",value:function(e){var n;if("function"==typeof(null==e?void 0:e.addTarget))(n=e)instanceof t||console.warn(new Error("The provided plugin is not an instance of UIPlugin. This is an indication of a bug with the way Uppy is bundled.",{cause:{targetPlugin:n,UIPlugin:t}}));else if("function"==typeof e){var r=e;this.uppy.iteratePlugins((function(e){e instanceof r&&(n=e)}))}return n}},{key:"mount",value:function(e,t){var n,r,i,a=this,o=t.id,s=d(e);if(s){this.isTargetDOMEl=!0;var l=document.createElement("div");return l.classList.add("uppy-Root"),m(this,y)[y]=(n=function(e){a.uppy.getPlugin(a.id)&&((0,c.XX)(a.render(e),l),a.afterUpdate())},i=null,function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return r=t,i||(i=Promise.resolve().then((function(){return i=null,n.apply(void 0,(0,u.A)(r))}))),i}),this.uppy.log("Installing ".concat(o," to a DOM element '").concat(e,"'")),this.opts.replaceTargetContent&&(s.innerHTML=""),(0,c.XX)(this.render(this.uppy.getState()),l),this.el=l,s.appendChild(l),l.dir=this.opts.direction||(0,p.A)(l)||"ltr",this.onMount(),this.el}var f=this.getTargetPlugin(e);if(f)return this.uppy.log("Installing ".concat(o," to ").concat(f.id)),this.parent=f,this.el=f.addTarget(t),this.onMount(),this.el;this.uppy.log("Not installing ".concat(o));var h="Invalid target option given to ".concat(o,".");throw h+="function"==typeof e?" The given target is not a Plugin class. Please check that you're not specifying a React Component instead of a plugin. If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.":"If you meant to target an HTML element, please make sure that the element exists. Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. (see https://github.com/transloadit/uppy/issues/1042)\n\nIf you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.",new Error(h)}},{key:"render",value:function(e){throw new Error("Extend the render method to add your plugin to a DOM element")}},{key:"update",value:function(e){var t,n;null!=this.el&&(null==(t=(n=m(this,y))[y])||t.call(n,e))}},{key:"unmount",value:function(){var e;this.isTargetDOMEl&&(null==(e=this.el)||e.remove());this.onUnmount()}},{key:"onMount",value:function(){}},{key:"onUnmount",value:function(){}}])}(f.A)},73886:(e,t,n)=>{"use strict";n.r(t),n.d(t,{"default":()=>H});var r=n(18180),i=n(18443),a=n(51531),o=n(58237),s=n(84285),u=n(68119),c=n(36858),l=n(20423),d=n(31061),p=n(61792),f=(n(52675),n(16280),n(76918),n(28706),n(2008),n(50113),n(51629),n(74423),n(25276),n(23792),n(62062),n(44114),n(72712),n(34782),n(15086),n(59089),n(94170),n(69085),n(67945),n(84185),n(83851),n(81278),n(79432),n(26099),n(3362),n(60825),n(27495),n(90906),n(21699),n(47764),n(71761),n(98992),n(54520),n(72577),n(3949),n(81454),n(8872),n(37550),n(23500),n(62953),n(76031),n(3296),n(27208),n(48408),n(36480)),h=n(73848),m=n(80241),v={__proto__:null,"audio/mp3":"mp3","audio/mp4":"mp4","audio/ogg":"ogg","audio/webm":"webm","image/gif":"gif","image/heic":"heic","image/heif":"heif","image/jpeg":"jpg","image/png":"png","image/svg+xml":"svg","video/mp4":"mp4","video/ogg":"ogv","video/quicktime":"mov","video/webm":"webm","video/x-matroska":"mkv","video/x-msvideo":"avi"};function g(e){var t=e.split(";",1);return e=(0,m.A)(t,1)[0],v[e]||null}var y=n(63265),b=n(10362);const w=function(){return(0,f.h)("svg",{"aria-hidden":"true",focusable:"false",fill:"#0097DC",width:"66",height:"55",viewBox:"0 0 66 55"},(0,f.h)("path",{d:"M57.3 8.433c4.59 0 8.1 3.51 8.1 8.1v29.7c0 4.59-3.51 8.1-8.1 8.1H8.7c-4.59 0-8.1-3.51-8.1-8.1v-29.7c0-4.59 3.51-8.1 8.1-8.1h9.45l4.59-7.02c.54-.54 1.35-1.08 2.16-1.08h16.2c.81 0 1.62.54 2.16 1.08l4.59 7.02h9.45zM33 14.64c-8.62 0-15.393 6.773-15.393 15.393 0 8.62 6.773 15.393 15.393 15.393 8.62 0 15.393-6.773 15.393-15.393 0-8.62-6.773-15.393-15.393-15.393zM33 40c-5.648 0-9.966-4.319-9.966-9.967 0-5.647 4.318-9.966 9.966-9.966s9.966 4.319 9.966 9.966C42.966 35.681 38.648 40 33 40z",fillRule:"evenodd"}))},D=function(e){var t=e.onSnapshot,n=e.i18n;return(0,f.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-Webcam-button uppy-Webcam-button--picture",type:"button",title:n("takePicture"),"aria-label":n("takePicture"),onClick:t,"data-uppy-super-focusable":!0},w())};function A(e){var t=e.recording,n=e.onStartRecording,r=e.onStopRecording,i=e.i18n;return t?(0,f.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-Webcam-button",type:"button",title:i("stopRecording"),"aria-label":i("stopRecording"),onClick:r,"data-uppy-super-focusable":!0},(0,f.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"100",height:"100",viewBox:"0 0 100 100"},(0,f.h)("rect",{x:"15",y:"15",width:"70",height:"70"}))):(0,f.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-Webcam-button",type:"button",title:i("startRecording"),"aria-label":i("startRecording"),onClick:n,"data-uppy-super-focusable":!0},(0,f.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"100",height:"100",viewBox:"0 0 100 100"},(0,f.h)("circle",{cx:"50",cy:"50",r:"40"})))}n(68156);function E(e){var t,n=e.recordingLengthSeconds,r=e.i18n,i=(t=n,"".concat(Math.floor(t/60),":").concat(String(t%60).padStart(2,0)));return(0,f.h)("span",{"aria-label":r("recordingLength",{recording_length:i})},i)}const k=function(e){var t=e.onSubmit,n=e.i18n;return(0,f.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-Webcam-button uppy-Webcam-button--submit",type:"button",title:n("submitRecordedFile"),"aria-label":n("submitRecordedFile"),onClick:t,"data-uppy-super-focusable":!0},(0,f.h)("svg",{width:"12",height:"9",viewBox:"0 0 12 9",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",className:"uppy-c-icon"},(0,f.h)("path",{fill:"#fff",fillRule:"nonzero",d:"M10.66 0L12 1.31 4.136 9 0 4.956l1.34-1.31L4.136 6.38z"})))};const C=function(e){var t=e.onDiscard,n=e.i18n;return(0,f.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-Webcam-button uppy-Webcam-button--discard",type:"button",title:n("discardRecordedFile"),"aria-label":n("discardRecordedFile"),onClick:t,"data-uppy-super-focusable":!0},(0,f.h)("svg",{width:"13",height:"13",viewBox:"0 0 13 13",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",className:"uppy-c-icon"},(0,f.h)("g",{fill:"#FFF",fillRule:"evenodd"},(0,f.h)("path",{d:"M.496 11.367L11.103.76l1.414 1.414L1.911 12.781z"}),(0,f.h)("path",{d:"M11.104 12.782L.497 2.175 1.911.76l10.607 10.606z"}))))};function _(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_=function(){return!!e})()}function x(){return x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x.apply(this,arguments)}function S(e,t){return e.includes(t)}const T=function(e){function t(){return(0,o.A)(this,t),function(e,t,n){return t=(0,c.A)(t),(0,u.A)(e,_()?Reflect.construct(t,n||[],(0,c.A)(e).constructor):t.apply(e,n))}(this,t,arguments)}return(0,d.A)(t,e),(0,s.A)(t,[{key:"componentDidMount",value:function(){(0,this.props.onFocus)()}},{key:"componentWillUnmount",value:function(){(0,this.props.onStop)()}},{key:"render",value:function(){var e=this,t=this.props,n=t.src,r=t.recordedVideo,i=t.recording,a=t.modes,o=t.supportsRecording,s=t.videoSources,u=t.showVideoSourceDropdown,c=t.showRecordingLength,l=t.onSubmit,d=t.i18n,p=t.mirror,h=t.onSnapshot,m=t.onStartRecording,v=t.onStopRecording,g=t.onDiscardRecordedVideo,y=t.recordingLengthSeconds,b=!!r,w=!b&&o&&(S(a,"video-only")||S(a,"audio-only")||S(a,"video-audio")),_=!b&&S(a,"picture"),T=o&&c&&!b,F=u&&s&&s.length>1,O={playsinline:!0};return r?(O.muted=!1,O.controls=!0,O.src=r,this.videoElement&&(this.videoElement.srcObject=void 0)):(O.muted=!0,O.autoplay=!0,O.srcObject=n),(0,f.h)("div",{className:"uppy uppy-Webcam-container"},(0,f.h)("div",{className:"uppy-Webcam-videoContainer"},(0,f.h)("video",x({ref:function(t){return e.videoElement=t},className:"uppy-Webcam-video  ".concat(p?"uppy-Webcam-video--mirrored":"")},O))),(0,f.h)("div",{className:"uppy-Webcam-footer"},(0,f.h)("div",{className:"uppy-Webcam-videoSourceContainer"},F?function(e){var t=e.currentDeviceId,n=e.videoSources,r=e.onChangeVideoSource;return(0,f.h)("div",{className:"uppy-Webcam-videoSource"},(0,f.h)("select",{className:"uppy-u-reset uppy-Webcam-videoSource-select",onChange:function(e){r(e.target.value)}},n.map((function(e){return(0,f.h)("option",{key:e.deviceId,value:e.deviceId,selected:e.deviceId===t},e.label)}))))}(this.props):null),(0,f.h)("div",{className:"uppy-Webcam-buttonContainer"},_&&(0,f.h)(D,{onSnapshot:h,i18n:d}),w&&(0,f.h)(A,{recording:i,onStartRecording:m,onStopRecording:v,i18n:d}),b&&(0,f.h)(k,{onSubmit:l,i18n:d}),b&&(0,f.h)(C,{onDiscard:g,i18n:d})),(0,f.h)("div",{className:"uppy-Webcam-recordingLength"},T&&(0,f.h)(E,{recordingLengthSeconds:y,i18n:d}))))}}])}(f.uA),F=function(e){var t=e.icon,n=e.i18n,r=e.hasCamera;return(0,f.h)("div",{className:"uppy-Webcam-permissons"},(0,f.h)("div",{className:"uppy-Webcam-permissonsIcon"},t()),(0,f.h)("h1",{className:"uppy-Webcam-title"},n(r?"allowAccessTitle":"noCameraTitle")),(0,f.h)("p",null,n(r?"allowAccessDescription":"noCameraDescription")))},O={strings:{pluginNameCamera:"Camera",noCameraTitle:"Camera Not Available",noCameraDescription:"In order to take pictures or record video, please connect a camera device",recordingStoppedMaxSize:"Recording stopped because the file size is about to exceed the limit",submitRecordedFile:"Submit recorded file",discardRecordedFile:"Discard recorded file",smile:"Smile!",takePicture:"Take a picture",startRecording:"Begin video recording",stopRecording:"Stop video recording",recordingLength:"Recording length %{recording_length}",allowAccessTitle:"Please allow access to your camera",allowAccessDescription:"In order to take pictures or record video with your camera, please allow camera access for this site."}};function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){(0,a.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function B(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(B=function(){return!!e})()}function R(){return R=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},R.apply(this,arguments)}function N(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var M=0;function L(e){return"__private_"+M+++"_"+e}function j(e){return"."===e[0]?y.A[e.slice(1)]:e}function U(e){return/^video\/[^*]+$/.test(e)}function z(e){return/^image\/[^*]+$/.test(e)}function V(e,t){return e.includes(t)}var q=L("enableMirror"),H=function(e){function t(e,n){var r;(0,o.A)(this,t),r=function(e,t,n){return t=(0,c.A)(t),(0,u.A)(e,B()?Reflect.construct(t,n||[],(0,c.A)(e).constructor):t.apply(e,n))}(this,t,[e,n]),Object.defineProperty(r,q,{writable:!0,value:void 0}),r.mediaDevices=navigator.mediaDevices,r.supportsUserMedia=!!r.mediaDevices,r.protocol=location.protocol.match(/https/i)?"https":"http",r.id=r.opts.id||"Webcam",r.type="acquirer",r.capturedMediaFile=null,r.icon=function(){return(0,f.h)("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},(0,f.h)("path",{d:"M23.5 9.5c1.417 0 2.5 1.083 2.5 2.5v9.167c0 1.416-1.083 2.5-2.5 2.5h-15c-1.417 0-2.5-1.084-2.5-2.5V12c0-1.417 1.083-2.5 2.5-2.5h2.917l1.416-2.167C13 7.167 13.25 7 13.5 7h5c.25 0 .5.167.667.333L20.583 9.5H23.5zM16 11.417a4.706 4.706 0 00-4.75 4.75 4.704 4.704 0 004.75 4.75 4.703 4.703 0 004.75-4.75c0-2.663-2.09-4.75-4.75-4.75zm0 7.825c-1.744 0-3.076-1.332-3.076-3.074 0-1.745 1.333-3.077 3.076-3.077 1.744 0 3.074 1.333 3.074 3.076s-1.33 3.075-3.074 3.075z",fill:"#02B383",fillRule:"nonzero"}))},r.defaultLocale=O;var i={onBeforeSnapshot:function(){return Promise.resolve()},countdown:!1,modes:["video-audio","video-only","audio-only","picture"],mirror:!0,showVideoSourceDropdown:!1,facingMode:"user",videoConstraints:void 0,preferredImageMimeType:null,preferredVideoMimeType:null,showRecordingLength:!1,mobileNativeCamera:b({tablet:!0})};return r.opts=I(I({},i),n),r.i18nInit(),r.title=r.i18n("pluginNameCamera"),N(r,q)[q]=r.opts.mirror,r.install=r.install.bind(r),r.setPluginState=r.setPluginState.bind(r),r.render=r.render.bind(r),r.start=r.start.bind(r),r.stop=r.stop.bind(r),r.takeSnapshot=r.takeSnapshot.bind(r),r.startRecording=r.startRecording.bind(r),r.stopRecording=r.stopRecording.bind(r),r.discardRecordedVideo=r.discardRecordedVideo.bind(r),r.submit=r.submit.bind(r),r.oneTwoThreeSmile=r.oneTwoThreeSmile.bind(r),r.focus=r.focus.bind(r),r.changeVideoSource=r.changeVideoSource.bind(r),r.webcamActive=!1,r.opts.countdown&&(r.opts.onBeforeSnapshot=r.oneTwoThreeSmile),r.setPluginState({hasCamera:!1,cameraReady:!1,cameraError:null,recordingLengthSeconds:0,videoSources:[],currentDeviceId:null}),r}return(0,d.A)(t,e),(0,s.A)(t,[{key:"setOptions",value:function(e){!function(e,t,n,r){var i=(0,l.A)((0,c.A)(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}(t,"setOptions",this,3)([I(I({},e),{},{videoConstraints:I(I({},this.opts.videoConstraints),null==e?void 0:e.videoConstraints)})])}},{key:"hasCameraCheck",value:function(){return this.mediaDevices?this.mediaDevices.enumerateDevices().then((function(e){return e.some((function(e){return"videoinput"===e.kind}))})):Promise.resolve(!1)}},{key:"isAudioOnly",value:function(){return 1===this.opts.modes.length&&"audio-only"===this.opts.modes[0]}},{key:"getConstraints",value:function(e){void 0===e&&(e=null);var t=-1!==this.opts.modes.indexOf("video-audio")||-1!==this.opts.modes.indexOf("audio-only"),n=!this.isAudioOnly()&&(-1!==this.opts.modes.indexOf("video-audio")||-1!==this.opts.modes.indexOf("video-only")||-1!==this.opts.modes.indexOf("picture")),r=I(I({},this.opts.videoConstraints||{facingMode:this.opts.facingMode}),e?{deviceId:e,facingMode:null}:{});return{audio:t,video:!!n&&r}}},{key:"start",value:function(e){var t=this;if(void 0===e&&(e=null),!this.supportsUserMedia)return Promise.reject(new Error("Webcam access not supported"));this.webcamActive=!0,this.opts.mirror&&(N(this,q)[q]=!0);var n=this.getConstraints(e&&e.deviceId?e.deviceId:null);this.hasCameraCheck().then((function(r){return t.setPluginState({hasCamera:r}),t.mediaDevices.getUserMedia(n).then((function(n){t.stream=n;var r=null,i=t.isAudioOnly()?n.getAudioTracks():n.getVideoTracks();e&&e.deviceId?i.forEach((function(t){t.getSettings().deviceId===e.deviceId&&(r=t.getSettings().deviceId)})):r=i[0].getSettings().deviceId,t.updateVideoSources(),t.setPluginState({currentDeviceId:r,cameraReady:!0})})).catch((function(e){t.setPluginState({cameraReady:!1,cameraError:e}),t.uppy.info(e.message,"error")}))}))}},{key:"getMediaRecorderOptions",value:function(){var e={};if(MediaRecorder.isTypeSupported){var t=this.uppy.opts.restrictions,n=[];this.opts.preferredVideoMimeType?n=[this.opts.preferredVideoMimeType]:t.allowedFileTypes&&(n=t.allowedFileTypes.map(j).filter(U));var r=n.filter((function(e){return MediaRecorder.isTypeSupported(e)&&g(e)}));r.length>0&&(e.mimeType=r[0])}return e}},{key:"startRecording",value:function(){var e=this;this.recorder=new MediaRecorder(this.stream,this.getMediaRecorderOptions()),this.recordingChunks=[];var t=!1;this.recorder.addEventListener("dataavailable",(function(n){e.recordingChunks.push(n.data);var r=e.uppy.opts.restrictions;if(e.recordingChunks.length>1&&null!=r.maxFileSize&&!t){var i=e.recordingChunks.reduce((function(e,t){return e+t.size}),0),a=3*((i-e.recordingChunks[0].size)/(e.recordingChunks.length-1));i>Math.max(0,r.maxFileSize-a)&&(t=!0,e.uppy.info(e.i18n("recordingStoppedMaxSize"),"warning",4e3),e.stopRecording())}})),this.recorder.start(500),this.opts.showRecordingLength&&(this.recordingLengthTimer=setInterval((function(){var t=e.getPluginState().recordingLengthSeconds;e.setPluginState({recordingLengthSeconds:t+1})}),1e3)),this.setPluginState({isRecording:!0})}},{key:"stopRecording",value:function(){var e=this;return new Promise((function(t){e.recorder.addEventListener("stop",(function(){t()})),e.recorder.stop(),e.opts.showRecordingLength&&(clearInterval(e.recordingLengthTimer),e.setPluginState({recordingLengthSeconds:0}))})).then((function(){return e.setPluginState({isRecording:!1}),e.getVideo()})).then((function(t){try{e.capturedMediaFile=t,e.setPluginState({recordedVideo:URL.createObjectURL(t.data)}),N(e,q)[q]=!1}catch(t){t.isRestriction||e.uppy.log(t)}})).then((function(){e.recordingChunks=null,e.recorder=null}),(function(t){throw e.recordingChunks=null,e.recorder=null,t}))}},{key:"discardRecordedVideo",value:function(){this.setPluginState({recordedVideo:null}),this.opts.mirror&&(N(this,q)[q]=!0),this.capturedMediaFile=null}},{key:"submit",value:function(){try{this.capturedMediaFile&&this.uppy.addFile(this.capturedMediaFile)}catch(e){e.isRestriction||this.uppy.log(e,"error")}}},{key:"stop",value:(n=(0,i.A)(p.mark((function e(){var t,n,r=this;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.stream&&(t=this.stream.getAudioTracks(),n=this.stream.getVideoTracks(),t.concat(n).forEach((function(e){return e.stop()}))),!this.recorder){e.next=4;break}return e.next=4,new Promise((function(e){r.recorder.addEventListener("stop",e,{once:!0}),r.recorder.stop(),r.opts.showRecordingLength&&clearInterval(r.recordingLengthTimer)}));case 4:this.recordingChunks=null,this.recorder=null,this.webcamActive=!1,this.stream=null,this.setPluginState({recordedVideo:null,isRecording:!1,recordingLengthSeconds:0});case 9:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"getVideoElement",value:function(){return this.el.querySelector(".uppy-Webcam-video")}},{key:"oneTwoThreeSmile",value:function(){var e=this;return new Promise((function(t,n){var r=e.opts.countdown,i=setInterval((function(){if(!e.webcamActive)return clearInterval(i),e.captureInProgress=!1,n(new Error("Webcam is not active"));r>0?(e.uppy.info("".concat(r,"..."),"warning",800),r--):(clearInterval(i),e.uppy.info(e.i18n("smile"),"success",1500),setTimeout((function(){return t()}),1500))}),1e3)}))}},{key:"takeSnapshot",value:function(){var e=this;this.captureInProgress||(this.captureInProgress=!0,this.opts.onBeforeSnapshot().catch((function(t){var n="object"===(0,r.A)(t)?t.message:t;return e.uppy.info(n,"error",5e3),Promise.reject(new Error("onBeforeSnapshot: ".concat(n)))})).then((function(){return e.getImage()})).then((function(t){e.captureInProgress=!1;try{e.uppy.addFile(t)}catch(t){t.isRestriction||e.uppy.log(t)}}),(function(t){throw e.captureInProgress=!1,t})))}},{key:"getImage",value:function(){var e=this,t=this.getVideoElement();if(!t)return Promise.reject(new Error("No video element found, likely due to the Webcam tab being closed."));var n=t.videoWidth,r=t.videoHeight,i=document.createElement("canvas");i.width=n,i.height=r,i.getContext("2d").drawImage(t,0,0);var a=this.uppy.opts.restrictions,o=[];this.opts.preferredImageMimeType?o=[this.opts.preferredImageMimeType]:a.allowedFileTypes&&(o=a.allowedFileTypes.map(j).filter(z));var s=o[0]||"image/jpeg",u=g(s)||"jpg",c="cam-".concat(Date.now(),".").concat(u);return function(e,t,n){return new Promise((function(r){e.toBlob(r,t,n)}))}(i,s).then((function(t){return{source:e.id,name:c,data:new Blob([t],{type:s}),type:s}}))}},{key:"getVideo",value:function(){var e=this.recordingChunks.find((function(e){var t;return(null==(t=e.type)?void 0:t.length)>0})).type,t=g(e);if(!t)return Promise.reject(new Error('Could not retrieve recording: Unsupported media type "'.concat(e,'"')));var n="webcam-".concat(Date.now(),".").concat(t),r=new Blob(this.recordingChunks,{type:e}),i={source:this.id,name:n,data:new Blob([r],{type:e}),type:e};return Promise.resolve(i)}},{key:"focus",value:function(){var e=this;this.opts.countdown&&setTimeout((function(){e.uppy.info(e.i18n("smile"),"success",1500)}),1e3)}},{key:"changeVideoSource",value:function(e){this.stop(),this.start({deviceId:e})}},{key:"updateVideoSources",value:function(){var e=this;this.mediaDevices.enumerateDevices().then((function(t){e.setPluginState({videoSources:t.filter((function(e){return"videoinput"===e.kind}))})}))}},{key:"render",value:function(){this.webcamActive||this.start();var e=this.getPluginState();return e.cameraReady&&e.hasCamera?(0,f.h)(T,R({},e,{onChangeVideoSource:this.changeVideoSource,onSnapshot:this.takeSnapshot,onStartRecording:this.startRecording,onStopRecording:this.stopRecording,onDiscardRecordedVideo:this.discardRecordedVideo,onSubmit:this.submit,onFocus:this.focus,onStop:this.stop,i18n:this.i18n,modes:this.opts.modes,showRecordingLength:this.opts.showRecordingLength,showVideoSourceDropdown:this.opts.showVideoSourceDropdown,supportsRecording:"function"==typeof MediaRecorder&&!!MediaRecorder.prototype&&"function"==typeof MediaRecorder.prototype.start,recording:e.isRecording,mirror:N(this,q)[q],src:this.stream})):(0,f.h)(F,{icon:w,i18n:this.i18n,hasCamera:e.hasCamera})}},{key:"install",value:function(){var e,t=this,n=this.opts,r=n.mobileNativeCamera,i=n.modes,a=n.facingMode,o=n.videoConstraints,s=this.opts.target;r&&s?null==(e=this.getTargetPlugin(s))||e.setOptions({showNativeVideoCameraButton:V(i,"video-only")||V(i,"video-audio"),showNativePhotoCameraButton:V(i,"picture"),nativeCameraFacingMode:(null==o?void 0:o.facingMode)||a}):(this.setPluginState({cameraReady:!1,recordingLengthSeconds:0}),s&&this.mount(s,this),this.mediaDevices&&(this.updateVideoSources(),this.mediaDevices.ondevicechange=function(){if(t.updateVideoSources(),t.stream){var e=!0,n=t.getPluginState(),r=n.videoSources,i=n.currentDeviceId;r.forEach((function(t){i===t.deviceId&&(e=!1)})),e&&(t.stop(),t.start())}}))}},{key:"uninstall",value:function(){this.stop(),this.unmount()}},{key:"onUnmount",value:function(){this.stop()}}]);var n}(h.A);H.VERSION="3.3.6"},74134:(e,t,n)=>{n(62010);var r=n(46133),i=n(92376),a=n(79932),o=n(46051),s=n(39617),u=n(76979),c=r?r.prototype:void 0,l=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,d,p){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return a(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var f=s;case"[object Set]":var h=1&r;if(f||(f=u),e.size!=t.size&&!h)return!1;var m=p.get(e);if(m)return m==t;r|=2,p.set(e,t);var v=o(f(e),f(t),r,c,d,p);return p.delete(e),v;case"[object Symbol]":if(l)return l.call(e)==l.call(t)}return!1}},74307:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},74423:(e,t,n)=>{"use strict";var r=n(46518),i=n(19617).includes,a=n(79039),o=n(6469);r({target:"Array",proto:!0,forced:a((function(){return!Array(1).includes()}))},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o("includes")},74488:(e,t,n)=>{"use strict";var r=n(67680),i=Math.floor,a=function(e,t){var n=e.length;if(n<8)for(var o,s,u=1;u<n;){for(s=u,o=e[u];s&&t(e[s-1],o)>0;)e[s]=e[--s];s!==u++&&(e[s]=o)}else for(var c=i(n/2),l=a(r(e,0,c),t),d=a(r(e,c),t),p=l.length,f=d.length,h=0,m=0;h<p||m<f;)e[h+m]=h<p&&m<f?t(l[h],d[m])<=0?l[h++]:d[m++]:h<p?l[h++]:d[m++];return e};e.exports=a},74668:(e,t,n)=>{n(76918),n(23288),n(26099),n(38781);var r=n(85192);n(32807),n(78008),n(52364),e.exports=r.kem=r.kem||{};var i=r.jsbn.BigInteger;function a(e,t,n,i){e.generate=function(e,a){for(var o=new r.util.ByteBuffer,s=Math.ceil(a/i)+n,u=new r.util.ByteBuffer,c=n;c<s;++c){u.putInt32(c),t.start(),t.update(e+u.getBytes());var l=t.digest();o.putBytes(l.getBytes(i))}return o.truncate(o.length()-a),o.getBytes()}}r.kem.rsa={},r.kem.rsa.create=function(e,t){var n=(t=t||{}).prng||r.random,a={encrypt:function(t,a){var o,s=Math.ceil(t.n.bitLength()/8);do{o=new i(r.util.bytesToHex(n.getBytesSync(s)),16).mod(t.n)}while(o.compareTo(i.ONE)<=0);var u=s-(o=r.util.hexToBytes(o.toString(16))).length;return u>0&&(o=r.util.fillString(String.fromCharCode(0),u)+o),{encapsulation:t.encrypt(o,"NONE"),key:e.generate(o,a)}},decrypt:function(t,n,r){var i=t.decrypt(n,"NONE");return e.generate(i,r)}};return a},r.kem.kdf1=function(e,t){a(this,e,0,t||e.digestLength)},r.kem.kdf2=function(e,t){a(this,e,1,t||e.digestLength)}},74813:(e,t,n)=>{n(16280),n(76918),n(44114),n(34782),n(27495),n(25440),n(50375);var r=n(85192);n(1238),n(32807);var i=e.exports=r.sha512=r.sha512||{};r.md.sha512=r.md.algorithms.sha512=i;var a=r.sha384=r.sha512.sha384=r.sha512.sha384||{};a.create=function(){return i.create("SHA-384")},r.md.sha384=r.md.algorithms.sha384=a,r.sha512.sha256=r.sha512.sha256||{create:function(){return i.create("SHA-512/256")}},r.md["sha512/256"]=r.md.algorithms["sha512/256"]=r.sha512.sha256,r.sha512.sha224=r.sha512.sha224||{create:function(){return i.create("SHA-512/224")}},r.md["sha512/224"]=r.md.algorithms["sha512/224"]=r.sha512.sha224,i.create=function(e){if(s||(o=String.fromCharCode(128),o+=r.util.fillString(String.fromCharCode(0),128),u=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],(c={})["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],c["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],c["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],c["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],s=!0),void 0===e&&(e="SHA-512"),!(e in c))throw new Error("Invalid SHA-512 algorithm: "+e);for(var t=c[e],n=null,i=r.util.createBuffer(),a=new Array(80),d=0;d<80;++d)a[d]=new Array(2);var p=64;switch(e){case"SHA-384":p=48;break;case"SHA-512/256":p=32;break;case"SHA-512/224":p=28}var f={algorithm:e.replace("-","").toLowerCase(),blockLength:128,digestLength:p,messageLength:0,fullMessageLength:null,messageLengthSize:16,start:function(){f.messageLength=0,f.fullMessageLength=f.messageLength128=[];for(var e=f.messageLengthSize/4,a=0;a<e;++a)f.fullMessageLength.push(0);i=r.util.createBuffer(),n=new Array(t.length);for(a=0;a<t.length;++a)n[a]=t[a].slice(0);return f}};return f.start(),f.update=function(e,t){"utf8"===t&&(e=r.util.encodeUtf8(e));var o=e.length;f.messageLength+=o,o=[o/4294967296>>>0,o>>>0];for(var s=f.fullMessageLength.length-1;s>=0;--s)f.fullMessageLength[s]+=o[1],o[1]=o[0]+(f.fullMessageLength[s]/4294967296>>>0),f.fullMessageLength[s]=f.fullMessageLength[s]>>>0,o[0]=o[1]/4294967296>>>0;return i.putBytes(e),l(n,a,i),(i.read>2048||0===i.length())&&i.compact(),f},f.digest=function(){var t=r.util.createBuffer();t.putBytes(i.bytes());var s,u=f.fullMessageLength[f.fullMessageLength.length-1]+f.messageLengthSize&f.blockLength-1;t.putBytes(o.substr(0,f.blockLength-u));for(var c=8*f.fullMessageLength[0],d=0;d<f.fullMessageLength.length-1;++d)c+=(s=8*f.fullMessageLength[d+1])/4294967296>>>0,t.putInt32(c>>>0),c=s>>>0;t.putInt32(c);var p=new Array(n.length);for(d=0;d<n.length;++d)p[d]=n[d].slice(0);l(p,a,t);var h,m=r.util.createBuffer();h="SHA-512"===e?p.length:"SHA-384"===e?p.length-2:p.length-4;for(d=0;d<h;++d)m.putInt32(p[d][0]),d===h-1&&"SHA-512/224"===e||m.putInt32(p[d][1]);return m},f};var o=null,s=!1,u=null,c=null;function l(e,t,n){for(var r,i,a,o,s,c,l,d,p,f,h,m,v,g,y,b,w,D,A,E,k,C,_,x,S,T,F,O,P,I,B,R,N,M=n.length();M>=128;){for(F=0;F<16;++F)t[F][0]=n.getInt32()>>>0,t[F][1]=n.getInt32()>>>0;for(;F<80;++F)r=(((O=(I=t[F-2])[0])>>>19|(P=I[1])<<13)^(P>>>29|O<<3)^O>>>6)>>>0,i=((O<<13|P>>>19)^(P<<3|O>>>29)^(O<<26|P>>>6))>>>0,a=(((O=(R=t[F-15])[0])>>>1|(P=R[1])<<31)^(O>>>8|P<<24)^O>>>7)>>>0,o=((O<<31|P>>>1)^(O<<24|P>>>8)^(O<<25|P>>>7))>>>0,B=t[F-7],N=t[F-16],P=i+B[1]+o+N[1],t[F][0]=r+B[0]+a+N[0]+(P/4294967296>>>0)>>>0,t[F][1]=P>>>0;for(h=e[0][0],m=e[0][1],v=e[1][0],g=e[1][1],y=e[2][0],b=e[2][1],w=e[3][0],D=e[3][1],A=e[4][0],E=e[4][1],k=e[5][0],C=e[5][1],_=e[6][0],x=e[6][1],S=e[7][0],T=e[7][1],F=0;F<80;++F)l=((A>>>14|E<<18)^(A>>>18|E<<14)^(E>>>9|A<<23))>>>0,d=(_^A&(k^_))>>>0,s=((h>>>28|m<<4)^(m>>>2|h<<30)^(m>>>7|h<<25))>>>0,c=((h<<4|m>>>28)^(m<<30|h>>>2)^(m<<25|h>>>7))>>>0,p=(h&v|y&(h^v))>>>0,f=(m&g|b&(m^g))>>>0,P=T+(((A<<18|E>>>14)^(A<<14|E>>>18)^(E<<23|A>>>9))>>>0)+((x^E&(C^x))>>>0)+u[F][1]+t[F][1],r=S+l+d+u[F][0]+t[F][0]+(P/4294967296>>>0)>>>0,i=P>>>0,a=s+p+((P=c+f)/4294967296>>>0)>>>0,o=P>>>0,S=_,T=x,_=k,x=C,k=A,C=E,A=w+r+((P=D+i)/4294967296>>>0)>>>0,E=P>>>0,w=y,D=b,y=v,b=g,v=h,g=m,h=r+a+((P=i+o)/4294967296>>>0)>>>0,m=P>>>0;P=e[0][1]+m,e[0][0]=e[0][0]+h+(P/4294967296>>>0)>>>0,e[0][1]=P>>>0,P=e[1][1]+g,e[1][0]=e[1][0]+v+(P/4294967296>>>0)>>>0,e[1][1]=P>>>0,P=e[2][1]+b,e[2][0]=e[2][0]+y+(P/4294967296>>>0)>>>0,e[2][1]=P>>>0,P=e[3][1]+D,e[3][0]=e[3][0]+w+(P/4294967296>>>0)>>>0,e[3][1]=P>>>0,P=e[4][1]+E,e[4][0]=e[4][0]+A+(P/4294967296>>>0)>>>0,e[4][1]=P>>>0,P=e[5][1]+C,e[5][0]=e[5][0]+k+(P/4294967296>>>0)>>>0,e[5][1]=P>>>0,P=e[6][1]+x,e[6][0]=e[6][0]+_+(P/4294967296>>>0)>>>0,e[6][1]=P>>>0,P=e[7][1]+T,e[7][0]=e[7][0]+S+(P/4294967296>>>0)>>>0,e[7][1]=P>>>0,M-=128}}},74946:(e,t,n)=>{var r=n(90726),i=n(92554);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},75044:(e,t,n)=>{"use strict";var r=n(94644),i=n(84373),a=n(75854),o=n(36955),s=n(69565),u=n(79504),c=n(79039),l=r.aTypedArray,d=r.exportTypedArrayMethod,p=u("".slice);d("fill",(function(e){var t=arguments.length;l(this);var n="Big"===p(o(this),0,3)?a(e):+e;return s(i,this,n,t>1?arguments[1]:void 0,t>2?arguments[2]:void 0)}),c((function(){var e=0;return new Int8Array(2).fill({valueOf:function(){return e++}}),1!==e})))},75376:(e,t,n)=>{"use strict";n(46518)({target:"Math",stat:!0},{log10:n(49340)})},75854:(e,t,n)=>{"use strict";var r=n(72777),i=TypeError;e.exports=function(e){var t=r(e,"number");if("number"==typeof t)throw new i("Can't convert number to bigint");return BigInt(t)}},75928:(e,t,n)=>{"use strict";n.r(t),n.d(t,{NativeSettingsWeb:()=>p});n(60825);var r=n(18443),i=n(58237),a=n(84285),o=n(68119),s=n(36858),u=n(31061),c=n(61792),l=n.n(c);n(16280),n(76918),n(26099),n(3362);function d(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(d=function(){return!!e})()}var p=function(e){function t(){return(0,i.A)(this,t),function(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,d()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}(this,t,arguments)}return(0,u.A)(t,e),(0,a.A)(t,[{key:"open",value:(p=(0,r.A)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){t(new Error("Not implemented for web."))})));case 1:case"end":return e.stop()}}),e)}))),function(){return p.apply(this,arguments)})},{key:"openAndroid",value:(c=(0,r.A)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){t(new Error("Not implemented for web."))})));case 1:case"end":return e.stop()}}),e)}))),function(){return c.apply(this,arguments)})},{key:"openIOS",value:(n=(0,r.A)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){t(new Error("Not implemented for web."))})));case 1:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})}]);var n,c,p}(n(94230).E_)},76031:(e,t,n)=>{"use strict";n(15575),n(24599)},76080:(e,t,n)=>{"use strict";var r=n(27476),i=n(79306),a=n(40616),o=r(r.bind);e.exports=function(e,t){return i(e),void 0===t?e:a?o(e,t):function(){return e.apply(t,arguments)}}},76342:(e,t,n)=>{"use strict";n(16280),n(76918),function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(69083)},76422:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var a in r={},t)"key"!==a&&(r[a]=t[a]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},76431:function(e,t,n){var r,i,a,o,s=n(89990);o=function(e){return function(){var t=e,n=t.lib.BlockCipher,r=t.algo,i=[],a=[],o=[],s=[],u=[],c=[],l=[],d=[],p=[],f=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var n=0,r=0;for(t=0;t<256;t++){var h=r^r<<1^r<<2^r<<3^r<<4;h=h>>>8^255&h^99,i[n]=h,a[h]=n;var m=e[n],v=e[m],g=e[v],y=257*e[h]^16843008*h;o[n]=y<<24|y>>>8,s[n]=y<<16|y>>>16,u[n]=y<<8|y>>>24,c[n]=y,y=16843009*g^65537*v^257*m^16843008*n,l[h]=y<<24|y>>>8,d[h]=y<<16|y>>>16,p[h]=y<<8|y>>>24,f[h]=y,n?(n=m^e[e[e[g^m]]],r^=e[e[r]]):n=r=1}}();var h=[0,1,2,4,8,16,32,64,128,27,54],m=r.AES=n.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,n=e.sigBytes/4,r=4*((this._nRounds=n+6)+1),a=this._keySchedule=[],o=0;o<r;o++)o<n?a[o]=t[o]:(c=a[o-1],o%n?n>6&&o%n==4&&(c=i[c>>>24]<<24|i[c>>>16&255]<<16|i[c>>>8&255]<<8|i[255&c]):(c=i[(c=c<<8|c>>>24)>>>24]<<24|i[c>>>16&255]<<16|i[c>>>8&255]<<8|i[255&c],c^=h[o/n|0]<<24),a[o]=a[o-n]^c);for(var s=this._invKeySchedule=[],u=0;u<r;u++){if(o=r-u,u%4)var c=a[o];else c=a[o-4];s[u]=u<4||o<=4?c:l[i[c>>>24]]^d[i[c>>>16&255]]^p[i[c>>>8&255]]^f[i[255&c]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,o,s,u,c,i)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,l,d,p,f,a),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,r,i,a,o,s){for(var u=this._nRounds,c=e[t]^n[0],l=e[t+1]^n[1],d=e[t+2]^n[2],p=e[t+3]^n[3],f=4,h=1;h<u;h++){var m=r[c>>>24]^i[l>>>16&255]^a[d>>>8&255]^o[255&p]^n[f++],v=r[l>>>24]^i[d>>>16&255]^a[p>>>8&255]^o[255&c]^n[f++],g=r[d>>>24]^i[p>>>16&255]^a[c>>>8&255]^o[255&l]^n[f++],y=r[p>>>24]^i[c>>>16&255]^a[l>>>8&255]^o[255&d]^n[f++];c=m,l=v,d=g,p=y}m=(s[c>>>24]<<24|s[l>>>16&255]<<16|s[d>>>8&255]<<8|s[255&p])^n[f++],v=(s[l>>>24]<<24|s[d>>>16&255]<<16|s[p>>>8&255]<<8|s[255&c])^n[f++],g=(s[d>>>24]<<24|s[p>>>16&255]<<16|s[c>>>8&255]<<8|s[255&l])^n[f++],y=(s[p>>>24]<<24|s[c>>>16&255]<<16|s[l>>>8&255]<<8|s[255&d])^n[f++],e[t]=m,e[t+1]=v,e[t+2]=g,e[t+3]=y},keySize:8});t.AES=n._createHelper(m)}(),e.AES},"object"===s(t)?e.exports=t=o(n(83841),n(21894),n(54624),n(38294),n(76793)):(i=[n(83841),n(21894),n(54624),n(38294),n(76793)],void 0===(a="function"==typeof(r=o)?r.apply(t,i):r)||(e.exports=a))},76592:function(e,t,n){var r,i,a,o,s=n(89990);n(16280),n(76918),n(34782),o=function(e){return function(){var t=e,n=t.lib,r=n.WordArray,i=n.BlockCipher,a=t.algo,o=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],s=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],u=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],c=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],l=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],d=a.DES=i.extend({_doReset:function(){for(var e=this._key.words,t=[],n=0;n<56;n++){var r=o[n]-1;t[n]=e[r>>>5]>>>31-r%32&1}for(var i=this._subKeys=[],a=0;a<16;a++){var c=i[a]=[],l=u[a];for(n=0;n<24;n++)c[n/6|0]|=t[(s[n]-1+l)%28]<<31-n%6,c[4+(n/6|0)]|=t[28+(s[n+24]-1+l)%28]<<31-n%6;for(c[0]=c[0]<<1|c[0]>>>31,n=1;n<7;n++)c[n]=c[n]>>>4*(n-1)+3;c[7]=c[7]<<5|c[7]>>>27}var d=this._invSubKeys=[];for(n=0;n<16;n++)d[n]=i[15-n]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,t,n){this._lBlock=e[t],this._rBlock=e[t+1],p.call(this,4,252645135),p.call(this,16,65535),f.call(this,2,858993459),f.call(this,8,16711935),p.call(this,1,1431655765);for(var r=0;r<16;r++){for(var i=n[r],a=this._lBlock,o=this._rBlock,s=0,u=0;u<8;u++)s|=c[u][((o^i[u])&l[u])>>>0];this._lBlock=o,this._rBlock=a^s}var d=this._lBlock;this._lBlock=this._rBlock,this._rBlock=d,p.call(this,1,1431655765),f.call(this,8,16711935),f.call(this,2,858993459),p.call(this,16,65535),p.call(this,4,252645135),e[t]=this._lBlock,e[t+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function p(e,t){var n=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=n,this._lBlock^=n<<e}function f(e,t){var n=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=n,this._rBlock^=n<<e}t.DES=i._createHelper(d);var h=a.TripleDES=i.extend({_doReset:function(){var e=this._key.words;if(2!==e.length&&4!==e.length&&e.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var t=e.slice(0,2),n=e.length<4?e.slice(0,2):e.slice(2,4),i=e.length<6?e.slice(0,2):e.slice(4,6);this._des1=d.createEncryptor(r.create(t)),this._des2=d.createEncryptor(r.create(n)),this._des3=d.createEncryptor(r.create(i))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2});t.TripleDES=i._createHelper(h)}(),e.TripleDES},"object"===s(t)?e.exports=t=o(n(83841),n(21894),n(54624),n(38294),n(76793)):(i=[n(83841),n(21894),n(54624),n(38294),n(76793)],void 0===(a="function"==typeof(r=o)?r.apply(t,i):r)||(e.exports=a))},76793:function(e,t,n){var r,i,a,o,s=n(89990);n(76918),n(28706),n(44114),n(34782),n(54554),n(23288),n(26099),n(38781),o=function(e){var t,n,r,i,a,o,s,u,c,l,d,p,f,h,m,v,g,y;e.lib.Cipher||(n=(t=e).lib,r=n.Base,i=n.WordArray,a=n.BufferedBlockAlgorithm,(o=t.enc).Utf8,s=o.Base64,u=t.algo.EvpKDF,c=n.Cipher=a.extend({cfg:r.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?y:v}return function(t){return{encrypt:function(n,r,i){return e(r).encrypt(t,n,r,i)},decrypt:function(n,r,i){return e(r).decrypt(t,n,r,i)}}}}()}),n.StreamCipher=c.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),l=t.mode={},d=n.BlockCipherMode=r.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),p=l.CBC=function(){var e=d.extend();function t(e,t,n){var r,i=this._iv;i?(r=i,this._iv=void 0):r=this._prevBlock;for(var a=0;a<n;a++)e[t+a]^=r[a]}return e.Encryptor=e.extend({processBlock:function(e,n){var r=this._cipher,i=r.blockSize;t.call(this,e,n,i),r.encryptBlock(e,n),this._prevBlock=e.slice(n,n+i)}}),e.Decryptor=e.extend({processBlock:function(e,n){var r=this._cipher,i=r.blockSize,a=e.slice(n,n+i);r.decryptBlock(e,n),t.call(this,e,n,i),this._prevBlock=a}}),e}(),f=(t.pad={}).Pkcs7={pad:function(e,t){for(var n=4*t,r=n-e.sigBytes%n,a=r<<24|r<<16|r<<8|r,o=[],s=0;s<r;s+=4)o.push(a);var u=i.create(o,r);e.concat(u)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},n.BlockCipher=c.extend({cfg:c.cfg.extend({mode:p,padding:f}),reset:function(){var e;c.reset.call(this);var t=this.cfg,n=t.iv,r=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=r.createEncryptor:(e=r.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,n&&n.words):(this._mode=e.call(r,this,n&&n.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4}),h=n.CipherParams=r.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),m=(t.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,n=e.salt;return(n?i.create([1398893684,1701076831]).concat(n).concat(t):t).toString(s)},parse:function(e){var t,n=s.parse(e),r=n.words;return 1398893684==r[0]&&1701076831==r[1]&&(t=i.create(r.slice(2,4)),r.splice(0,4),n.sigBytes-=16),h.create({ciphertext:n,salt:t})}},v=n.SerializableCipher=r.extend({cfg:r.extend({format:m}),encrypt:function(e,t,n,r){r=this.cfg.extend(r);var i=e.createEncryptor(n,r),a=i.finalize(t),o=i.cfg;return h.create({ciphertext:a,key:n,iv:o.iv,algorithm:e,mode:o.mode,padding:o.padding,blockSize:e.blockSize,formatter:r.format})},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),e.createDecryptor(n,r).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),g=(t.kdf={}).OpenSSL={execute:function(e,t,n,r,a){if(r||(r=i.random(8)),a)o=u.create({keySize:t+n,hasher:a}).compute(e,r);else var o=u.create({keySize:t+n}).compute(e,r);var s=i.create(o.words.slice(t),4*n);return o.sigBytes=4*t,h.create({key:o,iv:s,salt:r})}},y=n.PasswordBasedCipher=v.extend({cfg:v.cfg.extend({kdf:g}),encrypt:function(e,t,n,r){var i=(r=this.cfg.extend(r)).kdf.execute(n,e.keySize,e.ivSize,r.salt,r.hasher);r.iv=i.iv;var a=v.encrypt.call(this,e,t,i.key,r);return a.mixIn(i),a},decrypt:function(e,t,n,r){r=this.cfg.extend(r),t=this._parse(t,r.format);var i=r.kdf.execute(n,e.keySize,e.ivSize,t.salt,r.hasher);return r.iv=i.iv,v.decrypt.call(this,e,t,i.key,r)}}))},"object"===s(t)?e.exports=t=o(n(83841),n(38294)):(i=[n(83841),n(38294)],void 0===(a="function"==typeof(r=o)?r.apply(t,i):r)||(e.exports=a))},76918:(e,t,n)=>{"use strict";var r=n(36840),i=n(77536),a=Error.prototype;a.toString!==i&&r(a,"toString",i)},76950:function(e,t,n){"use strict";n(16280),n(76918),n(84185);var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:!0}),t.htmlToDOM=t.domToReact=t.attributesToProps=t.Text=t.ProcessingInstruction=t.Element=t.Comment=void 0,t.default=function(e,t){if("string"!=typeof e)throw new TypeError("First argument must be a string");if(!e)return[];return(0,o.default)((0,i.default)(e,(null==t?void 0:t.htmlparser2)||u),t)};var i=r(n(55587));t.htmlToDOM=i.default;var a=r(n(83532));t.attributesToProps=a.default;var o=r(n(73512));t.domToReact=o.default;var s=n(22257);Object.defineProperty(t,"Comment",{enumerable:!0,get:function(){return s.Comment}}),Object.defineProperty(t,"Element",{enumerable:!0,get:function(){return s.Element}}),Object.defineProperty(t,"ProcessingInstruction",{enumerable:!0,get:function(){return s.ProcessingInstruction}}),Object.defineProperty(t,"Text",{enumerable:!0,get:function(){return s.Text}});var u={lowerCaseAttributeNames:!1}},76979:(e,t,n)=>{n(51629),n(26099),n(98992),n(3949),n(23500),e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},77001:(e,t,n)=>{"use strict";n.d(t,{w:()=>o,I:()=>a});n(28706),n(76918),n(23288),n(26099),n(38781);function r(e){return e<10?"0".concat(e):e.toString()}function i(){var e=new Date,t=r(e.getHours()),n=r(e.getMinutes()),i=r(e.getSeconds());return"".concat(t,":").concat(n,":").concat(i)}var a={debug:function(){},warn:function(){},error:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=console).error.apply(e,["[Uppy] [".concat(i(),"]")].concat(n))}},o={debug:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=console).debug.apply(e,["[Uppy] [".concat(i(),"]")].concat(n))},warn:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=console).warn.apply(e,["[Uppy] [".concat(i(),"]")].concat(n))},error:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=console).error.apply(e,["[Uppy] [".concat(i(),"]")].concat(n))}}},77192:(e,t,n)=>{var r=n(48781),i=n(46051),a=n(74134),o=n(36090),s=n(45353),u=n(81813),c=n(12180),l=n(70675),d="[object Arguments]",p="[object Array]",f="[object Object]",h=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,v,g){var y=u(e),b=u(t),w=y?p:s(e),D=b?p:s(t),A=(w=w==d?f:w)==f,E=(D=D==d?f:D)==f,k=w==D;if(k&&c(e)){if(!c(t))return!1;y=!0,A=!1}if(k&&!A)return g||(g=new r),y||l(e)?i(e,t,n,m,v,g):a(e,t,w,n,m,v,g);if(!(1&n)){var C=A&&h.call(e,"__wrapped__"),_=E&&h.call(t,"__wrapped__");if(C||_){var x=C?e.value():e,S=_?t.value():t;return g||(g=new r),v(x,S,n,m,g)}}return!!k&&(g||(g=new r),o(e,t,n,m,v,g))}},77240:(e,t,n)=>{"use strict";var r=n(79504),i=n(67750),a=n(655),o=/"/g,s=r("".replace);e.exports=function(e,t,n,r){var u=a(i(e)),c="<"+t;return""!==n&&(c+=" "+n+'="'+s(a(r),o,"&quot;")+'"'),c+">"+u+"</"+t+">"}},77347:(e,t,n)=>{"use strict";var r=n(43724),i=n(69565),a=n(48773),o=n(6980),s=n(25397),u=n(56969),c=n(39297),l=n(35917),d=Object.getOwnPropertyDescriptor;t.f=r?d:function(e,t){if(e=s(e),t=u(t),l)try{return d(e,t)}catch(e){}if(c(e,t))return o(!i(a.f,e,t),e[t])}},77411:(e,t,n)=>{var r=n(4373).H;!function(){var e=r,t=e.lib.BlockCipher,n=e.algo,i=[],a=[],o=[],s=[],u=[],c=[],l=[],d=[],p=[],f=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var n=0,r=0;for(t=0;t<256;t++){var h=r^r<<1^r<<2^r<<3^r<<4;h=h>>>8^255&h^99,i[n]=h,a[h]=n;var m=e[n],v=e[m],g=e[v],y=257*e[h]^16843008*h;o[n]=y<<24|y>>>8,s[n]=y<<16|y>>>16,u[n]=y<<8|y>>>24,c[n]=y;y=16843009*g^65537*v^257*m^16843008*n;l[h]=y<<24|y>>>8,d[h]=y<<16|y>>>16,p[h]=y<<8|y>>>24,f[h]=y,n?(n=m^e[e[e[g^m]]],r^=e[e[r]]):n=r=1}}();var h=[0,1,2,4,8,16,32,64,128,27,54],m=n.AES=t.extend({_doReset:function(){for(var e=this._key,t=e.words,n=e.sigBytes/4,r=4*((this._nRounds=n+6)+1),a=this._keySchedule=[],o=0;o<r;o++)if(o<n)a[o]=t[o];else{var s=a[o-1];o%n?n>6&&o%n==4&&(s=i[s>>>24]<<24|i[s>>>16&255]<<16|i[s>>>8&255]<<8|i[255&s]):(s=i[(s=s<<8|s>>>24)>>>24]<<24|i[s>>>16&255]<<16|i[s>>>8&255]<<8|i[255&s],s^=h[o/n|0]<<24),a[o]=a[o-n]^s}for(var u=this._invKeySchedule=[],c=0;c<r;c++){o=r-c;if(c%4)s=a[o];else s=a[o-4];u[c]=c<4||o<=4?s:l[i[s>>>24]]^d[i[s>>>16&255]]^p[i[s>>>8&255]]^f[i[255&s]]}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,o,s,u,c,i)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,l,d,p,f,a);n=e[t+1];e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,r,i,a,o,s){for(var u=this._nRounds,c=e[t]^n[0],l=e[t+1]^n[1],d=e[t+2]^n[2],p=e[t+3]^n[3],f=4,h=1;h<u;h++){var m=r[c>>>24]^i[l>>>16&255]^a[d>>>8&255]^o[255&p]^n[f++],v=r[l>>>24]^i[d>>>16&255]^a[p>>>8&255]^o[255&c]^n[f++],g=r[d>>>24]^i[p>>>16&255]^a[c>>>8&255]^o[255&l]^n[f++],y=r[p>>>24]^i[c>>>16&255]^a[l>>>8&255]^o[255&d]^n[f++];c=m,l=v,d=g,p=y}m=(s[c>>>24]<<24|s[l>>>16&255]<<16|s[d>>>8&255]<<8|s[255&p])^n[f++],v=(s[l>>>24]<<24|s[d>>>16&255]<<16|s[p>>>8&255]<<8|s[255&c])^n[f++],g=(s[d>>>24]<<24|s[p>>>16&255]<<16|s[c>>>8&255]<<8|s[255&l])^n[f++],y=(s[p>>>24]<<24|s[c>>>16&255]<<16|s[l>>>8&255]<<8|s[255&d])^n[f++];e[t]=m,e[t+1]=v,e[t+2]=g,e[t+3]=y},keySize:8});e.AES=t._createHelper(m)}()},77451:(e,t,n)=>{var r=n(89202);e.exports=function(e){return function(t){return r(t,e)}}},77536:(e,t,n)=>{"use strict";var r=n(43724),i=n(79039),a=n(28551),o=n(32603),s=Error.prototype.toString,u=i((function(){if(r){var e=Object.create(Object.defineProperty({},"name",{get:function(){return this===e}}));if("true"!==s.call(e))return!0}return"2: 1"!==s.call({message:1,name:2})||"Error"!==s.call({})}));e.exports=u?function(){var e=a(this),t=o(e.name,"Error"),n=o(e.message);return t?n?t+": "+n:t:n}:s},77584:(e,t,n)=>{"use strict";var r=n(20034),i=n(66699);e.exports=function(e,t){r(t)&&"cause"in t&&i(e,"cause",t.cause)}},77629:(e,t,n)=>{"use strict";var r=n(96395),i=n(44576),a=n(39433),o="__core-js_shared__",s=e.exports=i[o]||a(o,{});(s.versions||(s.versions=[])).push({version:"3.41.0",mode:r?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.41.0/LICENSE",source:"https://github.com/zloirock/core-js"})},77740:(e,t,n)=>{"use strict";var r=n(39297),i=n(35031),a=n(77347),o=n(24913);e.exports=function(e,t,n){for(var s=i(t),u=o.f,c=a.f,l=0;l<s.length;l++){var d=s[l];r(e,d)||n&&r(n,d)||u(e,d,c(t,d))}}},77762:(e,t,n)=>{"use strict";var r=n(46518),i=n(53250),a=Math.cosh,o=Math.abs,s=Math.E;r({target:"Math",stat:!0,forced:!a||a(710)===1/0},{cosh:function(e){var t=i(o(e)-1)+1;return(t+1/(t*s*s))*(s/2)}})},77782:e=>{"use strict";e.exports=Math.sign||function(e){var t=+e;return 0===t||t!=t?t:t<0?-1:1}},77811:e=>{"use strict";e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},77943:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});n(8921),n(34782);function r(e){var t=e.lastIndexOf(".");return-1===t||t===e.length-1?{name:e,extension:void 0}:{name:e.slice(0,t),extension:e.slice(t+1)}}},77945:(e,t,n)=>{n(16280),n(76918),n(48598),n(23288),n(26099),n(27495),n(38781),n(71761);var r=n(85192);n(90092),n(37540),n(51807),n(70266),n(32807);var i=e.exports=r.ssh=r.ssh||{};function a(e,t){var n=t.toString(16);n[0]>="8"&&(n="00"+n);var i=r.util.hexToBytes(n);e.putInt32(i.length),e.putBytes(i)}function o(e,t){e.putInt32(t.length),e.putString(t)}function s(){for(var e=r.md.sha1.create(),t=arguments.length,n=0;n<t;++n)e.update(arguments[n]);return e.digest()}i.privateKeyToPutty=function(e,t,n){var i="ssh-rsa",u=""===(t=t||"")?"none":"aes256-cbc",c="PuTTY-User-Key-File-2: "+i+"\r\n";c+="Encryption: "+u+"\r\n",c+="Comment: "+(n=n||"")+"\r\n";var l=r.util.createBuffer();o(l,i),a(l,e.e),a(l,e.n);var d=r.util.encode64(l.bytes(),64),p=Math.floor(d.length/66)+1;c+="Public-Lines: "+p+"\r\n",c+=d;var f,h=r.util.createBuffer();if(a(h,e.d),a(h,e.p),a(h,e.q),a(h,e.qInv),t){var m=h.length()+16-1;m-=m%16;var v=s(h.bytes());v.truncate(v.length()-m+h.length()),h.putBuffer(v);var g=r.util.createBuffer();g.putBuffer(s("\0\0\0\0",t)),g.putBuffer(s("\0\0\0",t));var y=r.aes.createEncryptionCipher(g.truncate(8),"CBC");y.start(r.util.createBuffer().fillWithByte(0,16)),y.update(h.copy()),y.finish();var b=y.output;b.truncate(16),f=r.util.encode64(b.bytes(),64)}else f=r.util.encode64(h.bytes(),64);c+="\r\nPrivate-Lines: "+(p=Math.floor(f.length/66)+1)+"\r\n",c+=f;var w=s("putty-private-key-file-mac-key",t),D=r.util.createBuffer();o(D,i),o(D,u),o(D,n),D.putInt32(l.length()),D.putBuffer(l),D.putInt32(h.length()),D.putBuffer(h);var A=r.hmac.create();return A.start("sha1",w),A.update(D.bytes()),c+="\r\nPrivate-MAC: "+A.digest().toHex()+"\r\n"},i.publicKeyToOpenSSH=function(e,t){var n="ssh-rsa";t=t||"";var i=r.util.createBuffer();return o(i,n),a(i,e.e),a(i,e.n),n+" "+r.util.encode64(i.bytes())+" "+t},i.privateKeyToOpenSSH=function(e,t){return t?r.pki.encryptRsaPrivateKey(e,t,{legacy:!0,algorithm:"aes128"}):r.pki.privateKeyToPem(e)},i.getPublicKeyFingerprint=function(e,t){var n=(t=t||{}).md||r.md.md5.create(),i=r.util.createBuffer();o(i,"ssh-rsa"),a(i,e.e),a(i,e.n),n.start(),n.update(i.getBytes());var s=n.digest();if("hex"===t.encoding){var u=s.toHex();return t.delimiter?u.match(/.{2}/g).join(t.delimiter):u}if("binary"===t.encoding)return s.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".');return s}},78008:(e,t,n)=>{n(23288);var r=n(85192);n(90092),n(89512),n(95906),n(32807),r.random&&r.random.getBytes?e.exports=r.random:function(t){var n={},i=new Array(4),a=r.util.createBuffer();function o(){var e=r.prng.create(n);return e.getBytes=function(t,n){return e.generate(t,n)},e.getBytesSync=function(t){return e.generate(t)},e}n.formatKey=function(e){var t=r.util.createBuffer(e);return(e=new Array(4))[0]=t.getInt32(),e[1]=t.getInt32(),e[2]=t.getInt32(),e[3]=t.getInt32(),r.aes._expandKey(e,!1)},n.formatSeed=function(e){var t=r.util.createBuffer(e);return(e=new Array(4))[0]=t.getInt32(),e[1]=t.getInt32(),e[2]=t.getInt32(),e[3]=t.getInt32(),e},n.cipher=function(e,t){return r.aes._updateBlock(e,t,i,!1),a.putInt32(i[0]),a.putInt32(i[1]),a.putInt32(i[2]),a.putInt32(i[3]),a.getBytes()},n.increment=function(e){return++e[3],e},n.md=r.md.sha256;var s=o(),u=null,c=r.util.globalScope,l=c.crypto||c.msCrypto;if(l&&l.getRandomValues&&(u=function(e){return l.getRandomValues(e)}),r.options.usePureJavaScript||!r.util.isNodejs&&!u){if("undefined"==typeof window||window.document,s.collectInt(+new Date,32),"undefined"!=typeof navigator){var d="";for(var p in navigator)try{"string"==typeof navigator[p]&&(d+=navigator[p])}catch(e){}s.collect(d),d=null}t&&(t().mousemove((function(e){s.collectInt(e.clientX,16),s.collectInt(e.clientY,16)})),t().keypress((function(e){s.collectInt(e.charCode,8)})))}if(r.random)for(var p in s)r.random[p]=s[p];else r.random=s;r.random.createInstance=o,e.exports=r.random}("undefined"!=typeof jQuery?jQuery:null)},78029:(e,t,n)=>{"use strict";var r=n(89990);n(16280),n(76918),n(28706),n(2892),n(40150),n(9868),e.exports=function(e){if("number"!=typeof e||Number.isNaN(e))throw new TypeError("Expected a number, got ".concat(r(e)));var t=e<0,n=Math.abs(e);if(t&&(n=-n),0===n)return"0 B";var i=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],a=Math.min(Math.floor(Math.log(n)/Math.log(1024)),i.length-1),o=Number(n/Math.pow(1024,a)),s=i[a];return"".concat(o>=10||o%1==0?Math.round(o):o.toFixed(1)," ").concat(s)}},78069:(e,t,n)=>{n(76918),n(28706),n(44114),n(34782),n(54554),n(23288),n(26099),n(38781);var r,i,a,o,s,u,c,l,d,p,f,h,m,v,g,y,b,w,D=n(4373).H;D.lib.Cipher||(i=(r=D).lib,a=i.Base,o=i.WordArray,s=i.BufferedBlockAlgorithm,(u=r.enc).Utf8,c=u.Base64,l=r.algo.EvpKDF,d=i.Cipher=s.extend({cfg:a.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){s.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?w:y}return function(t){return{encrypt:function(n,r,i){return e(r).encrypt(t,n,r,i)},decrypt:function(n,r,i){return e(r).decrypt(t,n,r,i)}}}}()}),i.StreamCipher=d.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),p=r.mode={},f=i.BlockCipherMode=a.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),h=p.CBC=function(){var e=f.extend();function t(e,t,n){var r=this._iv;if(r){var i=r;this._iv=void 0}else i=this._prevBlock;for(var a=0;a<n;a++)e[t+a]^=i[a]}return e.Encryptor=e.extend({processBlock:function(e,n){var r=this._cipher,i=r.blockSize;t.call(this,e,n,i),r.encryptBlock(e,n),this._prevBlock=e.slice(n,n+i)}}),e.Decryptor=e.extend({processBlock:function(e,n){var r=this._cipher,i=r.blockSize,a=e.slice(n,n+i);r.decryptBlock(e,n),t.call(this,e,n,i),this._prevBlock=a}}),e}(),m=(r.pad={}).Pkcs7={pad:function(e,t){for(var n=4*t,r=n-e.sigBytes%n,i=r<<24|r<<16|r<<8|r,a=[],s=0;s<r;s+=4)a.push(i);var u=o.create(a,r);e.concat(u)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},i.BlockCipher=d.extend({cfg:d.cfg.extend({mode:h,padding:m}),reset:function(){d.reset.call(this);var e=this.cfg,t=e.iv,n=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var r=n.createEncryptor;else r=n.createDecryptor,this._minBufferSize=1;this._mode=r.call(n,this,t&&t.words)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else t=this._process(!0),e.unpad(t);return t},blockSize:4}),v=i.CipherParams=a.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),g=(r.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,n=e.salt;if(n)var r=o.create([1398893684,1701076831]).concat(n).concat(t);else r=t;return r.toString(c)},parse:function(e){var t=c.parse(e),n=t.words;if(1398893684==n[0]&&1701076831==n[1]){var r=o.create(n.slice(2,4));n.splice(0,4),t.sigBytes-=16}return v.create({ciphertext:t,salt:r})}},y=i.SerializableCipher=a.extend({cfg:a.extend({format:g}),encrypt:function(e,t,n,r){r=this.cfg.extend(r);var i=e.createEncryptor(n,r),a=i.finalize(t),o=i.cfg;return v.create({ciphertext:a,key:n,iv:o.iv,algorithm:e,mode:o.mode,padding:o.padding,blockSize:e.blockSize,formatter:r.format})},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),e.createDecryptor(n,r).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),b=(r.kdf={}).OpenSSL={execute:function(e,t,n,r){r||(r=o.random(8));var i=l.create({keySize:t+n}).compute(e,r),a=o.create(i.words.slice(t),4*n);return i.sigBytes=4*t,v.create({key:i,iv:a,salt:r})}},w=i.PasswordBasedCipher=y.extend({cfg:y.cfg.extend({kdf:b}),encrypt:function(e,t,n,r){var i=(r=this.cfg.extend(r)).kdf.execute(n,e.keySize,e.ivSize);r.iv=i.iv;var a=y.encrypt.call(this,e,t,i.key,r);return a.mixIn(i),a},decrypt:function(e,t,n,r){r=this.cfg.extend(r),t=this._parse(t,r.format);var i=r.kdf.execute(n,e.keySize,e.ivSize,t.salt);return r.iv=i.iv,y.decrypt.call(this,e,t,i.key,r)}}))},78125:(e,t,n)=>{"use strict";var r=n(97751),i=n(70511),a=n(10687);i("toStringTag"),a(r("Symbol"),"Symbol")},78227:(e,t,n)=>{"use strict";var r=n(44576),i=n(25745),a=n(39297),o=n(33392),s=n(4495),u=n(7040),c=r.Symbol,l=i("wks"),d=u?c.for||c:c&&c.withoutSetter||o;e.exports=function(e){return a(l,e)||(l[e]=s&&a(c,e)?c[e]:d("Symbol."+e)),l[e]}},78347:(e,t,n)=>{"use strict";n(46518)({target:"Object",stat:!0},{hasOwn:n(39297)})},78350:(e,t,n)=>{"use strict";var r=n(46518),i=n(70259),a=n(79306),o=n(48981),s=n(26198),u=n(1469);r({target:"Array",proto:!0},{flatMap:function(e){var t,n=o(this),r=s(n);return a(e),(t=u(n,0)).length=i(t,n,n,r,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},78459:(e,t,n)=>{"use strict";var r=n(46518),i=n(33904);r({global:!0,forced:parseFloat!==i},{parseFloat:i})},78553:(e,t,n)=>{"use strict";var r=n(46518),i=n(79039),a=n(53250),o=Math.abs,s=Math.exp,u=Math.E;r({target:"Math",stat:!0,forced:i((function(){return-2e-17!==Math.sinh(-2e-17)}))},{sinh:function(e){var t=+e;return o(t)<1?(a(t)-a(-t))/2:(s(t-1)-s(-t-1))*(u/2)}})},78655:(e,t,n)=>{"use strict";n.d(t,{A:()=>Pe});var r=n(18443),i=n(46983),a=n(18180),o=n(80241),s=n(51531),u=n(58237),c=n(84285),l=n(61792),d=(n(16280),n(52675),n(89463),n(2259),n(76918),n(30067),n(4294),n(28706),n(2008),n(50113),n(48980),n(46449),n(78350),n(51629),n(23418),n(25276),n(64346),n(23792),n(48598),n(62062),n(44114),n(72712),n(34782),n(15086),n(54554),n(93514),n(30237),n(59089),n(23288),n(94170),n(62010),n(36033),n(25428),n(59904),n(67945),n(84185),n(5506),n(53921),n(78347),n(79432),n(83851),n(81278),n(26099),n(16034),n(3362),n(27495),n(90906),n(38781),n(31415),n(47764),n(42762),n(98992),n(54520),n(72577),n(30670),n(3949),n(81454),n(8872),n(37550),n(23500),n(62953),n(76031),n(13656)),p=n(70647),f=n(51391),h=n(34034);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,s.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var y=0;function b(e){return"__private_"+y+++"_"+e}var w=b("callbacks"),D=b("publish"),A=function(){return(0,c.A)((function e(){(0,u.A)(this,e),Object.defineProperty(this,D,{value:E}),this.state={},Object.defineProperty(this,w,{writable:!0,value:new Set})}),[{key:"getState",value:function(){return this.state}},{key:"setState",value:function(e){var t=v({},this.state),n=v(v({},this.state),e);this.state=n,g(this,D)[D](t,n,e)}},{key:"subscribe",value:function(e){var t=this;return g(this,w)[w].add(e),function(){g(t,w)[w].delete(e)}}}])}();function E(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];g(this,w)[w].forEach((function(e){e.apply(void 0,t)}))}A.VERSION="3.2.2";const k=A;var C=n(51494),_=n(77943),x=n(21214);n(58940);function S(e){if(null==e&&"undefined"!=typeof navigator&&(e=navigator.userAgent),!e)return!0;var t=/Edge\/(\d+\.\d+)/.exec(e);if(!t)return!0;var n=t[1].split(".",2),r=parseInt(n[0],10),i=parseInt(n[1],10);return r<15||15===r&&i<15063||(r>18||18===r&&i>=18218)}var T=n(77001),F=(n(60825),n(68119)),O=n(36858),P=n(31061),I=n(81700),B=(n(74423),n(21699),n(25440),n(78029)),R=n(21397);function N(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return M(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function L(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(L=function(){return!!e})()}var j={maxFileSize:null,minFileSize:null,maxTotalFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null,requiredMetaFields:[]},U=function(e){function t(e,n){var r,i;return(0,u.A)(this,t),(r=function(e,t,n){return t=(0,O.A)(t),(0,F.A)(e,L()?Reflect.construct(t,n||[],(0,O.A)(e).constructor):t.apply(e,n))}(this,t,[e])).isRestriction=!0,r.isUserFacing=null==(i=null==n?void 0:n.isUserFacing)||i,null!=n&&n.file&&(r.file=n.file),r}return(0,P.A)(t,e),(0,c.A)(t)}((0,I.A)(Error)),z=function(){return(0,c.A)((function e(t,n){(0,u.A)(this,e),this.i18n=n,this.getOpts=function(){var e,n=t();if(null!=(null==(e=n.restrictions)?void 0:e.allowedFileTypes)&&!Array.isArray(n.restrictions.allowedFileTypes))throw new TypeError("`restrictions.allowedFileTypes` must be an array");return n}}),[{key:"validateAggregateRestrictions",value:function(e,t){var n=this.getOpts().restrictions,r=n.maxTotalFileSize,i=n.maxNumberOfFiles;if(i&&e.filter((function(e){return!e.isGhost})).length+t.length>i)throw new U("".concat(this.i18n("youCanOnlyUploadX",{smart_count:i})));if(r){var a,o=e.reduce((function(e,t){var n;return e+(null!=(n=t.size)?n:0)}),0),s=N(t);try{for(s.s();!(a=s.n()).done;){var u=a.value;if(null!=u.size&&(o+=u.size)>r)throw new U(this.i18n("exceedsSize",{size:B(r),file:u.name}))}}catch(e){s.e(e)}finally{s.f()}}}},{key:"validateSingleFile",value:function(e){var t=this.getOpts().restrictions,n=t.maxFileSize,r=t.minFileSize,i=t.allowedFileTypes;if(i&&!i.some((function(t){return t.includes("/")?!!e.type&&R(e.type.replace(/;.*?$/,""),t):!("."!==t[0]||!e.extension)&&e.extension.toLowerCase()===t.slice(1).toLowerCase()}))){var a=i.join(", ");throw new U(this.i18n("youCanOnlyUploadFileTypes",{types:a}),{file:e})}if(n&&null!=e.size&&e.size>n)throw new U(this.i18n("exceedsSize",{size:B(n),file:e.name}),{file:e});if(r&&null!=e.size&&e.size<r)throw new U(this.i18n("inferiorSize",{size:B(r)}),{file:e})}},{key:"validate",value:function(e,t){var n=this;t.forEach((function(e){n.validateSingleFile(e)})),this.validateAggregateRestrictions(e,t)}},{key:"validateMinNumberOfFiles",value:function(e){var t=this.getOpts().restrictions.minNumberOfFiles;if(t&&Object.keys(e).length<t)throw new U(this.i18n("youHaveToAtLeastSelectX",{smart_count:t}))}},{key:"getMissingRequiredMetaFields",value:function(e){var t,n=new U(this.i18n("missingRequiredMetaFieldOnFile",{fileName:e.name})),r=[],i=N(this.getOpts().restrictions.requiredMetaFields);try{for(i.s();!(t=i.n()).done;){var a=t.value;Object.hasOwn(e.meta,a)&&""!==e.meta[a]||r.push(a)}}catch(e){i.e(e)}finally{i.f()}return{missingFields:r,error:n}}}])}();const V={strings:{addBulkFilesFailed:{0:"Failed to add %{smart_count} file due to an internal error",1:"Failed to add %{smart_count} files due to internal errors"},youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},exceedsSize:"%{file} exceeds maximum allowed size of %{size}",missingRequiredMetaField:"Missing required meta fields",missingRequiredMetaFieldOnFile:"Missing required meta fields in %{fileName}",inferiorSize:"This file is smaller than the allowed size of %{size}",youCanOnlyUploadFileTypes:"You can only upload: %{types}",noMoreFilesAllowed:"Cannot add more files",noDuplicates:"Cannot add the duplicate file '%{fileName}', it already exists",companionError:"Connection with Companion failed",authAborted:"Authentication aborted",companionUnauthorizeHint:"To unauthorize to your %{provider} account, please go to %{url}",failedToUpload:"Failed to upload %{file}",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Internet",noFilesFound:"You have no files or folders here",noSearchResults:"Unfortunately, there are no results for this search",selectX:{0:"Select %{smart_count}",1:"Select %{smart_count}"},allFilesFromFolderNamed:"All files from folder %{name}",openFolderNamed:"Open folder %{name}",cancel:"Cancel",logOut:"Log out",filter:"Filter",resetFilter:"Reset filter",loading:"Loading...",loadedXFiles:"Loaded %{numFiles} files",authenticateWithTitle:"Please authenticate with %{pluginName} to select files",authenticateWith:"Connect to %{pluginName}",signInWithGoogle:"Sign in with Google",searchImages:"Search for images",enterTextToSearch:"Enter text to search for images",search:"Search",resetSearch:"Reset search",emptyFolderAdded:"No files were added from empty folder",addedNumFiles:"Added %{numFiles} file(s)",folderAlreadyAdded:'The folder "%{folder}" was already added',folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"},additionalRestrictionsFailed:"%{count} additional restrictions were not fulfilled"}};function q(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return H(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){(0,s.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var G=0;function Q(e){return"__private_"+G+++"_"+e}var Y={totalProgress:0,allowNewUpload:!0,error:null,recoveredState:null},X=Q("plugins"),Z=Q("restricter"),J=Q("storeUnsubscribe"),ee=Q("emitter"),te=Q("preProcessors"),ne=Q("uploaders"),re=Q("postProcessors"),ie=Q("informAndEmit"),ae=Q("checkRequiredMetaFieldsOnFile"),oe=Q("checkRequiredMetaFields"),se=Q("assertNewUploadAllowed"),ue=Q("transformFile"),ce=Q("startIfAutoProceed"),le=Q("checkAndUpdateFileState"),de=Q("addListeners"),pe=Q("updateOnlineStatus"),fe=Q("requestClientById"),he=Q("createUpload"),me=Q("getUpload"),ve=Q("removeUpload"),ge=Q("runUpload"),ye=function(e,t){return(0,c.A)((function e(t){var n=this;(0,u.A)(this,e),Object.defineProperty(this,ge,{value:Fe}),Object.defineProperty(this,ve,{value:Te}),Object.defineProperty(this,me,{value:Se}),Object.defineProperty(this,he,{value:xe}),Object.defineProperty(this,de,{value:_e}),Object.defineProperty(this,le,{value:Ce}),Object.defineProperty(this,ce,{value:ke}),Object.defineProperty(this,ue,{value:Ee}),Object.defineProperty(this,se,{value:Ae}),Object.defineProperty(this,oe,{value:De}),Object.defineProperty(this,ae,{value:we}),Object.defineProperty(this,ie,{value:be}),Object.defineProperty(this,X,{writable:!0,value:Object.create(null)}),Object.defineProperty(this,Z,{writable:!0,value:void 0}),Object.defineProperty(this,J,{writable:!0,value:void 0}),Object.defineProperty(this,ee,{writable:!0,value:p()}),Object.defineProperty(this,te,{writable:!0,value:new Set}),Object.defineProperty(this,ne,{writable:!0,value:new Set}),Object.defineProperty(this,re,{writable:!0,value:new Set}),this.scheduledAutoProceed=null,this.wasOffline=!1,this.calculateProgress=h((function(e,t){var r=n.getFile(null==e?void 0:e.id);if(null!=e&&r)if(100!==r.progress.percentage){var i=Number.isFinite(t.bytesTotal)&&t.bytesTotal>0;n.setFileState(e.id,{progress:K(K({},r.progress),{},{bytesUploaded:t.bytesUploaded,bytesTotal:t.bytesTotal,percentage:i?Math.round(t.bytesUploaded/t.bytesTotal*100):0})}),n.calculateTotalProgress()}else n.log("Not setting progress for a file that has been already uploaded: ".concat(e.id));else n.log("Not setting progress for a file that has been removed: ".concat(null==e?void 0:e.id))}),500,{leading:!0,trailing:!0}),Object.defineProperty(this,pe,{writable:!0,value:this.updateOnlineStatus.bind(this)}),Object.defineProperty(this,fe,{writable:!0,value:new Map}),this.defaultLocale=V;var r={id:"uppy",autoProceed:!1,allowMultipleUploadBatches:!0,debug:!1,restrictions:j,meta:{},onBeforeFileAdded:function(e,t){return!Object.hasOwn(t,e.id)},onBeforeUpload:function(e){return e},store:new k,logger:T.I,infoTimeout:5e3},i=K(K({},r),t);this.opts=K(K({},i),{},{restrictions:K(K({},r.restrictions),t&&t.restrictions)}),t&&t.logger&&t.debug?this.log("You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.","warning"):t&&t.debug&&(this.opts.logger=T.w),this.log("Using Core v".concat(e.VERSION)),this.i18nInit(),this.store=this.opts.store,this.setState(K(K({},Y),{},{plugins:{},files:{},currentUploads:{},capabilities:{uploadProgress:S(),individualCancellation:!0,resumableUploads:!1},meta:K({},this.opts.meta),info:[]})),$(this,Z)[Z]=new z((function(){return n.opts}),this.i18n),$(this,J)[J]=this.store.subscribe((function(e,t,r){n.emit("state-update",e,t,r),n.updateAll(t)})),this.opts.debug&&"undefined"!=typeof window&&(window[this.opts.id]=this),$(this,de)[de]()}),[{key:"emit",value:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=$(this,ee)[ee]).emit.apply(t,[e].concat(r))}},{key:"on",value:function(e,t){return $(this,ee)[ee].on(e,t),this}},{key:"once",value:function(e,t){return $(this,ee)[ee].once(e,t),this}},{key:"off",value:function(e,t){return $(this,ee)[ee].off(e,t),this}},{key:"updateAll",value:function(e){this.iteratePlugins((function(t){t.update(e)}))}},{key:"setState",value:function(e){this.store.setState(e)}},{key:"getState",value:function(){return this.store.getState()}},{key:"patchFilesState",value:function(e){var t=this.getState().files;this.setState({files:K(K({},t),Object.fromEntries(Object.entries(e).map((function(e){var n=(0,o.A)(e,2),r=n[0],i=n[1];return[r,K(K({},t[r]),i)]}))))})}},{key:"setFileState",value:function(e,t){if(!this.getState().files[e])throw new Error("Cant set state for ".concat(e," (the file could have been removed)"));this.patchFilesState((0,s.A)({},e,t))}},{key:"i18nInit",value:function(){var e=this,t=new d.A([this.defaultLocale,this.opts.locale],{onMissingKey:function(t){return e.log("Missing i18n string: ".concat(t),"error")}});this.i18n=t.translate.bind(t),this.i18nArray=t.translateArray.bind(t),this.locale=t.locale}},{key:"setOptions",value:function(e){this.opts=K(K(K({},this.opts),e),{},{restrictions:K(K({},this.opts.restrictions),null==e?void 0:e.restrictions)}),e.meta&&this.setMeta(e.meta),this.i18nInit(),e.locale&&this.iteratePlugins((function(t){t.setOptions(e)})),this.setState(void 0)}},{key:"resetProgress",value:function(){var e={percentage:0,bytesUploaded:0,uploadComplete:!1,uploadStarted:null},t=K({},this.getState().files),n={};Object.keys(t).forEach((function(r){n[r]=K(K({},t[r]),{},{progress:K(K({},t[r].progress),e)})})),this.setState(K({files:n},Y)),this.emit("reset-progress")}},{key:"clearUploadedFiles",value:function(){this.setState(K(K({},Y),{},{files:{}}))}},{key:"addPreProcessor",value:function(e){$(this,te)[te].add(e)}},{key:"removePreProcessor",value:function(e){return $(this,te)[te].delete(e)}},{key:"addPostProcessor",value:function(e){$(this,re)[re].add(e)}},{key:"removePostProcessor",value:function(e){return $(this,re)[re].delete(e)}},{key:"addUploader",value:function(e){$(this,ne)[ne].add(e)}},{key:"removeUploader",value:function(e){return $(this,ne)[ne].delete(e)}},{key:"setMeta",value:function(e){var t=K(K({},this.getState().meta),e),n=K({},this.getState().files);Object.keys(n).forEach((function(t){n[t]=K(K({},n[t]),{},{meta:K(K({},n[t].meta),e)})})),this.log("Adding metadata:"),this.log(e),this.setState({meta:t,files:n})}},{key:"setFileMeta",value:function(e,t){var n=K({},this.getState().files);if(n[e]){var r=K(K({},n[e].meta),t);n[e]=K(K({},n[e]),{},{meta:r}),this.setState({files:n})}else this.log("Was trying to set metadata for a file that has been removed: ",e)}},{key:"getFile",value:function(e){return this.getState().files[e]}},{key:"getFiles",value:function(){var e=this.getState().files;return Object.values(e)}},{key:"getFilesByIds",value:function(e){var t=this;return e.map((function(e){return t.getFile(e)}))}},{key:"getObjectOfFilesPerState",value:function(){var e=this.getState(),t=e.files,n=e.totalProgress,r=e.error,i=Object.values(t),a=i.filter((function(e){var t=e.progress;return!t.uploadComplete&&t.uploadStarted})),o=i.filter((function(e){return!e.progress.uploadStarted})),s=i.filter((function(e){return e.progress.uploadStarted||e.progress.preprocess||e.progress.postprocess})),u=i.filter((function(e){return e.progress.uploadStarted})),c=i.filter((function(e){return e.isPaused})),l=i.filter((function(e){return e.progress.uploadComplete})),d=i.filter((function(e){return e.error})),p=a.filter((function(e){return!e.isPaused})),f=i.filter((function(e){return e.progress.preprocess||e.progress.postprocess}));return{newFiles:o,startedFiles:s,uploadStartedFiles:u,pausedFiles:c,completeFiles:l,erroredFiles:d,inProgressFiles:a,inProgressNotPausedFiles:p,processingFiles:f,isUploadStarted:u.length>0,isAllComplete:100===n&&l.length===i.length&&0===f.length,isAllErrored:!!r&&d.length===i.length,isAllPaused:0!==a.length&&c.length===a.length,isUploadInProgress:a.length>0,isSomeGhost:i.some((function(e){return e.isGhost}))}}},{key:"validateRestrictions",value:function(e,t){void 0===t&&(t=this.getFiles());try{$(this,Z)[Z].validate(t,[e])}catch(e){return e}return null}},{key:"checkIfFileAlreadyExists",value:function(e){var t=this.getState().files;return!(!t[e]||t[e].isGhost)}},{key:"addFile",value:function(e){$(this,se)[se](e);var t=$(this,le)[le]([e]),n=t.nextFilesState,r=t.validFilesToAdd,i=t.errors,a=i.filter((function(e){return e.isRestriction}));if($(this,ie)[ie](a),i.length>0)throw i[0];this.setState({files:n});var s=(0,o.A)(r,1)[0];return this.emit("file-added",s),this.emit("files-added",r),this.log("Added file: ".concat(s.name,", ").concat(s.id,", mime type: ").concat(s.type)),$(this,ce)[ce](),s.id}},{key:"addFiles",value:function(e){var t=this;$(this,se)[se]();var n=$(this,le)[le](e),r=n.nextFilesState,i=n.validFilesToAdd,a=n.errors,o=a.filter((function(e){return e.isRestriction}));$(this,ie)[ie](o);var s=a.filter((function(e){return!e.isRestriction}));if(s.length>0){var u="Multiple errors occurred while adding files:\n";if(s.forEach((function(e){u+="\n * ".concat(e.message)})),this.info({message:this.i18n("addBulkFilesFailed",{smart_count:s.length}),details:u},"error",this.opts.infoTimeout),"function"==typeof AggregateError)throw new AggregateError(s,u);var c=new Error(u);throw c.errors=s,c}this.setState({files:r}),i.forEach((function(e){t.emit("file-added",e)})),this.emit("files-added",i),i.length>5?this.log("Added batch of ".concat(i.length," files")):Object.values(i).forEach((function(e){t.log("Added file: ".concat(e.name,"\n id: ").concat(e.id,"\n type: ").concat(e.type))})),i.length>0&&$(this,ce)[ce]()}},{key:"removeFiles",value:function(e,t){var n=this,r=this.getState(),i=r.files,a=r.currentUploads,o=K({},i),s=K({},a),u=Object.create(null);function c(e){return void 0===u[e]}e.forEach((function(e){i[e]&&(u[e]=i[e],delete o[e])})),Object.keys(s).forEach((function(e){var t=a[e].fileIDs.filter(c);if(0!==t.length){var r=n.getState().capabilities;if(t.length!==a[e].fileIDs.length&&!r.individualCancellation)throw new Error("individualCancellation is disabled");s[e]=K(K({},a[e]),{},{fileIDs:t})}else delete s[e]}));var l={currentUploads:s,files:o};0===Object.keys(o).length&&(l.allowNewUpload=!0,l.error=null,l.recoveredState=null),this.setState(l),this.calculateTotalProgress();var d=Object.keys(u);d.forEach((function(e){n.emit("file-removed",u[e],t)})),d.length>5?this.log("Removed ".concat(d.length," files")):this.log("Removed files: ".concat(d.join(", ")))}},{key:"removeFile",value:function(e,t){this.removeFiles([e],t)}},{key:"pauseResume",value:function(e){if(this.getState().capabilities.resumableUploads&&!this.getFile(e).progress.uploadComplete){var t=!(this.getFile(e).isPaused||!1);return this.setFileState(e,{isPaused:t}),this.emit("upload-pause",e,t),t}}},{key:"pauseAll",value:function(){var e=K({},this.getState().files);Object.keys(e).filter((function(t){return!e[t].progress.uploadComplete&&e[t].progress.uploadStarted})).forEach((function(t){var n=K(K({},e[t]),{},{isPaused:!0});e[t]=n})),this.setState({files:e}),this.emit("pause-all")}},{key:"resumeAll",value:function(){var e=K({},this.getState().files);Object.keys(e).filter((function(t){return!e[t].progress.uploadComplete&&e[t].progress.uploadStarted})).forEach((function(t){var n=K(K({},e[t]),{},{isPaused:!1,error:null});e[t]=n})),this.setState({files:e}),this.emit("resume-all")}},{key:"retryAll",value:function(){var e=K({},this.getState().files),t=Object.keys(e).filter((function(t){return e[t].error}));if(t.forEach((function(t){var n=K(K({},e[t]),{},{isPaused:!1,error:null});e[t]=n})),this.setState({files:e,error:null}),this.emit("retry-all",t),0===t.length)return Promise.resolve({successful:[],failed:[]});var n=$(this,he)[he](t,{forceAllowNewUpload:!0});return $(this,ge)[ge](n)}},{key:"cancelAll",value:function(e){var t=(void 0===e?{}:e).reason,n=void 0===t?"user":t;if(this.emit("cancel-all",{reason:n}),"user"===n){var r=this.getState().files,i=Object.keys(r);i.length&&this.removeFiles(i,"cancel-all"),this.setState(Y)}}},{key:"retryUpload",value:function(e){this.setFileState(e,{error:null,isPaused:!1}),this.emit("upload-retry",e);var t=$(this,he)[he]([e],{forceAllowNewUpload:!0});return $(this,ge)[ge](t)}},{key:"logout",value:function(){this.iteratePlugins((function(e){var t;null==(t=e.provider)||null==t.logout||t.logout()}))}},{key:"calculateTotalProgress",value:function(){var e=this.getFiles().filter((function(e){return e.progress.uploadStarted||e.progress.preprocess||e.progress.postprocess}));if(0===e.length)return this.emit("progress",0),void this.setState({totalProgress:0});var t=e.filter((function(e){return null!=e.progress.bytesTotal})),n=e.filter((function(e){return null==e.progress.bytesTotal}));if(0!==t.length){var r=t.reduce((function(e,t){var n;return e+(null!=(n=t.progress.bytesTotal)?n:0)}),0),i=r/t.length;r+=i*n.length;var a=0;t.forEach((function(e){a+=e.progress.bytesUploaded})),n.forEach((function(e){a+=i*(e.progress.percentage||0)/100}));var o=0===r?0:Math.round(a/r*100);o>100&&(o=100),this.setState({totalProgress:o}),this.emit("progress",o)}else{var s=100*e.length,u=n.reduce((function(e,t){return e+t.progress.percentage}),0),c=Math.round(u/s*100);this.setState({totalProgress:c})}}},{key:"updateOnlineStatus",value:function(){var e;null==(e=window.navigator.onLine)||e?(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3e3),this.wasOffline=!1)):(this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0)}},{key:"getID",value:function(){return this.opts.id}},{key:"use",value:function(e,t){if("function"!=typeof e){var n="Expected a plugin class, but got ".concat(null===e?"null":(0,a.A)(e),".")+" Please verify that the plugin was imported and spelled correctly.";throw new TypeError(n)}var r=new e(this,t),i=r.id;if(!i)throw new Error("Your plugin must have an id");if(!r.type)throw new Error("Your plugin must have a type");var o=this.getPlugin(i);if(o){var s="Already found a plugin named '".concat(o.id,"'. ")+"Tried to use: '".concat(i,"'.\n")+"Uppy plugins must have unique `id` options. See https://uppy.io/docs/plugins/#id.";throw new Error(s)}return e.VERSION&&this.log("Using ".concat(i," v").concat(e.VERSION)),r.type in $(this,X)[X]?$(this,X)[X][r.type].push(r):$(this,X)[X][r.type]=[r],r.install(),this.emit("plugin-added",r),this}},{key:"getPlugin",value:function(e){for(var t=0,n=Object.values($(this,X)[X]);t<n.length;t++){var r=n[t].find((function(t){return t.id===e}));if(null!=r)return r}}},{key:e,value:function(e){return $(this,X)[X][e]}},{key:"iteratePlugins",value:function(e){Object.values($(this,X)[X]).flat(1).forEach(e)}},{key:"removePlugin",value:function(e){this.log("Removing plugin ".concat(e.id)),this.emit("plugin-remove",e),e.uninstall&&e.uninstall();var t=$(this,X)[X][e.type],n=t.findIndex((function(t){return t.id===e.id}));-1!==n&&t.splice(n,1);var r={plugins:K(K({},this.getState().plugins),{},(0,s.A)({},e.id,void 0))};this.setState(r)}},{key:"close",value:function(e){var t=this,n=(void 0===e?{}:e).reason;this.log("Closing Uppy instance ".concat(this.opts.id,": removing all files and uninstalling plugins")),this.cancelAll({reason:n}),$(this,J)[J](),this.iteratePlugins((function(e){t.removePlugin(e)})),"undefined"!=typeof window&&window.removeEventListener&&(window.removeEventListener("online",$(this,pe)[pe]),window.removeEventListener("offline",$(this,pe)[pe]))}},{key:"hideInfo",value:function(){var e=this.getState().info;this.setState({info:e.slice(1)}),this.emit("info-hidden")}},{key:"info",value:function(e,t,n){var r=this;void 0===t&&(t="info"),void 0===n&&(n=3e3);var o="object"===(0,a.A)(e);this.setState({info:[].concat((0,i.A)(this.getState().info),[{type:t,message:o?e.message:e,details:o?e.details:null}])}),setTimeout((function(){return r.hideInfo()}),n),this.emit("info-visible")}},{key:"log",value:function(e,t){var n=this.opts.logger;switch(t){case"error":n.error(e);break;case"warning":n.warn(e);break;default:n.debug(e)}}},{key:"registerRequestClient",value:function(e,t){$(this,fe)[fe].set(e,t)}},{key:"getRequestClientForFile",value:function(e){if(!e.remote)throw new Error("Tried to get RequestClient for a non-remote file ".concat(e.id));var t=$(this,fe)[fe].get(e.remote.requestClientId);if(null==t)throw new Error('requestClientId "'.concat(e.remote.requestClientId,'" not registered for file "').concat(e.id,'"'));return t}},{key:"restore",value:function(e){return this.log('Core: attempting to restore upload "'.concat(e,'"')),this.getState().currentUploads[e]?$(this,ge)[ge](e):($(this,ve)[ve](e),Promise.reject(new Error("Nonexistent upload")))}},{key:t,value:function(){var e;return(e=$(this,he))[he].apply(e,arguments)}},{key:"addResultData",value:function(e,t){if($(this,me)[me](e)){var n=this.getState().currentUploads,r=K(K({},n[e]),{},{result:K(K({},n[e].result),t)});this.setState({currentUploads:K(K({},n),{},(0,s.A)({},e,r))})}else this.log("Not setting result for an upload that has been removed: ".concat(e))}},{key:"upload",value:function(){var e,t=this;null!=(e=$(this,X)[X].uploader)&&e.length||this.log("No uploader type plugins are used","warning");var n=this.getState().files,r=this.opts.onBeforeUpload(n);return!1===r?Promise.reject(new Error("Not starting the upload because onBeforeUpload returned false")):(r&&"object"===(0,a.A)(r)&&(n=r,this.setState({files:n})),Promise.resolve().then((function(){return $(t,Z)[Z].validateMinNumberOfFiles(n)})).catch((function(e){throw $(t,ie)[ie]([e]),e})).then((function(){if(!$(t,oe)[oe](n))throw new U(t.i18n("missingRequiredMetaField"))})).catch((function(e){throw e})).then((function(){var e=t.getState().currentUploads,r=Object.values(e).flatMap((function(e){return e.fileIDs})),i=[];Object.keys(n).forEach((function(e){var n=t.getFile(e);n.progress.uploadStarted||-1!==r.indexOf(e)||i.push(n.id)}));var a=$(t,he)[he](i);return $(t,ge)[ge](a)})).catch((function(e){throw t.emit("error",e),t.log(e,"error"),e})))}}])}(Symbol.for("uppy test: getPlugins"),Symbol.for("uppy test: createUpload"));function be(e){var t,n=this,r=q(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;i.isRestriction?this.emit("restriction-failed",i.file,i):this.emit("error",i,i.file),this.log(i,"warning")}}catch(e){r.e(e)}finally{r.f()}var a=e.filter((function(e){return e.isUserFacing})),o=a.slice(0,4),s=a.slice(4);o.forEach((function(e){var t=e.message,r=e.details,i=void 0===r?"":r;n.info({message:t,details:i},"error",n.opts.infoTimeout)})),s.length>0&&this.info({message:this.i18n("additionalRestrictionsFailed",{count:s.length})})}function we(e){var t=$(this,Z)[Z].getMissingRequiredMetaFields(e),n=t.missingFields,r=t.error;return!(n.length>0)||(this.setFileState(e.id,{missingRequiredMetaFields:n}),this.log(r.message),this.emit("restriction-failed",e,r),!1)}function De(e){for(var t=!0,n=0,r=Object.values(e);n<r.length;n++){var i=r[n];$(this,ae)[ae](i)||(t=!1)}return t}function Ae(e){if(!1===this.getState().allowNewUpload){var t=new U(this.i18n("noMoreFilesAllowed"),{file:e});throw $(this,ie)[ie]([t]),t}}function Ee(e){var t=e instanceof File?{name:e.name,type:e.type,size:e.size,data:e}:e,n=(0,C.A)(t),r=function(e,t){return t.name?t.name:"image"===e.split("/")[0]?"".concat(e.split("/")[0],".").concat(e.split("/")[1]):"noname"}(n,t),i=(0,_.A)(r).extension,a=(0,x.N)(t),o=t.meta||{};o.name=r,o.type=n;var s=Number.isFinite(t.data.size)?t.data.size:null;return{source:t.source||"",id:a,name:r,extension:i||"",meta:K(K({},this.getState().meta),o),type:n,data:t.data,progress:{percentage:0,bytesUploaded:0,bytesTotal:s,uploadComplete:!1,uploadStarted:null},size:s,isGhost:!1,isRemote:t.isRemote||!1,remote:t.remote||"",preview:t.preview}}function ke(){var e=this;this.opts.autoProceed&&!this.scheduledAutoProceed&&(this.scheduledAutoProceed=setTimeout((function(){e.scheduledAutoProceed=null,e.upload().catch((function(t){t.isRestriction||e.log(t.stack||t.message||t)}))}),4))}function Ce(e){var t,n=this.getState().files,r=K({},n),i=[],o=[],s=q(e);try{for(s.s();!(t=s.n()).done;){var u=t.value;try{var c,l=$(this,ue)[ue](u),d=null==(c=n[l.id])?void 0:c.isGhost;if(d)l=K(K({},n[l.id]),{},{isGhost:!1,data:u.data}),this.log("Replaced the blob in the restored ghost file: ".concat(l.name,", ").concat(l.id));var p=this.opts.onBeforeFileAdded(l,r);if(!p&&this.checkIfFileAlreadyExists(l.id))throw new U(this.i18n("noDuplicates",{fileName:l.name}),{file:u});if(!1===p&&!d)throw new U("Cannot add the file because onBeforeFileAdded returned false.",{isUserFacing:!1,file:u});"object"===(0,a.A)(p)&&null!==p&&(l=p),$(this,Z)[Z].validateSingleFile(l),r[l.id]=l,i.push(l)}catch(e){o.push(e)}}}catch(e){s.e(e)}finally{s.f()}try{$(this,Z)[Z].validateAggregateRestrictions(Object.values(n),i)}catch(e){return o.push(e),{nextFilesState:n,validFilesToAdd:[],errors:o}}return{nextFilesState:r,validFilesToAdd:i,errors:o}}function _e(){var e=this,t=function(t,n,r){var i=t.message||"Unknown error";t.details&&(i+=" ".concat(t.details)),e.setState({error:i}),null!=n&&n.id in e.getState().files&&e.setFileState(n.id,{error:i,response:r})};this.on("error",t),this.on("upload-error",(function(n,r,i){if(t(r,n,i),"object"===(0,a.A)(r)&&r.message){var o;e.log(r.message,"error");var s=new Error(e.i18n("failedToUpload",{file:null!=(o=null==n?void 0:n.name)?o:""}));s.isUserFacing=!0,s.details=r.message,r.details&&(s.details+=" ".concat(r.details)),$(e,ie)[ie]([s])}else $(e,ie)[ie]([r])}));var n=null;this.on("upload-stalled",(function(t,r){var i=t.message,a=r.map((function(e){return e.meta.name})).join(", ");n||(e.info({message:i,details:a},"warning",e.opts.infoTimeout),n=setTimeout((function(){n=null}),e.opts.infoTimeout)),e.log("".concat(i," ").concat(a).trim(),"warning")})),this.on("upload",(function(){e.setState({error:null})}));this.on("upload-start",(function(t){t.forEach((function(t){e.emit("upload-started",t)})),function(t){var n=t.filter((function(t){var n=null!=t&&e.getFile(t.id);return n||e.log("Not setting progress for a file that has been removed: ".concat(null==t?void 0:t.id)),n})),r=Object.fromEntries(n.map((function(e){return[e.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,percentage:0,bytesUploaded:0,bytesTotal:e.size}}]})));e.patchFilesState(r)}(t)})),this.on("upload-progress",this.calculateProgress),this.on("upload-success",(function(t,n){if(null!=t&&e.getFile(t.id)){var r=e.getFile(t.id).progress;e.setFileState(t.id,{progress:K(K({},r),{},{postprocess:$(e,re)[re].size>0?{mode:"indeterminate"}:void 0,uploadComplete:!0,percentage:100,bytesUploaded:r.bytesTotal}),response:n,uploadURL:n.uploadURL,isPaused:!1}),null==t.size&&e.setFileState(t.id,{size:n.bytesUploaded||r.bytesTotal}),e.calculateTotalProgress()}else e.log("Not setting progress for a file that has been removed: ".concat(null==t?void 0:t.id))})),this.on("preprocess-progress",(function(t,n){null!=t&&e.getFile(t.id)?e.setFileState(t.id,{progress:K(K({},e.getFile(t.id).progress),{},{preprocess:n})}):e.log("Not setting progress for a file that has been removed: ".concat(null==t?void 0:t.id))})),this.on("preprocess-complete",(function(t){if(null!=t&&e.getFile(t.id)){var n=K({},e.getState().files);n[t.id]=K(K({},n[t.id]),{},{progress:K({},n[t.id].progress)}),delete n[t.id].progress.preprocess,e.setState({files:n})}else e.log("Not setting progress for a file that has been removed: ".concat(null==t?void 0:t.id))})),this.on("postprocess-progress",(function(t,n){null!=t&&e.getFile(t.id)?e.setFileState(t.id,{progress:K(K({},e.getState().files[t.id].progress),{},{postprocess:n})}):e.log("Not setting progress for a file that has been removed: ".concat(null==t?void 0:t.id))})),this.on("postprocess-complete",(function(t){if(null!=t&&e.getFile(t.id)){var n=K({},e.getState().files);n[t.id]=K(K({},n[t.id]),{},{progress:K({},n[t.id].progress)}),delete n[t.id].progress.postprocess,e.setState({files:n})}else e.log("Not setting progress for a file that has been removed: ".concat(null==t?void 0:t.id))})),this.on("restored",(function(){e.calculateTotalProgress()})),this.on("dashboard:file-edit-complete",(function(t){t&&$(e,ae)[ae](t)})),"undefined"!=typeof window&&window.addEventListener&&(window.addEventListener("online",$(this,pe)[pe]),window.addEventListener("offline",$(this,pe)[pe]),setTimeout($(this,pe)[pe],3e3))}function xe(e,t){void 0===t&&(t={});var n=t.forceAllowNewUpload,r=void 0!==n&&n,i=this.getState(),a=i.allowNewUpload,o=i.currentUploads;if(!a&&!r)throw new Error("Cannot create a new upload: already uploading.");var u=(0,f.A)();return this.emit("upload",{id:u,fileIDs:e}),this.setState({allowNewUpload:!1!==this.opts.allowMultipleUploadBatches&&!1!==this.opts.allowMultipleUploads,currentUploads:K(K({},o),{},(0,s.A)({},u,{fileIDs:e,step:0,result:{}}))}),u}function Se(e){return this.getState().currentUploads[e]}function Te(e){var t=K({},this.getState().currentUploads);delete t[e],this.setState({currentUploads:t})}function Fe(e){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,r.A)(l.mark((function e(t){var n,r,a,o,u,c,d,p,f,h,m=this;return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=(n=function(){return m.getState().currentUploads[t]})(),a=[].concat((0,i.A)($(this,te)[te]),(0,i.A)($(this,ne)[ne]),(0,i.A)($(this,re)[re])),e.prev=3,o=r.step||0;case 5:if(!(o<a.length)){e.next=17;break}if(r){e.next=8;break}return e.abrupt("break",17);case 8:return u=a[o],this.setState({currentUploads:K(K({},this.getState().currentUploads),{},(0,s.A)({},t,K(K({},r),{},{step:o})))}),c=r.fileIDs,e.next=13,u(c,t);case 13:r=n();case 14:o++,e.next=5;break;case 17:e.next=23;break;case 19:throw e.prev=19,e.t0=e.catch(3),$(this,ve)[ve](t),e.t0;case 23:return r&&(r.fileIDs.forEach((function(e){var t=m.getFile(e);t&&t.progress.postprocess&&m.emit("postprocess-complete",t)})),d=r.fileIDs.map((function(e){return m.getFile(e)})),p=d.filter((function(e){return!e.error})),f=d.filter((function(e){return e.error})),this.addResultData(t,{successful:p,failed:f,uploadID:t}),r=n()),r&&(h=r.result,this.emit("complete",h),$(this,ve)[ve](t)),null==h&&this.log("Not setting result for an upload that has been removed: ".concat(t)),e.abrupt("return",h);case 27:case"end":return e.stop()}}),e,this,[[3,19]])})))).apply(this,arguments)}ye.VERSION="3.9.3";const Pe=ye},78735:(e,t,n)=>{n(76918),n(23288),n(26099),n(84864),n(57465),n(27495),n(87745),n(90906),n(38781),n(25440);var r=n(90726),i=n(25668),a=n(67873),o=n(34261),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,d=c.hasOwnProperty,p=RegExp("^"+l.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!a(e)||i(e))&&(r(e)?p:s).test(o(e))}},78766:(e,t,n)=>{var r=n(89990),i=n(86836),a=n(286);e.exports=function(e){return"symbol"==r(e)||a(e)&&"[object Symbol]"==i(e)}},79039:e=>{"use strict";e.exports=function(e){try{return!!e()}catch(e){return!0}}},79168:(e,t,n)=>{var r=n(46426)(n(42785),"Promise");e.exports=r},79296:(e,t,n)=>{"use strict";var r=n(4055)("span").classList,i=r&&r.constructor&&r.constructor.prototype;e.exports=i===Object.prototype?void 0:i},79306:(e,t,n)=>{"use strict";var r=n(94901),i=n(16823),a=TypeError;e.exports=function(e){if(r(e))return e;throw new a(i(e)+" is not a function")}},79432:(e,t,n)=>{"use strict";var r=n(46518),i=n(48981),a=n(71072);r({target:"Object",stat:!0,forced:n(79039)((function(){a(1)}))},{keys:function(e){return a(i(e))}})},79472:(e,t,n)=>{"use strict";var r,i=n(44576),a=n(18745),o=n(94901),s=n(84215),u=n(82839),c=n(67680),l=n(22812),d=i.Function,p=/MSIE .\./.test(u)||"BUN"===s&&((r=i.Bun.version.split(".")).length<3||"0"===r[0]&&(r[1]<3||"3"===r[1]&&"0"===r[2]));e.exports=function(e,t){var n=t?2:1;return p?function(r,i){var s=l(arguments.length,1)>n,u=o(r)?r:d(r),p=s?c(arguments,n):[],f=s?function(){a(u,this,p)}:u;return t?e(f,i):e(f)}:e}},79504:(e,t,n)=>{"use strict";var r=n(40616),i=Function.prototype,a=i.call,o=r&&i.bind.bind(a,a);e.exports=r?o:function(e){return function(){return a.apply(e,arguments)}}},79577:(e,t,n)=>{"use strict";var r=n(39928),i=n(94644),a=n(18727),o=n(91291),s=n(75854),u=i.aTypedArray,c=i.getTypedArrayConstructor,l=i.exportTypedArrayMethod,d=!!function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(e){return 8===e}}();l("with",{"with":function(e,t){var n=u(this),i=o(e),l=a(n)?s(t):+t;return r(n,c(n),i,l)}}.with,!d)},79739:(e,t,n)=>{"use strict";var r=n(97751),i="DOMException";n(10687)(r(i),i)},79876:(e,t,n)=>{n(27495),n(90906);var r=/\s/;e.exports=function(e){for(var t=e.length;t--&&r.test(e.charAt(t)););return t}},79932:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},79978:(e,t,n)=>{"use strict";var r=n(46518),i=n(69565),a=n(79504),o=n(67750),s=n(94901),u=n(64117),c=n(60788),l=n(655),d=n(55966),p=n(61034),f=n(2478),h=n(78227),m=n(96395),v=h("replace"),g=TypeError,y=a("".indexOf),b=a("".replace),w=a("".slice),D=Math.max;r({target:"String",proto:!0},{replaceAll:function(e,t){var n,r,a,h,A,E,k,C,_,x,S=o(this),T=0,F="";if(!u(e)){if((n=c(e))&&(r=l(o(p(e))),!~y(r,"g")))throw new g("`.replaceAll` does not allow non-global regexes");if(a=d(e,v))return i(a,e,S,t);if(m&&n)return b(l(S),e,t)}for(h=l(S),A=l(e),(E=s(t))||(t=l(t)),k=A.length,C=D(1,k),_=y(h,A);-1!==_;)x=E?l(t(A,_,h)):f(A,h,_,[],void 0,t),F+=w(h,T,_)+x,T=_+k,_=_+C>h.length?-1:y(h,A,_+C);return T<h.length&&(F+=w(h,T)),F}})},80241:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(15913);n(52675),n(89463),n(2259),n(23792),n(44114),n(26099),n(47764),n(62953);var i=n(40112),a=n(26314);function o(e,t){return(0,r.A)(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||(0,i.A)(e,t)||(0,a.A)()}},80309:(e,t,n)=>{"use strict";n.r(t),n.d(t,{"default":()=>C});n(52675),n(2008),n(51629),n(44114),n(67945),n(84185),n(83851),n(81278),n(79432),n(26099),n(60825),n(98992),n(54520),n(3949),n(23500);var r=n(51531),i=n(58237),a=n(84285),o=n(68119),s=n(36858),u=n(31061),c=(n(62010),n(27495),n(90906),n(73848)),l=n(36480),d=(n(23792),n(94170),n(2892),n(47764),n(62953),n(3296),n(27208),n(48408),n(34383));const p=function(e,t){var n=e.width/t.width,r=e.height/t.height,i=Math.min(n,r),a=t.width*i,o=t.height*i;return{width:a,height:o,left:(e.width-a)/2,top:(e.height-o)/2}};const f=function(e,t,n){var r=Math.abs(n*(Math.PI/180));return Math.max((Math.sin(r)*e+Math.cos(r)*t)/t,(Math.sin(r)*t+Math.cos(r)*e)/e)};const h=function(e,t,n){return t.left<e.left?{left:e.left,width:n.width}:t.top<e.top?{top:e.top,height:n.height}:t.left+t.width>e.left+e.width?{left:e.left+e.width-n.width,width:n.width}:t.top+t.height>e.top+e.height?{top:e.top+e.height-n.height,height:n.height}:null};const m=function(e,t,n){return t.left<e.left?{left:e.left,width:n.left+n.width-e.left}:t.top<e.top?{top:e.top,height:n.top+n.height-e.top}:t.left+t.width>e.left+e.width?{left:n.left,width:e.left+e.width-n.left}:t.top+t.height>e.top+e.height?{top:n.top,height:e.top+e.height-n.top}:null};function v(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(v=function(){return!!e})()}var g=function(e){function t(e){var n;return(0,i.A)(this,t),(n=function(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,v()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}(this,t,[e])).onRotate90Deg=function(){var e=n.state.angle90Deg-90;n.setState({angle90Deg:e,angleGranular:0}),n.cropper.scale(1),n.cropper.rotateTo(e);var t=n.cropper.getCanvasData(),r=n.cropper.getContainerData(),i=p(r,t);n.cropper.setCanvasData(i),n.cropper.setCropBoxData(i)},n.onRotateGranular=function(e){var t=Number(e.target.value);n.setState({angleGranular:t});var r=n.state.angle90Deg+t;n.cropper.rotateTo(r);var i=n.cropper.getImageData(),a=f(i.naturalWidth,i.naturalHeight,t),o=n.cropper.getImageData().scaleX<0?-a:a;n.cropper.scale(o,a)},n.state={angle90Deg:0,angleGranular:0,prevCropboxData:null},n.storePrevCropboxData=n.storePrevCropboxData.bind(n),n.limitCropboxMovement=n.limitCropboxMovement.bind(n),n}return(0,u.A)(t,e),(0,a.A)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.opts,n=e.storeCropperInstance;this.cropper=new d(this.imgElement,t.cropperOptions),this.imgElement.addEventListener("cropstart",this.storePrevCropboxData),this.imgElement.addEventListener("cropend",this.limitCropboxMovement),n(this.cropper)}},{key:"componentWillUnmount",value:function(){this.cropper.destroy(),this.imgElement.removeEventListener("cropstart",this.storePrevCropboxData),this.imgElement.removeEventListener("cropend",this.limitCropboxMovement)}},{key:"storePrevCropboxData",value:function(){this.setState({prevCropboxData:this.cropper.getCropBoxData()})}},{key:"limitCropboxMovement",value:function(e){var t=this.cropper.getCanvasData(),n=this.cropper.getCropBoxData(),r=this.state.prevCropboxData;if("all"===e.detail.action){var i=h(t,n,r);i&&this.cropper.setCropBoxData(i)}else{var a=m(t,n,r);a&&this.cropper.setCropBoxData(a)}}},{key:"renderGranularRotate",value:function(){var e=this.props.i18n,t=this.state.angleGranular;return(0,l.h)("label",{role:"tooltip","aria-label":"".concat(t,""),"data-microtip-position":"top",className:"uppy-ImageCropper-rangeWrapper"},(0,l.h)("input",{className:"uppy-ImageCropper-range uppy-u-reset",type:"range",onInput:this.onRotateGranular,onChange:this.onRotateGranular,value:t,min:"-45",max:"45","aria-label":e("rotate")}))}},{key:"renderRevert",value:function(){var e=this,t=this.props,n=t.i18n,r=t.opts;return(0,l.h)("label",{role:"tooltip","aria-label":n("revert"),"data-microtip-position":"top"},(0,l.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn",onClick:function(){e.cropper.reset(),e.cropper.setAspectRatio(r.cropperOptions.initialAspectRatio),e.setState({angle90Deg:0,angleGranular:0})}},(0,l.h)("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},(0,l.h)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,l.h)("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"}))))}},{key:"renderRotate",value:function(){var e=this.props.i18n;return(0,l.h)("label",{role:"tooltip","aria-label":e("rotate"),"data-microtip-position":"top"},(0,l.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn",onClick:this.onRotate90Deg},(0,l.h)("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},(0,l.h)("path",{d:"M0 0h24v24H0V0zm0 0h24v24H0V0z",fill:"none"}),(0,l.h)("path",{d:"M14 10a2 2 0 012 2v7a2 2 0 01-2 2H6a2 2 0 01-2-2v-7a2 2 0 012-2h8zm0 1.75H6a.25.25 0 00-.243.193L5.75 12v7a.25.25 0 00.193.243L6 19.25h8a.25.25 0 00.243-.193L14.25 19v-7a.25.25 0 00-.193-.243L14 11.75zM12 .76V4c2.3 0 4.61.88 6.36 2.64a8.95 8.95 0 012.634 6.025L21 13a1 1 0 01-1.993.117L19 13h-.003a6.979 6.979 0 00-2.047-4.95 6.97 6.97 0 00-4.652-2.044L12 6v3.24L7.76 5 12 .76z"}))))}},{key:"renderFlip",value:function(){var e=this,t=this.props.i18n;return(0,l.h)("label",{role:"tooltip","aria-label":t("flipHorizontal"),"data-microtip-position":"top"},(0,l.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn",onClick:function(){return e.cropper.scaleX(-e.cropper.getData().scaleX||-1)}},(0,l.h)("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},(0,l.h)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,l.h)("path",{d:"M15 21h2v-2h-2v2zm4-12h2V7h-2v2zM3 5v14c0 1.1.9 2 2 2h4v-2H5V5h4V3H5c-1.1 0-2 .9-2 2zm16-2v2h2c0-1.1-.9-2-2-2zm-8 20h2V1h-2v22zm8-6h2v-2h-2v2zM15 5h2V3h-2v2zm4 8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2z"}))))}},{key:"renderZoomIn",value:function(){var e=this,t=this.props.i18n;return(0,l.h)("label",{role:"tooltip","aria-label":t("zoomIn"),"data-microtip-position":"top"},(0,l.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn",onClick:function(){return e.cropper.zoom(.1)}},(0,l.h)("svg",{"aria-hidden":"true",className:"uppy-c-icon",height:"24",viewBox:"0 0 24 24",width:"24"},(0,l.h)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),(0,l.h)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),(0,l.h)("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"}))))}},{key:"renderZoomOut",value:function(){var e=this,t=this.props.i18n;return(0,l.h)("label",{role:"tooltip","aria-label":t("zoomOut"),"data-microtip-position":"top"},(0,l.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn",onClick:function(){return e.cropper.zoom(-.1)}},(0,l.h)("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},(0,l.h)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),(0,l.h)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"}))))}},{key:"renderCropSquare",value:function(){var e=this,t=this.props.i18n;return(0,l.h)("label",{role:"tooltip","aria-label":t("aspectRatioSquare"),"data-microtip-position":"top"},(0,l.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn",onClick:function(){return e.cropper.setAspectRatio(1)}},(0,l.h)("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},(0,l.h)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,l.h)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}))))}},{key:"renderCropWidescreen",value:function(){var e=this,t=this.props.i18n;return(0,l.h)("label",{role:"tooltip","aria-label":t("aspectRatioLandscape"),"data-microtip-position":"top"},(0,l.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn",onClick:function(){return e.cropper.setAspectRatio(16/9)}},(0,l.h)("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},(0,l.h)("path",{d:"M 19,4.9999992 V 17.000001 H 4.9999998 V 6.9999992 H 19 m 0,-2 H 4.9999998 c -1.0999999,0 -1.9999999,0.9000001 -1.9999999,2 V 17.000001 c 0,1.1 0.9,2 1.9999999,2 H 19 c 1.1,0 2,-0.9 2,-2 V 6.9999992 c 0,-1.0999999 -0.9,-2 -2,-2 z"}),(0,l.h)("path",{fill:"none",d:"M0 0h24v24H0z"}))))}},{key:"renderCropWidescreenVertical",value:function(){var e=this,t=this.props.i18n;return(0,l.h)("label",{role:"tooltip","aria-label":t("aspectRatioPortrait"),"data-microtip-position":"top"},(0,l.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn",onClick:function(){return e.cropper.setAspectRatio(9/16)}},(0,l.h)("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},(0,l.h)("path",{d:"M 19.000001,19 H 6.999999 V 5 h 10.000002 v 14 m 2,0 V 5 c 0,-1.0999999 -0.9,-1.9999999 -2,-1.9999999 H 6.999999 c -1.1,0 -2,0.9 -2,1.9999999 v 14 c 0,1.1 0.9,2 2,2 h 10.000002 c 1.1,0 2,-0.9 2,-2 z"}),(0,l.h)("path",{d:"M0 0h24v24H0z",fill:"none"}))))}},{key:"render",value:function(){var e=this,t=this.props,n=t.currentImage,r=t.opts.actions,i=URL.createObjectURL(n.data);return(0,l.h)("div",{className:"uppy-ImageCropper"},(0,l.h)("div",{className:"uppy-ImageCropper-container"},(0,l.h)("img",{className:"uppy-ImageCropper-image",alt:n.name,src:i,ref:function(t){e.imgElement=t}})),(0,l.h)("div",{className:"uppy-ImageCropper-controls"},r.revert&&this.renderRevert(),r.rotate&&this.renderRotate(),r.granularRotate&&this.renderGranularRotate(),r.flip&&this.renderFlip(),r.zoomIn&&this.renderZoomIn(),r.zoomOut&&this.renderZoomOut(),r.cropSquare&&this.renderCropSquare(),r.cropWidescreen&&this.renderCropWidescreen(),r.cropWidescreenVertical&&this.renderCropWidescreenVertical()))}}])}(l.uA);const y={strings:{revert:"Reset",rotate:"Rotate 90",zoomIn:"Zoom in",zoomOut:"Zoom out",flipHorizontal:"Flip horizontally",aspectRatioSquare:"Crop square",aspectRatioLandscape:"Crop landscape (16:9)",aspectRatioPortrait:"Crop portrait (9:16)"}};function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(D=function(){return!!e})()}var A={viewMode:0,background:!1,autoCropArea:1,responsive:!0,minCropBoxWidth:70,minCropBoxHeight:70,croppedCanvasOptions:{},initialAspectRatio:0},E={revert:!0,rotate:!0,granularRotate:!0,flip:!0,zoomIn:!0,zoomOut:!0,cropSquare:!0,cropWidescreen:!0,cropWidescreenVertical:!0},k={quality:.8,actions:E,cropperOptions:A},C=function(e){function t(e,n){var r;return(0,i.A)(this,t),(r=function(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,D()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}(this,t,[e,w(w(w({},k),n),{},{actions:w(w({},E),null==n?void 0:n.actions),cropperOptions:w(w({},A),null==n?void 0:n.cropperOptions)})])).save=function(){var e=r.getPluginState().currentImage,t=r.cropper.getCroppedCanvas({});t.width%2!=0&&r.cropper.setData({width:t.width-1}),t.height%2!=0&&r.cropper.setData({height:t.height-1}),r.cropper.getCroppedCanvas(r.opts.cropperOptions.croppedCanvasOptions).toBlob((function(e){var t=r.getPluginState().currentImage;r.uppy.setFileState(t.id,{data:new File([e],t.name,{type:e.type}),size:e.size,preview:void 0});var n=r.uppy.getFile(t.id);r.uppy.emit("thumbnail:request",n),r.setPluginState({currentImage:n}),r.uppy.emit("file-editor:complete",n)}),e.type,r.opts.quality)},r.storeCropperInstance=function(e){r.cropper=e},r.selectFile=function(e){r.uppy.emit("file-editor:start",e),r.setPluginState({currentImage:e})},r.id=r.opts.id||"ImageEditor",r.title="Image Editor",r.type="editor",r.defaultLocale=y,r.i18nInit(),r}return(0,u.A)(t,e),(0,a.A)(t,[{key:"canEditFile",value:function(e){if(!e.type||e.isRemote)return!1;var t=e.type.split("/")[1];return!!/^(jpe?g|gif|png|bmp|webp)$/.test(t)}},{key:"install",value:function(){this.setPluginState({currentImage:null});var e=this.opts.target;e&&this.mount(e,this)}},{key:"uninstall",value:function(){var e=this.getPluginState().currentImage;if(e){var t=this.uppy.getFile(e.id);this.uppy.emit("file-editor:cancel",t)}this.unmount()}},{key:"render",value:function(){var e=this.getPluginState().currentImage;return null===e||e.isRemote?null:(0,l.h)(g,{currentImage:e,storeCropperInstance:this.storeCropperInstance,save:this.save,opts:this.opts,i18n:this.i18n})}}])}(c.A);C.VERSION="2.4.4"},80397:(e,t,n)=>{"use strict";n(26099),n(3362),e.exports=function(e,t){return t=t||function(){},e.then((function(e){return new Promise((function(e){e(t())})).then((function(){return e}))}),(function(e){return new Promise((function(e){e(t())})).then((function(){throw e}))}))}},80550:(e,t,n)=>{"use strict";var r=n(44576);e.exports=r.Promise},80630:(e,t,n)=>{"use strict";var r=n(46518),i=n(79504),a=n(79039),o=n(31240),s=i(1..toPrecision);r({target:"Number",proto:!0,forced:a((function(){return"1"!==s(1,void 0)}))||!a((function(){s({})}))},{toPrecision:function(e){return void 0===e?s(o(this)):s(o(this),e)}})},80741:e=>{"use strict";var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var r=+e;return(r>0?n:t)(r)}},80747:(e,t,n)=>{"use strict";var r=n(66699),i=n(38574),a=n(24659),o=Error.captureStackTrace;e.exports=function(e,t,n,s){a&&(o?o(e,t):r(e,"stack",i(n,s)))}},80926:(e,t,n)=>{"use strict";var r=n(79306),i=n(48981),a=n(47055),o=n(26198),s=TypeError,u="Reduce of empty array with no initial value",c=function(e){return function(t,n,c,l){var d=i(t),p=a(d),f=o(d);if(r(n),0===f&&c<2)throw new s(u);var h=e?f-1:0,m=e?-1:1;if(c<2)for(;;){if(h in p){l=p[h],h+=m;break}if(h+=m,e?h<0:f<=h)throw new s(u)}for(;e?h>=0:f>h;h+=m)h in p&&(l=n(l,p[h],h,d));return l}};e.exports={left:c(!1),right:c(!0)}},81148:(e,t,n)=>{"use strict";var r=n(46518),i=n(72652),a=n(79306),o=n(28551),s=n(1767);r({target:"Iterator",proto:!0,real:!0},{every:function(e){o(this),a(e);var t=s(this),n=0;return!i(t,(function(t,r){if(!e(t,n++))return r()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},81278:(e,t,n)=>{"use strict";var r=n(46518),i=n(43724),a=n(35031),o=n(25397),s=n(77347),u=n(97040);r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(e){for(var t,n,r=o(e),i=s.f,c=a(r),l={},d=0;c.length>d;)void 0!==(n=i(r,t=c[d++]))&&u(l,t,n);return l}})},81454:(e,t,n)=>{"use strict";n(61701)},81510:(e,t,n)=>{"use strict";var r=n(46518),i=n(97751),a=n(39297),o=n(655),s=n(25745),u=n(91296),c=s("string-to-symbol-registry"),l=s("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!u},{"for":function(e){var t=o(e);if(a(c,t))return c[t];var n=i("Symbol")(t);return c[t]=n,l[n]=t,n}})},81630:(e,t,n)=>{"use strict";var r=n(79504),i=n(94644),a=r(n(57029)),o=i.aTypedArray;(0,i.exportTypedArrayMethod)("copyWithin",(function(e,t){return a(o(this),e,t,arguments.length>2?arguments[2]:void 0)}))},81700:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});n(16280),n(76918),n(23792),n(36033),n(59904),n(26099),n(47764),n(62953);var r=n(36858),i=n(85670);n(25276),n(23288),n(38781);n(44114),n(94170),n(60825);var a=n(42184);function o(e){var t="function"==typeof Map?new Map:void 0;return o=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){if((0,a.A)())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var o=new(e.bind.apply(e,r));return n&&(0,i.A)(o,n.prototype),o}(e,arguments,(0,r.A)(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),(0,i.A)(n,e)},o(e)}},81802:(e,t,n)=>{"use strict";n(72712),n(59089),n(84185),n(26099),n(84864),n(57465),n(27495),n(87745),n(38781),n(98992),n(8872),Object.defineProperty(t,"__esModule",{value:!0}),t.CARRIAGE_RETURN_PLACEHOLDER_REGEX=t.CARRIAGE_RETURN_PLACEHOLDER=t.CARRIAGE_RETURN_REGEX=t.CARRIAGE_RETURN=t.CASE_SENSITIVE_TAG_NAMES_MAP=t.CASE_SENSITIVE_TAG_NAMES=void 0,t.CASE_SENSITIVE_TAG_NAMES=["animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","linearGradient","radialGradient","textPath"],t.CASE_SENSITIVE_TAG_NAMES_MAP=t.CASE_SENSITIVE_TAG_NAMES.reduce((function(e,t){return e[t.toLowerCase()]=t,e}),{}),t.CARRIAGE_RETURN="\r",t.CARRIAGE_RETURN_REGEX=new RegExp(t.CARRIAGE_RETURN,"g"),t.CARRIAGE_RETURN_PLACEHOLDER="__HTML_DOM_PARSER_CARRIAGE_RETURN_PLACEHOLDER_".concat(Date.now(),"__"),t.CARRIAGE_RETURN_PLACEHOLDER_REGEX=new RegExp(t.CARRIAGE_RETURN_PLACEHOLDER,"g")},81813:(e,t,n)=>{n(64346);var r=Array.isArray;e.exports=r},82003:(e,t,n)=>{"use strict";var r=n(46518),i=n(96395),a=n(10916).CONSTRUCTOR,o=n(80550),s=n(97751),u=n(94901),c=n(36840),l=o&&o.prototype;if(r({target:"Promise",proto:!0,forced:a,real:!0},{"catch":function(e){return this.then(void 0,e)}}),!i&&u(o)){var d=s("Promise").prototype.catch;l.catch!==d&&c(l,"catch",d,{unsafe:!0})}},82053:e=>{e.exports={name:"memoryStorage",read:function(e){return t[e]},write:function(e,n){t[e]=n},each:function(e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)},remove:function(e){delete t[e]},clearAll:function(e){t={}}};var t={}},82156:(e,t,n)=>{var r=n(89990).default,i=n(55337);e.exports=function(e){var t=i(e,"string");return"symbol"==r(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},82326:(e,t,n)=>{"use strict";var r=n(46518),i=Math.asinh,a=Math.log,o=Math.sqrt;r({target:"Math",stat:!0,forced:!(i&&1/i(0)>0)},{asinh:function e(t){var n=+t;return isFinite(n)&&0!==n?n<0?-e(-n):a(n+o(n*n+1)):n}})},82459:e=>{e.exports=function(){return!1}},82512:(e,t,n)=>{var r=n(91298);e.exports=function(e,t){return r(e,t)}},82839:(e,t,n)=>{"use strict";var r=n(44576).navigator,i=r&&r.userAgent;e.exports=i?String(i):""},83063:(e,t,n)=>{"use strict";var r=n(82839);e.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(r)},83237:(e,t,n)=>{"use strict";n(70511)("replace")},83252:(e,t,n)=>{var r=n(9919).Global;function i(){return r.sessionStorage}function a(e){return i().getItem(e)}e.exports={name:"sessionStorage",read:a,write:function(e,t){return i().setItem(e,t)},each:function(e){for(var t=i().length-1;t>=0;t--){var n=i().key(t);e(a(n),n)}},remove:function(e){return i().removeItem(e)},clearAll:function(){return i().clear()}}},83532:(e,t,n)=>{"use strict";n(74423),n(84185),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){void 0===e&&(e={});var n={},c=Boolean(e.type&&s[e.type]);for(var l in e){var d=e[l];if((0,r.isCustomAttribute)(l))n[l]=d;else{var p=l.toLowerCase(),f=u(p);if(f){var h=(0,r.getPropertyInfo)(f);switch(a.includes(f)&&o.includes(t)&&!c&&(f=u("default"+p)),n[f]=d,h&&h.type){case r.BOOLEAN:n[f]=!0;break;case r.OVERLOADED_BOOLEAN:""===d&&(n[f]=!0)}}else i.PRESERVE_CUSTOM_ATTRIBUTES&&(n[l]=d)}}return(0,i.setStyleProp)(e.style,n),n};var r=n(98742),i=n(6762),a=["checked","value"],o=["input","select","textarea"],s={reset:!0,submit:!0};function u(e){return r.possibleStandardNames[e]}},83626:function(e,t,n){var r,i,a,o,s=n(89990);o=function(e){var t;return e.mode.ECB=((t=e.lib.BlockCipherMode.extend()).Encryptor=t.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),t.Decryptor=t.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),t),e.mode.ECB},"object"===s(t)?e.exports=t=o(n(83841),n(76793)):(i=[n(83841),n(76793)],void 0===(a="function"==typeof(r=o)?r.apply(t,i):r)||(e.exports=a))},83635:(e,t,n)=>{"use strict";var r=n(79039),i=n(44576).RegExp;e.exports=r((function(){var e=i(".","s");return!(e.dotAll&&e.test("\n")&&"s"===e.flags)}))},83841:function(e,t,n){var r,i,a,o,s=n(89990);n(16280),n(76918),n(28706),n(23792),n(48598),n(44114),n(34782),n(54554),n(54743),n(11745),n(38309),n(23288),n(36456),n(55081),n(59904),n(26099),n(58940),n(38781),n(50375),n(61740),n(48140),n(81630),n(72170),n(75044),n(69539),n(31694),n(89955),n(21903),n(91134),n(33206),n(44496),n(66651),n(12887),n(19369),n(66812),n(8995),n(31575),n(36072),n(88747),n(28845),n(29423),n(57301),n(373),n(86614),n(41405),n(33684),n(88267),n(43250),n(10149),n(24082),n(13611),o=function(){var e=e||function(e){var t;if("undefined"!=typeof window&&window.crypto&&(t=window.crypto),"undefined"!=typeof self&&self.crypto&&(t=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(t=globalThis.crypto),!t&&"undefined"!=typeof window&&window.msCrypto&&(t=window.msCrypto),!t&&void 0!==n.g&&n.g.crypto&&(t=n.g.crypto),!t)try{t=n(50477)}catch(e){}var r=function(){if(t){if("function"==typeof t.getRandomValues)try{return t.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof t.randomBytes)try{return t.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")},i=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),a={},o=a.lib={},s=o.Base={extend:function(e){var t=i(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},u=o.WordArray=s.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||l).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var a=0;a<i;a++){var o=n[a>>>2]>>>24-a%4*8&255;t[r+a>>>2]|=o<<24-(r+a)%4*8}else for(var s=0;s<i;s+=4)t[r+s>>>2]=n[s>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=s.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(r());return new u.init(t,e)}}),c=a.enc={},l=c.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var a=t[i>>>2]>>>24-i%4*8&255;r.push((a>>>4).toString(16)),r.push((15&a).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new u.init(n,t/2)}},d=c.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var a=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(a))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new u.init(n,t)}},p=c.Utf8={stringify:function(e){try{return decodeURIComponent(escape(d.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return d.parse(unescape(encodeURIComponent(e)))}},f=o.BufferedBlockAlgorithm=s.extend({reset:function(){this._data=new u.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=p.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n,r=this._data,i=r.words,a=r.sigBytes,o=this.blockSize,s=a/(4*o),c=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*o,l=e.min(4*c,a);if(c){for(var d=0;d<c;d+=o)this._doProcessBlock(i,d);n=i.splice(0,c),r.sigBytes-=l}return new u.init(n,l)},clone:function(){var e=s.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),h=(o.Hasher=f.extend({cfg:s.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new h.HMAC.init(e,n).finalize(t)}}}),a.algo={});return a}(Math);return e},"object"===s(t)?e.exports=t=o():(i=[],void 0===(a="function"==typeof(r=o)?r.apply(t,i):r)||(e.exports=a))},83851:(e,t,n)=>{"use strict";var r=n(46518),i=n(79039),a=n(25397),o=n(77347).f,s=n(43724);r({target:"Object",stat:!0,forced:!s||i((function(){o(1)})),sham:!s},{getOwnPropertyDescriptor:function(e,t){return o(a(e),t)}})},83962:(e,t,n)=>{var r=n(4544);e.exports=function(e){return null==e?"":r(e)}},84185:(e,t,n)=>{"use strict";var r=n(46518),i=n(43724),a=n(24913).f;r({target:"Object",stat:!0,forced:Object.defineProperty!==a,sham:!i},{defineProperty:a})},84215:(e,t,n)=>{"use strict";var r=n(44576),i=n(82839),a=n(22195),o=function(e){return i.slice(0,e.length)===e};e.exports=o("Bun/")?"BUN":o("Cloudflare-Workers")?"CLOUDFLARE":o("Deno/")?"DENO":o("Node.js/")?"NODE":r.Bun&&"string"==typeof Bun.version?"BUN":r.Deno&&"object"==typeof Deno.version?"DENO":"process"===a(r.process)?"NODE":r.window&&r.document?"BROWSER":"REST"},84270:(e,t,n)=>{"use strict";var r=n(69565),i=n(94901),a=n(20034),o=TypeError;e.exports=function(e,t){var n,s;if("string"===t&&i(n=e.toString)&&!a(s=r(n,e)))return s;if(i(n=e.valueOf)&&!a(s=r(n,e)))return s;if("string"!==t&&i(n=e.toString)&&!a(s=r(n,e)))return s;throw new o("Can't convert object to primitive value")}},84285:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});n(84185);var r=n(19326);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(0,r.A)(i.key),i)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}},84373:(e,t,n)=>{"use strict";var r=n(48981),i=n(35610),a=n(26198);e.exports=function(e){for(var t=r(this),n=a(t),o=arguments.length,s=i(o>1?arguments[1]:void 0,n),u=o>2?arguments[2]:void 0,c=void 0===u?n:i(u,n);c>s;)t[s++]=e;return t}},84428:(e,t,n)=>{"use strict";var r=n(78227)("iterator"),i=!1;try{var a=0,o={next:function(){return{done:!!a++}},"return":function(){i=!0}};o[r]=function(){return this},Array.from(o,(function(){throw 2}))}catch(e){}e.exports=function(e,t){try{if(!t&&!i)return!1}catch(e){return!1}var n=!1;try{var a={};a[r]=function(){return{next:function(){return{done:n=!0}}}},e(a)}catch(e){}return n}},84606:(e,t,n)=>{"use strict";var r=n(16823),i=TypeError;e.exports=function(e,t){if(!delete e[t])throw new i("Cannot delete property "+r(t)+" of "+r(e))}},84864:(e,t,n)=>{"use strict";var r=n(43724),i=n(44576),a=n(79504),o=n(92796),s=n(23167),u=n(66699),c=n(2360),l=n(38480).f,d=n(1625),p=n(60788),f=n(655),h=n(61034),m=n(58429),v=n(11056),g=n(36840),y=n(79039),b=n(39297),w=n(91181).enforce,D=n(87633),A=n(78227),E=n(83635),k=n(18814),C=A("match"),_=i.RegExp,x=_.prototype,S=i.SyntaxError,T=a(x.exec),F=a("".charAt),O=a("".replace),P=a("".indexOf),I=a("".slice),B=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,R=/a/g,N=/a/g,M=new _(R)!==R,L=m.MISSED_STICKY,j=m.UNSUPPORTED_Y,U=r&&(!M||L||E||k||y((function(){return N[C]=!1,_(R)!==R||_(N)===N||"/a/i"!==String(_(R,"i"))})));if(o("RegExp",U)){for(var z=function(e,t){var n,r,i,a,o,l,m=d(x,this),v=p(e),g=void 0===t,y=[],D=e;if(!m&&v&&g&&e.constructor===z)return e;if((v||d(x,e))&&(e=e.source,g&&(t=h(D))),e=void 0===e?"":f(e),t=void 0===t?"":f(t),D=e,E&&"dotAll"in R&&(r=!!t&&P(t,"s")>-1)&&(t=O(t,/s/g,"")),n=t,L&&"sticky"in R&&(i=!!t&&P(t,"y")>-1)&&j&&(t=O(t,/y/g,"")),k&&(a=function(e){for(var t,n=e.length,r=0,i="",a=[],o=c(null),s=!1,u=!1,l=0,d="";r<=n;r++){if("\\"===(t=F(e,r)))t+=F(e,++r);else if("]"===t)s=!1;else if(!s)switch(!0){case"["===t:s=!0;break;case"("===t:if(i+=t,"?:"===I(e,r+1,r+3))continue;T(B,I(e,r+1))&&(r+=2,u=!0),l++;continue;case">"===t&&u:if(""===d||b(o,d))throw new S("Invalid capture group name");o[d]=!0,a[a.length]=[d,l],u=!1,d="";continue}u?d+=t:i+=t}return[i,a]}(e),e=a[0],y=a[1]),o=s(_(e,t),m?this:x,z),(r||i||y.length)&&(l=w(o),r&&(l.dotAll=!0,l.raw=z(function(e){for(var t,n=e.length,r=0,i="",a=!1;r<=n;r++)"\\"!==(t=F(e,r))?a||"."!==t?("["===t?a=!0:"]"===t&&(a=!1),i+=t):i+="[\\s\\S]":i+=t+F(e,++r);return i}(e),n)),i&&(l.sticky=!0),y.length&&(l.groups=y)),e!==D)try{u(o,"source",""===D?"(?:)":D)}catch(e){}return o},V=l(_),q=0;V.length>q;)v(z,_,V[q++]);x.constructor=z,z.prototype=x,g(i,"RegExp",z,{constructor:!0})}D("RegExp")},85046:(e,t,n)=>{var r=n(46426)(Object,"create");e.exports=r},85192:e=>{e.exports={options:{usePureJavaScript:!1}}},85369:(e,t,n)=>{"use strict";var r=n(89990);n(16280),n(76918);var i=n(55384);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var s={d:{f:o,r:function(){throw Error(a(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},u=Symbol.for("react.portal");var c=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(e,t){return"font"===e?"":"string"==typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(a(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:u,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=c.T,n=s.p;try{if(c.T=null,s.p=2,e)return e()}finally{c.T=t,s.p=n,s.d.f()}},t.preconnect=function(e,t){"string"==typeof e&&(t?t="string"==typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,s.d.C(e,t))},t.prefetchDNS=function(e){"string"==typeof e&&s.d.D(e)},t.preinit=function(e,t){if("string"==typeof e&&t&&"string"==typeof t.as){var n=t.as,r=l(n,t.crossOrigin),i="string"==typeof t.integrity?t.integrity:void 0,a="string"==typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?s.d.S(e,"string"==typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:a}):"script"===n&&s.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:a,nonce:"string"==typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"==typeof e)if("object"===r(t)&&null!==t){if(null==t.as||"script"===t.as){var n=l(t.as,t.crossOrigin);s.d.M(e,{crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0})}}else null==t&&s.d.M(e)},t.preload=function(e,t){if("string"==typeof e&&"object"===r(t)&&null!==t&&"string"==typeof t.as){var n=t.as,i=l(n,t.crossOrigin);s.d.L(e,n,{crossOrigin:i,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0,type:"string"==typeof t.type?t.type:void 0,fetchPriority:"string"==typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"==typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"==typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"==typeof t.imageSizes?t.imageSizes:void 0,media:"string"==typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"==typeof e)if(t){var n=l(t.as,t.crossOrigin);s.d.m(e,{as:"string"==typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0})}else s.d.m(e)},t.requestFormReset=function(e){s.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return c.H.useFormState(e,t,n)},t.useFormStatus=function(){return c.H.useHostTransitionStatus()},t.version="19.1.0"},85489:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},85661:(e,t,n)=>{"use strict";n(52675),n(16280),n(76918),n(28706),n(44114),n(34782),n(59904),n(63548);var r=Object.prototype.hasOwnProperty,i="~";function a(){}function o(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(e,t,n,r,a){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new o(n,r||e,a),u=i?i+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],s]:e._events[u].push(s):(e._events[u]=s,e._eventsCount++),e}function u(e,t){0==--e._eventsCount?e._events=new a:delete e._events[t]}function c(){this._events=new a,this._eventsCount=0}Object.create&&(a.prototype=Object.create(null),(new a).__proto__||(i=!1)),c.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)r.call(e,t)&&n.push(i?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},c.prototype.listeners=function(e){var t=i?i+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,a=n.length,o=new Array(a);r<a;r++)o[r]=n[r].fn;return o},c.prototype.listenerCount=function(e){var t=i?i+e:e,n=this._events[t];return n?n.fn?1:n.length:0},c.prototype.emit=function(e,t,n,r,a,o){var s=i?i+e:e;if(!this._events[s])return!1;var u,c,l=this._events[s],d=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),d){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,n),!0;case 4:return l.fn.call(l.context,t,n,r),!0;case 5:return l.fn.call(l.context,t,n,r,a),!0;case 6:return l.fn.call(l.context,t,n,r,a,o),!0}for(c=1,u=new Array(d-1);c<d;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var p,f=l.length;for(c=0;c<f;c++)switch(l[c].once&&this.removeListener(e,l[c].fn,void 0,!0),d){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,t);break;case 3:l[c].fn.call(l[c].context,t,n);break;case 4:l[c].fn.call(l[c].context,t,n,r);break;default:if(!u)for(p=1,u=new Array(d-1);p<d;p++)u[p-1]=arguments[p];l[c].fn.apply(l[c].context,u)}}return!0},c.prototype.on=function(e,t,n){return s(this,e,t,n,!1)},c.prototype.once=function(e,t,n){return s(this,e,t,n,!0)},c.prototype.removeListener=function(e,t,n,r){var a=i?i+e:e;if(!this._events[a])return this;if(!t)return u(this,a),this;var o=this._events[a];if(o.fn)o.fn!==t||r&&!o.once||n&&o.context!==n||u(this,a);else{for(var s=0,c=[],l=o.length;s<l;s++)(o[s].fn!==t||r&&!o[s].once||n&&o[s].context!==n)&&c.push(o[s]);c.length?this._events[a]=1===c.length?c[0]:c:u(this,a)}return this},c.prototype.removeAllListeners=function(e){var t;return e?(t=i?i+e:e,this._events[t]&&u(this,t)):(this._events=new a,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=i,c.EventEmitter=c,e.exports=c},85670:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});n(94170),n(63548),n(10287);function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}},86090:e=>{e.exports=function(){this.__data__=[],this.size=0}},86368:(e,t,n)=>{"use strict";var r=n(46518),i=n(44576),a=n(59225).clear;r({global:!0,bind:!0,enumerable:!0,forced:i.clearImmediate!==a},{clearImmediate:a})},86396:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AppWeb:()=>p});n(60825);var r=n(18443),i=n(58237),a=n(84285),o=n(68119),s=n(36858),u=n(31061),c=n(61792),l=n.n(c);function d(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(d=function(){return!!e})()}var p=function(e){function t(){var e;return(0,i.A)(this,t),(e=function(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,d()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}(this,t)).handleVisibilityChange=function(){var t={isActive:!0!==document.hidden};e.notifyListeners("appStateChange",t),document.hidden?e.notifyListeners("pause",null):e.notifyListeners("resume",null)},document.addEventListener("visibilitychange",e.handleVisibilityChange,!1),e}return(0,u.A)(t,e),(0,a.A)(t,[{key:"exitApp",value:function(){throw this.unimplemented("Not implemented on web.")}},{key:"getInfo",value:(f=(0,r.A)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw this.unimplemented("Not implemented on web.");case 1:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)})},{key:"getLaunchUrl",value:(p=(0,r.A)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{url:""});case 1:case"end":return e.stop()}}),e)}))),function(){return p.apply(this,arguments)})},{key:"getState",value:(c=(0,r.A)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{isActive:!0!==document.hidden});case 1:case"end":return e.stop()}}),e)}))),function(){return c.apply(this,arguments)})},{key:"minimizeApp",value:(n=(0,r.A)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw this.unimplemented("Not implemented on web.");case 1:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})}]);var n,c,p,f}(n(94230).E_)},86614:(e,t,n)=>{"use strict";var r=n(94644),i=n(18014),a=n(35610),o=r.aTypedArray,s=r.getTypedArrayConstructor;(0,r.exportTypedArrayMethod)("subarray",(function(e,t){var n=o(this),r=n.length,u=a(e,r);return new(s(n))(n.buffer,n.byteOffset+u*n.BYTES_PER_ELEMENT,i((void 0===t?r:a(t,r))-u))}))},86777:(e,t,n)=>{"use strict";n(16280),n(76918)},86836:(e,t,n)=>{var r=n(46133),i=n(42631),a=n(99218),o=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?i(e):a(e)}},86938:(e,t,n)=>{"use strict";var r=n(2360),i=n(62106),a=n(56279),o=n(76080),s=n(90679),u=n(64117),c=n(72652),l=n(51088),d=n(62529),p=n(87633),f=n(43724),h=n(3451).fastKey,m=n(91181),v=m.set,g=m.getterFor;e.exports={getConstructor:function(e,t,n,l){var d=e((function(e,i){s(e,p),v(e,{type:t,index:r(null),first:null,last:null,size:0}),f||(e.size=0),u(i)||c(i,e[l],{that:e,AS_ENTRIES:n})})),p=d.prototype,m=g(t),y=function(e,t,n){var r,i,a=m(e),o=b(e,t);return o?o.value=n:(a.last=o={index:i=h(t,!0),key:t,value:n,previous:r=a.last,next:null,removed:!1},a.first||(a.first=o),r&&(r.next=o),f?a.size++:e.size++,"F"!==i&&(a.index[i]=o)),e},b=function(e,t){var n,r=m(e),i=h(t);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key===t)return n};return a(p,{clear:function(){for(var e=m(this),t=e.first;t;)t.removed=!0,t.previous&&(t.previous=t.previous.next=null),t=t.next;e.first=e.last=null,e.index=r(null),f?e.size=0:this.size=0},"delete":function(e){var t=this,n=m(t),r=b(t,e);if(r){var i=r.next,a=r.previous;delete n.index[r.index],r.removed=!0,a&&(a.next=i),i&&(i.previous=a),n.first===r&&(n.first=i),n.last===r&&(n.last=a),f?n.size--:t.size--}return!!r},forEach:function(e){for(var t,n=m(this),r=o(e,arguments.length>1?arguments[1]:void 0);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!b(this,e)}}),a(p,n?{get:function(e){var t=b(this,e);return t&&t.value},set:function(e,t){return y(this,0===e?0:e,t)}}:{add:function(e){return y(this,e=0===e?0:e,e)}}),f&&i(p,"size",{configurable:!0,get:function(){return m(this).size}}),d},setStrong:function(e,t,n){var r=t+" Iterator",i=g(t),a=g(r);l(e,t,(function(e,t){v(this,{type:r,target:e,state:i(e),kind:t,last:null})}),(function(){for(var e=a(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?d("keys"===t?n.key:"values"===t?n.value:[n.key,n.value],!1):(e.target=null,d(void 0,!0))}),n?"entries":"values",!n,!0),p(t)}}},87167:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});n(52675),n(89463),n(2259),n(23792),n(26099),n(3362),n(47764),n(62953);var r=n(70058);function i(e){var t={},n=!1;function i(t,i){return n=!0,i=new Promise((function(n){n(e[t](i))})),{done:!1,value:new r.A(i,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):i("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return i("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):i("return",e)}),t}},87280:(e,t,n)=>{"use strict";n(84185),Object.defineProperty(t,"__esModule",{value:!0});var r=n(16973),i=function(e){this.target=e,this.contentRect=r.ContentRect(e)};t.ResizeObserverEntry=i},87356:function(e,t,n){var r;e=n.nmd(e);var i=n(89990);n(28706),n(25276),n(62010),n(27495),n(90906),n(25440),function(a,o){"use strict";var s="function",u="undefined",c="object",l="string",d="major",p="model",f="name",h="type",m="vendor",v="version",g="architecture",y="console",b="mobile",w="tablet",D="smarttv",A="wearable",E="embedded",k="Amazon",C="Apple",_="ASUS",x="BlackBerry",S="Browser",T="Chrome",F="Firefox",O="Google",P="Huawei",I="LG",B="Microsoft",R="Motorola",N="Opera",M="Samsung",L="Sharp",j="Sony",U="Xiaomi",z="Zebra",V="Facebook",q="Chromium OS",H="Mac OS",W=" Browser",K=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},$=function(e,t){return i(e)===l&&-1!==G(t).indexOf(G(e))},G=function(e){return e.toLowerCase()},Q=function(e,t){if(i(e)===l)return e=e.replace(/^\s\s*/,""),i(t)===u?e:e.substring(0,500)},Y=function(e,t){for(var n,r,a,u,l,d,p=0;p<t.length&&!l;){var f=t[p],h=t[p+1];for(n=r=0;n<f.length&&!l&&f[n];)if(l=f[n++].exec(e))for(a=0;a<h.length;a++)d=l[++r],u=h[a],i(u)===c&&u.length>0?2===u.length?i(u[1])==s?this[u[0]]=u[1].call(this,d):this[u[0]]=u[1]:3===u.length?i(u[1])!==s||u[1].exec&&u[1].test?this[u[0]]=d?d.replace(u[1],u[2]):o:this[u[0]]=d?u[1].call(this,d,u[2]):o:4===u.length&&(this[u[0]]=d?u[3].call(this,d.replace(u[1],u[2])):o):this[u]=d||o;p+=2}},X=function(e,t){for(var n in t)if(i(t[n])===c&&t[n].length>0){for(var r=0;r<t[n].length;r++)if($(t[n][r],e))return"?"===n?o:n}else if($(t[n],e))return"?"===n?o:n;return t.hasOwnProperty("*")?t["*"]:e},Z={"ME":"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0","XP":["NT 5.1","NT 5.2"],"Vista":"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],"RT":"ARM"},J={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[v,[f,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[v,[f,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[f,v],[/opios[\/ ]+([\w\.]+)/i],[v,[f,N+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[v,[f,N+" GX"]],[/\bopr\/([\w\.]+)/i],[v,[f,N]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[v,[f,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[v,[f,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[f,v],[/quark(?:pc)?\/([-\w\.]+)/i],[v,[f,"Quark"]],[/\bddg\/([\w\.]+)/i],[v,[f,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[v,[f,"UC"+S]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[v,[f,"WeChat"]],[/konqueror\/([\w\.]+)/i],[v,[f,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[v,[f,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[v,[f,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[v,[f,"Smart Lenovo "+S]],[/(avast|avg)\/([\w\.]+)/i],[[f,/(.+)/,"$1 Secure "+S],v],[/\bfocus\/([\w\.]+)/i],[v,[f,F+" Focus"]],[/\bopt\/([\w\.]+)/i],[v,[f,N+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[v,[f,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[v,[f,"Dolphin"]],[/coast\/([\w\.]+)/i],[v,[f,N+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[v,[f,"MIUI"+W]],[/fxios\/([\w\.-]+)/i],[v,[f,F]],[/\bqihoobrowser\/?([\w\.]*)/i],[v,[f,"360"]],[/\b(qq)\/([\w\.]+)/i],[[f,/(.+)/,"$1Browser"],v],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[f,/(.+)/,"$1"+W],v],[/samsungbrowser\/([\w\.]+)/i],[v,[f,M+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[v,[f,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[f,"Sogou Mobile"],v],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[f,v],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[f],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[v,f],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[f,V],v],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[f,v],[/\bgsa\/([\w\.]+) .*safari\//i],[v,[f,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[v,[f,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[v,[f,T+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[f,T+" WebView"],v],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[v,[f,"Android "+S]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[f,v],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[v,[f,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[v,f],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[f,[v,X,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[f,v],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[f,"Netscape"],v],[/(wolvic|librewolf)\/([\w\.]+)/i],[f,v],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[v,[f,F+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[f,[v,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[f,[v,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[g,"amd64"]],[/(ia32(?=;))/i],[[g,G]],[/((?:i[346]|x)86)[;\)]/i],[[g,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[g,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[g,"armhf"]],[/windows (ce|mobile); ppc;/i],[[g,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[g,/ower/,"",G]],[/(sun4\w)[;\)]/i],[[g,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[g,G]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[p,[m,M],[h,w]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[p,[m,M],[h,b]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[p,[m,C],[h,b]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[p,[m,C],[h,w]],[/(macintosh);/i],[p,[m,C]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[p,[m,L],[h,b]],[/(?:honor)([-\w ]+)[;\)]/i],[p,[m,"Honor"],[h,b]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[p,[m,P],[h,w]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[p,[m,P],[h,b]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[p,/_/g," "],[m,U],[h,b]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[p,/_/g," "],[m,U],[h,w]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[p,[m,"OPPO"],[h,b]],[/\b(opd2\d{3}a?) bui/i],[p,[m,"OPPO"],[h,w]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[p,[m,"Vivo"],[h,b]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[p,[m,"Realme"],[h,b]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[p,[m,R],[h,b]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[p,[m,R],[h,w]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[p,[m,I],[h,w]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[p,[m,I],[h,b]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[p,[m,"Lenovo"],[h,w]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[p,/_/g," "],[m,"Nokia"],[h,b]],[/(pixel c)\b/i],[p,[m,O],[h,w]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[p,[m,O],[h,b]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[p,[m,j],[h,b]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[p,"Xperia Tablet"],[m,j],[h,w]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[p,[m,"OnePlus"],[h,b]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[p,[m,k],[h,w]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[p,/(.+)/g,"Fire Phone $1"],[m,k],[h,b]],[/(playbook);[-\w\),; ]+(rim)/i],[p,m,[h,w]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[p,[m,x],[h,b]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[p,[m,_],[h,w]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[p,[m,_],[h,b]],[/(nexus 9)/i],[p,[m,"HTC"],[h,w]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[m,[p,/_/g," "],[h,b]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[p,[m,"TCL"],[h,w]],[/(itel) ((\w+))/i],[[m,G],p,[h,X,{"tablet":["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[p,[m,"Acer"],[h,w]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[p,[m,"Meizu"],[h,b]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[p,[m,"Ulefone"],[h,b]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[p,[m,"Energizer"],[h,b]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[p,[m,"Cat"],[h,b]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[p,[m,"Smartfren"],[h,b]],[/droid.+; (a(?:015|06[35]|142p?))/i],[p,[m,"Nothing"],[h,b]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (imo) ((?!tab)[\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[m,p,[h,b]],[/(imo) (tab \w+)/i,/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[m,p,[h,w]],[/(surface duo)/i],[p,[m,B],[h,w]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[p,[m,"Fairphone"],[h,b]],[/(u304aa)/i],[p,[m,"AT&T"],[h,b]],[/\bsie-(\w*)/i],[p,[m,"Siemens"],[h,b]],[/\b(rct\w+) b/i],[p,[m,"RCA"],[h,w]],[/\b(venue[\d ]{2,7}) b/i],[p,[m,"Dell"],[h,w]],[/\b(q(?:mv|ta)\w+) b/i],[p,[m,"Verizon"],[h,w]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[p,[m,"Barnes & Noble"],[h,w]],[/\b(tm\d{3}\w+) b/i],[p,[m,"NuVision"],[h,w]],[/\b(k88) b/i],[p,[m,"ZTE"],[h,w]],[/\b(nx\d{3}j) b/i],[p,[m,"ZTE"],[h,b]],[/\b(gen\d{3}) b.+49h/i],[p,[m,"Swiss"],[h,b]],[/\b(zur\d{3}) b/i],[p,[m,"Swiss"],[h,w]],[/\b((zeki)?tb.*\b) b/i],[p,[m,"Zeki"],[h,w]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[m,"Dragon Touch"],p,[h,w]],[/\b(ns-?\w{0,9}) b/i],[p,[m,"Insignia"],[h,w]],[/\b((nxa|next)-?\w{0,9}) b/i],[p,[m,"NextBook"],[h,w]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[m,"Voice"],p,[h,b]],[/\b(lvtel\-)?(v1[12]) b/i],[[m,"LvTel"],p,[h,b]],[/\b(ph-1) /i],[p,[m,"Essential"],[h,b]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[p,[m,"Envizen"],[h,w]],[/\b(trio[-\w\. ]+) b/i],[p,[m,"MachSpeed"],[h,w]],[/\btu_(1491) b/i],[p,[m,"Rotor"],[h,w]],[/(shield[\w ]+) b/i],[p,[m,"Nvidia"],[h,w]],[/(sprint) (\w+)/i],[m,p,[h,b]],[/(kin\.[onetw]{3})/i],[[p,/\./g," "],[m,B],[h,b]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[p,[m,z],[h,w]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[p,[m,z],[h,b]],[/smart-tv.+(samsung)/i],[m,[h,D]],[/hbbtv.+maple;(\d+)/i],[[p,/^/,"SmartTV"],[m,M],[h,D]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[m,I],[h,D]],[/(apple) ?tv/i],[m,[p,C+" TV"],[h,D]],[/crkey/i],[[p,T+"cast"],[m,O],[h,D]],[/droid.+aft(\w+)( bui|\))/i],[p,[m,k],[h,D]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[p,[m,L],[h,D]],[/(bravia[\w ]+)( bui|\))/i],[p,[m,j],[h,D]],[/(mitv-\w{5}) bui/i],[p,[m,U],[h,D]],[/Hbbtv.*(technisat) (.*);/i],[m,p,[h,D]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[m,Q],[p,Q],[h,D]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[h,D]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[m,p,[h,y]],[/droid.+; (shield) bui/i],[p,[m,"Nvidia"],[h,y]],[/(playstation [345portablevi]+)/i],[p,[m,j],[h,y]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[p,[m,B],[h,y]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[p,[m,M],[h,A]],[/((pebble))app/i],[m,p,[h,A]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[p,[m,C],[h,A]],[/droid.+; (glass) \d/i],[p,[m,O],[h,A]],[/droid.+; (wt63?0{2,3})\)/i],[p,[m,z],[h,A]],[/droid.+; (glass) \d/i],[p,[m,O],[h,A]],[/(pico) (4|neo3(?: link|pro)?)/i],[m,p,[h,A]],[/; (quest( \d| pro)?)/i],[p,[m,V],[h,A]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[m,[h,E]],[/(aeobc)\b/i],[p,[m,k],[h,E]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[p,[h,b]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[p,[h,w]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[h,w]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[h,b]],[/(android[-\w\. ]{0,9});.+buil/i],[p,[m,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[v,[f,"EdgeHTML"]],[/(arkweb)\/([\w\.]+)/i],[f,v],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[v,[f,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[f,v],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[v,f]],os:[[/microsoft (windows) (vista|xp)/i],[f,v],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[f,[v,X,Z]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[v,X,Z],[f,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[v,/_/g,"."],[f,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[f,H],[v,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[v,f],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish|openharmony)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[f,v],[/\(bb(10);/i],[v,[f,x]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[v,[f,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[v,[f,F+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[v,[f,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[v,[f,"watchOS"]],[/crkey\/([\d\.]+)/i],[v,[f,T+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[f,q],v],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[f,v],[/(sunos) ?([\w\.\d]*)/i],[[f,"Solaris"],v],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[f,v]]},ee=function(e,t){if(i(e)===c&&(t=e,e=o),!(this instanceof ee))return new ee(e,t).getResult();var n=i(a)!==u&&a.navigator?a.navigator:o,r=e||(n&&n.userAgent?n.userAgent:""),y=n&&n.userAgentData?n.userAgentData:o,D=t?function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2==0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n}(J,t):J,A=n&&n.userAgent==r;return this.getBrowser=function(){var e,t={};return t[f]=o,t[v]=o,Y.call(t,r,D.browser),t[d]=(e=t[v],i(e)===l?e.replace(/[^\d\.]/g,"").split(".")[0]:o),A&&n&&n.brave&&i(n.brave.isBrave)==s&&(t[f]="Brave"),t},this.getCPU=function(){var e={};return e[g]=o,Y.call(e,r,D.cpu),e},this.getDevice=function(){var e={};return e[m]=o,e[p]=o,e[h]=o,Y.call(e,r,D.device),A&&!e[h]&&y&&y.mobile&&(e[h]=b),A&&"Macintosh"==e[p]&&n&&i(n.standalone)!==u&&n.maxTouchPoints&&n.maxTouchPoints>2&&(e[p]="iPad",e[h]=w),e},this.getEngine=function(){var e={};return e[f]=o,e[v]=o,Y.call(e,r,D.engine),e},this.getOS=function(){var e={};return e[f]=o,e[v]=o,Y.call(e,r,D.os),A&&!e[f]&&y&&y.platform&&"Unknown"!=y.platform&&(e[f]=y.platform.replace(/chrome os/i,q).replace(/macos/i,H)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=i(e)===l&&e.length>500?Q(e,500):e,this},this.setUA(r),this};ee.VERSION="1.0.40",ee.BROWSER=K([f,v,d]),ee.CPU=K([g]),ee.DEVICE=K([p,m,h,y,b,D,w,A,E]),ee.ENGINE=ee.OS=K([f,v]),i(t)!==u?(i(e)!==u&&e.exports&&(t=e.exports=ee),t.UAParser=ee):i(n.amdD)===s&&n.amdO?(r=function(){return ee}.call(t,n,t,e))===o||(e.exports=r):i(a)!==u&&(a.UAParser=ee);var te=i(a)!==u&&(a.jQuery||a.Zepto);if(te&&!te.ua){var ne=new ee;te.ua=ne.getResult(),te.ua.get=function(){return ne.getUA()},te.ua.set=function(e){ne.setUA(e);var t=ne.getResult();for(var n in t)te.ua[n]=t[n]}}}("object"===("undefined"==typeof window?"undefined":i(window))?window:this)},87433:(e,t,n)=>{"use strict";var r=n(34376),i=n(33517),a=n(20034),o=n(78227)("species"),s=Array;e.exports=function(e){var t;return r(e)&&(t=e.constructor,(i(t)&&(t===s||r(t.prototype))||a(t)&&null===(t=t[o]))&&(t=void 0)),void 0===t?s:t}},87589:function(e,t,n){var r,i,a,o,s=n(89990);n(44114),n(34782),o=function(e){return function(t){var n=e,r=n.lib,i=r.WordArray,a=r.Hasher,o=n.x64.Word,s=n.algo,u=[],c=[],l=[];!function(){for(var e=1,t=0,n=0;n<24;n++){u[e+5*t]=(n+1)*(n+2)/2%64;var r=(2*e+3*t)%5;e=t%5,t=r}for(e=0;e<5;e++)for(t=0;t<5;t++)c[e+5*t]=t+(2*e+3*t)%5*5;for(var i=1,a=0;a<24;a++){for(var s=0,d=0,p=0;p<7;p++){if(1&i){var f=(1<<p)-1;f<32?d^=1<<f:s^=1<<f-32}128&i?i=i<<1^113:i<<=1}l[a]=o.create(s,d)}}();var d=[];!function(){for(var e=0;e<25;e++)d[e]=o.create()}();var p=s.SHA3=a.extend({cfg:a.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new o.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var n=this._state,r=this.blockSize/2,i=0;i<r;i++){var a=e[t+2*i],o=e[t+2*i+1];a=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),o=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),(S=n[i]).high^=o,S.low^=a}for(var s=0;s<24;s++){for(var p=0;p<5;p++){for(var f=0,h=0,m=0;m<5;m++)f^=(S=n[p+5*m]).high,h^=S.low;var v=d[p];v.high=f,v.low=h}for(p=0;p<5;p++){var g=d[(p+4)%5],y=d[(p+1)%5],b=y.high,w=y.low;for(f=g.high^(b<<1|w>>>31),h=g.low^(w<<1|b>>>31),m=0;m<5;m++)(S=n[p+5*m]).high^=f,S.low^=h}for(var D=1;D<25;D++){var A=(S=n[D]).high,E=S.low,k=u[D];k<32?(f=A<<k|E>>>32-k,h=E<<k|A>>>32-k):(f=E<<k-32|A>>>64-k,h=A<<k-32|E>>>64-k);var C=d[c[D]];C.high=f,C.low=h}var _=d[0],x=n[0];for(_.high=x.high,_.low=x.low,p=0;p<5;p++)for(m=0;m<5;m++){var S=n[D=p+5*m],T=d[D],F=d[(p+1)%5+5*m],O=d[(p+2)%5+5*m];S.high=T.high^~F.high&O.high,S.low=T.low^~F.low&O.low}S=n[0];var P=l[s];S.high^=P.high,S.low^=P.low}},_doFinalize:function(){var e=this._data,n=e.words,r=(this._nDataBytes,8*e.sigBytes),a=32*this.blockSize;n[r>>>5]|=1<<24-r%32,n[(t.ceil((r+1)/a)*a>>>5)-1]|=128,e.sigBytes=4*n.length,this._process();for(var o=this._state,s=this.cfg.outputLength/8,u=s/8,c=[],l=0;l<u;l++){var d=o[l],p=d.high,f=d.low;p=16711935&(p<<8|p>>>24)|4278255360&(p<<24|p>>>8),f=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8),c.push(f),c.push(p)}return new i.init(c,s)},clone:function(){for(var e=a.clone.call(this),t=e._state=this._state.slice(0),n=0;n<25;n++)t[n]=t[n].clone();return e}});n.SHA3=a._createHelper(p),n.HmacSHA3=a._createHmacHelper(p)}(Math),e.SHA3},"object"===s(t)?e.exports=t=o(n(83841),n(55412)):(i=[n(83841),n(55412)],void 0===(a="function"==typeof(r=o)?r.apply(t,i):r)||(e.exports=a))},87633:(e,t,n)=>{"use strict";var r=n(97751),i=n(62106),a=n(78227),o=n(43724),s=a("species");e.exports=function(e){var t=r(e);o&&t&&!t[s]&&i(t,s,{configurable:!0,get:function(){return this}})}},87745:(e,t,n)=>{"use strict";var r=n(43724),i=n(58429).MISSED_STICKY,a=n(22195),o=n(62106),s=n(91181).get,u=RegExp.prototype,c=TypeError;r&&i&&o(u,"sticky",{configurable:!0,get:function(){if(this!==u){if("RegExp"===a(this))return!!s(this).sticky;throw new c("Incompatible receiver, RegExp required")}}})},87866:(e,t,n)=>{"use strict";n(16280),n(76918),n(23288),n(26099),n(38781),n(50375);var r=n(88564).H,i={stringify:function(e){var t=r.enc.Hex.parse(e.salt.toString()).toString(r.enc.Latin1),n=e.ciphertext.toString(r.enc.Latin1);return r.enc.Latin1.parse("Salted__"+t+n).toString(r.enc.Base64)},parse:function(e){if("Salted__"!==(e=r.enc.Base64.parse(e).toString(r.enc.Latin1)).substr(0,8))throw new Error("Error parsing salt");var t=e.substr(8,8),n=e.substr(16);return r.lib.CipherParams.create({ciphertext:r.enc.Latin1.parse(n),salt:r.enc.Latin1.parse(t)})}},a={encrypt:function(e,t){return r.AES.encrypt(e,t,{format:i}).toString()},decrypt:function(e,t){return r.AES.decrypt(e,t,{format:i}).toString(r.enc.Utf8)}};e.exports=a},88267:(e,t,n)=>{"use strict";var r=n(46518),i=n(79504),a=n(655),o=String.fromCharCode,s=i("".charAt),u=i(/./.exec),c=i("".slice),l=/^[\da-f]{2}$/i,d=/^[\da-f]{4}$/i;r({global:!0},{unescape:function(e){for(var t,n,r=a(e),i="",p=r.length,f=0;f<p;){if("%"===(t=s(r,f++)))if("u"===s(r,f)){if(n=c(r,f+1,f+5),u(d,n)){i+=o(parseInt(n,16)),f+=5;continue}}else if(n=c(r,f,f+2),u(l,n)){i+=o(parseInt(n,16)),f+=2;continue}i+=t}return i}})},88431:(e,t,n)=>{"use strict";var r=n(46518),i=n(59213).every;r({target:"Array",proto:!0,forced:!n(34598)("every")},{every:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},88490:e=>{"use strict";var t=Array,n=Math.abs,r=Math.pow,i=Math.floor,a=Math.log,o=Math.LN2;e.exports={pack:function(e,s,u){var c,l,d,p=t(u),f=8*u-s-1,h=(1<<f)-1,m=h>>1,v=23===s?r(2,-24)-r(2,-77):0,g=e<0||0===e&&1/e<0?1:0,y=0;for((e=n(e))!=e||e===1/0?(l=e!=e?1:0,c=h):(c=i(a(e)/o),e*(d=r(2,-c))<1&&(c--,d*=2),(e+=c+m>=1?v/d:v*r(2,1-m))*d>=2&&(c++,d/=2),c+m>=h?(l=0,c=h):c+m>=1?(l=(e*d-1)*r(2,s),c+=m):(l=e*r(2,m-1)*r(2,s),c=0));s>=8;)p[y++]=255&l,l/=256,s-=8;for(c=c<<s|l,f+=s;f>0;)p[y++]=255&c,c/=256,f-=8;return p[y-1]|=128*g,p},unpack:function(e,t){var n,i=e.length,a=8*i-t-1,o=(1<<a)-1,s=o>>1,u=a-7,c=i-1,l=e[c--],d=127&l;for(l>>=7;u>0;)d=256*d+e[c--],u-=8;for(n=d&(1<<-u)-1,d>>=-u,u+=t;u>0;)n=256*n+e[c--],u-=8;if(0===d)d=1-s;else{if(d===o)return n?NaN:l?-1/0:1/0;n+=r(2,t),d-=s}return(l?-1:1)*n*r(2,d-t)}}},88564:(e,t,n)=>{var r=n(4373).H;n(93450),n(59956),n(10650),n(78069),n(77411);var i=n(23400).z;t.H=r},88727:e=>{"use strict";e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},88747:(e,t,n)=>{"use strict";var r=n(94644),i=r.aTypedArray,a=r.exportTypedArrayMethod,o=Math.floor;a("reverse",(function(){for(var e,t=this,n=i(t).length,r=o(n/2),a=0;a<r;)e=t[a],t[a++]=t[--n],t[n]=e;return t}))},88967:e=>{e.exports=Worker},89202:(e,t,n)=>{var r=n(91557),i=n(13585);e.exports=function(e,t){for(var n=0,a=(t=r(t,e)).length;null!=e&&n<a;)e=e[i(t[n++])];return n&&n==a?e:void 0}},89228:(e,t,n)=>{"use strict";n(27495);var r=n(69565),i=n(36840),a=n(57323),o=n(79039),s=n(78227),u=n(66699),c=s("species"),l=RegExp.prototype;e.exports=function(e,t,n,d){var p=s(e),f=!o((function(){var t={};return t[p]=function(){return 7},7!==""[e](t)})),h=f&&!o((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[c]=function(){return n},n.flags="",n[p]=/./[p]),n.exec=function(){return t=!0,null},n[p](""),!t}));if(!f||!h||n){var m=/./[p],v=t(p,""[e],(function(e,t,n,i,o){var s=t.exec;return s===a||s===l.exec?f&&!o?{done:!0,value:r(m,t,n,i)}:{done:!0,value:r(e,n,t,i)}:{done:!1}}));i(String.prototype,e,v[0]),i(l,p,v[1])}d&&u(l[p],"sham",!0)}},89350:(e,t,n)=>{n(76918),n(23418),n(34782),n(23288),n(62010),n(26099),n(27495),n(90906),n(38781),n(47764);var r=n(72955);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},89429:(e,t,n)=>{"use strict";var r=n(44576),i=n(16193);e.exports=function(e){if(i){try{return r.process.getBuiltinModule(e)}catch(e){}try{return Function('return require("'+e+'")')()}catch(e){}}}},89463:(e,t,n)=>{"use strict";var r=n(46518),i=n(43724),a=n(44576),o=n(79504),s=n(39297),u=n(94901),c=n(1625),l=n(655),d=n(62106),p=n(77740),f=a.Symbol,h=f&&f.prototype;if(i&&u(f)&&(!("description"in h)||void 0!==f().description)){var m={},v=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:l(arguments[0]),t=c(h,this)?new f(e):void 0===e?f():f(e);return""===e&&(m[t]=!0),t};p(v,f),v.prototype=h,h.constructor=v;var g="Symbol(description detection)"===String(f("description detection")),y=o(h.valueOf),b=o(h.toString),w=/^Symbol\((.*)\)[^)]+$/,D=o("".replace),A=o("".slice);d(h,"description",{configurable:!0,get:function(){var e=y(this);if(s(m,e))return"";var t=b(e),n=g?A(t,7,-1):D(t,w,"$1");return""===n?void 0:n}}),r({global:!0,constructor:!0,forced:!0},{Symbol:v})}},89512:(e,t,n)=>{n(44114),n(50375);var r=n(85192);n(1238),n(32807);var i=e.exports=r.sha256=r.sha256||{};r.md.sha256=r.md.algorithms.sha256=i,i.create=function(){o||(a=String.fromCharCode(128),a+=r.util.fillString(String.fromCharCode(0),64),s=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],o=!0);var e=null,t=r.util.createBuffer(),n=new Array(64),i={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){i.messageLength=0,i.fullMessageLength=i.messageLength64=[];for(var n=i.messageLengthSize/4,a=0;a<n;++a)i.fullMessageLength.push(0);return t=r.util.createBuffer(),e={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},i}};return i.start(),i.update=function(a,o){"utf8"===o&&(a=r.util.encodeUtf8(a));var s=a.length;i.messageLength+=s,s=[s/4294967296>>>0,s>>>0];for(var c=i.fullMessageLength.length-1;c>=0;--c)i.fullMessageLength[c]+=s[1],s[1]=s[0]+(i.fullMessageLength[c]/4294967296>>>0),i.fullMessageLength[c]=i.fullMessageLength[c]>>>0,s[0]=s[1]/4294967296>>>0;return t.putBytes(a),u(e,n,t),(t.read>2048||0===t.length())&&t.compact(),i},i.digest=function(){var o=r.util.createBuffer();o.putBytes(t.bytes());var s,c=i.fullMessageLength[i.fullMessageLength.length-1]+i.messageLengthSize&i.blockLength-1;o.putBytes(a.substr(0,i.blockLength-c));for(var l=8*i.fullMessageLength[0],d=0;d<i.fullMessageLength.length-1;++d)l+=(s=8*i.fullMessageLength[d+1])/4294967296>>>0,o.putInt32(l>>>0),l=s>>>0;o.putInt32(l);var p={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4,h5:e.h5,h6:e.h6,h7:e.h7};u(p,n,o);var f=r.util.createBuffer();return f.putInt32(p.h0),f.putInt32(p.h1),f.putInt32(p.h2),f.putInt32(p.h3),f.putInt32(p.h4),f.putInt32(p.h5),f.putInt32(p.h6),f.putInt32(p.h7),f},i};var a=null,o=!1,s=null;function u(e,t,n){for(var r,i,a,o,u,c,l,d,p,f,h,m,v,g=n.length();g>=64;){for(u=0;u<16;++u)t[u]=n.getInt32();for(;u<64;++u)r=((r=t[u-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10,i=((i=t[u-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,t[u]=r+t[u-7]+i+t[u-16]|0;for(c=e.h0,l=e.h1,d=e.h2,p=e.h3,f=e.h4,h=e.h5,m=e.h6,v=e.h7,u=0;u<64;++u)a=(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),o=c&l|d&(c^l),r=v+((f>>>6|f<<26)^(f>>>11|f<<21)^(f>>>25|f<<7))+(m^f&(h^m))+s[u]+t[u],v=m,m=h,h=f,f=p+r>>>0,p=d,d=l,l=c,c=r+(i=a+o)>>>0;e.h0=e.h0+c|0,e.h1=e.h1+l|0,e.h2=e.h2+d|0,e.h3=e.h3+p|0,e.h4=e.h4+f|0,e.h5=e.h5+h|0,e.h6=e.h6+m|0,e.h7=e.h7+v|0,g-=64}}},89544:(e,t,n)=>{"use strict";var r=n(82839);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},89572:(e,t,n)=>{"use strict";var r=n(39297),i=n(36840),a=n(53640),o=n(78227)("toPrimitive"),s=Date.prototype;r(s,o)||i(s,o,a)},89663:(e,t,n)=>{n(64346),e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},89671:function(e,t,n){var r,i,a,o,s=n(89990);n(28706),o=function(e){var t,n,r,i,a,o,s,u;return n=(t=e).lib,r=n.Base,i=n.WordArray,a=t.algo,o=a.SHA256,s=a.HMAC,u=a.PBKDF2=r.extend({cfg:r.extend({keySize:4,hasher:o,iterations:25e4}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=this.cfg,r=s.create(n.hasher,e),a=i.create(),o=i.create([1]),u=a.words,c=o.words,l=n.keySize,d=n.iterations;u.length<l;){var p=r.update(t).finalize(o);r.reset();for(var f=p.words,h=f.length,m=p,v=1;v<d;v++){m=r.finalize(m),r.reset();for(var g=m.words,y=0;y<h;y++)f[y]^=g[y]}a.concat(p),c[0]++}return a.sigBytes=4*l,a}}),t.PBKDF2=function(e,t,n){return u.create(n).compute(e,t)},e.PBKDF2},"object"===s(t)?e.exports=t=o(n(83841),n(4501),n(39773)):(i=[n(83841),n(4501),n(39773)],void 0===(a="function"==typeof(r=o)?r.apply(t,i):r)||(e.exports=a))},89955:(e,t,n)=>{"use strict";var r=n(94644),i=n(59213).findIndex,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("findIndex",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},89990:(e,t,n)=>{function r(t){return e.exports=r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,r(t)}n(52675),n(89463),n(2259),n(23792),n(26099),n(47764),n(62953),e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},90005:(e,t,n)=>{n(16280),n(76918),n(23792),n(48598),n(44114),n(62010),n(26099),n(27495),n(90906),n(71761),n(25440),n(90744),n(50375),n(62953);var r=n(85192);n(32807);var i=e.exports=r.pem=r.pem||{};function a(e){for(var t=e.name+": ",n=[],r=function(e,t){return" "+t},i=0;i<e.values.length;++i)n.push(e.values[i].replace(/^(\S+\r\n)/,r));t+=n.join(",")+"\r\n";var a=0,o=-1;for(i=0;i<t.length;++i,++a)if(a>65&&-1!==o){var s=t[o];","===s?(++o,t=t.substr(0,o)+"\r\n "+t.substr(o)):t=t.substr(0,o)+"\r\n"+s+t.substr(o+1),a=i-o-1,o=-1,++i}else" "!==t[i]&&"\t"!==t[i]&&","!==t[i]||(o=i);return t}function o(e){return e.replace(/^\s+/,"")}i.encode=function(e,t){t=t||{};var n,i="-----BEGIN "+e.type+"-----\r\n";if(e.procType&&(i+=a(n={name:"Proc-Type",values:[String(e.procType.version),e.procType.type]})),e.contentDomain&&(i+=a(n={name:"Content-Domain",values:[e.contentDomain]})),e.dekInfo&&(n={name:"DEK-Info",values:[e.dekInfo.algorithm]},e.dekInfo.parameters&&n.values.push(e.dekInfo.parameters),i+=a(n)),e.headers)for(var o=0;o<e.headers.length;++o)i+=a(e.headers[o]);return e.procType&&(i+="\r\n"),i+=r.util.encode64(e.body,t.maxline||64)+"\r\n",i+="-----END "+e.type+"-----\r\n"},i.decode=function(e){for(var t,n=[],i=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,a=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,s=/\r?\n/;t=i.exec(e);){var u=t[1];"NEW CERTIFICATE REQUEST"===u&&(u="CERTIFICATE REQUEST");var c={type:u,procType:null,contentDomain:null,dekInfo:null,headers:[],body:r.util.decode64(t[3])};if(n.push(c),t[2]){for(var l=t[2].split(s),d=0;t&&d<l.length;){for(var p=l[d].replace(/\s+$/,""),f=d+1;f<l.length;++f){var h=l[f];if(!/\s/.test(h[0]))break;p+=h,d=f}if(t=p.match(a)){for(var m={name:t[1],values:[]},v=t[2].split(","),g=0;g<v.length;++g)m.values.push(o(v[g]));if(c.procType)if(c.contentDomain||"Content-Domain"!==m.name)if(c.dekInfo||"DEK-Info"!==m.name)c.headers.push(m);else{if(0===m.values.length)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');c.dekInfo={algorithm:v[0],parameters:v[1]||null}}else c.contentDomain=v[0]||"";else{if("Proc-Type"!==m.name)throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(2!==m.values.length)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');c.procType={version:v[0],type:v[1]}}}++d}if("ENCRYPTED"===c.procType&&!c.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(0===n.length)throw new Error("Invalid PEM formatted message.");return n}},90092:(e,t,n)=>{n(16280),n(76918),n(25276),n(44114),n(34782),n(62010);var r=n(85192);function i(e,t){r.cipher.registerAlgorithm(e,(function(){return new r.aes.Algorithm(e,t)}))}n(39760),n(64622),n(32807),e.exports=r.aes=r.aes||{},r.aes.startEncrypting=function(e,t,n,r){var i=m({key:e,output:n,decrypt:!1,mode:r});return i.start(t),i},r.aes.createEncryptionCipher=function(e,t){return m({key:e,output:null,decrypt:!1,mode:t})},r.aes.startDecrypting=function(e,t,n,r){var i=m({key:e,output:n,decrypt:!0,mode:r});return i.start(t),i},r.aes.createDecryptionCipher=function(e,t){return m({key:e,output:null,decrypt:!0,mode:t})},r.aes.Algorithm=function(e,t){l||p();var n=this;n.name=e,n.mode=new t({blockSize:16,cipher:{encrypt:function(e,t){return h(n._w,e,t,!1)},decrypt:function(e,t){return h(n._w,e,t,!0)}}}),n._init=!1},r.aes.Algorithm.prototype.initialize=function(e){if(!this._init){var t,n=e.key;if("string"!=typeof n||16!==n.length&&24!==n.length&&32!==n.length){if(r.util.isArray(n)&&(16===n.length||24===n.length||32===n.length)){t=n,n=r.util.createBuffer();for(var i=0;i<t.length;++i)n.putByte(t[i])}}else n=r.util.createBuffer(n);if(!r.util.isArray(n)){t=n,n=[];var a=t.length();if(16===a||24===a||32===a){a>>>=2;for(i=0;i<a;++i)n.push(t.getInt32())}}if(!r.util.isArray(n)||4!==n.length&&6!==n.length&&8!==n.length)throw new Error("Invalid key parameter.");var o=this.mode.name,s=-1!==["CFB","OFB","CTR","GCM"].indexOf(o);this._w=f(n,e.decrypt&&!s),this._init=!0}},r.aes._expandKey=function(e,t){return l||p(),f(e,t)},r.aes._updateBlock=h,i("AES-ECB",r.cipher.modes.ecb),i("AES-CBC",r.cipher.modes.cbc),i("AES-CFB",r.cipher.modes.cfb),i("AES-OFB",r.cipher.modes.ofb),i("AES-CTR",r.cipher.modes.ctr),i("AES-GCM",r.cipher.modes.gcm);var a,o,s,u,c,l=!1,d=4;function p(){l=!0,s=[0,1,2,4,8,16,32,64,128,27,54];for(var e=new Array(256),t=0;t<128;++t)e[t]=t<<1,e[t+128]=t+128<<1^283;a=new Array(256),o=new Array(256),u=new Array(4),c=new Array(4);for(t=0;t<4;++t)u[t]=new Array(256),c[t]=new Array(256);var n,r,i,d,p,f,h,m=0,v=0;for(t=0;t<256;++t){d=(d=v^v<<1^v<<2^v<<3^v<<4)>>8^255&d^99,a[m]=d,o[d]=m,f=(p=e[d])<<24^d<<16^d<<8^d^p,h=((n=e[m])^(r=e[n])^(i=e[r]))<<24^(m^i)<<16^(m^r^i)<<8^m^n^i;for(var g=0;g<4;++g)u[g][m]=f,c[g][d]=h,f=f<<24|f>>>8,h=h<<24|h>>>8;0===m?m=v=1:(m=n^e[e[e[n^i]]],v^=e[e[v]])}}function f(e,t){for(var n,r=e.slice(0),i=1,o=r.length,u=d*(o+6+1),l=o;l<u;++l)n=r[l-1],l%o==0?(n=a[n>>>16&255]<<24^a[n>>>8&255]<<16^a[255&n]<<8^a[n>>>24]^s[i]<<24,i++):o>6&&l%o==4&&(n=a[n>>>24]<<24^a[n>>>16&255]<<16^a[n>>>8&255]<<8^a[255&n]),r[l]=r[l-o]^n;if(t){for(var p,f=c[0],h=c[1],m=c[2],v=c[3],g=r.slice(0),y=(l=0,(u=r.length)-d);l<u;l+=d,y-=d)if(0===l||l===u-d)g[l]=r[y],g[l+1]=r[y+3],g[l+2]=r[y+2],g[l+3]=r[y+1];else for(var b=0;b<d;++b)p=r[y+b],g[l+(3&-b)]=f[a[p>>>24]]^h[a[p>>>16&255]]^m[a[p>>>8&255]]^v[a[255&p]];r=g}return r}function h(e,t,n,r){var i,s,l,d,p,f,h,m,v,g,y,b,w=e.length/4-1;r?(i=c[0],s=c[1],l=c[2],d=c[3],p=o):(i=u[0],s=u[1],l=u[2],d=u[3],p=a),f=t[0]^e[0],h=t[r?3:1]^e[1],m=t[2]^e[2],v=t[r?1:3]^e[3];for(var D=3,A=1;A<w;++A)g=i[f>>>24]^s[h>>>16&255]^l[m>>>8&255]^d[255&v]^e[++D],y=i[h>>>24]^s[m>>>16&255]^l[v>>>8&255]^d[255&f]^e[++D],b=i[m>>>24]^s[v>>>16&255]^l[f>>>8&255]^d[255&h]^e[++D],v=i[v>>>24]^s[f>>>16&255]^l[h>>>8&255]^d[255&m]^e[++D],f=g,h=y,m=b;n[0]=p[f>>>24]<<24^p[h>>>16&255]<<16^p[m>>>8&255]<<8^p[255&v]^e[++D],n[r?3:1]=p[h>>>24]<<24^p[m>>>16&255]<<16^p[v>>>8&255]<<8^p[255&f]^e[++D],n[2]=p[m>>>24]<<24^p[v>>>16&255]<<16^p[f>>>8&255]<<8^p[255&h]^e[++D],n[r?1:3]=p[v>>>24]<<24^p[f>>>16&255]<<16^p[h>>>8&255]<<8^p[255&m]^e[++D]}function m(e){var t,n="AES-"+((e=e||{}).mode||"CBC").toUpperCase(),i=(t=e.decrypt?r.cipher.createDecipher(n,e.key):r.cipher.createCipher(n,e.key)).start;return t.start=function(e,n){var a=null;n instanceof r.util.ByteBuffer&&(a=n,n={}),(n=n||{}).output=a,n.iv=e,i.call(t,n)},t}},90235:(e,t,n)=>{"use strict";var r=n(59213).forEach,i=n(34598)("forEach");e.exports=i?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},90537:(e,t,n)=>{"use strict";var r=n(80550),i=n(84428),a=n(10916).CONSTRUCTOR;e.exports=a||!i((function(e){r.all(e).then(void 0,(function(){}))}))},90679:(e,t,n)=>{"use strict";var r=n(1625),i=TypeError;e.exports=function(e,t){if(r(t,e))return e;throw new i("Incorrect invocation")}},90703:function(e,t,n){var r,i,a,o,s=n(89990);n(34782),o=function(e){var t,n;return e.mode.CTR=(t=e.lib.BlockCipherMode.extend(),n=t.Encryptor=t.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,i=this._iv,a=this._counter;i&&(a=this._counter=i.slice(0),this._iv=void 0);var o=a.slice(0);n.encryptBlock(o,0),a[r-1]=a[r-1]+1|0;for(var s=0;s<r;s++)e[t+s]^=o[s]}}),t.Decryptor=n,t),e.mode.CTR},"object"===s(t)?e.exports=t=o(n(83841),n(76793)):(i=[n(83841),n(76793)],void 0===(a="function"==typeof(r=o)?r.apply(t,i):r)||(e.exports=a))},90705:(e,t,n)=>{var r=n(89990);n(16280),n(76918),n(25276),n(23792),n(44114),n(54743),n(11745),n(38309),n(23288),n(26099),n(58940),n(38781),n(50375),n(21489),n(48140),n(81630),n(72170),n(75044),n(69539),n(31694),n(89955),n(21903),n(91134),n(33206),n(44496),n(66651),n(12887),n(19369),n(66812),n(8995),n(31575),n(36072),n(88747),n(28845),n(29423),n(57301),n(373),n(86614),n(41405),n(33684),n(43250),n(10149),n(24082),n(62953);var i=n(85192);if(n(53486),n(52364),n(70430),n(26849),n(61312),n(78008),n(32807),void 0===a)var a=i.jsbn.BigInteger;var o=i.util.isNodejs?n(50310):null,s=i.asn1,u=i.util;i.pki=i.pki||{},e.exports=i.pki.rsa=i.rsa=i.rsa||{};var c=i.pki,l=[6,4,2,4,2,4,6,2],d={name:"PrivateKeyInfo",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:s.Class.UNIVERSAL,type:s.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},p={name:"RSAPrivateKey",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},f={name:"RSAPublicKey",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},h=i.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:s.Class.UNIVERSAL,type:s.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},m={name:"DigestInfo",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:s.Class.UNIVERSAL,type:s.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:s.Class.UNIVERSAL,type:s.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},v=function(e){var t;if(!(e.algorithm in c.oids)){var n=new Error("Unknown message digest algorithm.");throw n.algorithm=e.algorithm,n}t=c.oids[e.algorithm];var r=s.oidToDer(t).getBytes(),i=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[]),a=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[]);a.value.push(s.create(s.Class.UNIVERSAL,s.Type.OID,!1,r)),a.value.push(s.create(s.Class.UNIVERSAL,s.Type.NULL,!1,""));var o=s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,e.digest().getBytes());return i.value.push(a),i.value.push(o),s.toDer(i).getBytes()},g=function(e,t,n){if(n)return e.modPow(t.e,t.n);if(!t.p||!t.q)return e.modPow(t.d,t.n);var r;t.dP||(t.dP=t.d.mod(t.p.subtract(a.ONE))),t.dQ||(t.dQ=t.d.mod(t.q.subtract(a.ONE))),t.qInv||(t.qInv=t.q.modInverse(t.p));do{r=new a(i.util.bytesToHex(i.random.getBytes(t.n.bitLength()/8)),16)}while(r.compareTo(t.n)>=0||!r.gcd(t.n).equals(a.ONE));for(var o=(e=e.multiply(r.modPow(t.e,t.n)).mod(t.n)).mod(t.p).modPow(t.dP,t.p),s=e.mod(t.q).modPow(t.dQ,t.q);o.compareTo(s)<0;)o=o.add(t.p);var u=o.subtract(s).multiply(t.qInv).mod(t.p).multiply(t.q).add(s);return u=u.multiply(r.modInverse(t.n)).mod(t.n)};function y(e,t,n){var r=i.util.createBuffer(),a=Math.ceil(t.n.bitLength()/8);if(e.length>a-11){var o=new Error("Message is too long for PKCS#1 v1.5 padding.");throw o.length=e.length,o.max=a-11,o}r.putByte(0),r.putByte(n);var s,u=a-3-e.length;if(0===n||1===n){s=0===n?0:255;for(var c=0;c<u;++c)r.putByte(s)}else for(;u>0;){var l=0,d=i.random.getBytes(u);for(c=0;c<u;++c)0===(s=d.charCodeAt(c))?++l:r.putByte(s);u=l}return r.putByte(0),r.putBytes(e),r}function b(e,t,n,r){var a=Math.ceil(t.n.bitLength()/8),o=i.util.createBuffer(e),s=o.getByte(),u=o.getByte();if(0!==s||n&&0!==u&&1!==u||!n&&2!=u||n&&0===u&&void 0===r)throw new Error("Encryption block is invalid.");var c=0;if(0===u){c=a-3-r;for(var l=0;l<c;++l)if(0!==o.getByte())throw new Error("Encryption block is invalid.")}else if(1===u)for(c=0;o.length()>1;){if(255!==o.getByte()){--o.read;break}++c}else if(2===u)for(c=0;o.length()>1;){if(0===o.getByte()){--o.read;break}++c}if(0!==o.getByte()||c!==a-3-o.length())throw new Error("Encryption block is invalid.");return o.getBytes()}function w(e){var t=e.toString(16);t[0]>="8"&&(t="00"+t);var n=i.util.hexToBytes(t);return!(n.length>1)||(0!==n.charCodeAt(0)||128&n.charCodeAt(1))&&(255!==n.charCodeAt(0)||128&~n.charCodeAt(1))?n:n.substr(1)}function D(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}function A(e){return i.util.isNodejs&&"function"==typeof o[e]}function E(e){return void 0!==u.globalScope&&"object"===r(u.globalScope.crypto)&&"object"===r(u.globalScope.crypto.subtle)&&"function"==typeof u.globalScope.crypto.subtle[e]}function k(e){return void 0!==u.globalScope&&"object"===r(u.globalScope.msCrypto)&&"object"===r(u.globalScope.msCrypto.subtle)&&"function"==typeof u.globalScope.msCrypto.subtle[e]}function C(e){for(var t=i.util.hexToBytes(e.toString(16)),n=new Uint8Array(t.length),r=0;r<t.length;++r)n[r]=t.charCodeAt(r);return n}c.rsa.encrypt=function(e,t,n){var r,o=n,s=Math.ceil(t.n.bitLength()/8);!1!==n&&!0!==n?(o=2===n,r=y(e,t,n)):(r=i.util.createBuffer()).putBytes(e);for(var u=new a(r.toHex(),16),c=g(u,t,o).toString(16),l=i.util.createBuffer(),d=s-Math.ceil(c.length/2);d>0;)l.putByte(0),--d;return l.putBytes(i.util.hexToBytes(c)),l.getBytes()},c.rsa.decrypt=function(e,t,n,r){var o=Math.ceil(t.n.bitLength()/8);if(e.length!==o){var s=new Error("Encrypted message length is invalid.");throw s.length=e.length,s.expected=o,s}var u=new a(i.util.createBuffer(e).toHex(),16);if(u.compareTo(t.n)>=0)throw new Error("Encrypted message is invalid.");for(var c=g(u,t,n).toString(16),l=i.util.createBuffer(),d=o-Math.ceil(c.length/2);d>0;)l.putByte(0),--d;return l.putBytes(i.util.hexToBytes(c)),!1!==r?b(l.getBytes(),t,n):l.getBytes()},c.rsa.createKeyPairGenerationState=function(e,t,n){"string"==typeof e&&(e=parseInt(e,10)),e=e||2048;var r,o=(n=n||{}).prng||i.random,s={nextBytes:function(e){for(var t=o.getBytesSync(e.length),n=0;n<e.length;++n)e[n]=t.charCodeAt(n)}},u=n.algorithm||"PRIMEINC";if("PRIMEINC"!==u)throw new Error("Invalid key generation algorithm: "+u);return(r={algorithm:u,state:0,bits:e,rng:s,eInt:t||65537,e:new a(null),p:null,q:null,qBits:e>>1,pBits:e-(e>>1),pqState:0,num:null,keys:null}).e.fromInt(r.eInt),r},c.rsa.stepKeyPairGenerationState=function(e,t){"algorithm"in e||(e.algorithm="PRIMEINC");var n=new a(null);n.fromInt(30);for(var r,i=0,o=function(e,t){return e|t},s=+new Date,u=0;null===e.keys&&(t<=0||u<t);){if(0===e.state){var d=null===e.p?e.pBits:e.qBits,p=d-1;0===e.pqState?(e.num=new a(d,e.rng),e.num.testBit(p)||e.num.bitwiseTo(a.ONE.shiftLeft(p),o,e.num),e.num.dAddOffset(31-e.num.mod(n).byteValue(),0),i=0,++e.pqState):1===e.pqState?e.num.bitLength()>d?e.pqState=0:e.num.isProbablePrime(D(e.num.bitLength()))?++e.pqState:e.num.dAddOffset(l[i++%8],0):2===e.pqState?e.pqState=0===e.num.subtract(a.ONE).gcd(e.e).compareTo(a.ONE)?3:0:3===e.pqState&&(e.pqState=0,null===e.p?e.p=e.num:e.q=e.num,null!==e.p&&null!==e.q&&++e.state,e.num=null)}else if(1===e.state)e.p.compareTo(e.q)<0&&(e.num=e.p,e.p=e.q,e.q=e.num),++e.state;else if(2===e.state)e.p1=e.p.subtract(a.ONE),e.q1=e.q.subtract(a.ONE),e.phi=e.p1.multiply(e.q1),++e.state;else if(3===e.state)0===e.phi.gcd(e.e).compareTo(a.ONE)?++e.state:(e.p=null,e.q=null,e.state=0);else if(4===e.state)e.n=e.p.multiply(e.q),e.n.bitLength()===e.bits?++e.state:(e.q=null,e.state=0);else if(5===e.state){var f=e.e.modInverse(e.phi);e.keys={privateKey:c.rsa.setPrivateKey(e.n,e.e,f,e.p,e.q,f.mod(e.p1),f.mod(e.q1),e.q.modInverse(e.p)),publicKey:c.rsa.setPublicKey(e.n,e.e)}}u+=(r=+new Date)-s,s=r}return null!==e.keys},c.rsa.generateKeyPair=function(e,t,n,l){if(1===arguments.length?"object"===r(e)?(n=e,e=void 0):"function"==typeof e&&(l=e,e=void 0):2===arguments.length?"number"==typeof e?"function"==typeof t?(l=t,t=void 0):"number"!=typeof t&&(n=t,t=void 0):(n=e,l=t,e=void 0,t=void 0):3===arguments.length&&("number"==typeof t?"function"==typeof n&&(l=n,n=void 0):(l=n,n=t,t=void 0)),n=n||{},void 0===e&&(e=n.bits||2048),void 0===t&&(t=n.e||65537),!i.options.usePureJavaScript&&!n.prng&&e>=256&&e<=16384&&(65537===t||3===t))if(l){if(A("generateKeyPair"))return o.generateKeyPair("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},(function(e,t,n){if(e)return l(e);l(null,{privateKey:c.privateKeyFromPem(n),publicKey:c.publicKeyFromPem(t)})}));if(E("generateKey")&&E("exportKey"))return u.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:C(t),hash:{name:"SHA-256"}},!0,["sign","verify"]).then((function(e){return u.globalScope.crypto.subtle.exportKey("pkcs8",e.privateKey)})).then(void 0,(function(e){l(e)})).then((function(e){if(e){var t=c.privateKeyFromAsn1(s.fromDer(i.util.createBuffer(e)));l(null,{privateKey:t,publicKey:c.setRsaPublicKey(t.n,t.e)})}}));if(k("generateKey")&&k("exportKey")){var d=u.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:C(t),hash:{name:"SHA-256"}},!0,["sign","verify"]);return d.oncomplete=function(e){var t=e.target.result,n=u.globalScope.msCrypto.subtle.exportKey("pkcs8",t.privateKey);n.oncomplete=function(e){var t=e.target.result,n=c.privateKeyFromAsn1(s.fromDer(i.util.createBuffer(t)));l(null,{privateKey:n,publicKey:c.setRsaPublicKey(n.n,n.e)})},n.onerror=function(e){l(e)}},void(d.onerror=function(e){l(e)})}}else if(A("generateKeyPairSync")){var p=o.generateKeyPairSync("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:c.privateKeyFromPem(p.privateKey),publicKey:c.publicKeyFromPem(p.publicKey)}}var f=c.rsa.createKeyPairGenerationState(e,t,n);if(!l)return c.rsa.stepKeyPairGenerationState(f,0),f.keys;!function(e,t,n){"function"==typeof t&&(n=t,t={});t=t||{};var r={algorithm:{name:t.algorithm||"PRIMEINC",options:{workers:t.workers||2,workLoad:t.workLoad||100,workerScript:t.workerScript}}};"prng"in t&&(r.prng=t.prng);function o(){s(e.pBits,(function(t,r){return t?n(t):(e.p=r,null!==e.q?u(t,e.q):void s(e.qBits,u))}))}function s(e,t){i.prime.generateProbablePrime(e,r,t)}function u(t,r){if(t)return n(t);if(e.q=r,e.p.compareTo(e.q)<0){var i=e.p;e.p=e.q,e.q=i}if(0!==e.p.subtract(a.ONE).gcd(e.e).compareTo(a.ONE))return e.p=null,void o();if(0!==e.q.subtract(a.ONE).gcd(e.e).compareTo(a.ONE))return e.q=null,void s(e.qBits,u);if(e.p1=e.p.subtract(a.ONE),e.q1=e.q.subtract(a.ONE),e.phi=e.p1.multiply(e.q1),0!==e.phi.gcd(e.e).compareTo(a.ONE))return e.p=e.q=null,void o();if(e.n=e.p.multiply(e.q),e.n.bitLength()!==e.bits)return e.q=null,void s(e.qBits,u);var l=e.e.modInverse(e.phi);e.keys={privateKey:c.rsa.setPrivateKey(e.n,e.e,l,e.p,e.q,l.mod(e.p1),l.mod(e.q1),e.q.modInverse(e.p)),publicKey:c.rsa.setPublicKey(e.n,e.e)},n(null,e.keys)}o()}(f,n,l)},c.setRsaPublicKey=c.rsa.setPublicKey=function(e,t){var n={n:e,e:t,encrypt:function(e,t,r){if("string"==typeof t?t=t.toUpperCase():void 0===t&&(t="RSAES-PKCS1-V1_5"),"RSAES-PKCS1-V1_5"===t)t={encode:function(e,t,n){return y(e,t,2).getBytes()}};else if("RSA-OAEP"===t||"RSAES-OAEP"===t)t={encode:function(e,t){return i.pkcs1.encode_rsa_oaep(t,e,r)}};else if(-1!==["RAW","NONE","NULL",null].indexOf(t))t={encode:function(e){return e}};else if("string"==typeof t)throw new Error('Unsupported encryption scheme: "'+t+'".');var a=t.encode(e,n,!0);return c.rsa.encrypt(a,n,!0)},verify:function(e,t,r,a){"string"==typeof r?r=r.toUpperCase():void 0===r&&(r="RSASSA-PKCS1-V1_5"),void 0===a&&(a={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in a||(a._parseAllDigestBytes=!0),"RSASSA-PKCS1-V1_5"===r?r={verify:function(e,t){t=b(t,n,!0);var r=s.fromDer(t,{parseAllBytes:a._parseAllDigestBytes}),o={},u=[];if(!s.validate(r,m,o,u))throw(c=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.")).errors=u,c;var c,l=s.derToOid(o.algorithmIdentifier);if(l!==i.oids.md2&&l!==i.oids.md5&&l!==i.oids.sha1&&l!==i.oids.sha224&&l!==i.oids.sha256&&l!==i.oids.sha384&&l!==i.oids.sha512&&l!==i.oids["sha512-224"]&&l!==i.oids["sha512-256"])throw(c=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.")).oid=l,c;if((l===i.oids.md2||l===i.oids.md5)&&!("parameters"in o))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return e===o.digest}}:"NONE"!==r&&"NULL"!==r&&null!==r||(r={verify:function(e,t){return e===(t=b(t,n,!0))}});var o=c.rsa.decrypt(t,n,!0,!1);return r.verify(e,o,n.n.bitLength())}};return n},c.setRsaPrivateKey=c.rsa.setPrivateKey=function(e,t,n,r,a,o,s,u){var l={n:e,e:t,d:n,p:r,q:a,dP:o,dQ:s,qInv:u,decrypt:function(e,t,n){"string"==typeof t?t=t.toUpperCase():void 0===t&&(t="RSAES-PKCS1-V1_5");var r=c.rsa.decrypt(e,l,!1,!1);if("RSAES-PKCS1-V1_5"===t)t={decode:b};else if("RSA-OAEP"===t||"RSAES-OAEP"===t)t={decode:function(e,t){return i.pkcs1.decode_rsa_oaep(t,e,n)}};else{if(-1===["RAW","NONE","NULL",null].indexOf(t))throw new Error('Unsupported encryption scheme: "'+t+'".');t={decode:function(e){return e}}}return t.decode(r,l,!1)},sign:function(e,t){var n=!1;"string"==typeof t&&(t=t.toUpperCase()),void 0===t||"RSASSA-PKCS1-V1_5"===t?(t={encode:v},n=1):"NONE"!==t&&"NULL"!==t&&null!==t||(t={encode:function(){return e}},n=1);var r=t.encode(e,l.n.bitLength());return c.rsa.encrypt(r,l,n)}};return l},c.wrapRsaPrivateKey=function(e){return s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,s.integerToDer(0).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(c.oids.rsaEncryption).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.NULL,!1,"")]),s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,s.toDer(e).getBytes())])},c.privateKeyFromAsn1=function(e){var t,n,r,o,u,l,f,h,m={},v=[];if(s.validate(e,d,m,v)&&(e=s.fromDer(i.util.createBuffer(m.privateKey))),m={},v=[],!s.validate(e,p,m,v)){var g=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw g.errors=v,g}return t=i.util.createBuffer(m.privateKeyModulus).toHex(),n=i.util.createBuffer(m.privateKeyPublicExponent).toHex(),r=i.util.createBuffer(m.privateKeyPrivateExponent).toHex(),o=i.util.createBuffer(m.privateKeyPrime1).toHex(),u=i.util.createBuffer(m.privateKeyPrime2).toHex(),l=i.util.createBuffer(m.privateKeyExponent1).toHex(),f=i.util.createBuffer(m.privateKeyExponent2).toHex(),h=i.util.createBuffer(m.privateKeyCoefficient).toHex(),c.setRsaPrivateKey(new a(t,16),new a(n,16),new a(r,16),new a(o,16),new a(u,16),new a(l,16),new a(f,16),new a(h,16))},c.privateKeyToAsn1=c.privateKeyToRSAPrivateKey=function(e){return s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,s.integerToDer(0).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,w(e.n)),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,w(e.e)),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,w(e.d)),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,w(e.p)),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,w(e.q)),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,w(e.dP)),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,w(e.dQ)),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,w(e.qInv))])},c.publicKeyFromAsn1=function(e){var t={},n=[];if(s.validate(e,h,t,n)){var r,o=s.derToOid(t.publicKeyOid);if(o!==c.oids.rsaEncryption)throw(r=new Error("Cannot read public key. Unknown OID.")).oid=o,r;e=t.rsaPublicKey}if(n=[],!s.validate(e,f,t,n))throw(r=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.")).errors=n,r;var u=i.util.createBuffer(t.publicKeyModulus).toHex(),l=i.util.createBuffer(t.publicKeyExponent).toHex();return c.setRsaPublicKey(new a(u,16),new a(l,16))},c.publicKeyToAsn1=c.publicKeyToSubjectPublicKeyInfo=function(e){return s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(c.oids.rsaEncryption).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.NULL,!1,"")]),s.create(s.Class.UNIVERSAL,s.Type.BITSTRING,!1,[c.publicKeyToRSAPublicKey(e)])])},c.publicKeyToRSAPublicKey=function(e){return s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,w(e.n)),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,w(e.e))])}},90726:(e,t,n)=>{var r=n(86836),i=n(67873);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},90744:(e,t,n)=>{"use strict";var r=n(69565),i=n(79504),a=n(89228),o=n(28551),s=n(64117),u=n(67750),c=n(2293),l=n(57829),d=n(18014),p=n(655),f=n(55966),h=n(56682),m=n(58429),v=n(79039),g=m.UNSUPPORTED_Y,y=Math.min,b=i([].push),w=i("".slice),D=!v((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),A="c"==="abbc".split(/(b)*/)[1]||4!=="test".split(/(?:)/,-1).length||2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length;a("split",(function(e,t,n){var i="0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:r(t,this,e,n)}:t;return[function(t,n){var a=u(this),o=s(t)?void 0:f(t,e);return o?r(o,t,a,n):r(i,p(a),t,n)},function(e,r){var a=o(this),s=p(e);if(!A){var u=n(i,a,s,r,i!==t);if(u.done)return u.value}var f=c(a,RegExp),m=a.unicode,v=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(g?"g":"y"),D=new f(g?"^(?:"+a.source+")":a,v),E=void 0===r?4294967295:r>>>0;if(0===E)return[];if(0===s.length)return null===h(D,s)?[s]:[];for(var k=0,C=0,_=[];C<s.length;){D.lastIndex=g?0:C;var x,S=h(D,g?w(s,C):s);if(null===S||(x=y(d(D.lastIndex+(g?C:0)),s.length))===k)C=l(s,C,m);else{if(b(_,w(s,k,C)),_.length===E)return _;for(var T=1;T<=S.length-1;T++)if(b(_,S[T]),_.length===E)return _;C=k=x}}return b(_,w(s,k)),_}]}),A||!D,g)},90757:e=>{"use strict";e.exports=function(e,t){try{1===arguments.length?console.error(e):console.error(e,t)}catch(e){}}},90906:(e,t,n)=>{"use strict";n(27495);var r,i,a=n(46518),o=n(69565),s=n(94901),u=n(28551),c=n(655),l=(r=!1,(i=/[ac]/).exec=function(){return r=!0,/./.exec.apply(this,arguments)},!0===i.test("abc")&&r),d=/./.test;a({target:"RegExp",proto:!0,forced:!l},{test:function(e){var t=u(this),n=c(e),r=t.exec;if(!s(r))return o(d,t,n);var i=o(r,t,n);return null!==i&&(u(i),!0)}})},91134:(e,t,n)=>{"use strict";var r=n(94644),i=n(43839).findLastIndex,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("findLastIndex",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},91181:(e,t,n)=>{"use strict";var r,i,a,o=n(58622),s=n(44576),u=n(20034),c=n(66699),l=n(39297),d=n(77629),p=n(66119),f=n(30421),h="Object already initialized",m=s.TypeError,v=s.WeakMap;if(o||d.state){var g=d.state||(d.state=new v);g.get=g.get,g.has=g.has,g.set=g.set,r=function(e,t){if(g.has(e))throw new m(h);return t.facade=e,g.set(e,t),t},i=function(e){return g.get(e)||{}},a=function(e){return g.has(e)}}else{var y=p("state");f[y]=!0,r=function(e,t){if(l(e,y))throw new m(h);return t.facade=e,c(e,y,t),t},i=function(e){return l(e,y)?e[y]:{}},a=function(e){return l(e,y)}}e.exports={set:r,get:i,has:a,enforce:function(e){return a(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!u(t)||(n=i(t)).type!==e)throw new m("Incompatible receiver, "+e+" required");return n}}}},91291:(e,t,n)=>{"use strict";var r=n(80741);e.exports=function(e){var t=+e;return t!=t||0===t?0:r(t)}},91296:(e,t,n)=>{"use strict";var r=n(4495);e.exports=r&&!!Symbol.for&&!!Symbol.keyFor},91298:(e,t,n)=>{var r=n(77192),i=n(286);e.exports=function e(t,n,a,o,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!=t&&n!=n:r(t,n,a,o,e,s))}},91557:(e,t,n)=>{var r=n(81813),i=n(34022),a=n(10534),o=n(83962);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:a(o(e))}},91625:(e,t,n)=>{"use strict";var r=n(79504),i=n(56279),a=n(3451).getWeakData,o=n(90679),s=n(28551),u=n(64117),c=n(20034),l=n(72652),d=n(59213),p=n(39297),f=n(91181),h=f.set,m=f.getterFor,v=d.find,g=d.findIndex,y=r([].splice),b=0,w=function(e){return e.frozen||(e.frozen=new D)},D=function(){this.entries=[]},A=function(e,t){return v(e.entries,(function(e){return e[0]===t}))};D.prototype={get:function(e){var t=A(this,e);if(t)return t[1]},has:function(e){return!!A(this,e)},set:function(e,t){var n=A(this,e);n?n[1]=t:this.entries.push([e,t])},"delete":function(e){var t=g(this.entries,(function(t){return t[0]===e}));return~t&&y(this.entries,t,1),!!~t}},e.exports={getConstructor:function(e,t,n,r){var d=e((function(e,i){o(e,f),h(e,{type:t,id:b++,frozen:null}),u(i)||l(i,e[r],{that:e,AS_ENTRIES:n})})),f=d.prototype,v=m(t),g=function(e,t,n){var r=v(e),i=a(s(t),!0);return!0===i?w(r).set(t,n):i[r.id]=n,e};return i(f,{"delete":function(e){var t=v(this);if(!c(e))return!1;var n=a(e);return!0===n?w(t).delete(e):n&&p(n,t.id)&&delete n[t.id]},has:function(e){var t=v(this);if(!c(e))return!1;var n=a(e);return!0===n?w(t).has(e):n&&p(n,t.id)}}),i(f,n?{get:function(e){var t=v(this);if(c(e)){var n=a(e);if(!0===n)return w(t).get(e);if(n)return n[t.id]}},set:function(e,t){return g(this,e,t)}}:{add:function(e){return g(this,e,!0)}}),d}}},91955:(e,t,n)=>{"use strict";var r,i,a,o,s,u=n(44576),c=n(93389),l=n(76080),d=n(59225).set,p=n(18265),f=n(89544),h=n(44265),m=n(7860),v=n(16193),g=u.MutationObserver||u.WebKitMutationObserver,y=u.document,b=u.process,w=u.Promise,D=c("queueMicrotask");if(!D){var A=new p,E=function(){var e,t;for(v&&(e=b.domain)&&e.exit();t=A.get();)try{t()}catch(e){throw A.head&&r(),e}e&&e.enter()};f||v||m||!g||!y?!h&&w&&w.resolve?((o=w.resolve(void 0)).constructor=w,s=l(o.then,o),r=function(){s(E)}):v?r=function(){b.nextTick(E)}:(d=l(d,u),r=function(){d(E)}):(i=!0,a=y.createTextNode(""),new g(E).observe(a,{characterData:!0}),r=function(){a.data=i=!i}),D=function(e){A.head||r(),A.add(e)}}e.exports=D},92140:(e,t,n)=>{"use strict";var r={};r[n(78227)("toStringTag")]="z",e.exports="[object z]"===String(r)},92376:(e,t,n)=>{var r=n(42785).Uint8Array;e.exports=r},92405:(e,t,n)=>{"use strict";n(16468)("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n(86938))},92554:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},92744:(e,t,n)=>{"use strict";var r=n(79039);e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},92796:(e,t,n)=>{"use strict";var r=n(79039),i=n(94901),a=/#|\.prototype\./,o=function(e,t){var n=u[s(e)];return n===l||n!==c&&(i(t)?r(t):!!t)},s=o.normalize=function(e){return String(e).replace(a,".").toLowerCase()},u=o.data={},c=o.NATIVE="N",l=o.POLYFILL="P";e.exports=o},92804:e=>{"use strict";var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=t+"+/",r=t+"-_",i=function(e){for(var t={},n=0;n<64;n++)t[e.charAt(n)]=n;return t};e.exports={i2c:n,c2i:i(n),i2cUrl:r,c2iUrl:i(r)}},93059:(e,t,n)=>{var r=n(31763),i=n(95372),a=n(66857);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?a(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},93153:(e,t,n)=>{"use strict";var r=n(46518),i=n(7740),a=Math.acosh,o=Math.log,s=Math.sqrt,u=Math.LN2;r({target:"Math",stat:!0,forced:!a||710!==Math.floor(a(Number.MAX_VALUE))||a(1/0)!==1/0},{acosh:function(e){var t=+e;return t<1?NaN:t>94906265.62425156?o(t)+u:i(t-1+s(t-1)*s(t+1))}})},93224:(e,t,n)=>{var r=n(42785);e.exports=function(){return r.Date.now()}},93252:(e,t,n)=>{var r=n(49625),i=n(42379),a=n(98235);e.exports=function(){this.size=0,this.__data__={"hash":new r,"map":new(a||i),"string":new r}}},93389:(e,t,n)=>{"use strict";var r=n(44576),i=n(43724),a=Object.getOwnPropertyDescriptor;e.exports=function(e){if(!i)return r[e];var t=a(r,e);return t&&t.value}},93438:(e,t,n)=>{"use strict";var r=n(28551),i=n(20034),a=n(36043);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=a.f(e);return(0,n.resolve)(t),n.promise}},93445:(e,t,n)=>{var r=n(55417)();e.exports=r},93450:(e,t,n)=>{n(25276),n(48598),n(44114);var r,i,a=n(4373).H;i=(r=a).lib.WordArray,r.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var i=[],a=0;a<n;a+=3)for(var o=(t[a>>>2]>>>24-a%4*8&255)<<16|(t[a+1>>>2]>>>24-(a+1)%4*8&255)<<8|t[a+2>>>2]>>>24-(a+2)%4*8&255,s=0;s<4&&a+.75*s<n;s++)i.push(r.charAt(o>>>6*(3-s)&63));var u=r.charAt(64);if(u)for(;i.length%4;)i.push(u);return i.join("")},parse:function(e){var t=e.length,n=this._map,r=n.charAt(64);if(r){var a=e.indexOf(r);-1!=a&&(t=a)}for(var o=[],s=0,u=0;u<t;u++)if(u%4){var c=n.indexOf(e.charAt(u-1))<<u%4*2,l=n.indexOf(e.charAt(u))>>>6-u%4*2;o[s>>>2]|=(c|l)<<24-s%4*8,s++}return i.create(o,s)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}},93514:(e,t,n)=>{"use strict";n(6469)("flat")},93515:(e,t,n)=>{"use strict";n(46518)({target:"Date",proto:!0},{toGMTString:Date.prototype.toUTCString})},93897:(e,t,n)=>{var r=n(64327);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},94003:(e,t,n)=>{"use strict";var r=n(46518),i=n(79039),a=n(20034),o=n(22195),s=n(15652),u=Object.isFrozen;r({target:"Object",stat:!0,forced:s||i((function(){u(1)}))},{isFrozen:function(e){return!a(e)||(!(!s||"ArrayBuffer"!==o(e))||!!u&&u(e))}})},94170:(e,t,n)=>{"use strict";var r=n(46518),i=n(30566);r({target:"Function",proto:!0,forced:Function.bind!==i},{bind:i})},94230:(e,t,n)=>{"use strict";n.d(t,{E_:()=>C,F3:()=>k,Ii:()=>E});var r=n(18180),i=n(80241),a=n(46983),o=n(18443),s=n(84285),u=n(58237),c=n(68119),l=n(36858),d=n(31061),p=n(81700),f=n(61792),h=n.n(f);n(52675),n(89463),n(2259),n(16280),n(76918),n(28706),n(50113),n(51629),n(23418),n(74423),n(25276),n(64346),n(23792),n(62062),n(44114),n(72712),n(34782),n(54554),n(60739),n(23288),n(36456),n(94170),n(62010),n(55081),n(33110),n(36033),n(69085),n(84185),n(5506),n(79432),n(26099),n(3362),n(27495),n(90906),n(38781),n(31415),n(60825),n(21699),n(47764),n(25440),n(50375),n(42762),n(98992),n(72577),n(3949),n(81454),n(8872),n(23500),n(62953),n(13611),n(48408);function m(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return v(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t,n){return t=(0,l.A)(t),(0,c.A)(e,y()?Reflect.construct(t,n||[],(0,l.A)(e).constructor):t.apply(e,n))}function y(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(y=function(){return!!e})()}var b,w=function(e){return e.CapacitorPlatforms=function(e){var t=new Map;t.set("web",{name:"web"});var n=e.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:t};return n.addPlatform=function(e,t){n.platforms.set(e,t)},n.setPlatform=function(e){n.platforms.has(e)&&(n.currentPlatform=n.platforms.get(e))},n}(e)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:{});w.addPlatform,w.setPlatform;!function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"}(b||(b={}));var D=function(e){function t(e,n,r){var i;return(0,u.A)(this,t),(i=g(this,t,[e])).message=e,i.code=n,i.data=r,i}return(0,d.A)(t,e),(0,s.A)(t)}((0,p.A)(Error)),A=function(e){var t,n,r,i,s,u=e.CapacitorCustomPlatform||null,c=e.Capacitor||{},l=c.Plugins=c.Plugins||{},d=e.CapacitorPlatforms,p=(null===(t=null==d?void 0:d.currentPlatform)||void 0===t?void 0:t.getPlatform)||function(){return null!==u?u.name:function(e){var t,n;return(null==e?void 0:e.androidBridge)?"android":(null===(n=null===(t=null==e?void 0:e.webkit)||void 0===t?void 0:t.messageHandlers)||void 0===n?void 0:n.bridge)?"ios":"web"}(e)},f=(null===(n=null==d?void 0:d.currentPlatform)||void 0===n?void 0:n.isNativePlatform)||function(){return"web"!==p()},m=(null===(r=null==d?void 0:d.currentPlatform)||void 0===r?void 0:r.isPluginAvailable)||function(e){var t=g.get(e);return!!(null==t?void 0:t.platforms.has(p()))||!!v(e)},v=(null===(i=null==d?void 0:d.currentPlatform)||void 0===i?void 0:i.getPluginHeader)||function(e){var t;return null===(t=c.PluginHeaders)||void 0===t?void 0:t.find((function(t){return t.name===e}))},g=new Map,y=(null===(s=null==d?void 0:d.currentPlatform)||void 0===s?void 0:s.registerPlugin)||function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=g.get(e);if(n)return console.warn('Capacitor plugin "'.concat(e,'" already registered. Cannot register plugins twice.')),n.proxy;var r,i=p(),s=v(e),d=function(){var e=(0,o.A)(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r||!(i in t)){e.next=11;break}if("function"!=typeof t[i]){e.next=7;break}return e.next=4,t[i]();case 4:e.t0=r=e.sent,e.next=8;break;case 7:e.t0=r=t[i];case 8:r=e.t0,e.next=20;break;case 11:if(null===u||r||!("web"in t)){e.next=20;break}if("function"!=typeof t.web){e.next=18;break}return e.next=15,t.web();case 15:e.t1=r=e.sent,e.next=19;break;case 18:e.t1=r=t.web;case 19:r=e.t1;case 20:return e.abrupt("return",r);case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(t){var n,r=function(){for(var r=arguments.length,a=new Array(r),u=0;u<r;u++)a[u]=arguments[u];var l=d().then((function(r){var o=function(t,n){var r,a;if(!s){if(t)return null===(a=t[n])||void 0===a?void 0:a.bind(t);throw new D('"'.concat(e,'" plugin is not implemented on ').concat(i),b.Unimplemented)}var o=null==s?void 0:s.methods.find((function(e){return n===e.name}));return o?"promise"===o.rtype?function(t){return c.nativePromise(e,n.toString(),t)}:function(t,r){return c.nativeCallback(e,n.toString(),t,r)}:t?null===(r=t[n])||void 0===r?void 0:r.bind(t):void 0}(r,t);if(o){var u=o.apply(void 0,a);return n=null==u?void 0:u.remove,u}throw new D('"'.concat(e,".").concat(t,'()" is not implemented on ').concat(i),b.Unimplemented)}));return"addListener"===t&&(l.remove=(0,o.A)(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n());case 1:case"end":return e.stop()}}),e)})))),l};return r.toString=function(){return"".concat(t.toString(),"() { [capacitor code] }")},Object.defineProperty(r,"name",{value:t,writable:!1,configurable:!1}),r},m=f("addListener"),y=f("removeListener"),w=function(e,t){var n=m({eventName:e},t),r=function(){var r=(0,o.A)(h().mark((function r(){var i;return h().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n;case 2:i=r.sent,y({eventName:e,callbackId:i},t);case 4:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),i=new Promise((function(e){return n.then((function(){return e({remove:r})}))}));return i.remove=(0,o.A)(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.warn("Using addListener() without 'await' is deprecated."),e.next=3,r();case 3:case"end":return e.stop()}}),e)}))),i},A=new Proxy({},{get:function(e,t){switch(t){case"$$typeof":return;case"toJSON":return function(){return{}};case"addListener":return s?w:m;case"removeListener":return y;default:return f(t)}}});return l[e]=A,g.set(e,{name:e,proxy:A,platforms:new Set([].concat((0,a.A)(Object.keys(t)),(0,a.A)(s?[i]:[])))}),A};return c.convertFileSrc||(c.convertFileSrc=function(e){return e}),c.getPlatform=p,c.handleError=function(t){return e.console.error(t)},c.isNativePlatform=f,c.isPluginAvailable=m,c.pluginMethodNoop=function(e,t,n){return Promise.reject("".concat(n,' does not have an implementation of "').concat(t,'".'))},c.registerPlugin=y,c.Exception=D,c.DEBUG=!!c.DEBUG,c.isLoggingEnabled=!!c.isLoggingEnabled,c.platform=c.getPlatform(),c.isNative=c.isNativePlatform(),c},E=function(e){return e.Capacitor=A(e)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:{}),k=E.registerPlugin,C=(E.Plugins,function(){return(0,s.A)((function e(t){(0,u.A)(this,e),this.listeners={},this.retainedEventArguments={},this.windowListeners={},t&&(console.warn('Capacitor WebPlugin "'.concat(t.name,'" config object was deprecated in v3 and will be removed in v4.')),this.config=t)}),[{key:"addListener",value:function(e,t){var n=this,r=!1;this.listeners[e]||(this.listeners[e]=[],r=!0),this.listeners[e].push(t);var i=this.windowListeners[e];i&&!i.registered&&this.addWindowListener(i),r&&this.sendRetainedArgumentsForEvent(e);var a=function(){var r=(0,o.A)(h().mark((function r(){return h().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",n.removeListener(e,t));case 1:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();return Promise.resolve({remove:a})}},{key:"removeAllListeners",value:(t=(0,o.A)(h().mark((function e(){var t;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t in this.listeners={},this.windowListeners)this.removeWindowListener(this.windowListeners[t]);this.windowListeners={};case 3:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"notifyListeners",value:function(e,t,n){var r=this.listeners[e];if(r)r.forEach((function(e){return e(t)}));else if(n){var i=this.retainedEventArguments[e];i||(i=[]),i.push(t),this.retainedEventArguments[e]=i}}},{key:"hasListeners",value:function(e){return!!this.listeners[e].length}},{key:"registerWindowListener",value:function(e,t){var n=this;this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:function(e){n.notifyListeners(t,e)}}}},{key:"unimplemented",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"not implemented";return new E.Exception(e,b.Unimplemented)}},{key:"unavailable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"not available";return new E.Exception(e,b.Unavailable)}},{key:"removeListener",value:(e=(0,o.A)(h().mark((function e(t,n){var r,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.listeners[t]){e.next=3;break}return e.abrupt("return");case 3:i=r.indexOf(n),this.listeners[t].splice(i,1),this.listeners[t].length||this.removeWindowListener(this.windowListeners[t]);case 6:case"end":return e.stop()}}),e,this)}))),function(t,n){return e.apply(this,arguments)})},{key:"addWindowListener",value:function(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}},{key:"removeWindowListener",value:function(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}},{key:"sendRetainedArgumentsForEvent",value:function(e){var t=this,n=this.retainedEventArguments[e];n&&(delete this.retainedEventArguments[e],n.forEach((function(n){t.notifyListeners(e,n)})))}}]);var e,t}()),_=function(e){return encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape)},x=function(e){return e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},S=function(e){function t(){return(0,u.A)(this,t),g(this,t,arguments)}return(0,d.A)(t,e),(0,s.A)(t,[{key:"getCookies",value:(l=(0,o.A)(h().mark((function e(){var t,n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.cookie,n={},t.split(";").forEach((function(e){if(!(e.length<=0)){var t=e.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE"),r=(0,i.A)(t,2),a=r[0],o=r[1];a=x(a).trim(),o=x(o).trim(),n[a]=o}})),e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)}))),function(){return l.apply(this,arguments)})},{key:"setCookie",value:(c=(0,o.A)(h().mark((function e(t){var n,r,i,a,o;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,n=_(t.key),r=_(t.value),i="; expires=".concat((t.expires||"").replace("expires=","")),a=(t.path||"/").replace("path=",""),o=null!=t.url&&t.url.length>0?"domain=".concat(t.url):"",document.cookie="".concat(n,"=").concat(r||"").concat(i,"; path=").concat(a,"; ").concat(o,";"),e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),function(e){return c.apply(this,arguments)})},{key:"deleteCookie",value:(a=(0,o.A)(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,document.cookie="".concat(t.key,"=; Max-Age=0"),e.next=7;break;case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 7:case"end":return e.stop()}}),e,null,[[0,4]])}))),function(e){return a.apply(this,arguments)})},{key:"clearCookies",value:(r=(0,o.A)(h().mark((function e(){var t,n,r,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,t=document.cookie.split(";")||[],n=m(t);try{for(n.s();!(r=n.n()).done;)i=r.value,document.cookie=i.replace(/^ +/,"").replace(/=.*/,"=;expires=".concat((new Date).toUTCString(),";path=/"))}catch(e){n.e(e)}finally{n.f()}e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),function(){return r.apply(this,arguments)})},{key:"clearAllCookies",value:(n=(0,o.A)(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.clearCookies();case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 8:case"end":return e.stop()}}),e,this,[[0,5]])}))),function(){return n.apply(this,arguments)})}]);var n,r,a,c,l}(C),T=(k("CapacitorCookies",{web:function(){return new S}}),function(){var e=(0,o.A)(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r=new FileReader;r.onload=function(){var t=r.result;e(t.indexOf(",")>=0?t.split(",")[1]:t)},r.onerror=function(e){return n(e)},r.readAsDataURL(t)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),F=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e?Object.entries(e).reduce((function(e,n){var r,a,o=(0,i.A)(n,2),s=o[0],u=o[1];return Array.isArray(u)?(a="",u.forEach((function(e){r=t?encodeURIComponent(e):e,a+="".concat(s,"=").concat(r,"&")})),a.slice(0,-1)):(r=t?encodeURIComponent(u):u,a="".concat(s,"=").concat(r)),"".concat(e,"&").concat(a)}),"").substr(1):null},O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign({method:e.method||"GET",headers:e.headers},t),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.keys(e);return Object.keys(e).map((function(e){return e.toLocaleLowerCase()})).reduce((function(n,r,i){return n[r]=e[t[i]],n}),{})}(e.headers),o=a["content-type"]||"";if("string"==typeof e.data)n.body=e.data;else if(o.includes("application/x-www-form-urlencoded")){for(var s=new URLSearchParams,u=0,c=Object.entries(e.data||{});u<c.length;u++){var l=(0,i.A)(c[u],2),d=l[0],p=l[1];s.set(d,p)}n.body=s.toString()}else if(o.includes("multipart/form-data")||e.data instanceof FormData){var f=new FormData;if(e.data instanceof FormData)e.data.forEach((function(e,t){f.append(t,e)}));else for(var h=0,m=Object.keys(e.data);h<m.length;h++){var v=m[h];f.append(v,e.data[v])}n.body=f;var g=new Headers(n.headers);g.delete("content-type"),n.headers=g}else(o.includes("application/json")||"object"===(0,r.A)(e.data))&&(n.body=JSON.stringify(e.data));return n},P=function(e){function t(){return(0,u.A)(this,t),g(this,t,arguments)}return(0,d.A)(t,e),(0,s.A)(t,[{key:"request",value:(l=(0,o.A)(h().mark((function e(t){var n,r,i,a,o,s,u,c,l,d,p;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=O(t,t.webFetchExtra),r=F(t.params,t.shouldEncodeUrlParams),i=r?"".concat(t.url,"?").concat(r):t.url,e.next=5,fetch(i,n);case 5:a=e.sent,o=a.headers.get("content-type")||"",s=a.ok?t:{},u=s.responseType,c=void 0===u?"text":u,o.includes("application/json")&&(c="json"),e.t0=c,e.next="arraybuffer"===e.t0||"blob"===e.t0?12:"json"===e.t0?19:("document"===e.t0||e.t0,23);break;case 12:return e.next=14,a.blob();case 14:return d=e.sent,e.next=17,T(d);case 17:return l=e.sent,e.abrupt("break",26);case 19:return e.next=21,a.json();case 21:return l=e.sent,e.abrupt("break",26);case 23:return e.next=25,a.text();case 25:l=e.sent;case 26:return p={},a.headers.forEach((function(e,t){p[t]=e})),e.abrupt("return",{data:l,headers:p,status:a.status,url:a.url});case 29:case"end":return e.stop()}}),e)}))),function(e){return l.apply(this,arguments)})},{key:"get",value:(c=(0,o.A)(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.request(Object.assign(Object.assign({},t),{method:"GET"})));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"post",value:(a=(0,o.A)(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.request(Object.assign(Object.assign({},t),{method:"POST"})));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"put",value:(i=(0,o.A)(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.request(Object.assign(Object.assign({},t),{method:"PUT"})));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"patch",value:(r=(0,o.A)(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.request(Object.assign(Object.assign({},t),{method:"PATCH"})));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"delete",value:(n=(0,o.A)(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.request(Object.assign(Object.assign({},t),{method:"DELETE"})));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})}]);var n,r,i,a,c,l}(C);k("CapacitorHttp",{web:function(){return new P}})},94298:(e,t,n)=>{"use strict";var r=n(46518),i=n(77240);r({target:"String",proto:!0,forced:n(23061)("fixed")},{fixed:function(){return i(this,"tt","","")}})},94353:(e,t,n)=>{var r=n(85046),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},94402:(e,t,n)=>{"use strict";var r=n(79504),i=Set.prototype;e.exports={Set,add:r(i.add),has:r(i.has),remove:r(i.delete),proto:i}},94483:(e,t,n)=>{"use strict";var r,i,a,o,s=n(44576),u=n(89429),c=n(1548),l=s.structuredClone,d=s.ArrayBuffer,p=s.MessageChannel,f=!1;if(c)f=function(e){l(e,{transfer:[e]})};else if(d)try{p||(r=u("worker_threads"))&&(p=r.MessageChannel),p&&(i=new p,a=new d(2),o=function(e){i.port1.postMessage(null,[e])},2===a.byteLength&&(o(a),0===a.byteLength&&(f=o)))}catch(e){}e.exports=f},94490:(e,t,n)=>{"use strict";var r=n(46518),i=n(79504),a=n(34376),o=i([].reverse),s=[1,2];r({target:"Array",proto:!0,forced:String(s)===String(s.reverse())},{reverse:function(){return a(this)&&(this.length=this.length),o(this)}})},94611:(e,t,n)=>{n(44114);var r=n(43140),i=n(48080),a=n(81813),o=n(12180),s=n(62997),u=n(70675),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=a(e),l=!n&&i(e),d=!n&&!l&&o(e),p=!n&&!l&&!d&&u(e),f=n||l||d||p,h=f?r(e.length,String):[],m=h.length;for(var v in e)!t&&!c.call(e,v)||f&&("length"==v||d&&("offset"==v||"parent"==v)||p&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,m))||h.push(v);return h}},94644:(e,t,n)=>{"use strict";var r,i,a,o=n(77811),s=n(43724),u=n(44576),c=n(94901),l=n(20034),d=n(39297),p=n(36955),f=n(16823),h=n(66699),m=n(36840),v=n(62106),g=n(1625),y=n(42787),b=n(52967),w=n(78227),D=n(33392),A=n(91181),E=A.enforce,k=A.get,C=u.Int8Array,_=C&&C.prototype,x=u.Uint8ClampedArray,S=x&&x.prototype,T=C&&y(C),F=_&&y(_),O=Object.prototype,P=u.TypeError,I=w("toStringTag"),B=D("TYPED_ARRAY_TAG"),R="TypedArrayConstructor",N=o&&!!b&&"Opera"!==p(u.opera),M=!1,L={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},j={BigInt64Array:8,BigUint64Array:8},U=function(e){var t=y(e);if(l(t)){var n=k(t);return n&&d(n,R)?n[R]:U(t)}},z=function(e){if(!l(e))return!1;var t=p(e);return d(L,t)||d(j,t)};for(r in L)(a=(i=u[r])&&i.prototype)?E(a)[R]=i:N=!1;for(r in j)(a=(i=u[r])&&i.prototype)&&(E(a)[R]=i);if((!N||!c(T)||T===Function.prototype)&&(T=function(){throw new P("Incorrect invocation")},N))for(r in L)u[r]&&b(u[r],T);if((!N||!F||F===O)&&(F=T.prototype,N))for(r in L)u[r]&&b(u[r].prototype,F);if(N&&y(S)!==F&&b(S,F),s&&!d(F,I))for(r in M=!0,v(F,I,{configurable:!0,get:function(){return l(this)?this[B]:void 0}}),L)u[r]&&h(u[r],B,r);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:N,TYPED_ARRAY_TAG:M&&B,aTypedArray:function(e){if(z(e))return e;throw new P("Target is not a typed array")},aTypedArrayConstructor:function(e){if(c(e)&&(!b||g(T,e)))return e;throw new P(f(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,n,r){if(s){if(n)for(var i in L){var a=u[i];if(a&&d(a.prototype,e))try{delete a.prototype[e]}catch(n){try{a.prototype[e]=t}catch(e){}}}F[e]&&!n||m(F,e,n?t:N&&_[e]||t,r)}},exportTypedArrayStaticMethod:function(e,t,n){var r,i;if(s){if(b){if(n)for(r in L)if((i=u[r])&&d(i,e))try{delete i[e]}catch(e){}if(T[e]&&!n)return;try{return m(T,e,n?t:N&&T[e]||t)}catch(e){}}for(r in L)!(i=u[r])||i[e]&&!n||m(i,e,t)}},getTypedArrayConstructor:U,isView:function(e){if(!l(e))return!1;var t=p(e);return"DataView"===t||d(L,t)||d(j,t)},isTypedArray:z,TypedArray:T,TypedArrayPrototype:F}},94901:e=>{"use strict";var t="object"==typeof document&&document.all;e.exports=void 0===t&&void 0!==t?function(e){return"function"==typeof e||e===t}:function(e){return"function"==typeof e}},95372:(e,t,n)=>{var r=n(44448),i=n(21426);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var a=t[n],o=e[a];t[n]=[a,o,r(o)]}return t}},95451:(e,t,n)=>{var r=n(46426)(n(42785),"WeakMap");e.exports=r},95477:(e,t,n)=>{"use strict";n(15823)("Int32",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},95765:(e,t,n)=>{var r=n(89990);n(76918),n(23288),n(40875),n(26099),n(38781);var i,a,o=Function.prototype,s=Object.prototype,u=o.toString,c=s.hasOwnProperty,l=u.call(Object),d=s.toString,p=(i=Object.getPrototypeOf,a=Object,function(e){return i(a(e))});e.exports=function(e){if(!function(e){return!!e&&"object"==r(e)}(e)||"[object Object]"!=d.call(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e))return!1;var t=p(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==l}},95906:(e,t,n)=>{var r=n(8498);n(76918),n(23792),n(54743),n(11745),n(38309),n(23288),n(26099),n(38781),n(50375),n(61740),n(48140),n(81630),n(72170),n(75044),n(69539),n(31694),n(89955),n(21903),n(91134),n(33206),n(44496),n(66651),n(12887),n(19369),n(66812),n(8995),n(31575),n(36072),n(88747),n(28845),n(29423),n(57301),n(373),n(86614),n(41405),n(33684),n(43250),n(10149),n(24082),n(13611);var i=n(85192);n(32807);var a=null;!i.util.isNodejs||i.options.usePureJavaScript||r.versions["node-webkit"]||(a=n(50310)),(e.exports=i.prng=i.prng||{}).create=function(e){for(var t={plugin:e,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},n=e.md,r=new Array(32),o=0;o<32;++o)r[o]=n.create();function s(){if(t.pools[0].messageLength>=32)return u();var e=32-t.pools[0].messageLength<<5;t.collect(t.seedFileSync(e)),u()}function u(){t.reseeds=4294967295===t.reseeds?0:t.reseeds+1;var e=t.plugin.md.create();e.update(t.keyBytes);for(var n=1,r=0;r<32;++r)t.reseeds%n==0&&(e.update(t.pools[r].digest().getBytes()),t.pools[r].start()),n<<=1;t.keyBytes=e.digest().getBytes(),e.start(),e.update(t.keyBytes);var i=e.digest().getBytes();t.key=t.plugin.formatKey(t.keyBytes),t.seed=t.plugin.formatSeed(i),t.generated=0}function c(e){var t=null,n=i.util.globalScope,r=n.crypto||n.msCrypto;r&&r.getRandomValues&&(t=function(e){return r.getRandomValues(e)});var a=i.util.createBuffer();if(t)for(;a.length()<e;){var o=Math.max(1,Math.min(e-a.length(),65536)/4),s=new Uint32Array(Math.floor(o));try{t(s);for(var u=0;u<s.length;++u)a.putInt32(s[u])}catch(e){if(!("undefined"!=typeof QuotaExceededError&&e instanceof QuotaExceededError))throw e}}if(a.length()<e)for(var c,l,d,p=Math.floor(65536*Math.random());a.length()<e;){l=16807*(65535&p),l+=(32767&(c=16807*(p>>16)))<<16,p=4294967295&(l=(2147483647&(l+=c>>15))+(l>>31));for(u=0;u<3;++u)d=p>>>(u<<3),d^=Math.floor(256*Math.random()),a.putByte(255&d)}return a.getBytes(e)}return t.pools=r,t.pool=0,t.generate=function(e,n){if(!n)return t.generateSync(e);var r=t.plugin.cipher,a=t.plugin.increment,o=t.plugin.formatKey,s=t.plugin.formatSeed,c=i.util.createBuffer();t.key=null,function l(d){if(d)return n(d);if(c.length()>=e)return n(null,c.getBytes(e));t.generated>1048575&&(t.key=null);if(null===t.key)return i.util.nextTick((function(){!function(e){if(t.pools[0].messageLength>=32)return u(),e();var n=32-t.pools[0].messageLength<<5;t.seedFile(n,(function(n,r){if(n)return e(n);t.collect(r),u(),e()}))}(l)}));var p=r(t.key,t.seed);t.generated+=p.length,c.putBytes(p),t.key=o(r(t.key,a(t.seed))),t.seed=s(r(t.key,t.seed)),i.util.setImmediate(l)}()},t.generateSync=function(e){var n=t.plugin.cipher,r=t.plugin.increment,a=t.plugin.formatKey,o=t.plugin.formatSeed;t.key=null;for(var u=i.util.createBuffer();u.length()<e;){t.generated>1048575&&(t.key=null),null===t.key&&s();var c=n(t.key,t.seed);t.generated+=c.length,u.putBytes(c),t.key=a(n(t.key,r(t.seed))),t.seed=o(n(t.key,t.seed))}return u.getBytes(e)},a?(t.seedFile=function(e,t){a.randomBytes(e,(function(e,n){if(e)return t(e);t(null,n.toString())}))},t.seedFileSync=function(e){return a.randomBytes(e).toString()}):(t.seedFile=function(e,t){try{t(null,c(e))}catch(e){t(e)}},t.seedFileSync=c),t.collect=function(e){for(var n=e.length,r=0;r<n;++r)t.pools[t.pool].update(e.substr(r,1)),t.pool=31===t.pool?0:t.pool+1},t.collectInt=function(e,n){for(var r="",i=0;i<n;i+=8)r+=String.fromCharCode(e>>i&255);t.collect(r)},t.registerWorker=function(e){if(e===self)t.seedFile=function(e,t){self.addEventListener("message",(function e(n){var r=n.data;r.forge&&r.forge.prng&&(self.removeEventListener("message",e),t(r.forge.prng.err,r.forge.prng.bytes))})),self.postMessage({forge:{prng:{needed:e}}})};else{e.addEventListener("message",(function(n){var r=n.data;r.forge&&r.forge.prng&&t.seedFile(r.forge.prng.needed,(function(t,n){e.postMessage({forge:{prng:{err:t,bytes:n}}})}))}))}},t}},96319:(e,t,n)=>{"use strict";var r=n(28551),i=n(9539);e.exports=function(e,t,n,a){try{return a?t(r(n)[0],n[1]):t(n)}catch(t){i(e,"throw",t)}}},96395:e=>{"use strict";e.exports=!1},96621:(e,t,n)=>{"use strict";n.r(t),n.d(t,{DialogWeb:()=>p});n(60825);var r=n(18443),i=n(58237),a=n(84285),o=n(68119),s=n(36858),u=n(31061),c=n(61792),l=n.n(c);function d(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(d=function(){return!!e})()}var p=function(e){function t(){return(0,i.A)(this,t),function(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,d()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}(this,t,arguments)}return(0,u.A)(t,e),(0,a.A)(t,[{key:"alert",value:(p=(0,r.A)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.alert(t.message);case 1:case"end":return e.stop()}}),e)}))),function(e){return p.apply(this,arguments)})},{key:"prompt",value:(c=(0,r.A)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=window.prompt(t.message,t.inputText||""),e.abrupt("return",{value:null!==n?n:"",cancelled:null===n});case 2:case"end":return e.stop()}}),e)}))),function(e){return c.apply(this,arguments)})},{key:"confirm",value:(n=(0,r.A)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=window.confirm(t.message),e.abrupt("return",{value:n});case 2:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)})}]);var n,c,p}(n(94230).E_)},96801:(e,t,n)=>{"use strict";var r=n(43724),i=n(48686),a=n(24913),o=n(28551),s=n(25397),u=n(71072);t.f=r&&!i?Object.defineProperties:function(e,t){o(e);for(var n,r=s(t),i=u(t),c=i.length,l=0;c>l;)a.f(e,n=i[l++],r[n]);return e}},96837:e=>{"use strict";var t=TypeError;e.exports=function(e){if(e>9007199254740991)throw t("Maximum allowed index exceeded");return e}},96882:(e,t,n)=>{n(18107),n(23792),n(26099),n(67357),n(62953);var r=n(85192);n(90092),n(70966);var i=e.exports=r.tls;function a(e,t,n){var a=t.entity===r.tls.ConnectionEnd.client;e.read.cipherState={init:!1,cipher:r.cipher.createDecipher("AES-CBC",a?n.keys.server_write_key:n.keys.client_write_key),iv:a?n.keys.server_write_IV:n.keys.client_write_IV},e.write.cipherState={init:!1,cipher:r.cipher.createCipher("AES-CBC",a?n.keys.client_write_key:n.keys.server_write_key),iv:a?n.keys.client_write_IV:n.keys.server_write_IV},e.read.cipherFunction=c,e.write.cipherFunction=o,e.read.macLength=e.write.macLength=n.mac_length,e.read.macFunction=e.write.macFunction=i.hmac_sha1}function o(e,t){var n,a=!1,o=t.macFunction(t.macKey,t.sequenceNumber,e);e.fragment.putBytes(o),t.updateSequenceNumber(),n=e.version.minor===i.Versions.TLS_1_0.minor?t.cipherState.init?null:t.cipherState.iv:r.random.getBytesSync(16),t.cipherState.init=!0;var u=t.cipherState.cipher;return u.start({iv:n}),e.version.minor>=i.Versions.TLS_1_1.minor&&u.output.putBytes(n),u.update(e.fragment),u.finish(s)&&(e.fragment=u.output,e.length=e.fragment.length(),a=!0),a}function s(e,t,n){if(!n){var r=e-t.length()%e;t.fillWithByte(r-1,r)}return!0}function u(e,t,n){var r=!0;if(n){for(var i=t.length(),a=t.last(),o=i-1-a;o<i-1;++o)r=r&&t.at(o)==a;r&&t.truncate(a+1)}return r}function c(e,t){var n,a=!1;n=e.version.minor===i.Versions.TLS_1_0.minor?t.cipherState.init?null:t.cipherState.iv:e.fragment.getBytes(16),t.cipherState.init=!0;var o=t.cipherState.cipher;o.start({iv:n}),o.update(e.fragment),a=o.finish(u);var s=t.macLength,c=r.random.getBytesSync(s),l=o.output.length();l>=s?(e.fragment=o.output.getBytes(l-s),c=o.output.getBytes(s)):e.fragment=o.output.getBytes(),e.fragment=r.util.createBuffer(e.fragment),e.length=e.fragment.length();var d=t.macFunction(t.macKey,t.sequenceNumber,e);return t.updateSequenceNumber(),a=function(e,t,n){var i=r.hmac.create();return i.start("SHA1",e),i.update(t),t=i.digest().getBytes(),i.start(null,null),i.update(n),n=i.digest().getBytes(),t===n}(t.macKey,c,d)&&a,a}i.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(e){e.bulk_cipher_algorithm=i.BulkCipherAlgorithm.aes,e.cipher_type=i.CipherType.block,e.enc_key_length=16,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=i.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},initConnectionState:a},i.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(e){e.bulk_cipher_algorithm=i.BulkCipherAlgorithm.aes,e.cipher_type=i.CipherType.block,e.enc_key_length=32,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=i.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},initConnectionState:a}},97040:(e,t,n)=>{"use strict";var r=n(43724),i=n(24913),a=n(6980);e.exports=function(e,t,n){r?i.f(e,t,a(0,n)):e[t]=n}},97635:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Dashboard:()=>Qo,DashboardModal:()=>es,DragDrop:()=>ls,FileInput:()=>vu,ProgressBar:()=>ws,StatusBar:()=>su,useUppy:()=>gu});n(52675),n(2008),n(51629),n(44114),n(67945),n(84185),n(83851),n(81278),n(79432),n(26099),n(60825),n(98992),n(54520),n(3949),n(23500);var r=n(51531),i=n(58237),a=n(84285),o=n(68119),s=n(36858),u=n(31061),c=n(55384),l=n(18443),d=n(61792),p=(n(16280),n(89463),n(2259),n(76918),n(74423),n(25276),n(23418),n(64346),n(23792),n(62062),n(34782),n(15086),n(23288),n(62010),n(3362),n(27495),n(90906),n(38781),n(47764),n(81454),n(37550),n(62953),n(76031),n(73848));n(72712),n(94170),n(16034),n(8872);function f(e,t,n,r){return 0===n||e===t?e:0===r?t:e+(t-e)*Math.pow(2,-r/n)}var h=n(36118);const m="error",v="waiting",g="preprocessing",y="uploading",b="postprocessing",w="complete";var D=n(36480),A=n(23546);function E(e){for(var t,n=[],r="indeterminate",i=0,a=Object.values(e);i<a.length;i++){var o=a[i].progress,s=o.preprocess,u=o.postprocess;if(null==t&&(s||u)){var c=s||u;r=c.mode,t=c.message}"determinate"===(null==s?void 0:s.mode)&&n.push(s.value),"determinate"===(null==u?void 0:u.mode)&&n.push(u.value)}return{mode:r,message:t,value:n.reduce((function(e,t){return e+t/n.length}),0)}}n(28706);var k=n(78029);n(68156);function C(e){var t,n=(t=e,{hours:Math.floor(t/3600)%24,minutes:Math.floor(t/60)%60,seconds:Math.floor(t%60)}),r=0===n.hours?"":"".concat(n.hours,"h"),i=0===n.minutes?"":"".concat(0===n.hours?n.minutes:" ".concat(n.minutes.toString(10).padStart(2,"0")),"m"),a=0!==n.hours?"":"".concat(0===n.minutes?n.seconds:" ".concat(n.seconds.toString(10).padStart(2,"0")),"s");return"".concat(r).concat(i).concat(a)}var _=function(){return" ".concat(""," ")};function x(e){var t=e.newFiles,n=e.isUploadStarted,r=e.recoveredState,i=e.i18n,a=e.uploadState,o=e.isSomeGhost,s=e.startUpload,u=A("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--upload",{"uppy-c-btn-primary":a===v},{"uppy-StatusBar-actionBtn--disabled":o}),c=i(t&&n&&!r?"uploadXNewFiles":"uploadXFiles",{smart_count:t});return(0,D.h)("button",{type:"button",className:u,"aria-label":i("uploadXFiles",{smart_count:t}),onClick:s,disabled:o,"data-uppy-super-focusable":!0},c)}function S(e){var t=e.i18n,n=e.uppy;return(0,D.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--retry","aria-label":t("retryUpload"),onClick:function(){return n.retryAll().catch((function(){}))},"data-uppy-super-focusable":!0,"data-cy":"retry"},(0,D.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"8",height:"10",viewBox:"0 0 8 10"},(0,D.h)("path",{d:"M4 2.408a2.75 2.75 0 1 0 2.75 2.75.626.626 0 0 1 1.25.018v.023a4 4 0 1 1-4-4.041V.25a.25.25 0 0 1 .389-.208l2.299 1.533a.25.25 0 0 1 0 .416l-2.3 1.533A.25.25 0 0 1 4 3.316v-.908z"})),t("retry"))}function T(e){var t=e.i18n,n=e.uppy;return(0,D.h)("button",{type:"button",className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",title:t("cancel"),"aria-label":t("cancel"),onClick:function(){return n.cancelAll()},"data-cy":"cancel","data-uppy-super-focusable":!0},(0,D.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},(0,D.h)("g",{fill:"none",fillRule:"evenodd"},(0,D.h)("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),(0,D.h)("path",{fill:"#FFF",d:"M9.283 8l2.567 2.567-1.283 1.283L8 9.283 5.433 11.85 4.15 10.567 6.717 8 4.15 5.433 5.433 4.15 8 6.717l2.567-2.567 1.283 1.283z"}))))}function F(e){var t=e.isAllPaused,n=e.i18n,r=e.isAllComplete,i=e.resumableUploads,a=e.uppy,o=n(t?"resume":"pause");return(0,D.h)("button",{title:o,"aria-label":o,className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",type:"button",onClick:function(){r||(i?t?a.resumeAll():a.pauseAll():a.cancelAll())},"data-cy":"togglePauseResume","data-uppy-super-focusable":!0},(0,D.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},(0,D.h)("g",{fill:"none",fillRule:"evenodd"},(0,D.h)("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),(0,D.h)("path",{fill:"#FFF",d:t?"M6 4.25L11.5 8 6 11.75z":"M5 4.5h2v7H5v-7zm4 0h2v7H9v-7z"}))))}function O(e){var t=e.i18n,n=e.doneButtonHandler;return(0,D.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--done",onClick:n,"data-uppy-super-focusable":!0},t("done"))}function P(){return(0,D.h)("svg",{className:"uppy-StatusBar-spinner","aria-hidden":"true",focusable:"false",width:"14",height:"14"},(0,D.h)("path",{d:"M13.983 6.547c-.12-2.509-1.64-4.893-3.939-5.936-2.48-1.127-5.488-.656-7.556 1.094C.524 3.367-.398 6.048.162 8.562c.556 2.495 2.46 4.52 4.94 5.183 2.932.784 5.61-.602 7.256-3.015-1.493 1.993-3.745 3.309-6.298 2.868-2.514-.434-4.578-2.349-5.153-4.84a6.226 6.226 0 0 1 2.98-6.778C6.34.586 9.74 1.1 11.373 3.493c.407.596.693 1.282.842 1.988.127.598.073 1.197.161 1.794.078.525.543 1.257 1.15.864.525-.341.49-1.05.456-1.592-.007-.15.02.3 0 0",fillRule:"evenodd"}))}function I(e){var t=e.progress,n=t.value,r=t.mode,i=t.message;return(0,D.h)("div",{className:"uppy-StatusBar-content"},(0,D.h)(P,null),"determinate"===r?"".concat(Math.round(100*n),"% ").concat(""," "):"",i)}function B(e){var t=e.numUploads,n=e.complete,r=e.totalUploadedSize,i=e.totalSize,a=e.totalETA,o=e.i18n,s=t>1;return(0,D.h)("div",{className:"uppy-StatusBar-statusSecondary"},s&&o("filesUploadedOfTotal",{complete:n,smart_count:t}),(0,D.h)("span",{className:"uppy-StatusBar-additionalInfo"},s&&_(),o("dataUploadedOfTotal",{complete:k(r),total:k(i)}),_(),o("xTimeLeft",{time:C(a)})))}function R(e){var t=e.i18n,n=e.complete,r=e.numUploads;return(0,D.h)("div",{className:"uppy-StatusBar-statusSecondary"},t("filesUploadedOfTotal",{complete:n,smart_count:r}))}function N(e){var t=e.i18n,n=e.newFiles,r=e.startUpload,i=A("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--uploadNewlyAdded");return(0,D.h)("div",{className:"uppy-StatusBar-statusSecondary"},(0,D.h)("div",{className:"uppy-StatusBar-statusSecondaryHint"},t("xMoreFilesAdded",{smart_count:n})),(0,D.h)("button",{type:"button",className:i,"aria-label":t("uploadXFiles",{smart_count:n}),onClick:r},t("upload")))}function M(e){var t=e.i18n,n=e.supportsUploadProgress,r=e.totalProgress,i=e.showProgressDetails,a=e.isUploadStarted,o=e.isAllComplete,s=e.isAllPaused,u=e.newFiles,c=e.numUploads,l=e.complete,d=e.totalUploadedSize,p=e.totalSize,f=e.totalETA,h=e.startUpload,m=u&&a;if(!a||o)return null;var v=t(s?"paused":"uploading");return(0,D.h)("div",{className:"uppy-StatusBar-content","aria-label":v,title:v},s?null:(0,D.h)(P,null),(0,D.h)("div",{className:"uppy-StatusBar-status"},(0,D.h)("div",{className:"uppy-StatusBar-statusPrimary"},n?"".concat(v,": ").concat(r,"%"):v),s||m||!i?null:n?(0,D.h)(B,{numUploads:c,complete:l,totalUploadedSize:d,totalSize:p,totalETA:f,i18n:t}):(0,D.h)(R,{i18n:t,complete:l,numUploads:c}),m?(0,D.h)(N,{i18n:t,newFiles:u,startUpload:h}):null))}function L(e){var t=e.i18n;return(0,D.h)("div",{className:"uppy-StatusBar-content",role:"status",title:t("complete")},(0,D.h)("div",{className:"uppy-StatusBar-status"},(0,D.h)("div",{className:"uppy-StatusBar-statusPrimary"},(0,D.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"15",height:"11",viewBox:"0 0 15 11"},(0,D.h)("path",{d:"M.414 5.843L1.627 4.63l3.472 3.472L13.202 0l1.212 1.213L5.1 10.528z"})),t("complete"))))}function j(e){var t=e.error,n=e.i18n,r=e.complete,i=e.numUploads;return(0,D.h)("div",{className:"uppy-StatusBar-content",title:n("uploadFailed")},(0,D.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"11",height:"11",viewBox:"0 0 11 11"},(0,D.h)("path",{d:"M4.278 5.5L0 1.222 1.222 0 5.5 4.278 9.778 0 11 1.222 6.722 5.5 11 9.778 9.778 11 5.5 6.722 1.222 11 0 9.778z"})),(0,D.h)("div",{className:"uppy-StatusBar-status"},(0,D.h)("div",{className:"uppy-StatusBar-statusPrimary"},n("uploadFailed"),(0,D.h)("button",{className:"uppy-u-reset uppy-StatusBar-details","aria-label":n("showErrorDetails"),"data-microtip-position":"top-right","data-microtip-size":"medium",onClick:function(){var e="".concat(n("uploadFailed")," \n\n ").concat(t);alert(e)},type:"button"},"?")),(0,D.h)(R,{i18n:n,complete:r,numUploads:i})))}var U=m,z=v,V=g,q=y,H=b,W=w;function K(e){var t=e.newFiles,n=e.allowNewUpload,r=e.isUploadInProgress,i=e.isAllPaused,a=e.resumableUploads,o=e.error,s=e.hideUploadButton,u=e.hidePauseResumeButton,c=e.hideCancelButton,l=e.hideRetryButton,d=e.recoveredState,p=e.uploadState,f=e.totalProgress,h=e.files,m=e.supportsUploadProgress,v=e.hideAfterFinish,g=e.isSomeGhost,y=e.doneButtonHandler,b=e.isUploadStarted,w=e.i18n,k=e.startUpload,C=e.uppy,_=e.isAllComplete,P=e.showProgressDetails,B=e.numUploads,R=e.complete,N=e.totalSize,K=e.totalETA,$=e.totalUploadedSize;var G=function(){switch(p){case H:case V:var e=E(h);return"determinate"===e.mode?100*e.value:f;case U:return null;case q:return m?f:null;default:return f}}(),Q=function(){if(d)return!1;switch(p){case z:return s||0===t;case W:return v;default:return!1}}(),Y=null!=G?G:100,X=!o&&t&&!r&&!i&&n&&!s,Z=!c&&p!==z&&p!==W,J=a&&!u&&p===q,ee=o&&!_&&!l,te=y&&p===W,ne=A("uppy-StatusBar-progress",{"is-indeterminate":function(){switch(p){case H:case V:return"indeterminate"===E(h).mode;case q:return!m;default:return!1}}()}),re=A("uppy-StatusBar","is-".concat(p),{"has-ghosts":g});return(0,D.h)("div",{className:re,"aria-hidden":Q},(0,D.h)("div",{className:ne,style:{width:"".concat(Y,"%")},role:"progressbar","aria-label":"".concat(Y,"%"),"aria-valuetext":"".concat(Y,"%"),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":G}),function(){switch(p){case V:case H:return(0,D.h)(I,{progress:E(h)});case W:return(0,D.h)(L,{i18n:w});case U:return(0,D.h)(j,{error:o,i18n:w,numUploads:B,complete:R});case q:return(0,D.h)(M,{i18n:w,supportsUploadProgress:m,totalProgress:f,showProgressDetails:P,isUploadStarted:b,isAllComplete:_,isAllPaused:i,newFiles:t,numUploads:B,complete:R,totalUploadedSize:$,totalSize:N,totalETA:K,startUpload:k});default:return null}}(),(0,D.h)("div",{className:"uppy-StatusBar-actions"},d||X?(0,D.h)(x,{newFiles:t,isUploadStarted:b,recoveredState:d,i18n:w,isSomeGhost:g,startUpload:k,uploadState:p}):null,ee?(0,D.h)(S,{i18n:w,uppy:C}):null,J?(0,D.h)(F,{isAllPaused:i,i18n:w,isAllComplete:_,resumableUploads:a,uppy:C}):null,Z?(0,D.h)(T,{i18n:w,uppy:C}):null,te?(0,D.h)(O,{i18n:w,doneButtonHandler:y}):null))}K.defaultProps={doneButtonHandler:void 0,hideAfterFinish:!1,hideCancelButton:!1,hidePauseResumeButton:!1,hideRetryButton:!1,hideUploadButton:void 0,showProgressDetails:void 0};const $={strings:{uploading:"Uploading",complete:"Complete",uploadFailed:"Upload failed",paused:"Paused",retry:"Retry",cancel:"Cancel",pause:"Pause",resume:"Resume",done:"Done",filesUploadedOfTotal:{0:"%{complete} of %{smart_count} file uploaded",1:"%{complete} of %{smart_count} files uploaded"},dataUploadedOfTotal:"%{complete} of %{total}",xTimeLeft:"%{time} left",uploadXFiles:{0:"Upload %{smart_count} file",1:"Upload %{smart_count} files"},uploadXNewFiles:{0:"Upload +%{smart_count} file",1:"Upload +%{smart_count} files"},upload:"Upload",retryUpload:"Retry upload",xMoreFilesAdded:{0:"%{smart_count} more file added",1:"%{smart_count} more files added"},showErrorDetails:"Show error details"}};function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Y(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Y=function(){return!!e})()}function X(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var Z=0;function J(e){return"__private_"+Z+++"_"+e}function ee(e,t,n,r){if(e)return m;if(t)return w;if(n)return v;for(var i=v,a=Object.keys(r),o=0;o<a.length;o++){var s=r[a[o]].progress;if(s.uploadStarted&&!s.uploadComplete)return y;s.preprocess&&(i=g),s.postprocess&&i!==g&&(i=b)}return i}var te={target:"body",hideUploadButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideCancelButton:!1,showProgressDetails:!1,hideAfterFinish:!0,doneButtonHandler:null},ne=J("lastUpdateTime"),re=J("previousUploadedBytes"),ie=J("previousSpeed"),ae=J("previousETA"),oe=J("computeSmoothETA"),se=J("onUploadStart"),ue=function(e){function t(e,n){var r;return(0,i.A)(this,t),r=function(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,Y()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}(this,t,[e,Q(Q({},te),n)]),Object.defineProperty(r,oe,{value:ce}),Object.defineProperty(r,ne,{writable:!0,value:void 0}),Object.defineProperty(r,re,{writable:!0,value:void 0}),Object.defineProperty(r,ie,{writable:!0,value:void 0}),Object.defineProperty(r,ae,{writable:!0,value:void 0}),r.startUpload=function(){return r.uppy.upload().catch((function(){}))},Object.defineProperty(r,se,{writable:!0,value:function(){var e=r.uppy.getState().recoveredState;if(X(r,ie)[ie]=null,X(r,ae)[ae]=null,e)return X(r,re)[re]=Object.values(e.files).reduce((function(e,t){return e+t.progress.bytesUploaded}),0),void r.uppy.emit("restore-confirmed");X(r,ne)[ne]=performance.now(),X(r,re)[re]=0}}),r.id=r.opts.id||"StatusBar",r.title="StatusBar",r.type="progressindicator",r.defaultLocale=$,r.i18nInit(),r.render=r.render.bind(r),r.install=r.install.bind(r),r}return(0,u.A)(t,e),(0,a.A)(t,[{key:"render",value:function(e){var t=e.capabilities,n=e.files,r=e.allowNewUpload,i=e.totalProgress,a=e.error,o=e.recoveredState,s=this.uppy.getObjectOfFilesPerState(),u=s.newFiles,c=s.startedFiles,l=s.completeFiles,d=s.isUploadStarted,p=s.isAllComplete,f=s.isAllErrored,h=s.isAllPaused,m=s.isUploadInProgress,v=s.isSomeGhost,g=o?Object.values(n):u,y=!!t.resumableUploads,b=!1!==t.uploadProgress,w=0,D=0;c.forEach((function(e){w+=e.progress.bytesTotal||0,D+=e.progress.bytesUploaded||0}));var A=X(this,oe)[oe]({uploaded:D,total:w,remaining:w-D});return K({error:a,uploadState:ee(a,p,o,e.files||{}),allowNewUpload:r,totalProgress:i,totalSize:w,totalUploadedSize:D,isAllComplete:!1,isAllPaused:h,isAllErrored:f,isUploadStarted:d,isUploadInProgress:m,isSomeGhost:v,recoveredState:o,complete:l.length,newFiles:g.length,numUploads:c.length,totalETA:A,files:n,i18n:this.i18n,uppy:this.uppy,startUpload:this.startUpload,doneButtonHandler:this.opts.doneButtonHandler,resumableUploads:y,supportsUploadProgress:b,showProgressDetails:this.opts.showProgressDetails,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,hideCancelButton:this.opts.hideCancelButton,hideAfterFinish:this.opts.hideAfterFinish,isTargetDOMEl:this.isTargetDOMEl})}},{key:"onMount",value:function(){var e=this.el;(0,h.A)(e)||(e.dir="ltr")}},{key:"install",value:function(){var e=this.opts.target;e&&this.mount(e,this),this.uppy.on("upload",X(this,se)[se]),X(this,ne)[ne]=performance.now(),X(this,re)[re]=this.uppy.getFiles().reduce((function(e,t){return e+t.progress.bytesUploaded}),0)}},{key:"uninstall",value:function(){this.unmount(),this.uppy.off("upload",X(this,se)[se])}}])}(p.A);function ce(e){var t;if(0===e.total||0===e.remaining)return 0;null!=(t=X(this,ne))[ne]||(t[ne]=performance.now());var n,r=performance.now()-X(this,ne)[ne];if(0===r)return Math.round((null!=(n=X(this,ae)[ae])?n:0)/100)/10;var i,a=e.uploaded-X(this,re)[re];if(X(this,re)[re]=e.uploaded,a<=0)return Math.round((null!=(i=X(this,ae)[ae])?i:0)/100)/10;var o=a/r,s=null==X(this,ie)[ie]?o:f(o,X(this,ie)[ie],2e3,r);X(this,ie)[ie]=s;var u=e.remaining/s,c=Math.max(X(this,ae)[ae]-r,0),l=null==X(this,ae)[ae]?u:f(u,c,2e3,r);return X(this,ae)[ae]=l,X(this,ne)[ne]=performance.now(),Math.round(l/100)/10}function le(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(le=function(){return!!e})()}ue.VERSION="3.3.3";var de=function(e){function t(){var e;return(0,i.A)(this,t),e=function(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,le()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}(this,t,arguments),e.ref=(0,D._3)(),e}return(0,u.A)(t,e),(0,a.A)(t,[{key:"componentWillEnter",value:function(e){this.ref.current.style.opacity="1",this.ref.current.style.transform="none",setTimeout(e,300)}},{key:"componentWillLeave",value:function(e){this.ref.current.style.opacity="0",this.ref.current.style.transform="translateY(350%)",setTimeout(e,300)}},{key:"render",value:function(){var e=this.props.children;return(0,D.h)("div",{className:"uppy-Informer-animated",ref:this.ref},e)}}])}(D.uA),pe=n(80241),fe=n(35754),he=(n(54554),n(69085),n(5506),["childFactory","transitionLeave","transitionName","transitionAppear","transitionEnter","transitionLeaveTimeout","transitionEnterTimeout","transitionAppearTimeout","component"]);function me(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(me=function(){return!!e})()}function ve(e){for(var t,n,r,i={},a=0;a<e.length;a++){if(null!=e[a])i[(t=e[a],n=a.toString(36),r=void 0,null!=(r=null==t?void 0:t.key)?r:n)]=e[a]}return i}function ge(e,t){e=e||{},t=t||{};var n=function(n){return t.hasOwnProperty(n)?t[n]:e[n]},r={},i=[];for(var a in e)t.hasOwnProperty(a)?i.length&&(r[a]=i,i=[]):i.push(a);var o={};for(var s in t){if(r.hasOwnProperty(s))for(var u=0;u<r[s].length;u++){var c=r[s][u];o[r[s][u]]=n(c)}o[s]=n(s)}for(var l=0;l<i.length;l++)o[i[l]]=n(i[l]);return o}var ye=function(e){function t(e,n){var r;return(0,i.A)(this,t),r=function(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,me()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}(this,t,[e,n]),r.refs={},r.state={children:ve((0,D.v2)((0,D.v2)(r.props.children))||[])},r.performAppear=r.performAppear.bind(r),r.performEnter=r.performEnter.bind(r),r.performLeave=r.performLeave.bind(r),r}return(0,u.A)(t,e),(0,a.A)(t,[{key:"componentWillMount",value:function(){this.currentlyTransitioningKeys={},this.keysToAbortLeave=[],this.keysToEnter=[],this.keysToLeave=[]}},{key:"componentDidMount",value:function(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t)}},{key:"componentWillReceiveProps",value:function(e){var t,n=ve((0,D.v2)(e.children)||[]),r=this.state.children;for(t in this.setState((function(e){return{children:ge(e.children,n)}})),n)if(n.hasOwnProperty(t)){var i=r&&r.hasOwnProperty(t);n[t]&&i&&this.currentlyTransitioningKeys[t]?(this.keysToEnter.push(t),this.keysToAbortLeave.push(t)):!n[t]||i||this.currentlyTransitioningKeys[t]||this.keysToEnter.push(t)}for(t in r)if(r.hasOwnProperty(t)){var a=n&&n.hasOwnProperty(t);!r[t]||a||this.currentlyTransitioningKeys[t]||this.keysToLeave.push(t)}}},{key:"componentDidUpdate",value:function(){var e=this.keysToEnter;this.keysToEnter=[],e.forEach(this.performEnter);var t=this.keysToLeave;this.keysToLeave=[],t.forEach(this.performLeave)}},{key:"_finishAbort",value:function(e){var t=this.keysToAbortLeave.indexOf(e);-1!==t&&this.keysToAbortLeave.splice(t,1)}},{key:"performAppear",value:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];null!=t&&t.componentWillAppear?t.componentWillAppear(this._handleDoneAppearing.bind(this,e)):this._handleDoneAppearing(e)}},{key:"_handleDoneAppearing",value:function(e){var t=this.refs[e];null!=t&&t.componentDidAppear&&t.componentDidAppear(),delete this.currentlyTransitioningKeys[e],this._finishAbort(e);var n=ve((0,D.v2)(this.props.children)||[]);n&&n.hasOwnProperty(e)||this.performLeave(e)}},{key:"performEnter",value:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];null!=t&&t.componentWillEnter?t.componentWillEnter(this._handleDoneEntering.bind(this,e)):this._handleDoneEntering(e)}},{key:"_handleDoneEntering",value:function(e){var t=this.refs[e];null!=t&&t.componentDidEnter&&t.componentDidEnter(),delete this.currentlyTransitioningKeys[e],this._finishAbort(e);var n=ve((0,D.v2)(this.props.children)||[]);n&&n.hasOwnProperty(e)||this.performLeave(e)}},{key:"performLeave",value:function(e){if(-1===this.keysToAbortLeave.indexOf(e)){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];null!=t&&t.componentWillLeave?t.componentWillLeave(this._handleDoneLeaving.bind(this,e)):this._handleDoneLeaving(e)}}},{key:"_handleDoneLeaving",value:function(e){if(-1===this.keysToAbortLeave.indexOf(e)){var t=this.refs[e];null!=t&&t.componentDidLeave&&t.componentDidLeave(),delete this.currentlyTransitioningKeys[e];var n,r,i=ve((0,D.v2)(this.props.children)||[]);if(i&&i.hasOwnProperty(e))this.performEnter(e);else{var a=(n={},r=this.state.children,Object.assign(n,r));delete a[e],this.setState({children:a})}}}},{key:"render",value:function(e,t){var n=this,r=e.childFactory,i=(e.transitionLeave,e.transitionName,e.transitionAppear,e.transitionEnter,e.transitionLeaveTimeout,e.transitionEnterTimeout,e.transitionAppearTimeout,e.component),a=(0,fe.A)(e,he),o=t.children,s=Object.entries(o).map((function(e){var t=(0,pe.A)(e,2),i=t[0],a=t[1];if(a){var o=function(e,t){var n=e._ptgLinkedRefs||(e._ptgLinkedRefs={});return n[t]||(n[t]=function(n){e.refs[t]=n})}(n,i);return(0,D.Ob)(r(a),{ref:o,key:i})}})).filter(Boolean);return(0,D.h)(i,a,s)}}])}(D.uA);ye.defaultProps={component:"span",childFactory:function(e){return e}};const be=ye;function we(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(we=function(){return!!e})()}var De=function(e){function t(e,n){var r;return(0,i.A)(this,t),r=function(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,we()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}(this,t,[e,n]),r.render=function(e){return(0,D.h)("div",{className:"uppy uppy-Informer"},(0,D.h)(be,null,e.info.map((function(e){return(0,D.h)(de,{key:e.message},(0,D.h)("p",{role:"alert"},e.message," ",e.details&&(0,D.h)("span",{"aria-label":e.details,"data-microtip-position":"top-left","data-microtip-size":"medium",role:"tooltip",onClick:function(){return alert("".concat(e.message," \n\n ").concat(e.details))}},"?")))}))))},r.type="progressindicator",r.id=r.opts.id||"Informer",r.title="Informer",r}return(0,u.A)(t,e),(0,a.A)(t,[{key:"install",value:function(){var e=this.opts.target;e&&this.mount(e,this)}}])}(p.A);De.VERSION="3.1.0";n(11367),n(3296),n(27208),n(48408),n(54743),n(11745),n(38309),n(21489),n(48140),n(81630),n(72170),n(75044),n(69539),n(31694),n(89955),n(21903),n(91134),n(33206),n(44496),n(66651),n(12887),n(19369),n(66812),n(8995),n(31575),n(36072),n(88747),n(28845),n(29423),n(57301),n(373),n(86614),n(41405),n(33684),n(43250),n(10149),n(24082),n(2945),n(55815),n(64979),n(79739);var Ae=/^data:([^/]+\/[^,;]+(?:[^,]*?))(;base64)?,([\s\S]*)$/;const Ee=function(e,t,n){var r,i,a,o=Ae.exec(e),s=null!=(r=null!=(i=t.mimeType)?i:null==o?void 0:o[1])?r:"plain/text";if(null!=(null==o?void 0:o[2])){for(var u=atob(decodeURIComponent(o[3])),c=new Uint8Array(u.length),l=0;l<u.length;l++)c[l]=u.charCodeAt(l);a=[c]}else null!=(null==o?void 0:o[3])&&(a=[decodeURIComponent(o[3])]);return n?new File(a,t.name||"",{type:s}):new Blob(a,{type:s})};n(11392);function ke(e){return e.startsWith("blob:")}function Ce(e){return!!e&&/^[^/]+\/(jpe?g|gif|png|svg|svg\+xml|bmp|webp|avif)$/.test(e)}var _e=n(8498);function xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Se="undefined"!=typeof self?self:global;const Te="undefined"!=typeof navigator,Fe=Te&&"undefined"==typeof HTMLImageElement,Oe=!("undefined"==typeof global||void 0===_e||!_e.versions||!_e.versions.node),Pe=Se.Buffer,Ie=!!Pe,Be=e=>void 0!==e;function Re(e){return void 0===e||(e instanceof Map?0===e.size:0===Object.values(e).filter(Be).length)}function Ne(e){let t=new Error(e);throw delete t.stack,t}function Me(e){let t=function(e){let t=0;return e.ifd0.enabled&&(t+=1024),e.exif.enabled&&(t+=2048),e.makerNote&&(t+=2048),e.userComment&&(t+=1024),e.gps.enabled&&(t+=512),e.interop.enabled&&(t+=100),e.ifd1.enabled&&(t+=1024),t+2048}(e);return e.jfif.enabled&&(t+=50),e.xmp.enabled&&(t+=2e4),e.iptc.enabled&&(t+=14e3),e.icc.enabled&&(t+=6e3),t}const Le=e=>String.fromCharCode.apply(null,e),je="undefined"!=typeof TextDecoder?new TextDecoder("utf-8"):void 0;class Ue{static from(e,t){return e instanceof this&&e.le===t?e:new Ue(e,void 0,void 0,t)}constructor(e,t=0,n,r){if("boolean"==typeof r&&(this.le=r),Array.isArray(e)&&(e=new Uint8Array(e)),0===e)this.byteOffset=0,this.byteLength=0;else if(e instanceof ArrayBuffer){void 0===n&&(n=e.byteLength-t);let r=new DataView(e,t,n);this._swapDataView(r)}else if(e instanceof Uint8Array||e instanceof DataView||e instanceof Ue){void 0===n&&(n=e.byteLength-t),(t+=e.byteOffset)+n>e.byteOffset+e.byteLength&&Ne("Creating view outside of available memory in ArrayBuffer");let r=new DataView(e.buffer,t,n);this._swapDataView(r)}else if("number"==typeof e){let t=new DataView(new ArrayBuffer(e));this._swapDataView(t)}else Ne("Invalid input argument for BufferView: "+e)}_swapArrayBuffer(e){this._swapDataView(new DataView(e))}_swapBuffer(e){this._swapDataView(new DataView(e.buffer,e.byteOffset,e.byteLength))}_swapDataView(e){this.dataView=e,this.buffer=e.buffer,this.byteOffset=e.byteOffset,this.byteLength=e.byteLength}_lengthToEnd(e){return this.byteLength-e}set(e,t,n=Ue){return e instanceof DataView||e instanceof Ue?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer&&(e=new Uint8Array(e)),e instanceof Uint8Array||Ne("BufferView.set(): Invalid data argument."),this.toUint8().set(e,t),new n(this,t,e.byteLength)}subarray(e,t){return t=t||this._lengthToEnd(e),new Ue(this,e,t)}toUint8(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}getUint8Array(e,t){return new Uint8Array(this.buffer,this.byteOffset+e,t)}getString(e=0,t=this.byteLength){return n=this.getUint8Array(e,t),je?je.decode(n):Ie?Buffer.from(n).toString("utf8"):decodeURIComponent(escape(Le(n)));var n}getLatin1String(e=0,t=this.byteLength){let n=this.getUint8Array(e,t);return Le(n)}getUnicodeString(e=0,t=this.byteLength){const n=[];for(let r=0;r<t&&e+r<this.byteLength;r+=2)n.push(this.getUint16(e+r));return Le(n)}getInt8(e){return this.dataView.getInt8(e)}getUint8(e){return this.dataView.getUint8(e)}getInt16(e,t=this.le){return this.dataView.getInt16(e,t)}getInt32(e,t=this.le){return this.dataView.getInt32(e,t)}getUint16(e,t=this.le){return this.dataView.getUint16(e,t)}getUint32(e,t=this.le){return this.dataView.getUint32(e,t)}getFloat32(e,t=this.le){return this.dataView.getFloat32(e,t)}getFloat64(e,t=this.le){return this.dataView.getFloat64(e,t)}getFloat(e,t=this.le){return this.dataView.getFloat32(e,t)}getDouble(e,t=this.le){return this.dataView.getFloat64(e,t)}getUintBytes(e,t,n){switch(t){case 1:return this.getUint8(e,n);case 2:return this.getUint16(e,n);case 4:return this.getUint32(e,n);case 8:return this.getUint64&&this.getUint64(e,n)}}getUint(e,t,n){switch(t){case 8:return this.getUint8(e,n);case 16:return this.getUint16(e,n);case 32:return this.getUint32(e,n);case 64:return this.getUint64&&this.getUint64(e,n)}}toString(e){return this.dataView.toString(e,this.constructor.name)}ensureChunk(){}}function ze(e,t){Ne(`${e} '${t}' was not loaded, try using full build of exifr.`)}class Ve extends Map{constructor(e){super(),this.kind=e}get(e,t){return this.has(e)||ze(this.kind,e),t&&(e in t||function(e,t){Ne(`Unknown ${e} '${t}'.`)}(this.kind,e),t[e].enabled||ze(this.kind,e)),super.get(e)}keyList(){return Array.from(this.keys())}}var qe=new Ve("file parser"),He=new Ve("segment parser"),We=new Ve("file reader");let Ke=Se.fetch;function $e(e,t){return(n=e).startsWith("data:")||n.length>1e4?Qe(e,t,"base64"):Oe&&e.includes("://")?Ge(e,t,"url",Ye):Oe?Qe(e,t,"fs"):Te?Ge(e,t,"url",Ye):void Ne("Invalid input argument");var n}async function Ge(e,t,n,r){return We.has(n)?Qe(e,t,n):r?async function(e,t){let n=await t(e);return new Ue(n)}(e,r):void Ne(`Parser ${n} is not loaded`)}async function Qe(e,t,n){let r=new(We.get(n))(e,t);return await r.read(),r}const Ye=e=>Ke(e).then((e=>e.arrayBuffer())),Xe=e=>new Promise(((t,n)=>{let r=new FileReader;r.onloadend=()=>t(r.result||new ArrayBuffer),r.onerror=n,r.readAsArrayBuffer(e)}));class Ze extends Map{get tagKeys(){return this.allKeys||(this.allKeys=Array.from(this.keys())),this.allKeys}get tagValues(){return this.allValues||(this.allValues=Array.from(this.values())),this.allValues}}function Je(e,t,n){let r=new Ze;for(let[e,t]of n)r.set(e,t);if(Array.isArray(t))for(let n of t)e.set(n,r);else e.set(t,r);return r}function et(e,t,n){let r,i=e.get(t);for(r of n)i.set(r[0],r[1])}const tt=new Map,nt=new Map,rt=new Map,it=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],at=["jfif","xmp","icc","iptc","ihdr"],ot=["tiff",...at],st=["ifd0","ifd1","exif","gps","interop"],ut=[...ot,...st],ct=["makerNote","userComment"],lt=["translateKeys","translateValues","reviveValues","multiSegment"],dt=[...lt,"sanitize","mergeOutput","silentErrors"];class pt{get translate(){return this.translateKeys||this.translateValues||this.reviveValues}}class ft extends pt{get needed(){return this.enabled||this.deps.size>0}constructor(e,t,n,r){if(super(),xe(this,"enabled",!1),xe(this,"skip",new Set),xe(this,"pick",new Set),xe(this,"deps",new Set),xe(this,"translateKeys",!1),xe(this,"translateValues",!1),xe(this,"reviveValues",!1),this.key=e,this.enabled=t,this.parse=this.enabled,this.applyInheritables(r),this.canBeFiltered=st.includes(e),this.canBeFiltered&&(this.dict=tt.get(e)),void 0!==n)if(Array.isArray(n))this.parse=this.enabled=!0,this.canBeFiltered&&n.length>0&&this.translateTagSet(n,this.pick);else if("object"==typeof n){if(this.enabled=!0,this.parse=!1!==n.parse,this.canBeFiltered){let{pick:e,skip:t}=n;e&&e.length>0&&this.translateTagSet(e,this.pick),t&&t.length>0&&this.translateTagSet(t,this.skip)}this.applyInheritables(n)}else!0===n||!1===n?this.parse=this.enabled=n:Ne(`Invalid options argument: ${n}`)}applyInheritables(e){let t,n;for(t of lt)n=e[t],void 0!==n&&(this[t]=n)}translateTagSet(e,t){if(this.dict){let n,r,{tagKeys:i,tagValues:a}=this.dict;for(n of e)"string"==typeof n?(r=a.indexOf(n),-1===r&&(r=i.indexOf(Number(n))),-1!==r&&t.add(Number(i[r]))):t.add(n)}else for(let n of e)t.add(n)}finalizeFilters(){!this.enabled&&this.deps.size>0?(this.enabled=!0,bt(this.pick,this.deps)):this.enabled&&this.pick.size>0&&bt(this.pick,this.deps)}}var ht={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},mt=new Map;class vt extends pt{static useCached(e){let t=mt.get(e);return void 0!==t||(t=new this(e),mt.set(e,t)),t}constructor(e){super(),!0===e?this.setupFromTrue():void 0===e?this.setupFromUndefined():Array.isArray(e)?this.setupFromArray(e):"object"==typeof e?this.setupFromObject(e):Ne(`Invalid options argument ${e}`),void 0===this.firstChunkSize&&(this.firstChunkSize=Te?this.firstChunkSizeBrowser:this.firstChunkSizeNode),this.mergeOutput&&(this.ifd1.enabled=!1),this.filterNestedSegmentTags(),this.traverseTiffDependencyTree(),this.checkLoadedPlugins()}setupFromUndefined(){let e;for(e of it)this[e]=ht[e];for(e of dt)this[e]=ht[e];for(e of ct)this[e]=ht[e];for(e of ut)this[e]=new ft(e,ht[e],void 0,this)}setupFromTrue(){let e;for(e of it)this[e]=ht[e];for(e of dt)this[e]=ht[e];for(e of ct)this[e]=!0;for(e of ut)this[e]=new ft(e,!0,void 0,this)}setupFromArray(e){let t;for(t of it)this[t]=ht[t];for(t of dt)this[t]=ht[t];for(t of ct)this[t]=ht[t];for(t of ut)this[t]=new ft(t,!1,void 0,this);this.setupGlobalFilters(e,void 0,st)}setupFromObject(e){let t;for(t of(st.ifd0=st.ifd0||st.image,st.ifd1=st.ifd1||st.thumbnail,Object.assign(this,e),it))this[t]=yt(e[t],ht[t]);for(t of dt)this[t]=yt(e[t],ht[t]);for(t of ct)this[t]=yt(e[t],ht[t]);for(t of ot)this[t]=new ft(t,ht[t],e[t],this);for(t of st)this[t]=new ft(t,ht[t],e[t],this.tiff);this.setupGlobalFilters(e.pick,e.skip,st,ut),!0===e.tiff?this.batchEnableWithBool(st,!0):!1===e.tiff?this.batchEnableWithUserValue(st,e):Array.isArray(e.tiff)?this.setupGlobalFilters(e.tiff,void 0,st):"object"==typeof e.tiff&&this.setupGlobalFilters(e.tiff.pick,e.tiff.skip,st)}batchEnableWithBool(e,t){for(let n of e)this[n].enabled=t}batchEnableWithUserValue(e,t){for(let n of e){let e=t[n];this[n].enabled=!1!==e&&void 0!==e}}setupGlobalFilters(e,t,n,r=n){if(e&&e.length){for(let e of r)this[e].enabled=!1;let t=gt(e,n);for(let[e,n]of t)bt(this[e].pick,n),this[e].enabled=!0}else if(t&&t.length){let e=gt(t,n);for(let[t,n]of e)bt(this[t].skip,n)}}filterNestedSegmentTags(){let{ifd0:e,exif:t,xmp:n,iptc:r,icc:i}=this;this.makerNote?t.deps.add(37500):t.skip.add(37500),this.userComment?t.deps.add(37510):t.skip.add(37510),n.enabled||e.skip.add(700),r.enabled||e.skip.add(33723),i.enabled||e.skip.add(34675)}traverseTiffDependencyTree(){let{ifd0:e,exif:t,gps:n,interop:r}=this;r.needed&&(t.deps.add(40965),e.deps.add(40965)),t.needed&&e.deps.add(34665),n.needed&&e.deps.add(34853),this.tiff.enabled=st.some((e=>!0===this[e].enabled))||this.makerNote||this.userComment;for(let e of st)this[e].finalizeFilters()}get onlyTiff(){return!at.map((e=>this[e].enabled)).some((e=>!0===e))&&this.tiff.enabled}checkLoadedPlugins(){for(let e of ot)this[e].enabled&&!He.has(e)&&ze("segment parser",e)}}function gt(e,t){let n,r,i,a,o=[];for(i of t){for(a of(n=tt.get(i),r=[],n))(e.includes(a[0])||e.includes(a[1]))&&r.push(a[0]);r.length&&o.push([i,r])}return o}function yt(e,t){return void 0!==e?e:void 0!==t?t:void 0}function bt(e,t){for(let n of t)e.add(n)}xe(vt,"default",ht);class wt{constructor(e){xe(this,"parsers",{}),xe(this,"output",{}),xe(this,"errors",[]),xe(this,"pushToErrors",(e=>this.errors.push(e))),this.options=vt.useCached(e)}async read(e){this.file=await function(e,t){return"string"==typeof e?$e(e,t):Te&&!Fe&&e instanceof HTMLImageElement?$e(e.src,t):e instanceof Uint8Array||e instanceof ArrayBuffer||e instanceof DataView?new Ue(e):Te&&e instanceof Blob?Ge(e,t,"blob",Xe):void Ne("Invalid input argument")}(e,this.options)}setup(){if(this.fileParser)return;let{file:e}=this,t=e.getUint16(0);for(let[n,r]of qe)if(r.canHandle(e,t))return this.fileParser=new r(this.options,this.file,this.parsers),e[n]=!0;this.file.close&&this.file.close(),Ne("Unknown file format")}async parse(){let{output:e,errors:t}=this;return this.setup(),this.options.silentErrors?(await this.executeParsers().catch(this.pushToErrors),t.push(...this.fileParser.errors)):await this.executeParsers(),this.file.close&&this.file.close(),this.options.silentErrors&&t.length>0&&(e.errors=t),Re(n=e)?void 0:n;var n}async executeParsers(){let{output:e}=this;await this.fileParser.parse();let t=Object.values(this.parsers).map((async t=>{let n=await t.parse();t.assignToOutput(e,n)}));this.options.silentErrors&&(t=t.map((e=>e.catch(this.pushToErrors)))),await Promise.all(t)}async extractThumbnail(){this.setup();let{options:e,file:t}=this,n=He.get("tiff",e);var r;if(t.tiff?r={start:0,type:"tiff"}:t.jpeg&&(r=await this.fileParser.getOrFindSegment("tiff")),void 0===r)return;let i=await this.fileParser.ensureSegmentChunk(r),a=this.parsers.tiff=new n(i,e,t),o=await a.extractThumbnail();return t.close&&t.close(),o}}async function Dt(e,t){let n=new wt(t);return await n.read(e),n.parse()}var At=Object.freeze({__proto__:null,parse:Dt,Exifr:wt,fileParsers:qe,segmentParsers:He,fileReaders:We,tagKeys:tt,tagValues:nt,tagRevivers:rt,createDictionary:Je,extendDictionary:et,fetchUrlAsArrayBuffer:Ye,readBlobAsArrayBuffer:Xe,chunkedProps:it,otherSegments:at,segments:ot,tiffBlocks:st,segmentsAndBlocks:ut,tiffExtractables:ct,inheritables:lt,allFormatters:dt,Options:vt});class Et{static findPosition(e,t){let n=e.getUint16(t+2)+2,r="function"==typeof this.headerLength?this.headerLength(e,t,n):this.headerLength,i=t+r,a=n-r;return{offset:t,length:n,headerLength:r,start:i,size:a,end:i+a}}static parse(e,t={}){return new this(e,new vt({[this.type]:t}),e).parse()}normalizeInput(e){return e instanceof Ue?e:new Ue(e)}constructor(e,t={},n){xe(this,"errors",[]),xe(this,"raw",new Map),xe(this,"handleError",(e=>{if(!this.options.silentErrors)throw e;this.errors.push(e.message)})),this.chunk=this.normalizeInput(e),this.file=n,this.type=this.constructor.type,this.globalOptions=this.options=t,this.localOptions=t[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}translate(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}get output(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}translateBlock(e,t){let n=rt.get(t),r=nt.get(t),i=tt.get(t),a=this.options[t],o=a.reviveValues&&!!n,s=a.translateValues&&!!r,u=a.translateKeys&&!!i,c={};for(let[t,a]of e)o&&n.has(t)?a=n.get(t)(a):s&&r.has(t)&&(a=this.translateValue(a,r.get(t))),u&&i.has(t)&&(t=i.get(t)||t),c[t]=a;return c}translateValue(e,t){return t[e]||t.DEFAULT||e}assignToOutput(e,t){this.assignObjectToOutput(e,this.constructor.type,t)}assignObjectToOutput(e,t,n){if(this.globalOptions.mergeOutput)return Object.assign(e,n);e[t]?Object.assign(e[t],n):e[t]=n}}function kt(e){return 192===e||194===e||196===e||219===e||221===e||218===e||254===e}function Ct(e){return e>=224&&e<=239}function _t(e,t,n){for(let[r,i]of He)if(i.canHandle(e,t,n))return r}xe(Et,"headerLength",4),xe(Et,"type",void 0),xe(Et,"multiSegment",!1),xe(Et,"canHandle",(()=>!1));class xt extends class{constructor(e,t,n){xe(this,"errors",[]),xe(this,"ensureSegmentChunk",(async e=>{let t=e.start,n=e.size||65536;if(this.file.chunked)if(this.file.available(t,n))e.chunk=this.file.subarray(t,n);else try{e.chunk=await this.file.readChunk(t,n)}catch(t){Ne(`Couldn't read segment: ${JSON.stringify(e)}. ${t.message}`)}else this.file.byteLength>t+n?e.chunk=this.file.subarray(t,n):void 0===e.size?e.chunk=this.file.subarray(t):Ne("Segment unreachable: "+JSON.stringify(e));return e.chunk})),this.extendOptions&&this.extendOptions(e),this.options=e,this.file=t,this.parsers=n}injectSegment(e,t){this.options[e].enabled&&this.createParser(e,t)}createParser(e,t){let n=new(He.get(e))(t,this.options,this.file);return this.parsers[e]=n}createParsers(e){for(let t of e){let{type:e,chunk:n}=t,r=this.options[e];if(r&&r.enabled){let t=this.parsers[e];t&&t.append||t||this.createParser(e,n)}}}async readSegments(e){let t=e.map(this.ensureSegmentChunk);await Promise.all(t)}}{constructor(...e){super(...e),xe(this,"appSegments",[]),xe(this,"jpegSegments",[]),xe(this,"unknownSegments",[])}static canHandle(e,t){return 65496===t}async parse(){await this.findAppSegments(),await this.readSegments(this.appSegments),this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments)}setupSegmentFinderArgs(e){!0===e?(this.findAll=!0,this.wanted=new Set(He.keyList())):(e=void 0===e?He.keyList().filter((e=>this.options[e].enabled)):e.filter((e=>this.options[e].enabled&&He.has(e))),this.findAll=!1,this.remaining=new Set(e),this.wanted=new Set(e)),this.unfinishedMultiSegment=!1}async findAppSegments(e=0,t){this.setupSegmentFinderArgs(t);let{file:n,findAll:r,wanted:i,remaining:a}=this;if(!r&&this.file.chunked&&(r=Array.from(i).some((e=>{let t=He.get(e),n=this.options[e];return t.multiSegment&&n.multiSegment})),r&&await this.file.readWhole()),e=this.findAppSegmentsInRange(e,n.byteLength),!this.options.onlyTiff&&n.chunked){let t=!1;for(;a.size>0&&!t&&(n.canReadNextChunk||this.unfinishedMultiSegment);){let{nextChunkOffset:r}=n,i=this.appSegments.some((e=>!this.file.available(e.offset||e.start,e.length||e.size)));if(t=e>r&&!i?!(await n.readNextChunk(e)):!(await n.readNextChunk(r)),void 0===(e=this.findAppSegmentsInRange(e,n.byteLength)))return}}}findAppSegmentsInRange(e,t){t-=2;let n,r,i,a,o,s,{file:u,findAll:c,wanted:l,remaining:d,options:p}=this;for(;e<t;e++)if(255===u.getUint8(e))if(n=u.getUint8(e+1),Ct(n)){if(r=u.getUint16(e+2),i=_t(u,e,r),i&&l.has(i)&&(a=He.get(i),o=a.findPosition(u,e),s=p[i],o.type=i,this.appSegments.push(o),!c&&(a.multiSegment&&s.multiSegment?(this.unfinishedMultiSegment=o.chunkNumber<o.chunkCount,this.unfinishedMultiSegment||d.delete(i)):d.delete(i),0===d.size)))break;p.recordUnknownSegments&&(o=Et.findPosition(u,e),o.marker=n,this.unknownSegments.push(o)),e+=r+1}else if(kt(n)){if(r=u.getUint16(e+2),218===n&&!1!==p.stopAfterSos)return;p.recordJpegSegments&&this.jpegSegments.push({offset:e,length:r,marker:n}),e+=r+1}return e}mergeMultiSegments(){if(!this.appSegments.some((e=>e.multiSegment)))return;let e=function(e){let t,n,r,i=new Map;for(let a=0;a<e.length;a++)t=e[a],n=t.type,i.has(n)?r=i.get(n):i.set(n,r=[]),r.push(t);return Array.from(i)}(this.appSegments);this.mergedAppSegments=e.map((([e,t])=>{let n=He.get(e,this.options);return n.handleMultiSegments?{type:e,chunk:n.handleMultiSegments(t)}:t[0]}))}getSegment(e){return this.appSegments.find((t=>t.type===e))}async getOrFindSegment(e){let t=this.getSegment(e);return void 0===t&&(await this.findAppSegments(0,[e]),t=this.getSegment(e)),t}}xe(xt,"type","jpeg"),qe.set("jpeg",xt);const St=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4];class Tt extends Et{parseHeader(){var e=this.chunk.getUint16();18761===e?this.le=!0:19789===e&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}parseTags(e,t,n=new Map){let{pick:r,skip:i}=this.options[t];r=new Set(r);let a=r.size>0,o=0===i.size,s=this.chunk.getUint16(e);e+=2;for(let u=0;u<s;u++){let s=this.chunk.getUint16(e);if(a){if(r.has(s)&&(n.set(s,this.parseTag(e,s,t)),r.delete(s),0===r.size))break}else!o&&i.has(s)||n.set(s,this.parseTag(e,s,t));e+=12}return n}parseTag(e,t,n){let{chunk:r}=this,i=r.getUint16(e+2),a=r.getUint32(e+4),o=St[i];if(o*a<=4?e+=8:e=r.getUint32(e+8),(i<1||i>13)&&Ne(`Invalid TIFF value type. block: ${n.toUpperCase()}, tag: ${t.toString(16)}, type: ${i}, offset ${e}`),e>r.byteLength&&Ne(`Invalid TIFF value offset. block: ${n.toUpperCase()}, tag: ${t.toString(16)}, type: ${i}, offset ${e} is outside of chunk size ${r.byteLength}`),1===i)return r.getUint8Array(e,a);if(2===i)return""===(s=function(e){for(;e.endsWith("\0");)e=e.slice(0,-1);return e}(s=r.getString(e,a)).trim())?void 0:s;var s;if(7===i)return r.getUint8Array(e,a);if(1===a)return this.parseTagValue(i,e);{let t=new(function(e){switch(e){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:case 10:default:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 11:return Float32Array;case 12:return Float64Array}}(i))(a),n=o;for(let r=0;r<a;r++)t[r]=this.parseTagValue(i,e),e+=n;return t}}parseTagValue(e,t){let{chunk:n}=this;switch(e){case 1:return n.getUint8(t);case 3:return n.getUint16(t);case 4:case 13:return n.getUint32(t);case 5:return n.getUint32(t)/n.getUint32(t+4);case 6:return n.getInt8(t);case 8:return n.getInt16(t);case 9:return n.getInt32(t);case 10:return n.getInt32(t)/n.getInt32(t+4);case 11:return n.getFloat(t);case 12:return n.getDouble(t);default:Ne(`Invalid tiff type ${e}`)}}}class Ft extends Tt{static canHandle(e,t){return 225===e.getUint8(t+1)&&1165519206===e.getUint32(t+4)&&0===e.getUint16(t+8)}async parse(){this.parseHeader();let{options:e}=this;return e.ifd0.enabled&&await this.parseIfd0Block(),e.exif.enabled&&await this.safeParse("parseExifBlock"),e.gps.enabled&&await this.safeParse("parseGpsBlock"),e.interop.enabled&&await this.safeParse("parseInteropBlock"),e.ifd1.enabled&&await this.safeParse("parseThumbnailBlock"),this.createOutput()}safeParse(e){let t=this[e]();return void 0!==t.catch&&(t=t.catch(this.handleError)),t}findIfd0Offset(){void 0===this.ifd0Offset&&(this.ifd0Offset=this.chunk.getUint32(4))}findIfd1Offset(){if(void 0===this.ifd1Offset){this.findIfd0Offset();let e=this.chunk.getUint16(this.ifd0Offset),t=this.ifd0Offset+2+12*e;this.ifd1Offset=this.chunk.getUint32(t)}}parseBlock(e,t){let n=new Map;return this[t]=n,this.parseTags(e,t,n),n}async parseIfd0Block(){if(this.ifd0)return;let{file:e}=this;this.findIfd0Offset(),this.ifd0Offset<8&&Ne("Malformed EXIF data"),!e.chunked&&this.ifd0Offset>e.byteLength&&Ne(`IFD0 offset points to outside of file.\nthis.ifd0Offset: ${this.ifd0Offset}, file.byteLength: ${e.byteLength}`),e.tiff&&await e.ensureChunk(this.ifd0Offset,Me(this.options));let t=this.parseBlock(this.ifd0Offset,"ifd0");return 0!==t.size?(this.exifOffset=t.get(34665),this.interopOffset=t.get(40965),this.gpsOffset=t.get(34853),this.xmp=t.get(700),this.iptc=t.get(33723),this.icc=t.get(34675),this.options.sanitize&&(t.delete(34665),t.delete(40965),t.delete(34853),t.delete(700),t.delete(33723),t.delete(34675)),t):void 0}async parseExifBlock(){if(this.exif)return;if(this.ifd0||await this.parseIfd0Block(),void 0===this.exifOffset)return;this.file.tiff&&await this.file.ensureChunk(this.exifOffset,Me(this.options));let e=this.parseBlock(this.exifOffset,"exif");return this.interopOffset||(this.interopOffset=e.get(40965)),this.makerNote=e.get(37500),this.userComment=e.get(37510),this.options.sanitize&&(e.delete(40965),e.delete(37500),e.delete(37510)),this.unpack(e,41728),this.unpack(e,41729),e}unpack(e,t){let n=e.get(t);n&&1===n.length&&e.set(t,n[0])}async parseGpsBlock(){if(this.gps)return;if(this.ifd0||await this.parseIfd0Block(),void 0===this.gpsOffset)return;let e=this.parseBlock(this.gpsOffset,"gps");return e&&e.has(2)&&e.has(4)&&(e.set("latitude",Ot(...e.get(2),e.get(1))),e.set("longitude",Ot(...e.get(4),e.get(3)))),e}async parseInteropBlock(){if(!this.interop&&(this.ifd0||await this.parseIfd0Block(),void 0!==this.interopOffset||this.exif||await this.parseExifBlock(),void 0!==this.interopOffset))return this.parseBlock(this.interopOffset,"interop")}async parseThumbnailBlock(e=!1){if(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||e))return this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,"ifd1"),this.ifd1Parsed=!0),this.ifd1}async extractThumbnail(){if(this.headerParsed||this.parseHeader(),this.ifd1Parsed||await this.parseThumbnailBlock(!0),void 0===this.ifd1)return;let e=this.ifd1.get(513),t=this.ifd1.get(514);return this.chunk.getUint8Array(e,t)}get image(){return this.ifd0}get thumbnail(){return this.ifd1}createOutput(){let e,t,n,r={};for(t of st)if(e=this[t],!Re(e))if(n=this.canTranslate?this.translateBlock(e,t):Object.fromEntries(e),this.options.mergeOutput){if("ifd1"===t)continue;Object.assign(r,n)}else r[t]=n;return this.makerNote&&(r.makerNote=this.makerNote),this.userComment&&(r.userComment=this.userComment),r}assignToOutput(e,t){if(this.globalOptions.mergeOutput)Object.assign(e,t);else for(let[n,r]of Object.entries(t))this.assignObjectToOutput(e,n,r)}}function Ot(e,t,n,r){var i=e+t/60+n/3600;return"S"!==r&&"W"!==r||(i*=-1),i}xe(Ft,"type","tiff"),xe(Ft,"headerLength",10),He.set("tiff",Ft);Object.freeze({__proto__:null,default:At,Exifr:wt,fileParsers:qe,segmentParsers:He,fileReaders:We,tagKeys:tt,tagValues:nt,tagRevivers:rt,createDictionary:Je,extendDictionary:et,fetchUrlAsArrayBuffer:Ye,readBlobAsArrayBuffer:Xe,chunkedProps:it,otherSegments:at,segments:ot,tiffBlocks:st,segmentsAndBlocks:ut,tiffExtractables:ct,inheritables:lt,allFormatters:dt,Options:vt,parse:Dt});const Pt={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1};Object.assign({},Pt,{firstChunkSize:4e4,gps:[1,2,3,4]});Object.assign({},Pt,{tiff:!1,ifd1:!0,mergeOutput:!1});const It=Object.assign({},Pt,{firstChunkSize:4e4,ifd0:[274]});const Bt=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}});let Rt=!0,Nt=!0;if("object"==typeof navigator){let e=navigator.userAgent;if(e.includes("iPad")||e.includes("iPhone")){let t=e.match(/OS (\d+)_(\d+)/);if(t){let[,e,n]=t,r=Number(e)+.1*Number(n);Rt=r<13.4,Nt=!1}}else if(e.includes("OS X 10")){let[,t]=e.match(/OS X 10[_.](\d+)/);Rt=Nt=Number(t)<15}if(e.includes("Chrome/")){let[,t]=e.match(/Chrome\/(\d+)/);Rt=Nt=Number(t)<81}else if(e.includes("Firefox/")){let[,t]=e.match(/Firefox\/(\d+)/);Rt=Nt=Number(t)<77}}async function Mt(e){let t=await async function(e){let t=new wt(It);await t.read(e);let n=await t.parse();if(n&&n.ifd0)return n.ifd0[274]}(e);return Object.assign({canvas:Rt,css:Nt},Bt[t])}class Lt extends Ue{constructor(...e){super(...e),xe(this,"ranges",new jt),0!==this.byteLength&&this.ranges.add(0,this.byteLength)}_tryExtend(e,t,n){if(0===e&&0===this.byteLength&&n){let e=new DataView(n.buffer||n,n.byteOffset,n.byteLength);this._swapDataView(e)}else{let n=e+t;if(n>this.byteLength){let{dataView:e}=this._extend(n);this._swapDataView(e)}}}_extend(e){let t;t=Ie?Pe.allocUnsafe(e):new Uint8Array(e);let n=new DataView(t.buffer,t.byteOffset,t.byteLength);return t.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:t,dataView:n}}subarray(e,t,n=!1){return t=t||this._lengthToEnd(e),n&&this._tryExtend(e,t),this.ranges.add(e,t),super.subarray(e,t)}set(e,t,n=!1){n&&this._tryExtend(t,e.byteLength,e);let r=super.set(e,t);return this.ranges.add(t,r.byteLength),r}async ensureChunk(e,t){this.chunked&&(this.ranges.available(e,t)||await this.readChunk(e,t))}available(e,t){return this.ranges.available(e,t)}}class jt{constructor(){xe(this,"list",[])}get length(){return this.list.length}add(e,t,n=0){let r=e+t,i=this.list.filter((t=>Ut(e,t.offset,r)||Ut(e,t.end,r)));if(i.length>0){e=Math.min(e,...i.map((e=>e.offset))),r=Math.max(r,...i.map((e=>e.end))),t=r-e;let n=i.shift();n.offset=e,n.length=t,n.end=r,this.list=this.list.filter((e=>!i.includes(e)))}else this.list.push({offset:e,length:t,end:r})}available(e,t){let n=e+t;return this.list.some((t=>t.offset<=e&&n<=t.end))}}function Ut(e,t,n){return e<=t&&t<=n}class zt extends Lt{constructor(e,t){super(0),xe(this,"chunksRead",0),this.input=e,this.options=t}async readWhole(){this.chunked=!1,await this.readChunk(this.nextChunkOffset)}async readChunked(){this.chunked=!0,await this.readChunk(0,this.options.firstChunkSize)}async readNextChunk(e=this.nextChunkOffset){if(this.fullyRead)return this.chunksRead++,!1;let t=this.options.chunkSize,n=await this.readChunk(e,t);return!!n&&n.byteLength===t}async readChunk(e,t){if(this.chunksRead++,0!==(t=this.safeWrapAddress(e,t)))return this._readChunk(e,t)}safeWrapAddress(e,t){return void 0!==this.size&&e+t>this.size?Math.max(0,this.size-e):t}get nextChunkOffset(){if(0!==this.ranges.list.length)return this.ranges.list[0].length}get canReadNextChunk(){return this.chunksRead<this.options.chunkLimit}get fullyRead(){return void 0!==this.size&&this.nextChunkOffset===this.size}read(){return this.options.chunked?this.readChunked():this.readWhole()}close(){}}We.set("blob",class extends zt{async readWhole(){this.chunked=!1;let e=await Xe(this.input);this._swapArrayBuffer(e)}readChunked(){return this.chunked=!0,this.size=this.input.size,super.readChunked()}async _readChunk(e,t){let n=t?e+t:void 0,r=this.input.slice(e,n),i=await Xe(r);return this.set(i,e,!0)}});const Vt={strings:{generatingThumbnails:"Generating thumbnails..."}};function qt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ht(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qt(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Wt=function(){return!!e})()}var Kt={thumbnailWidth:null,thumbnailHeight:null,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,lazy:!1},$t=function(e){function t(e,n){var r;if((0,i.A)(this,t),r=function(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,Wt()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}(this,t,[e,Ht(Ht({},Kt),n)]),r.onFileAdded=function(e){!e.preview&&e.data&&Ce(e.type)&&!e.isRemote&&r.addToQueue(e.id)},r.onCancelRequest=function(e){var t=r.queue.indexOf(e.id);-1!==t&&r.queue.splice(t,1)},r.onFileRemoved=function(e){var t=r.queue.indexOf(e.id);-1!==t&&r.queue.splice(t,1),e.preview&&ke(e.preview)&&URL.revokeObjectURL(e.preview)},r.onRestored=function(){r.uppy.getFiles().filter((function(e){return e.isRestored})).forEach((function(e){e.preview&&!ke(e.preview)||r.addToQueue(e.id)}))},r.onAllFilesRemoved=function(){r.queue=[]},r.waitUntilAllProcessed=function(e){e.forEach((function(e){var t=r.uppy.getFile(e);r.uppy.emit("preprocess-progress",t,{mode:"indeterminate",message:r.i18n("generatingThumbnails")})}));var t=function(){e.forEach((function(e){var t=r.uppy.getFile(e);r.uppy.emit("preprocess-complete",t)}))};return new Promise((function(e){r.queueProcessing?r.uppy.once("thumbnail:all-generated",(function(){t(),e()})):(t(),e())}))},r.type="modifier",r.id=r.opts.id||"ThumbnailGenerator",r.title="Thumbnail Generator",r.queue=[],r.queueProcessing=!1,r.defaultThumbnailDimension=200,r.thumbnailType=r.opts.thumbnailType,r.defaultLocale=Vt,r.i18nInit(),r.opts.lazy&&r.opts.waitForThumbnailsBeforeUpload)throw new Error("ThumbnailGenerator: The `lazy` and `waitForThumbnailsBeforeUpload` options are mutually exclusive. Please ensure at most one of them is set to `true`.");return r}return(0,u.A)(t,e),(0,a.A)(t,[{key:"createThumbnail",value:function(e,t,n){var r=this,i=URL.createObjectURL(e.data),a=new Promise((function(e,t){var n=new Image;n.src=i,n.addEventListener("load",(function(){URL.revokeObjectURL(i),e(n)})),n.addEventListener("error",(function(e){URL.revokeObjectURL(i),t(e.error||new Error("Could not create thumbnail"))}))})),o=Mt(e.data).catch((function(){return 1}));return Promise.all([a,o]).then((function(e){var i=(0,pe.A)(e,2),a=i[0],o=i[1],s=r.getProportionalDimensions(a,t,n,o.deg),u=function(e,t){var n=e.width,r=e.height;90!==t.deg&&270!==t.deg||(n=e.height,r=e.width);var i=document.createElement("canvas");i.width=n,i.height=r;var a=i.getContext("2d");return a.translate(n/2,r/2),t.canvas&&(a.rotate(t.rad),a.scale(t.scaleX,t.scaleY)),a.drawImage(e,-e.width/2,-e.height/2,e.width,e.height),i}(a,o);return function(e,t,n){try{e.getContext("2d").getImageData(0,0,1,1)}catch(e){if(18===e.code)return Promise.reject(new Error("cannot read image, probably an svg with external resources"))}return e.toBlob?new Promise((function(r){e.toBlob(r,t,n)})).then((function(e){if(null===e)throw new Error("cannot read image, probably an svg with external resources");return e})):Promise.resolve().then((function(){return Ee(e.toDataURL(t,n),{})})).then((function(e){if(null===e)throw new Error("could not extract blob, probably an old browser");return e}))}(r.resizeImage(u,s.width,s.height),r.thumbnailType,80)})).then((function(e){return URL.createObjectURL(e)}))}},{key:"getProportionalDimensions",value:function(e,t,n,r){var i=e.width/e.height;return 90!==r&&270!==r||(i=e.height/e.width),null!=t?{width:t,height:Math.round(t/i)}:null!=n?{width:Math.round(n*i),height:n}:{width:this.defaultThumbnailDimension,height:Math.round(this.defaultThumbnailDimension/i)}}},{key:"resizeImage",value:function(e,t,n){var r=function(e){var t=e.width/e.height,n=5e6,r=4096,i=Math.floor(Math.sqrt(n*t)),a=Math.floor(n/Math.sqrt(n*t));if(i>r&&(i=r,a=Math.round(i/t)),a>r&&(a=r,i=Math.round(t*a)),e.width>i){var o=document.createElement("canvas");return o.width=i,o.height=a,o.getContext("2d").drawImage(e,0,0,i,a),o}return e}(e),i=Math.ceil(Math.log2(r.width/t));i<1&&(i=1);for(var a=t*Math.pow(2,i-1),o=n*Math.pow(2,i-1);i--;){var s=document.createElement("canvas");s.width=a,s.height=o,s.getContext("2d").drawImage(r,0,0,a,o),r=s,a=Math.round(a/2),o=Math.round(o/2)}return r}},{key:"setPreviewURL",value:function(e,t){this.uppy.setFileState(e,{preview:t})}},{key:"addToQueue",value:function(e){this.queue.push(e),!1===this.queueProcessing&&this.processQueue()}},{key:"processQueue",value:function(){var e=this;if(this.queueProcessing=!0,this.queue.length>0){var t=this.uppy.getFile(this.queue.shift());return t?this.requestThumbnail(t).catch((function(){})).then((function(){return e.processQueue()})):(this.uppy.log("[ThumbnailGenerator] file was removed before a thumbnail could be generated, but not removed from the queue. This is probably a bug","error"),Promise.resolve())}return this.queueProcessing=!1,this.uppy.log("[ThumbnailGenerator] Emptied thumbnail queue"),this.uppy.emit("thumbnail:all-generated"),Promise.resolve()}},{key:"requestThumbnail",value:function(e){var t=this;return Ce(e.type)&&!e.isRemote?this.createThumbnail(e,this.opts.thumbnailWidth,this.opts.thumbnailHeight).then((function(n){t.setPreviewURL(e.id,n),t.uppy.log("[ThumbnailGenerator] Generated thumbnail for ".concat(e.id)),t.uppy.emit("thumbnail:generated",t.uppy.getFile(e.id),n)})).catch((function(n){t.uppy.log("[ThumbnailGenerator] Failed thumbnail for ".concat(e.id,":"),"warning"),t.uppy.log(n,"warning"),t.uppy.emit("thumbnail:error",t.uppy.getFile(e.id),n)})):Promise.resolve()}},{key:"install",value:function(){this.uppy.on("file-removed",this.onFileRemoved),this.uppy.on("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("thumbnail:cancel",this.onCancelRequest)):(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("file-added",this.onFileAdded),this.uppy.on("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.addPreProcessor(this.waitUntilAllProcessed)}},{key:"uninstall",value:function(){this.uppy.off("file-removed",this.onFileRemoved),this.uppy.off("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("thumbnail:cancel",this.onCancelRequest)):(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("file-added",this.onFileAdded),this.uppy.off("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.removePreProcessor(this.waitUntilAllProcessed)}}])}(p.A);$t.VERSION="3.1.0";var Gt=n(18180),Qt=n(10826);const Yt=function(e){if("string"==typeof e){var t=document.querySelectorAll(e);return 0===t.length?null:Array.from(t)}return"object"===(0,Gt.A)(e)&&(0,Qt.A)(e)?[e]:null},Xt=Array.from;n(66412);var Zt=n(71392),Jt=n(40178),en=n(87167),tn=n(46983);n(122);function nn(e,t,n,r){var i=r.onSuccess;e.readEntries((function(r){var a=[].concat((0,tn.A)(t),(0,tn.A)(r));r.length?queueMicrotask((function(){nn(e,a,n,{onSuccess:i})})):i(a)}),(function(e){n(e),i(t)}))}function rn(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return an(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?an(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function an(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function on(e){var t,n,r,i=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);i--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new sn(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function sn(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return sn=function(e){this.s=e,this.n=e.next},sn.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},"return":function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},"throw":function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new sn(e)}function un(e,t){return null==e?e:{kind:e.isFile?"file":e.isDirectory?"directory":void 0,name:e.name,getFile:function(){return new Promise((function(t,n){return e.file(t,n)}))},values:function(){return(0,Zt.A)(d.mark((function n(){var r,i;return d.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.createReader(),n.next=3,(0,Jt.A)(new Promise((function(e){nn(r,[],t,{onSuccess:function(n){return e(n.map((function(e){return un(e,t)})))}})})));case 3:return i=n.sent,n.delegateYield((0,en.A)(on(i),Jt.A),"t0",5);case 5:case"end":return n.stop()}}),n)})))()},isSameEntry:void 0}}function cn(e,t,n){try{return void 0===n&&(n=void 0),(0,Zt.A)(d.mark((function r(){var i,a,o,s,u,c,l,p;return d.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=function(){return"".concat(t,"/").concat(e.name)},"file"!==e.kind){r.next=17;break}return r.next=4,(0,Jt.A)(e.getFile());case 4:if(null==(a=r.sent)){r.next=12;break}return a.relativePath=t?i():null,r.next=10,a;case 10:r.next=15;break;case 12:if(null==n){r.next=15;break}return r.next=15,n;case 15:r.next=51;break;case 17:if("directory"!==e.kind){r.next=48;break}o=!1,s=!1,r.prev=20,c=on(e.values());case 22:return r.next=24,(0,Jt.A)(c.next());case 24:if(!(o=!(l=r.sent).done)){r.next=30;break}return p=l.value,r.delegateYield((0,en.A)(on(cn(p,t?i():e.name)),Jt.A),"t0",27);case 27:o=!1,r.next=22;break;case 30:r.next=36;break;case 32:r.prev=32,r.t1=r.catch(20),s=!0,u=r.t1;case 36:if(r.prev=36,r.prev=37,!o||null==c.return){r.next=41;break}return r.next=41,(0,Jt.A)(c.return());case 41:if(r.prev=41,!s){r.next=44;break}throw u;case 44:return r.finish(41);case 45:return r.finish(36);case 46:r.next=51;break;case 48:if(null==n){r.next=51;break}return r.next=51,n;case 51:case"end":return r.stop()}}),r,null,[[20,32,36,46],[37,,41,45]])})))()}catch(e){return Promise.reject(e)}}function ln(e,t){return dn.apply(this,arguments)}function dn(){return dn=(0,Zt.A)(d.mark((function e(t,n){var r,i,a,o,s,u;return d.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Jt.A)(Promise.all(Array.from(t.items,function(){var e=(0,l.A)(d.mark((function e(t){var r,i;return d.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=function(){return"function"==typeof t.getAsEntry?t.getAsEntry():t.webkitGetAsEntry()},null!=r||(r=un(i(),n)),e.abrupt("return",{fileSystemHandle:r,lastResortFile:t.getAsFile()});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())));case 2:r=e.sent,i=rn(r),e.prev=4,i.s();case 6:if((a=i.n()).done){e.next=28;break}if(o=a.value,s=o.lastResortFile,null==(u=o.fileSystemHandle)){e.next=23;break}return e.prev=9,e.delegateYield((0,en.A)(on(cn(u,"",s)),Jt.A),"t0",11);case 11:e.next=21;break;case 13:if(e.prev=13,e.t1=e.catch(9),null==s){e.next=20;break}return e.next=18,s;case 18:e.next=21;break;case 20:n(e.t1);case 21:e.next=26;break;case 23:if(null==s){e.next=26;break}return e.next=26,s;case 26:e.next=6;break;case 28:e.next=33;break;case 30:e.prev=30,e.t2=e.catch(4),i.e(e.t2);case 33:return e.prev=33,i.f(),e.finish(33);case 36:case"end":return e.stop()}}),e,null,[[4,30,33,36],[9,13]])}))),dn.apply(this,arguments)}function pn(e){var t=Xt(e.files);return Promise.resolve(t)}function fn(e){var t,n,r,i=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);i--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new hn(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function hn(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return hn=function(e){this.s=e,this.n=e.next},hn.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},"return":function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},"throw":function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new hn(e)}function mn(e,t){return vn.apply(this,arguments)}function vn(){return(vn=(0,l.A)(d.mark((function e(t,n){var r,i,a,o,s,u,c,l,p;return d.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=null!=(r=null==n?void 0:n.logDropError)?r:Function.prototype,e.prev=1,a=[],o=!1,s=!1,e.prev=5,c=fn(ln(t,i));case 7:return e.next=9,c.next();case 9:if(!(o=!(l=e.sent).done)){e.next=15;break}p=l.value,a.push(p);case 12:o=!1,e.next=7;break;case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(5),s=!0,u=e.t0;case 21:if(e.prev=21,e.prev=22,!o||null==c.return){e.next=26;break}return e.next=26,c.return();case 26:if(e.prev=26,!s){e.next=29;break}throw u;case 29:return e.finish(26);case 30:return e.finish(21);case 31:return e.abrupt("return",a);case 34:return e.prev=34,e.t1=e.catch(1),e.abrupt("return",pn(t));case 37:case"end":return e.stop()}}),e,null,[[1,34],[5,17,21,31],[22,,26,30]])})))).apply(this,arguments)}n(48980),n(48598),n(25440);var gn=n(81700),yn=(n(59089),n(2892),n(25428),n(73772),n(30958),n(85661));n(5914);function bn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wn(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,Dn()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}function Dn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Dn=function(){return!!e})()}var An=function(e){function t(e){var n;return(0,i.A)(this,t),(n=wn(this,t,[e])).name="TimeoutError",n}return(0,u.A)(t,e),(0,a.A)(t)}((0,gn.A)(Error)),En=function(e){function t(e){var n;return(0,i.A)(this,t),(n=wn(this,t)).name="AbortError",n.message=e,n}return(0,u.A)(t,e),(0,a.A)(t)}((0,gn.A)(Error)),kn=function(e){return void 0===globalThis.DOMException?new En(e):new DOMException(e)},Cn=function(e){var t=void 0===e.reason?kn("This operation was aborted."):e.reason;return t instanceof Error?t:kn(t)};function _n(e,t,n,i){var a,o=new Promise((function(o,s){if("number"!=typeof t||1!==Math.sign(t))throw new TypeError("Expected `milliseconds` to be a positive number, got `".concat(t,"`"));if(t!==Number.POSITIVE_INFINITY){if(i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bn(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({customTimers:{setTimeout,clearTimeout}},i),i.signal){var u=i.signal;u.aborted&&s(Cn(u)),u.addEventListener("abort",(function(){s(Cn(u))}))}a=i.customTimers.setTimeout.call(void 0,(function(){if("function"!=typeof n){var r="string"==typeof n?n:"Promise timed out after ".concat(t," milliseconds"),i=n instanceof Error?n:new An(r);"function"==typeof e.cancel&&e.cancel(),s(i)}else try{o(n())}catch(e){s(e)}}),t),(0,l.A)(d.mark((function t(){return d.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.t0=o,t.next=4,e;case 4:t.t1=t.sent,(0,t.t0)(t.t1),t.next=11;break;case 8:t.prev=8,t.t2=t.catch(0),s(t.t2);case 11:return t.prev=11,i.customTimers.clearTimeout.call(void 0,a),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])})))()}else o(e)}));return o.clear=function(){clearTimeout(a),a=void 0},o}n(70761);function xn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Sn,Tn=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},Fn=function(){return(0,a.A)((function e(){(0,i.A)(this,e),Sn.set(this,[])}),[{key:"enqueue",value:function(e,t){t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xn(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({priority:0},t);var n={priority:t.priority,run:e};if(this.size&&Tn(this,Sn,"f")[this.size-1].priority>=t.priority)Tn(this,Sn,"f").push(n);else{var i=function(e,t,n){for(var r=0,i=e.length;i>0;){var a=Math.trunc(i/2),o=r+a;n(e[o],t)<=0?(r=++o,i-=a+1):i=a}return r}(Tn(this,Sn,"f"),n,(function(e,t){return t.priority-e.priority}));Tn(this,Sn,"f").splice(i,0,n)}}},{key:"dequeue",value:function(){var e=Tn(this,Sn,"f").shift();return null==e?void 0:e.run}},{key:"filter",value:function(e){return Tn(this,Sn,"f").filter((function(t){return t.priority===e.priority})).map((function(e){return e.run}))}},{key:"size",get:function(){return Tn(this,Sn,"f").length}}])}();Sn=new WeakMap;const On=Fn;function Pn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function In(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pn(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bn(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,Rn()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}function Rn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Rn=function(){return!!e})()}var Nn,Mn,Ln,jn,Un,zn,Vn,qn,Hn,Wn,Kn,$n,Gn,Qn,Yn,Xn,Zn,Jn,er,tr,nr,rr,ir,ar,or,sr,ur=function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},cr=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},lr=function(e){function t(){return(0,i.A)(this,t),Bn(this,t,arguments)}return(0,u.A)(t,e),(0,a.A)(t)}((0,gn.A)(Error)),dr=function(e){function t(e){var n,r,a,o,s;if((0,i.A)(this,t),n=Bn(this,t),Nn.add(n),Mn.set(n,void 0),Ln.set(n,void 0),jn.set(n,0),Un.set(n,void 0),zn.set(n,void 0),Vn.set(n,0),qn.set(n,void 0),Hn.set(n,void 0),Wn.set(n,void 0),Kn.set(n,void 0),$n.set(n,0),Gn.set(n,void 0),Qn.set(n,void 0),Yn.set(n,void 0),Object.defineProperty(n,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!("number"==typeof(e=In({carryoverConcurrencyCount:!1,intervalCap:Number.POSITIVE_INFINITY,interval:0,concurrency:Number.POSITIVE_INFINITY,autoStart:!0,queueClass:On},e)).intervalCap&&e.intervalCap>=1))throw new TypeError("Expected `intervalCap` to be a number from 1 and up, got `".concat(null!==(a=null===(r=e.intervalCap)||void 0===r?void 0:r.toString())&&void 0!==a?a:"","` (").concat((0,Gt.A)(e.intervalCap),")"));if(void 0===e.interval||!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError("Expected `interval` to be a finite number >= 0, got `".concat(null!==(s=null===(o=e.interval)||void 0===o?void 0:o.toString())&&void 0!==s?s:"","` (").concat((0,Gt.A)(e.interval),")"));return ur(n,Mn,e.carryoverConcurrencyCount,"f"),ur(n,Ln,e.intervalCap===Number.POSITIVE_INFINITY||0===e.interval,"f"),ur(n,Un,e.intervalCap,"f"),ur(n,zn,e.interval,"f"),ur(n,Wn,new e.queueClass,"f"),ur(n,Kn,e.queueClass,"f"),n.concurrency=e.concurrency,n.timeout=e.timeout,ur(n,Yn,!0===e.throwOnTimeout,"f"),ur(n,Qn,!1===e.autoStart,"f"),n}return(0,u.A)(t,e),(0,a.A)(t,[{key:"concurrency",get:function(){return cr(this,Gn,"f")},set:function(e){if(!("number"==typeof e&&e>=1))throw new TypeError("Expected `concurrency` to be a number from 1 and up, got `".concat(e,"` (").concat((0,Gt.A)(e),")"));ur(this,Gn,e,"f"),cr(this,Nn,"m",ar).call(this)}},{key:"add",value:(c=(0,l.A)(d.mark((function e(t){var n,r=this,i=arguments;return d.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},n=In({timeout:this.timeout,throwOnTimeout:cr(this,Yn,"f")},n),e.abrupt("return",new Promise((function(e,i){cr(r,Wn,"f").enqueue((0,l.A)(d.mark((function a(){var o,s,u,c,l;return d.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(ur(r,$n,(s=cr(r,$n,"f"),++s),"f"),ur(r,jn,(u=cr(r,jn,"f"),++u),"f"),a.prev=2,!(null===(o=n.signal)||void 0===o?void 0:o.aborted)){a.next=5;break}throw new lr("The task was aborted.");case 5:return c=t({signal:n.signal}),n.timeout&&(c=_n(Promise.resolve(c),n.timeout)),n.signal&&(c=Promise.race([c,cr(r,Nn,"m",or).call(r,n.signal)])),a.next=10,c;case 10:l=a.sent,e(l),r.emit("completed",l),a.next=22;break;case 15:if(a.prev=15,a.t0=a.catch(2),!(a.t0 instanceof An)||n.throwOnTimeout){a.next=20;break}return e(),a.abrupt("return");case 20:i(a.t0),r.emit("error",a.t0);case 22:return a.prev=22,cr(r,Nn,"m",Jn).call(r),a.finish(22);case 25:case"end":return a.stop()}}),a,null,[[2,15,22,25]])}))),n),r.emit("add"),cr(r,Nn,"m",nr).call(r)})));case 3:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"addAll",value:(s=(0,l.A)(d.mark((function e(t,n){var r=this;return d.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t.map(function(){var e=(0,l.A)(d.mark((function e(t){return d.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.add(t,n));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())));case 1:case"end":return e.stop()}}),e)}))),function(e,t){return s.apply(this,arguments)})},{key:"start",value:function(){return cr(this,Qn,"f")?(ur(this,Qn,!1,"f"),cr(this,Nn,"m",ar).call(this),this):this}},{key:"pause",value:function(){ur(this,Qn,!0,"f")}},{key:"clear",value:function(){ur(this,Wn,new(cr(this,Kn,"f")),"f")}},{key:"onEmpty",value:(o=(0,l.A)(d.mark((function e(){return d.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==cr(this,Wn,"f").size){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,cr(this,Nn,"m",sr).call(this,"empty");case 4:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"onSizeLessThan",value:(r=(0,l.A)(d.mark((function e(t){var n=this;return d.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(cr(this,Wn,"f").size<t)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,cr(this,Nn,"m",sr).call(this,"next",(function(){return cr(n,Wn,"f").size<t}));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"onIdle",value:(n=(0,l.A)(d.mark((function e(){return d.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==cr(this,$n,"f")||0!==cr(this,Wn,"f").size){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,cr(this,Nn,"m",sr).call(this,"idle");case 4:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"size",get:function(){return cr(this,Wn,"f").size}},{key:"sizeBy",value:function(e){return cr(this,Wn,"f").filter(e).length}},{key:"pending",get:function(){return cr(this,$n,"f")}},{key:"isPaused",get:function(){return cr(this,Qn,"f")}}]);var n,r,o,s,c}(yn);Mn=new WeakMap,Ln=new WeakMap,jn=new WeakMap,Un=new WeakMap,zn=new WeakMap,Vn=new WeakMap,qn=new WeakMap,Hn=new WeakMap,Wn=new WeakMap,Kn=new WeakMap,$n=new WeakMap,Gn=new WeakMap,Qn=new WeakMap,Yn=new WeakMap,Nn=new WeakSet,Xn=function(){return cr(this,Ln,"f")||cr(this,jn,"f")<cr(this,Un,"f")},Zn=function(){return cr(this,$n,"f")<cr(this,Gn,"f")},Jn=function(){var e;ur(this,$n,(e=cr(this,$n,"f"),--e),"f"),cr(this,Nn,"m",nr).call(this),this.emit("next")},er=function(){cr(this,Nn,"m",ir).call(this),cr(this,Nn,"m",rr).call(this),ur(this,Hn,void 0,"f")},tr=function(){var e=this,t=Date.now();if(void 0===cr(this,qn,"f")){var n=cr(this,Vn,"f")-t;if(!(n<0))return void 0===cr(this,Hn,"f")&&ur(this,Hn,setTimeout((function(){cr(e,Nn,"m",er).call(e)}),n),"f"),!0;ur(this,jn,cr(this,Mn,"f")?cr(this,$n,"f"):0,"f")}return!1},nr=function(){if(0===cr(this,Wn,"f").size)return cr(this,qn,"f")&&clearInterval(cr(this,qn,"f")),ur(this,qn,void 0,"f"),this.emit("empty"),0===cr(this,$n,"f")&&this.emit("idle"),!1;if(!cr(this,Qn,"f")){var e=!cr(this,Nn,"a",tr);if(cr(this,Nn,"a",Xn)&&cr(this,Nn,"a",Zn)){var t=cr(this,Wn,"f").dequeue();return!!t&&(this.emit("active"),t(),e&&cr(this,Nn,"m",rr).call(this),!0)}}return!1},rr=function(){var e=this;cr(this,Ln,"f")||void 0!==cr(this,qn,"f")||(ur(this,qn,setInterval((function(){cr(e,Nn,"m",ir).call(e)}),cr(this,zn,"f")),"f"),ur(this,Vn,Date.now()+cr(this,zn,"f"),"f"))},ir=function(){0===cr(this,jn,"f")&&0===cr(this,$n,"f")&&cr(this,qn,"f")&&(clearInterval(cr(this,qn,"f")),ur(this,qn,void 0,"f")),ur(this,jn,cr(this,Mn,"f")?cr(this,$n,"f"):0,"f"),cr(this,Nn,"m",ar).call(this)},ar=function(){for(;cr(this,Nn,"m",nr).call(this););},or=function(){var e=(0,l.A)(d.mark((function e(t){return d.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){t.addEventListener("abort",(function(){n(new lr("The task was aborted."))}),{once:!0})})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),sr=function(){var e=(0,l.A)(d.mark((function e(t,n){var r=this;return d.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var i=function(){n&&!n()||(r.off(t,i),e())};r.on(t,i)})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();const pr=dr;var fr,hr,mr,vr,gr=n(21214),yr=(n(88431),n(48718),n(23215),0),br=[],wr=D.fF,Dr=wr.__b,Ar=wr.__r,Er=wr.diffed,kr=wr.__c,Cr=wr.unmount,_r=wr.__;function xr(e,t){wr.__h&&wr.__h(hr,e,yr||t),yr=0;var n=hr.__H||(hr.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function Sr(e){return yr=1,function(e,t,n){var r=xr(fr++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):Lr(void 0,t),function(e){var t=r.__N?r.__N[0]:r.__[0],n=r.t(t,e);t!==n&&(r.__N=[n,r.__[1]],r.__c.setState({}))}],r.__c=hr,!hr.__f)){var i=function(e,t,n){if(!r.__c.__H)return!0;var i=r.__c.__H.__.filter((function(e){return!!e.__c}));if(i.every((function(e){return!e.__N})))return!a||a.call(this,e,t,n);var o=r.__c.props!==e;return i.forEach((function(e){if(e.__N){var t=e.__[0];e.__=e.__N,e.__N=void 0,t!==e.__[0]&&(o=!0)}})),a&&a.call(this,e,t,n)||o};hr.__f=!0;var a=hr.shouldComponentUpdate,o=hr.componentWillUpdate;hr.componentWillUpdate=function(e,t,n){if(this.__e){var r=a;a=void 0,i(e,t,n),a=r}o&&o.call(this,e,t,n)},hr.shouldComponentUpdate=i}return r.__N||r.__}(Lr,e)}function Tr(e,t){var n=xr(fr++,3);!wr.__s&&Mr(n.__H,t)&&(n.__=e,n.u=t,hr.__H.__h.push(n))}function Fr(e,t){var n=xr(fr++,7);return Mr(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function Or(e,t){return yr=8,Fr((function(){return e}),t)}function Pr(){for(var e;e=br.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Rr),e.__H.__h.forEach(Nr),e.__H.__h=[]}catch(t){e.__H.__h=[],wr.__e(t,e.__v)}}wr.__b=function(e){hr=null,Dr&&Dr(e)},wr.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),_r&&_r(e,t)},wr.__r=function(e){Ar&&Ar(e),fr=0;var t=(hr=e.__c).__H;t&&(mr===hr?(t.__h=[],hr.__h=[],t.__.forEach((function(e){e.__N&&(e.__=e.__N),e.u=e.__N=void 0}))):(t.__h.forEach(Rr),t.__h.forEach(Nr),t.__h=[],fr=0)),mr=hr},wr.diffed=function(e){Er&&Er(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==br.push(t)&&vr===wr.requestAnimationFrame||((vr=wr.requestAnimationFrame)||Br)(Pr)),t.__H.__.forEach((function(e){e.u&&(e.__H=e.u),e.u=void 0}))),mr=hr=null},wr.__c=function(e,t){t.some((function(e){try{e.__h.forEach(Rr),e.__h=e.__h.filter((function(e){return!e.__||Nr(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],wr.__e(n,e.__v)}})),kr&&kr(e,t)},wr.unmount=function(e){Cr&&Cr(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach((function(e){try{Rr(e)}catch(e){t=e}})),n.__H=void 0,t&&wr.__e(t,n.__v))};var Ir="function"==typeof requestAnimationFrame;function Br(e){var t,n=function(){clearTimeout(r),Ir&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);Ir&&(t=requestAnimationFrame(n))}function Rr(e){var t=hr,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),hr=t}function Nr(e){var t=hr;e.__c=e.__(),hr=t}function Mr(e,t){return!e||e.length!==t.length||t.some((function(t,n){return t!==e[n]}))}function Lr(e,t){return"function"==typeof t?t(e):t}function jr(){return(0,D.h)("svg",{width:"26",height:"26",viewBox:"0 0 26 26",xmlns:"http://www.w3.org/2000/svg"},(0,D.h)("g",{fill:"none","fill-rule":"evenodd"},(0,D.h)("circle",{fill:"#FFF",cx:"13",cy:"13",r:"13"}),(0,D.h)("path",{d:"M21.64 13.205c0-.639-.057-1.252-.164-1.841H13v3.481h4.844a4.14 4.14 0 01-1.796 2.716v2.259h2.908c1.702-1.567 2.684-3.875 2.684-6.615z",fill:"#4285F4","fill-rule":"nonzero"}),(0,D.h)("path",{d:"M13 22c2.43 0 4.467-.806 5.956-2.18l-2.908-2.259c-.806.54-1.837.86-3.048.86-2.344 0-4.328-1.584-5.036-3.711H4.957v2.332A8.997 8.997 0 0013 22z",fill:"#34A853","fill-rule":"nonzero"}),(0,D.h)("path",{d:"M7.964 14.71A5.41 5.41 0 017.682 13c0-.593.102-1.17.282-1.71V8.958H4.957A8.996 8.996 0 004 13c0 1.452.348 2.827.957 4.042l3.007-2.332z",fill:"#FBBC05","fill-rule":"nonzero"}),(0,D.h)("path",{d:"M13 7.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C17.463 4.891 15.426 4 13 4a8.997 8.997 0 00-8.043 4.958l3.007 2.332C8.672 9.163 10.656 7.58 13 7.58z",fill:"#EA4335","fill-rule":"nonzero"}),(0,D.h)("path",{d:"M4 4h18v18H4z"})))}function Ur(e){var t=e.pluginName,n=e.i18n,r=e.onAuth,i="Google Drive"===t,a=Or((function(e){e.preventDefault(),r()}),[r]);return(0,D.h)("form",{onSubmit:a},i?(0,D.h)("button",{type:"submit",className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Provider-authBtn uppy-Provider-btn-google","data-uppy-super-focusable":!0},(0,D.h)(jr,null),n("signInWithGoogle")):(0,D.h)("button",{type:"submit",className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Provider-authBtn","data-uppy-super-focusable":!0},n("authenticateWith",{pluginName:t})))}var zr=function(e){var t=e.pluginName,n=e.i18n,r=e.onAuth;return(0,D.h)(Ur,{pluginName:t,i18n:n,onAuth:r})};function Vr(e){var t=e.loading,n=e.pluginName,r=e.pluginIcon,i=e.i18n,a=e.handleAuth,o=e.renderForm,s=void 0===o?zr:o;return(0,D.h)("div",{className:"uppy-Provider-auth"},(0,D.h)("div",{className:"uppy-Provider-authIcon"},r()),(0,D.h)("div",{className:"uppy-Provider-authTitle"},i("authenticateWithTitle",{pluginName:n})),(0,D.h)("div",{className:"uppy-Provider-authForm"},s({pluginName:n,i18n:i,loading:t,onAuth:a})))}function qr(e){var t=e.i18n,n=e.logout,r=e.username;return(0,D.h)(D.FK,null,(0,D.h)("span",{className:"uppy-ProviderBrowser-user",key:"username"},r),(0,D.h)("button",{type:"button",onClick:n,className:"uppy-u-reset uppy-c-btn uppy-ProviderBrowser-userLogout",key:"logout"},t("logOut")))}var Hr=function(e){var t=e.getFolder,n=e.title,r=e.isLast;return(0,D.h)(D.FK,null,(0,D.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn",onClick:t},n),r?"":" / ")};function Wr(e){var t=e.getFolder,n=e.title,r=e.breadcrumbsIcon,i=e.breadcrumbs;return(0,D.h)("div",{className:"uppy-Provider-breadcrumbs"},(0,D.h)("div",{className:"uppy-Provider-breadcrumbsIcon"},r),i.map((function(e,r){return(0,D.h)(Hr,{key:e.id,getFolder:function(){return t(e.requestPath,e.name)},title:0===r?n:e.name,isLast:r+1===i.length})})))}function Kr(e){return(0,D.h)(D.FK,null,e.showBreadcrumbs&&(0,D.h)(Wr,{getFolder:e.getFolder,breadcrumbs:e.breadcrumbs,breadcrumbsIcon:e.pluginIcon&&e.pluginIcon(),title:e.title}),(0,D.h)(qr,{logout:e.logout,username:e.username,i18n:e.i18n}))}n(5746);var $r=n(77943);function Gr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gr(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Yr(e){return Qr(Qr({},e),{},{type:e.mimeType,extension:e.name?(0,$r.A)(e.name).extension:null})}var Xr=["data","rowHeight","renderRow","overscanCount"];function Zr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zr(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ei(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ei=function(){return!!e})()}function ti(){return ti=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ti.apply(this,arguments)}var ni={position:"relative",width:"100%",minHeight:"100%"},ri={position:"absolute",top:0,left:0,width:"100%",overflow:"visible"},ii=function(e){function t(e){var n;return(0,i.A)(this,t),n=function(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,ei()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}(this,t,[e]),n.handleScroll=function(){n.setState({offset:n.base.scrollTop})},n.handleResize=function(){n.resize()},n.focusElement=null,n.state={offset:0,height:0},n}return(0,u.A)(t,e),(0,a.A)(t,[{key:"componentDidMount",value:function(){this.resize(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUpdate",value:function(){this.base.contains(document.activeElement)&&(this.focusElement=document.activeElement)}},{key:"componentDidUpdate",value:function(){this.focusElement&&this.focusElement.parentNode&&document.activeElement!==this.focusElement&&this.focusElement.focus(),this.focusElement=null,this.resize()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize)}},{key:"resize",value:function(){this.state.height!==this.base.offsetHeight&&this.setState({height:this.base.offsetHeight})}},{key:"render",value:function(e){var t=e.data,n=e.rowHeight,r=e.renderRow,i=e.overscanCount,a=void 0===i?10:i,o=(0,fe.A)(e,Xr),s=this.state,u=s.offset,c=s.height,l=Math.floor(u/n),d=Math.floor(c/n);a&&(l=Math.max(0,l-l%a),d+=a);var p=l+d+4,f=t.slice(l,p),h=Jr(Jr({},ni),{},{height:t.length*n}),m=Jr(Jr({},ri),{},{top:l*n});return(0,D.h)("div",ti({onScroll:this.handleScroll},o),(0,D.h)("div",{role:"presentation",style:h},(0,D.h)("div",{role:"presentation",style:m},f.map(r))))}}])}(D.uA);const ai=ii;var oi=n(51391);function si(e){var t=e.search,n=e.searchOnInput,r=e.searchTerm,i=e.showButton,a=e.inputLabel,o=e.clearSearchLabel,s=e.buttonLabel,u=e.clearSearch,c=e.inputClassName,l=e.buttonCSSClassName,d=Sr(null!=r?r:""),p=(0,pe.A)(d,2),f=p[0],h=p[1],m=Or((function(e){e.preventDefault(),t(f)}),[t,f]),v=Or((function(e){var r=e.target.value;h(r),n&&t(r)}),[h,n,t]),g=Sr((function(){var e=document.createElement("form");return e.setAttribute("tabindex","-1"),e.id=(0,oi.A)(),e})),y=(0,pe.A)(g,1)[0];return Tr((function(){return document.body.appendChild(y),y.addEventListener("submit",m),function(){y.removeEventListener("submit",m),document.body.removeChild(y)}}),[y,m]),(0,D.h)(D.FK,null,(0,D.h)("input",{className:"uppy-u-reset ".concat(c),type:"search","aria-label":a,placeholder:a,value:f,onInput:v,form:y.id,"data-uppy-super-focusable":!0}),!i&&(0,D.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-ProviderBrowser-searchFilterIcon",width:"12",height:"12",viewBox:"0 0 12 12"},(0,D.h)("path",{d:"M8.638 7.99l3.172 3.172a.492.492 0 1 1-.697.697L7.91 8.656a4.977 4.977 0 0 1-2.983.983C2.206 9.639 0 7.481 0 4.819 0 2.158 2.206 0 4.927 0c2.721 0 4.927 2.158 4.927 4.82a4.74 4.74 0 0 1-1.216 3.17zm-3.71.685c2.176 0 3.94-1.726 3.94-3.856 0-2.129-1.764-3.855-3.94-3.855C2.75.964.984 2.69.984 4.819c0 2.13 1.765 3.856 3.942 3.856z"})),!i&&f&&(0,D.h)("button",{className:"uppy-u-reset uppy-ProviderBrowser-searchFilterReset",type:"button","aria-label":o,title:o,onClick:function(){h(""),u&&u()}},(0,D.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",viewBox:"0 0 19 19"},(0,D.h)("path",{d:"M17.318 17.232L9.94 9.854 9.586 9.5l-.354.354-7.378 7.378h.707l-.62-.62v.706L9.318 9.94l.354-.354-.354-.354L1.94 1.854v.707l.62-.62h-.706l7.378 7.378.354.354.354-.354 7.378-7.378h-.707l.622.62v-.706L9.854 9.232l-.354.354.354.354 7.378 7.378.708-.707-7.38-7.378v.708l7.38-7.38.353-.353-.353-.353-.622-.622-.353-.353-.354.352-7.378 7.38h.708L2.56 1.23 2.208.88l-.353.353-.622.62-.353.355.352.353 7.38 7.38v-.708l-7.38 7.38-.353.353.352.353.622.622.353.353.354-.353 7.38-7.38h-.708l7.38 7.38z"}))),i&&(0,D.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary ".concat(l),type:"submit",form:y.id},s))}function ui(e){var t=e.cancel,n=e.done,r=e.i18n,i=e.selected;return(0,D.h)("div",{className:"uppy-ProviderBrowser-footer"},(0,D.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary",onClick:n,type:"button"},r("selectX",{smart_count:i})),(0,D.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-link",onClick:t,type:"button"},r("cancel")))}function ci(){return(0,D.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:11,height:14.5,viewBox:"0 0 44 58"},(0,D.h)("path",{d:"M27.437.517a1 1 0 0 0-.094.03H4.25C2.037.548.217 2.368.217 4.58v48.405c0 2.212 1.82 4.03 4.03 4.03H39.03c2.21 0 4.03-1.818 4.03-4.03V15.61a1 1 0 0 0-.03-.28 1 1 0 0 0 0-.093 1 1 0 0 0-.03-.032 1 1 0 0 0 0-.03 1 1 0 0 0-.032-.063 1 1 0 0 0-.03-.063 1 1 0 0 0-.032 0 1 1 0 0 0-.03-.063 1 1 0 0 0-.032-.03 1 1 0 0 0-.03-.063 1 1 0 0 0-.063-.062l-14.593-14a1 1 0 0 0-.062-.062A1 1 0 0 0 28 .708a1 1 0 0 0-.374-.157 1 1 0 0 0-.156 0 1 1 0 0 0-.03-.03l-.003-.003zM4.25 2.547h22.218v9.97c0 2.21 1.82 4.03 4.03 4.03h10.564v36.438a2.02 2.02 0 0 1-2.032 2.032H4.25c-1.13 0-2.032-.9-2.032-2.032V4.58c0-1.13.902-2.032 2.03-2.032zm24.218 1.345l10.375 9.937.75.718H30.5c-1.13 0-2.032-.9-2.032-2.03V3.89z"}))}function li(){return(0,D.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",style:{minWidth:16,marginRight:3},viewBox:"0 0 276.157 276.157"},(0,D.h)("path",{d:"M273.08 101.378c-3.3-4.65-8.86-7.32-15.254-7.32h-24.34V67.59c0-10.2-8.3-18.5-18.5-18.5h-85.322c-3.63 0-9.295-2.875-11.436-5.805l-6.386-8.735c-4.982-6.814-15.104-11.954-23.546-11.954H58.73c-9.292 0-18.638 6.608-21.737 15.372l-2.033 5.752c-.958 2.71-4.72 5.37-7.596 5.37H18.5C8.3 49.09 0 57.39 0 67.59v167.07c0 .886.16 1.73.443 2.52.152 3.306 1.18 6.424 3.053 9.064 3.3 4.652 8.86 7.32 15.255 7.32h188.487c11.395 0 23.27-8.425 27.035-19.18l40.677-116.188c2.11-6.035 1.43-12.164-1.87-16.816zM18.5 64.088h8.864c9.295 0 18.64-6.607 21.738-15.37l2.032-5.75c.96-2.712 4.722-5.373 7.597-5.373h29.565c3.63 0 9.295 2.876 11.437 5.806l6.386 8.735c4.982 6.815 15.104 11.954 23.546 11.954h85.322c1.898 0 3.5 1.602 3.5 3.5v26.47H69.34c-11.395 0-23.27 8.423-27.035 19.178L15 191.23V67.59c0-1.898 1.603-3.5 3.5-3.5zm242.29 49.15l-40.676 116.188c-1.674 4.78-7.812 9.135-12.877 9.135H18.75c-1.447 0-2.576-.372-3.02-.997-.442-.625-.422-1.814.057-3.18l40.677-116.19c1.674-4.78 7.812-9.134 12.877-9.134h188.487c1.448 0 2.577.372 3.02.997.443.625.423 1.814-.056 3.18z"}))}function di(){return(0,D.h)("svg",{"aria-hidden":"true",focusable:"false",style:{width:16,marginRight:4},viewBox:"0 0 58 58"},(0,D.h)("path",{d:"M36.537 28.156l-11-7a1.005 1.005 0 0 0-1.02-.033C24.2 21.3 24 21.635 24 22v14a1 1 0 0 0 1.537.844l11-7a1.002 1.002 0 0 0 0-1.688zM26 34.18V23.82L34.137 29 26 34.18z"}),(0,D.h)("path",{d:"M57 6H1a1 1 0 0 0-1 1v44a1 1 0 0 0 1 1h56a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1zM10 28H2v-9h8v9zm-8 2h8v9H2v-9zm10 10V8h34v42H12V40zm44-12h-8v-9h8v9zm-8 2h8v9h-8v-9zm8-22v9h-8V8h8zM2 8h8v9H2V8zm0 42v-9h8v9H2zm54 0h-8v-9h8v9z"}))}function pi(e){var t=e.itemIconString;if(null===t)return null;switch(t){case"file":return(0,D.h)(ci,null);case"folder":return(0,D.h)(li,null);case"video":return(0,D.h)(di,null);default:var n=e.alt;return(0,D.h)("img",{src:t,alt:n,referrerPolicy:"no-referrer",loading:"lazy",width:16,height:16})}}const fi=function(e){var t=e.className,n=e.isDisabled,r=e.restrictionError,i=e.isChecked,a=e.title,o=e.itemIconEl,s=e.showTitles,u=e.toggleCheckbox,c=e.recordShiftKeyPress,l=e.id,d=e.children,p=A("uppy-u-reset","uppy-ProviderBrowserItem-checkbox","uppy-ProviderBrowserItem-checkbox--grid",{"uppy-ProviderBrowserItem-checkbox--is-checked":i});return(0,D.h)("li",{className:t,title:n?null==r?void 0:r.message:void 0},(0,D.h)("input",{type:"checkbox",className:p,onChange:u,onKeyDown:c,onMouseDown:c,name:"listitem",id:l,checked:i,disabled:n,"data-uppy-super-focusable":!0}),(0,D.h)("label",{htmlFor:l,"aria-label":a,className:"uppy-u-reset uppy-ProviderBrowserItem-inner"},o,s&&a,d))};function hi(e){var t=e.className,n=e.isDisabled,r=e.restrictionError,i=e.isCheckboxDisabled,a=e.isChecked,o=e.toggleCheckbox,s=e.recordShiftKeyPress,u=e.type,c=e.id,l=e.itemIconEl,d=e.title,p=e.handleFolderClick,f=e.showTitles,h=e.i18n;return(0,D.h)("li",{className:t,title:n?null==r?void 0:r.message:void 0},i?null:(0,D.h)("input",{type:"checkbox",className:"uppy-u-reset uppy-ProviderBrowserItem-checkbox ".concat(a?"uppy-ProviderBrowserItem-checkbox--is-checked":""),onChange:o,onKeyDown:s,onMouseDown:s,name:"listitem",id:c,checked:a,"aria-label":"file"===u?null:h("allFilesFromFolderNamed",{name:d}),disabled:n,"data-uppy-super-focusable":!0}),"file"===u?(0,D.h)("label",{htmlFor:c,className:"uppy-u-reset uppy-ProviderBrowserItem-inner"},(0,D.h)("div",{className:"uppy-ProviderBrowserItem-iconWrap"},l),f&&d):(0,D.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-ProviderBrowserItem-inner",onClick:p,"aria-label":h("openFolderNamed",{name:d})},(0,D.h)("div",{className:"uppy-ProviderBrowserItem-iconWrap"},l),f&&d?(0,D.h)("span",null,d):h("unnamed")))}function mi(){return mi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mi.apply(this,arguments)}function vi(e){var t=e.author,n=e.getItemIcon,r=e.isChecked,i=e.isDisabled,a=e.viewType,o=n(),s=A("uppy-ProviderBrowserItem",{"uppy-ProviderBrowserItem--selected":r},{"uppy-ProviderBrowserItem--disabled":i},{"uppy-ProviderBrowserItem--noPreview":"video"===o}),u=(0,D.h)(pi,{itemIconString:o});switch(a){case"grid":return(0,D.h)(fi,mi({},e,{className:s,itemIconEl:u}));case"list":return(0,D.h)(hi,mi({},e,{className:s,itemIconEl:u}));case"unsplash":return(0,D.h)(fi,mi({},e,{className:s,itemIconEl:u}),(0,D.h)("a",{href:"".concat(t.url,"?utm_source=Companion&utm_medium=referral"),target:"_blank",rel:"noopener noreferrer",className:"uppy-ProviderBrowserItem-author",tabIndex:-1},t.name));default:throw new Error("There is no such type ".concat(a))}}function gi(e){var t=e.currentSelection,n=e.uppyFiles,r=e.viewType,i=e.isChecked,a=e.toggleCheckbox,o=e.recordShiftKeyPress,s=e.showTitles,u=e.i18n,c=e.validateRestrictions,l=e.getNextFolder,d=e.f;if(d.isFolder)return vi({showTitles:s,viewType:r,i18n:u,id:d.id,title:d.name,getItemIcon:function(){return d.icon},isChecked:i(d),toggleCheckbox:function(e){return a(e,d)},recordShiftKeyPress:o,type:"folder",isDisabled:!1,isCheckboxDisabled:"shared-with-me"===d.id,handleFolderClick:function(){return l(d)}});var p=c(Yr(d),[].concat((0,tn.A)(n),(0,tn.A)(t)));return vi({id:d.id,title:d.name,author:d.author,getItemIcon:function(){return"grid"===r&&d.thumbnail?d.thumbnail:d.icon},isChecked:i(d),toggleCheckbox:function(e){return a(e,d)},isCheckboxDisabled:!1,recordShiftKeyPress:o,showTitles:s,viewType:r,i18n:u,type:"file",isDisabled:Boolean(p)&&!i(d),restrictionError:p})}const yi=function(e){var t=e.currentSelection,n=e.folders,r=e.files,i=e.uppyFiles,a=e.viewType,o=e.headerComponent,s=e.showBreadcrumbs,u=e.isChecked,c=e.toggleCheckbox,l=e.recordShiftKeyPress,d=e.handleScroll,p=e.showTitles,f=e.i18n,h=e.validateRestrictions,m=e.isLoading,v=e.showSearchFilter,g=e.search,y=e.searchTerm,b=e.clearSearch,w=e.searchOnInput,E=e.searchInputLabel,k=e.clearSearchLabel,C=e.getNextFolder,_=e.cancel,x=e.done,S=e.noResultsLabel,T=e.virtualList,F=t.length,O=Fr((function(){return[].concat((0,tn.A)(n),(0,tn.A)(r))}),[n,r]);return(0,D.h)("div",{className:A("uppy-ProviderBrowser","uppy-ProviderBrowser-viewType--".concat(a))},o&&(0,D.h)("div",{className:"uppy-ProviderBrowser-header"},(0,D.h)("div",{className:A("uppy-ProviderBrowser-headerBar",!s&&"uppy-ProviderBrowser-headerBar--simple")},o)),v&&(0,D.h)("div",{"class":"uppy-ProviderBrowser-searchFilter"},(0,D.h)(si,{search:g,searchTerm:y,clearSearch:b,inputLabel:E,clearSearchLabel:k,inputClassName:"uppy-ProviderBrowser-searchFilterInput",searchOnInput:w})),m?(0,D.h)("div",{className:"uppy-Provider-loading"},(0,D.h)("span",null,"string"==typeof m?m:f("loading"))):n.length||r.length?T?(0,D.h)("div",{className:"uppy-ProviderBrowser-body"},(0,D.h)("ul",{className:"uppy-ProviderBrowser-list"},(0,D.h)(ai,{data:O,renderRow:function(e){return(0,D.h)(gi,{currentSelection:t,uppyFiles:i,viewType:a,isChecked:u,toggleCheckbox:c,recordShiftKeyPress:l,showTitles:p,i18n:f,validateRestrictions:h,getNextFolder:C,f:e})},rowHeight:31}))):(0,D.h)("div",{className:"uppy-ProviderBrowser-body"},(0,D.h)("ul",{className:"uppy-ProviderBrowser-list",onScroll:d,role:"listbox",tabIndex:-1},O.map((function(e){return(0,D.h)(gi,{currentSelection:t,uppyFiles:i,viewType:a,isChecked:u,toggleCheckbox:c,recordShiftKeyPress:l,showTitles:p,i18n:f,validateRestrictions:h,getNextFolder:C,f:e})})))):(0,D.h)("div",{className:"uppy-Provider-empty"},S),F>0&&(0,D.h)(ui,{selected:F,done:x,cancel:_,i18n:f}))};function bi(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(bi=function(){return!!e})()}var wi=function(e){function t(){return(0,i.A)(this,t),function(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,bi()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}(this,t,arguments)}return(0,u.A)(t,e),(0,a.A)(t,[{key:"componentWillUnmount",value:function(){(0,this.props.onUnmount)()}},{key:"render",value:function(){var e=this.props.children;return(0,D.v2)(e)[0]}}])}(D.uA);n(31415);function Di(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Ai(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ai(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Ai(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Ei=function(){return(0,a.A)((function e(t,n){var r=this;(0,i.A)(this,e),this.filterItems=function(e){var t=r.plugin.getPluginState();return t.filterInput&&""!==t.filterInput?e.filter((function(e){return-1!==e.name.toLowerCase().indexOf(t.filterInput.toLowerCase())})):e},this.recordShiftKeyPress=function(e){r.isShiftKeyPressed=e.shiftKey},this.isChecked=function(e){return r.plugin.getPluginState().currentSelection.some((function(t){return t.id===e.id}))},this.plugin=t,this.provider=n.provider,this.opts=n,this.isHandlingScroll=!1,this.preFirstRender=this.preFirstRender.bind(this),this.handleError=this.handleError.bind(this),this.clearSelection=this.clearSelection.bind(this),this.cancelPicking=this.cancelPicking.bind(this)}),[{key:"preFirstRender",value:function(){this.plugin.setPluginState({didFirstRender:!0}),this.plugin.onFirstRender()}},{key:"shouldHandleScroll",value:function(e){var t=e.target;return t.scrollHeight-(t.scrollTop+t.offsetHeight)<50&&!this.isHandlingScroll}},{key:"clearSelection",value:function(){this.plugin.setPluginState({currentSelection:[],filterInput:""})}},{key:"cancelPicking",value:function(){this.clearSelection();var e=this.plugin.uppy.getPlugin("Dashboard");e&&e.hideAllPanels()}},{key:"handleError",value:function(e){var t,n=this.plugin.uppy,r=n.i18n("companionError");n.log(e.toString()),e.isAuthError||"AbortError"===(null==(t=e.cause)?void 0:t.name)||n.info({message:r,details:e.toString()},"error",5e3)}},{key:"registerRequestClient",value:function(){this.requestClientId=this.provider.provider,this.plugin.uppy.registerRequestClient(this.requestClientId,this.provider)}},{key:"getTagFile",value:function(e){var t={id:e.id,source:this.plugin.id,name:e.name||e.id,type:e.mimeType,isRemote:!0,data:e,meta:{},body:{fileId:e.id},remote:{companionUrl:this.plugin.opts.companionUrl,url:"".concat(this.provider.fileUrl(e.requestPath)),body:{fileId:e.id},providerName:this.provider.name,provider:this.provider.provider,requestClientId:this.requestClientId}};return e.thumbnail&&(t.preview=e.thumbnail),e.author&&(null!=e.author.name&&(t.meta.authorName=String(e.author.name)),e.author.url&&(t.meta.authorUrl=e.author.url)),null!=e.relDirPath&&(t.meta.relativePath=e.relDirPath?"".concat(e.relDirPath,"/").concat(t.name):null),null!=e.absDirPath&&(t.meta.absolutePath=e.absDirPath?"/".concat(e.absDirPath,"/").concat(t.name):"/".concat(t.name)),t}},{key:"toggleCheckbox",value:function(e,t){e.stopPropagation(),e.preventDefault(),e.currentTarget.focus();var n=this.plugin.getPluginState(),r=n.folders,i=n.files,a=this.filterItems(r.concat(i));if(this.lastCheckbox&&this.isShiftKeyPressed){var o,s=this.plugin.getPluginState().currentSelection,u=a.indexOf(this.lastCheckbox),c=a.indexOf(t),l=[],d=Di(u<c?a.slice(u,c+1):a.slice(c,u+1));try{for(d.s();!(o=d.n()).done;){var p=o.value,f=this.plugin.uppy,h=f.validateRestrictions(Yr(p),[].concat((0,tn.A)(f.getFiles()),l));h?f.info({message:h.message},"error",f.opts.infoTimeout):l.push(p)}}catch(e){d.e(e)}finally{d.f()}this.plugin.setPluginState({currentSelection:(0,tn.A)(new Set([].concat((0,tn.A)(s),l)))})}else{this.lastCheckbox=t;var m=this.plugin.getPluginState().currentSelection;this.isChecked(t)?this.plugin.setPluginState({currentSelection:m.filter((function(e){return e.id!==t.id}))}):this.plugin.setPluginState({currentSelection:m.concat([t])})}}},{key:"setLoading",value:function(e){this.plugin.setPluginState({loading:e})}}])}();function ki(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Ci(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ci(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Ci(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function _i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_i(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Si(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Si=function(){return!!e})()}function Ti(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var Fi=0;function Oi(e){return"__private_"+Fi+++"_"+e}function Pi(e){return e.slice(1).map((function(e){return e.name})).join("/")}function Ii(e,t){return e?"".concat(e,"/").concat(t):t}function Bi(){return(0,D.h)("svg",{"aria-hidden":"true",focusable:"false",width:"30",height:"30",viewBox:"0 0 30 30"},(0,D.h)("path",{d:"M15 30c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15C6.716 0 0 6.716 0 15c0 8.284 6.716 15 15 15zm4.258-12.676v6.846h-8.426v-6.846H5.204l9.82-12.364 9.82 12.364H19.26z"}))}var Ri={viewType:"list",showTitles:!0,showFilter:!0,showBreadcrumbs:!0,loadAllFiles:!1,virtualList:!1},Ni=Oi("abortController"),Mi=Oi("withAbort"),Li=Oi("list"),ji=Oi("listFilesAndFolders"),Ui=Oi("recursivelyListAllFiles"),zi=function(e){function t(e,n){var r;return(0,i.A)(this,t),r=function(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,Si()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}(this,t,[e,xi(xi({},Ri),n)]),Object.defineProperty(r,Ui,{value:Gi}),Object.defineProperty(r,ji,{value:Ki}),Object.defineProperty(r,Li,{value:Hi}),Object.defineProperty(r,Mi,{value:Vi}),Object.defineProperty(r,Ni,{writable:!0,value:void 0}),r.filterQuery=r.filterQuery.bind(r),r.clearFilter=r.clearFilter.bind(r),r.getFolder=r.getFolder.bind(r),r.getNextFolder=r.getNextFolder.bind(r),r.logout=r.logout.bind(r),r.handleAuth=r.handleAuth.bind(r),r.handleScroll=r.handleScroll.bind(r),r.donePicking=r.donePicking.bind(r),r.render=r.render.bind(r),r.plugin.setPluginState({authenticated:void 0,files:[],folders:[],breadcrumbs:[],filterInput:"",isSearchVisible:!1,currentSelection:[]}),r.registerRequestClient(),r}return(0,u.A)(t,e),(0,a.A)(t,[{key:"tearDown",value:function(){}},{key:"getFolder",value:(f=(0,l.A)(d.mark((function e(t,n){var r=this;return d.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setLoading(!0),e.prev=1,e.next=4,Ti(this,Mi)[Mi](function(){var e=(0,l.A)(d.mark((function e(i){var a,o,s,u,c,l,p,f;return d.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.lastCheckbox=void 0,a=r.plugin.getPluginState(),o=a.breadcrumbs,s=o.findIndex((function(e){return t===e.requestPath})),o=-1!==s?o.slice(0,s+1):[].concat((0,tn.A)(o),[{requestPath:t,name:n}]),r.nextPagePath=t,u=[],c=[];case 7:return e.next=9,Ti(r,ji)[ji]({breadcrumbs:o,signal:i});case 9:l=e.sent,p=l.files,f=l.folders,u=u.concat(p),c=c.concat(f),r.setLoading(r.plugin.uppy.i18n("loadedXFiles",{numFiles:u.length+c.length}));case 15:if(r.opts.loadAllFiles&&r.nextPagePath){e.next=7;break}case 16:r.plugin.setPluginState({folders:c,files:u,breadcrumbs:o,filterInput:""});case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:e.next=12;break;case 6:if(e.prev=6,e.t0=e.catch(1),"UserFacingApiError"!==(null==e.t0?void 0:e.t0.name)){e.next=11;break}return this.plugin.uppy.info({message:this.plugin.uppy.i18n(e.t0.message)},"warning",5e3),e.abrupt("return");case 11:this.handleError(e.t0);case 12:return e.prev=12,this.setLoading(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,this,[[1,6,12,15]])}))),function(e,t){return f.apply(this,arguments)})},{key:"getNextFolder",value:function(e){this.getFolder(e.requestPath,e.name),this.lastCheckbox=void 0}},{key:"logout",value:(p=(0,l.A)(d.mark((function e(){var t=this;return d.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ti(this,Mi)[Mi](function(){var e=(0,l.A)(d.mark((function e(n){var r,i,a;return d.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.provider.logout({signal:n});case 2:(r=e.sent).ok&&(r.revoked||(i=t.plugin.uppy.i18n("companionUnauthorizeHint",{provider:t.plugin.title,url:r.manual_revoke_url}),t.plugin.uppy.info(i,"info",7e3)),a={authenticated:!1,files:[],folders:[],breadcrumbs:[],filterInput:""},t.plugin.setPluginState(a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),this.handleError(e.t0);case 8:case"end":return e.stop()}}),e,this,[[0,5]])}))),function(){return p.apply(this,arguments)})},{key:"filterQuery",value:function(e){this.plugin.setPluginState({filterInput:e})}},{key:"clearFilter",value:function(){this.plugin.setPluginState({filterInput:""})}},{key:"handleAuth",value:(c=(0,l.A)(d.mark((function e(t){var n=this;return d.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ti(this,Mi)[Mi](function(){var e=(0,l.A)(d.mark((function e(r){return d.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setLoading(!0),e.next=3,n.provider.login({authFormData:t,signal:r});case 3:n.plugin.setPluginState({authenticated:!0}),n.preFirstRender();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:e.next=11;break;case 5:if(e.prev=5,e.t0=e.catch(0),"UserFacingApiError"!==e.t0.name){e.next=10;break}return this.plugin.uppy.info({message:this.plugin.uppy.i18n(e.t0.message)},"warning",5e3),e.abrupt("return");case 10:this.plugin.uppy.log("login failed: ".concat(e.t0.message));case 11:return e.prev=11,this.setLoading(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,this,[[0,5,11,14]])}))),function(e){return c.apply(this,arguments)})},{key:"handleScroll",value:(r=(0,l.A)(d.mark((function e(t){var n=this;return d.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldHandleScroll(t)||!this.nextPagePath){e.next=13;break}return this.isHandlingScroll=!0,e.prev=2,e.next=5,Ti(this,Mi)[Mi](function(){var e=(0,l.A)(d.mark((function e(t){var r,i,a,o,s,u,c,l,p;return d.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.plugin.getPluginState(),i=r.files,a=r.folders,o=r.breadcrumbs,e.next=3,Ti(n,ji)[ji]({breadcrumbs:o,signal:t});case 3:s=e.sent,u=s.files,c=s.folders,l=i.concat(u),p=a.concat(c),n.plugin.setPluginState({folders:p,files:l});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),this.handleError(e.t0);case 10:return e.prev=10,this.isHandlingScroll=!1,e.finish(10);case 13:case"end":return e.stop()}}),e,this,[[2,7,10,13]])}))),function(e){return r.apply(this,arguments)})},{key:"donePicking",value:(n=(0,l.A)(d.mark((function e(){var t=this;return d.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setLoading(!0),e.prev=1,e.next=4,Ti(this,Mi)[Mi](function(){var e=(0,l.A)(d.mark((function e(n){var r,i,a,o,s,u,c;return d.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.plugin.getPluginState(),i=r.currentSelection,a=[],o=[],s=ki(i),e.prev=4,c=d.mark((function e(){var r,i,s,c,l,p,f,h;return d.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.value,i=r.requestPath,s=function(e){return xi(xi({},e),{},{relDirPath:e.absDirPath.replace(r.absDirPath,"").replace(/^\//,"")})},!r.isFolder){e.next=16;break}return c=!0,l=0,p=new pr({concurrency:6}),f=function(e){var n,r=ki(e);try{for(r.s();!(n=r.n()).done;){var i=n.value,a=t.getTagFile(i),u=(0,gr.N)(a,t.plugin.uppy.getID());t.plugin.uppy.checkIfFileAlreadyExists(u)||(o.push(s(i)),l++,t.setLoading(t.plugin.uppy.i18n("addedNumFiles",{numFiles:l}))),c=!1}}catch(e){r.e(e)}finally{r.f()}},e.next=10,Ti(t,Ui)[Ui]({requestPath:i,absDirPath:Ii(r.absDirPath,r.name),relDirPath:r.name,queue:p,onFiles:f,signal:n});case 10:return e.next=12,p.onIdle();case 12:h=c?t.plugin.uppy.i18n("emptyFolderAdded"):0===l?t.plugin.uppy.i18n("folderAlreadyAdded",{folder:r.name}):t.plugin.uppy.i18n("folderAdded",{smart_count:l,folder:r.name}),a.push(h),e.next=17;break;case 16:o.push(s(r));case 17:case"end":return e.stop()}}),e)})),s.s();case 7:if((u=s.n()).done){e.next=11;break}return e.delegateYield(c(),"t0",9);case 9:e.next=7;break;case 11:e.next=16;break;case 13:e.prev=13,e.t1=e.catch(4),s.e(e.t1);case 16:return e.prev=16,s.f(),e.finish(16);case 19:t.plugin.uppy.log("Adding files from a remote provider"),t.plugin.uppy.addFiles(o.map((function(e){return t.getTagFile(e,t.requestClientId)}))),t.plugin.setPluginState({filterInput:""}),a.forEach((function(e){return t.plugin.uppy.info(e)})),t.clearSelection();case 24:case"end":return e.stop()}}),e,null,[[4,13,16,19]])})));return function(t){return e.apply(this,arguments)}}());case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),this.handleError(e.t0);case 9:return e.prev=9,this.setLoading(!1),e.finish(9);case 12:case"end":return e.stop()}}),e,this,[[1,6,9,12]])}))),function(){return n.apply(this,arguments)})},{key:"render",value:function(e,t){var n=this;void 0===t&&(t={});var r=this.plugin.getPluginState(),i=r.authenticated,a=r.didFirstRender,o=this.plugin.uppy.i18n;a||this.preFirstRender();var s=xi(xi({},this.opts),t),u=this.plugin.getPluginState(),c=u.files,l=u.folders,d=u.filterInput,p=u.loading,f=u.currentSelection,h=this.isChecked,m=this.recordShiftKeyPress,v=this.filterItems,g=""!==d,y=this.plugin.icon||Bi,b={showBreadcrumbs:s.showBreadcrumbs,getFolder:this.getFolder,breadcrumbs:this.plugin.getPluginState().breadcrumbs,pluginIcon:y,title:this.plugin.title,logout:this.logout,username:this.username,i18n:o},w={isChecked:h,toggleCheckbox:this.toggleCheckbox.bind(this),recordShiftKeyPress:m,currentSelection:f,files:g?v(c):c,folders:g?v(l):l,getNextFolder:this.getNextFolder,getFolder:this.getFolder,loadAllFiles:this.opts.loadAllFiles,virtualList:this.opts.virtualList,showSearchFilter:s.showFilter,search:this.filterQuery,clearSearch:this.clearFilter,searchTerm:d,searchOnInput:!0,searchInputLabel:o("filter"),clearSearchLabel:o("resetFilter"),noResultsLabel:o("noFilesFound"),logout:this.logout,handleScroll:this.handleScroll,done:this.donePicking,cancel:this.cancelPicking,headerComponent:(0,D.h)(Kr,b),title:this.plugin.title,viewType:s.viewType,showTitles:s.showTitles,showBreadcrumbs:s.showBreadcrumbs,pluginIcon:y,i18n:this.plugin.uppy.i18n,uppyFiles:this.plugin.uppy.getFiles(),validateRestrictions:function(){var e;return(e=n.plugin.uppy).validateRestrictions.apply(e,arguments)},isLoading:p};return!1===i?(0,D.h)(wi,{onUnmount:this.clearSelection},(0,D.h)(Vr,{pluginName:this.plugin.title,pluginIcon:y,handleAuth:this.handleAuth,i18n:this.plugin.uppy.i18nArray,renderForm:this.opts.renderAuthForm,loading:p})):(0,D.h)(wi,{onUnmount:this.clearSelection},(0,D.h)(yi,w))}}]);var n,r,c,p,f}(Ei);function Vi(e){return qi.apply(this,arguments)}function qi(){return(qi=(0,l.A)(d.mark((function e(t){var n,r,i,a=this;return d.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==(n=Ti(this,Ni)[Ni])||n.abort(),r=new AbortController,Ti(this,Ni)[Ni]=r,i=function(){r.abort(),a.clearSelection()},e.prev=4,this.plugin.uppy.on("dashboard:close-panel",i),this.plugin.uppy.on("cancel-all",i),e.next=9,t(r.signal);case 9:return e.prev=9,this.plugin.uppy.off("dashboard:close-panel",i),this.plugin.uppy.off("cancel-all",i),Ti(this,Ni)[Ni]=void 0,e.finish(9);case 14:case"end":return e.stop()}}),e,this,[[4,,9,14]])})))).apply(this,arguments)}function Hi(e){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,l.A)(d.mark((function e(t){var n,r,i,a,o,s,u;return d.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.requestPath,r=t.absDirPath,i=t.signal,e.next=3,this.provider.list(n,{signal:i});case 3:return a=e.sent,o=a.username,s=a.nextPagePath,u=a.items,this.username=o||this.username,e.abrupt("return",{items:u.map((function(e){return xi(xi({},e),{},{absDirPath:r})})),nextPagePath:s});case 9:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function Ki(e){return $i.apply(this,arguments)}function $i(){return($i=(0,l.A)(d.mark((function e(t){var n,r,i,a,o,s,u,c;return d.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.breadcrumbs,r=t.signal,i=Pi(n),e.next=4,Ti(this,Li)[Li]({requestPath:this.nextPagePath,absDirPath:i,signal:r});case 4:return a=e.sent,o=a.items,s=a.nextPagePath,this.nextPagePath=s,u=[],c=[],o.forEach((function(e){e.isFolder?c.push(e):u.push(e)})),e.abrupt("return",{files:u,folders:c});case 12:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function Gi(e){return Qi.apply(this,arguments)}function Qi(){return Qi=(0,l.A)(d.mark((function e(t){var n,r,i,a,o,s,u,c,p,f,h,m=this;return d.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.requestPath,r=t.absDirPath,i=t.relDirPath,a=t.queue,o=t.onFiles,s=t.signal,u=n;case 2:if(!u){e.next=15;break}return e.next=5,Ti(this,Li)[Li]({requestPath:u,absDirPath:r,signal:s});case 5:return c=e.sent,u=c.nextPagePath,p=c.items.filter((function(e){return!e.isFolder})),f=c.items.filter((function(e){return e.isFolder})),o(p),h=f.map(function(){var e=(0,l.A)(d.mark((function e(t){return d.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.add((0,l.A)(d.mark((function e(){return d.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ti(m,Ui)[Ui]({requestPath:t.requestPath,absDirPath:Ii(r,t.name),relDirPath:Ii(i,t.name),queue:a,onFiles:o,signal:s}));case 1:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=13,Promise.all(h);case 13:e.next=2;break;case 15:case"end":return e.stop()}}),e,this)}))),Qi.apply(this,arguments)}function Yi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yi(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zi(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Zi=function(){return!!e})()}function Ji(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}zi.VERSION="3.13.0";var ea=0;function ta(e){return"__private_"+ea+++"_"+e}var na={isInputMode:!0,files:[],folders:[],breadcrumbs:[],filterInput:"",currentSelection:[],searchTerm:null},ra={viewType:"grid",showTitles:!0,showFilter:!0,showBreadcrumbs:!0},ia=ta("updateFilesAndInputMode"),aa=function(e){function t(e,n){var r;return(0,i.A)(this,t),r=function(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,Zi()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}(this,t,[e,Xi(Xi({},ra),n)]),Object.defineProperty(r,ia,{value:oa}),r.nextPageQuery=null,r.search=r.search.bind(r),r.clearSearch=r.clearSearch.bind(r),r.resetPluginState=r.resetPluginState.bind(r),r.handleScroll=r.handleScroll.bind(r),r.donePicking=r.donePicking.bind(r),r.render=r.render.bind(r),r.plugin.setPluginState(na),r.registerRequestClient(),r}return(0,u.A)(t,e),(0,a.A)(t,[{key:"tearDown",value:function(){}},{key:"resetPluginState",value:function(){this.plugin.setPluginState(na)}},{key:"search",value:(r=(0,l.A)(d.mark((function e(t){var n,r,i;return d.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.plugin.getPluginState(),r=n.searchTerm,!t||t!==r){e.next=3;break}return e.abrupt("return");case 3:return this.setLoading(!0),e.prev=4,e.next=7,this.provider.search(t);case 7:i=e.sent,Ji(this,ia)[ia](i,[]),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),this.handleError(e.t0);case 14:return e.prev=14,this.setLoading(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[4,11,14,17]])}))),function(e){return r.apply(this,arguments)})},{key:"clearSearch",value:function(){this.plugin.setPluginState({currentSelection:[],files:[],searchTerm:null})}},{key:"handleScroll",value:(n=(0,l.A)(d.mark((function e(t){var n,r,i,a,o;return d.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.nextPageQuery||null,!this.shouldHandleScroll(t)||!n){e.next=17;break}return this.isHandlingScroll=!0,e.prev=3,r=this.plugin.getPluginState(),i=r.files,a=r.searchTerm,e.next=7,this.provider.search(a,n);case 7:o=e.sent,Ji(this,ia)[ia](o,i),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),this.handleError(e.t0);case 14:return e.prev=14,this.isHandlingScroll=!1,e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[3,11,14,17]])}))),function(e){return n.apply(this,arguments)})},{key:"donePicking",value:function(){var e=this,t=this.plugin.getPluginState().currentSelection;this.plugin.uppy.log("Adding remote search provider files"),this.plugin.uppy.addFiles(t.map((function(t){return e.getTagFile(t)}))),this.resetPluginState()}},{key:"render",value:function(e,t){var n=this;void 0===t&&(t={});var r=this.plugin.getPluginState(),i=r.didFirstRender,a=r.isInputMode,o=r.searchTerm,s=this.plugin.uppy.i18n;i||this.preFirstRender();var u=Xi(Xi({},this.opts),t),c=this.plugin.getPluginState(),l=c.files,d=c.folders,p=c.filterInput,f=c.loading,h=c.currentSelection,m=this.isChecked,v=this.filterItems,g=this.recordShiftKeyPress,y=""!==p,b={isChecked:m,toggleCheckbox:this.toggleCheckbox.bind(this),recordShiftKeyPress:g,currentSelection:h,files:y?v(l):l,folders:y?v(d):d,handleScroll:this.handleScroll,done:this.donePicking,cancel:this.cancelPicking,showSearchFilter:u.showFilter,search:this.search,clearSearch:this.clearSearch,searchTerm:o,searchOnInput:!1,searchInputLabel:s("search"),clearSearchLabel:s("resetSearch"),noResultsLabel:s("noSearchResults"),title:this.plugin.title,viewType:u.viewType,showTitles:u.showTitles,showFilter:u.showFilter,isLoading:f,showBreadcrumbs:u.showBreadcrumbs,pluginIcon:this.plugin.icon,i18n:s,uppyFiles:this.plugin.uppy.getFiles(),validateRestrictions:function(){var e;return(e=n.plugin.uppy).validateRestrictions.apply(e,arguments)}};return a?(0,D.h)(wi,{onUnmount:this.resetPluginState},(0,D.h)("div",{className:"uppy-SearchProvider"},(0,D.h)(si,{search:this.search,inputLabel:s("enterTextToSearch"),buttonLabel:s("searchImages"),inputClassName:"uppy-c-textInput uppy-SearchProvider-input",buttonCSSClassName:"uppy-SearchProvider-searchButton",showButton:!0}))):(0,D.h)(wi,{onUnmount:this.resetPluginState},(0,D.h)(yi,b))}}]);var n,r}(Ei);function oa(e,t){this.nextPageQuery=e.nextPageQuery,e.items.forEach((function(e){t.push(e)})),this.plugin.setPluginState({currentSelection:[],isInputMode:!1,files:t,searchTerm:e.searchedFor})}aa.VERSION="3.13.0";var sa=n(24063);const ua=['a[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','area[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])',"input:not([disabled]):not([inert]):not([aria-hidden])","select:not([disabled]):not([inert]):not([aria-hidden])","textarea:not([disabled]):not([inert]):not([aria-hidden])","button:not([disabled]):not([inert]):not([aria-hidden])",'iframe:not([tabindex^="-"]):not([inert]):not([aria-hidden])','object:not([tabindex^="-"]):not([inert]):not([aria-hidden])','embed:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[contenteditable]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[tabindex]:not([tabindex^="-"]):not([inert]):not([aria-hidden])'];function ca(e,t){if(t){var n=e.querySelector('[data-uppy-paneltype="'.concat(t,'"]'));if(n)return n}return e}function la(e,t){var n=t[0];n&&(n.focus(),e.preventDefault())}function da(e,t,n){var r=ca(n,t),i=Xt(r.querySelectorAll(ua)),a=i.indexOf(document.activeElement);!function(e){return e.contains(document.activeElement)}(r)?la(e,i):e.shiftKey&&0===a?function(e,t){var n=t[t.length-1];n&&(n.focus(),e.preventDefault())}(e,i):e.shiftKey||a!==i.length-1||la(e,i)}var pa=n(59209);function fa(){var e=document.body;return"draggable"in e&&"ondragstart"in e&&"ondrop"in e&&("FormData"in window&&"FileReader"in window)}n(26910);var ha=n(3517);function ma(e){var t={color:"#838999",icon:(0,D.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},(0,D.h)("g",{fill:"#A7AFB7",fillRule:"nonzero"},(0,D.h)("path",{d:"M5.5 22a.5.5 0 0 1-.5-.5v-18a.5.5 0 0 1 .5-.5h10.719a.5.5 0 0 1 .367.16l3.281 3.556a.5.5 0 0 1 .133.339V21.5a.5.5 0 0 1-.5.5h-14zm.5-1h13V7.25L16 4H6v17z"}),(0,D.h)("path",{d:"M15 4v3a1 1 0 0 0 1 1h3V7h-3V4h-1z"})))};if(!e)return t;var n=e.split("/")[0],r=e.split("/")[1];if("text"===n)return{color:"#5a5e69",icon:(0,D.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},(0,D.h)("path",{d:"M4.5 7h13a.5.5 0 1 1 0 1h-13a.5.5 0 0 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h10a.5.5 0 1 1 0 1h-10a.5.5 0 1 1 0-1z",fill:"#5A5E69",fillRule:"nonzero"}))};if("image"===n)return{color:"#686de0",icon:(0,D.h)("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25"},(0,D.h)("g",{fill:"#686DE0",fillRule:"evenodd"},(0,D.h)("path",{d:"M5 7v10h15V7H5zm0-1h15a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1z",fillRule:"nonzero"}),(0,D.h)("path",{d:"M6.35 17.172l4.994-5.026a.5.5 0 0 1 .707 0l2.16 2.16 3.505-3.505a.5.5 0 0 1 .707 0l2.336 2.31-.707.72-1.983-1.97-3.505 3.505a.5.5 0 0 1-.707 0l-2.16-2.159-3.938 3.939-1.409.026z",fillRule:"nonzero"}),(0,D.h)("circle",{cx:"7.5",cy:"9.5",r:"1.5"})))};if("audio"===n)return{color:"#068dbb",icon:(0,D.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},(0,D.h)("path",{d:"M9.5 18.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V7.25a.5.5 0 0 1 .379-.485l9-2.25A.5.5 0 0 1 18.5 5v11.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V8.67l-8 2v7.97zm8-11v-2l-8 2v2l8-2zM7 19.64c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1zm9-2c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1z",fill:"#049BCF",fillRule:"nonzero"}))};if("video"===n)return{color:"#19af67",icon:(0,D.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},(0,D.h)("path",{d:"M16 11.834l4.486-2.691A1 1 0 0 1 22 10v6a1 1 0 0 1-1.514.857L16 14.167V17a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v2.834zM15 9H5v8h10V9zm1 4l5 3v-6l-5 3z",fill:"#19AF67",fillRule:"nonzero"}))};if("application"===n&&"pdf"===r)return{color:"#e25149",icon:(0,D.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},(0,D.h)("path",{d:"M9.766 8.295c-.691-1.843-.539-3.401.747-3.726 1.643-.414 2.505.938 2.39 3.299-.039.79-.194 1.662-.537 3.148.324.49.66.967 1.055 1.51.17.231.382.488.629.757 1.866-.128 3.653.114 4.918.655 1.487.635 2.192 1.685 1.614 2.84-.566 1.133-1.839 1.084-3.416.249-1.141-.604-2.457-1.634-3.51-2.707a13.467 13.467 0 0 0-2.238.426c-1.392 4.051-4.534 6.453-5.707 4.572-.986-1.58 1.38-4.206 4.914-5.375.097-.322.185-.656.264-1.001.08-.353.306-1.31.407-1.737-.678-1.059-1.2-2.031-1.53-2.91zm2.098 4.87c-.033.144-.068.287-.104.427l.033-.01-.012.038a14.065 14.065 0 0 1 1.02-.197l-.032-.033.052-.004a7.902 7.902 0 0 1-.208-.271c-.197-.27-.38-.526-.555-.775l-.006.028-.002-.003c-.076.323-.148.632-.186.8zm5.77 2.978c1.143.605 1.832.632 2.054.187.26-.519-.087-1.034-1.113-1.473-.911-.39-2.175-.608-3.55-.608.845.766 1.787 1.459 2.609 1.894zM6.559 18.789c.14.223.693.16 1.425-.413.827-.648 1.61-1.747 2.208-3.206-2.563 1.064-4.102 2.867-3.633 3.62zm5.345-10.97c.088-1.793-.351-2.48-1.146-2.28-.473.119-.564 1.05-.056 2.405.213.566.52 1.188.908 1.859.18-.858.268-1.453.294-1.984z",fill:"#E2514A",fillRule:"nonzero"}))};return"application"===n&&-1!==["zip","x-7z-compressed","x-rar-compressed","x-tar","x-gzip","x-apple-diskimage"].indexOf(r)?{color:"#00C469",icon:(0,D.h)("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25"},(0,D.h)("path",{d:"M10.45 2.05h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V2.55a.5.5 0 0 1 .5-.5zm2.05 1.024h1.05a.5.5 0 0 1 .5.5V3.6a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5v-.001zM10.45 0h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V.5a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 3.074h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 1.024h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm-2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-1.656 3.074l-.82 5.946c.52.302 1.174.458 1.976.458.803 0 1.455-.156 1.975-.458l-.82-5.946h-2.311zm0-1.025h2.312c.512 0 .946.378 1.015.885l.82 5.946c.056.412-.142.817-.501 1.026-.686.398-1.515.597-2.49.597-.974 0-1.804-.199-2.49-.597a1.025 1.025 0 0 1-.5-1.026l.819-5.946c.07-.507.503-.885 1.015-.885zm.545 6.6a.5.5 0 0 1-.397-.561l.143-.999a.5.5 0 0 1 .495-.429h.74a.5.5 0 0 1 .495.43l.143.998a.5.5 0 0 1-.397.561c-.404.08-.819.08-1.222 0z",fill:"#00C469",fillRule:"nonzero"}))}:t}function va(e){var t=e.file;if(t.preview)return(0,D.h)("img",{className:"uppy-Dashboard-Item-previewImg",alt:t.name,src:t.preview});var n=ma(t.type),r=n.color,i=n.icon;return(0,D.h)("div",{className:"uppy-Dashboard-Item-previewIconWrap"},(0,D.h)("span",{className:"uppy-Dashboard-Item-previewIcon",style:{color:r}},i),(0,D.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-Dashboard-Item-previewIconBg",width:"58",height:"76",viewBox:"0 0 58 76"},(0,D.h)("rect",{fill:"#FFF",width:"58",height:"76",rx:"3",fillRule:"evenodd"})))}function ga(e){var t=e.file,n=e.toggleFileCard,r=e.i18n,i=e.metaFields,a=t.missingRequiredMetaFields;if(null==a||!a.length)return null;var o=a.map((function(e){return function(e,t){var n=("function"==typeof t?t():t).filter((function(t){return t.id===e}));return n[0].name}(e,i)})).join(", ");return(0,D.h)("div",{className:"uppy-Dashboard-Item-errorMessage"},r("missingRequiredMetaFields",{smart_count:a.length,fields:o})," ",(0,D.h)("button",{type:"button","class":"uppy-u-reset uppy-Dashboard-Item-errorMessageBtn",onClick:function(){return n(!0,t.id)}},r("editFile")))}function ya(e){var t=e.file,n=e.i18n,r=e.toggleFileCard,i=e.metaFields,a=e.showLinkToFileUploadResult,o=t.preview?"rgba(255, 255, 255, 0.5)":ma(e.file.type).color;return(0,D.h)("div",{className:"uppy-Dashboard-Item-previewInnerWrap",style:{backgroundColor:o}},a&&t.uploadURL&&(0,D.h)("a",{className:"uppy-Dashboard-Item-previewLink",href:t.uploadURL,rel:"noreferrer noopener",target:"_blank","aria-label":t.meta.name},(0,D.h)("span",{hidden:!0},t.meta.name)),(0,D.h)(va,{file:t}),(0,D.h)(ga,{file:t,i18n:n,toggleFileCard:r,metaFields:i}))}function ba(e){return e.isUploaded?e.i18n("uploadComplete"):e.error?e.i18n("retryUpload"):e.resumableUploads?e.file.isPaused?e.i18n("resumeUpload"):e.i18n("pauseUpload"):e.individualCancellation?e.i18n("cancelUpload"):""}function wa(e){return(0,D.h)("div",{className:"uppy-Dashboard-Item-progress"},(0,D.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-progressIndicator",type:"button","aria-label":ba(e),title:ba(e),onClick:function(){return function(e){e.isUploaded||(!e.error||e.hideRetryButton?e.resumableUploads&&!e.hidePauseResumeButton?e.uppy.pauseResume(e.file.id):e.individualCancellation&&!e.hideCancelButton&&e.uppy.removeFile(e.file.id):e.uppy.retryUpload(e.file.id))}(e)}},e.children))}function Da(e){var t=e.children;return(0,D.h)("svg",{"aria-hidden":"true",focusable:"false",width:"70",height:"70",viewBox:"0 0 36 36",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--circle"},t)}function Aa(e){var t=e.progress,n=2*Math.PI*15;return(0,D.h)("g",null,(0,D.h)("circle",{className:"uppy-Dashboard-Item-progressIcon--bg",r:"15",cx:"18",cy:"18","stroke-width":"2",fill:"none"}),(0,D.h)("circle",{className:"uppy-Dashboard-Item-progressIcon--progress",r:"15",cx:"18",cy:"18",transform:"rotate(-90, 18, 18)",fill:"none","stroke-width":"2","stroke-dasharray":n,"stroke-dashoffset":n-n/100*t}))}function Ea(e){return e.file.progress.uploadStarted?e.isUploaded?(0,D.h)("div",{className:"uppy-Dashboard-Item-progress"},(0,D.h)("div",{className:"uppy-Dashboard-Item-progressIndicator"},(0,D.h)(Da,null,(0,D.h)("circle",{r:"15",cx:"18",cy:"18",fill:"#1bb240"}),(0,D.h)("polygon",{className:"uppy-Dashboard-Item-progressIcon--check",transform:"translate(2, 3)",points:"14 22.5 7 15.2457065 8.99985857 13.1732815 14 18.3547104 22.9729883 9 25 11.1005634"})))):e.recoveredState?void 0:e.error&&!e.hideRetryButton?(0,D.h)(wa,e,(0,D.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--retry",width:"28",height:"31",viewBox:"0 0 16 19"},(0,D.h)("path",{d:"M16 11a8 8 0 1 1-8-8v2a6 6 0 1 0 6 6h2z"}),(0,D.h)("path",{d:"M7.9 3H10v2H7.9z"}),(0,D.h)("path",{d:"M8.536.5l3.535 3.536-1.414 1.414L7.12 1.914z"}),(0,D.h)("path",{d:"M10.657 2.621l1.414 1.415L8.536 7.57 7.12 6.157z"}))):e.resumableUploads&&!e.hidePauseResumeButton?(0,D.h)(wa,e,(0,D.h)(Da,null,(0,D.h)(Aa,{progress:e.file.progress.percentage}),e.file.isPaused?(0,D.h)("polygon",{className:"uppy-Dashboard-Item-progressIcon--play",transform:"translate(3, 3)",points:"12 20 12 10 20 15"}):(0,D.h)("g",{className:"uppy-Dashboard-Item-progressIcon--pause",transform:"translate(14.5, 13)"},(0,D.h)("rect",{x:"0",y:"0",width:"2",height:"10",rx:"0"}),(0,D.h)("rect",{x:"5",y:"0",width:"2",height:"10",rx:"0"})))):e.resumableUploads||!e.individualCancellation||e.hideCancelButton?(0,D.h)("div",{className:"uppy-Dashboard-Item-progress"},(0,D.h)("div",{className:"uppy-Dashboard-Item-progressIndicator"},(0,D.h)(Da,null,(0,D.h)(Aa,{progress:e.file.progress.percentage})))):(0,D.h)(wa,e,(0,D.h)(Da,null,(0,D.h)(Aa,{progress:e.file.progress.percentage}),(0,D.h)("polygon",{className:"cancel",transform:"translate(2, 2)",points:"19.8856516 11.0625 16 14.9481516 12.1019737 11.0625 11.0625 12.1143484 14.9481516 16 11.0625 19.8980263 12.1019737 20.9375 16 17.0518484 19.8856516 20.9375 20.9375 19.8980263 17.0518484 16 20.9375 12"}))):null}var ka="...";function Ca(e,t){if(0===t)return"";if(e.length<=t)return e;if(t<=4)return"".concat(e.slice(0,t-1),"");var n=t-3,r=Math.ceil(n/2),i=Math.floor(n/2);return e.slice(0,r)+ka+e.slice(-i)}var _a=function(e){var t=e.file,n=e.onClick;return t.error?(0,D.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-errorDetails","aria-label":t.error,"data-microtip-position":"bottom","data-microtip-size":"medium",onClick:n,type:"button"},"?"):null};function xa(e){var t=e.file;return(0,D.h)("div",{className:"uppy-Dashboard-Item-fileInfo","data-uppy-file-source":t.source},(0,D.h)("div",{className:"uppy-Dashboard-Item-fileName"},function(e){var t=e.file.meta,n=t.author,r=t.name;return(0,D.h)("div",{className:"uppy-Dashboard-Item-name",title:r},Ca(r,e.isSingleFile&&e.containerHeight>=350?90:e.containerWidth<=352?35:e.containerWidth<=576?60:n?20:30))}(e),(0,D.h)(_a,{file:e.file,onClick:function(){return alert(e.file.error)}})),(0,D.h)("div",{className:"uppy-Dashboard-Item-status"},function(e){var t,n=e.file.meta.author,r=null==(t=e.file.remote)?void 0:t.providerName;return n?(0,D.h)("div",{className:"uppy-Dashboard-Item-author"},(0,D.h)("a",{href:"".concat(n.url,"?utm_source=Companion&utm_medium=referral"),target:"_blank",rel:"noopener noreferrer"},Ca(n.name,13)),r?(0,D.h)(D.FK,null," ".concat(""," "),r," ".concat(""," ")):null):null}(e),function(e){return e.file.size&&(0,D.h)("div",{className:"uppy-Dashboard-Item-statusSize"},k(e.file.size))}(e),function(e){return e.file.isGhost&&(0,D.h)("span",null,"  ",(0,D.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-reSelect",type:"button",onClick:e.toggleAddFilesPanel},e.i18n("reSelect")))}(e)),(0,D.h)(ga,{file:e.file,i18n:e.i18n,toggleFileCard:e.toggleFileCard,metaFields:e.metaFields}))}function Sa(e){var t=e.file,n=e.uploadInProgressOrComplete,r=e.metaFields,i=e.canEditFile,a=e.i18n,o=e.onClick;return!n&&r&&r.length>0||!n&&i(t)?(0,D.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-action uppy-Dashboard-Item-action--edit",type:"button","aria-label":a("editFileWithFilename",{file:t.meta.name}),title:a("editFileWithFilename",{file:t.meta.name}),onClick:function(){return o()}},(0,D.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 14"},(0,D.h)("g",{fillRule:"evenodd"},(0,D.h)("path",{d:"M1.5 10.793h2.793A1 1 0 0 0 5 10.5L11.5 4a1 1 0 0 0 0-1.414L9.707.793a1 1 0 0 0-1.414 0l-6.5 6.5A1 1 0 0 0 1.5 8v2.793zm1-1V8L9 1.5l1.793 1.793-6.5 6.5H2.5z",fillRule:"nonzero"}),(0,D.h)("rect",{x:"1",y:"12.293",width:"11",height:"1",rx:".5"}),(0,D.h)("path",{fillRule:"nonzero",d:"M6.793 2.5L9.5 5.207l.707-.707L7.5 1.793z"})))):null}function Ta(e){var t=e.i18n,n=e.onClick,r=e.file;return(0,D.h)("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--remove",type:"button","aria-label":t("removeFile",{file:r.meta.name}),title:t("removeFile",{file:r.meta.name}),onClick:function(){return n()}},(0,D.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"18",height:"18",viewBox:"0 0 18 18"},(0,D.h)("path",{d:"M9 0C4.034 0 0 4.034 0 9s4.034 9 9 9 9-4.034 9-9-4.034-9-9-9z"}),(0,D.h)("path",{fill:"#FFF",d:"M13 12.222l-.778.778L9 9.778 5.778 13 5 12.222 8.222 9 5 5.778 5.778 5 9 8.222 12.222 5l.778.778L9.778 9z"})))}var Fa=function(e,t){var n,r;(n=t.file.uploadURL,r=t.i18n("copyLinkToClipboardFallback"),void 0===r&&(r="Copy the URL below"),new Promise((function(e){var t=document.createElement("textarea");t.setAttribute("style",{position:"fixed",top:0,left:0,width:"2em",height:"2em",padding:0,border:"none",outline:"none",boxShadow:"none",background:"transparent"}),t.value=n,document.body.appendChild(t),t.select();var i=function(){document.body.removeChild(t),window.prompt(r,n),e()};try{return document.execCommand("copy")?(document.body.removeChild(t),e()):i()}catch(e){return document.body.removeChild(t),i()}}))).then((function(){t.uppy.log("Link copied to clipboard."),t.uppy.info(t.i18n("copyLinkToClipboardSuccess"),"info",3e3)})).catch(t.uppy.log).then((function(){return e.target.focus({preventScroll:!0})}))};function Oa(e){var t=e.i18n;return(0,D.h)("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--copyLink",type:"button","aria-label":t("copyLink"),title:t("copyLink"),onClick:function(t){return Fa(t,e)}},(0,D.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 12"},(0,D.h)("path",{d:"M7.94 7.703a2.613 2.613 0 0 1-.626 2.681l-.852.851a2.597 2.597 0 0 1-1.849.766A2.616 2.616 0 0 1 2.764 7.54l.852-.852a2.596 2.596 0 0 1 2.69-.625L5.267 7.099a1.44 1.44 0 0 0-.833.407l-.852.851a1.458 1.458 0 0 0 1.03 2.486c.39 0 .755-.152 1.03-.426l.852-.852c.231-.231.363-.522.406-.824l1.04-1.038zm4.295-5.937A2.596 2.596 0 0 0 10.387 1c-.698 0-1.355.272-1.849.766l-.852.851a2.614 2.614 0 0 0-.624 2.688l1.036-1.036c.041-.304.173-.6.407-.833l.852-.852c.275-.275.64-.426 1.03-.426a1.458 1.458 0 0 1 1.03 2.486l-.852.851a1.442 1.442 0 0 1-.824.406l-1.04 1.04a2.596 2.596 0 0 0 2.683-.628l.851-.85a2.616 2.616 0 0 0 0-3.697zm-6.88 6.883a.577.577 0 0 0 .82 0l3.474-3.474a.579.579 0 1 0-.819-.82L5.355 7.83a.579.579 0 0 0 0 .819z"})))}function Pa(e){var t=e.uppy,n=e.file,r=e.uploadInProgressOrComplete,i=e.canEditFile,a=e.metaFields,o=e.showLinkToFileUploadResult,s=e.showRemoveButton,u=e.i18n,c=e.toggleFileCard,l=e.openFileEditor;return(0,D.h)("div",{className:"uppy-Dashboard-Item-actionWrapper"},(0,D.h)(Sa,{i18n:u,file:n,uploadInProgressOrComplete:r,canEditFile:i,metaFields:a,onClick:function(){a&&a.length>0?c(!0,n.id):l(n)}}),o&&n.uploadURL?(0,D.h)(Oa,{file:n,uppy:t,i18n:u}):null,s?(0,D.h)(Ta,{i18n:u,file:n,uppy:t,onClick:function(){return e.uppy.removeFile(n.id,"removed-by-user")}}):null)}function Ia(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ia=function(){return!!e})()}var Ba=function(e){function t(){return(0,i.A)(this,t),function(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,Ia()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}(this,t,arguments)}return(0,u.A)(t,e),(0,a.A)(t,[{key:"componentDidMount",value:function(){var e=this.props.file;e.preview||this.props.handleRequestThumbnail(e)}},{key:"shouldComponentUpdate",value:function(e){return!ha(this.props,e)}},{key:"componentDidUpdate",value:function(){var e=this.props.file;e.preview||this.props.handleRequestThumbnail(e)}},{key:"componentWillUnmount",value:function(){var e=this.props.file;e.preview||this.props.handleCancelThumbnail(e)}},{key:"render",value:function(){var e=this.props.file,t=e.progress.preprocess||e.progress.postprocess,n=e.progress.uploadComplete&&!t&&!e.error,r=e.progress.uploadStarted||t,i=e.progress.uploadStarted&&!e.progress.uploadComplete||t,a=e.error||!1,o=e.isGhost,s=(this.props.individualCancellation||!i)&&!n;n&&this.props.showRemoveButtonAfterComplete&&(s=!0);var u=A({"uppy-Dashboard-Item":!0,"is-inprogress":i&&!this.props.recoveredState,"is-processing":t,"is-complete":n,"is-error":!!a,"is-resumable":this.props.resumableUploads,"is-noIndividualCancellation":!this.props.individualCancellation,"is-ghost":o});return(0,D.h)("div",{className:u,id:"uppy_".concat(e.id),role:this.props.role},(0,D.h)("div",{className:"uppy-Dashboard-Item-preview"},(0,D.h)(ya,{file:e,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,i18n:this.props.i18n,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields}),(0,D.h)(Ea,{uppy:this.props.uppy,file:e,error:a,isUploaded:n,hideRetryButton:this.props.hideRetryButton,hideCancelButton:this.props.hideCancelButton,hidePauseResumeButton:this.props.hidePauseResumeButton,recoveredState:this.props.recoveredState,showRemoveButtonAfterComplete:this.props.showRemoveButtonAfterComplete,resumableUploads:this.props.resumableUploads,individualCancellation:this.props.individualCancellation,i18n:this.props.i18n})),(0,D.h)("div",{className:"uppy-Dashboard-Item-fileInfoAndButtons"},(0,D.h)(xa,{file:e,id:this.props.id,acquirers:this.props.acquirers,containerWidth:this.props.containerWidth,containerHeight:this.props.containerHeight,i18n:this.props.i18n,toggleAddFilesPanel:this.props.toggleAddFilesPanel,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields,isSingleFile:this.props.isSingleFile}),(0,D.h)(Pa,{file:e,metaFields:this.props.metaFields,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,showRemoveButton:s,canEditFile:this.props.canEditFile,uploadInProgressOrComplete:r,toggleFileCard:this.props.toggleFileCard,openFileEditor:this.props.openFileEditor,uppy:this.props.uppy,i18n:this.props.i18n})))}}])}(D.uA);const Ra=function(e){var t=e.id,n=e.error,r=e.i18n,i=e.uppy,a=e.files,o=e.acquirers,s=e.resumableUploads,u=e.hideRetryButton,c=e.hidePauseResumeButton,l=e.hideCancelButton,d=e.showLinkToFileUploadResult,p=e.showRemoveButtonAfterComplete,f=e.isWide,h=e.metaFields,m=e.isSingleFile,v=e.toggleFileCard,g=e.handleRequestThumbnail,y=e.handleCancelThumbnail,b=e.recoveredState,w=e.individualCancellation,A=e.itemsPerRow,E=e.openFileEditor,k=e.canEditFile,C=e.toggleAddFilesPanel,_=e.containerWidth,x=e.containerHeight,S=1===A?71:200,T=Fr((function(){var e,t,n,r=Object.keys(a);return b&&r.sort((function(e,t){return a[t].isGhost-a[e].isGhost})),e=A,t=[],n=[],r.forEach((function(r){n.length<e?n.push(r):(t.push(n),n=[r])})),n.length&&t.push(n),t}),[a,A,b]),F=function(e){return(0,D.h)("div",{"class":"uppy-Dashboard-filesInner",role:"presentation",key:e[0]},e.map((function(e){return(0,D.h)(Ba,{key:e,uppy:i,id:t,error:n,i18n:r,acquirers:o,resumableUploads:s,individualCancellation:w,hideRetryButton:u,hidePauseResumeButton:c,hideCancelButton:l,showLinkToFileUploadResult:d,showRemoveButtonAfterComplete:p,isWide:f,metaFields:h,recoveredState:b,isSingleFile:m,containerWidth:_,containerHeight:x,toggleFileCard:v,handleRequestThumbnail:g,handleCancelThumbnail:y,role:"listitem",openFileEditor:E,canEditFile:k,toggleAddFilesPanel:C,file:a[e]})})))};return m?(0,D.h)("div",{"class":"uppy-Dashboard-files"},F(T[0])):(0,D.h)(ai,{"class":"uppy-Dashboard-files",role:"list",data:T,renderRow:F,rowHeight:S})};function Na(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Na=function(){return!!e})()}var Ma;Ma=Symbol.for("uppy test: disable unused locale key warning");var La=function(e,t){function n(){var e;return(0,i.A)(this,n),e=function(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,Na()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}(this,n,arguments),e.triggerFileInputClick=function(){e.fileInput.click()},e.triggerFolderInputClick=function(){e.folderInput.click()},e.triggerVideoCameraInputClick=function(){e.mobileVideoFileInput.click()},e.triggerPhotoCameraInputClick=function(){e.mobilePhotoFileInput.click()},e.onFileInputChange=function(t){e.props.handleInputChange(t),t.target.value=null},e.renderHiddenInput=function(t,n){return(0,D.h)("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,webkitdirectory:t,type:"file",name:"files[]",multiple:1!==e.props.maxNumberOfFiles,onChange:e.onFileInputChange,accept:e.props.allowedFileTypes,ref:n})},e.renderHiddenCameraInput=function(t,n,r){var i={photo:"image/*",video:"video/*"}[t];return(0,D.h)("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,type:"file",name:"camera-".concat(t),onChange:e.onFileInputChange,capture:n,accept:i,ref:r})},e.renderMyDeviceAcquirer=function(){return(0,D.h)("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MyDevice"},(0,D.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:e.triggerFileInputClick},(0,D.h)("div",{className:"uppy-DashboardTab-inner"},(0,D.h)("svg",{className:"uppy-DashboardTab-iconMyDevice","aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},(0,D.h)("path",{d:"M8.45 22.087l-1.305-6.674h17.678l-1.572 6.674H8.45zm4.975-12.412l1.083 1.765a.823.823 0 00.715.386h7.951V13.5H8.587V9.675h4.838zM26.043 13.5h-1.195v-2.598c0-.463-.336-.75-.798-.75h-8.356l-1.082-1.766A.823.823 0 0013.897 8H7.728c-.462 0-.815.256-.815.718V13.5h-.956a.97.97 0 00-.746.37.972.972 0 00-.19.81l1.724 8.565c.095.44.484.755.933.755H24c.44 0 .824-.3.929-.727l2.043-8.568a.972.972 0 00-.176-.825.967.967 0 00-.753-.38z",fill:"currentcolor","fill-rule":"evenodd"}))),(0,D.h)("div",{className:"uppy-DashboardTab-name"},e.props.i18n("myDevice"))))},e.renderPhotoCamera=function(){return(0,D.h)("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobilePhotoCamera"},(0,D.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:e.triggerPhotoCameraInputClick},(0,D.h)("div",{className:"uppy-DashboardTab-inner"},(0,D.h)("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},(0,D.h)("path",{d:"M23.5 9.5c1.417 0 2.5 1.083 2.5 2.5v9.167c0 1.416-1.083 2.5-2.5 2.5h-15c-1.417 0-2.5-1.084-2.5-2.5V12c0-1.417 1.083-2.5 2.5-2.5h2.917l1.416-2.167C13 7.167 13.25 7 13.5 7h5c.25 0 .5.167.667.333L20.583 9.5H23.5zM16 11.417a4.706 4.706 0 00-4.75 4.75 4.704 4.704 0 004.75 4.75 4.703 4.703 0 004.75-4.75c0-2.663-2.09-4.75-4.75-4.75zm0 7.825c-1.744 0-3.076-1.332-3.076-3.074 0-1.745 1.333-3.077 3.076-3.077 1.744 0 3.074 1.333 3.074 3.076s-1.33 3.075-3.074 3.075z",fill:"#02B383","fill-rule":"nonzero"}))),(0,D.h)("div",{className:"uppy-DashboardTab-name"},e.props.i18n("takePictureBtn"))))},e.renderVideoCamera=function(){return(0,D.h)("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobileVideoCamera"},(0,D.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:e.triggerVideoCameraInputClick},(0,D.h)("div",{className:"uppy-DashboardTab-inner"},(0,D.h)("svg",{"aria-hidden":"true",width:"32",height:"32",viewBox:"0 0 32 32"},(0,D.h)("path",{fill:"#FF675E",fillRule:"nonzero",d:"m21.254 14.277 2.941-2.588c.797-.313 1.243.818 1.09 1.554-.01 2.094.02 4.189-.017 6.282-.126.915-1.145 1.08-1.58.34l-2.434-2.142c-.192.287-.504 1.305-.738.468-.104-1.293-.028-2.596-.05-3.894.047-.312.381.823.426 1.069.063-.384.206-.744.362-1.09zm-12.939-3.73c3.858.013 7.717-.025 11.574.02.912.129 1.492 1.237 1.351 2.217-.019 2.412.04 4.83-.03 7.239-.17 1.025-1.166 1.59-2.029 1.429-3.705-.012-7.41.025-11.114-.019-.913-.129-1.492-1.237-1.352-2.217.018-2.404-.036-4.813.029-7.214.136-.82.83-1.473 1.571-1.454z "}))),(0,D.h)("div",{className:"uppy-DashboardTab-name"},e.props.i18n("recordVideoBtn"))))},e.renderBrowseButton=function(t,n){var r=e.props.acquirers.length;return(0,D.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-browse",onClick:n,"data-uppy-super-focusable":0===r},t)},e.renderDropPasteBrowseTagline=function(t){var n=e.renderBrowseButton(e.props.i18n("browseFiles"),e.triggerFileInputClick),r=e.renderBrowseButton(e.props.i18n("browseFolders"),e.triggerFolderInputClick),i=e.props.fileManagerSelectionType,a=i.charAt(0).toUpperCase()+i.slice(1);return(0,D.h)("div",{"class":"uppy-Dashboard-AddFiles-title"},e.props.disableLocalFiles?e.props.i18n("importFiles"):t>0?e.props.i18nArray("dropPasteImport".concat(a),{browseFiles:n,browseFolders:r,browse:n}):e.props.i18nArray("dropPaste".concat(a),{browseFiles:n,browseFolders:r,browse:n}))},e.renderAcquirer=function(t){return(0,D.h)("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":t.id},(0,D.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-cy":t.id,"aria-controls":"uppy-DashboardContent-panel--".concat(t.id),"aria-selected":e.props.activePickerPanel.id===t.id,"data-uppy-super-focusable":!0,onClick:function(){return e.props.showPanel(t.id)}},(0,D.h)("div",{className:"uppy-DashboardTab-inner"},t.icon()),(0,D.h)("div",{className:"uppy-DashboardTab-name"},t.name)))},e.renderAcquirers=function(t){var n=(0,tn.A)(t),r=n.splice(t.length-2,t.length);return(0,D.h)(D.FK,null,n.map((function(t){return e.renderAcquirer(t)})),(0,D.h)("span",{role:"presentation",style:{"white-space":"nowrap"}},r.map((function(t){return e.renderAcquirer(t)}))))},e.renderSourcesList=function(t,n){var r,i=e.props,a=i.showNativePhotoCameraButton,o=i.showNativeVideoCameraButton,s=[],u="myDevice";n||s.push({key:u,elements:e.renderMyDeviceAcquirer()}),a&&s.push({key:"nativePhotoCameraButton",elements:e.renderPhotoCamera()}),o&&s.push({key:"nativePhotoCameraButton",elements:e.renderVideoCamera()}),(r=s).push.apply(r,(0,tn.A)(t.map((function(t){return{key:t.id,elements:e.renderAcquirer(t)}})))),1===s.length&&s[0].key===u&&(s=[]);var c=(0,tn.A)(s),l=c.splice(s.length-2,s.length),d=function(e){return e.map((function(e){var t=e.key,n=e.elements;return(0,D.h)(D.FK,{key:t},n)}))};return(0,D.h)(D.FK,null,e.renderDropPasteBrowseTagline(s.length),(0,D.h)("div",{className:"uppy-Dashboard-AddFiles-list",role:"tablist"},d(c),(0,D.h)("span",{role:"presentation",style:{"white-space":"nowrap"}},d(l))))},e}return(0,u.A)(n,e),(0,a.A)(n,[{key:t,value:function(){this.props.i18nArray("dropPasteBoth"),this.props.i18nArray("dropPasteFiles"),this.props.i18nArray("dropPasteFolders"),this.props.i18nArray("dropPasteImportBoth"),this.props.i18nArray("dropPasteImportFiles"),this.props.i18nArray("dropPasteImportFolders")}},{key:"renderPoweredByUppy",value:function(){var e=(0,this.props.i18nArray)("poweredBy",{uppy:(0,D.h)("span",null,(0,D.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-poweredByIcon",width:"11",height:"11",viewBox:"0 0 11 11"},(0,D.h)("path",{d:"M7.365 10.5l-.01-4.045h2.612L5.5.806l-4.467 5.65h2.604l.01 4.044h3.718z",fillRule:"evenodd"})),(0,D.h)("span",{className:"uppy-Dashboard-poweredByUppy"},"Uppy"))});return(0,D.h)("a",{tabIndex:"-1",href:"https://uppy.io",rel:"noreferrer noopener",target:"_blank",className:"uppy-Dashboard-poweredBy"},e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.showNativePhotoCameraButton,r=t.showNativeVideoCameraButton,i=t.nativeCameraFacingMode;return(0,D.h)("div",{className:"uppy-Dashboard-AddFiles"},this.renderHiddenInput(!1,(function(t){e.fileInput=t})),this.renderHiddenInput(!0,(function(t){e.folderInput=t})),n&&this.renderHiddenCameraInput("photo",i,(function(t){e.mobilePhotoFileInput=t})),r&&this.renderHiddenCameraInput("video",i,(function(t){e.mobileVideoFileInput=t})),this.renderSourcesList(this.props.acquirers,this.props.disableLocalFiles),(0,D.h)("div",{className:"uppy-Dashboard-AddFiles-info"},this.props.note&&(0,D.h)("div",{className:"uppy-Dashboard-note"},this.props.note),this.props.proudlyDisplayPoweredByUppy&&this.renderPoweredByUppy(this.props)))}}])}(D.uA,Ma);const ja=La;const Ua=function(e){return(0,D.h)("div",{className:A("uppy-Dashboard-AddFilesPanel",e.className),"data-uppy-panelType":"AddFiles","aria-hidden":!e.showAddFilesPanel},(0,D.h)("div",{className:"uppy-DashboardContent-bar"},(0,D.h)("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},e.i18n("addingMoreFiles")),(0,D.h)("button",{className:"uppy-DashboardContent-back",type:"button",onClick:function(){return e.toggleAddFilesPanel(!1)}},e.i18n("back"))),(0,D.h)(ja,e))};const za=function(e){var t=e.target.tagName;"INPUT"!==t&&"TEXTAREA"!==t?(e.preventDefault(),e.stopPropagation()):e.stopPropagation()};const Va=function(e){var t=e.activePickerPanel,n=e.className,r=e.hideAllPanels,i=e.i18n,a=e.state,o=e.uppy;return(0,D.h)("div",{className:A("uppy-DashboardContent-panel",n),role:"tabpanel","data-uppy-panelType":"PickerPanel",id:"uppy-DashboardContent-panel--".concat(t.id),onDragOver:za,onDragLeave:za,onDrop:za,onPaste:za},(0,D.h)("div",{className:"uppy-DashboardContent-bar"},(0,D.h)("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},i("importFrom",{name:t.name})),(0,D.h)("button",{className:"uppy-DashboardContent-back",type:"button",onClick:r},i("cancel"))),(0,D.h)("div",{className:"uppy-DashboardContent-panelBody"},o.getPlugin(t.id).render(a)))};const qa=function(e){var t=e.files[e.fileCardFor];return(0,D.h)("div",{className:A("uppy-DashboardContent-panel",e.className),role:"tabpanel","data-uppy-panelType":"FileEditor",id:"uppy-DashboardContent-panel--editor"},(0,D.h)("div",{className:"uppy-DashboardContent-bar"},(0,D.h)("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},e.i18nArray("editing",{file:(0,D.h)("span",{className:"uppy-DashboardContent-titleFile"},t.meta?t.meta.name:t.name)})),(0,D.h)("button",{className:"uppy-DashboardContent-back",type:"button",onClick:function(){e.uppy.emit("file-editor:cancel",t),e.closeFileEditor()}},e.i18n("cancel")),(0,D.h)("button",{className:"uppy-DashboardContent-save",type:"button",onClick:e.saveFileEditor},e.i18n("save"))),(0,D.h)("div",{className:"uppy-DashboardContent-panelBody"},e.editors.map((function(t){return e.uppy.getPlugin(t.id).render(e.state)}))))};var Ha="error",Wa="waiting",Ka="preprocessing",$a="uploading",Ga="postprocessing",Qa="complete",Ya="paused";function Xa(e){var t=e.files,n=e.i18n,r=e.isAllComplete,i=e.isAllErrored,a=e.isAllPaused,o=e.inProgressNotPausedFiles,s=e.newFiles,u=e.processingFiles,c=function(e,t,n,r){if(void 0===r&&(r={}),e)return Ha;if(t)return Qa;if(n)return Ya;for(var i=Wa,a=Object.keys(r),o=0;o<a.length;o++){var s=r[a[o]].progress;if(s.uploadStarted&&!s.uploadComplete)return $a;s.preprocess&&i!==$a&&(i=Ka),s.postprocess&&i!==$a&&i!==Ka&&(i=Ga)}return i}(i,r,a,t);switch(c){case"uploading":return n("uploadingXFiles",{smart_count:o.length});case"preprocessing":case"postprocessing":return n("processingXFiles",{smart_count:u.length});case"paused":return n("uploadPaused");case"waiting":return n("xFilesSelected",{smart_count:s.length});case"complete":return n("uploadComplete");case"error":return n("error")}}const Za=function(e){var t=e.i18n,n=e.isAllComplete,r=e.hideCancelButton,i=e.maxNumberOfFiles,a=e.toggleAddFilesPanel,o=e.uppy,s=e.allowNewUpload;return s&&i&&(s=e.totalFileCount<e.maxNumberOfFiles),(0,D.h)("div",{className:"uppy-DashboardContent-bar"},n||r?(0,D.h)("div",null):(0,D.h)("button",{className:"uppy-DashboardContent-back",type:"button",onClick:function(){return o.cancelAll()}},t("cancel")),(0,D.h)("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},(0,D.h)(Xa,e)),s?(0,D.h)("button",{className:"uppy-DashboardContent-addMore",type:"button","aria-label":t("addMoreFiles"),title:t("addMoreFiles"),onClick:function(){return a(!0)}},(0,D.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"15",height:"15",viewBox:"0 0 15 15"},(0,D.h)("path",{d:"M8 6.5h6a.5.5 0 0 1 .5.5v.5a.5.5 0 0 1-.5.5H8v6a.5.5 0 0 1-.5.5H7a.5.5 0 0 1-.5-.5V8h-6a.5.5 0 0 1-.5-.5V7a.5.5 0 0 1 .5-.5h6v-6A.5.5 0 0 1 7 0h.5a.5.5 0 0 1 .5.5v6z"})),(0,D.h)("span",{className:"uppy-DashboardContent-addMoreCaption"},t("addMore"))):(0,D.h)("div",null))};n(21699);function Ja(e){var t=e.computedMetaFields,n=e.requiredMetaFields,r=e.updateMeta,i=e.form,a=e.formState,o={text:"uppy-u-reset uppy-c-textInput uppy-Dashboard-FileCard-input"};return t.map((function(e){var t="uppy-Dashboard-FileCard-input-".concat(e.id),s=n.includes(e.id);return(0,D.h)("fieldset",{key:e.id,className:"uppy-Dashboard-FileCard-fieldset"},(0,D.h)("label",{className:"uppy-Dashboard-FileCard-label",htmlFor:t},e.name),void 0!==e.render?e.render({value:a[e.id],onChange:function(t){return r(t,e.id)},fieldCSSClasses:o,required:s,form:i.id},D.h):(0,D.h)("input",{className:o.text,id:t,form:i.id,type:e.type||"text",required:s,value:a[e.id],placeholder:e.placeholder,onInput:function(t){return r(t.target.value,e.id)},"data-uppy-super-focusable":!0}))}))}function eo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function to(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eo(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function no(e){var t,n=e.files,i=e.fileCardFor,a=e.toggleFileCard,o=e.saveFileCard,s=e.metaFields,u=e.requiredMetaFields,c=e.openFileEditor,l=e.i18n,d=e.i18nArray,p=e.className,f=e.canEditFile,h=n[i],m=null!=(t="function"==typeof s?s(n[i]):s)?t:[],v=f(h),g={};m.forEach((function(e){var t;g[e.id]=null!=(t=h.meta[e.id])?t:""}));var y=Sr(g),b=(0,pe.A)(y,2),w=b[0],E=b[1],k=Or((function(e){e.preventDefault(),o(w,i)}),[o,w,i]),C=function(){a(!1)},_=Sr((function(){var e=document.createElement("form");return e.setAttribute("tabindex","-1"),e.id=(0,oi.A)(),e})),x=(0,pe.A)(_,1)[0];return Tr((function(){return document.body.appendChild(x),x.addEventListener("submit",k),function(){x.removeEventListener("submit",k),document.body.removeChild(x)}}),[x,k]),(0,D.h)("div",{className:A("uppy-Dashboard-FileCard",p),"data-uppy-panelType":"FileCard",onDragOver:za,onDragLeave:za,onDrop:za,onPaste:za},(0,D.h)("div",{className:"uppy-DashboardContent-bar"},(0,D.h)("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},d("editing",{file:(0,D.h)("span",{className:"uppy-DashboardContent-titleFile"},h.meta?h.meta.name:h.name)})),(0,D.h)("button",{className:"uppy-DashboardContent-back",type:"button",form:x.id,title:l("finishEditingFile"),onClick:C},l("cancel"))),(0,D.h)("div",{className:"uppy-Dashboard-FileCard-inner"},(0,D.h)("div",{className:"uppy-Dashboard-FileCard-preview",style:{backgroundColor:ma(h.type).color}},(0,D.h)(va,{file:h}),v&&(0,D.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-FileCard-edit",onClick:function(e){k(e),c(h)}},l("editImage"))),(0,D.h)("div",{className:"uppy-Dashboard-FileCard-info"},(0,D.h)(Ja,{computedMetaFields:m,requiredMetaFields:u,updateMeta:function(e,t){E(to(to({},w),{},(0,r.A)({},t,e)))},form:x,formState:w})),(0,D.h)("div",{className:"uppy-Dashboard-FileCard-actions"},(0,D.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Dashboard-FileCard-actionsBtn",type:"submit",form:x.id},l("saveChanges")),(0,D.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-link uppy-Dashboard-FileCard-actionsBtn",type:"button",onClick:C,form:x.id},l("cancel")))))}function ro(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ro=function(){return!!e})()}var io="uppy-transition-slideDownUp",ao=function(e){function t(e){var n;return(0,i.A)(this,t),n=function(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,ro()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}(this,t,[e]),n.state={cachedChildren:null,className:""},n}return(0,u.A)(t,e),(0,a.A)(t,[{key:"componentWillUpdate",value:function(e){var t=this,n=this.state.cachedChildren,r=(0,D.v2)(e.children)[0];if(n===r)return null;var i={cachedChildren:r};r&&!n&&(i.className="".concat(io,"-enter"),cancelAnimationFrame(this.animationFrame),clearTimeout(this.leaveTimeout),this.leaveTimeout=void 0,this.animationFrame=requestAnimationFrame((function(){t.setState({className:"".concat(io,"-enter ").concat(io,"-enter-active")}),t.enterTimeout=setTimeout((function(){t.setState({className:""})}),250)}))),n&&!r&&void 0===this.leaveTimeout&&(i.cachedChildren=n,i.className="".concat(io,"-leave"),cancelAnimationFrame(this.animationFrame),clearTimeout(this.enterTimeout),this.enterTimeout=void 0,this.animationFrame=requestAnimationFrame((function(){t.setState({className:"".concat(io,"-leave ").concat(io,"-leave-active")}),t.leaveTimeout=setTimeout((function(){t.setState({cachedChildren:null,className:""})}),250)}))),this.setState(i)}},{key:"render",value:function(){var e=this.state,t=e.cachedChildren,n=e.className;return t?(0,D.Ob)(t,{className:A(n,t.props.className)}):null}}])}(D.uA);const oo=ao;function so(){return so=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},so.apply(this,arguments)}const uo={strings:{closeModal:"Close Modal",addMoreFiles:"Add more files",addingMoreFiles:"Adding more files",importFrom:"Import from %{name}",dashboardWindowTitle:"Uppy Dashboard Window (Press escape to close)",dashboardTitle:"Uppy Dashboard",copyLinkToClipboardSuccess:"Link copied to clipboard.",copyLinkToClipboardFallback:"Copy the URL below",copyLink:"Copy link",back:"Back",removeFile:"Remove file",editFile:"Edit file",editImage:"Edit image",editing:"Editing %{file}",error:"Error",finishEditingFile:"Finish editing file",saveChanges:"Save changes",myDevice:"My Device",dropHint:"Drop your files here",uploadComplete:"Upload complete",uploadPaused:"Upload paused",resumeUpload:"Resume upload",pauseUpload:"Pause upload",retryUpload:"Retry upload",cancelUpload:"Cancel upload",xFilesSelected:{0:"%{smart_count} file selected",1:"%{smart_count} files selected"},uploadingXFiles:{0:"Uploading %{smart_count} file",1:"Uploading %{smart_count} files"},processingXFiles:{0:"Processing %{smart_count} file",1:"Processing %{smart_count} files"},poweredBy:"Powered by %{uppy}",addMore:"Add more",editFileWithFilename:"Edit file %{file}",save:"Save",cancel:"Cancel",dropPasteFiles:"Drop files here or %{browseFiles}",dropPasteFolders:"Drop files here or %{browseFolders}",dropPasteBoth:"Drop files here, %{browseFiles} or %{browseFolders}",dropPasteImportFiles:"Drop files here, %{browseFiles} or import from:",dropPasteImportFolders:"Drop files here, %{browseFolders} or import from:",dropPasteImportBoth:"Drop files here, %{browseFiles}, %{browseFolders} or import from:",importFiles:"Import files from:",browseFiles:"browse files",browseFolders:"browse folders",recoveredXFiles:{0:"We could not fully recover 1 file. Please re-select it and resume the upload.",1:"We could not fully recover %{smart_count} files. Please re-select them and resume the upload."},recoveredAllFiles:"We restored all files. You can now resume the upload.",sessionRestored:"Session restored",reSelect:"Re-select",missingRequiredMetaFields:{0:"Missing required meta field: %{fields}.",1:"Missing required meta fields: %{fields}."},takePictureBtn:"Take Picture",recordVideoBtn:"Record Video"}};function co(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return lo(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lo(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function lo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function po(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?po(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):po(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ho(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ho=function(){return!!e})()}function mo(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var vo=0;function go(e){return"__private_"+vo+++"_"+e}var yo=sa.A.default||sa.A;function bo(){var e={};return e.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),e}var wo=go("disabledNodes"),Do=go("generateLargeThumbnailIfSingleFile"),Ao=go("openFileEditorWhenFilesAdded"),Eo=go("attachRenderFunctionToTarget"),ko=go("isTargetSupported"),Co=go("getAcquirers"),_o=go("getProgressIndicators"),xo=go("getEditors"),So=go("addSpecifiedPluginsFromOptions"),To=go("autoDiscoverPlugins"),Fo=go("addSupportedPluginIfNoTarget"),Oo=function(e){function t(e,n){var a,u;(0,i.A)(this,t),a=function(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,ho()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}(this,t,[e,n]),u=a,Object.defineProperty(a,wo,{writable:!0,value:null}),a.removeTarget=function(e){var t=a.getPluginState().targets.filter((function(t){return t.id!==e.id}));a.setPluginState({targets:t})},a.addTarget=function(e){var t=e.id||e.constructor.name,n=e.title||t,r=e.type;if("acquirer"===r||"progressindicator"===r||"editor"===r){var i={id:t,name:n,type:r},o=a.getPluginState().targets.slice();return o.push(i),a.setPluginState({targets:o}),a.el}a.uppy.log("Dashboard: can only be targeted by plugins of types: acquirer, progressindicator, editor","error")},a.hideAllPanels=function(){var e=a.getPluginState(),t={activePickerPanel:!1,showAddFilesPanel:!1,activeOverlayType:null,fileCardFor:null,showFileEditor:!1};e.activePickerPanel===t.activePickerPanel&&e.showAddFilesPanel===t.showAddFilesPanel&&e.showFileEditor===t.showFileEditor&&e.activeOverlayType===t.activeOverlayType||(a.setPluginState(t),a.uppy.emit("dashboard:close-panel",e.activePickerPanel.id))},a.showPanel=function(e){var t=a.getPluginState().targets.filter((function(t){return"acquirer"===t.type&&t.id===e}))[0];a.setPluginState({activePickerPanel:t,activeOverlayType:"PickerPanel"}),a.uppy.emit("dashboard:show-panel",e)},a.canEditFile=function(e){var t=a.getPluginState().targets;return mo(a,xo)[xo](t).some((function(t){return a.uppy.getPlugin(t.id).canEditFile(e)}))},a.openFileEditor=function(e){var t=a.getPluginState().targets,n=mo(a,xo)[xo](t);a.setPluginState({showFileEditor:!0,fileCardFor:e.id||null,activeOverlayType:"FileEditor"}),n.forEach((function(t){a.uppy.getPlugin(t.id).selectFile(e)}))},a.closeFileEditor=function(){var e=a.getPluginState().metaFields;e&&e.length>0?a.setPluginState({showFileEditor:!1,activeOverlayType:"FileCard"}):a.setPluginState({showFileEditor:!1,fileCardFor:null,activeOverlayType:"AddFiles"})},a.saveFileEditor=function(){var e=a.getPluginState().targets;mo(a,xo)[xo](e).forEach((function(e){a.uppy.getPlugin(e.id).save()})),a.closeFileEditor()},a.openModal=function(){var e=bo(),t=e.promise,n=e.resolve;if(a.savedScrollPosition=window.pageYOffset,a.savedActiveElement=document.activeElement,a.opts.disablePageScrollWhenModalOpen&&document.body.classList.add("uppy-Dashboard-isFixed"),a.opts.animateOpenClose&&a.getPluginState().isClosing){var r=function(){a.setPluginState({isHidden:!1}),a.el.removeEventListener("animationend",r,!1),n()};a.el.addEventListener("animationend",r,!1)}else a.setPluginState({isHidden:!1}),n();return a.opts.browserBackButtonClose&&a.updateBrowserHistory(),document.addEventListener("keydown",a.handleKeyDownInModal),a.uppy.emit("dashboard:modal-open"),t},a.closeModal=function(e){void 0===e&&(e={});var t=e.manualClose,n=void 0===t||t,r=u.getPluginState(),i=r.isHidden,a=r.isClosing;if(!i&&!a){var o,s=bo(),c=s.promise,l=s.resolve;if(u.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),u.opts.animateOpenClose){u.setPluginState({isClosing:!0});var d=function(){u.setPluginState({isHidden:!0,isClosing:!1}),u.superFocus.cancel(),u.savedActiveElement.focus(),u.el.removeEventListener("animationend",d,!1),l()};u.el.addEventListener("animationend",d,!1)}else u.setPluginState({isHidden:!0}),u.superFocus.cancel(),u.savedActiveElement.focus(),l();if(document.removeEventListener("keydown",u.handleKeyDownInModal),n)if(u.opts.browserBackButtonClose)null!=(o=history.state)&&o[u.modalName]&&history.back();return u.uppy.emit("dashboard:modal-closed"),c}},a.isModalOpen=function(){return!a.getPluginState().isHidden||!1},a.requestCloseModal=function(){return a.opts.onRequestCloseModal?a.opts.onRequestCloseModal():a.closeModal()},a.setDarkModeCapability=function(e){var t=a.uppy.getState().capabilities;a.uppy.setState({capabilities:fo(fo({},t),{},{darkMode:e})})},a.handleSystemDarkModeChange=function(e){var t=e.matches;a.uppy.log("[Dashboard] Dark mode is ".concat(t?"on":"off")),a.setDarkModeCapability(t)},a.toggleFileCard=function(e,t){var n=a.uppy.getFile(t);e?a.uppy.emit("dashboard:file-edit-start",n):a.uppy.emit("dashboard:file-edit-complete",n),a.setPluginState({fileCardFor:e?t:null,activeOverlayType:e?"FileCard":null})},a.toggleAddFilesPanel=function(e){a.setPluginState({showAddFilesPanel:e,activeOverlayType:e?"AddFiles":null})},a.addFiles=function(e){var t=e.map((function(e){return{source:a.id,name:e.name,type:e.type,data:e,meta:{relativePath:e.relativePath||e.webkitRelativePath||null}}}));try{a.uppy.addFiles(t)}catch(e){a.uppy.log(e)}},a.startListeningToResize=function(){a.resizeObserver=new ResizeObserver((function(e){var t=e[0].contentRect,n=t.width,r=t.height;a.setPluginState({containerWidth:n,containerHeight:r,areInsidesReadyToBeVisible:!0})})),a.resizeObserver.observe(a.el.querySelector(".uppy-Dashboard-inner")),a.makeDashboardInsidesVisibleAnywayTimeout=setTimeout((function(){var e=a.getPluginState(),t=!a.opts.inline&&e.isHidden;e.areInsidesReadyToBeVisible||t||(a.uppy.log("[Dashboard] resize event didnt fire on time: defaulted to mobile layout","warning"),a.setPluginState({areInsidesReadyToBeVisible:!0}))}),1e3)},a.stopListeningToResize=function(){a.resizeObserver.disconnect(),clearTimeout(a.makeDashboardInsidesVisibleAnywayTimeout)},a.recordIfFocusedOnUppyRecently=function(e){a.el.contains(e.target)?a.ifFocusedOnUppyRecently=!0:(a.ifFocusedOnUppyRecently=!1,a.superFocus.cancel())},a.disableInteractiveElements=function(e){var t,n,r=null!=(t=mo(a,wo)[wo])?t:Xt(a.el.querySelectorAll(["a[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])",'[role="button"]:not([disabled])'])).filter((function(e){return!e.classList.contains("uppy-Dashboard-close")})),i=co(r);try{for(i.s();!(n=i.n()).done;){var o=n.value;"A"===o.tagName?o.setAttribute("aria-disabled",e):o.disabled=e}}catch(e){i.e(e)}finally{i.f()}mo(a,wo)[wo]=e?r:null,a.dashboardIsDisabled=e},a.updateBrowserHistory=function(){var e;null!=(e=history.state)&&e[a.modalName]||history.pushState(fo(fo({},history.state),{},(0,r.A)({},a.modalName,!0)),""),window.addEventListener("popstate",a.handlePopState,!1)},a.handlePopState=function(e){var t;!a.isModalOpen()||e.state&&e.state[a.modalName]||a.closeModal({manualClose:!1}),!a.isModalOpen()&&null!=(t=e.state)&&t[a.modalName]&&history.back()},a.handleKeyDownInModal=function(e){27===e.keyCode&&a.requestCloseModal(e),9===e.keyCode&&da(e,a.getPluginState().activeOverlayType,a.el)},a.handleClickOutside=function(){a.opts.closeModalOnClickOutside&&a.requestCloseModal()},a.handlePaste=function(e){a.uppy.iteratePlugins((function(t){"acquirer"===t.type&&(null==t.handleRootPaste||t.handleRootPaste(e))}));var t=Xt(e.clipboardData.files);t.length>0&&(a.uppy.log("[Dashboard] Files pasted"),a.addFiles(t))},a.handleInputChange=function(e){e.preventDefault();var t=Xt(e.target.files);t.length>0&&(a.uppy.log("[Dashboard] Files selected through input"),a.addFiles(t))},a.handleDragOver=function(e){var t,n;e.preventDefault(),e.stopPropagation();var r=function(){var t=!0;return a.uppy.iteratePlugins((function(n){null!=n.canHandleRootDrop&&n.canHandleRootDrop(e)&&(t=!0)})),t}(),i=e.dataTransfer.types.some((function(e){return"Files"===e}));if(!r&&!i||a.opts.disabled||a.opts.disableLocalFiles&&(i||!r)||!a.uppy.getState().allowNewUpload)return e.dataTransfer.dropEffect="none",void clearTimeout(a.removeDragOverClassTimeout);e.dataTransfer.dropEffect="copy",clearTimeout(a.removeDragOverClassTimeout),a.setPluginState({isDraggingOver:!0}),null==(t=(n=a.opts).onDragOver)||t.call(n,e)},a.handleDragLeave=function(e){var t,n;e.preventDefault(),e.stopPropagation(),clearTimeout(a.removeDragOverClassTimeout),a.removeDragOverClassTimeout=setTimeout((function(){a.setPluginState({isDraggingOver:!1})}),50),null==(t=(n=a.opts).onDragLeave)||t.call(n,e)},a.handleDrop=function(){var e=(0,l.A)(d.mark((function e(t){var n,r,i,o,s;return d.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),t.stopPropagation(),clearTimeout(a.removeDragOverClassTimeout),a.setPluginState({isDraggingOver:!1}),a.uppy.iteratePlugins((function(e){"acquirer"===e.type&&(null==e.handleRootDrop||e.handleRootDrop(t))})),i=!1,o=function(e){a.uppy.log(e,"error"),i||(a.uppy.info(e.message,"error"),i=!0)},a.uppy.log("[Dashboard] Processing dropped files"),e.next=10,mn(t.dataTransfer,{logDropError:o});case 10:(s=e.sent).length>0&&(a.uppy.log("[Dashboard] Files dropped"),a.addFiles(s)),null==(n=(r=a.opts).onDrop)||n.call(r,t);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleRequestThumbnail=function(e){a.opts.waitForThumbnailsBeforeUpload||a.uppy.emit("thumbnail:request",e)},a.handleCancelThumbnail=function(e){a.opts.waitForThumbnailsBeforeUpload||a.uppy.emit("thumbnail:cancel",e)},a.handleKeyDownInInline=function(e){9===e.keyCode&&function(e,t,n){null===t||da(e,t,n)}(e,a.getPluginState().activeOverlayType,a.el)},a.handlePasteOnBody=function(e){a.el.contains(document.activeElement)&&a.handlePaste(e)},a.handleComplete=function(e){var t=e.failed;a.opts.closeAfterFinish&&0===t.length&&a.requestCloseModal()},a.handleCancelRestore=function(){a.uppy.emit("restore-canceled")},Object.defineProperty(a,Do,{writable:!0,value:function(){if(!a.opts.disableThumbnailGenerator){var e=a.uppy.getFiles();if(1===e.length){var t=a.uppy.getPlugin("".concat(a.id,":ThumbnailGenerator"));null==t||t.setOptions({thumbnailWidth:600});var n=fo(fo({},e[0]),{},{preview:void 0});t.requestThumbnail(n).then((function(){null==t||t.setOptions({thumbnailWidth:a.opts.thumbnailWidth})}))}}}}),Object.defineProperty(a,Ao,{writable:!0,value:function(e){var t=e[0],n=a.getPluginState().metaFields,r=n&&n.length>0,i=a.canEditFile(t);r?a.toggleFileCard(!0,t.id):i&&a.openFileEditor(t)}}),a.initEvents=function(){if(a.opts.trigger&&!a.opts.inline){var e=Yt(a.opts.trigger);e?e.forEach((function(e){return e.addEventListener("click",a.openModal)})):a.uppy.log("Dashboard modal trigger not found. Make sure `trigger` is set in Dashboard options, unless you are planning to call `dashboard.openModal()` method yourself","warning")}a.startListeningToResize(),document.addEventListener("paste",a.handlePasteOnBody),a.uppy.on("plugin-added",mo(a,Fo)[Fo]),a.uppy.on("plugin-remove",a.removeTarget),a.uppy.on("file-added",a.hideAllPanels),a.uppy.on("dashboard:modal-closed",a.hideAllPanels),a.uppy.on("complete",a.handleComplete),a.uppy.on("files-added",mo(a,Do)[Do]),a.uppy.on("file-removed",mo(a,Do)[Do]),document.addEventListener("focus",a.recordIfFocusedOnUppyRecently,!0),document.addEventListener("click",a.recordIfFocusedOnUppyRecently,!0),a.opts.inline&&a.el.addEventListener("keydown",a.handleKeyDownInInline),a.opts.autoOpenFileEditor&&a.uppy.on("files-added",mo(a,Ao)[Ao])},a.removeEvents=function(){var e=Yt(a.opts.trigger);!a.opts.inline&&e&&e.forEach((function(e){return e.removeEventListener("click",a.openModal)})),a.stopListeningToResize(),document.removeEventListener("paste",a.handlePasteOnBody),window.removeEventListener("popstate",a.handlePopState,!1),a.uppy.off("plugin-added",mo(a,Fo)[Fo]),a.uppy.off("plugin-remove",a.removeTarget),a.uppy.off("file-added",a.hideAllPanels),a.uppy.off("dashboard:modal-closed",a.hideAllPanels),a.uppy.off("complete",a.handleComplete),a.uppy.off("files-added",mo(a,Do)[Do]),a.uppy.off("file-removed",mo(a,Do)[Do]),document.removeEventListener("focus",a.recordIfFocusedOnUppyRecently),document.removeEventListener("click",a.recordIfFocusedOnUppyRecently),a.opts.inline&&a.el.removeEventListener("keydown",a.handleKeyDownInInline),a.opts.autoOpenFileEditor&&a.uppy.off("files-added",mo(a,Ao)[Ao])},a.superFocusOnEachUpdate=function(){var e=a.el.contains(document.activeElement),t=document.activeElement===document.body||null===document.activeElement,n=0===a.uppy.getState().info.length,r=!a.opts.inline;n&&(r||e||t&&a.ifFocusedOnUppyRecently)?a.superFocus(a.el,a.getPluginState().activeOverlayType):a.superFocus.cancel()},a.afterUpdate=function(){!a.opts.disabled||a.dashboardIsDisabled?(!a.opts.disabled&&a.dashboardIsDisabled&&a.disableInteractiveElements(!1),a.superFocusOnEachUpdate()):a.disableInteractiveElements(!0)},a.saveFileCard=function(e,t){a.uppy.setFileMeta(t,e),a.toggleFileCard(!1,t)},Object.defineProperty(a,Eo,{writable:!0,value:function(e){var t=a.uppy.getPlugin(e.id);return fo(fo({},e),{},{icon:t.icon||a.opts.defaultPickerIcon,render:t.render})}}),Object.defineProperty(a,ko,{writable:!0,value:function(e){var t=a.uppy.getPlugin(e.id);return"function"!=typeof t.isSupported||t.isSupported()}}),Object.defineProperty(a,Co,{writable:!0,value:yo((function(e){return e.filter((function(e){return"acquirer"===e.type&&mo(a,ko)[ko](e)})).map(mo(a,Eo)[Eo])}))}),Object.defineProperty(a,_o,{writable:!0,value:yo((function(e){return e.filter((function(e){return"progressindicator"===e.type})).map(mo(a,Eo)[Eo])}))}),Object.defineProperty(a,xo,{writable:!0,value:yo((function(e){return e.filter((function(e){return"editor"===e.type})).map(mo(a,Eo)[Eo])}))}),a.render=function(e){var t,n=a.getPluginState(),r=e.files,i=e.capabilities,o=e.allowNewUpload,s=a.uppy.getObjectOfFilesPerState(),u=s.newFiles,c=s.uploadStartedFiles,l=s.completeFiles,d=s.erroredFiles,p=s.inProgressFiles,f=s.inProgressNotPausedFiles,h=s.processingFiles,m=s.isUploadStarted,v=s.isAllComplete,g=s.isAllErrored,y=s.isAllPaused,b=mo(a,Co)[Co](n.targets),w=mo(a,_o)[_o](n.targets),E=mo(a,xo)[xo](n.targets);return t="auto"===a.opts.theme?i.darkMode?"dark":"light":a.opts.theme,["files","folders","both"].indexOf(a.opts.fileManagerSelectionType)<0&&(a.opts.fileManagerSelectionType="files",console.warn('Unsupported option for "fileManagerSelectionType". Using default of "'.concat(a.opts.fileManagerSelectionType,'".'))),function(e){var t=0===e.totalFileCount,n=1===e.totalFileCount,r=e.containerWidth>576,i=e.containerHeight>330,a=A({"uppy-Dashboard":!0,"uppy-Dashboard--isDisabled":e.disabled,"uppy-Dashboard--animateOpenClose":e.animateOpenClose,"uppy-Dashboard--isClosing":e.isClosing,"uppy-Dashboard--isDraggingOver":e.isDraggingOver,"uppy-Dashboard--modal":!e.inline,"uppy-size--md":e.containerWidth>576,"uppy-size--lg":e.containerWidth>700,"uppy-size--xl":e.containerWidth>900,"uppy-size--height-md":e.containerHeight>330,"uppy-Dashboard--isAddFilesPanelVisible":e.showAddFilesPanel,"uppy-Dashboard--isInnerWrapVisible":e.areInsidesReadyToBeVisible,"uppy-Dashboard--singleFile":e.singleFileFullScreen&&n&&i}),o=1;e.containerWidth>900?o=5:e.containerWidth>700?o=4:e.containerWidth>576&&(o=3);var s=e.showSelectedFiles&&!t,u=e.recoveredState?Object.keys(e.recoveredState.files).length:null,c=e.files?Object.keys(e.files).filter((function(t){return e.files[t].isGhost})).length:null;return(0,D.h)("div",{className:a,"data-uppy-theme":e.theme,"data-uppy-num-acquirers":e.acquirers.length,"data-uppy-drag-drop-supported":!e.disableLocalFiles&&fa(),"aria-hidden":e.inline?"false":e.isHidden,"aria-disabled":e.disabled,"aria-label":e.inline?e.i18n("dashboardTitle"):e.i18n("dashboardWindowTitle"),onPaste:e.handlePaste,onDragOver:e.handleDragOver,onDragLeave:e.handleDragLeave,onDrop:e.handleDrop},(0,D.h)("div",{"aria-hidden":"true",className:"uppy-Dashboard-overlay",tabIndex:-1,onClick:e.handleClickOutside}),(0,D.h)("div",{className:"uppy-Dashboard-inner","aria-modal":!e.inline&&"true",role:!e.inline&&"dialog",style:{width:e.inline&&e.width?e.width:"",height:e.inline&&e.height?e.height:""}},e.inline?null:(0,D.h)("button",{className:"uppy-u-reset uppy-Dashboard-close",type:"button","aria-label":e.i18n("closeModal"),title:e.i18n("closeModal"),onClick:e.closeModal},(0,D.h)("span",{"aria-hidden":"true"},"")),(0,D.h)("div",{className:"uppy-Dashboard-innerWrap"},(0,D.h)("div",{className:"uppy-Dashboard-dropFilesHereHint"},e.i18n("dropHint")),s&&(0,D.h)(Za,e),u&&(0,D.h)("div",{className:"uppy-Dashboard-serviceMsg"},(0,D.h)("svg",{className:"uppy-Dashboard-serviceMsg-icon","aria-hidden":"true",focusable:"false",width:"21",height:"16",viewBox:"0 0 24 19"},(0,D.h)("g",{transform:"translate(0 -1)",fill:"none",fillRule:"evenodd"},(0,D.h)("path",{d:"M12.857 1.43l10.234 17.056A1 1 0 0122.234 20H1.766a1 1 0 01-.857-1.514L11.143 1.429a1 1 0 011.714 0z",fill:"#FFD300"}),(0,D.h)("path",{fill:"#000",d:"M11 6h2l-.3 8h-1.4z"}),(0,D.h)("circle",{fill:"#000",cx:"12",cy:"17",r:"1"}))),(0,D.h)("strong",{className:"uppy-Dashboard-serviceMsg-title"},e.i18n("sessionRestored")),(0,D.h)("div",{className:"uppy-Dashboard-serviceMsg-text"},c>0?e.i18n("recoveredXFiles",{smart_count:c}):e.i18n("recoveredAllFiles"))),s?(0,D.h)(Ra,{id:e.id,error:e.error,i18n:e.i18n,uppy:e.uppy,files:e.files,acquirers:e.acquirers,resumableUploads:e.resumableUploads,hideRetryButton:e.hideRetryButton,hidePauseResumeButton:e.hidePauseResumeButton,hideCancelButton:e.hideCancelButton,showLinkToFileUploadResult:e.showLinkToFileUploadResult,showRemoveButtonAfterComplete:e.showRemoveButtonAfterComplete,isWide:e.isWide,metaFields:e.metaFields,toggleFileCard:e.toggleFileCard,handleRequestThumbnail:e.handleRequestThumbnail,handleCancelThumbnail:e.handleCancelThumbnail,recoveredState:e.recoveredState,individualCancellation:e.individualCancellation,openFileEditor:e.openFileEditor,canEditFile:e.canEditFile,toggleAddFilesPanel:e.toggleAddFilesPanel,isSingleFile:n,itemsPerRow:o}):(0,D.h)(ja,so({},e,{isSizeMD:r})),(0,D.h)(oo,null,e.showAddFilesPanel?(0,D.h)(Ua,so({key:"AddFiles"},e,{isSizeMD:r})):null),(0,D.h)(oo,null,e.fileCardFor?(0,D.h)(no,so({key:"FileCard"},e)):null),(0,D.h)(oo,null,e.activePickerPanel?(0,D.h)(Va,so({key:"Picker"},e)):null),(0,D.h)(oo,null,e.showFileEditor?(0,D.h)(qa,so({key:"Editor"},e)):null),(0,D.h)("div",{className:"uppy-Dashboard-progressindicators"},e.progressindicators.map((function(t){return e.uppy.getPlugin(t.id).render(e.state)}))))))}({state:e,isHidden:n.isHidden,files:r,newFiles:u,uploadStartedFiles:c,completeFiles:l,erroredFiles:d,inProgressFiles:p,inProgressNotPausedFiles:f,processingFiles:h,isUploadStarted:m,isAllComplete:v,isAllErrored:g,isAllPaused:y,totalFileCount:Object.keys(r).length,totalProgress:e.totalProgress,allowNewUpload:o,acquirers:b,theme:t,disabled:a.opts.disabled,disableLocalFiles:a.opts.disableLocalFiles,direction:a.opts.direction,activePickerPanel:n.activePickerPanel,showFileEditor:n.showFileEditor,saveFileEditor:a.saveFileEditor,closeFileEditor:a.closeFileEditor,disableInteractiveElements:a.disableInteractiveElements,animateOpenClose:a.opts.animateOpenClose,isClosing:n.isClosing,progressindicators:w,editors:E,autoProceed:a.uppy.opts.autoProceed,id:a.id,closeModal:a.requestCloseModal,handleClickOutside:a.handleClickOutside,handleInputChange:a.handleInputChange,handlePaste:a.handlePaste,inline:a.opts.inline,showPanel:a.showPanel,hideAllPanels:a.hideAllPanels,i18n:a.i18n,i18nArray:a.i18nArray,uppy:a.uppy,note:a.opts.note,recoveredState:e.recoveredState,metaFields:n.metaFields,resumableUploads:i.resumableUploads||!1,individualCancellation:i.individualCancellation,isMobileDevice:i.isMobileDevice,fileCardFor:n.fileCardFor,toggleFileCard:a.toggleFileCard,toggleAddFilesPanel:a.toggleAddFilesPanel,showAddFilesPanel:n.showAddFilesPanel,saveFileCard:a.saveFileCard,openFileEditor:a.openFileEditor,canEditFile:a.canEditFile,width:a.opts.width,height:a.opts.height,showLinkToFileUploadResult:a.opts.showLinkToFileUploadResult,fileManagerSelectionType:a.opts.fileManagerSelectionType,proudlyDisplayPoweredByUppy:a.opts.proudlyDisplayPoweredByUppy,hideCancelButton:a.opts.hideCancelButton,hideRetryButton:a.opts.hideRetryButton,hidePauseResumeButton:a.opts.hidePauseResumeButton,showRemoveButtonAfterComplete:a.opts.showRemoveButtonAfterComplete,containerWidth:n.containerWidth,containerHeight:n.containerHeight,areInsidesReadyToBeVisible:n.areInsidesReadyToBeVisible,isTargetDOMEl:a.isTargetDOMEl,parentElement:a.el,allowedFileTypes:a.uppy.opts.restrictions.allowedFileTypes,maxNumberOfFiles:a.uppy.opts.restrictions.maxNumberOfFiles,requiredMetaFields:a.uppy.opts.restrictions.requiredMetaFields,showSelectedFiles:a.opts.showSelectedFiles,showNativePhotoCameraButton:a.opts.showNativePhotoCameraButton,showNativeVideoCameraButton:a.opts.showNativeVideoCameraButton,nativeCameraFacingMode:a.opts.nativeCameraFacingMode,singleFileFullScreen:a.opts.singleFileFullScreen,handleCancelRestore:a.handleCancelRestore,handleRequestThumbnail:a.handleRequestThumbnail,handleCancelThumbnail:a.handleCancelThumbnail,isDraggingOver:n.isDraggingOver,handleDragOver:a.handleDragOver,handleDragLeave:a.handleDragLeave,handleDrop:a.handleDrop})},Object.defineProperty(a,So,{writable:!0,value:function(){(a.opts.plugins||[]).forEach((function(e){var t=a.uppy.getPlugin(e);t?t.mount(a,t):a.uppy.log("[Uppy] Dashboard could not find plugin '".concat(e,"', make sure to uppy.use() the plugins you are specifying"),"warning")}))}}),Object.defineProperty(a,To,{writable:!0,value:function(){a.uppy.iteratePlugins(mo(a,Fo)[Fo])}}),Object.defineProperty(a,Fo,{writable:!0,value:function(e){var t;!e||null!=(t=e.opts)&&t.target||!["acquirer","editor"].includes(e.type)||(a.getPluginState().targets.some((function(t){return e.id===t.id}))||e.mount(a,e))}}),a.install=function(){a.setPluginState({isHidden:!0,fileCardFor:null,activeOverlayType:null,showAddFilesPanel:!1,activePickerPanel:!1,showFileEditor:!1,metaFields:a.opts.metaFields,targets:[],areInsidesReadyToBeVisible:!1,isDraggingOver:!1});var e=a.opts,t=e.inline,n=e.closeAfterFinish;if(t&&n)throw new Error("[Dashboard] `closeAfterFinish: true` cannot be used on an inline Dashboard, because an inline Dashboard cannot be closed at all. Either set `inline: false`, or disable the `closeAfterFinish` option.");var r=a.uppy.opts,i=r.allowMultipleUploads,o=r.allowMultipleUploadBatches;(i||o)&&n&&a.uppy.log("[Dashboard] When using `closeAfterFinish`, we recommended setting the `allowMultipleUploadBatches` option to `false` in the Uppy constructor. See https://uppy.io/docs/uppy/#allowMultipleUploads-true","warning");var s=a.opts.target;s&&a.mount(s,a),a.opts.disableStatusBar||a.uppy.use(ue,{id:"".concat(a.id,":StatusBar"),target:a,hideUploadButton:a.opts.hideUploadButton,hideRetryButton:a.opts.hideRetryButton,hidePauseResumeButton:a.opts.hidePauseResumeButton,hideCancelButton:a.opts.hideCancelButton,showProgressDetails:a.opts.showProgressDetails,hideAfterFinish:a.opts.hideProgressAfterFinish,locale:a.opts.locale,doneButtonHandler:a.opts.doneButtonHandler}),a.opts.disableInformer||a.uppy.use(De,{id:"".concat(a.id,":Informer"),target:a}),a.opts.disableThumbnailGenerator||a.uppy.use($t,{id:"".concat(a.id,":ThumbnailGenerator"),thumbnailWidth:a.opts.thumbnailWidth,thumbnailHeight:a.opts.thumbnailHeight,thumbnailType:a.opts.thumbnailType,waitForThumbnailsBeforeUpload:a.opts.waitForThumbnailsBeforeUpload,lazy:!a.opts.waitForThumbnailsBeforeUpload}),a.darkModeMediaQuery="undefined"!=typeof window&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null;var u=!!a.darkModeMediaQuery&&a.darkModeMediaQuery.matches;a.uppy.log("[Dashboard] Dark mode is ".concat(u?"on":"off")),a.setDarkModeCapability(u),"auto"===a.opts.theme&&a.darkModeMediaQuery.addListener(a.handleSystemDarkModeChange),mo(a,So)[So](),mo(a,To)[To](),a.initEvents()},a.uninstall=function(){if(!a.opts.disableInformer){var e=a.uppy.getPlugin("".concat(a.id,":Informer"));e&&a.uppy.removePlugin(e)}if(!a.opts.disableStatusBar){var t=a.uppy.getPlugin("".concat(a.id,":StatusBar"));t&&a.uppy.removePlugin(t)}if(!a.opts.disableThumbnailGenerator){var n=a.uppy.getPlugin("".concat(a.id,":ThumbnailGenerator"));n&&a.uppy.removePlugin(n)}(a.opts.plugins||[]).forEach((function(e){var t=a.uppy.getPlugin(e);t&&t.unmount()})),"auto"===a.opts.theme&&a.darkModeMediaQuery.removeListener(a.handleSystemDarkModeChange),a.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),a.unmount(),a.removeEvents()},a.id=a.opts.id||"Dashboard",a.title="Dashboard",a.type="orchestrator",a.modalName="uppy-Dashboard-".concat((0,oi.A)()),a.defaultLocale=uo;var c,p={target:"body",metaFields:[],trigger:null,inline:!1,width:750,height:550,thumbnailWidth:280,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,defaultPickerIcon:Bi,showLinkToFileUploadResult:!1,showProgressDetails:!1,hideUploadButton:!1,hideCancelButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideProgressAfterFinish:!1,doneButtonHandler:function(){a.uppy.clearUploadedFiles(),a.requestCloseModal()},note:null,closeModalOnClickOutside:!1,closeAfterFinish:!1,singleFileFullScreen:!0,disableStatusBar:!1,disableInformer:!1,disableThumbnailGenerator:!1,disablePageScrollWhenModalOpen:!0,animateOpenClose:!0,fileManagerSelectionType:"files",proudlyDisplayPoweredByUppy:!0,onRequestCloseModal:function(){return a.closeModal()},showSelectedFiles:!0,showRemoveButtonAfterComplete:!1,browserBackButtonClose:!1,showNativePhotoCameraButton:!1,showNativeVideoCameraButton:!1,theme:"light",autoOpenFileEditor:!1,disabled:!1,disableLocalFiles:!1};return a.opts=fo(fo({},p),n),a.i18nInit(),a.superFocus=(c=!1,pa((function(e,t){var n=ca(e,t),r=n.contains(document.activeElement);if(!r||!c){var i=n.querySelector("[data-uppy-super-focusable]");if(!r||i)if(i)i.focus({preventScroll:!0}),c=!0;else{var a=n.querySelector(ua);null==a||a.focus({preventScroll:!0}),c=!1}}}),260)),a.ifFocusedOnUppyRecently=!1,a.makeDashboardInsidesVisibleAnywayTimeout=null,a.removeDragOverClassTimeout=null,a}return(0,u.A)(t,e),(0,a.A)(t)}(p.A);Oo.VERSION="3.7.5";var Po=n(1352),Io=n(78655),Bo=Po.instanceOf(Io.A),Ro=Po.arrayOf(Po.string),No=Po.shape({strings:Po.object,pluralize:Po.func}),Mo=Po.shape({id:Po.string.isRequired,name:Po.string.isRequired,placeholder:Po.string}),Lo=Po.oneOfType([Po.arrayOf(Mo),Po.func]),jo=Po.oneOfType([Po.string,Po.number]),Uo={uppy:Bo,inline:Po.bool,plugins:Ro,width:jo,height:jo,showProgressDetails:Po.bool,hideUploadButton:Po.bool,hideProgressAfterFinish:Po.bool,note:Po.string,metaFields:Lo,proudlyDisplayPoweredByUppy:Po.bool,disableStatusBar:Po.bool,disableInformer:Po.bool,disableThumbnailGenerator:Po.bool,thumbnailWidth:Po.number,locale:No},zo=(n(53921),["defaultChecked","defaultValue","suppressContentEditableWarning","suppressHydrationWarning","dangerouslySetInnerHTML","accessKey","className","contentEditable","contextMenu","dir","draggable","hidden","id","lang","placeholder","slot","spellCheck","style","tabIndex","title","translate","radioGroup","role","about","datatype","inlist","prefix","property","resource","typeof","vocab","autoCapitalize","autoCorrect","autoSave","color","itemProp","itemScope","itemType","itemID","itemRef","results","security","unselectable","inputMode","is","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"]),Vo=/^(aria-|data-)/;const qo=function(e){return Object.fromEntries(Object.entries(e).filter((function(e){var t=(0,pe.A)(e,1)[0];return Vo.test(t)||zo.includes(t)})))};n(78347);function Ho(e,t){return Object.keys(e).some((function(n){return!Object.hasOwn(e,n)&&e[n]!==t[n]}))}function Wo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ko(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wo(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $o(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return($o=function(){return!!e})()}var Go=function(e){function t(){return(0,i.A)(this,t),function(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,$o()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}(this,t,arguments)}return(0,u.A)(t,e),(0,a.A)(t,[{key:"componentDidMount",value:function(){this.installPlugin()}},{key:"componentDidUpdate",value:function(e){if(e.uppy!==this.props.uppy)this.uninstallPlugin(e),this.installPlugin();else if(Ho(this.props,e)){var t=Ko(Ko({},this.props),{},{target:this.container});delete t.uppy,this.plugin.setOptions(t)}}},{key:"componentWillUnmount",value:function(){this.uninstallPlugin()}},{key:"installPlugin",value:function(){var e=this.props.uppy,t=Ko(Ko({id:"react:Dashboard"},this.props),{},{target:this.container});delete t.uppy,e.use(Oo,t),this.plugin=e.getPlugin(t.id)}},{key:"uninstallPlugin",value:function(e){void 0===e&&(e=this.props),e.uppy.removePlugin(this.plugin)}},{key:"render",value:function(){var e=this;return(0,c.createElement)("div",Ko({className:"uppy-Container",ref:function(t){e.container=t}},qo(this.props)))}}])}(c.Component);Go.propTypes=Uo,Go.defaultProps={inline:!0};const Qo=Go;function Yo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yo(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zo(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Zo=function(){return!!e})()}var Jo=function(e){function t(){return(0,i.A)(this,t),function(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,Zo()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}(this,t,arguments)}return(0,u.A)(t,e),(0,a.A)(t,[{key:"componentDidMount",value:function(){this.installPlugin()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.uppy,r=t.open,i=t.onRequestClose;if(e.uppy!==n)this.uninstallPlugin(e),this.installPlugin();else if(Ho(this.props,e)){var a=Xo(Xo({},this.props),{},{onRequestCloseModal:i});delete a.uppy,this.plugin.setOptions(a)}e.open&&!r?this.plugin.closeModal():!e.open&&r&&this.plugin.openModal()}},{key:"componentWillUnmount",value:function(){this.uninstallPlugin()}},{key:"installPlugin",value:function(){var e=this.props,t=e.id,n=void 0===t?"react:DashboardModal":t,r=e.uppy,i=e.target,a=e.open,o=e.onRequestClose,s={id:n,target:i,closeModalOnClickOutside:e.closeModalOnClickOutside,disablePageScrollWhenModalOpen:e.disablePageScrollWhenModalOpen,inline:e.inline,plugins:e.plugins,width:e.width,height:e.height,showProgressDetails:e.showProgressDetails,note:e.note,metaFields:e.metaFields,proudlyDisplayPoweredByUppy:e.proudlyDisplayPoweredByUppy,autoOpenFileEditor:e.autoOpenFileEditor,animateOpenClose:e.animateOpenClose,browserBackButtonClose:e.browserBackButtonClose,closeAfterFinish:e.closeAfterFinish,disableStatusBar:e.disableStatusBar,disableInformer:e.disableInformer,disableThumbnailGenerator:e.disableThumbnailGenerator,disableLocalFiles:e.disableLocalFiles,disabled:e.disabled,hideCancelButton:e.hideCancelButton,hidePauseResumeButton:e.hidePauseResumeButton,hideProgressAfterFinish:e.hideProgressAfterFinish,hideRetryButton:e.hideRetryButton,hideUploadButton:e.hideUploadButton,showLinkToFileUploadResult:e.showLinkToFileUploadResult,showRemoveButtonAfterComplete:e.showRemoveButtonAfterComplete,showSelectedFiles:e.showSelectedFiles,waitForThumbnailsBeforeUpload:e.waitForThumbnailsBeforeUpload,fileManagerSelectionType:e.fileManagerSelectionType,theme:e.theme,thumbnailType:e.thumbnailType,thumbnailWidth:e.thumbnailWidth,locale:e.locale,onRequestCloseModal:o};s.target||(s.target=this.container),delete s.uppy,r.use(Oo,s),this.plugin=r.getPlugin(s.id),a&&this.plugin.openModal()}},{key:"uninstallPlugin",value:function(e){void 0===e&&(e=this.props),e.uppy.removePlugin(this.plugin)}},{key:"render",value:function(){var e=this;return(0,c.createElement)("div",Xo({className:"uppy-Container",ref:function(t){e.container=t}},qo(this.props)))}}])}(c.Component);Jo.propTypes={uppy:Bo.isRequired,target:"undefined"!=typeof window?Po.instanceOf(window.HTMLElement):Po.any,open:Po.bool,onRequestClose:Po.func,closeModalOnClickOutside:Po.bool,disablePageScrollWhenModalOpen:Po.bool,inline:Po.bool,plugins:Ro,width:jo,height:jo,showProgressDetails:Po.bool,note:Po.string,metaFields:Lo,proudlyDisplayPoweredByUppy:Po.bool,autoOpenFileEditor:Po.bool,animateOpenClose:Po.bool,browserBackButtonClose:Po.bool,closeAfterFinish:Po.bool,disableStatusBar:Po.bool,disableInformer:Po.bool,disableThumbnailGenerator:Po.bool,disableLocalFiles:Po.bool,disabled:Po.bool,hideCancelButton:Po.bool,hidePauseResumeButton:Po.bool,hideProgressAfterFinish:Po.bool,hideRetryButton:Po.bool,hideUploadButton:Po.bool,showLinkToFileUploadResult:Po.bool,showRemoveButtonAfterComplete:Po.bool,showSelectedFiles:Po.bool,waitForThumbnailsBeforeUpload:Po.bool,fileManagerSelectionType:Po.string,theme:Po.string,thumbnailType:Po.string,thumbnailWidth:Po.number,locale:No},Jo.defaultProps={metaFields:[],plugins:[],inline:!1,width:750,height:550,thumbnailWidth:280,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,showLinkToFileUploadResult:!1,showProgressDetails:!1,hideUploadButton:!1,hideCancelButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideProgressAfterFinish:!1,note:null,closeModalOnClickOutside:!1,closeAfterFinish:!1,disableStatusBar:!1,disableInformer:!1,disableThumbnailGenerator:!1,disablePageScrollWhenModalOpen:!0,animateOpenClose:!0,fileManagerSelectionType:"files",proudlyDisplayPoweredByUppy:!0,showSelectedFiles:!0,showRemoveButtonAfterComplete:!1,browserBackButtonClose:!1,theme:"light",autoOpenFileEditor:!1,disabled:!1,disableLocalFiles:!1,open:void 0,target:void 0,locale:null,onRequestClose:void 0};const es=Jo,ts={strings:{dropHereOr:"Drop here or %{browse}",browse:"browse"}};function ns(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ns(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ns(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function is(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(is=function(){return!!e})()}var as=function(e){function t(e,n){var r;(0,i.A)(this,t),r=function(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,is()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}(this,t,[e,n]),r.handleDrop=function(){var e=(0,l.A)(d.mark((function e(t){var n,i,a,o;return d.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),t.stopPropagation(),clearTimeout(r.removeDragOverClassTimeout),r.setPluginState({isDraggingOver:!1}),a=function(e){r.uppy.log(e,"error")},e.next=7,mn(t.dataTransfer,{logDropError:a});case 7:(o=e.sent).length>0&&(r.uppy.log("[DragDrop] Files dropped"),r.addFiles(o)),null==(n=(i=r.opts).onDrop)||n.call(i,t);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.type="acquirer",r.id=r.opts.id||"DragDrop",r.title="Drag & Drop",r.defaultLocale=ts;return r.opts=rs(rs({},{target:null,inputName:"files[]",width:"100%",height:"100%",note:null}),n),r.i18nInit(),r.isDragDropSupported=fa(),r.removeDragOverClassTimeout=null,r.onInputChange=r.onInputChange.bind(r),r.handleDragOver=r.handleDragOver.bind(r),r.handleDragLeave=r.handleDragLeave.bind(r),r.handleDrop=r.handleDrop.bind(r),r.addFiles=r.addFiles.bind(r),r.render=r.render.bind(r),r}return(0,u.A)(t,e),(0,a.A)(t,[{key:"addFiles",value:function(e){var t=this,n=e.map((function(e){return{source:t.id,name:e.name,type:e.type,data:e,meta:{relativePath:e.relativePath||null}}}));try{this.uppy.addFiles(n)}catch(e){this.uppy.log(e)}}},{key:"onInputChange",value:function(e){var t=Xt(e.target.files);t.length>0&&(this.uppy.log("[DragDrop] Files selected through input"),this.addFiles(t)),e.target.value=null}},{key:"handleDragOver",value:function(e){var t,n;e.preventDefault(),e.stopPropagation();var r=e.dataTransfer.types.some((function(e){return"Files"===e})),i=this.uppy.getState().allowNewUpload;if(!r||!i)return e.dataTransfer.dropEffect="none",void clearTimeout(this.removeDragOverClassTimeout);e.dataTransfer.dropEffect="copy",clearTimeout(this.removeDragOverClassTimeout),this.setPluginState({isDraggingOver:!0}),null==(t=(n=this.opts).onDragOver)||t.call(n,e)}},{key:"handleDragLeave",value:function(e){var t,n,r=this;e.preventDefault(),e.stopPropagation(),clearTimeout(this.removeDragOverClassTimeout),this.removeDragOverClassTimeout=setTimeout((function(){r.setPluginState({isDraggingOver:!1})}),50),null==(t=(n=this.opts).onDragLeave)||t.call(n,e)}},{key:"renderHiddenFileInput",value:function(){var e=this,t=this.uppy.opts.restrictions;return(0,D.h)("input",{className:"uppy-DragDrop-input",type:"file",hidden:!0,ref:function(t){e.fileInputRef=t},name:this.opts.inputName,multiple:1!==t.maxNumberOfFiles,accept:t.allowedFileTypes,onChange:this.onInputChange})}},{key:"renderLabel",value:function(){return(0,D.h)("div",{className:"uppy-DragDrop-label"},this.i18nArray("dropHereOr",{browse:(0,D.h)("span",{className:"uppy-DragDrop-browse"},this.i18n("browse"))}))}},{key:"renderNote",value:function(){return(0,D.h)("span",{className:"uppy-DragDrop-note"},this.opts.note)}},{key:"render",value:function(){var e=this,n="uppy-u-reset\n      uppy-DragDrop-container\n      ".concat(this.isDragDropSupported?"uppy-DragDrop--isDragDropSupported":"","\n      ").concat(this.getPluginState().isDraggingOver?"uppy-DragDrop--isDraggingOver":"","\n    "),r={width:this.opts.width,height:this.opts.height};return(0,D.h)("button",{type:"button",className:n,style:r,onClick:function(){return e.fileInputRef.click()},onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop},this.renderHiddenFileInput(),(0,D.h)("div",{className:"uppy-DragDrop-inner"},t.renderArrowSvg(),this.renderLabel(),this.renderNote()))}},{key:"install",value:function(){var e=this.opts.target;this.setPluginState({isDraggingOver:!1}),e&&this.mount(e,this)}},{key:"uninstall",value:function(){this.unmount()}}],[{key:"renderArrowSvg",value:function(){return(0,D.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-DragDrop-arrow",width:"16",height:"16",viewBox:"0 0 16 16"},(0,D.h)("path",{d:"M11 10V0H5v10H2l6 6 6-6h-3zm0 0",fillRule:"evenodd"}))}}])}(p.A);function os(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ss(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?os(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):os(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function us(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(us=function(){return!!e})()}as.VERSION="3.0.3";var cs=function(e){function t(){return(0,i.A)(this,t),function(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,us()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}(this,t,arguments)}return(0,u.A)(t,e),(0,a.A)(t,[{key:"componentDidMount",value:function(){this.installPlugin()}},{key:"componentDidUpdate",value:function(e){if(e.uppy!==this.props.uppy)this.uninstallPlugin(e),this.installPlugin();else if(Ho(this.props,e)){var t=ss(ss({},this.props),{},{target:this.container});delete t.uppy,this.plugin.setOptions(t)}}},{key:"componentWillUnmount",value:function(){this.uninstallPlugin()}},{key:"installPlugin",value:function(){var e=this.props,t=e.uppy,n={id:"react:DragDrop",locale:e.locale,inputName:e.inputName,width:e.width,height:e.height,note:e.note,target:this.container};delete n.uppy,t.use(as,n),this.plugin=t.getPlugin(n.id)}},{key:"uninstallPlugin",value:function(e){void 0===e&&(e=this.props),e.uppy.removePlugin(this.plugin)}},{key:"render",value:function(){var e=this;return(0,c.createElement)("div",ss({className:"uppy-Container",ref:function(t){e.container=t}},qo(this.props)))}}])}(c.Component);cs.propTypes={uppy:Bo.isRequired,locale:No,inputName:Po.string,width:Po.string,height:Po.string,note:Po.string},cs.defaultProps={locale:null,inputName:"files[]",width:"100%",height:"100%",note:null};const ls=cs;n(94298);function ds(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ps(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ds(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ds(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fs(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(fs=function(){return!!e})()}var hs={target:"body",fixed:!1,hideAfterFinish:!0},ms=function(e){function t(e,n){var r;return(0,i.A)(this,t),r=function(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,fs()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}(this,t,[e,ps(ps({},hs),n)]),r.id=r.opts.id||"ProgressBar",r.title="Progress Bar",r.type="progressindicator",r.render=r.render.bind(r),r}return(0,u.A)(t,e),(0,a.A)(t,[{key:"render",value:function(e){var t=e.totalProgress||0,n=(0===t||100===t)&&this.opts.hideAfterFinish;return(0,D.h)("div",{className:"uppy uppy-ProgressBar",style:{position:this.opts.fixed?"fixed":"initial"},"aria-hidden":n},(0,D.h)("div",{className:"uppy-ProgressBar-inner",style:{width:"".concat(t,"%")}}),(0,D.h)("div",{className:"uppy-ProgressBar-percentage"},t))}},{key:"install",value:function(){var e=this.opts.target;e&&this.mount(e,this)}},{key:"uninstall",value:function(){this.unmount()}}])}(p.A);function vs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vs(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ys(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ys=function(){return!!e})()}ms.VERSION="3.1.0";var bs=function(e){function t(){return(0,i.A)(this,t),function(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,ys()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}(this,t,arguments)}return(0,u.A)(t,e),(0,a.A)(t,[{key:"componentDidMount",value:function(){this.installPlugin()}},{key:"componentDidUpdate",value:function(e){if(e.uppy!==this.props.uppy)this.uninstallPlugin(e),this.installPlugin();else if(Ho(this.props,e)){var t=gs(gs({},this.props),{},{target:this.container});delete t.uppy,this.plugin.setOptions(t)}}},{key:"componentWillUnmount",value:function(){this.uninstallPlugin()}},{key:"installPlugin",value:function(){var e=this.props,t=e.uppy,n={id:"react:ProgressBar",fixed:e.fixed,hideAfterFinish:e.hideAfterFinish,target:this.container};delete n.uppy,t.use(ms,n),this.plugin=t.getPlugin(n.id)}},{key:"uninstallPlugin",value:function(e){void 0===e&&(e=this.props),e.uppy.removePlugin(this.plugin)}},{key:"render",value:function(){var e=this;return(0,c.createElement)("div",gs({className:"uppy-Container",ref:function(t){e.container=t}},qo(this.props)))}}])}(c.Component);bs.propTypes={uppy:Bo.isRequired,fixed:Po.bool,hideAfterFinish:Po.bool},bs.defaultProps={fixed:!1,hideAfterFinish:!0};const ws=bs;const Ds="error",As="waiting",Es="preprocessing",ks="uploading",Cs="postprocessing",_s="complete";function xs(e){for(var t,n,r=[],i=0,a=Object.values(e);i<a.length;i++){var o=a[i].progress,s=o.preprocess,u=o.postprocess;if(null==n&&(s||u)){var c=s||u;t=c.mode,n=c.message}"determinate"===(null==s?void 0:s.mode)&&r.push(s.value),"determinate"===(null==u?void 0:u.mode)&&r.push(u.value)}return{mode:t,message:n,value:r.reduce((function(e,t){return e+t/r.length}),0)}}var Ss=n(33758),Ts=n(61643),Fs=function(){return" ".concat(""," ")};function Os(e){var t=e.newFiles,n=e.isUploadStarted,r=e.recoveredState,i=e.i18n,a=e.uploadState,o=e.isSomeGhost,s=e.startUpload,u=A("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--upload",{"uppy-c-btn-primary":a===As},{"uppy-StatusBar-actionBtn--disabled":o}),c=i(t&&n&&!r?"uploadXNewFiles":"uploadXFiles",{smart_count:t});return(0,D.h)("button",{type:"button",className:u,"aria-label":i("uploadXFiles",{smart_count:t}),onClick:s,disabled:o,"data-uppy-super-focusable":!0},c)}function Ps(e){var t=e.i18n,n=e.uppy;return(0,D.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--retry","aria-label":t("retryUpload"),onClick:function(){return n.retryAll()},"data-uppy-super-focusable":!0},(0,D.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"8",height:"10",viewBox:"0 0 8 10"},(0,D.h)("path",{d:"M4 2.408a2.75 2.75 0 1 0 2.75 2.75.626.626 0 0 1 1.25.018v.023a4 4 0 1 1-4-4.041V.25a.25.25 0 0 1 .389-.208l2.299 1.533a.25.25 0 0 1 0 .416l-2.3 1.533A.25.25 0 0 1 4 3.316v-.908z"})),t("retry"))}function Is(e){var t=e.i18n,n=e.uppy;return(0,D.h)("button",{type:"button",className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",title:t("cancel"),"aria-label":t("cancel"),onClick:function(){return n.cancelAll()},"data-cy":"cancel","data-uppy-super-focusable":!0},(0,D.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},(0,D.h)("g",{fill:"none",fillRule:"evenodd"},(0,D.h)("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),(0,D.h)("path",{fill:"#FFF",d:"M9.283 8l2.567 2.567-1.283 1.283L8 9.283 5.433 11.85 4.15 10.567 6.717 8 4.15 5.433 5.433 4.15 8 6.717l2.567-2.567 1.283 1.283z"}))))}function Bs(e){var t=e.isAllPaused,n=e.i18n,r=e.isAllComplete,i=e.resumableUploads,a=e.uppy,o=n(t?"resume":"pause");return(0,D.h)("button",{title:o,"aria-label":o,className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",type:"button",onClick:function(){return r?null:i?t?a.resumeAll():a.pauseAll():a.cancelAll()},"data-uppy-super-focusable":!0},(0,D.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},(0,D.h)("g",{fill:"none",fillRule:"evenodd"},(0,D.h)("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),(0,D.h)("path",{fill:"#FFF",d:t?"M6 4.25L11.5 8 6 11.75z":"M5 4.5h2v7H5v-7zm4 0h2v7H9v-7z"}))))}function Rs(e){var t=e.i18n,n=e.doneButtonHandler;return(0,D.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--done",onClick:n,"data-uppy-super-focusable":!0},t("done"))}function Ns(){return(0,D.h)("svg",{className:"uppy-StatusBar-spinner","aria-hidden":"true",focusable:"false",width:"14",height:"14"},(0,D.h)("path",{d:"M13.983 6.547c-.12-2.509-1.64-4.893-3.939-5.936-2.48-1.127-5.488-.656-7.556 1.094C.524 3.367-.398 6.048.162 8.562c.556 2.495 2.46 4.52 4.94 5.183 2.932.784 5.61-.602 7.256-3.015-1.493 1.993-3.745 3.309-6.298 2.868-2.514-.434-4.578-2.349-5.153-4.84a6.226 6.226 0 0 1 2.98-6.778C6.34.586 9.74 1.1 11.373 3.493c.407.596.693 1.282.842 1.988.127.598.073 1.197.161 1.794.078.525.543 1.257 1.15.864.525-.341.49-1.05.456-1.592-.007-.15.02.3 0 0",fillRule:"evenodd"}))}function Ms(e){var t=e.progress,n=t.value,r=t.mode,i=t.message,a=Math.round(100*n);return(0,D.h)("div",{className:"uppy-StatusBar-content"},(0,D.h)(Ns,null),"determinate"===r?"".concat(a,"% ").concat(""," "):"",i)}function Ls(e){var t=e.i18n,n=e.complete,r=e.numUploads;return(0,D.h)("div",{className:"uppy-StatusBar-statusSecondary"},t("filesUploadedOfTotal",{complete:n,smart_count:r}))}function js(e){var t=e.i18n,n=e.newFiles,r=e.startUpload,i=A("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--uploadNewlyAdded");return(0,D.h)("div",{className:"uppy-StatusBar-statusSecondary"},(0,D.h)("div",{className:"uppy-StatusBar-statusSecondaryHint"},t("xMoreFilesAdded",{smart_count:n})),(0,D.h)("button",{type:"button",className:i,"aria-label":t("uploadXFiles",{smart_count:n}),onClick:r},t("upload")))}var Us=Ss((function(e){var t=e.numUploads,n=e.complete,r=e.totalUploadedSize,i=e.totalSize,a=e.totalETA,o=e.i18n,s=t>1;return(0,D.h)("div",{className:"uppy-StatusBar-statusSecondary"},s&&o("filesUploadedOfTotal",{complete:n,smart_count:t}),(0,D.h)("span",{className:"uppy-StatusBar-additionalInfo"},s&&Fs(),o("dataUploadedOfTotal",{complete:Ts(r),total:Ts(i)}),Fs(),o("xTimeLeft",{time:C(a)})))}),500,{leading:!0,trailing:!0});function zs(e){var t=e.i18n,n=e.supportsUploadProgress,r=e.totalProgress,i=e.showProgressDetails,a=e.isUploadStarted,o=e.isAllComplete,s=e.isAllPaused,u=e.newFiles,c=e.numUploads,l=e.complete,d=e.totalUploadedSize,p=e.totalSize,f=e.totalETA,h=e.startUpload,m=u&&a;if(!a||o)return null;var v=t(s?"paused":"uploading");return(0,D.h)("div",{className:"uppy-StatusBar-content","aria-label":v,title:v},s?null:(0,D.h)(Ns,null),(0,D.h)("div",{className:"uppy-StatusBar-status"},(0,D.h)("div",{className:"uppy-StatusBar-statusPrimary"},n?"".concat(v,": ").concat(r,"%"):v),s||m||!i?null:n?(0,D.h)(Us,{numUploads:c,complete:l,totalUploadedSize:d,totalSize:p,totalETA:f,i18n:t}):(0,D.h)(Ls,{i18n:t,complete:l,numUploads:c}),m?(0,D.h)(js,{i18n:t,newFiles:u,startUpload:h}):null))}function Vs(e){var t=e.i18n;return(0,D.h)("div",{className:"uppy-StatusBar-content",role:"status",title:t("complete")},(0,D.h)("div",{className:"uppy-StatusBar-status"},(0,D.h)("div",{className:"uppy-StatusBar-statusPrimary"},(0,D.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"15",height:"11",viewBox:"0 0 15 11"},(0,D.h)("path",{d:"M.414 5.843L1.627 4.63l3.472 3.472L13.202 0l1.212 1.213L5.1 10.528z"})),t("complete"))))}function qs(e){var t=e.error,n=e.i18n,r=e.complete,i=e.numUploads;return(0,D.h)("div",{className:"uppy-StatusBar-content",title:n("uploadFailed")},(0,D.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"11",height:"11",viewBox:"0 0 11 11"},(0,D.h)("path",{d:"M4.278 5.5L0 1.222 1.222 0 5.5 4.278 9.778 0 11 1.222 6.722 5.5 11 9.778 9.778 11 5.5 6.722 1.222 11 0 9.778z"})),(0,D.h)("div",{className:"uppy-StatusBar-status"},(0,D.h)("div",{className:"uppy-StatusBar-statusPrimary"},n("uploadFailed"),(0,D.h)("button",{className:"uppy-u-reset uppy-StatusBar-details","aria-label":n("showErrorDetails"),"data-microtip-position":"top-right","data-microtip-size":"medium",onClick:function(){var e="".concat(n("uploadFailed")," \n\n ").concat(t);alert(e)},type:"button"},"?")),(0,D.h)(Ls,{i18n:n,complete:r,numUploads:i})))}var Hs=Ds,Ws=As,Ks=Es,$s=ks,Gs=Cs,Qs=_s;const Ys={strings:{uploading:"Uploading",complete:"Complete",uploadFailed:"Upload failed",paused:"Paused",retry:"Retry",cancel:"Cancel",pause:"Pause",resume:"Resume",done:"Done",filesUploadedOfTotal:{0:"%{complete} of %{smart_count} file uploaded",1:"%{complete} of %{smart_count} files uploaded"},dataUploadedOfTotal:"%{complete} of %{total}",xTimeLeft:"%{time} left",uploadXFiles:{0:"Upload %{smart_count} file",1:"Upload %{smart_count} files"},uploadXNewFiles:{0:"Upload +%{smart_count} file",1:"Upload +%{smart_count} files"},upload:"Upload",retryUpload:"Retry upload",xMoreFilesAdded:{0:"%{smart_count} more file added",1:"%{smart_count} more files added"},showErrorDetails:"Show error details"}};function Xs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xs(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Js(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Js=function(){return!!e})()}function eu(e){var t=0;return e.forEach((function(e){t+=function(e){if(!e.bytesUploaded)return 0;var t=Date.now()-e.uploadStarted;return e.bytesUploaded/(t/1e3)}(e.progress)})),t}function tu(e,t,n,r){if(e)return Ds;if(t)return _s;if(n)return As;for(var i=As,a=Object.keys(r),o=0;o<a.length;o++){var s=r[a[o]].progress;if(s.uploadStarted&&!s.uploadComplete)return ks;s.preprocess&&i!==ks&&(i=Es),s.postprocess&&i!==ks&&i!==Es&&(i=Cs)}return i}var nu=function(e){function t(e,n){var r;(0,i.A)(this,t),r=function(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,Js()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}(this,t,[e,n]),r.startUpload=function(){if(!r.uppy.getState().recoveredState)return r.uppy.upload().catch((function(){}));r.uppy.emit("restore-confirmed")},r.id=r.opts.id||"StatusBar",r.title="StatusBar",r.type="progressindicator",r.defaultLocale=Ys;return r.opts=Zs(Zs({},{target:"body",hideUploadButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideCancelButton:!1,showProgressDetails:!1,hideAfterFinish:!0,doneButtonHandler:null}),n),r.i18nInit(),r.render=r.render.bind(r),r.install=r.install.bind(r),r}return(0,u.A)(t,e),(0,a.A)(t,[{key:"render",value:function(e){var t=e.capabilities,n=e.files,r=e.allowNewUpload,i=e.totalProgress,a=e.error,o=e.recoveredState,s=this.uppy.getObjectOfFilesPerState(),u=s.newFiles,c=s.startedFiles,l=s.completeFiles,d=s.inProgressNotPausedFiles,p=s.isUploadStarted,f=s.isAllComplete,h=s.isAllErrored,m=s.isAllPaused,v=s.isUploadInProgress,g=s.isSomeGhost,y=o?Object.values(n):u,b=function(e){var t=eu(e);if(0===t)return 0;var n=e.reduce((function(e,t){return e+(null==(n=t.progress).bytesTotal?0:n.bytesTotal-n.bytesUploaded);var n}),0);return Math.round(n/t*10)/10}(d),w=!!t.resumableUploads,E=!1!==t.uploadProgress,k=0,C=0;return c.forEach((function(e){k+=e.progress.bytesTotal||0,C+=e.progress.bytesUploaded||0})),function(e){var t=e.newFiles,n=e.allowNewUpload,r=e.isUploadInProgress,i=e.isAllPaused,a=e.resumableUploads,o=e.error,s=e.hideUploadButton,u=e.hidePauseResumeButton,c=e.hideCancelButton,l=e.hideRetryButton,d=e.recoveredState,p=e.uploadState,f=e.totalProgress,h=e.files,m=e.supportsUploadProgress,v=e.hideAfterFinish,g=e.isSomeGhost,y=e.doneButtonHandler,b=e.isUploadStarted,w=e.i18n,E=e.startUpload,k=e.uppy,C=e.isAllComplete,_=e.showProgressDetails,x=e.numUploads,S=e.complete,T=e.totalSize,F=e.totalETA,O=e.totalUploadedSize,P=function(){switch(p){case Gs:case Ks:var e=xs(h);return"determinate"===e.mode?100*e.value:f;case Hs:return null;case $s:return m?f:null;default:return f}}(),I=function(){if(d)return!1;switch(p){case Ws:return s||0===t;case Qs:return v;default:return!1}}(),B=null!=P?P:100,R=!o&&t&&!r&&!i&&n&&!s,N=!c&&p!==Ws&&p!==Qs,M=a&&!u&&p===$s,L=o&&!C&&!l,j=y&&p===Qs,U=A("uppy-StatusBar-progress",{"is-indeterminate":function(){switch(p){case Gs:case Ks:return"indeterminate"===xs(h).mode;case $s:return!m;default:return!1}}()}),z=A("uppy-StatusBar","is-".concat(p),{"has-ghosts":g});return(0,D.h)("div",{className:z,"aria-hidden":I},(0,D.h)("div",{className:U,style:{width:"".concat(B,"%")},role:"progressbar","aria-label":"".concat(B,"%"),"aria-valuetext":"".concat(B,"%"),"aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":P}),function(){switch(p){case Ks:case Gs:return(0,D.h)(Ms,{progress:xs(h)});case Qs:return(0,D.h)(Vs,{i18n:w});case Hs:return(0,D.h)(qs,{error:o,i18n:w,numUploads:x,complete:S});case $s:return(0,D.h)(zs,{i18n:w,supportsUploadProgress:m,totalProgress:f,showProgressDetails:_,isUploadStarted:b,isAllComplete:C,isAllPaused:i,newFiles:t,numUploads:x,complete:S,totalUploadedSize:O,totalSize:T,totalETA:F,startUpload:E});default:return null}}(),(0,D.h)("div",{className:"uppy-StatusBar-actions"},d||R?(0,D.h)(Os,{newFiles:t,isUploadStarted:b,recoveredState:d,i18n:w,isSomeGhost:g,startUpload:E,uploadState:p}):null,L?(0,D.h)(Ps,{i18n:w,uppy:k}):null,M?(0,D.h)(Bs,{isAllPaused:i,i18n:w,isAllComplete:C,resumableUploads:a,uppy:k}):null,N?(0,D.h)(Is,{i18n:w,uppy:k}):null,j?(0,D.h)(Rs,{i18n:w,doneButtonHandler:y}):null))}({error:a,uploadState:tu(a,f,o,e.files||{}),allowNewUpload:r,totalProgress:i,totalSize:k,totalUploadedSize:C,isAllComplete:!1,isAllPaused:m,isAllErrored:h,isUploadStarted:p,isUploadInProgress:v,isSomeGhost:g,recoveredState:o,complete:l.length,newFiles:y.length,numUploads:c.length,totalETA:b,files:n,i18n:this.i18n,uppy:this.uppy,startUpload:this.startUpload,doneButtonHandler:this.opts.doneButtonHandler,resumableUploads:w,supportsUploadProgress:E,showProgressDetails:this.opts.showProgressDetails,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,hideCancelButton:this.opts.hideCancelButton,hideAfterFinish:this.opts.hideAfterFinish,isTargetDOMEl:this.isTargetDOMEl})}},{key:"onMount",value:function(){var e=this.el;(0,h.A)(e)||(e.dir="ltr")}},{key:"install",value:function(){var e=this.opts.target;e&&this.mount(e,this)}},{key:"uninstall",value:function(){this.unmount()}}])}(p.A);function ru(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function iu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ru(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ru(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function au(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(au=function(){return!!e})()}nu.VERSION="3.1.0";var ou=function(e){function t(){return(0,i.A)(this,t),function(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,au()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}(this,t,arguments)}return(0,u.A)(t,e),(0,a.A)(t,[{key:"componentDidMount",value:function(){this.installPlugin()}},{key:"componentDidUpdate",value:function(e){if(e.uppy!==this.props.uppy)this.uninstallPlugin(e),this.installPlugin();else if(Ho(this.props,e)){var t=iu(iu({},this.props),{},{target:this.container});delete t.uppy,this.plugin.setOptions(t)}}},{key:"componentWillUnmount",value:function(){this.uninstallPlugin()}},{key:"installPlugin",value:function(){var e=this.props,t=e.uppy,n={id:"react:StatusBar",hideUploadButton:e.hideUploadButton,hideRetryButton:e.hideRetryButton,hidePauseResumeButton:e.hidePauseResumeButton,hideCancelButton:e.hideCancelButton,showProgressDetails:e.showProgressDetails,hideAfterFinish:e.hideAfterFinish,doneButtonHandler:e.doneButtonHandler,target:this.container};delete n.uppy,t.use(nu,n),this.plugin=t.getPlugin(n.id)}},{key:"uninstallPlugin",value:function(e){void 0===e&&(e=this.props),e.uppy.removePlugin(this.plugin)}},{key:"render",value:function(){var e=this;return(0,c.createElement)("div",iu({className:"uppy-Container",ref:function(t){e.container=t}},qo(this.props)))}}])}(c.Component);ou.propTypes={uppy:Bo.isRequired,hideUploadButton:Po.bool,hideRetryButton:Po.bool,hidePauseResumeButton:Po.bool,hideCancelButton:Po.bool,showProgressDetails:Po.bool,hideAfterFinish:Po.bool,doneButtonHandler:Po.func},ou.defaultProps={hideUploadButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideCancelButton:!1,showProgressDetails:!1,hideAfterFinish:!0,doneButtonHandler:null};const su=ou,uu={strings:{chooseFiles:"Choose files"}};function cu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cu(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function du(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(du=function(){return!!e})()}var pu={pretty:!0,inputName:"files[]"},fu=function(e){function t(e,n){var r;return(0,i.A)(this,t),r=function(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,du()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}(this,t,[e,lu(lu({},pu),n)]),r.id=r.opts.id||"FileInput",r.title="File Input",r.type="acquirer",r.defaultLocale=uu,r.i18nInit(),r.render=r.render.bind(r),r.handleInputChange=r.handleInputChange.bind(r),r.handleClick=r.handleClick.bind(r),r}return(0,u.A)(t,e),(0,a.A)(t,[{key:"addFiles",value:function(e){var t=this,n=e.map((function(e){return{source:t.id,name:e.name,type:e.type,data:e}}));try{this.uppy.addFiles(n)}catch(e){this.uppy.log(e)}}},{key:"handleInputChange",value:function(e){this.uppy.log("[FileInput] Something selected through input...");var t=Xt(e.target.files);this.addFiles(t),e.target.value=null}},{key:"handleClick",value:function(){this.input.click()}},{key:"render",value:function(){var e=this,t=this.uppy.opts.restrictions,n=t.allowedFileTypes?t.allowedFileTypes.join(","):void 0;return(0,D.h)("div",{className:"uppy-FileInput-container"},(0,D.h)("input",{className:"uppy-FileInput-input",style:this.opts.pretty?{width:"0.1px",height:"0.1px",opacity:0,overflow:"hidden",position:"absolute",zIndex:-1}:void 0,type:"file",name:this.opts.inputName,onChange:this.handleInputChange,multiple:1!==t.maxNumberOfFiles,accept:n,ref:function(t){e.input=t}}),this.opts.pretty&&(0,D.h)("button",{className:"uppy-FileInput-btn",type:"button",onClick:this.handleClick},this.i18n("chooseFiles")))}},{key:"install",value:function(){var e=this.opts.target;e&&this.mount(e,this)}},{key:"uninstall",value:function(){this.unmount()}}])}(p.A);function hu(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(hu=function(){return!!e})()}fu.VERSION="3.1.0";var mu=function(e){function t(){return(0,i.A)(this,t),function(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,hu()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}(this,t,arguments)}return(0,u.A)(t,e),(0,a.A)(t,[{key:"componentDidMount",value:function(){this.installPlugin()}},{key:"componentDidUpdate",value:function(e){e.uppy!==this.props.uppy&&(this.uninstallPlugin(e),this.installPlugin())}},{key:"componentWillUnmount",value:function(){this.uninstallPlugin()}},{key:"installPlugin",value:function(){var e=this.props,t=e.uppy,n={id:"react:FileInput",locale:e.locale,pretty:e.pretty,inputName:e.inputName,target:this.container};delete n.uppy,t.use(fu,n),this.plugin=t.getPlugin(n.id)}},{key:"uninstallPlugin",value:function(e){void 0===e&&(e=this.props),e.uppy.removePlugin(this.plugin)}},{key:"render",value:function(){var e=this;return(0,c.createElement)("div",{className:"uppy-Container",ref:function(t){e.container=t}})}}])}(c.Component);mu.propTypes={uppy:Bo.isRequired,locale:No,pretty:Po.bool,inputName:Po.string},mu.defaultProps={locale:void 0,pretty:!0,inputName:"files[]"};const vu=mu;function gu(e){if("function"!=typeof e)throw new TypeError("useUppy: expected a function that returns a new Uppy instance");var t=(0,c.useRef)(void 0);if(void 0===t.current&&(t.current=e(),!(t.current instanceof Io.A)))throw new TypeError("useUppy: factory function must return an Uppy instance, got ".concat((0,Gt.A)(t.current)));return(0,c.useEffect)((function(){return function(){var e;null==(e=t.current)||e.close({reason:"unmount"}),t.current=void 0}}),[t]),t.current}},97751:(e,t,n)=>{"use strict";var r=n(44576),i=n(94901);e.exports=function(e,t){return arguments.length<2?(n=r[e],i(n)?n:void 0):r[e]&&r[e][t];var n}},97812:(e,t,n)=>{"use strict";var r=n(46518),i=n(39297),a=n(10757),o=n(16823),s=n(25745),u=n(91296),c=s("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!u},{keyFor:function(e){if(!a(e))throw new TypeError(o(e)+" is not a symbol");if(i(c,e))return c[e]}})},97862:(e,t,n)=>{var r=n(51869),i=n(20905),a=n(63734),o=n(81813);e.exports=function(e,t){return(o(e)?r:i)(e,a(t))}},97916:(e,t,n)=>{"use strict";var r=n(76080),i=n(69565),a=n(48981),o=n(96319),s=n(44209),u=n(33517),c=n(26198),l=n(97040),d=n(70081),p=n(50851),f=Array;e.exports=function(e){var t=a(e),n=u(this),h=arguments.length,m=h>1?arguments[1]:void 0,v=void 0!==m;v&&(m=r(m,h>2?arguments[2]:void 0));var g,y,b,w,D,A,E=p(t),k=0;if(!E||this===f&&s(E))for(g=c(t),y=n?new this(g):f(g);g>k;k++)A=v?m(t[k],k):t[k],l(y,k,A);else for(y=n?new this:[],D=(w=d(t,E)).next;!(b=i(D,w)).done;k++)A=v?o(w,m,[b.value,k],!0):b.value,l(y,k,A);return y.length=k,y}},98235:(e,t,n)=>{var r=n(46426)(n(42785),"Map");e.exports=r},98396:(e,t,n)=>{n(76918),n(25276),n(23288),n(26099),n(38781),e.exports=function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}},e.exports.__esModule=!0,e.exports.default=e.exports},98406:(e,t,n)=>{"use strict";n(23792),n(27337);var r=n(46518),i=n(44576),a=n(93389),o=n(97751),s=n(69565),u=n(79504),c=n(43724),l=n(67416),d=n(36840),p=n(62106),f=n(56279),h=n(10687),m=n(33994),v=n(91181),g=n(90679),y=n(94901),b=n(39297),w=n(76080),D=n(36955),A=n(28551),E=n(20034),k=n(655),C=n(2360),_=n(6980),x=n(70081),S=n(50851),T=n(62529),F=n(22812),O=n(78227),P=n(74488),I=O("iterator"),B="URLSearchParams",R=B+"Iterator",N=v.set,M=v.getterFor(B),L=v.getterFor(R),j=a("fetch"),U=a("Request"),z=a("Headers"),V=U&&U.prototype,q=z&&z.prototype,H=i.TypeError,W=i.encodeURIComponent,K=String.fromCharCode,$=o("String","fromCodePoint"),G=parseInt,Q=u("".charAt),Y=u([].join),X=u([].push),Z=u("".replace),J=u([].shift),ee=u([].splice),te=u("".split),ne=u("".slice),re=u(/./.exec),ie=/\+/g,ae=/^[0-9a-f]+$/i,oe=function(e,t){var n=ne(e,t,t+2);return re(ae,n)?G(n,16):NaN},se=function(e){for(var t=0,n=128;n>0&&e&n;n>>=1)t++;return t},ue=function(e){var t=null;switch(e.length){case 1:t=e[0];break;case 2:t=(31&e[0])<<6|63&e[1];break;case 3:t=(15&e[0])<<12|(63&e[1])<<6|63&e[2];break;case 4:t=(7&e[0])<<18|(63&e[1])<<12|(63&e[2])<<6|63&e[3]}return t>1114111?null:t},ce=function(e){for(var t=(e=Z(e,ie," ")).length,n="",r=0;r<t;){var i=Q(e,r);if("%"===i){if("%"===Q(e,r+1)||r+3>t){n+="%",r++;continue}var a=oe(e,r+1);if(a!=a){n+=i,r++;continue}r+=2;var o=se(a);if(0===o)i=K(a);else{if(1===o||o>4){n+="",r++;continue}for(var s=[a],u=1;u<o&&!(++r+3>t||"%"!==Q(e,r));){var c=oe(e,r+1);if(c!=c){r+=3;break}if(c>191||c<128)break;X(s,c),r+=2,u++}if(s.length!==o){n+="";continue}var l=ue(s);null===l?n+="":i=$(l)}}n+=i,r++}return n},le=/[!'()~]|%20/g,de={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},pe=function(e){return de[e]},fe=function(e){return Z(W(e),le,pe)},he=m((function(e,t){N(this,{type:R,target:M(e).entries,index:0,kind:t})}),B,(function(){var e=L(this),t=e.target,n=e.index++;if(!t||n>=t.length)return e.target=null,T(void 0,!0);var r=t[n];switch(e.kind){case"keys":return T(r.key,!1);case"values":return T(r.value,!1)}return T([r.key,r.value],!1)}),!0),me=function(e){this.entries=[],this.url=null,void 0!==e&&(E(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===Q(e,0)?ne(e,1):e:k(e)))};me.prototype={type:B,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,n,r,i,a,o,u,c=this.entries,l=S(e);if(l)for(n=(t=x(e,l)).next;!(r=s(n,t)).done;){if(a=(i=x(A(r.value))).next,(o=s(a,i)).done||(u=s(a,i)).done||!s(a,i).done)throw new H("Expected sequence with length 2");X(c,{key:k(o.value),value:k(u.value)})}else for(var d in e)b(e,d)&&X(c,{key:d,value:k(e[d])})},parseQuery:function(e){if(e)for(var t,n,r=this.entries,i=te(e,"&"),a=0;a<i.length;)(t=i[a++]).length&&(n=te(t,"="),X(r,{key:ce(J(n)),value:ce(Y(n,"="))}))},serialize:function(){for(var e,t=this.entries,n=[],r=0;r<t.length;)e=t[r++],X(n,fe(e.key)+"="+fe(e.value));return Y(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var ve=function(){g(this,ge);var e=N(this,new me(arguments.length>0?arguments[0]:void 0));c||(this.size=e.entries.length)},ge=ve.prototype;if(f(ge,{append:function(e,t){var n=M(this);F(arguments.length,2),X(n.entries,{key:k(e),value:k(t)}),c||this.length++,n.updateURL()},"delete":function(e){for(var t=M(this),n=F(arguments.length,1),r=t.entries,i=k(e),a=n<2?void 0:arguments[1],o=void 0===a?a:k(a),s=0;s<r.length;){var u=r[s];if(u.key!==i||void 0!==o&&u.value!==o)s++;else if(ee(r,s,1),void 0!==o)break}c||(this.size=r.length),t.updateURL()},get:function(e){var t=M(this).entries;F(arguments.length,1);for(var n=k(e),r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){var t=M(this).entries;F(arguments.length,1);for(var n=k(e),r=[],i=0;i<t.length;i++)t[i].key===n&&X(r,t[i].value);return r},has:function(e){for(var t=M(this).entries,n=F(arguments.length,1),r=k(e),i=n<2?void 0:arguments[1],a=void 0===i?i:k(i),o=0;o<t.length;){var s=t[o++];if(s.key===r&&(void 0===a||s.value===a))return!0}return!1},set:function(e,t){var n=M(this);F(arguments.length,1);for(var r,i=n.entries,a=!1,o=k(e),s=k(t),u=0;u<i.length;u++)(r=i[u]).key===o&&(a?ee(i,u--,1):(a=!0,r.value=s));a||X(i,{key:o,value:s}),c||(this.size=i.length),n.updateURL()},sort:function(){var e=M(this);P(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){for(var t,n=M(this).entries,r=w(e,arguments.length>1?arguments[1]:void 0),i=0;i<n.length;)r((t=n[i++]).value,t.key,this)},keys:function(){return new he(this,"keys")},values:function(){return new he(this,"values")},entries:function(){return new he(this,"entries")}},{enumerable:!0}),d(ge,I,ge.entries,{name:"entries"}),d(ge,"toString",(function(){return M(this).serialize()}),{enumerable:!0}),c&&p(ge,"size",{get:function(){return M(this).entries.length},configurable:!0,enumerable:!0}),h(ve,B),r({global:!0,constructor:!0,forced:!l},{URLSearchParams:ve}),!l&&y(z)){var ye=u(q.has),be=u(q.set),we=function(e){if(E(e)){var t,n=e.body;if(D(n)===B)return t=e.headers?new z(e.headers):new z,ye(t,"content-type")||be(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),C(e,{body:_(0,k(n)),headers:_(0,t)})}return e};if(y(j)&&r({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return j(e,arguments.length>1?we(arguments[1]):{})}}),y(U)){var De=function(e){return g(this,V),new U(e,arguments.length>1?we(arguments[1]):{})};V.constructor=De,De.prototype=V,r({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:De})}}e.exports={URLSearchParams:ve,getState:M}},98742:(e,t,n)=>{"use strict";var r=n(3471);n(51629),n(72712),n(94170),n(79432),n(26099),n(84864),n(57465),n(27495),n(87745),n(90906),n(38781),n(25440),n(98992),n(8872);function i(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var a={};["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"].forEach((function(e){a[e]=new i(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=r(e,2),n=t[0],o=t[1];a[n]=new i(n,1,!1,o,null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){a[e]=new i(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){a[e]=new i(e,2,!1,e,null,!1,!1)})),["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach((function(e){a[e]=new i(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){a[e]=new i(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){a[e]=new i(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){a[e]=new i(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){a[e]=new i(e,5,!1,e.toLowerCase(),null,!1,!1)}));var o=/[\-\:]([a-z])/g,s=function(e){return e[1].toUpperCase()};["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach((function(e){var t=e.replace(o,s);a[t]=new i(t,1,!1,e,null,!1,!1)})),["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach((function(e){var t=e.replace(o,s);a[t]=new i(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(o,s);a[t]=new i(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){a[e]=new i(e,1,!1,e.toLowerCase(),null,!1,!1)}));a.xlinkHref=new i("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){a[e]=new i(e,1,!1,e.toLowerCase(),null,!0,!0)}));var u=n(56023),c=u.CAMELCASE,l=u.SAME,d=u.possibleStandardNames,p=RegExp.prototype.test.bind(new RegExp("^(data|aria)-[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$")),f=Object.keys(d).reduce((function(e,t){var n=d[t];return n===l?e[t]=t:n===c?e[t.toLowerCase()]=t:e[t]=n,e}),{});t.BOOLEAN=3,t.BOOLEANISH_STRING=2,t.NUMERIC=5,t.OVERLOADED_BOOLEAN=4,t.POSITIVE_NUMERIC=6,t.RESERVED=0,t.STRING=1,t.getPropertyInfo=function(e){return a.hasOwnProperty(e)?a[e]:null},t.isCustomAttribute=p,t.possibleStandardNames=f},98992:(e,t,n)=>{"use strict";n(18111)},99169:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});n(94170),n(79432);var r={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5,fullscreen:6},i=["webkitFullscreenEnabled","webkitFullscreenElement","webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],a=["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],o=["msFullscreenEnabled","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"],s="undefined"!=typeof window&&void 0!==window.document?window.document:{},u="fullscreenEnabled"in s&&Object.keys(r)||i[0]in s&&i||a[0]in s&&a||o[0]in s&&o||[];const c={requestFullscreen:function(e){return e[u[r.requestFullscreen]]()},requestFullscreenFunction:function(e){return e[u[r.requestFullscreen]]},get exitFullscreen(){return s[u[r.exitFullscreen]].bind(s)},get fullscreenPseudoClass(){return":"+u[r.fullscreen]},addEventListener:function(e,t,n){return s.addEventListener(u[r[e]],t,n)},removeEventListener:function(e,t,n){return s.removeEventListener(u[r[e]],t,n)},get fullscreenEnabled(){return Boolean(s[u[r.fullscreenEnabled]])},set fullscreenEnabled(e){},get fullscreenElement(){return s[u[r.fullscreenElement]]},set fullscreenElement(e){},get onfullscreenchange(){return s[("on"+u[r.fullscreenchange]).toLowerCase()]},set onfullscreenchange(e){return s[("on"+u[r.fullscreenchange]).toLowerCase()]=e},get onfullscreenerror(){return s[("on"+u[r.fullscreenerror]).toLowerCase()]},set onfullscreenerror(e){return s[("on"+u[r.fullscreenerror]).toLowerCase()]=e}}},99218:(e,t,n)=>{n(76918),n(23288),n(26099),n(38781);var r=Object.prototype.toString;e.exports=function(e){return r.call(e)}},99449:(e,t,n)=>{"use strict";var r,i=n(46518),a=n(27476),o=n(77347).f,s=n(18014),u=n(655),c=n(60511),l=n(67750),d=n(41436),p=n(96395),f=a("".slice),h=Math.min,m=d("endsWith");i({target:"String",proto:!0,forced:!!(p||m||(r=o(String.prototype,"endsWith"),!r||r.writable))&&!m},{endsWith:function(e){var t=u(l(this));c(e);var n=arguments.length>1?arguments[1]:void 0,r=t.length,i=void 0===n?r:h(s(n),r),a=u(e);return f(t,i-a.length,i)===a}})},99589:(e,t,n)=>{e=n.nmd(e);var r=n(89990);n(52675),n(76918),n(51629),n(64346),n(23792),n(62062),n(44114),n(34782),n(54554),n(54743),n(11745),n(38309),n(23288),n(59904),n(40875),n(79432),n(26099),n(84864),n(57465),n(27495),n(87745),n(90906),n(38781),n(25440),n(98992),n(3949),n(81454),n(23500),n(62953),n(13611);var i="__lodash_hash_undefined__",a=9007199254740991,o="[object Arguments]",s="[object Boolean]",u="[object Date]",c="[object Function]",l="[object GeneratorFunction]",d="[object Map]",p="[object Number]",f="[object Object]",h="[object Promise]",m="[object RegExp]",v="[object Set]",g="[object String]",y="[object Symbol]",b="[object WeakMap]",w="[object ArrayBuffer]",D="[object DataView]",A="[object Float32Array]",E="[object Float64Array]",k="[object Int8Array]",C="[object Int16Array]",_="[object Int32Array]",x="[object Uint8Array]",S="[object Uint8ClampedArray]",T="[object Uint16Array]",F="[object Uint32Array]",O=/\w*$/,P=/^\[object .+?Constructor\]$/,I=/^(?:0|[1-9]\d*)$/,B={};B[o]=B["[object Array]"]=B[w]=B[D]=B[s]=B[u]=B[A]=B[E]=B[k]=B[C]=B[_]=B[d]=B[p]=B[f]=B[m]=B[v]=B[g]=B[y]=B[x]=B[S]=B[T]=B[F]=!0,B["[object Error]"]=B[c]=B[b]=!1;var R="object"==(void 0===n.g?"undefined":r(n.g))&&n.g&&n.g.Object===Object&&n.g,N="object"==("undefined"==typeof self?"undefined":r(self))&&self&&self.Object===Object&&self,M=R||N||Function("return this")(),L="object"==r(t)&&t&&!t.nodeType&&t,j=L&&"object"==r(e)&&e&&!e.nodeType&&e,U=j&&j.exports===L;function z(e,t){return e.set(t[0],t[1]),e}function V(e,t){return e.add(t),e}function q(e,t,n,r){var i=-1,a=e?e.length:0;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}function H(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function W(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function K(e,t){return function(n){return e(t(n))}}function $(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var G,Q=Array.prototype,Y=Function.prototype,X=Object.prototype,Z=M["__core-js_shared__"],J=(G=/[^.]+$/.exec(Z&&Z.keys&&Z.keys.IE_PROTO||""))?"Symbol(src)_1."+G:"",ee=Y.toString,te=X.hasOwnProperty,ne=X.toString,re=RegExp("^"+ee.call(te).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ie=U?M.Buffer:void 0,ae=M.Symbol,oe=M.Uint8Array,se=K(Object.getPrototypeOf,Object),ue=Object.create,ce=X.propertyIsEnumerable,le=Q.splice,de=Object.getOwnPropertySymbols,pe=ie?ie.isBuffer:void 0,fe=K(Object.keys,Object),he=je(M,"DataView"),me=je(M,"Map"),ve=je(M,"Promise"),ge=je(M,"Set"),ye=je(M,"WeakMap"),be=je(Object,"create"),we=He(he),De=He(me),Ae=He(ve),Ee=He(ge),ke=He(ye),Ce=ae?ae.prototype:void 0,_e=Ce?Ce.valueOf:void 0;function xe(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Se(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Te(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Fe(e){this.__data__=new Se(e)}function Oe(e,t){var n=Ke(e)||function(e){return function(e){return function(e){return!!e&&"object"==r(e)}(e)&&$e(e)}(e)&&te.call(e,"callee")&&(!ce.call(e,"callee")||ne.call(e)==o)}(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],i=n.length,a=!!i;for(var s in e)!t&&!te.call(e,s)||a&&("length"==s||Ve(s,i))||n.push(s);return n}function Pe(e,t,n){var r=e[t];te.call(e,t)&&We(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function Ie(e,t){for(var n=e.length;n--;)if(We(e[n][0],t))return n;return-1}function Be(e,t,n,r,i,a,h){var b;if(r&&(b=a?r(e,i,a,h):r(e)),void 0!==b)return b;if(!Ye(e))return e;var P=Ke(e);if(P){if(b=function(e){var t=e.length,n=e.constructor(t);t&&"string"==typeof e[0]&&te.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!t)return function(e,t){var n=-1,r=e.length;t||(t=Array(r));for(;++n<r;)t[n]=e[n];return t}(e,b)}else{var I=ze(e),R=I==c||I==l;if(Ge(e))return function(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}(e,t);if(I==f||I==o||R&&!a){if(H(e))return a?e:{};if(b=function(e){return"function"!=typeof e.constructor||qe(e)?{}:(t=se(e),Ye(t)?ue(t):{});var t}(R?{}:e),!t)return function(e,t){return Me(e,Ue(e),t)}(e,function(e,t){return e&&Me(t,Xe(t),e)}(b,e))}else{if(!B[I])return a?e:{};b=function(e,t,n,r){var i=e.constructor;switch(t){case w:return Ne(e);case s:case u:return new i(+e);case D:return function(e,t){var n=t?Ne(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,r);case A:case E:case k:case C:case _:case x:case S:case T:case F:return function(e,t){var n=t?Ne(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,r);case d:return function(e,t,n){var r=t?n(W(e),!0):W(e);return q(r,z,new e.constructor)}(e,r,n);case p:case g:return new i(e);case m:return function(e){var t=new e.constructor(e.source,O.exec(e));return t.lastIndex=e.lastIndex,t}(e);case v:return function(e,t,n){var r=t?n($(e),!0):$(e);return q(r,V,new e.constructor)}(e,r,n);case y:return a=e,_e?Object(_e.call(a)):{}}var a}(e,I,Be,t)}}h||(h=new Fe);var N=h.get(e);if(N)return N;if(h.set(e,b),!P)var M=n?function(e){return function(e,t,n){var r=t(e);return Ke(e)?r:function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}(r,n(e))}(e,Xe,Ue)}(e):Xe(e);return function(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n,e););}(M||e,(function(i,a){M&&(i=e[a=i]),Pe(b,a,Be(i,t,n,r,a,e,h))})),b}function Re(e){return!(!Ye(e)||(t=e,J&&J in t))&&(Qe(e)||H(e)?re:P).test(He(e));var t}function Ne(e){var t=new e.constructor(e.byteLength);return new oe(t).set(new oe(e)),t}function Me(e,t,n,r){n||(n={});for(var i=-1,a=t.length;++i<a;){var o=t[i],s=r?r(n[o],e[o],o,n,e):void 0;Pe(n,o,void 0===s?e[o]:s)}return n}function Le(e,t){var n=e.__data__;return function(e){var t=r(e);return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function je(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Re(n)?n:void 0}xe.prototype.clear=function(){this.__data__=be?be(null):{}},xe.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},xe.prototype.get=function(e){var t=this.__data__;if(be){var n=t[e];return n===i?void 0:n}return te.call(t,e)?t[e]:void 0},xe.prototype.has=function(e){var t=this.__data__;return be?void 0!==t[e]:te.call(t,e)},xe.prototype.set=function(e,t){return this.__data__[e]=be&&void 0===t?i:t,this},Se.prototype.clear=function(){this.__data__=[]},Se.prototype.delete=function(e){var t=this.__data__,n=Ie(t,e);return!(n<0)&&(n==t.length-1?t.pop():le.call(t,n,1),!0)},Se.prototype.get=function(e){var t=this.__data__,n=Ie(t,e);return n<0?void 0:t[n][1]},Se.prototype.has=function(e){return Ie(this.__data__,e)>-1},Se.prototype.set=function(e,t){var n=this.__data__,r=Ie(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},Te.prototype.clear=function(){this.__data__={"hash":new xe,"map":new(me||Se),"string":new xe}},Te.prototype.delete=function(e){return Le(this,e).delete(e)},Te.prototype.get=function(e){return Le(this,e).get(e)},Te.prototype.has=function(e){return Le(this,e).has(e)},Te.prototype.set=function(e,t){return Le(this,e).set(e,t),this},Fe.prototype.clear=function(){this.__data__=new Se},Fe.prototype.delete=function(e){return this.__data__.delete(e)},Fe.prototype.get=function(e){return this.__data__.get(e)},Fe.prototype.has=function(e){return this.__data__.has(e)},Fe.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Se){var r=n.__data__;if(!me||r.length<199)return r.push([e,t]),this;n=this.__data__=new Te(r)}return n.set(e,t),this};var Ue=de?K(de,Object):function(){return[]},ze=function(e){return ne.call(e)};function Ve(e,t){return!!(t=null==t?a:t)&&("number"==typeof e||I.test(e))&&e>-1&&e%1==0&&e<t}function qe(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||X)}function He(e){if(null!=e){try{return ee.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function We(e,t){return e===t||e!=e&&t!=t}(he&&ze(new he(new ArrayBuffer(1)))!=D||me&&ze(new me)!=d||ve&&ze(ve.resolve())!=h||ge&&ze(new ge)!=v||ye&&ze(new ye)!=b)&&(ze=function(e){var t=ne.call(e),n=t==f?e.constructor:void 0,r=n?He(n):void 0;if(r)switch(r){case we:return D;case De:return d;case Ae:return h;case Ee:return v;case ke:return b}return t});var Ke=Array.isArray;function $e(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=a}(e.length)&&!Qe(e)}var Ge=pe||function(){return!1};function Qe(e){var t=Ye(e)?ne.call(e):"";return t==c||t==l}function Ye(e){var t=r(e);return!!e&&("object"==t||"function"==t)}function Xe(e){return $e(e)?Oe(e):function(e){if(!qe(e))return fe(e);var t=[];for(var n in Object(e))te.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}e.exports=function(e){return Be(e,!0,!0)}},99590:(e,t,n)=>{"use strict";var r=n(91291),i=RangeError;e.exports=function(e){var t=r(e);if(t<0)throw new i("The argument can't be less than 0");return t}},99824:(e,t,n)=>{var r=n(42379);e.exports=function(){this.__data__=new r,this.size=0}}},__webpack_module_cache__={},leafPrototypes,getProto;function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.loaded=!0,n.exports}__webpack_require__.amdD=function(){throw new Error("define cannot be used indirect")},__webpack_require__.amdO={},__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},getProto=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,__webpack_require__.t=function(e,t){if(1&t&&(e=this(e)),8&t)return e;if("object"==typeof e&&e){if(4&t&&e.__esModule)return e;if(16&t&&"function"==typeof e.then)return e}var n=Object.create(null);__webpack_require__.r(n);var r={};leafPrototypes=leafPrototypes||[null,getProto({}),getProto([]),getProto(getProto)];for(var i=2&t&&e;"object"==typeof i&&!~leafPrototypes.indexOf(i);i=getProto(i))Object.getOwnPropertyNames(i).forEach((t=>r[t]=()=>e[t]));return r.default=()=>e,__webpack_require__.d(n,r),n},__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var __webpack_exports__={};return(()=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{LogOut:()=>ule,addModal:()=>cP,getDeliveredNotifications:()=>lle,removeModal:()=>lP});var e={};__webpack_require__.r(e),__webpack_require__.d(e,{hasBrowserEnv:()=>ja,hasStandardBrowserEnv:()=>Ua,hasStandardBrowserWebWorkerEnv:()=>za,origin:()=>Va});var t={};__webpack_require__.r(t),__webpack_require__.d(t,{$and:()=>yh,$not:()=>bh,$or:()=>wh});var n={};__webpack_require__.r(n),__webpack_require__.d(n,{$cmp:()=>Dh,$eq:()=>Ah,$gt:()=>Eh,$gte:()=>kh,$lt:()=>Ch,$lte:()=>_h,$ne:()=>xh});var r={};__webpack_require__.r(r),__webpack_require__.d(r,{Decoder:()=>qI,Encoder:()=>zI,PacketType:()=>LI,protocol:()=>UI});var i={};__webpack_require__.r(i),__webpack_require__.d(i,{$all:()=>Zh,$and:()=>Rh,$bitsAllClear:()=>une,$bitsAllSet:()=>cne,$bitsAnyClear:()=>lne,$bitsAnySet:()=>dne,$elemMatch:()=>Jh,$eq:()=>jh,$exists:()=>tm,$expr:()=>$h,$gt:()=>Uh,$gte:()=>zh,$in:()=>Vh,$jsonSchema:()=>Gh,$lt:()=>qh,$lte:()=>Hh,$mod:()=>Qh,$ne:()=>Wh,$nin:()=>Kh,$nor:()=>Mh,$not:()=>Lh,$or:()=>Nh,$regex:()=>Yh,$size:()=>em,$type:()=>nm,$where:()=>Xh});var a={};__webpack_require__.r(a),__webpack_require__.d(a,{$addToSet:()=>bne,$bit:()=>Dne,$currentDate:()=>Ane,$inc:()=>Ene,$max:()=>kne,$min:()=>Cne,$mul:()=>_ne,$pop:()=>xne,$pull:()=>Sne,$pullAll:()=>Tne,$push:()=>One,$rename:()=>Ine,$set:()=>Pne,$unset:()=>Bne});var o=__webpack_require__(18443),s=__webpack_require__(61792),u=__webpack_require__.n(s),c=(__webpack_require__(76031),__webpack_require__(55384)),l=__webpack_require__.t(c,2),d=__webpack_require__(7438),p=(__webpack_require__(76918),__webpack_require__(51629),__webpack_require__(48598),__webpack_require__(62062),__webpack_require__(44114),__webpack_require__(34782),__webpack_require__(23288),__webpack_require__(2892),__webpack_require__(79432),__webpack_require__(26099),__webpack_require__(38781),__webpack_require__(98992),__webpack_require__(3949),__webpack_require__(81454),__webpack_require__(2945),__webpack_require__(23500),__webpack_require__(55815),__webpack_require__(64979),__webpack_require__(79739),__webpack_require__(58237)),f=__webpack_require__(84285),h=__webpack_require__(51531);__webpack_require__(52675),__webpack_require__(89463),__webpack_require__(2259),__webpack_require__(16280),__webpack_require__(2008),__webpack_require__(23418),__webpack_require__(64346),__webpack_require__(23792),__webpack_require__(62010),__webpack_require__(9868),__webpack_require__(1480),__webpack_require__(78459),__webpack_require__(27495),__webpack_require__(90906),__webpack_require__(47764),__webpack_require__(54520),__webpack_require__(62953);function m(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return v(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var g,y,b=function(){return(0,f.A)((function e(){(0,p.A)(this,e),(0,h.A)(this,"store",void 0),this.store={}}),[{key:"attach",value:function(e,t){this.store[e]||(this.store[e]=[]),this.store[e].push(t)}},{key:"fire",value:function(e,t){this.store[e]&&this.store[e].forEach((function(e){e(t)}))}},{key:"remove",value:function(e,t){t||delete this.store[e],this.store[e]&&(this.store[e]=this.store[e].filter((function(e){return t!==e})))}}])}();function w(e){if(void 0===y&&(void 0!==e.hidden?(g="hidden",y="visibilitychange"):void 0!==e.mozHidden?(g="mozHidden",y="mozvisibilitychange"):void 0!==e.msHidden?(g="msHidden",y="msvisibilitychange"):void 0!==e.webkitHidden&&(g="webkitHidden",y="webkitvisibilitychange"),void 0===g))throw new Error("Unable to determine browser event.  This may be an incompatible browser.  See https://github.com/rosskevin/ifvisible#browsers")}function D(e,t){var n,r;return function(){if(!n){n=!0,setTimeout((function(){return n=!1}),t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];r=e.apply(this,a)}return r}}var A=function(){return(0,f.A)((function e(t,n,r){var i=this;(0,p.A)(this,e),(0,h.A)(this,"id",void 0),(0,h.A)(this,"ifvInstance",void 0),(0,h.A)(this,"seconds",void 0),(0,h.A)(this,"callback",void 0),this.ifvInstance=t,this.seconds=n,this.callback=r,this.start(),this.ifvInstance.on("statusChanged",(function(e){"active"===(null==e?void 0:e.status)?i.start():i.pause()}))}),[{key:"stop",value:function(){clearInterval(this.id)}},{key:"resume",value:function(){this.start()}},{key:"pause",value:function(){this.stop()}},{key:"start",value:function(){void 0!==this.id&&clearInterval(this.id),this.id=setInterval(this.callback,1e3*this.seconds)}}])}(),E=function(){return(0,f.A)((function e(t,n){(0,p.A)(this,e),(0,h.A)(this,"status","active"),(0,h.A)(this,"timers",[]),(0,h.A)(this,"idleTime",3e4),(0,h.A)(this,"idleStartedTime",void 0),(0,h.A)(this,"win",void 0),(0,h.A)(this,"doc",void 0),(0,h.A)(this,"eventBus",void 0),(0,h.A)(this,"winListeners",void 0),(0,h.A)(this,"docListeners",void 0),(0,h.A)(this,"focusListener",void 0),(0,h.A)(this,"throttleDuration",500),this.win=t,this.doc=n,this.eventBus=new b,this.trackChange(),this.reattach()}),[{key:"on",value:function(e,t){return this.eventBus.attach(e,t),this}},{key:"off",value:function(e,t){return this.eventBus.remove(e,t),this}},{key:"setIdleDuration",value:function(e){return this.idleTime=1e3*e,this.reattach(),this}},{key:"getIdleDuration",value:function(){return this.idleTime}},{key:"getIdleInfo",value:function(){var e,t=+new Date,n=this.idleStartedTime?t-this.idleStartedTime:0;if("idle"===this.status)e={isIdle:!0,idleFor:n,timeLeft:0,timeLeftPer:100};else{var r=this.idleStartedTime?this.idleStartedTime+this.idleTime-t:this.idleTime;e={isIdle:!1,idleFor:n,timeLeft:r,timeLeftPer:parseFloat((100-100*r/this.idleTime).toFixed(2))}}return e}},{key:"setThrottleDuration",value:function(e){return this.throttleDuration=e,this.reattach(),this}},{key:"idle",value:function(e){return e?this.on("idle",e):(this.status="idle",this.eventBus.fire("idle"),this.eventBus.fire("statusChanged",{status:this.status})),this}},{key:"blur",value:function(e){return e?this.on("blur",e):(this.status="hidden",this.eventBus.fire("blur"),this.eventBus.fire("statusChanged",{status:this.status})),this}},{key:"focus",value:function(e){return e?this.on("focus",e):"active"!==this.status&&(this.status="active",this.eventBus.fire("focus"),this.eventBus.fire("wakeup"),this.eventBus.fire("statusChanged",{status:this.status})),this}},{key:"wakeup",value:function(e){return e?this.on("wakeup",e):"active"!==this.status&&(this.status="active",this.eventBus.fire("wakeup"),this.eventBus.fire("statusChanged",{status:this.status})),this}},{key:"onEvery",value:function(e,t){return new A(this,e,t)}},{key:"now",value:function(e){return void 0!==e?this.status===e:"active"===this.status}},{key:"getStatus",value:function(){return this.status}},{key:"detach",value:function(){if(void 0!==this.winListeners&&void 0!==this.docListeners&&void 0!==this.focusListener){var e,t=m(Object.getOwnPropertyNames(this.winListeners));try{for(t.s();!(e=t.n()).done;){var n=e.value;this.win.removeEventListener(n,this.winListeners[n])}}catch(e){t.e(e)}finally{t.f()}var r,i=m(Object.getOwnPropertyNames(this.docListeners));try{for(i.s();!(r=i.n()).done;){var a=r.value;this.doc.removeEventListener(a,this.docListeners[a])}}catch(e){i.e(e)}finally{i.f()}this.off("focus",this.focusListener)}this.winListeners=void 0,this.docListeners=void 0,this.focusListener=void 0}},{key:"reattach",value:function(){var e,t=this;this.detach(),this.winListeners={},this.docListeners={},this.focusListener=void 0,this.docListeners[(e=this.doc,w(e),y)]=function(){return t.trackChange()};for(var n=0,r=["mousemove","mousedown","keyup","touchstart"];n<r.length;n++){var i=r[n];this.docListeners[i]=D((function(){return t.startIdleTimer()}),this.throttleDuration)}this.winListeners.scroll=D((function(){return t.startIdleTimer()}),this.throttleDuration),this.focusListener=D((function(){return t.startIdleTimer()}),this.throttleDuration);var a,o=m(Object.getOwnPropertyNames(this.docListeners));try{for(o.s();!(a=o.n()).done;){var s=a.value;this.doc.addEventListener(s,this.docListeners[s])}}catch(e){o.e(e)}finally{o.f()}var u,c=m(Object.getOwnPropertyNames(this.winListeners));try{for(c.s();!(u=c.n()).done;){var l=u.value;this.win.addEventListener(l,this.winListeners[l])}}catch(e){c.e(e)}finally{c.f()}this.focus(this.focusListener),this.startIdleTimer()}},{key:"trackChange",value:function(){var e;w(e=this.doc),e[g]?this.blur():this.focus()}},{key:"startIdleTimer",value:function(e){var t=this;e instanceof MouseEvent&&0===e.movementX&&0===e.movementY||(this.timers.map(clearTimeout),this.timers.length=0,"idle"===this.status&&this.wakeup(),this.idleStartedTime=+new Date,this.timers.push(setTimeout((function(){"active"!==t.status&&"hidden"!==t.status||t.idle()}),this.idleTime)))}}])}(),k=new E(window,document);window.ifvisible=k;__webpack_require__(67945),__webpack_require__(84185),__webpack_require__(83851),__webpack_require__(81278),__webpack_require__(86777);var C=__webpack_require__(18180),_=__webpack_require__(80241),x=(__webpack_require__(28706),__webpack_require__(88431),__webpack_require__(74423),__webpack_require__(36033),__webpack_require__(70761),__webpack_require__(40150),__webpack_require__(21699),__webpack_require__(23215),__webpack_require__(25276),__webpack_require__(72712),__webpack_require__(18863),__webpack_require__(94490),__webpack_require__(60739),__webpack_require__(33110),__webpack_require__(5506),__webpack_require__(60825),__webpack_require__(68119)),S=__webpack_require__(36858),T=__webpack_require__(31061),F=__webpack_require__(81700);function O(e,t,n){return t=(0,S.A)(t),(0,x.A)(e,P()?Reflect.construct(t,n||[],(0,S.A)(e).constructor):t.apply(e,n))}function P(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(P=function(){return!!e})()}var I=function(e){function t(){return(0,p.A)(this,t),O(this,t,arguments)}return(0,T.A)(t,e),(0,f.A)(t)}((0,F.A)(Error)),B=function(e){function t(e){return(0,p.A)(this,t),O(this,t,["Invalid DateTime: ".concat(e.toMessage())])}return(0,T.A)(t,e),(0,f.A)(t)}(I),R=function(e){function t(e){return(0,p.A)(this,t),O(this,t,["Invalid Interval: ".concat(e.toMessage())])}return(0,T.A)(t,e),(0,f.A)(t)}(I),N=function(e){function t(e){return(0,p.A)(this,t),O(this,t,["Invalid Duration: ".concat(e.toMessage())])}return(0,T.A)(t,e),(0,f.A)(t)}(I),M=function(e){function t(){return(0,p.A)(this,t),O(this,t,arguments)}return(0,T.A)(t,e),(0,f.A)(t)}(I),L=function(e){function t(e){return(0,p.A)(this,t),O(this,t,["Invalid unit ".concat(e)])}return(0,T.A)(t,e),(0,f.A)(t)}(I),j=function(e){function t(){return(0,p.A)(this,t),O(this,t,arguments)}return(0,T.A)(t,e),(0,f.A)(t)}(I),U=function(e){function t(){return(0,p.A)(this,t),O(this,t,["Zone is an abstract class"])}return(0,T.A)(t,e),(0,f.A)(t)}(I),z=__webpack_require__(46983),V=(__webpack_require__(8872),__webpack_require__(26910),__webpack_require__(29908),"numeric"),q="short",H="long",W={year:V,month:V,day:V},K={year:V,month:q,day:V},$={year:V,month:q,day:V,weekday:q},G={year:V,month:H,day:V},Q={year:V,month:H,day:V,weekday:H},Y={hour:V,minute:V},X={hour:V,minute:V,second:V},Z={hour:V,minute:V,second:V,timeZoneName:q},J={hour:V,minute:V,second:V,timeZoneName:H},ee={hour:V,minute:V,hourCycle:"h23"},te={hour:V,minute:V,second:V,hourCycle:"h23"},ne={hour:V,minute:V,second:V,hourCycle:"h23",timeZoneName:q},re={hour:V,minute:V,second:V,hourCycle:"h23",timeZoneName:H},ie={year:V,month:V,day:V,hour:V,minute:V},ae={year:V,month:V,day:V,hour:V,minute:V,second:V},oe={year:V,month:q,day:V,hour:V,minute:V},se={year:V,month:q,day:V,hour:V,minute:V,second:V},ue={year:V,month:q,day:V,weekday:q,hour:V,minute:V},ce={year:V,month:H,day:V,hour:V,minute:V,timeZoneName:q},le={year:V,month:H,day:V,hour:V,minute:V,second:V,timeZoneName:q},de={year:V,month:H,day:V,weekday:H,hour:V,minute:V,timeZoneName:H},pe={year:V,month:H,day:V,weekday:H,hour:V,minute:V,second:V,timeZoneName:H},fe=(__webpack_require__(50113),__webpack_require__(15086),__webpack_require__(58940),__webpack_require__(68156),__webpack_require__(72577),__webpack_require__(37550),__webpack_require__(59089),function(){return(0,f.A)((function e(){(0,p.A)(this,e)}),[{key:"type",get:function(){throw new U}},{key:"name",get:function(){throw new U}},{key:"ianaName",get:function(){return this.name}},{key:"isUniversal",get:function(){throw new U}},{key:"offsetName",value:function(e,t){throw new U}},{key:"formatOffset",value:function(e,t){throw new U}},{key:"offset",value:function(e){throw new U}},{key:"equals",value:function(e){throw new U}},{key:"isValid",get:function(){throw new U}}])}());function he(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(he=function(){return!!e})()}var me=null,ve=function(e){function t(){return(0,p.A)(this,t),function(e,t,n){return t=(0,S.A)(t),(0,x.A)(e,he()?Reflect.construct(t,n||[],(0,S.A)(e).constructor):t.apply(e,n))}(this,t,arguments)}return(0,T.A)(t,e),(0,f.A)(t,[{key:"type",get:function(){return"system"}},{key:"name",get:function(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}},{key:"isUniversal",get:function(){return!1}},{key:"offsetName",value:function(e,t){return $t(e,t.format,t.locale)}},{key:"formatOffset",value:function(e,t){return Xt(this.offset(e),t)}},{key:"offset",value:function(e){return-new Date(e).getTimezoneOffset()}},{key:"equals",value:function(e){return"system"===e.type}},{key:"isValid",get:function(){return!0}}],[{key:"instance",get:function(){return null===me&&(me=new t),me}}])}(fe);__webpack_require__(25440);function ge(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ge=function(){return!!e})()}var ye=new Map;var be={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};var we=new Map,De=function(e){function t(e){var n;return(0,p.A)(this,t),(n=function(e,t,n){return t=(0,S.A)(t),(0,x.A)(e,ge()?Reflect.construct(t,n||[],(0,S.A)(e).constructor):t.apply(e,n))}(this,t)).zoneName=e,n.valid=t.isValidZone(e),n}return(0,T.A)(t,e),(0,f.A)(t,[{key:"type",get:function(){return"iana"}},{key:"name",get:function(){return this.zoneName}},{key:"isUniversal",get:function(){return!1}},{key:"offsetName",value:function(e,t){return $t(e,t.format,t.locale,this.name)}},{key:"formatOffset",value:function(e,t){return Xt(this.offset(e),t)}},{key:"offset",value:function(e){if(!this.valid)return NaN;var t=new Date(e);if(isNaN(t))return NaN;var n=function(e){var t=ye.get(e);return void 0===t&&(t=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"}),ye.set(e,t)),t}(this.name),r=n.formatToParts?function(e,t){for(var n=e.formatToParts(t),r=[],i=0;i<n.length;i++){var a=n[i],o=a.type,s=a.value,u=be[o];"era"===o?r[u]=s:_t(u)||(r[u]=parseInt(s,10))}return r}(n,t):function(e,t){var n=e.format(t).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(n),i=(0,_.A)(r,8),a=i[1],o=i[2];return[i[3],a,o,i[4],i[5],i[6],i[7]]}(n,t),i=(0,_.A)(r,7),a=i[0],o=i[1],s=i[2],u=i[3],c=i[4],l=i[5],d=i[6];"BC"===u&&(a=1-Math.abs(a));var p=+t,f=p%1e3;return(qt({year:a,month:o,day:s,hour:24===c?0:c,minute:l,second:d,millisecond:0})-(p-=f>=0?f:1e3+f))/6e4}},{key:"equals",value:function(e){return"iana"===e.type&&e.name===this.name}},{key:"isValid",get:function(){return this.valid}}],[{key:"create",value:function(e){var n=we.get(e);return void 0===n&&we.set(e,n=new t(e)),n}},{key:"resetCache",value:function(){we.clear(),ye.clear()}},{key:"isValidSpecifier",value:function(e){return this.isValidZone(e)}},{key:"isValidZone",value:function(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch(e){return!1}}}])}(fe),Ae=__webpack_require__(35754),Ee=(__webpack_require__(11392),["base"]),ke=["padTo","floor"];function Ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(n),!0).forEach((function(t){(0,h.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xe={};var Se=new Map;function Te(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=JSON.stringify([e,t]),r=Se.get(n);return void 0===r&&(r=new Intl.DateTimeFormat(e,t),Se.set(n,r)),r}var Fe=new Map;var Oe=new Map;var Pe=null;var Ie=new Map;function Be(e){var t=Ie.get(e);return void 0===t&&(t=new Intl.DateTimeFormat(e).resolvedOptions(),Ie.set(e,t)),t}var Re=new Map;function Ne(e,t,n,r){var i=e.listingMode();return"error"===i?null:"en"===i?n(t):r(t)}var Me=function(){return(0,f.A)((function e(t,n,r){(0,p.A)(this,e),this.padTo=r.padTo||0,this.floor=r.floor||!1,r.padTo,r.floor;var i=(0,Ae.A)(r,ke);if(!n||Object.keys(i).length>0){var a=_e({useGrouping:!1},r);r.padTo>0&&(a.minimumIntegerDigits=r.padTo),this.inf=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=JSON.stringify([e,t]),r=Fe.get(n);return void 0===r&&(r=new Intl.NumberFormat(e,t),Fe.set(n,r)),r}(t,a)}}),[{key:"format",value:function(e){if(this.inf){var t=this.floor?Math.floor(e):e;return this.inf.format(t)}return Rt(this.floor?Math.floor(e):jt(e,3),this.padTo)}}])}(),Le=function(){return(0,f.A)((function e(t,n,r){(0,p.A)(this,e),this.opts=r,this.originalZone=void 0;var i=void 0;if(this.opts.timeZone)this.dt=t;else if("fixed"===t.zone.type){var a=t.offset/60*-1,o=a>=0?"Etc/GMT+".concat(a):"Etc/GMT".concat(a);0!==t.offset&&De.create(o).valid?(i=o,this.dt=t):(i="UTC",this.dt=0===t.offset?t:t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone)}else"system"===t.zone.type?this.dt=t:"iana"===t.zone.type?(this.dt=t,i=t.zone.name):(i="UTC",this.dt=t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone);var s=_e({},this.opts);s.timeZone=s.timeZone||i,this.dtf=Te(n,s)}),[{key:"format",value:function(){return this.originalZone?this.formatToParts().map((function(e){return e.value})).join(""):this.dtf.format(this.dt.toJSDate())}},{key:"formatToParts",value:function(){var e=this,t=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?t.map((function(t){if("timeZoneName"===t.type){var n=e.originalZone.offsetName(e.dt.ts,{locale:e.dt.locale,format:e.opts.timeZoneName});return _e(_e({},t),{},{value:n})}return t})):t}},{key:"resolvedOptions",value:function(){return this.dtf.resolvedOptions()}}])}(),je=function(){return(0,f.A)((function e(t,n,r){(0,p.A)(this,e),this.opts=_e({style:"long"},r),!n&&Tt()&&(this.rtf=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(t.base,(0,Ae.A)(t,Ee)),r=JSON.stringify([e,n]),i=Oe.get(r);return void 0===i&&(i=new Intl.RelativeTimeFormat(e,t),Oe.set(r,i)),i}(t,r))}),[{key:"format",value:function(e,t){return this.rtf?this.rtf.format(e,t):function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"always",r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},a=-1===["hours","minutes","seconds"].indexOf(e);if("auto"===n&&a){var o="days"===e;switch(t){case 1:return o?"tomorrow":"next ".concat(i[e][0]);case-1:return o?"yesterday":"last ".concat(i[e][0]);case 0:return o?"today":"this ".concat(i[e][0])}}var s=Object.is(t,-0)||t<0,u=Math.abs(t),c=1===u,l=i[e],d=r?c?l[1]:l[2]||l[1]:c?i[e][0]:e;return s?"".concat(u," ").concat(d," ago"):"in ".concat(u," ").concat(d)}(t,e,this.opts.numeric,"long"!==this.opts.style)}},{key:"formatToParts",value:function(e,t){return this.rtf?this.rtf.formatToParts(e,t):[]}}])}(),Ue={firstDay:1,minimalDays:4,weekend:[6,7]},ze=function(){function e(t,n,r,i,a){(0,p.A)(this,e);var o=function(e){var t=e.indexOf("-x-");-1!==t&&(e=e.substring(0,t));var n,r,i=e.indexOf("-u-");if(-1===i)return[e];try{n=Te(e).resolvedOptions(),r=e}catch(t){var a=e.substring(0,i);n=Te(a).resolvedOptions(),r=a}var o=n;return[r,o.numberingSystem,o.calendar]}(t),s=(0,_.A)(o,3),u=s[0],c=s[1],l=s[2];this.locale=u,this.numberingSystem=n||c||null,this.outputCalendar=r||l||null,this.weekSettings=i,this.intl=function(e,t,n){return n||t?(e.includes("-u-")||(e+="-u"),n&&(e+="-ca-".concat(n)),t&&(e+="-nu-".concat(t)),e):e}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=a,this.fastNumbersCached=null}return(0,f.A)(e,[{key:"fastNumbers",get:function(){var e;return null==this.fastNumbersCached&&(this.fastNumbersCached=(!(e=this).numberingSystem||"latn"===e.numberingSystem)&&("latn"===e.numberingSystem||!e.locale||e.locale.startsWith("en")||"latn"===Be(e.locale).numberingSystem)),this.fastNumbersCached}},{key:"listingMode",value:function(){var e=this.isEnglish(),t=!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar);return e&&t?"en":"intl"}},{key:"clone",value:function(t){return t&&0!==Object.getOwnPropertyNames(t).length?e.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,It(t.weekSettings)||this.weekSettings,t.defaultToEN||!1):this}},{key:"redefaultToEN",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.clone(_e(_e({},e),{},{defaultToEN:!0}))}},{key:"redefaultToSystem",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.clone(_e(_e({},e),{},{defaultToEN:!1}))}},{key:"months",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Ne(this,e,nn,(function(){var r=n?{month:e,day:"numeric"}:{month:e},i=n?"format":"standalone";return t.monthsCache[i][e]||(t.monthsCache[i][e]=function(e){for(var t=[],n=1;n<=12;n++){var r=_i.utc(2009,n,1);t.push(e(r))}return t}((function(e){return t.extract(e,r,"month")}))),t.monthsCache[i][e]}))}},{key:"weekdays",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Ne(this,e,sn,(function(){var r=n?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},i=n?"format":"standalone";return t.weekdaysCache[i][e]||(t.weekdaysCache[i][e]=function(e){for(var t=[],n=1;n<=7;n++){var r=_i.utc(2016,11,13+n);t.push(e(r))}return t}((function(e){return t.extract(e,r,"weekday")}))),t.weekdaysCache[i][e]}))}},{key:"meridiems",value:function(){var e=this;return Ne(this,void 0,(function(){return un}),(function(){if(!e.meridiemCache){var t={hour:"numeric",hourCycle:"h12"};e.meridiemCache=[_i.utc(2016,11,13,9),_i.utc(2016,11,13,19)].map((function(n){return e.extract(n,t,"dayperiod")}))}return e.meridiemCache}))}},{key:"eras",value:function(e){var t=this;return Ne(this,e,pn,(function(){var n={era:e};return t.eraCache[e]||(t.eraCache[e]=[_i.utc(-40,1,1),_i.utc(2017,1,1)].map((function(e){return t.extract(e,n,"era")}))),t.eraCache[e]}))}},{key:"extract",value:function(e,t,n){var r=this.dtFormatter(e,t).formatToParts().find((function(e){return e.type.toLowerCase()===n}));return r?r.value:null}},{key:"numberFormatter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Me(this.intl,e.forceSimple||this.fastNumbers,e)}},{key:"dtFormatter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Le(e,this.intl,t)}},{key:"relFormatter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new je(this.intl,this.isEnglish(),e)}},{key:"listFormatter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=JSON.stringify([e,t]),r=xe[n];return r||(r=new Intl.ListFormat(e,t),xe[n]=r),r}(this.intl,e)}},{key:"isEnglish",value:function(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||Be(this.intl).locale.startsWith("en-us")}},{key:"getWeekSettings",value:function(){return this.weekSettings?this.weekSettings:Ft()?function(e){var t=Re.get(e);if(!t){var n=new Intl.Locale(e);"minimalDays"in(t="getWeekInfo"in n?n.getWeekInfo():n.weekInfo)||(t=_e(_e({},Ue),t)),Re.set(e,t)}return t}(this.locale):Ue}},{key:"getStartOfWeek",value:function(){return this.getWeekSettings().firstDay}},{key:"getMinDaysInFirstWeek",value:function(){return this.getWeekSettings().minimalDays}},{key:"getWeekendDays",value:function(){return this.getWeekSettings().weekend}},{key:"equals",value:function(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}},{key:"toString",value:function(){return"Locale(".concat(this.locale,", ").concat(this.numberingSystem,", ").concat(this.outputCalendar,")")}}],[{key:"fromOpts",value:function(t){return e.create(t.locale,t.numberingSystem,t.outputCalendar,t.weekSettings,t.defaultToEN)}},{key:"create",value:function(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=t||st.defaultLocale;return new e(o||(a?"en-US":Pe||(Pe=(new Intl.DateTimeFormat).resolvedOptions().locale)),n||st.defaultNumberingSystem,r||st.defaultOutputCalendar,It(i)||st.defaultWeekSettings,o)}},{key:"resetCache",value:function(){Pe=null,Se.clear(),Fe.clear(),Oe.clear(),Ie.clear(),Re.clear()}},{key:"fromObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.locale,r=t.numberingSystem,i=t.outputCalendar,a=t.weekSettings;return e.create(n,r,i,a)}}])}();__webpack_require__(71761),__webpack_require__(94298);function Ve(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ve=function(){return!!e})()}var qe=null,He=function(e){function t(e){var n;return(0,p.A)(this,t),(n=function(e,t,n){return t=(0,S.A)(t),(0,x.A)(e,Ve()?Reflect.construct(t,n||[],(0,S.A)(e).constructor):t.apply(e,n))}(this,t)).fixed=e,n}return(0,T.A)(t,e),(0,f.A)(t,[{key:"type",get:function(){return"fixed"}},{key:"name",get:function(){return 0===this.fixed?"UTC":"UTC".concat(Xt(this.fixed,"narrow"))}},{key:"ianaName",get:function(){return 0===this.fixed?"Etc/UTC":"Etc/GMT".concat(Xt(-this.fixed,"narrow"))}},{key:"offsetName",value:function(){return this.name}},{key:"formatOffset",value:function(e,t){return Xt(this.fixed,t)}},{key:"isUniversal",get:function(){return!0}},{key:"offset",value:function(){return this.fixed}},{key:"equals",value:function(e){return"fixed"===e.type&&e.fixed===this.fixed}},{key:"isValid",get:function(){return!0}}],[{key:"utcInstance",get:function(){return null===qe&&(qe=new t(0)),qe}},{key:"instance",value:function(e){return 0===e?t.utcInstance:new t(e)}},{key:"parseSpecifier",value:function(e){if(e){var n=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(n)return new t(Gt(n[1],n[2]))}return null}}])}(fe);function We(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(We=function(){return!!e})()}var Ke=function(e){function t(e){var n;return(0,p.A)(this,t),(n=function(e,t,n){return t=(0,S.A)(t),(0,x.A)(e,We()?Reflect.construct(t,n||[],(0,S.A)(e).constructor):t.apply(e,n))}(this,t)).zoneName=e,n}return(0,T.A)(t,e),(0,f.A)(t,[{key:"type",get:function(){return"invalid"}},{key:"name",get:function(){return this.zoneName}},{key:"isUniversal",get:function(){return!1}},{key:"offsetName",value:function(){return null}},{key:"formatOffset",value:function(){return""}},{key:"offset",value:function(){return NaN}},{key:"equals",value:function(){return!1}},{key:"isValid",get:function(){return!1}}])}(fe);function $e(e,t){if(_t(e)||null===e)return t;if(e instanceof fe)return e;if(function(e){return"string"==typeof e}(e)){var n=e.toLowerCase();return"default"===n?t:"local"===n||"system"===n?ve.instance:"utc"===n||"gmt"===n?He.utcInstance:He.parseSpecifier(n)||De.create(e)}return xt(e)?He.instance(e):"object"===(0,C.A)(e)&&"offset"in e&&"function"==typeof e.offset?e:new Ke(e)}__webpack_require__(84864),__webpack_require__(57465),__webpack_require__(87745),__webpack_require__(5746);var Ge={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},Qe={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Ye=Ge.hanidec.replace(/[\[|\]]/g,"").split("");var Xe=new Map;function Ze(e){var t=e.numberingSystem,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=t||"latn",i=Xe.get(r);void 0===i&&(i=new Map,Xe.set(r,i));var a=i.get(n);return void 0===a&&(a=new RegExp("".concat(Ge[r]).concat(n)),i.set(n,a)),a}var Je,et=function(){return Date.now()},tt="system",nt=null,rt=null,it=null,at=60,ot=null,st=function(){return(0,f.A)((function e(){(0,p.A)(this,e)}),null,[{key:"now",get:function(){return et},set:function(e){et=e}},{key:"defaultZone",get:function(){return $e(tt,ve.instance)},set:function(e){tt=e}},{key:"defaultLocale",get:function(){return nt},set:function(e){nt=e}},{key:"defaultNumberingSystem",get:function(){return rt},set:function(e){rt=e}},{key:"defaultOutputCalendar",get:function(){return it},set:function(e){it=e}},{key:"defaultWeekSettings",get:function(){return ot},set:function(e){ot=It(e)}},{key:"twoDigitCutoffYear",get:function(){return at},set:function(e){at=e%100}},{key:"throwOnInvalid",get:function(){return Je},set:function(e){Je=e}},{key:"resetCaches",value:function(){ze.resetCache(),De.resetCache(),_i.resetCache(),Xe.clear()}}])}(),ut=(__webpack_require__(48980),function(){return(0,f.A)((function e(t,n){(0,p.A)(this,e),this.reason=t,this.explanation=n}),[{key:"toMessage",value:function(){return this.explanation?"".concat(this.reason,": ").concat(this.explanation):this.reason}}])}());function ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ct(Object(n),!0).forEach((function(t){(0,h.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var dt=[0,31,59,90,120,151,181,212,243,273,304,334],pt=[0,31,60,91,121,152,182,213,244,274,305,335];function ft(e,t){return new ut("unit out of range","you specified ".concat(t," (of type ").concat((0,C.A)(t),") as a ").concat(e,", which is invalid"))}function ht(e,t,n){var r=new Date(Date.UTC(e,t-1,n));e<100&&e>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);var i=r.getUTCDay();return 0===i?7:i}function mt(e,t,n){return n+(Ut(e)?pt:dt)[t-1]}function vt(e,t){var n=Ut(e)?pt:dt,r=n.findIndex((function(e){return e<t}));return{month:r+1,day:t-n[r]}}function gt(e,t){return(e-t+7)%7+1}function yt(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=e.year,a=e.month,o=e.day,s=mt(i,a,o),u=gt(ht(i,a,o),r),c=Math.floor((s-u+14-n)/7);return c<1?c=Wt(t=i-1,n,r):c>Wt(i,n,r)?(t=i+1,c=1):t=i,lt({weekYear:t,weekNumber:c,weekday:u},Zt(e))}function bt(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=e.weekYear,a=e.weekNumber,o=e.weekday,s=gt(ht(i,1,n),r),u=zt(i),c=7*a+o-s-7+n;c<1?c+=zt(t=i-1):c>u?(t=i+1,c-=zt(i)):t=i;var l=vt(t,c);return lt({year:t,month:l.month,day:l.day},Zt(e))}function wt(e){var t=e.year;return lt({year:t,ordinal:mt(t,e.month,e.day)},Zt(e))}function Dt(e){var t=e.year,n=vt(t,e.ordinal);return lt({year:t,month:n.month,day:n.day},Zt(e))}function At(e,t){if(!_t(e.localWeekday)||!_t(e.localWeekNumber)||!_t(e.localWeekYear)){if(!_t(e.weekday)||!_t(e.weekNumber)||!_t(e.weekYear))throw new M("Cannot mix locale-based week fields with ISO-based week fields");return _t(e.localWeekday)||(e.weekday=e.localWeekday),_t(e.localWeekNumber)||(e.weekNumber=e.localWeekNumber),_t(e.localWeekYear)||(e.weekYear=e.localWeekYear),delete e.localWeekday,delete e.localWeekNumber,delete e.localWeekYear,{minDaysInFirstWeek:t.getMinDaysInFirstWeek(),startOfWeek:t.getStartOfWeek()}}return{minDaysInFirstWeek:4,startOfWeek:1}}function Et(e){var t=St(e.year),n=Bt(e.month,1,12),r=Bt(e.day,1,Vt(e.year,e.month));return t?n?!r&&ft("day",e.day):ft("month",e.month):ft("year",e.year)}function kt(e){var t=e.hour,n=e.minute,r=e.second,i=e.millisecond,a=Bt(t,0,23)||24===t&&0===n&&0===r&&0===i,o=Bt(n,0,59),s=Bt(r,0,59),u=Bt(i,0,999);return a?o?s?!u&&ft("millisecond",i):ft("second",r):ft("minute",n):ft("hour",t)}function Ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _t(e){return void 0===e}function xt(e){return"number"==typeof e}function St(e){return"number"==typeof e&&e%1==0}function Tt(){try{return"undefined"!=typeof Intl&&!!Intl.RelativeTimeFormat}catch(e){return!1}}function Ft(){try{return"undefined"!=typeof Intl&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch(e){return!1}}function Ot(e,t,n){if(0!==e.length)return e.reduce((function(e,r){var i=[t(r),r];return e&&n(e[0],i[0])===e[0]?e:i}),null)[1]}function Pt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function It(e){if(null==e)return null;if("object"!==(0,C.A)(e))throw new j("Week settings must be an object");if(!Bt(e.firstDay,1,7)||!Bt(e.minimalDays,1,7)||!Array.isArray(e.weekend)||e.weekend.some((function(e){return!Bt(e,1,7)})))throw new j("Invalid week settings");return{firstDay:e.firstDay,minimalDays:e.minimalDays,weekend:Array.from(e.weekend)}}function Bt(e,t,n){return St(e)&&e>=t&&e<=n}function Rt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return e<0?"-"+(""+-e).padStart(t,"0"):(""+e).padStart(t,"0")}function Nt(e){return _t(e)||null===e||""===e?void 0:parseInt(e,10)}function Mt(e){return _t(e)||null===e||""===e?void 0:parseFloat(e)}function Lt(e){if(!_t(e)&&null!==e&&""!==e){var t=1e3*parseFloat("0."+e);return Math.floor(t)}}function jt(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Math.pow(10,t);return(n?Math.trunc:Math.round)(e*r)/r}function Ut(e){return e%4==0&&(e%100!=0||e%400==0)}function zt(e){return Ut(e)?366:365}function Vt(e,t){var n=function(e,t){return e-t*Math.floor(e/t)}(t-1,12)+1;return 2===n?Ut(e+(t-n)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function qt(e){var t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t)).setUTCFullYear(e.year,e.month-1,e.day),+t}function Ht(e,t,n){return-gt(ht(e,1,t),n)+t-1}function Wt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=Ht(e,t,n),i=Ht(e+1,t,n);return(zt(e)-r+i)/7}function Kt(e){return e>99?e:e>st.twoDigitCutoffYear?1900+e:2e3+e}function $t(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=new Date(e),a={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(a.timeZone=r);var o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ct(Object(n),!0).forEach((function(t){(0,h.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({timeZoneName:t},a),s=new Intl.DateTimeFormat(n,o).formatToParts(i).find((function(e){return"timezonename"===e.type.toLowerCase()}));return s?s.value:null}function Gt(e,t){var n=parseInt(e,10);Number.isNaN(n)&&(n=0);var r=parseInt(t,10)||0;return 60*n+(n<0||Object.is(n,-0)?-r:r)}function Qt(e){var t=Number(e);if("boolean"==typeof e||""===e||Number.isNaN(t))throw new j("Invalid unit value ".concat(e));return t}function Yt(e,t){var n={};for(var r in e)if(Pt(e,r)){var i=e[r];if(null==i)continue;n[t(r)]=Qt(i)}return n}function Xt(e,t){var n=Math.trunc(Math.abs(e/60)),r=Math.trunc(Math.abs(e%60)),i=e>=0?"+":"-";switch(t){case"short":return"".concat(i).concat(Rt(n,2),":").concat(Rt(r,2));case"narrow":return"".concat(i).concat(n).concat(r>0?":".concat(r):"");case"techie":return"".concat(i).concat(Rt(n,2)).concat(Rt(r,2));default:throw new RangeError("Value format ".concat(t," is out of range for property format"))}}function Zt(e){return function(e,t){return t.reduce((function(t,n){return t[n]=e[n],t}),{})}(e,["hour","minute","second","millisecond"])}var Jt=["January","February","March","April","May","June","July","August","September","October","November","December"],en=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],tn=["J","F","M","A","M","J","J","A","S","O","N","D"];function nn(e){switch(e){case"narrow":return[].concat(tn);case"short":return[].concat(en);case"long":return[].concat(Jt);case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}var rn=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],an=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],on=["M","T","W","T","F","S","S"];function sn(e){switch(e){case"narrow":return[].concat(on);case"short":return[].concat(an);case"long":return[].concat(rn);case"numeric":return["1","2","3","4","5","6","7"];default:return null}}var un=["AM","PM"],cn=["Before Christ","Anno Domini"],ln=["BC","AD"],dn=["B","A"];function pn(e){switch(e){case"narrow":return[].concat(dn);case"short":return[].concat(ln);case"long":return[].concat(cn);default:return null}}function fn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fn(Object(n),!0).forEach((function(t){(0,h.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mn(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return vn(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vn(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function vn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function gn(e,t){var n,r="",i=mn(e);try{for(i.s();!(n=i.n()).done;){var a=n.value;a.literal?r+=a.val:r+=t(a.val)}}catch(e){i.e(e)}finally{i.f()}return r}var yn={D:W,DD:K,DDD:G,DDDD:Q,t:Y,tt:X,ttt:Z,tttt:J,T:ee,TT:te,TTT:ne,TTTT:re,f:ie,ff:oe,fff:ce,ffff:de,F:ae,FF:se,FFF:le,FFFF:pe},bn=function(){function e(t,n){(0,p.A)(this,e),this.opts=n,this.loc=t,this.systemLoc=null}return(0,f.A)(e,[{key:"formatWithSystemDefault",value:function(e,t){return null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,hn(hn({},this.opts),t)).format()}},{key:"dtFormatter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.loc.dtFormatter(e,hn(hn({},this.opts),t))}},{key:"formatDateTime",value:function(e,t){return this.dtFormatter(e,t).format()}},{key:"formatDateTimeParts",value:function(e,t){return this.dtFormatter(e,t).formatToParts()}},{key:"formatInterval",value:function(e,t){return this.dtFormatter(e.start,t).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}},{key:"resolvedOptions",value:function(e,t){return this.dtFormatter(e,t).resolvedOptions()}},{key:"num",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.opts.forceSimple)return Rt(e,t);var n=hn({},this.opts);return t>0&&(n.padTo=t),this.loc.numberFormatter(n).format(e)}},{key:"formatDateTimeFromString",value:function(t,n){var r=this,i="en"===this.loc.listingMode(),a=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,o=function(e,n){return r.loc.extract(t,e,n)},s=function(e){return t.isOffsetFixed&&0===t.offset&&e.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,e.format):""},u=function(){return i?function(e){return un[e.hour<12?0:1]}(t):o({hour:"numeric",hourCycle:"h12"},"dayperiod")},c=function(e,n){return i?function(e,t){return nn(t)[e.month-1]}(t,e):o(n?{month:e}:{month:e,day:"numeric"},"month")},l=function(e,n){return i?function(e,t){return sn(t)[e.weekday-1]}(t,e):o(n?{weekday:e}:{weekday:e,month:"long",day:"numeric"},"weekday")},d=function(e){return i?function(e,t){return pn(t)[e.year<0?0:1]}(t,e):o({era:e},"era")};return gn(e.parseFormat(n),(function(n){switch(n){case"S":return r.num(t.millisecond);case"u":case"SSS":return r.num(t.millisecond,3);case"s":return r.num(t.second);case"ss":return r.num(t.second,2);case"uu":return r.num(Math.floor(t.millisecond/10),2);case"uuu":return r.num(Math.floor(t.millisecond/100));case"m":return r.num(t.minute);case"mm":return r.num(t.minute,2);case"h":return r.num(t.hour%12==0?12:t.hour%12);case"hh":return r.num(t.hour%12==0?12:t.hour%12,2);case"H":return r.num(t.hour);case"HH":return r.num(t.hour,2);case"Z":return s({format:"narrow",allowZ:r.opts.allowZ});case"ZZ":return s({format:"short",allowZ:r.opts.allowZ});case"ZZZ":return s({format:"techie",allowZ:r.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:r.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:r.loc.locale});case"z":return t.zoneName;case"a":return u();case"d":return a?o({day:"numeric"},"day"):r.num(t.day);case"dd":return a?o({day:"2-digit"},"day"):r.num(t.day,2);case"c":case"E":return r.num(t.weekday);case"ccc":return l("short",!0);case"cccc":return l("long",!0);case"ccccc":return l("narrow",!0);case"EEE":return l("short",!1);case"EEEE":return l("long",!1);case"EEEEE":return l("narrow",!1);case"L":return a?o({month:"numeric",day:"numeric"},"month"):r.num(t.month);case"LL":return a?o({month:"2-digit",day:"numeric"},"month"):r.num(t.month,2);case"LLL":return c("short",!0);case"LLLL":return c("long",!0);case"LLLLL":return c("narrow",!0);case"M":return a?o({month:"numeric"},"month"):r.num(t.month);case"MM":return a?o({month:"2-digit"},"month"):r.num(t.month,2);case"MMM":return c("short",!1);case"MMMM":return c("long",!1);case"MMMMM":return c("narrow",!1);case"y":return a?o({year:"numeric"},"year"):r.num(t.year);case"yy":return a?o({year:"2-digit"},"year"):r.num(t.year.toString().slice(-2),2);case"yyyy":return a?o({year:"numeric"},"year"):r.num(t.year,4);case"yyyyyy":return a?o({year:"numeric"},"year"):r.num(t.year,6);case"G":return d("short");case"GG":return d("long");case"GGGGG":return d("narrow");case"kk":return r.num(t.weekYear.toString().slice(-2),2);case"kkkk":return r.num(t.weekYear,4);case"W":return r.num(t.weekNumber);case"WW":return r.num(t.weekNumber,2);case"n":return r.num(t.localWeekNumber);case"nn":return r.num(t.localWeekNumber,2);case"ii":return r.num(t.localWeekYear.toString().slice(-2),2);case"iiii":return r.num(t.localWeekYear,4);case"o":return r.num(t.ordinal);case"ooo":return r.num(t.ordinal,3);case"q":return r.num(t.quarter);case"qq":return r.num(t.quarter,2);case"X":return r.num(Math.floor(t.ts/1e3));case"x":return r.num(t.ts);default:return function(n){var i=e.macroTokenToFormatOpts(n);return i?r.formatWithSystemDefault(t,i):n}(n)}}))}},{key:"formatDurationFromString",value:function(t,n){var r,i=this,a=function(e){switch(e[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},o=e.parseFormat(n),s=o.reduce((function(e,t){var n=t.literal,r=t.val;return n?e:e.concat(r)}),[]),u=t.shiftTo.apply(t,(0,z.A)(s.map(a).filter((function(e){return e}))));return gn(o,(r=u,function(e){var t=a(e);return t?i.num(r.get(t),e.length):e}))}}],[{key:"create",value:function(t){return new e(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}},{key:"parseFormat",value:function(e){for(var t=null,n="",r=!1,i=[],a=0;a<e.length;a++){var o=e.charAt(a);"'"===o?(n.length>0&&i.push({literal:r||/^\s+$/.test(n),val:n}),t=null,n="",r=!r):r||o===t?n+=o:(n.length>0&&i.push({literal:/^\s+$/.test(n),val:n}),n=o,t=o)}return n.length>0&&i.push({literal:r||/^\s+$/.test(n),val:n}),i}},{key:"macroTokenToFormatOpts",value:function(e){return yn[e]}}])}();__webpack_require__(42762);function wn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wn(Object(n),!0).forEach((function(t){(0,h.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var An=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function En(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e+t.source}),"");return RegExp("^".concat(r,"$"))}function kn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(t,n){var r=(0,_.A)(t,3),i=r[0],a=r[1],o=r[2],s=n(e,o),u=(0,_.A)(s,3),c=u[0],l=u[1],d=u[2];return[Dn(Dn({},i),c),l||a,d]}),[{},null,1]).slice(0,2)}}function Cn(e){if(null==e)return[null,null];for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=(0,_.A)(a[i],2),s=o[0],u=o[1],c=s.exec(e);if(c)return u(c)}return[null,null]}function _n(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n){var r,i={};for(r=0;r<t.length;r++)i[t[r]]=Nt(e[n+r]);return[i,null,n+r]}}var xn=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Sn="(?:".concat(xn.source,"?(?:\\[(").concat(An.source,")\\])?)?"),Tn=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Fn=RegExp("".concat(Tn.source).concat(Sn)),On=RegExp("(?:T".concat(Fn.source,")?")),Pn=_n("weekYear","weekNumber","weekDay"),In=_n("year","ordinal"),Bn=RegExp("".concat(Tn.source," ?(?:").concat(xn.source,"|(").concat(An.source,"))?")),Rn=RegExp("(?: ".concat(Bn.source,")?"));function Nn(e,t,n){var r=e[t];return _t(r)?n:Nt(r)}function Mn(e,t){return[{hours:Nn(e,t,0),minutes:Nn(e,t+1,0),seconds:Nn(e,t+2,0),milliseconds:Lt(e[t+3])},null,t+4]}function Ln(e,t){var n=!e[t]&&!e[t+1],r=Gt(e[t+1],e[t+2]);return[{},n?null:He.instance(r),t+3]}function jn(e,t){return[{},e[t]?De.create(e[t]):null,t+1]}var Un=RegExp("^T?".concat(Tn.source,"$")),zn=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Vn(e){var t=(0,_.A)(e,9),n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],u=t[6],c=t[7],l=t[8],d="-"===n[0],p=c&&"-"===c[0],f=function(e){return void 0!==e&&(arguments.length>1&&void 0!==arguments[1]&&arguments[1]||e&&d)?-e:e};return[{years:f(Mt(r)),months:f(Mt(i)),weeks:f(Mt(a)),days:f(Mt(o)),hours:f(Mt(s)),minutes:f(Mt(u)),seconds:f(Mt(c),"-0"===c),milliseconds:f(Lt(l),p)}]}var qn={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Hn(e,t,n,r,i,a,o){var s={year:2===t.length?Kt(Nt(t)):Nt(t),month:en.indexOf(n)+1,day:Nt(r),hour:Nt(i),minute:Nt(a)};return o&&(s.second=Nt(o)),e&&(s.weekday=e.length>3?rn.indexOf(e)+1:an.indexOf(e)+1),s}var Wn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Kn(e){var t,n=(0,_.A)(e,12),r=n[1],i=n[2],a=n[3],o=n[4],s=n[5],u=n[6],c=n[7],l=n[8],d=n[9],p=n[10],f=n[11],h=Hn(r,o,a,i,s,u,c);return t=l?qn[l]:d?0:Gt(p,f),[h,new He(t)]}var $n=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Gn=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Qn=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Yn(e){var t=(0,_.A)(e,8),n=t[1],r=t[2],i=t[3];return[Hn(n,t[4],i,r,t[5],t[6],t[7]),He.utcInstance]}function Xn(e){var t=(0,_.A)(e,8),n=t[1],r=t[2],i=t[3],a=t[4],o=t[5],s=t[6];return[Hn(n,t[7],r,i,a,o,s),He.utcInstance]}var Zn=En(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,On),Jn=En(/(\d{4})-?W(\d\d)(?:-?(\d))?/,On),er=En(/(\d{4})-?(\d{3})/,On),tr=En(Fn),nr=kn((function(e,t){return[{year:Nn(e,t),month:Nn(e,t+1,1),day:Nn(e,t+2,1)},null,t+3]}),Mn,Ln,jn),rr=kn(Pn,Mn,Ln,jn),ir=kn(In,Mn,Ln,jn),ar=kn(Mn,Ln,jn);var or=kn(Mn);var sr=En(/(\d{4})-(\d\d)-(\d\d)/,Rn),ur=En(Bn),cr=kn(Mn,Ln,jn);function lr(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return dr(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dr(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function dr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function pr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pr(Object(n),!0).forEach((function(t){(0,h.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var hr="Invalid Duration",mr={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},vr=fr({years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6}},mr),gr=365.2425,yr=30.436875,br=fr({years:{quarters:4,months:12,weeks:52.1775,days:gr,hours:8765.82,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:4.3481250000000005,days:yr,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746e3}},mr),wr=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Dr=wr.slice(0).reverse();function Ar(e,t){var n={values:arguments.length>2&&void 0!==arguments[2]&&arguments[2]?t.values:fr(fr({},e.values),t.values||{}),loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy,matrix:t.matrix||e.matrix};return new Cr(n)}function Er(e,t){var n,r,i=null!==(n=t.milliseconds)&&void 0!==n?n:0,a=lr(Dr.slice(1));try{for(a.s();!(r=a.n()).done;){var o=r.value;t[o]&&(i+=t[o]*e[o].milliseconds)}}catch(e){a.e(e)}finally{a.f()}return i}function kr(e,t){var n=Er(e,t)<0?-1:1;wr.reduceRight((function(r,i){if(_t(t[i]))return r;if(r){var a=t[r]*n,o=e[i][r],s=Math.floor(a/o);t[i]+=s*n,t[r]-=s*o*n}return i}),null),wr.reduce((function(n,r){if(_t(t[r]))return n;if(n){var i=t[n]%1;t[n]-=i,t[r]+=i*e[n][r]}return r}),null)}var Cr=function(){function e(t){(0,p.A)(this,e);var n="longterm"===t.conversionAccuracy||!1,r=n?br:vr;t.matrix&&(r=t.matrix),this.values=t.values,this.loc=t.loc||ze.create(),this.conversionAccuracy=n?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=r,this.isLuxonDuration=!0}return(0,f.A)(e,[{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"toFormat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=fr(fr({},t),{},{floor:!1!==t.round&&!1!==t.floor});return this.isValid?bn.create(this.loc,n).formatDurationFromString(this,e):hr}},{key:"toHuman",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.isValid)return hr;var n=wr.map((function(n){var r=e.values[n];return _t(r)?null:e.loc.numberFormatter(fr(fr({style:"unit",unitDisplay:"long"},t),{},{unit:n.slice(0,-1)})).format(r)})).filter((function(e){return e}));return this.loc.listFormatter(fr({type:"conjunction",style:t.listStyle||"narrow"},t)).format(n)}},{key:"toObject",value:function(){return this.isValid?fr({},this.values):{}}},{key:"toISO",value:function(){if(!this.isValid)return null;var e="P";return 0!==this.years&&(e+=this.years+"Y"),0===this.months&&0===this.quarters||(e+=this.months+3*this.quarters+"M"),0!==this.weeks&&(e+=this.weeks+"W"),0!==this.days&&(e+=this.days+"D"),0===this.hours&&0===this.minutes&&0===this.seconds&&0===this.milliseconds||(e+="T"),0!==this.hours&&(e+=this.hours+"H"),0!==this.minutes&&(e+=this.minutes+"M"),0===this.seconds&&0===this.milliseconds||(e+=jt(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===e&&(e+="T0S"),e}},{key:"toISOTime",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.isValid)return null;var t=this.toMillis();return t<0||t>=864e5?null:(e=fr(fr({suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended"},e),{},{includeOffset:!1}),_i.fromMillis(t,{zone:"UTC"}).toISOTime(e))}},{key:"toJSON",value:function(){return this.toISO()}},{key:"toString",value:function(){return this.toISO()}},{key:Symbol.for("nodejs.util.inspect.custom"),value:function(){return this.isValid?"Duration { values: ".concat(JSON.stringify(this.values)," }"):"Duration { Invalid, reason: ".concat(this.invalidReason," }")}},{key:"toMillis",value:function(){return this.isValid?Er(this.matrix,this.values):NaN}},{key:"valueOf",value:function(){return this.toMillis()}},{key:"plus",value:function(t){if(!this.isValid)return this;for(var n=e.fromDurationLike(t),r={},i=0,a=wr;i<a.length;i++){var o=a[i];(Pt(n.values,o)||Pt(this.values,o))&&(r[o]=n.get(o)+this.get(o))}return Ar(this,{values:r},!0)}},{key:"minus",value:function(t){if(!this.isValid)return this;var n=e.fromDurationLike(t);return this.plus(n.negate())}},{key:"mapUnits",value:function(e){if(!this.isValid)return this;for(var t={},n=0,r=Object.keys(this.values);n<r.length;n++){var i=r[n];t[i]=Qt(e(this.values[i],i))}return Ar(this,{values:t},!0)}},{key:"get",value:function(t){return this[e.normalizeUnit(t)]}},{key:"set",value:function(t){return this.isValid?Ar(this,{values:fr(fr({},this.values),Yt(t,e.normalizeUnit))}):this}},{key:"reconfigure",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.locale,n=e.numberingSystem,r=e.conversionAccuracy,i=e.matrix;return Ar(this,{loc:this.loc.clone({locale:t,numberingSystem:n}),matrix:i,conversionAccuracy:r})}},{key:"as",value:function(e){return this.isValid?this.shiftTo(e).get(e):NaN}},{key:"normalize",value:function(){if(!this.isValid)return this;var e=this.toObject();return kr(this.matrix,e),Ar(this,{values:e},!0)}},{key:"rescale",value:function(){if(!this.isValid)return this;var e=function(e){for(var t={},n=0,r=Object.entries(e);n<r.length;n++){var i=(0,_.A)(r[n],2),a=i[0],o=i[1];0!==o&&(t[a]=o)}return t}(this.normalize().shiftToAll().toObject());return Ar(this,{values:e},!0)}},{key:"shiftTo",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!this.isValid)return this;if(0===n.length)return this;n=n.map((function(t){return e.normalizeUnit(t)}));for(var i,a={},o={},s=this.toObject(),u=0,c=wr;u<c.length;u++){var l=c[u];if(n.indexOf(l)>=0){i=l;var d=0;for(var p in o)d+=this.matrix[p][l]*o[p],o[p]=0;xt(s[l])&&(d+=s[l]);var f=Math.trunc(d);a[l]=f,o[l]=(1e3*d-1e3*f)/1e3}else xt(s[l])&&(o[l]=s[l])}for(var h in o)0!==o[h]&&(a[i]+=h===i?o[h]:o[h]/this.matrix[i][h]);return kr(this.matrix,a),Ar(this,{values:a},!0)}},{key:"shiftToAll",value:function(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}},{key:"negate",value:function(){if(!this.isValid)return this;for(var e={},t=0,n=Object.keys(this.values);t<n.length;t++){var r=n[t];e[r]=0===this.values[r]?0:-this.values[r]}return Ar(this,{values:e},!0)}},{key:"years",get:function(){return this.isValid?this.values.years||0:NaN}},{key:"quarters",get:function(){return this.isValid?this.values.quarters||0:NaN}},{key:"months",get:function(){return this.isValid?this.values.months||0:NaN}},{key:"weeks",get:function(){return this.isValid?this.values.weeks||0:NaN}},{key:"days",get:function(){return this.isValid?this.values.days||0:NaN}},{key:"hours",get:function(){return this.isValid?this.values.hours||0:NaN}},{key:"minutes",get:function(){return this.isValid?this.values.minutes||0:NaN}},{key:"seconds",get:function(){return this.isValid?this.values.seconds||0:NaN}},{key:"milliseconds",get:function(){return this.isValid?this.values.milliseconds||0:NaN}},{key:"isValid",get:function(){return null===this.invalid}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}},{key:"equals",value:function(e){if(!this.isValid||!e.isValid)return!1;if(!this.loc.equals(e.loc))return!1;for(var t=0,n=wr;t<n.length;t++){var r=n[t];if(i=this.values[r],a=e.values[r],!(void 0===i||0===i?void 0===a||0===a:i===a))return!1}var i,a;return!0}}],[{key:"fromMillis",value:function(t,n){return e.fromObject({milliseconds:t},n)}},{key:"fromObject",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==t||"object"!==(0,C.A)(t))throw new j("Duration.fromObject: argument expected to be an object, got ".concat(null===t?"null":(0,C.A)(t)));return new e({values:Yt(t,e.normalizeUnit),loc:ze.fromObject(n),conversionAccuracy:n.conversionAccuracy,matrix:n.matrix})}},{key:"fromDurationLike",value:function(t){if(xt(t))return e.fromMillis(t);if(e.isDuration(t))return t;if("object"===(0,C.A)(t))return e.fromObject(t);throw new j("Unknown duration argument ".concat(t," of type ").concat((0,C.A)(t)))}},{key:"fromISO",value:function(t,n){var r=function(e){return Cn(e,[zn,Vn])}(t),i=(0,_.A)(r,1)[0];return i?e.fromObject(i,n):e.invalid("unparsable",'the input "'.concat(t,"\" can't be parsed as ISO 8601"))}},{key:"fromISOTime",value:function(t,n){var r=function(e){return Cn(e,[Un,or])}(t),i=(0,_.A)(r,1)[0];return i?e.fromObject(i,n):e.invalid("unparsable",'the input "'.concat(t,"\" can't be parsed as ISO 8601"))}},{key:"invalid",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!t)throw new j("need to specify a reason the Duration is invalid");var r=t instanceof ut?t:new ut(t,n);if(st.throwOnInvalid)throw new N(r);return new e({invalid:r})}},{key:"normalizeUnit",value:function(e){var t={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e?e.toLowerCase():e];if(!t)throw new L(e);return t}},{key:"isDuration",value:function(e){return e&&e.isLuxonDuration||!1}}])}();function _r(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return xr(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xr(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function xr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Sr="Invalid Interval";function Tr(e,t){return e&&e.isValid?t&&t.isValid?t<e?Fr.invalid("end before start","The end of an interval must be after its start, but you had start=".concat(e.toISO()," and end=").concat(t.toISO())):null:Fr.invalid("missing or invalid end"):Fr.invalid("missing or invalid start")}var Fr=function(){function e(t){(0,p.A)(this,e),this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}return(0,f.A)(e,[{key:"start",get:function(){return this.isValid?this.s:null}},{key:"end",get:function(){return this.isValid?this.e:null}},{key:"lastDateTime",get:function(){return this.isValid&&this.e?this.e.minus(1):null}},{key:"isValid",get:function(){return null===this.invalidReason}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}},{key:"length",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"milliseconds";return this.isValid?this.toDuration.apply(this,[e]).get(e):NaN}},{key:"count",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"milliseconds",t=arguments.length>1?arguments[1]:void 0;if(!this.isValid)return NaN;var n,r=this.start.startOf(e,t);return n=(n=null!=t&&t.useLocaleWeeks?this.end.reconfigure({locale:r.locale}):this.end).startOf(e,t),Math.floor(n.diff(r,e).get(e))+(n.valueOf()!==this.end.valueOf())}},{key:"hasSame",value:function(e){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,e))}},{key:"isEmpty",value:function(){return this.s.valueOf()===this.e.valueOf()}},{key:"isAfter",value:function(e){return!!this.isValid&&this.s>e}},{key:"isBefore",value:function(e){return!!this.isValid&&this.e<=e}},{key:"contains",value:function(e){return!!this.isValid&&(this.s<=e&&this.e>e)}},{key:"set",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.start,r=t.end;return this.isValid?e.fromDateTimes(n||this.s,r||this.e):this}},{key:"splitAt",value:function(){var t=this;if(!this.isValid)return[];for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];for(var a=r.map(xi).filter((function(e){return t.contains(e)})).sort((function(e,t){return e.toMillis()-t.toMillis()})),o=[],s=this.s,u=0;s<this.e;){var c=a[u]||this.e,l=+c>+this.e?this.e:c;o.push(e.fromDateTimes(s,l)),s=l,u+=1}return o}},{key:"splitBy",value:function(t){var n=Cr.fromDurationLike(t);if(!this.isValid||!n.isValid||0===n.as("milliseconds"))return[];for(var r,i=this.s,a=1,o=[];i<this.e;){var s=this.start.plus(n.mapUnits((function(e){return e*a})));r=+s>+this.e?this.e:s,o.push(e.fromDateTimes(i,r)),i=r,a+=1}return o}},{key:"divideEqually",value:function(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}},{key:"overlaps",value:function(e){return this.e>e.s&&this.s<e.e}},{key:"abutsStart",value:function(e){return!!this.isValid&&+this.e==+e.s}},{key:"abutsEnd",value:function(e){return!!this.isValid&&+e.e==+this.s}},{key:"engulfs",value:function(e){return!!this.isValid&&(this.s<=e.s&&this.e>=e.e)}},{key:"equals",value:function(e){return!(!this.isValid||!e.isValid)&&(this.s.equals(e.s)&&this.e.equals(e.e))}},{key:"intersection",value:function(t){if(!this.isValid)return this;var n=this.s>t.s?this.s:t.s,r=this.e<t.e?this.e:t.e;return n>=r?null:e.fromDateTimes(n,r)}},{key:"union",value:function(t){if(!this.isValid)return this;var n=this.s<t.s?this.s:t.s,r=this.e>t.e?this.e:t.e;return e.fromDateTimes(n,r)}},{key:"difference",value:function(){for(var t=this,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.xor([this].concat(r)).map((function(e){return t.intersection(e)})).filter((function(e){return e&&!e.isEmpty()}))}},{key:"toString",value:function(){return this.isValid?"[".concat(this.s.toISO(),"  ").concat(this.e.toISO(),")"):Sr}},{key:Symbol.for("nodejs.util.inspect.custom"),value:function(){return this.isValid?"Interval { start: ".concat(this.s.toISO(),", end: ").concat(this.e.toISO()," }"):"Interval { Invalid, reason: ".concat(this.invalidReason," }")}},{key:"toLocaleString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.isValid?bn.create(this.s.loc.clone(t),e).formatInterval(this):Sr}},{key:"toISO",value:function(e){return this.isValid?"".concat(this.s.toISO(e),"/").concat(this.e.toISO(e)):Sr}},{key:"toISODate",value:function(){return this.isValid?"".concat(this.s.toISODate(),"/").concat(this.e.toISODate()):Sr}},{key:"toISOTime",value:function(e){return this.isValid?"".concat(this.s.toISOTime(e),"/").concat(this.e.toISOTime(e)):Sr}},{key:"toFormat",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).separator,n=void 0===t?"  ":t;return this.isValid?"".concat(this.s.toFormat(e)).concat(n).concat(this.e.toFormat(e)):Sr}},{key:"toDuration",value:function(e,t){return this.isValid?this.e.diff(this.s,e,t):Cr.invalid(this.invalidReason)}},{key:"mapEndpoints",value:function(t){return e.fromDateTimes(t(this.s),t(this.e))}}],[{key:"invalid",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!t)throw new j("need to specify a reason the Interval is invalid");var r=t instanceof ut?t:new ut(t,n);if(st.throwOnInvalid)throw new R(r);return new e({invalid:r})}},{key:"fromDateTimes",value:function(t,n){var r=xi(t),i=xi(n),a=Tr(r,i);return null==a?new e({start:r,end:i}):a}},{key:"after",value:function(t,n){var r=Cr.fromDurationLike(n),i=xi(t);return e.fromDateTimes(i,i.plus(r))}},{key:"before",value:function(t,n){var r=Cr.fromDurationLike(n),i=xi(t);return e.fromDateTimes(i.minus(r),i)}},{key:"fromISO",value:function(t,n){var r=(t||"").split("/",2),i=(0,_.A)(r,2),a=i[0],o=i[1];if(a&&o){var s,u,c,l;try{u=(s=_i.fromISO(a,n)).isValid}catch(o){u=!1}try{l=(c=_i.fromISO(o,n)).isValid}catch(o){l=!1}if(u&&l)return e.fromDateTimes(s,c);if(u){var d=Cr.fromISO(o,n);if(d.isValid)return e.after(s,d)}else if(l){var p=Cr.fromISO(a,n);if(p.isValid)return e.before(c,p)}}return e.invalid("unparsable",'the input "'.concat(t,"\" can't be parsed as ISO 8601"))}},{key:"isInterval",value:function(e){return e&&e.isLuxonInterval||!1}},{key:"merge",value:function(e){var t=e.sort((function(e,t){return e.s-t.s})).reduce((function(e,t){var n=(0,_.A)(e,2),r=n[0],i=n[1];return i?i.overlaps(t)||i.abutsStart(t)?[r,i.union(t)]:[r.concat([i]),t]:[r,t]}),[[],null]),n=(0,_.A)(t,2),r=n[0],i=n[1];return i&&r.push(i),r}},{key:"xor",value:function(t){var n,r,i=null,a=0,o=[],s=t.map((function(e){return[{time:e.s,type:"s"},{time:e.e,type:"e"}]})),u=_r((n=Array.prototype).concat.apply(n,(0,z.A)(s)).sort((function(e,t){return e.time-t.time})));try{for(u.s();!(r=u.n()).done;){var c=r.value;1===(a+="s"===c.type?1:-1)?i=c.time:(i&&+i!=+c.time&&o.push(e.fromDateTimes(i,c.time)),i=null)}}catch(e){u.e(e)}finally{u.f()}return e.merge(o)}}])}(),Or=function(){return(0,f.A)((function e(){(0,p.A)(this,e)}),null,[{key:"hasDST",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st.defaultZone,t=_i.now().setZone(e).set({month:12});return!e.isUniversal&&t.offset!==t.set({month:6}).offset}},{key:"isValidIANAZone",value:function(e){return De.isValidZone(e)}},{key:"normalizeZone",value:function(e){return $e(e,st.defaultZone)}},{key:"getStartOfWeek",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.locale,n=void 0===t?null:t,r=e.locObj;return((void 0===r?null:r)||ze.create(n)).getStartOfWeek()}},{key:"getMinimumDaysInFirstWeek",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.locale,n=void 0===t?null:t,r=e.locObj;return((void 0===r?null:r)||ze.create(n)).getMinDaysInFirstWeek()}},{key:"getWeekendWeekdays",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.locale,n=void 0===t?null:t,r=e.locObj;return((void 0===r?null:r)||ze.create(n)).getWeekendDays().slice()}},{key:"months",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"long",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.locale,r=void 0===n?null:n,i=t.numberingSystem,a=void 0===i?null:i,o=t.locObj,s=void 0===o?null:o,u=t.outputCalendar,c=void 0===u?"gregory":u;return(s||ze.create(r,a,c)).months(e)}},{key:"monthsFormat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"long",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.locale,r=void 0===n?null:n,i=t.numberingSystem,a=void 0===i?null:i,o=t.locObj,s=void 0===o?null:o,u=t.outputCalendar,c=void 0===u?"gregory":u;return(s||ze.create(r,a,c)).months(e,!0)}},{key:"weekdays",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"long",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.locale,r=void 0===n?null:n,i=t.numberingSystem,a=void 0===i?null:i,o=t.locObj;return((void 0===o?null:o)||ze.create(r,a,null)).weekdays(e)}},{key:"weekdaysFormat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"long",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.locale,r=void 0===n?null:n,i=t.numberingSystem,a=void 0===i?null:i,o=t.locObj;return((void 0===o?null:o)||ze.create(r,a,null)).weekdays(e,!0)}},{key:"meridiems",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).locale,t=void 0===e?null:e;return ze.create(t).meridiems()}},{key:"eras",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"short",t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).locale,n=void 0===t?null:t;return ze.create(n,null,"gregory").eras(e)}},{key:"features",value:function(){return{relative:Tt(),localeWeek:Ft()}}}])}();function Pr(e,t){var n=function(e){return e.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf()},r=n(t)-n(e);return Math.floor(Cr.fromMillis(r).as("days"))}function Ir(e,t,n,r){var i=function(e,t,n){for(var r,i,a={},o=e,s=0,u=[["years",function(e,t){return t.year-e.year}],["quarters",function(e,t){return t.quarter-e.quarter+4*(t.year-e.year)}],["months",function(e,t){return t.month-e.month+12*(t.year-e.year)}],["weeks",function(e,t){var n=Pr(e,t);return(n-n%7)/7}],["days",Pr]];s<u.length;s++){var c=(0,_.A)(u[s],2),l=c[0],d=c[1];n.indexOf(l)>=0&&(r=l,a[l]=d(e,t),(i=o.plus(a))>t?(a[l]--,(e=o.plus(a))>t&&(i=e,a[l]--,e=o.plus(a))):e=i)}return[e,a,i,r]}(e,t,n),a=(0,_.A)(i,4),o=a[0],s=a[1],u=a[2],c=a[3],l=t-o,d=n.filter((function(e){return["hours","minutes","seconds","milliseconds"].indexOf(e)>=0}));0===d.length&&(u<t&&(u=o.plus((0,h.A)({},c,1))),u!==o&&(s[c]=(s[c]||0)+l/(u-o)));var p,f=Cr.fromObject(s,r);return d.length>0?(p=Cr.fromMillis(l,r)).shiftTo.apply(p,(0,z.A)(d)).plus(f):f}function Br(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};return{regex:e,deser:function(e){var n=(0,_.A)(e,1)[0];return t(function(e){var t=parseInt(e,10);if(isNaN(t)){t="";for(var n=0;n<e.length;n++){var r=e.charCodeAt(n);if(-1!==e[n].search(Ge.hanidec))t+=Ye.indexOf(e[n]);else for(var i in Qe){var a=(0,_.A)(Qe[i],2),o=a[0],s=a[1];r>=o&&r<=s&&(t+=r-o)}}return parseInt(t,10)}return t}(n))}}}var Rr=String.fromCharCode(160),Nr="[ ".concat(Rr,"]"),Mr=new RegExp(Nr,"g");function Lr(e){return e.replace(/\./g,"\\.?").replace(Mr,Nr)}function jr(e){return e.replace(/\./g,"").replace(Mr," ").toLowerCase()}function Ur(e,t){return null===e?null:{regex:RegExp(e.map(Lr).join("|")),deser:function(n){var r=(0,_.A)(n,1)[0];return e.findIndex((function(e){return jr(r)===jr(e)}))+t}}}function zr(e,t){return{regex:e,deser:function(e){var t=(0,_.A)(e,3);return Gt(t[1],t[2])},groups:t}}function Vr(e){return{regex:e,deser:function(e){return(0,_.A)(e,1)[0]}}}function qr(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var Hr={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM","short":"MMM","long":"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{"short":"EEE","long":"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{"long":"ZZZZZ","short":"ZZZ"}};var Wr=null;function Kr(e,t){var n;return(n=Array.prototype).concat.apply(n,(0,z.A)(e.map((function(e){return function(e,t){if(e.literal)return e;var n=Qr(bn.macroTokenToFormatOpts(e.val),t);return null==n||n.includes(void 0)?e:n}(e,t)}))))}var $r=function(){return(0,f.A)((function e(t,n){if((0,p.A)(this,e),this.locale=t,this.format=n,this.tokens=Kr(bn.parseFormat(n),t),this.units=this.tokens.map((function(e){return function(e,t){var n=Ze(t),r=Ze(t,"{2}"),i=Ze(t,"{3}"),a=Ze(t,"{4}"),o=Ze(t,"{6}"),s=Ze(t,"{1,2}"),u=Ze(t,"{1,3}"),c=Ze(t,"{1,6}"),l=Ze(t,"{1,9}"),d=Ze(t,"{2,4}"),p=Ze(t,"{4,6}"),f=function(e){return{regex:RegExp(qr(e.val)),deser:function(e){return(0,_.A)(e,1)[0]},literal:!0}},h=function(h){if(e.literal)return f(h);switch(h.val){case"G":return Ur(t.eras("short"),0);case"GG":return Ur(t.eras("long"),0);case"y":return Br(c);case"yy":case"kk":return Br(d,Kt);case"yyyy":case"kkkk":return Br(a);case"yyyyy":return Br(p);case"yyyyyy":return Br(o);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return Br(s);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return Br(r);case"MMM":return Ur(t.months("short",!0),1);case"MMMM":return Ur(t.months("long",!0),1);case"LLL":return Ur(t.months("short",!1),1);case"LLLL":return Ur(t.months("long",!1),1);case"o":case"S":return Br(u);case"ooo":case"SSS":return Br(i);case"u":return Vr(l);case"uu":return Vr(s);case"uuu":case"E":case"c":return Br(n);case"a":return Ur(t.meridiems(),0);case"EEE":return Ur(t.weekdays("short",!1),1);case"EEEE":return Ur(t.weekdays("long",!1),1);case"ccc":return Ur(t.weekdays("short",!0),1);case"cccc":return Ur(t.weekdays("long",!0),1);case"Z":case"ZZ":return zr(new RegExp("([+-]".concat(s.source,")(?::(").concat(r.source,"))?")),2);case"ZZZ":return zr(new RegExp("([+-]".concat(s.source,")(").concat(r.source,")?")),2);case"z":return Vr(/[a-z_+-/]{1,256}?/i);case" ":return Vr(/[^\S\n\r]/);default:return f(h)}}(e)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return h.token=e,h}(e,t)})),this.disqualifyingUnit=this.units.find((function(e){return e.invalidReason})),!this.disqualifyingUnit){var r=function(e){var t=e.map((function(e){return e.regex})).reduce((function(e,t){return"".concat(e,"(").concat(t.source,")")}),"");return["^".concat(t,"$"),e]}(this.units),i=(0,_.A)(r,2),a=i[0],o=i[1];this.regex=RegExp(a,"i"),this.handlers=o}}),[{key:"explainFromTokens",value:function(e){if(this.isValid){var t=function(e,t,n){var r=e.match(t);if(r){var i={},a=1;for(var o in n)if(Pt(n,o)){var s=n[o],u=s.groups?s.groups+1:1;!s.literal&&s.token&&(i[s.token.val[0]]=s.deser(r.slice(a,a+u))),a+=u}return[r,i]}return[r,{}]}(e,this.regex,this.handlers),n=(0,_.A)(t,2),r=n[0],i=n[1],a=i?function(e){var t,n=null;_t(e.z)||(n=De.create(e.z)),_t(e.Z)||(n||(n=new He(e.Z)),t=e.Z),_t(e.q)||(e.M=3*(e.q-1)+1),_t(e.h)||(e.h<12&&1===e.a?e.h+=12:12===e.h&&0===e.a&&(e.h=0)),0===e.G&&e.y&&(e.y=-e.y),_t(e.u)||(e.S=Lt(e.u));var r=Object.keys(e).reduce((function(t,n){var r=function(e){switch(e){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}}(n);return r&&(t[r]=e[n]),t}),{});return[r,n,t]}(i):[null,null,void 0],o=(0,_.A)(a,3),s=o[0],u=o[1],c=o[2];if(Pt(i,"a")&&Pt(i,"H"))throw new M("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:this.tokens,regex:this.regex,rawMatches:r,matches:i,result:s,zone:u,specificOffset:c}}return{input:e,tokens:this.tokens,invalidReason:this.invalidReason}}},{key:"isValid",get:function(){return!this.disqualifyingUnit}},{key:"invalidReason",get:function(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}])}();function Gr(e,t,n){return new $r(e,n).explainFromTokens(t)}function Qr(e,t){if(!e)return null;var n=bn.create(t,e).dtFormatter((Wr||(Wr=_i.fromMillis(1555555555555)),Wr)),r=n.formatToParts(),i=n.resolvedOptions();return r.map((function(t){return function(e,t,n){var r=e.type,i=e.value;if("literal"===r){var a=/^\s+$/.test(i);return{literal:!a,val:a?" ":i}}var o=t[r],s=r;"hour"===r&&(s=null!=t.hour12?t.hour12?"hour12":"hour24":null!=t.hourCycle?"h11"===t.hourCycle||"h12"===t.hourCycle?"hour12":"hour24":n.hour12?"hour12":"hour24");var u=Hr[s];if("object"===(0,C.A)(u)&&(u=u[o]),u)return{literal:!1,val:u}}(t,e,i)}))}function Yr(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Xr(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xr(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Xr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Zr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zr(Object(n),!0).forEach((function(t){(0,h.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ei="Invalid DateTime",ti=864e13;function ni(e){return new ut("unsupported zone",'the zone "'.concat(e.name,'" is not supported'))}function ri(e){return null===e.weekData&&(e.weekData=yt(e.c)),e.weekData}function ii(e){return null===e.localWeekData&&(e.localWeekData=yt(e.c,e.loc.getMinDaysInFirstWeek(),e.loc.getStartOfWeek())),e.localWeekData}function ai(e,t){var n={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new _i(Jr(Jr(Jr({},n),t),{},{old:n}))}function oi(e,t,n){var r=e-60*t*1e3,i=n.offset(r);if(t===i)return[r,t];r-=60*(i-t)*1e3;var a=n.offset(r);return i===a?[r,i]:[e-60*Math.min(i,a)*1e3,Math.max(i,a)]}function si(e,t){var n=new Date(e+=60*t*1e3);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function ui(e,t,n){return oi(qt(e),t,n)}function ci(e,t){var n=e.o,r=e.c.year+Math.trunc(t.years),i=e.c.month+Math.trunc(t.months)+3*Math.trunc(t.quarters),a=Jr(Jr({},e.c),{},{year:r,month:i,day:Math.min(e.c.day,Vt(r,i))+Math.trunc(t.days)+7*Math.trunc(t.weeks)}),o=Cr.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),s=oi(qt(a),n,e.zone),u=(0,_.A)(s,2),c=u[0],l=u[1];return 0!==o&&(c+=o,l=e.zone.offset(c)),{ts:c,o:l}}function li(e,t,n,r,i,a){var o=n.setZone,s=n.zone;if(e&&0!==Object.keys(e).length||t){var u=t||s,c=_i.fromObject(e,Jr(Jr({},n),{},{zone:u,specificOffset:a}));return o?c:c.setZone(s)}return _i.invalid(new ut("unparsable",'the input "'.concat(i,"\" can't be parsed as ").concat(r)))}function di(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return e.isValid?bn.create(ze.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(e,t):null}function pi(e,t){var n=e.c.year>9999||e.c.year<0,r="";return n&&e.c.year>=0&&(r+="+"),r+=Rt(e.c.year,n?6:4),t?(r+="-",r+=Rt(e.c.month),r+="-",r+=Rt(e.c.day)):(r+=Rt(e.c.month),r+=Rt(e.c.day)),r}function fi(e,t,n,r,i,a){var o=Rt(e.c.hour);return t?(o+=":",o+=Rt(e.c.minute),0===e.c.millisecond&&0===e.c.second&&n||(o+=":")):o+=Rt(e.c.minute),0===e.c.millisecond&&0===e.c.second&&n||(o+=Rt(e.c.second),0===e.c.millisecond&&r||(o+=".",o+=Rt(e.c.millisecond,3))),i&&(e.isOffsetFixed&&0===e.offset&&!a?o+="Z":e.o<0?(o+="-",o+=Rt(Math.trunc(-e.o/60)),o+=":",o+=Rt(Math.trunc(-e.o%60))):(o+="+",o+=Rt(Math.trunc(e.o/60)),o+=":",o+=Rt(Math.trunc(e.o%60)))),a&&(o+="["+e.zone.ianaName+"]"),o}var hi,mi={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},vi={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},gi={ordinal:1,hour:0,minute:0,second:0,millisecond:0},yi=["year","month","day","hour","minute","second","millisecond"],bi=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],wi=["year","ordinal","hour","minute","second","millisecond"];function Di(e){switch(e.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return function(e){var t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new L(e);return t}(e)}}function Ai(e,t){var n=$e(t.zone,st.defaultZone);if(!n.isValid)return _i.invalid(ni(n));var r,i,a=ze.fromObject(t);if(_t(e.year))r=st.now();else{for(var o=0,s=yi;o<s.length;o++){var u=s[o];_t(e[u])&&(e[u]=mi[u])}var c=Et(e)||kt(e);if(c)return _i.invalid(c);var l=function(e){if(void 0===hi&&(hi=st.now()),"iana"!==e.type)return e.offset(hi);var t=e.name,n=Ci.get(t);return void 0===n&&(n=e.offset(hi),Ci.set(t,n)),n}(n),d=ui(e,l,n),p=(0,_.A)(d,2);r=p[0],i=p[1]}return new _i({ts:r,zone:n,loc:a,o:i})}function Ei(e,t,n){var r=!!_t(n.round)||n.round,i=function(e,i){return e=jt(e,r||n.calendary?0:2,!0),t.loc.clone(n).relFormatter(n).format(e,i)},a=function(r){return n.calendary?t.hasSame(e,r)?0:t.startOf(r).diff(e.startOf(r),r).get(r):t.diff(e,r).get(r)};if(n.unit)return i(a(n.unit),n.unit);var o,s=Yr(n.units);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=a(u);if(Math.abs(c)>=1)return i(c,u)}}catch(e){s.e(e)}finally{s.f()}return i(e>t?-0:0,n.units[n.units.length-1])}function ki(e){var t,n={};return e.length>0&&"object"===(0,C.A)(e[e.length-1])?(n=e[e.length-1],t=Array.from(e).slice(0,e.length-1)):t=Array.from(e),[n,t]}var Ci=new Map,_i=function(){function e(t){(0,p.A)(this,e);var n=t.zone||st.defaultZone,r=t.invalid||(Number.isNaN(t.ts)?new ut("invalid input"):null)||(n.isValid?null:ni(n));this.ts=_t(t.ts)?st.now():t.ts;var i=null,a=null;if(!r)if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(n)){var o=[t.old.c,t.old.o];i=o[0],a=o[1]}else{var s=xt(t.o)&&!t.old?t.o:n.offset(this.ts);i=si(this.ts,s),i=(r=Number.isNaN(i.year)?new ut("invalid input"):null)?null:i,a=r?null:s}this._zone=n,this.loc=t.loc||ze.create(),this.invalid=r,this.weekData=null,this.localWeekData=null,this.c=i,this.o=a,this.isLuxonDateTime=!0}return(0,f.A)(e,[{key:"get",value:function(e){return this[e]}},{key:"isValid",get:function(){return null===this.invalid}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}},{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"outputCalendar",get:function(){return this.isValid?this.loc.outputCalendar:null}},{key:"zone",get:function(){return this._zone}},{key:"zoneName",get:function(){return this.isValid?this.zone.name:null}},{key:"year",get:function(){return this.isValid?this.c.year:NaN}},{key:"quarter",get:function(){return this.isValid?Math.ceil(this.c.month/3):NaN}},{key:"month",get:function(){return this.isValid?this.c.month:NaN}},{key:"day",get:function(){return this.isValid?this.c.day:NaN}},{key:"hour",get:function(){return this.isValid?this.c.hour:NaN}},{key:"minute",get:function(){return this.isValid?this.c.minute:NaN}},{key:"second",get:function(){return this.isValid?this.c.second:NaN}},{key:"millisecond",get:function(){return this.isValid?this.c.millisecond:NaN}},{key:"weekYear",get:function(){return this.isValid?ri(this).weekYear:NaN}},{key:"weekNumber",get:function(){return this.isValid?ri(this).weekNumber:NaN}},{key:"weekday",get:function(){return this.isValid?ri(this).weekday:NaN}},{key:"isWeekend",get:function(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}},{key:"localWeekday",get:function(){return this.isValid?ii(this).weekday:NaN}},{key:"localWeekNumber",get:function(){return this.isValid?ii(this).weekNumber:NaN}},{key:"localWeekYear",get:function(){return this.isValid?ii(this).weekYear:NaN}},{key:"ordinal",get:function(){return this.isValid?wt(this.c).ordinal:NaN}},{key:"monthShort",get:function(){return this.isValid?Or.months("short",{locObj:this.loc})[this.month-1]:null}},{key:"monthLong",get:function(){return this.isValid?Or.months("long",{locObj:this.loc})[this.month-1]:null}},{key:"weekdayShort",get:function(){return this.isValid?Or.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}},{key:"weekdayLong",get:function(){return this.isValid?Or.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}},{key:"offset",get:function(){return this.isValid?+this.o:NaN}},{key:"offsetNameShort",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}},{key:"offsetNameLong",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}},{key:"isOffsetFixed",get:function(){return this.isValid?this.zone.isUniversal:null}},{key:"isInDST",get:function(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}},{key:"getPossibleOffsets",value:function(){if(!this.isValid||this.isOffsetFixed)return[this];var e=864e5,t=6e4,n=qt(this.c),r=this.zone.offset(n-e),i=this.zone.offset(n+e),a=this.zone.offset(n-r*t),o=this.zone.offset(n-i*t);if(a===o)return[this];var s=n-a*t,u=n-o*t,c=si(s,a),l=si(u,o);return c.hour===l.hour&&c.minute===l.minute&&c.second===l.second&&c.millisecond===l.millisecond?[ai(this,{ts:s}),ai(this,{ts:u})]:[this]}},{key:"isInLeapYear",get:function(){return Ut(this.year)}},{key:"daysInMonth",get:function(){return Vt(this.year,this.month)}},{key:"daysInYear",get:function(){return this.isValid?zt(this.year):NaN}},{key:"weeksInWeekYear",get:function(){return this.isValid?Wt(this.weekYear):NaN}},{key:"weeksInLocalWeekYear",get:function(){return this.isValid?Wt(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}},{key:"resolvedLocaleOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=bn.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:t.locale,numberingSystem:t.numberingSystem,outputCalendar:t.calendar}}},{key:"toUTC",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.setZone(He.instance(e),t)}},{key:"toLocal",value:function(){return this.setZone(st.defaultZone)}},{key:"setZone",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.keepLocalTime,i=void 0!==r&&r,a=n.keepCalendarTime,o=void 0!==a&&a;if((t=$e(t,st.defaultZone)).equals(this.zone))return this;if(t.isValid){var s=this.ts;if(i||o){var u=t.offset(this.ts),c=ui(this.toObject(),u,t);s=(0,_.A)(c,1)[0]}return ai(this,{ts:s,zone:t})}return e.invalid(ni(t))}},{key:"reconfigure",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.locale,n=e.numberingSystem,r=e.outputCalendar;return ai(this,{loc:this.loc.clone({locale:t,numberingSystem:n,outputCalendar:r})})}},{key:"setLocale",value:function(e){return this.reconfigure({locale:e})}},{key:"set",value:function(e){if(!this.isValid)return this;var t,n=Yt(e,Di),r=At(n,this.loc),i=r.minDaysInFirstWeek,a=r.startOfWeek,o=!_t(n.weekYear)||!_t(n.weekNumber)||!_t(n.weekday),s=!_t(n.ordinal),u=!_t(n.year),c=!_t(n.month)||!_t(n.day),l=u||c,d=n.weekYear||n.weekNumber;if((l||s)&&d)throw new M("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(c&&s)throw new M("Can't mix ordinal dates with month/day");o?t=bt(Jr(Jr({},yt(this.c,i,a)),n),i,a):_t(n.ordinal)?(t=Jr(Jr({},this.toObject()),n),_t(n.day)&&(t.day=Math.min(Vt(t.year,t.month),t.day))):t=Dt(Jr(Jr({},wt(this.c)),n));var p=ui(t,this.o,this.zone),f=(0,_.A)(p,2);return ai(this,{ts:f[0],o:f[1]})}},{key:"plus",value:function(e){return this.isValid?ai(this,ci(this,Cr.fromDurationLike(e))):this}},{key:"minus",value:function(e){return this.isValid?ai(this,ci(this,Cr.fromDurationLike(e).negate())):this}},{key:"startOf",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).useLocaleWeeks,n=void 0!==t&&t;if(!this.isValid)return this;var r={},i=Cr.normalizeUnit(e);switch(i){case"years":r.month=1;case"quarters":case"months":r.day=1;case"weeks":case"days":r.hour=0;case"hours":r.minute=0;case"minutes":r.second=0;case"seconds":r.millisecond=0}if("weeks"===i)if(n){var a=this.loc.getStartOfWeek();this.weekday<a&&(r.weekNumber=this.weekNumber-1),r.weekday=a}else r.weekday=1;if("quarters"===i){var o=Math.ceil(this.month/3);r.month=3*(o-1)+1}return this.set(r)}},{key:"endOf",value:function(e,t){return this.isValid?this.plus((0,h.A)({},e,1)).startOf(e,t).minus(1):this}},{key:"toFormat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.isValid?bn.create(this.loc.redefaultToEN(t)).formatDateTimeFromString(this,e):ei}},{key:"toLocaleString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.isValid?bn.create(this.loc.clone(t),e).formatDateTime(this):ei}},{key:"toLocaleParts",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.isValid?bn.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}},{key:"toISO",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.format,n=void 0===t?"extended":t,r=e.suppressSeconds,i=void 0!==r&&r,a=e.suppressMilliseconds,o=void 0!==a&&a,s=e.includeOffset,u=void 0===s||s,c=e.extendedZone,l=void 0!==c&&c;if(!this.isValid)return null;var d="extended"===n,p=pi(this,d);return p+="T",p+=fi(this,d,i,o,u,l)}},{key:"toISODate",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).format,t=void 0===e?"extended":e;return this.isValid?pi(this,"extended"===t):null}},{key:"toISOWeekDate",value:function(){return di(this,"kkkk-'W'WW-c")}},{key:"toISOTime",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.suppressMilliseconds,n=void 0!==t&&t,r=e.suppressSeconds,i=void 0!==r&&r,a=e.includeOffset,o=void 0===a||a,s=e.includePrefix,u=void 0!==s&&s,c=e.extendedZone,l=void 0!==c&&c,d=e.format,p=void 0===d?"extended":d;return this.isValid?(u?"T":"")+fi(this,"extended"===p,i,n,o,l):null}},{key:"toRFC2822",value:function(){return di(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}},{key:"toHTTP",value:function(){return di(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}},{key:"toSQLDate",value:function(){return this.isValid?pi(this,!0):null}},{key:"toSQLTime",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.includeOffset,n=void 0===t||t,r=e.includeZone,i=void 0!==r&&r,a=e.includeOffsetSpace,o="HH:mm:ss.SSS";return(i||n)&&((void 0===a||a)&&(o+=" "),i?o+="z":n&&(o+="ZZ")),di(this,o,!0)}},{key:"toSQL",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.isValid?"".concat(this.toSQLDate()," ").concat(this.toSQLTime(e)):null}},{key:"toString",value:function(){return this.isValid?this.toISO():ei}},{key:Symbol.for("nodejs.util.inspect.custom"),value:function(){return this.isValid?"DateTime { ts: ".concat(this.toISO(),", zone: ").concat(this.zone.name,", locale: ").concat(this.locale," }"):"DateTime { Invalid, reason: ".concat(this.invalidReason," }")}},{key:"valueOf",value:function(){return this.toMillis()}},{key:"toMillis",value:function(){return this.isValid?this.ts:NaN}},{key:"toSeconds",value:function(){return this.isValid?this.ts/1e3:NaN}},{key:"toUnixInteger",value:function(){return this.isValid?Math.floor(this.ts/1e3):NaN}},{key:"toJSON",value:function(){return this.toISO()}},{key:"toBSON",value:function(){return this.toJSDate()}},{key:"toObject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.isValid)return{};var t=Jr({},this.c);return e.includeConfig&&(t.outputCalendar=this.outputCalendar,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t}},{key:"toJSDate",value:function(){return new Date(this.isValid?this.ts:NaN)}},{key:"diff",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"milliseconds",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!this.isValid||!e.isValid)return Cr.invalid("created by diffing an invalid DateTime");var r,i=Jr({locale:this.locale,numberingSystem:this.numberingSystem},n),a=(r=t,Array.isArray(r)?r:[r]).map(Cr.normalizeUnit),o=e.valueOf()>this.valueOf(),s=Ir(o?this:e,o?e:this,a,i);return o?s.negate():s}},{key:"diffNow",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"milliseconds",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.diff(e.now(),t,n)}},{key:"until",value:function(e){return this.isValid?Fr.fromDateTimes(this,e):this}},{key:"hasSame",value:function(e,t,n){if(!this.isValid)return!1;var r=e.valueOf(),i=this.setZone(e.zone,{keepLocalTime:!0});return i.startOf(t,n)<=r&&r<=i.endOf(t,n)}},{key:"equals",value:function(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}},{key:"toRelative",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.isValid)return null;var n=t.base||e.fromObject({},{zone:this.zone}),r=t.padding?this<n?-t.padding:t.padding:0,i=["years","months","days","hours","minutes","seconds"],a=t.unit;return Array.isArray(t.unit)&&(i=t.unit,a=void 0),Ei(n,this.plus(r),Jr(Jr({},t),{},{numeric:"always",units:i,unit:a}))}},{key:"toRelativeCalendar",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.isValid?Ei(t.base||e.fromObject({},{zone:this.zone}),this,Jr(Jr({},t),{},{numeric:"auto",units:["years","months","days"],calendary:!0})):null}}],[{key:"now",value:function(){return new e({})}},{key:"local",value:function(){var e=ki(arguments),t=(0,_.A)(e,2),n=t[0],r=t[1],i=(0,_.A)(r,7);return Ai({year:i[0],month:i[1],day:i[2],hour:i[3],minute:i[4],second:i[5],millisecond:i[6]},n)}},{key:"utc",value:function(){var e=ki(arguments),t=(0,_.A)(e,2),n=t[0],r=t[1],i=(0,_.A)(r,7),a=i[0],o=i[1],s=i[2],u=i[3],c=i[4],l=i[5],d=i[6];return n.zone=He.utcInstance,Ai({year:a,month:o,day:s,hour:u,minute:c,second:l,millisecond:d},n)}},{key:"fromJSDate",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=function(e){return"[object Date]"===Object.prototype.toString.call(e)}(t)?t.valueOf():NaN;if(Number.isNaN(r))return e.invalid("invalid input");var i=$e(n.zone,st.defaultZone);return i.isValid?new e({ts:r,zone:i,loc:ze.fromObject(n)}):e.invalid(ni(i))}},{key:"fromMillis",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(xt(t))return t<-ti||t>ti?e.invalid("Timestamp out of range"):new e({ts:t,zone:$e(n.zone,st.defaultZone),loc:ze.fromObject(n)});throw new j("fromMillis requires a numerical input, but received a ".concat((0,C.A)(t)," with value ").concat(t))}},{key:"fromSeconds",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(xt(t))return new e({ts:1e3*t,zone:$e(n.zone,st.defaultZone),loc:ze.fromObject(n)});throw new j("fromSeconds requires a numerical input")}},{key:"fromObject",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t=t||{};var r=$e(n.zone,st.defaultZone);if(!r.isValid)return e.invalid(ni(r));var i=ze.fromObject(n),a=Yt(t,Di),o=At(a,i),s=o.minDaysInFirstWeek,u=o.startOfWeek,c=st.now(),l=_t(n.specificOffset)?r.offset(c):n.specificOffset,d=!_t(a.ordinal),p=!_t(a.year),f=!_t(a.month)||!_t(a.day),h=p||f,m=a.weekYear||a.weekNumber;if((h||d)&&m)throw new M("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(f&&d)throw new M("Can't mix ordinal dates with month/day");var v,g,y=m||a.weekday&&!h,b=si(c,l);y?(v=bi,g=vi,b=yt(b,s,u)):d?(v=wi,g=gi,b=wt(b)):(v=yi,g=mi);var w,D=!1,A=Yr(v);try{for(A.s();!(w=A.n()).done;){var E=w.value;_t(a[E])?a[E]=D?g[E]:b[E]:D=!0}}catch(e){A.e(e)}finally{A.f()}var k=y?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=St(e.weekYear),i=Bt(e.weekNumber,1,Wt(e.weekYear,t,n)),a=Bt(e.weekday,1,7);return r?i?!a&&ft("weekday",e.weekday):ft("week",e.weekNumber):ft("weekYear",e.weekYear)}(a,s,u):d?function(e){var t=St(e.year),n=Bt(e.ordinal,1,zt(e.year));return t?!n&&ft("ordinal",e.ordinal):ft("year",e.year)}(a):Et(a),C=k||kt(a);if(C)return e.invalid(C);var x=ui(y?bt(a,s,u):d?Dt(a):a,l,r),S=(0,_.A)(x,2),T=new e({ts:S[0],zone:r,o:S[1],loc:i});return a.weekday&&h&&t.weekday!==T.weekday?e.invalid("mismatched weekday","you can't specify both a weekday of ".concat(a.weekday," and a date of ").concat(T.toISO())):T.isValid?T:e.invalid(T.invalid)}},{key:"fromISO",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=function(e){return Cn(e,[Zn,nr],[Jn,rr],[er,ir],[tr,ar])}(e),r=(0,_.A)(n,2);return li(r[0],r[1],t,"ISO 8601",e)}},{key:"fromRFC2822",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=function(e){return Cn(function(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(e),[Wn,Kn])}(e),r=(0,_.A)(n,2);return li(r[0],r[1],t,"RFC 2822",e)}},{key:"fromHTTP",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=function(e){return Cn(e,[$n,Yn],[Gn,Yn],[Qn,Xn])}(e),r=(0,_.A)(n,2);return li(r[0],r[1],t,"HTTP",t)}},{key:"fromFormat",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(_t(t)||_t(n))throw new j("fromFormat requires an input string and a format");var i=r.locale,a=void 0===i?null:i,o=r.numberingSystem,s=void 0===o?null:o,u=function(e,t,n){var r=Gr(e,t,n);return[r.result,r.zone,r.specificOffset,r.invalidReason]}(ze.fromOpts({locale:a,numberingSystem:s,defaultToEN:!0}),t,n),c=(0,_.A)(u,4),l=c[0],d=c[1],p=c[2],f=c[3];return f?e.invalid(f):li(l,d,r,"format ".concat(n),t,p)}},{key:"fromString",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.fromFormat(t,n,r)}},{key:"fromSQL",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=function(e){return Cn(e,[sr,nr],[ur,cr])}(e),r=(0,_.A)(n,2);return li(r[0],r[1],t,"SQL",e)}},{key:"invalid",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!t)throw new j("need to specify a reason the DateTime is invalid");var r=t instanceof ut?t:new ut(t,n);if(st.throwOnInvalid)throw new B(r);return new e({invalid:r})}},{key:"isDateTime",value:function(e){return e&&e.isLuxonDateTime||!1}},{key:"parseFormatForOpts",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Qr(e,ze.fromObject(t));return n?n.map((function(e){return e?e.val:null})).join(""):null}},{key:"expandFormat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Kr(bn.parseFormat(e),ze.fromObject(t)).map((function(e){return e.val})).join("")}},{key:"resetCache",value:function(){hi=void 0,Ci.clear()}},{key:"min",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.every(e.isDateTime))throw new j("min requires all arguments be DateTimes");return Ot(n,(function(e){return e.valueOf()}),Math.min)}},{key:"max",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.every(e.isDateTime))throw new j("max requires all arguments be DateTimes");return Ot(n,(function(e){return e.valueOf()}),Math.max)}},{key:"fromFormatExplain",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.locale,i=void 0===r?null:r,a=n.numberingSystem,o=void 0===a?null:a;return Gr(ze.fromOpts({locale:i,numberingSystem:o,defaultToEN:!0}),e,t)}},{key:"fromStringExplain",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.fromFormatExplain(t,n,r)}},{key:"buildFormatParser",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.locale,r=void 0===n?null:n,i=t.numberingSystem,a=void 0===i?null:i,o=ze.fromOpts({locale:r,numberingSystem:a,defaultToEN:!0});return new $r(o,e)}},{key:"fromFormatParser",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(_t(t)||_t(n))throw new j("fromFormatParser requires an input string and a format parser");var i=r.locale,a=void 0===i?null:i,o=r.numberingSystem,s=void 0===o?null:o,u=ze.fromOpts({locale:a,numberingSystem:s,defaultToEN:!0});if(!u.equals(n.locale))throw new j("fromFormatParser called with a locale of ".concat(u,", ")+"but the format parser was created for ".concat(n.locale));var c=n.explainFromTokens(t),l=c.result,d=c.zone,p=c.specificOffset,f=c.invalidReason;return f?e.invalid(f):li(l,d,r,"format ".concat(n.format),t,p)}},{key:"DATE_SHORT",get:function(){return W}},{key:"DATE_MED",get:function(){return K}},{key:"DATE_MED_WITH_WEEKDAY",get:function(){return $}},{key:"DATE_FULL",get:function(){return G}},{key:"DATE_HUGE",get:function(){return Q}},{key:"TIME_SIMPLE",get:function(){return Y}},{key:"TIME_WITH_SECONDS",get:function(){return X}},{key:"TIME_WITH_SHORT_OFFSET",get:function(){return Z}},{key:"TIME_WITH_LONG_OFFSET",get:function(){return J}},{key:"TIME_24_SIMPLE",get:function(){return ee}},{key:"TIME_24_WITH_SECONDS",get:function(){return te}},{key:"TIME_24_WITH_SHORT_OFFSET",get:function(){return ne}},{key:"TIME_24_WITH_LONG_OFFSET",get:function(){return re}},{key:"DATETIME_SHORT",get:function(){return ie}},{key:"DATETIME_SHORT_WITH_SECONDS",get:function(){return ae}},{key:"DATETIME_MED",get:function(){return oe}},{key:"DATETIME_MED_WITH_SECONDS",get:function(){return se}},{key:"DATETIME_MED_WITH_WEEKDAY",get:function(){return ue}},{key:"DATETIME_FULL",get:function(){return ce}},{key:"DATETIME_FULL_WITH_SECONDS",get:function(){return le}},{key:"DATETIME_HUGE",get:function(){return de}},{key:"DATETIME_HUGE_WITH_SECONDS",get:function(){return pe}}])}();function xi(e){if(_i.isDateTime(e))return e;if(e&&e.valueOf&&xt(e.valueOf()))return _i.fromJSDate(e);if(e&&"object"===(0,C.A)(e))return _i.fromObject(e);throw new j("Unknown datetime argument: ".concat(e,", of type ").concat((0,C.A)(e)))}__webpack_require__(3362),__webpack_require__(31415),__webpack_require__(78125),__webpack_require__(54743),__webpack_require__(46761),__webpack_require__(11745),__webpack_require__(38309),__webpack_require__(94170),__webpack_require__(55081),__webpack_require__(4731),__webpack_require__(60479),__webpack_require__(25428),__webpack_require__(69085),__webpack_require__(59904),__webpack_require__(40875),__webpack_require__(90744),__webpack_require__(21489),__webpack_require__(48140),__webpack_require__(81630),__webpack_require__(72170),__webpack_require__(75044),__webpack_require__(69539),__webpack_require__(31694),__webpack_require__(89955),__webpack_require__(21903),__webpack_require__(91134),__webpack_require__(33206),__webpack_require__(44496),__webpack_require__(66651),__webpack_require__(12887),__webpack_require__(19369),__webpack_require__(66812),__webpack_require__(8995),__webpack_require__(31575),__webpack_require__(36072),__webpack_require__(88747),__webpack_require__(28845),__webpack_require__(29423),__webpack_require__(57301),__webpack_require__(373),__webpack_require__(86614),__webpack_require__(41405),__webpack_require__(33684),__webpack_require__(43250),__webpack_require__(10149),__webpack_require__(24082),__webpack_require__(59848),__webpack_require__(122),__webpack_require__(13611);function Si(e,t){return function(){return e.apply(t,arguments)}}var Ti=__webpack_require__(8498),Fi=Object.prototype.toString,Oi=Object.getPrototypeOf,Pi=function(e){return function(t){var n=Fi.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())}}(Object.create(null)),Ii=function(e){return e=e.toLowerCase(),function(t){return Pi(t)===e}},Bi=function(e){return function(t){return(0,C.A)(t)===e}},Ri=Array.isArray,Ni=Bi("undefined");var Mi=Ii("ArrayBuffer");var Li=Bi("string"),ji=Bi("function"),Ui=Bi("number"),zi=function(e){return null!==e&&"object"===(0,C.A)(e)},Vi=function(e){if("object"!==Pi(e))return!1;var t=Oi(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},qi=Ii("Date"),Hi=Ii("File"),Wi=Ii("Blob"),Ki=Ii("FileList"),$i=Ii("URLSearchParams"),Gi=["ReadableStream","Request","Response","Headers"].map(Ii),Qi=(0,_.A)(Gi,4),Yi=Qi[0],Xi=Qi[1],Zi=Qi[2],Ji=Qi[3];function ea(e,t){var n,r,i=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).allOwnKeys,a=void 0!==i&&i;if(null!=e)if("object"!==(0,C.A)(e)&&(e=[e]),Ri(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{var o,s=a?Object.getOwnPropertyNames(e):Object.keys(e),u=s.length;for(n=0;n<u;n++)o=s[n],t.call(null,e[o],o,e)}}function ta(e,t){t=t.toLowerCase();for(var n,r=Object.keys(e),i=r.length;i-- >0;)if(t===(n=r[i]).toLowerCase())return n;return null}var na="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,ra=function(e){return!Ni(e)&&e!==na};var ia,aa=(ia="undefined"!=typeof Uint8Array&&Oi(Uint8Array),function(e){return ia&&e instanceof ia}),oa=Ii("HTMLFormElement"),sa=function(){var e=Object.prototype.hasOwnProperty;return function(t,n){return e.call(t,n)}}(),ua=Ii("RegExp"),ca=function(e,t){var n=Object.getOwnPropertyDescriptors(e),r={};ea(n,(function(n,i){var a;!1!==(a=t(n,i,e))&&(r[i]=a||n)})),Object.defineProperties(e,r)},la="abcdefghijklmnopqrstuvwxyz",da="0123456789",pa={DIGIT:da,ALPHA:la,ALPHA_DIGIT:la+la.toUpperCase()+da};var fa,ha,ma=Ii("AsyncFunction"),va=(fa="function"==typeof setImmediate,ha=ji(na.postMessage),fa?setImmediate:ha?function(e,t){return na.addEventListener("message",(function(n){var r=n.source,i=n.data;r===na&&i===e&&t.length&&t.shift()()}),!1),function(n){t.push(n),na.postMessage(e,"*")}}("axios@".concat(Math.random()),[]):function(e){return setTimeout(e)}),ga="undefined"!=typeof queueMicrotask?queueMicrotask.bind(na):void 0!==Ti&&Ti.nextTick||va;const ya={isArray:Ri,isArrayBuffer:Mi,isBuffer:function(e){return null!==e&&!Ni(e)&&null!==e.constructor&&!Ni(e.constructor)&&ji(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:function(e){var t;return e&&("function"==typeof FormData&&e instanceof FormData||ji(e.append)&&("formdata"===(t=Pi(e))||"object"===t&&ji(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Mi(e.buffer)},isString:Li,isNumber:Ui,isBoolean:function(e){return!0===e||!1===e},isObject:zi,isPlainObject:Vi,isReadableStream:Yi,isRequest:Xi,isResponse:Zi,isHeaders:Ji,isUndefined:Ni,isDate:qi,isFile:Hi,isBlob:Wi,isRegExp:ua,isFunction:ji,isStream:function(e){return zi(e)&&ji(e.pipe)},isURLSearchParams:$i,isTypedArray:aa,isFileList:Ki,forEach:ea,merge:function e(){for(var t=(ra(this)&&this||{}).caseless,n={},r=function(r,i){var a=t&&ta(n,i)||i;Vi(n[a])&&Vi(r)?n[a]=e(n[a],r):Vi(r)?n[a]=e({},r):Ri(r)?n[a]=r.slice():n[a]=r},i=0,a=arguments.length;i<a;i++)arguments[i]&&ea(arguments[i],r);return n},extend:function(e,t,n){return ea(t,(function(t,r){n&&ji(t)?e[r]=Si(t,n):e[r]=t}),{allOwnKeys:(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).allOwnKeys}),e},trim:function(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n,r){var i,a,o,s={};if(t=t||{},null==e)return t;do{for(a=(i=Object.getOwnPropertyNames(e)).length;a-- >0;)o=i[a],r&&!r(o,e,t)||s[o]||(t[o]=e[o],s[o]=!0);e=!1!==n&&Oi(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Pi,kindOfTest:Ii,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;if(Ri(e))return e;var t=e.length;if(!Ui(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},forEachEntry:function(e,t){for(var n,r=(e&&e[Symbol.iterator]).call(e);(n=r.next())&&!n.done;){var i=n.value;t.call(e,i[0],i[1])}},matchAll:function(e,t){for(var n,r=[];null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:oa,hasOwnProperty:sa,hasOwnProp:sa,reduceDescriptors:ca,freezeMethods:function(e){ca(e,(function(t,n){if(ji(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;var r=e[n];ji(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=function(){throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:function(e,t){var n={},r=function(e){e.forEach((function(e){n[e]=!0}))};return Ri(e)?r(e):r(String(e).split(t)),n},toCamelCase:function(e){return e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))},noop:function(){},toFiniteNumber:function(e,t){return null!=e&&Number.isFinite(e=+e)?e:t},findKey:ta,global:na,isContextDefined:ra,ALPHABET:pa,generateString:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pa.ALPHA_DIGIT,n="",r=t.length;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&ji(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:function(e){var t=new Array(10),n=function(e,r){if(zi(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;var i=Ri(e)?[]:{};return ea(e,(function(e,t){var a=n(e,r+1);!Ni(a)&&(i[t]=a)})),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:ma,isThenable:function(e){return e&&(zi(e)||ji(e))&&ji(e.then)&&ji(e.catch)},setImmediate:va,asap:ga};__webpack_require__(13609),__webpack_require__(99449),__webpack_require__(1688),__webpack_require__(41795);function ba(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}ya.inherits(ba,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ya.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var wa=ba.prototype,Da={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((function(e){Da[e]={value:e}})),Object.defineProperties(ba,Da),Object.defineProperty(wa,"isAxiosError",{value:!0}),ba.from=function(e,t,n,r,i,a){var o=Object.create(wa);return ya.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(function(e){return"isAxiosError"!==e})),ba.call(o,e.message,t,n,r,i),o.cause=e,o.name=e.name,a&&Object.assign(o,a),o};const Aa=ba;function Ea(e){return ya.isPlainObject(e)||ya.isArray(e)}function ka(e){return ya.endsWith(e,"[]")?e.slice(0,-2):e}function Ca(e,t,n){return e?e.concat(t).map((function(e,t){return e=ka(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}var _a=ya.toFlatObject(ya,{},null,(function(e){return/^is[A-Z]/.test(e)}));const xa=function(e,t,n){if(!ya.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;var r=(n=ya.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!ya.isUndefined(t[e])}))).metaTokens,i=n.visitor||c,a=n.dots,o=n.indexes,s=(n.Blob||"undefined"!=typeof Blob&&Blob)&&ya.isSpecCompliantForm(t);if(!ya.isFunction(i))throw new TypeError("visitor must be a function");function u(e){if(null===e)return"";if(ya.isDate(e))return e.toISOString();if(!s&&ya.isBlob(e))throw new Aa("Blob is not supported. Use a Buffer instead.");return ya.isArrayBuffer(e)||ya.isTypedArray(e)?s&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){var s=e;if(e&&!i&&"object"===(0,C.A)(e))if(ya.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(ya.isArray(e)&&function(e){return ya.isArray(e)&&!e.some(Ea)}(e)||(ya.isFileList(e)||ya.endsWith(n,"[]"))&&(s=ya.toArray(e)))return n=ka(n),s.forEach((function(e,r){!ya.isUndefined(e)&&null!==e&&t.append(!0===o?Ca([n],r,a):null===o?n:n+"[]",u(e))})),!1;return!!Ea(e)||(t.append(Ca(i,n,a),u(e)),!1)}var l=[],d=Object.assign(_a,{defaultVisitor:c,convertValue:u,isVisitable:Ea});if(!ya.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!ya.isUndefined(n)){if(-1!==l.indexOf(n))throw Error("Circular reference detected in "+r.join("."));l.push(n),ya.forEach(n,(function(n,a){!0===(!(ya.isUndefined(n)||null===n)&&i.call(t,n,ya.isString(a)?a.trim():a,r,d))&&e(n,r?r.concat(a):[a])})),l.pop()}}(e),t};function Sa(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Ta(e,t){this._pairs=[],e&&xa(e,this,t)}var Fa=Ta.prototype;Fa.append=function(e,t){this._pairs.push([e,t])},Fa.toString=function(e){var t=e?function(t){return e.call(this,t,Sa)}:Sa;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const Oa=Ta;function Pa(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ia(e,t,n){if(!t)return e;var r,i=n&&n.encode||Pa,a=n&&n.serialize;if(r=a?a(t,n):ya.isURLSearchParams(t)?t.toString():new Oa(t,n).toString(i)){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}var Ba=function(){return(0,f.A)((function e(){(0,p.A)(this,e),this.handlers=[]}),[{key:"use",value:function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}},{key:"eject",value:function(e){this.handlers[e]&&(this.handlers[e]=null)}},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}},{key:"forEach",value:function(e){ya.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}])}();const Ra=Ba,Na={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};__webpack_require__(48408);const Ma={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:Oa,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]};var La,ja="undefined"!=typeof window&&"undefined"!=typeof document,Ua=(La="undefined"!=typeof navigator&&navigator.product,ja&&["ReactNative","NativeScript","NS"].indexOf(La)<0),za="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,Va=ja&&window.location.href||"http://localhost";function qa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ha(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qa(Object(n),!0).forEach((function(t){(0,h.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Wa=Ha(Ha({},e),Ma);__webpack_require__(28543);const Ka=function(e){function t(e,n,r,i){var a=e[i++];if("__proto__"===a)return!0;var o=Number.isFinite(+a),s=i>=e.length;return a=!a&&ya.isArray(r)?r.length:a,s?(ya.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!o):(r[a]&&ya.isObject(r[a])||(r[a]=[]),t(e,n,r[a],i)&&ya.isArray(r[a])&&(r[a]=function(e){var t,n,r={},i=Object.keys(e),a=i.length;for(t=0;t<a;t++)r[n=i[t]]=e[n];return r}(r[a])),!o)}if(ya.isFormData(e)&&ya.isFunction(e.entries)){var n={};return ya.forEachEntry(e,(function(e,r){t(function(e){return ya.matchAll(/\w+|\[(\w*)]/g,e).map((function(e){return"[]"===e[0]?"":e[1]||e[0]}))}(e),r,n,0)})),n}return null};var $a={transitional:Na,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){var n,r=t.getContentType()||"",i=r.indexOf("application/json")>-1,a=ya.isObject(e);if(a&&ya.isHTMLForm(e)&&(e=new FormData(e)),ya.isFormData(e))return i?JSON.stringify(Ka(e)):e;if(ya.isArrayBuffer(e)||ya.isBuffer(e)||ya.isStream(e)||ya.isFile(e)||ya.isBlob(e)||ya.isReadableStream(e))return e;if(ya.isArrayBufferView(e))return e.buffer;if(ya.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return xa(e,new Wa.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return Wa.isNode&&ya.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((n=ya.isFileList(e))||r.indexOf("multipart/form-data")>-1){var o=this.env&&this.env.FormData;return xa(n?{"files[]":e}:e,o&&new o,this.formSerializer)}}return a||i?(t.setContentType("application/json",!1),function(e,t,n){if(ya.isString(e))try{return(t||JSON.parse)(e),ya.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||$a.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(ya.isResponse(e)||ya.isReadableStream(e))return e;if(e&&ya.isString(e)&&(n&&!this.responseType||r)){var i=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(e){if(i){if("SyntaxError"===e.name)throw Aa.from(e,Aa.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Wa.classes.FormData,Blob:Wa.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{"Accept":"application/json, text/plain, */*","Content-Type":void 0}}};ya.forEach(["delete","get","head","post","put","patch"],(function(e){$a.headers[e]={}}));const Ga=$a;var Qa=ya.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);function Ya(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Xa(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xa(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Xa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Za=Symbol("internals");function Ja(e){return e&&String(e).trim().toLowerCase()}function eo(e){return!1===e||null==e?e:ya.isArray(e)?e.map(eo):String(e)}function to(e,t,n,r,i){return ya.isFunction(r)?r.call(this,t,n):(i&&(t=n),ya.isString(t)?ya.isString(r)?-1!==t.indexOf(r):ya.isRegExp(r)?r.test(t):void 0:void 0)}var no=function(){return(0,f.A)((function e(t){(0,p.A)(this,e),t&&this.set(t)}),[{key:"set",value:function(e,t,n){var r=this;function i(e,t,n){var i=Ja(t);if(!i)throw new Error("header name must be a non-empty string");var a=ya.findKey(r,i);(!a||void 0===r[a]||!0===n||void 0===n&&!1!==r[a])&&(r[a||t]=eo(e))}var a=function(e,t){return ya.forEach(e,(function(e,n){return i(e,n,t)}))};if(ya.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(ya.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))a(function(e){var t,n,r,i={};return e&&e.split("\n").forEach((function(e){r=e.indexOf(":"),t=e.substring(0,r).trim().toLowerCase(),n=e.substring(r+1).trim(),!t||i[t]&&Qa[t]||("set-cookie"===t?i[t]?i[t].push(n):i[t]=[n]:i[t]=i[t]?i[t]+", "+n:n)})),i}(e),t);else if(ya.isHeaders(e)){var o,s=Ya(e.entries());try{for(s.s();!(o=s.n()).done;){var u=(0,_.A)(o.value,2),c=u[0];i(u[1],c,n)}}catch(e){s.e(e)}finally{s.f()}}else null!=e&&i(t,e,n);return this}},{key:"get",value:function(e,t){if(e=Ja(e)){var n=ya.findKey(this,e);if(n){var r=this[n];if(!t)return r;if(!0===t)return function(e){for(var t,n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;t=r.exec(e);)n[t[1]]=t[2];return n}(r);if(ya.isFunction(t))return t.call(this,r,n);if(ya.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}},{key:"has",value:function(e,t){if(e=Ja(e)){var n=ya.findKey(this,e);return!(!n||void 0===this[n]||t&&!to(0,this[n],n,t))}return!1}},{key:"delete",value:function(e,t){var n=this,r=!1;function i(e){if(e=Ja(e)){var i=ya.findKey(n,e);!i||t&&!to(0,n[i],i,t)||(delete n[i],r=!0)}}return ya.isArray(e)?e.forEach(i):i(e),r}},{key:"clear",value:function(e){for(var t=Object.keys(this),n=t.length,r=!1;n--;){var i=t[n];e&&!to(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}},{key:"normalize",value:function(e){var t=this,n={};return ya.forEach(this,(function(r,i){var a=ya.findKey(n,i);if(a)return t[a]=eo(r),void delete t[i];var o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))}(i):String(i).trim();o!==i&&delete t[i],t[o]=eo(r),n[o]=!0})),this}},{key:"concat",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.constructor).concat.apply(e,[this].concat(n))}},{key:"toJSON",value:function(e){var t=Object.create(null);return ya.forEach(this,(function(n,r){null!=n&&!1!==n&&(t[r]=e&&ya.isArray(n)?n.join(", "):n)})),t}},{key:Symbol.iterator,value:function(){return Object.entries(this.toJSON())[Symbol.iterator]()}},{key:"toString",value:function(){return Object.entries(this.toJSON()).map((function(e){var t=(0,_.A)(e,2);return t[0]+": "+t[1]})).join("\n")}},{key:Symbol.toStringTag,get:function(){return"AxiosHeaders"}}],[{key:"from",value:function(e){return e instanceof this?e:new this(e)}},{key:"concat",value:function(e){for(var t=new this(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((function(e){return t.set(e)})),t}},{key:"accessor",value:function(e){var t=(this[Za]=this[Za]={accessors:{}}).accessors,n=this.prototype;function r(e){var r=Ja(e);t[r]||(!function(e,t){var n=ya.toCamelCase(" "+t);["get","set","has"].forEach((function(r){Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return ya.isArray(e)?e.forEach(r):r(e),this}}])}();no.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),ya.reduceDescriptors(no.prototype,(function(e,t){var n=e.value,r=t[0].toUpperCase()+t.slice(1);return{get:function(){return n},set:function(e){this[r]=e}}})),ya.freezeMethods(no);const ro=no;function io(e,t){var n=this||Ga,r=t||n,i=ro.from(r.headers),a=r.data;return ya.forEach(e,(function(e){a=e.call(n,a,i.normalize(),t?t.status:void 0)})),i.normalize(),a}function ao(e){return!(!e||!e.__CANCEL__)}function oo(e,t,n){Aa.call(this,null==e?"canceled":e,Aa.ERR_CANCELED,t,n),this.name="CanceledError"}ya.inherits(oo,Aa,{__CANCEL__:!0});const so=oo;function uo(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Aa("Request failed with status code "+n.status,[Aa.ERR_BAD_REQUEST,Aa.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const co=function(e,t){e=e||10;var n,r=new Array(e),i=new Array(e),a=0,o=0;return t=void 0!==t?t:1e3,function(s){var u=Date.now(),c=i[o];n||(n=u),r[a]=s,i[a]=u;for(var l=o,d=0;l!==a;)d+=r[l++],l%=e;if((a=(a+1)%e)===o&&(o=(o+1)%e),!(u-n<t)){var p=c&&u-c;return p?Math.round(1e3*d/p):void 0}}};const lo=function(e,t){var n,r,i=0,a=1e3/t,o=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();i=a,n=null,r&&(clearTimeout(r),r=null),e.apply(null,t)};return[function(){for(var e=Date.now(),t=e-i,s=arguments.length,u=new Array(s),c=0;c<s;c++)u[c]=arguments[c];t>=a?o(u,e):(n=u,r||(r=setTimeout((function(){r=null,o(n)}),a-t)))},function(){return n&&o(n)}]};var po=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0,i=co(50,250);return lo((function(n){var a=n.loaded,o=n.lengthComputable?n.total:void 0,s=a-r,u=i(s),c=a<=o;r=a;var l=(0,h.A)({loaded:a,total:o,progress:o?a/o:void 0,bytes:s,rate:u||void 0,estimated:u&&o&&c?(o-a)/u:void 0,event:n,lengthComputable:null!=o},t?"download":"upload",!0);e(l)}),n)},fo=function(e,t){var n=null!=e;return[function(r){return t[0]({lengthComputable:n,total:e,loaded:r})},t[1]]},ho=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ya.asap((function(){return e.apply(void 0,n)}))}},mo=__webpack_require__(15913),vo=__webpack_require__(18061),go=__webpack_require__(40112),yo=__webpack_require__(26314);__webpack_require__(88267),__webpack_require__(42207);const bo=Wa.hasStandardBrowserEnv?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=ya.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0};__webpack_require__(93515);const wo=Wa.hasStandardBrowserEnv?{write:function(e,t,n,r,i,a){var o=[e+"="+encodeURIComponent(t)];ya.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),ya.isString(r)&&o.push("path="+r),ya.isString(i)&&o.push("domain="+i),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function Do(e,t){return e&&!function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}function Ao(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Eo=function(e){return e instanceof ro?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ao(Object(n),!0).forEach((function(t){(0,h.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ao(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e):e};function ko(e,t){t=t||{};var n={};function r(e,t,n){return ya.isPlainObject(e)&&ya.isPlainObject(t)?ya.merge.call({caseless:n},e,t):ya.isPlainObject(t)?ya.merge({},t):ya.isArray(t)?t.slice():t}function i(e,t,n){return ya.isUndefined(t)?ya.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function a(e,t){if(!ya.isUndefined(t))return r(void 0,t)}function o(e,t){return ya.isUndefined(t)?ya.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,i,a){return a in t?r(n,i):a in e?r(void 0,n):void 0}var u={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:function(e,t){return i(Eo(e),Eo(t),!0)}};return ya.forEach(Object.keys(Object.assign({},e,t)),(function(r){var a=u[r]||i,o=a(e[r],t[r],r);ya.isUndefined(o)&&a!==s||(n[r]=o)})),n}const Co=function(e){var t,n=ko({},e),r=n.data,i=n.withXSRFToken,a=n.xsrfHeaderName,o=n.xsrfCookieName,s=n.headers,u=n.auth;if(n.headers=s=ro.from(s),n.url=Ia(Do(n.baseURL,n.url),e.params,e.paramsSerializer),u&&s.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),ya.isFormData(r))if(Wa.hasStandardBrowserEnv||Wa.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(!1!==(t=s.getContentType())){var c=t?t.split(";").map((function(e){return e.trim()})).filter(Boolean):[],l=function(e){return(0,mo.A)(e)||(0,vo.A)(e)||(0,go.A)(e)||(0,yo.A)()}(c),d=l[0],p=l.slice(1);s.setContentType([d||"multipart/form-data"].concat((0,z.A)(p)).join("; "))}if(Wa.hasStandardBrowserEnv&&(i&&ya.isFunction(i)&&(i=i(n)),i||!1!==i&&bo(n.url))){var f=a&&o&&wo.read(o);f&&s.set(a,f)}return n};const _o="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){var r,i,a,o,s,u=Co(e),c=u.data,l=ro.from(u.headers).normalize(),d=u.responseType,p=u.onUploadProgress,f=u.onDownloadProgress;function h(){o&&o(),s&&s(),u.cancelToken&&u.cancelToken.unsubscribe(r),u.signal&&u.signal.removeEventListener("abort",r)}var m=new XMLHttpRequest;function v(){if(m){var r=ro.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());uo((function(e){t(e),h()}),(function(e){n(e),h()}),{data:d&&"text"!==d&&"json"!==d?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m}),m=null}}if(m.open(u.method.toUpperCase(),u.url,!0),m.timeout=u.timeout,"onloadend"in m?m.onloadend=v:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(v)},m.onabort=function(){m&&(n(new Aa("Request aborted",Aa.ECONNABORTED,e,m)),m=null)},m.onerror=function(){n(new Aa("Network Error",Aa.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){var t=u.timeout?"timeout of "+u.timeout+"ms exceeded":"timeout exceeded",r=u.transitional||Na;u.timeoutErrorMessage&&(t=u.timeoutErrorMessage),n(new Aa(t,r.clarifyTimeoutError?Aa.ETIMEDOUT:Aa.ECONNABORTED,e,m)),m=null},void 0===c&&l.setContentType(null),"setRequestHeader"in m&&ya.forEach(l.toJSON(),(function(e,t){m.setRequestHeader(t,e)})),ya.isUndefined(u.withCredentials)||(m.withCredentials=!!u.withCredentials),d&&"json"!==d&&(m.responseType=u.responseType),f){var g=po(f,!0),y=(0,_.A)(g,2);a=y[0],s=y[1],m.addEventListener("progress",a)}if(p&&m.upload){var b=po(p),w=(0,_.A)(b,2);i=w[0],o=w[1],m.upload.addEventListener("progress",i),m.upload.addEventListener("loadend",o)}(u.cancelToken||u.signal)&&(r=function(t){m&&(n(!t||t.type?new so(null,e,m):t),m.abort(),m=null)},u.cancelToken&&u.cancelToken.subscribe(r),u.signal&&(u.signal.aborted?r():u.signal.addEventListener("abort",r)));var D=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(u.url);D&&-1===Wa.protocols.indexOf(D)?n(new Aa("Unsupported protocol "+D+":",Aa.ERR_BAD_REQUEST,e)):m.send(c||null)}))};const xo=function(e,t){var n,r=new AbortController,i=function(e){if(!n){n=!0,o();var t=e instanceof Error?e:this.reason;r.abort(t instanceof Aa?t:new so(t instanceof Error?t.message:t))}},a=t&&setTimeout((function(){i(new Aa("timeout ".concat(t," of ms exceeded"),Aa.ETIMEDOUT))}),t),o=function(){e&&(a&&clearTimeout(a),a=null,e.forEach((function(e){e&&(e.removeEventListener?e.removeEventListener("abort",i):e.unsubscribe(i))})),e=null)};e.forEach((function(e){return e&&e.addEventListener&&e.addEventListener("abort",i)}));var s=r.signal;return s.unsubscribe=o,[s,function(){a&&clearTimeout(a),a=null}]};var So=__webpack_require__(71392),To=__webpack_require__(40178),Fo=__webpack_require__(87167);__webpack_require__(66412);function Oo(e){var t,n,r,i=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);i--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new Po(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function Po(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return Po=function(e){this.s=e,this.n=e.next},Po.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},"return":function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},"throw":function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new Po(e)}var Io=s.mark((function e(t,n){var r,i,a;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.byteLength,n&&!(r<n)){e.next=5;break}return e.next=4,t;case 4:return e.abrupt("return");case 5:i=0;case 6:if(!(i<r)){e.next=13;break}return a=i+n,e.next=10,t.slice(i,a);case 10:i=a,e.next=6;break;case 13:case"end":return e.stop()}}),e)})),Bo=function(){var e=(0,So.A)(s.mark((function e(t,n,r){var i,a,o,u,c,l;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=!1,a=!1,e.prev=2,u=Oo(t);case 4:return e.next=6,(0,To.A)(u.next());case 6:if(!(i=!(c=e.sent).done)){e.next=27;break}if(l=c.value,e.t0=Fo.A,e.t1=Oo,e.t2=Io,!ArrayBuffer.isView(l)){e.next=15;break}e.t3=l,e.next=18;break;case 15:return e.next=17,(0,To.A)(r(String(l)));case 17:e.t3=e.sent;case 18:return e.t4=e.t3,e.t5=n,e.t6=(0,e.t2)(e.t4,e.t5),e.t7=(0,e.t1)(e.t6),e.t8=To.A,e.delegateYield((0,e.t0)(e.t7,e.t8),"t9",24);case 24:i=!1,e.next=4;break;case 27:e.next=33;break;case 29:e.prev=29,e.t10=e.catch(2),a=!0,o=e.t10;case 33:if(e.prev=33,e.prev=34,!i||null==u.return){e.next=38;break}return e.next=38,(0,To.A)(u.return());case 38:if(e.prev=38,!a){e.next=41;break}throw o;case 41:return e.finish(38);case 42:return e.finish(33);case 43:case"end":return e.stop()}}),e,null,[[2,29,33,43],[34,,38,42]])})));return function(t,n,r){return e.apply(this,arguments)}}(),Ro=function(e,t,n,r,i){var a,u=Bo(e,t,i),c=0,l=function(e){a||(a=!0,r&&r(e))};return new ReadableStream({pull:function(e){return(0,o.A)(s.mark((function t(){var r,i,a,o,d;return s.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.next();case 3:if(r=t.sent,i=r.done,a=r.value,!i){t.next=10;break}return l(),e.close(),t.abrupt("return");case 10:o=a.byteLength,n&&(d=c+=o,n(d)),e.enqueue(new Uint8Array(a)),t.next=19;break;case 15:throw t.prev=15,t.t0=t.catch(0),l(t.t0),t.t0;case 19:case"end":return t.stop()}}),t,null,[[0,15]])})))()},cancel:function(e){return l(e),u.return()}},{highWaterMark:2})};function No(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?No(Object(n),!0).forEach((function(t){(0,h.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):No(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Lo,jo="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,Uo=jo&&"function"==typeof ReadableStream,zo=jo&&("function"==typeof TextEncoder?function(e){return function(t){return e.encode(t)}}(new TextEncoder):function(){var e=(0,o.A)(s.mark((function e(t){return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Uint8Array,e.next=3,new Response(t).arrayBuffer();case 3:return e.t1=e.sent,e.abrupt("return",new e.t0(e.t1));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Vo=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e.apply(void 0,n)}catch(e){return!1}},qo=Uo&&Vo((function(){var e=!1,t=new Request(Wa.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),Ho=Uo&&Vo((function(){return ya.isReadableStream(new Response("").body)})),Wo={stream:Ho&&function(e){return e.body}};jo&&(Lo=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((function(e){!Wo[e]&&(Wo[e]=ya.isFunction(Lo[e])?function(t){return t[e]()}:function(t,n){throw new Aa("Response type '".concat(e,"' is not supported"),Aa.ERR_NOT_SUPPORT,n)})})));var Ko=function(){var e=(0,o.A)(s.mark((function e(t){return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t){e.next=2;break}return e.abrupt("return",0);case 2:if(!ya.isBlob(t)){e.next=4;break}return e.abrupt("return",t.size);case 4:if(!ya.isSpecCompliantForm(t)){e.next=8;break}return e.next=7,new Request(t).arrayBuffer();case 7:case 14:return e.abrupt("return",e.sent.byteLength);case 8:if(!ya.isArrayBufferView(t)&&!ya.isArrayBuffer(t)){e.next=10;break}return e.abrupt("return",t.byteLength);case 10:if(ya.isURLSearchParams(t)&&(t+=""),!ya.isString(t)){e.next=15;break}return e.next=14,zo(t);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$o=function(){var e=(0,o.A)(s.mark((function e(t,n){var r;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ya.toFiniteNumber(t.getContentLength()),e.abrupt("return",null==r?Ko(n):r);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();const Go=jo&&function(){var e=(0,o.A)(s.mark((function e(t){var n,r,i,a,o,u,c,l,d,p,f,h,m,v,g,y,b,w,D,A,E,k,C,x,S,T,F,O,P,I,B,R,N,M,L,j,U;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Co(t),r=n.url,i=n.method,a=n.data,o=n.signal,u=n.cancelToken,c=n.timeout,l=n.onDownloadProgress,d=n.onUploadProgress,p=n.responseType,f=n.headers,h=n.withCredentials,m=void 0===h?"same-origin":h,v=n.fetchOptions,p=p?(p+"").toLowerCase():"text",g=o||u||c?xo([o,u],c):[],y=(0,_.A)(g,2),b=y[0],w=y[1],E=function(){!D&&setTimeout((function(){b&&b.unsubscribe()})),D=!0},e.prev=4,e.t0=d&&qo&&"get"!==i&&"head"!==i,!e.t0){e.next=11;break}return e.next=9,$o(f,a);case 9:e.t1=k=e.sent,e.t0=0!==e.t1;case 11:if(!e.t0){e.next=15;break}C=new Request(r,{method:"POST",body:a,duplex:"half"}),ya.isFormData(a)&&(x=C.headers.get("content-type"))&&f.setContentType(x),C.body&&(S=fo(k,po(ho(d))),T=(0,_.A)(S,2),F=T[0],O=T[1],a=Ro(C.body,65536,F,O,zo));case 15:return ya.isString(m)||(m=m?"include":"omit"),A=new Request(r,Mo(Mo({},v),{},{signal:b,method:i.toUpperCase(),headers:f.normalize().toJSON(),body:a,duplex:"half",credentials:m})),e.next=19,fetch(A);case 19:return P=e.sent,I=Ho&&("stream"===p||"response"===p),Ho&&(l||I)&&(B={},["status","statusText","headers"].forEach((function(e){B[e]=P[e]})),R=ya.toFiniteNumber(P.headers.get("content-length")),N=l&&fo(R,po(ho(l),!0))||[],M=(0,_.A)(N,2),L=M[0],j=M[1],P=new Response(Ro(P.body,65536,L,(function(){j&&j(),I&&E()}),zo),B)),p=p||"text",e.next=25,Wo[ya.findKey(Wo,p)||"text"](P,t);case 25:return U=e.sent,!I&&E(),w&&w(),e.next=30,new Promise((function(e,n){uo(e,n,{data:U,headers:ro.from(P.headers),status:P.status,statusText:P.statusText,config:t,request:A})}));case 30:return e.abrupt("return",e.sent);case 33:if(e.prev=33,e.t2=e.catch(4),E(),!e.t2||"TypeError"!==e.t2.name||!/fetch/i.test(e.t2.message)){e.next=38;break}throw Object.assign(new Aa("Network Error",Aa.ERR_NETWORK,t,A),{cause:e.t2.cause||e.t2});case 38:throw Aa.from(e.t2,e.t2&&e.t2.code,t,A);case 39:case"end":return e.stop()}}),e,null,[[4,33]])})));return function(t){return e.apply(this,arguments)}}();function Qo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qo(Object(n),!0).forEach((function(t){(0,h.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xo="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,Zo=Xo&&"function"==typeof ReadableStream,Jo=Xo&&("function"==typeof TextEncoder?function(e){return function(t){return e.encode(t)}}(new TextEncoder):function(){var e=(0,o.A)(s.mark((function e(t){return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Uint8Array,e.next=3,new Response(t).arrayBuffer();case 3:return e.t1=e.sent,e.abrupt("return",new e.t0(e.t1));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),es=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e.apply(void 0,n)}catch(e){return!1}},ts=Zo&&es((function(){var e=!1,t=new Request(Wa.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),ns=Zo&&es((function(){return ya.isReadableStream(new Response("").body)})),rs={stream:ns&&function(e){return e.body}};Xo&&function(e){["text","arrayBuffer","blob","formData","stream"].forEach((function(t){!rs[t]&&(rs[t]=ya.isFunction(e[t])?function(e){return e[t]()}:function(e,n){throw new Aa("Response type '".concat(t,"' is not supported"),Aa.ERR_NOT_SUPPORT,n)})}))}(new Response);var is=function(){var e=(0,o.A)(s.mark((function e(t){return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t){e.next=2;break}return e.abrupt("return",0);case 2:if(!ya.isBlob(t)){e.next=4;break}return e.abrupt("return",t.size);case 4:if(!ya.isSpecCompliantForm(t)){e.next=8;break}return e.next=7,new Request(t).arrayBuffer();case 7:case 14:return e.abrupt("return",e.sent.byteLength);case 8:if(!ya.isArrayBufferView(t)&&!ya.isArrayBuffer(t)){e.next=10;break}return e.abrupt("return",t.byteLength);case 10:if(ya.isURLSearchParams(t)&&(t+=""),!ya.isString(t)){e.next=15;break}return e.next=14,Jo(t);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),as=function(){var e=(0,o.A)(s.mark((function e(t,n){var r;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ya.toFiniteNumber(t.getContentLength()),e.abrupt("return",null==r?is(n):r);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();const os=Xo&&function(){var e=(0,o.A)(s.mark((function e(t){var n,r,i,a,o,u,c,l,d,p,f,h,m,v,g,y,b,w,D,A,E,k,C,x,S,T,F,O,P,I,B,R,N,M,L,j,U;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Co(t),r=n.url,i=n.method,a=n.data,o=n.signal,u=n.cancelToken,c=n.timeout,l=n.onDownloadProgress,d=n.onUploadProgress,p=n.responseType,f=n.headers,h=n.withCredentials,m=void 0===h?"same-origin":h,v=n.fetchOptions,p=p?(p+"").toLowerCase():"text",g=o||u||c?xo([o,u],c):[],y=(0,_.A)(g,2),b=y[0],w=y[1],E=function(){!D&&setTimeout((function(){b&&b.unsubscribe()})),D=!0},e.prev=4,e.t0=d&&ts&&"get"!==i&&"head"!==i,!e.t0){e.next=11;break}return e.next=9,as(f,a);case 9:e.t1=k=e.sent,e.t0=0!==e.t1;case 11:if(!e.t0){e.next=15;break}C=new Request(r,{method:"POST",body:a,duplex:"half"}),ya.isFormData(a)&&(x=C.headers.get("content-type"))&&f.setContentType(x),C.body&&(S=fo(k,po(ho(d))),T=(0,_.A)(S,2),F=T[0],O=T[1],a=Ro(C.body,65536,F,O,Jo));case 15:return ya.isString(m)||(m=m?"include":"omit"),A=new Request(r,Yo(Yo({},v),{},{signal:b,method:i.toUpperCase(),headers:f.normalize().toJSON(),body:a,duplex:"half",credentials:m})),e.next=19,window.CapacitorWebFetch(A);case 19:return P=e.sent,I=ns&&("stream"===p||"response"===p),ns&&(l||I)&&(B={},["status","statusText","headers"].forEach((function(e){B[e]=P[e]})),R=ya.toFiniteNumber(P.headers.get("content-length")),N=l&&fo(R,po(ho(l),!0))||[],M=(0,_.A)(N,2),L=M[0],j=M[1],P=new Response(Ro(P.body,65536,L,(function(){j&&j(),I&&E()}),Jo),B)),p=p||"text",e.next=25,rs[ya.findKey(rs,p)||"text"](P,t);case 25:return U=e.sent,!I&&E(),w&&w(),e.next=30,new Promise((function(e,n){uo(e,n,{data:U,headers:ro.from(P.headers),status:P.status,statusText:P.statusText,config:t,request:A})}));case 30:return e.abrupt("return",e.sent);case 33:if(e.prev=33,e.t2=e.catch(4),E(),!e.t2||"TypeError"!==e.t2.name||!/fetch/i.test(e.t2.message)){e.next=38;break}throw Object.assign(new Aa("Network Error",Aa.ERR_NETWORK,t,A),{cause:e.t2.cause||e.t2});case 38:throw Aa.from(e.t2,e.t2&&e.t2.code,t,A);case 39:case"end":return e.stop()}}),e,null,[[4,33]])})));return function(t){return e.apply(this,arguments)}}();var ss={http:null,xhr:_o,fetch:Go,capacitor:os};ya.forEach(ss,(function(e,t){if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}}));var us=function(e){return"- ".concat(e)},cs=function(e){return ya.isFunction(e)||null===e||!1===e};const ls=function(e){for(var t,n,r=(e=ya.isArray(e)?e:[e]).length,i={},a=0;a<r;a++){var o=void 0;if(n=t=e[a],!cs(t)&&void 0===(n=ss[(o=String(t)).toLowerCase()]))throw new Aa("Unknown adapter '".concat(o,"'"));if(n)break;i[o||"#"+a]=n}if(!n){var s=Object.entries(i).map((function(e){var t=(0,_.A)(e,2),n=t[0],r=t[1];return"adapter ".concat(n," ")+(!1===r?"is not supported by the environment":"is not available in the build")})),u=r?s.length>1?"since :\n"+s.map(us).join("\n"):" "+us(s[0]):"as no adapter specified";throw new Aa("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return n};function ds(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new so(null,e)}function ps(e){return ds(e),e.headers=ro.from(e.headers),e.data=io.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),ls(e.adapter||Ga.adapter)(e).then((function(t){return ds(e),t.data=io.call(e,e.transformResponse,t),t.headers=ro.from(t.headers),t}),(function(t){return ao(t)||(ds(e),t&&t.response&&(t.response.data=io.call(e,e.transformResponse,t.response),t.response.headers=ro.from(t.response.headers))),Promise.reject(t)}))}var fs="1.7.3",hs={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){hs[e]=function(n){return(0,C.A)(n)===e||"a"+(t<1?"n ":" ")+e}}));var ms={};hs.transitional=function(e,t,n){function r(e,t){return"[Axios v1.7.3] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,i,a){if(!1===e)throw new Aa(r(i," has been removed"+(t?" in "+t:"")),Aa.ERR_DEPRECATED);return t&&!ms[i]&&(ms[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,a)}};const vs={assertOptions:function(e,t,n){if("object"!==(0,C.A)(e))throw new Aa("options must be an object",Aa.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),i=r.length;i-- >0;){var a=r[i],o=t[a];if(o){var s=e[a],u=void 0===s||o(s,a,e);if(!0!==u)throw new Aa("option "+a+" must be "+u,Aa.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new Aa("Unknown option "+a,Aa.ERR_BAD_OPTION)}},validators:hs};var gs=vs.validators,ys=function(){return(0,f.A)((function e(t){(0,p.A)(this,e),this.defaults=t,this.interceptors={request:new Ra,response:new Ra}}),[{key:"request",value:(e=(0,o.A)(s.mark((function e(t,n){var r,i;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._request(t,n);case 3:return e.abrupt("return",e.sent);case 6:if(e.prev=6,e.t0=e.catch(0),e.t0 instanceof Error){Error.captureStackTrace?Error.captureStackTrace(r={}):r=new Error,i=r.stack?r.stack.replace(/^.+\n/,""):"";try{e.t0.stack?i&&!String(e.t0.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(e.t0.stack+="\n"+i):e.t0.stack=i}catch(e){}}throw e.t0;case 10:case"end":return e.stop()}}),e,this,[[0,6]])}))),function(t,n){return e.apply(this,arguments)})},{key:"_request",value:function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{};var n=t=ko(this.defaults,t),r=n.transitional,i=n.paramsSerializer,a=n.headers;void 0!==r&&vs.assertOptions(r,{silentJSONParsing:gs.transitional(gs.boolean),forcedJSONParsing:gs.transitional(gs.boolean),clarifyTimeoutError:gs.transitional(gs.boolean)},!1),null!=i&&(ya.isFunction(i)?t.paramsSerializer={serialize:i}:vs.assertOptions(i,{encode:gs.function,serialize:gs.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();var o=a&&ya.merge(a.common,a[t.method]);a&&ya.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete a[e]})),t.headers=ro.concat(o,a);var s=[],u=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(u=u&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));var c,l=[];this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));var d,p=0;if(!u){var f=[ps.bind(this),void 0];for(f.unshift.apply(f,s),f.push.apply(f,l),d=f.length,c=Promise.resolve(t);p<d;)c=c.then(f[p++],f[p++]);return c}d=s.length;var h=t;for(p=0;p<d;){var m=s[p++],v=s[p++];try{h=m(h)}catch(e){v.call(this,e);break}}try{c=ps.call(this,h)}catch(e){return Promise.reject(e)}for(p=0,d=l.length;p<d;)c=c.then(l[p++],l[p++]);return c}},{key:"getUri",value:function(e){return Ia(Do((e=ko(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}]);var e}();ya.forEach(["delete","get","head","options"],(function(e){ys.prototype[e]=function(t,n){return this.request(ko(n||{},{method:e,url:t,data:(n||{}).data}))}})),ya.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(ko(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}ys.prototype[e]=t(),ys.prototype[e+"Form"]=t(!0)}));const bs=ys;__webpack_require__(54554);var ws=function(){function e(t){if((0,p.A)(this,e),"function"!=typeof t)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function(e){n=e}));var r=this;this.promise.then((function(e){if(r._listeners){for(var t=r._listeners.length;t-- >0;)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},t((function(e,t,i){r.reason||(r.reason=new so(e,t,i),n(r.reason))}))}return(0,f.A)(e,[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}},{key:"subscribe",value:function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}},{key:"unsubscribe",value:function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}}}],[{key:"source",value:function(){var t,n=new e((function(e){t=e}));return{token:n,cancel:t}}}])}();const Ds=ws;var As={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(As).forEach((function(e){var t=(0,_.A)(e,2),n=t[0],r=t[1];As[r]=n}));const Es=As;var ks=function e(t){var n=new bs(t),r=Si(bs.prototype.request,n);return ya.extend(r,bs.prototype,n,{allOwnKeys:!0}),ya.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(ko(t,n))},r}(Ga);ks.Axios=bs,ks.CanceledError=so,ks.CancelToken=Ds,ks.isCancel=ao,ks.VERSION=fs,ks.toFormData=xa,ks.AxiosError=Aa,ks.Cancel=ks.CanceledError,ks.all=function(e){return Promise.all(e)},ks.spread=function(e){return function(t){return e.apply(null,t)}},ks.isAxiosError=function(e){return ya.isObject(e)&&!0===e.isAxiosError},ks.mergeConfig=ko,ks.AxiosHeaders=ro,ks.formToJSON=function(e){return Ka(ya.isHTMLForm(e)?new FormData(e):e)},ks.getAdapter=ls,ks.HttpStatusCode=Es,ks.default=ks;const Cs=ks;__webpack_require__(9391),__webpack_require__(33771),__webpack_require__(17427),__webpack_require__(69479);function _s(e,t){if(e===t)return!0;if(e&&t&&"object"==(0,C.A)(e)&&"object"==(0,C.A)(t)){if(e.constructor!==t.constructor)return!1;var n,r;if(Array.isArray(e)){if((n=e.length)!==t.length)return!1;for(r=n;0!=r--;)if(!_s(e[r],t[r]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();var i=Object.keys(e);if((n=i.length)!==Object.keys(t).length)return!1;for(r=n;0!=r--;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;for(r=n;0!=r--;){var a=i[r];if(!_s(e[a],t[a]))return!1}return!0}return e!=e&&t!=t}__webpack_require__(52811),__webpack_require__(94003);function xs(e){var t=e.split("."),n=t.length;return 1===n?function(t){return t[e]}:function(e){for(var r=e,i=0;i<n;++i){if(void 0===(r=r[t[i]]))return r}return r}}function Ss(e){return Object.assign({},e)}function Ts(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return e;if(!t&&Array.isArray(e))return e.sort((function(e,t){return"string"==typeof e&&"string"==typeof t?e.localeCompare(t):"object"===(0,C.A)(e)?1:-1})).map((function(e){return Ts(e,t)}));if("object"===(0,C.A)(e)&&!Array.isArray(e)){var n={};return Object.keys(e).sort((function(e,t){return e.localeCompare(t)})).forEach((function(r){n[r]=Ts(e[r],t)})),n}return e}var Fs=function e(t){if(!t)return t;if(null===t||"object"!==(0,C.A)(t))return t;if(Array.isArray(t)){for(var n=new Array(t.length),r=n.length;r--;)n[r]=e(t[r]);return n}var i={};for(var a in t)i[a]=e(t[a]);return i};function Os(e,t,n){return Object.defineProperty(e,t,{get:function(){return n}}),n}function Ps(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Is(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Is(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Is(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Bs(e){return Array.isArray(e)?e.slice(0):[e]}function Rs(e,t){e=e.slice(0);for(var n=[];e.length;){var r=e.splice(0,t);n.push(r)}return n}function Ns(e){return Array.isArray(e)}function Ms(e,t){var n,r=0,i=-1,a=Ps(e);try{for(a.s();!(n=a.n()).done;){if(!t(n.value,i+=1))break;r+=1}}catch(e){a.e(e)}finally{a.f()}return r}function Ls(e,t){var n=t.length;if(0!==n){var r=e.length;e.length=r+t.length;for(var i=0;i<n;++i)e[r+i]=t[i]}}__webpack_require__(42781);var js=__webpack_require__(85670);function Us(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,js.A)(e,t)}var zs={isDevMode:function(){return!1},deepFreezeWhenDevMode:function(e){return e},tunnelErrorMessage:function(e){return"\n        RxDB Error-Code: "+e+".\n        Hint: Error messages are not included in RxDB core to reduce build size.\n        To show the full error messages and to ensure that you do not make any mistakes when using RxDB,\n        use the dev-mode plugin when you are in development mode: https://rxdb.info/dev-mode.html?console=error\n        "}};function Vs(e,t,n){return"\n"+e+"\n"+function(e){var t="";return 0===Object.keys(e).length?t:(t+="-".repeat(20)+"\n",t+="Parameters:\n",t+=Object.keys(e).map((function(t){var n="[object Object]";try{n="errors"===t?e[t].map((function(e){return JSON.stringify(e,Object.getOwnPropertyNames(e))})):JSON.stringify(e[t],(function(e,t){return void 0===t?null:t}),2)}catch(e){}return t+": "+n})).join("\n"),t+="\n")}(n)}var qs=function(e){function t(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=Vs(n,0,i);return(r=e.call(this,a)||this).code=t,r.message=a,r.url=Ws(t),r.parameters=i,r.rxdb=!0,r}return Us(t,e),t.prototype.toString=function(){return this.message},(0,f.A)(t,[{key:"name",get:function(){return"RxError ("+this.code+")"}},{key:"typeError",get:function(){return!1}}])}((0,F.A)(Error)),Hs=function(e){function t(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=Vs(n,0,i);return(r=e.call(this,a)||this).code=t,r.message=a,r.url=Ws(t),r.parameters=i,r.rxdb=!0,r}return Us(t,e),t.prototype.toString=function(){return this.message},(0,f.A)(t,[{key:"name",get:function(){return"RxTypeError ("+this.code+")"}},{key:"typeError",get:function(){return!0}}])}((0,F.A)(TypeError));function Ws(e){return"https://rxdb.info/errors.html?console=errors#"+e}function Ks(e){return"\nFind out more about this error here: "+Ws(e)+" \n"}function $s(e,t){return new qs(e,zs.tunnelErrorMessage(e)+Ks(e),t)}function Gs(e,t){return new Hs(e,zs.tunnelErrorMessage(e)+Ks(e),t)}function Qs(e){return!(!e||409!==e.status)&&e}var Ys={409:"document write conflict",422:"schema validation error",510:"attachment data missing"};function Xs(e){return $s("COL20",{name:Ys[e.status],document:e.documentId,writeError:e})}function Zs(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Js(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Js(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Js(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var eu={preAddRxPlugin:[],preCreateRxDatabase:[],createRxDatabase:[],preCreateRxCollection:[],createRxCollection:[],createRxState:[],postCloseRxCollection:[],postRemoveRxCollection:[],preCreateRxSchema:[],createRxSchema:[],prePrepareRxQuery:[],preCreateRxQuery:[],prePrepareQuery:[],createRxDocument:[],postCreateRxDocument:[],preCreateRxStorageInstance:[],preStorageWrite:[],preMigrateDocument:[],postMigrateDocument:[],preCloseRxDatabase:[],postRemoveRxDatabase:[],postCleanup:[],preReplicationMasterWrite:[],preReplicationMasterWriteDocumentsHandle:[]};function tu(e,t){eu[e].length>0&&eu[e].forEach((function(e){return e(t)}))}function nu(e,t){return ru.apply(this,arguments)}function ru(){return(ru=(0,o.A)(s.mark((function e(t,n){var r,i,a;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=Zs(eu[t]),e.prev=1,r.s();case 3:if((i=r.n()).done){e.next=9;break}return a=i.value,e.next=7,a(n);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),r.e(e.t0);case 14:return e.prev=14,r.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}var iu=/\./g,au=(__webpack_require__(50375),"abcdefghijklmnopqrstuvwxyz");function ou(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t="",n=0;n<e;n++)t+=au.charAt(Math.floor(26*Math.random()));return t}function su(e){return(e+="").charAt(0).toUpperCase()+e.substr(1)}function uu(e){for(;"."===e.charAt(0);)e=e.substr(1);for(;"."===e.slice(-1);)e=e.slice(0,-1);return e}__webpack_require__(32637),__webpack_require__(25843);function cu(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return lu(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lu(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function lu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var du=function(e){var t=(0,C.A)(e);return null!==e&&("object"===t||"function"===t)},pu=new Set(["__proto__","prototype","constructor"]),fu=new Set("0123456789");function hu(e){var t,n=[],r="",i="start",a=!1,o=cu(e);try{for(o.s();!(t=o.n()).done;){var s=t.value;switch(s){case"\\":if("index"===i)throw new Error("Invalid character in an index");if("indexEnd"===i)throw new Error("Invalid character after an index");a&&(r+=s),i="property",a=!a;break;case".":if("index"===i)throw new Error("Invalid character in an index");if("indexEnd"===i){i="property";break}if(a){a=!1,r+=s;break}if(pu.has(r))return[];n.push(r),r="",i="property";break;case"[":if("index"===i)throw new Error("Invalid character in an index");if("indexEnd"===i){i="index";break}if(a){a=!1,r+=s;break}if("property"===i){if(pu.has(r))return[];n.push(r),r=""}i="index";break;case"]":if("index"===i){n.push(Number.parseInt(r,10)),r="",i="indexEnd";break}if("indexEnd"===i)throw new Error("Invalid character after an index");default:if("index"===i&&!fu.has(s))throw new Error("Invalid character in an index");if("indexEnd"===i)throw new Error("Invalid character after an index");"start"===i&&(i="property"),a&&(a=!1,r+="\\"),r+=s}}}catch(e){o.e(e)}finally{o.f()}switch(a&&(r+="\\"),i){case"property":if(pu.has(r))return[];n.push(r);break;case"index":throw new Error("Index was not closed");case"start":n.push("")}return n}function mu(e,t){if("number"!=typeof t&&Array.isArray(e)){var n=Number.parseInt(t,10);return Number.isInteger(n)&&e[n]===e[t]}return!1}function vu(e,t){if(mu(e,t))throw new Error("Cannot use string index")}function gu(e,t,n){if(Array.isArray(t)&&(t=t.join(".")),!t.includes(".")&&!t.includes("["))return e[t];if(!du(e)||"string"!=typeof t)return void 0===n?e:n;var r=hu(t);if(0===r.length)return n;for(var i=0;i<r.length;i++){var a=r[i];if(null==(e=mu(e,a)?i===r.length-1?void 0:null:e[a])){if(i!==r.length-1)return n;break}}return void 0===e?n:e}function yu(e,t,n){if(Array.isArray(t)&&(t=t.join(".")),!du(e)||"string"!=typeof t)return e;for(var r=e,i=hu(t),a=0;a<i.length;a++){var o=i[a];vu(e,o),a===i.length-1?e[o]=n:du(e[o])||(e[o]="number"==typeof i[a+1]?[]:{}),e=e[o]}return r}function bu(e){return Object.assign({},e,{_meta:void 0,_deleted:void 0,_rev:void 0})}function wu(e,t){var n=t;return gu(e,n=uu(n="properties."+(n=n.replace(iu,".properties."))))}function Du(e){return"string"==typeof e?e:e.key}function Au(e,t){if("string"==typeof e.primaryKey)return t[e.primaryKey];var n=e.primaryKey;return n.fields.map((function(e){var n=gu(t,e);if(void 0===n)throw $s("DOC18",{args:{field:e,documentData:t}});return n})).join(n.separator)}function Eu(e){var t=Du((e=Ss(e)).primaryKey);e.properties=Ss(e.properties),e.additionalProperties=!1,Object.prototype.hasOwnProperty.call(e,"keyCompression")||(e.keyCompression=!1),e.indexes=e.indexes?e.indexes.slice(0):[],e.required=e.required?e.required.slice(0):[],e.encrypted=e.encrypted?e.encrypted.slice(0):[],e.properties._rev={type:"string",minLength:1},e.properties._attachments={type:"object"},e.properties._deleted={type:"boolean"},e.properties._meta=ku,e.required=e.required?e.required.slice(0):[],e.required.push("_deleted"),e.required.push("_rev"),e.required.push("_meta"),e.required.push("_attachments");var n=Cu(e);Ls(e.required,n),e.required=e.required.filter((function(e){return!e.includes(".")})).filter((function(e,t,n){return n.indexOf(e)===t})),e.version=e.version||0;var r=e.indexes.map((function(e){var n=Ns(e)?e.slice(0):[e];return n.includes(t)||n.push(t),"_deleted"!==n[0]&&n.unshift("_deleted"),n}));0===r.length&&r.push(function(e){return["_deleted",e]}(t)),r.push(["_meta.lwt",t]),e.internalIndexes&&e.internalIndexes.map((function(e){r.push(e)}));var i=new Set;return r.filter((function(e){var t=e.join(",");return!i.has(t)&&(i.add(t),!0)})),e.indexes=r,e}var ku={type:"object",properties:{lwt:{type:"number",minimum:1,maximum:1e15,multipleOf:.01}},additionalProperties:!0,required:["lwt"]};function Cu(e){var t=Object.keys(e.properties).filter((function(t){return e.properties[t].final})),n=Du(e.primaryKey);return t.push(n),"string"!=typeof e.primaryKey&&e.primaryKey.fields.forEach((function(e){return t.push(e)})),t}var _u=function(){function e(e,t){if(this.jsonSchema=e,this.hashFunction=t,this.indexes=function(e){return(e.indexes||[]).map((function(e){return Ns(e)?e:[e]}))}(this.jsonSchema),this.primaryPath=Du(this.jsonSchema.primaryKey),!e.properties[this.primaryPath].maxLength)throw $s("SC39",{schema:e});this.finalFields=Cu(this.jsonSchema)}var t=e.prototype;return t.validateChange=function(e,t){var n=this;this.finalFields.forEach((function(r){if(!_s(e[r],t[r]))throw $s("DOC9",{dataBefore:e,dataAfter:t,fieldName:r,schema:n.jsonSchema})}))},t.getDocumentPrototype=function(){var e={},t=wu(this.jsonSchema,"");return Object.keys(t).forEach((function(t){var n=t;e.__defineGetter__(t,(function(){if(this.get&&"function"==typeof this.get)return this.get(n)})),Object.defineProperty(e,t+"$",{get:function(){return this.get$(n)},enumerable:!1,configurable:!1}),Object.defineProperty(e,t+"$$",{get:function(){return this.get$$(n)},enumerable:!1,configurable:!1}),Object.defineProperty(e,t+"_",{get:function(){return this.populate(n)},enumerable:!1,configurable:!1})})),Os(this,"getDocumentPrototype",(function(){return e})),e},t.getPrimaryOfDocumentData=function(e){return Au(this.jsonSchema,e)},(0,f.A)(e,[{key:"version",get:function(){return this.jsonSchema.version}},{key:"defaultValues",get:function(){var e={};return Object.entries(this.jsonSchema.properties).filter((function(e){var t=(0,_.A)(e,2)[1];return Object.prototype.hasOwnProperty.call(t,"default")})).forEach((function(t){var n=(0,_.A)(t,2),r=n[0],i=n[1];return e[r]=i.default})),Os(this,"defaultValues",e)}},{key:"hash",get:function(){return Os(this,"hash",this.hashFunction(JSON.stringify(this.jsonSchema)))}}])}();function xu(e,t){(!(arguments.length>2&&void 0!==arguments[2])||arguments[2])&&tu("preCreateRxSchema",e);var n=Eu(e);n=function(e){return Ts(e,!0)}(n),zs.deepFreezeWhenDevMode(n);var r=new _u(n,t);return tu("createRxSchema",r),r}function Su(e){return"function"==typeof e}function Tu(e){return function(t){if(function(e){return Su(null==e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}var Fu=function(e,t){return Fu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Fu(e,t)};function Ou(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Fu(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function Pu(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(o,s)}u((r=r.apply(e,t||[])).next())}))}function Iu(e,t){var n,r,i,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}Object.create;function Bu(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ru(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o}function Nu(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function Mu(e){return this instanceof Mu?(this.v=e,this):new Mu(e)}function Lu(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),a=[];return r=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",(function(e){return function(t){return Promise.resolve(t).then(e,c)}})),r[Symbol.asyncIterator]=function(){return this},r;function o(e,t){i[e]&&(r[e]=function(t){return new Promise((function(n,r){a.push([e,t,n,r])>1||s(e,t)}))},t&&(r[e]=t(r[e])))}function s(e,t){try{!function(e){e.value instanceof Mu?Promise.resolve(e.value.v).then(u,c):l(a[0][2],e)}(i[e](t))}catch(e){l(a[0][3],e)}}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),a.shift(),a.length&&s(a[0][0],a[0][1])}}function ju(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=Bu(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}Object.create;"function"==typeof SuppressedError&&SuppressedError;function Uu(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var zu=Uu((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}));function Vu(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var qu=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var e,t,n,r,i;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var o=Bu(a),s=o.next();!s.done;s=o.next()){s.value.remove(this)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}else a.remove(this);var u=this.initialTeardown;if(Su(u))try{u()}catch(e){i=e instanceof zu?e.errors:[e]}var c=this._finalizers;if(c){this._finalizers=null;try{for(var l=Bu(c),d=l.next();!d.done;d=l.next()){var p=d.value;try{Ku(p)}catch(e){i=null!=i?i:[],e instanceof zu?i=Nu(Nu([],Ru(i)),Ru(e.errors)):i.push(e)}}}catch(e){n={error:e}}finally{try{d&&!d.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}if(i)throw new zu(i)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)Ku(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&Vu(t,e)},e.prototype.remove=function(t){var n=this._finalizers;n&&Vu(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),Hu=qu.EMPTY;function Wu(e){return e instanceof qu||e&&"closed"in e&&Su(e.remove)&&Su(e.add)&&Su(e.unsubscribe)}function Ku(e){Su(e)?e():e.unsubscribe()}var $u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Gu={setTimeout:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=Gu.delegate;return(null==i?void 0:i.setTimeout)?i.setTimeout.apply(i,Nu([e,t],Ru(n))):setTimeout.apply(void 0,Nu([e,t],Ru(n)))})),clearTimeout:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){var t=Gu.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)})),delegate:void 0};function Qu(e){Gu.setTimeout((function(){var t=$u.onUnhandledError;if(!t)throw e;t(e)}))}function Yu(){}var Xu=Zu("C",void 0,void 0);function Zu(e,t,n){return{kind:e,value:t,error:n}}var Ju=null;function ec(e){if($u.useDeprecatedSynchronousErrorHandling){var t=!Ju;if(t&&(Ju={errorThrown:!1,error:null}),e(),t){var n=Ju,r=n.errorThrown,i=n.error;if(Ju=null,r)throw i}}else e()}var tc=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,Wu(t)&&t.add(n)):n.destination=uc,n}return Ou(t,e),t.create=function(e,t,n){return new ac(e,t,n)},t.prototype.next=function(e){this.isStopped?sc(function(e){return Zu("N",e,void 0)}(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?sc(function(e){return Zu("E",void 0,e)}(e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?sc(Xu,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(qu),nc=Function.prototype.bind;function rc(e,t){return nc.call(e,t)}var ic=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){oc(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){oc(e)}else oc(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){oc(e)}},e}(),ac=function(e){function t(t,n,r){var i,a,o=e.call(this)||this;Su(t)||!t?i={next:null!=t?t:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0}:o&&$u.useDeprecatedNextContext?((a=Object.create(t)).unsubscribe=function(){return o.unsubscribe()},i={next:t.next&&rc(t.next,a),error:t.error&&rc(t.error,a),complete:t.complete&&rc(t.complete,a)}):i=t;return o.destination=new ic(i),o}return Ou(t,e),t}(tc);function oc(e){var t;$u.useDeprecatedSynchronousErrorHandling?(t=e,$u.useDeprecatedSynchronousErrorHandling&&Ju&&(Ju.errorThrown=!0,Ju.error=t)):Qu(e)}function sc(e,t){var n=$u.onStoppedNotification;n&&Gu.setTimeout((function(){return n(e,t)}))}var uc={closed:!0,next:Yu,error:function(e){throw e},complete:Yu};function cc(e,t,n,r,i){return new lc(e,t,n,r,i)}var lc=function(e){function t(t,n,r,i,a,o){var s=e.call(this,t)||this;return s.onFinalize=a,s.shouldUnsubscribe=o,s._next=n?function(e){try{n(e)}catch(e){t.error(e)}}:e.prototype._next,s._error=i?function(e){try{i(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,s._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,s}return Ou(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(tc);function dc(e,t){return Tu((function(n,r){var i=0;n.subscribe(cc(r,(function(n){r.next(e.call(t,n,i++))})))}))}function pc(e,t){return Tu((function(n,r){var i=0;n.subscribe(cc(r,(function(n){return e.call(t,n,i++)&&r.next(n)})))}))}var fc=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function hc(e){return Su(null==e?void 0:e.then)}var mc="function"==typeof Symbol&&Symbol.observable||"@@observable";function vc(e){return e}function gc(e){return 0===e.length?vc:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var yc=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this,i=function(e){return e&&e instanceof tc||function(e){return e&&Su(e.next)&&Su(e.error)&&Su(e.complete)}(e)&&Wu(e)}(e)?e:new ac(e,t,n);return ec((function(){var e=r,t=e.operator,n=e.source;i.add(t?t.call(i,n):n?r._subscribe(i):r._trySubscribe(i))})),i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=bc(t))((function(t,r){var i=new ac({next:function(t){try{e(t)}catch(e){r(e),i.unsubscribe()}},error:r,complete:t});n.subscribe(i)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[mc]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return gc(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=bc(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function bc(e){var t;return null!==(t=null!=e?e:$u.Promise)&&void 0!==t?t:Promise}function wc(e){return Su(e[mc])}function Dc(e){return Symbol.asyncIterator&&Su(null==e?void 0:e[Symbol.asyncIterator])}function Ac(e){return new TypeError("You provided "+(null!==e&&"object"===(0,C.A)(e)?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var Ec="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function kc(e){return Su(null==e?void 0:e[Ec])}function Cc(e){return Lu(this,arguments,(function(){var t,n,r;return Iu(this,(function(i){switch(i.label){case 0:t=e.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,Mu(t.read())];case 3:return n=i.sent(),r=n.value,n.done?[4,Mu(void 0)]:[3,5];case 4:return[2,i.sent()];case 5:return[4,Mu(r)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}function _c(e){return Su(null==e?void 0:e.getReader)}function xc(e){if(e instanceof yc)return e;if(null!=e){if(wc(e))return i=e,new yc((function(e){var t=i[mc]();if(Su(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(fc(e))return r=e,new yc((function(e){for(var t=0;t<r.length&&!e.closed;t++)e.next(r[t]);e.complete()}));if(hc(e))return n=e,new yc((function(e){n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,Qu)}));if(Dc(e))return Sc(e);if(kc(e))return t=e,new yc((function(e){var n,r;try{for(var i=Bu(t),a=i.next();!a.done;a=i.next()){var o=a.value;if(e.next(o),e.closed)return}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}e.complete()}));if(_c(e))return Sc(Cc(e))}var t,n,r,i;throw Ac(e)}function Sc(e){return new yc((function(t){(function(e,t){var n,r,i,a;return Pu(this,void 0,void 0,(function(){var o,s;return Iu(this,(function(u){switch(u.label){case 0:u.trys.push([0,5,6,11]),n=ju(e),u.label=1;case 1:return[4,n.next()];case 2:if((r=u.sent()).done)return[3,4];if(o=r.value,t.next(o),t.closed)return[2];u.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=u.sent(),i={error:s},[3,11];case 6:return u.trys.push([6,,9,10]),r&&!r.done&&(a=n.return)?[4,a.call(n)]:[3,8];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))}))})(e,t).catch((function(e){return t.error(e)}))}))}function Tc(e,t,n,r,i){void 0===r&&(r=0),void 0===i&&(i=!1);var a=t.schedule((function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()}),r);if(e.add(a),!i)return a}function Fc(e,t,n){return void 0===n&&(n=1/0),Su(t)?Fc((function(n,r){return dc((function(e,i){return t(n,e,r,i)}))(xc(e(n,r)))}),n):("number"==typeof t&&(n=t),Tu((function(t,r){return function(e,t,n,r,i,a,o,s){var u=[],c=0,l=0,d=!1,p=function(){!d||u.length||c||t.complete()},f=function(e){return c<r?h(e):u.push(e)},h=function(e){a&&t.next(e),c++;var s=!1;xc(n(e,l++)).subscribe(cc(t,(function(e){null==i||i(e),a?f(e):t.next(e)}),(function(){s=!0}),void 0,(function(){if(s)try{c--;for(var e=function(){var e=u.shift();o?Tc(t,o,(function(){return h(e)})):h(e)};u.length&&c<r;)e();p()}catch(e){t.error(e)}})))};return e.subscribe(cc(t,f,(function(){d=!0,p()}))),function(){null==s||s()}}(t,r,e,n)})))}function Oc(e){return void 0===e&&(e=1/0),Fc(vc,e)}function Pc(e){return e[e.length-1]}function Ic(e){return function(e){return e&&Su(e.schedule)}(Pc(e))?e.pop():void 0}function Bc(e,t){return"number"==typeof Pc(e)?e.pop():t}function Rc(e,t){return void 0===t&&(t=0),Tu((function(n,r){n.subscribe(cc(r,(function(n){return Tc(r,e,(function(){return r.next(n)}),t)}),(function(){return Tc(r,e,(function(){return r.complete()}),t)}),(function(n){return Tc(r,e,(function(){return r.error(n)}),t)})))}))}function Nc(e,t){return void 0===t&&(t=0),Tu((function(n,r){r.add(e.schedule((function(){return n.subscribe(r)}),t))}))}function Mc(e,t){if(!e)throw new Error("Iterable cannot be null");return new yc((function(n){Tc(n,t,(function(){var r=e[Symbol.asyncIterator]();Tc(n,t,(function(){r.next().then((function(e){e.done?n.complete():n.next(e.value)}))}),0,!0)}))}))}function Lc(e,t){if(null!=e){if(wc(e))return function(e,t){return xc(e).pipe(Nc(t),Rc(t))}(e,t);if(fc(e))return function(e,t){return new yc((function(n){var r=0;return t.schedule((function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())}))}))}(e,t);if(hc(e))return function(e,t){return xc(e).pipe(Nc(t),Rc(t))}(e,t);if(Dc(e))return Mc(e,t);if(kc(e))return function(e,t){return new yc((function(n){var r;return Tc(n,t,(function(){r=e[Ec](),Tc(n,t,(function(){var e,t,i;try{t=(e=r.next()).value,i=e.done}catch(e){return void n.error(e)}i?n.complete():n.next(t)}),0,!0)})),function(){return Su(null==r?void 0:r.return)&&r.return()}}))}(e,t);if(_c(e))return function(e,t){return Mc(Cc(e),t)}(e,t)}throw Ac(e)}function jc(e,t){return t?Lc(e,t):xc(e)}function Uc(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Oc(1)(jc(e,Ic(e)))}function zc(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Ic(e);return Tu((function(t,r){(n?Uc(e,t,n):Uc(e,t)).subscribe(r)}))}function Vc(e,t){return void 0===t&&(t=vc),e=null!=e?e:qc,Tu((function(n,r){var i,a=!0;n.subscribe(cc(r,(function(n){var o=t(n);!a&&e(i,o)||(a=!1,i=o,r.next(n))})))}))}function qc(e,t){return e===t}var Hc=Uu((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),Wc=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return Ou(t,e),t.prototype.lift=function(e){var t=new Kc(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new Hc},t.prototype.next=function(e){var t=this;ec((function(){var n,r;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var i=Bu(t.currentObservers),a=i.next();!a.done;a=i.next()){a.value.next(e)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}}))},t.prototype.error=function(e){var t=this;ec((function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var n=t.observers;n.length;)n.shift().error(e)}}))},t.prototype.complete=function(){var e=this;ec((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}}))},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,n=this,r=n.hasError,i=n.isStopped,a=n.observers;return r||i?Hu:(this.currentObservers=null,a.push(e),new qu((function(){t.currentObservers=null,Vu(a,e)})))},t.prototype._checkFinalizedStatuses=function(e){var t=this,n=t.hasError,r=t.thrownError,i=t.isStopped;n?e.error(r):i&&e.complete()},t.prototype.asObservable=function(){var e=new yc;return e.source=this,e},t.create=function(e,t){return new Kc(e,t)},t}(yc),Kc=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return Ou(t,e),t.prototype.next=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)},t.prototype.error=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:Hu},t}(Wc),$c={now:function(){return($c.delegate||Date).now()},delegate:void 0},Gc=function(e){function t(t,n,r){void 0===t&&(t=1/0),void 0===n&&(n=1/0),void 0===r&&(r=$c);var i=e.call(this)||this;return i._bufferSize=t,i._windowTime=n,i._timestampProvider=r,i._buffer=[],i._infiniteTimeWindow=!0,i._infiniteTimeWindow=n===1/0,i._bufferSize=Math.max(1,t),i._windowTime=Math.max(1,n),i}return Ou(t,e),t.prototype.next=function(t){var n=this,r=n.isStopped,i=n._buffer,a=n._infiniteTimeWindow,o=n._timestampProvider,s=n._windowTime;r||(i.push(t),!a&&i.push(o.now()+s)),this._trimBuffer(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){this._throwIfClosed(),this._trimBuffer();for(var t=this._innerSubscribe(e),n=this._infiniteTimeWindow,r=this._buffer.slice(),i=0;i<r.length&&!e.closed;i+=n?1:2)e.next(r[i]);return this._checkFinalizedStatuses(e),t},t.prototype._trimBuffer=function(){var e=this,t=e._bufferSize,n=e._timestampProvider,r=e._buffer,i=e._infiniteTimeWindow,a=(i?1:2)*t;if(t<1/0&&a<r.length&&r.splice(0,r.length-a),!i){for(var o=n.now(),s=0,u=1;u<r.length&&r[u]<=o;u+=2)s=u;s&&r.splice(0,s+1)}},t}(Wc);function Qc(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!0!==t){if(!1!==t){var i=new ac({next:function(){i.unsubscribe(),e()}});return xc(t.apply(void 0,Nu([],Ru(n)))).subscribe(i)}}else e()}function Yc(e,t,n){var r,i,a,o,s=!1;return e&&"object"===(0,C.A)(e)?(r=e.bufferSize,o=void 0===r?1/0:r,i=e.windowTime,t=void 0===i?1/0:i,s=void 0!==(a=e.refCount)&&a,n=e.scheduler):o=null!=e?e:1/0,function(e){void 0===e&&(e={});var t=e.connector,n=void 0===t?function(){return new Wc}:t,r=e.resetOnError,i=void 0===r||r,a=e.resetOnComplete,o=void 0===a||a,s=e.resetOnRefCountZero,u=void 0===s||s;return function(e){var t,r,a,s=0,c=!1,l=!1,d=function(){null==r||r.unsubscribe(),r=void 0},p=function(){d(),t=a=void 0,c=l=!1},f=function(){var e=t;p(),null==e||e.unsubscribe()};return Tu((function(e,h){s++,l||c||d();var m=a=null!=a?a:n();h.add((function(){0!=--s||l||c||(r=Qc(f,u))})),m.subscribe(h),!t&&s>0&&(t=new ac({next:function(e){return m.next(e)},error:function(e){l=!0,d(),r=Qc(p,i,e),m.error(e)},complete:function(){c=!0,d(),r=Qc(p,o),m.complete()}}),xc(e).subscribe(t))}))(e)}}({connector:function(){return new Gc(o,t,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}function Xc(e,t){if(!e)throw t||(t=""),new Error("ensureNotFalsy() is falsy: "+t);return e}var Zc={bufferSize:1,refCount:!0};function Jc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise((function(t){return setTimeout(t,e)}))}var el=Promise.resolve(!0),tl=Promise.resolve(!1),nl=Promise.resolve(null),rl=Promise.resolve();function il(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e4;return"function"==typeof requestIdleCallback?new Promise((function(t){requestIdleCallback((function(){return t()}),{timeout:e})})):Jc(0)}var al=rl;function ol(e){var t=e.split("-"),n="RxDB";return t.forEach((function(e){n+=su(e)})),n+="Plugin",new Error("You are using a function which must be overwritten by a plugin.\n        You should either prevent the usage of this function or add the plugin via:\n            import { "+n+" } from 'rxdb/plugins/"+e+"';\n            addRxPlugin("+n+");\n        ")}function sl(e,t){var n=e.get(t);if(void 0===n)throw new Error("missing value from map "+t);return n}function ul(e,t,n,r){var i=e.get(t);return void 0===i?(i=n(),e.set(t,i)):r&&r(i),i}function cl(e){switch(e.operation){case"INSERT":return{operation:e.operation,id:e.documentId,doc:e.documentData,previous:null};case"UPDATE":return{operation:e.operation,id:e.documentId,doc:zs.deepFreezeWhenDevMode(e.documentData),previous:e.previousDocumentData?e.previousDocumentData:"UNKNOWN"};case"DELETE":return{operation:e.operation,id:e.documentId,doc:null,previous:e.previousDocumentData}}}var ll=new Map;function dl(e){return ul(ll,e,(function(){for(var t=new Array(e.events.length),n=e.events,r=e.collectionName,i=e.isLocal,a=zs.deepFreezeWhenDevMode,o=0;o<n.length;o++){var s=n[o];t[o]={documentId:s.documentId,collectionName:r,isLocal:i,operation:s.operation,documentData:a(s.documentData),previousDocumentData:a(s.previousDocumentData)}}return t}))}__webpack_require__(73772);var pl=0;function fl(){var e=Date.now();(e+=.01)<=pl&&(e=pl+.01);var t=parseFloat(e.toFixed(2));return pl=t,t}function hl(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if("-"===r)return parseInt(t,10);t+=r}throw new Error("malformatted revision: "+e)}function ml(e,t){return(t?hl(t._rev)+1:1)+"-"+e}function vl(e,t){return gl.apply(this,arguments)}function gl(){return(gl=(0,o.A)(s.mark((function e(t,n){var r,i;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.findDocumentsById([n],!1);case 2:if(r=e.sent,!(i=r[0])){e.next=8;break}return e.abrupt("return",i);case 8:return e.abrupt("return",void 0);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yl(e,t,n,r){if(r)throw 409===r.status?$s("CONFLICT",{collection:e.name,id:t,writeError:r,data:n}):422===r.status?$s("VD2",{collection:e.name,id:t,writeError:r,data:n}):r}function bl(e,t,n,r,i,a,o){for(var s,u=!!e.schema.attachments,c=[],l=[],d=[],p={id:ou(10),events:[],checkpoint:null,context:i},f=p.events,h=[],m=[],v=[],g=n.size>0,y=r.length,b=function(){var e,i=r[w],p=i.document,y=i.previous,b=p[t],D=p._deleted,A=y&&y._deleted,E=void 0;if(g&&(E=n.get(b)),E){var k=E._rev;if(!y||y&&k!==y._rev){var C={isError:!0,status:409,documentId:b,writeRow:i,documentInDb:E};return d.push(C),1}var x=u?wl(i):i;u&&(D?y&&Object.keys(y._attachments).forEach((function(e){m.push({documentId:b,attachmentId:e,digest:Xc(y)._attachments[e].digest})})):(Object.entries(p._attachments).find((function(t){var n=(0,_.A)(t,2),r=n[0],a=n[1];return(y?y._attachments[r]:void 0)||a.data||(e={documentId:b,documentInDb:E,isError:!0,status:510,writeRow:i,attachmentId:r}),!0})),e||Object.entries(p._attachments).forEach((function(e){var t=(0,_.A)(e,2),n=t[0],r=t[1],i=y?y._attachments[n]:void 0;if(i){var a=x.document._attachments[n].digest;r.data&&i.digest!==a&&v.push({documentId:b,attachmentId:n,attachmentData:r,digest:r.digest})}else h.push({documentId:b,attachmentId:n,attachmentData:r,digest:r.digest})})))),e?d.push(e):(u?(l.push(wl(x)),o&&o(p)):(l.push(x),o&&o(p)),s=x);var S=null,T=null,F=null;if(A&&!D)F="INSERT",S=u?Dl(p):p;else if(!y||A||D){if(!D)throw $s("SNH",{args:{writeRow:i}});F="DELETE",S=Xc(p),T=y}else F="UPDATE",S=u?Dl(p):p,T=y;var O={documentId:b,documentData:S,previousDocumentData:T,operation:F};f.push(O)}else{var P=!!D;if(u&&Object.entries(p._attachments).forEach((function(t){var n=(0,_.A)(t,2),r=n[0],a=n[1];a.data?h.push({documentId:b,attachmentId:r,attachmentData:a,digest:a.digest}):(e={documentId:b,isError:!0,status:510,writeRow:i,attachmentId:r},d.push(e))})),e||(u?(c.push(wl(i)),a&&a(p)):(c.push(i),a&&a(p)),s=i),!P){var I={documentId:b,operation:"INSERT",documentData:u?Dl(p):p,previousDocumentData:u&&y?Dl(y):y};f.push(I)}}},w=0;w<y;w++)b();return{bulkInsertDocs:c,bulkUpdateDocs:l,newestRow:s,errors:d,eventBulk:p,attachmentsAdd:h,attachmentsRemove:m,attachmentsUpdate:v}}function wl(e){return{previous:e.previous,document:Dl(e.document)}}function Dl(e){if(!e._attachments||0===Object.keys(e._attachments).length)return e;var t=Ss(e);return t._attachments={},Object.entries(e._attachments).forEach((function(e){var n=(0,_.A)(e,2),r=n[0],i=n[1];t._attachments[r]=function(e){var t,n=e.data;return n?{length:(t=n,atob(t).length),digest:e.digest,type:e.type}:e}(i)})),t}function Al(e){return Object.assign({},e,{_meta:Ss(e._meta)})}function El(e,t,n){zs.deepFreezeWhenDevMode(n);var r=Du(t.schema.primaryKey),i={originalStorageInstance:t,schema:t.schema,internals:t.internals,collectionName:t.collectionName,databaseName:t.databaseName,options:t.options,bulkWrite:function(n,i){var a=this;return(0,o.A)(s.mark((function o(){var u,c,l,d,p,f,h,m,v,g,y,b,w,D,A;return s.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:for(u=e.token,c=new Array(n.length),l=fl(),d=0;d<n.length;d++)p=n[d],(f=Al(p.document))._meta.lwt=l,h=p.previous,f._rev=ml(u,h),c[d]={document:f,previous:h};return tu("preStorageWrite",{storageInstance:a.originalStorageInstance,rows:c}),o.next=7,e.lockedRun((function(){return t.bulkWrite(c,i)}));case 7:if(m=o.sent,v={error:[]},_l.set(v,c),g=0===m.error.length?[]:m.error.filter((function(e){return!(409!==e.status||e.writeRow.previous||e.writeRow.document._deleted||!Xc(e.documentInDb)._deleted)||(v.error.push(e),!1)})),!(g.length>0)){o.next=22;break}return y=new Set,b=g.map((function(t){return y.add(t.documentId),{previous:t.documentInDb,document:Object.assign({},t.writeRow.document,{_rev:ml(e.token,t.documentInDb)})}})),o.next=16,e.lockedRun((function(){return t.bulkWrite(b,i)}));case 16:return w=o.sent,Ls(v.error,w.error),D=Sl(r,c,v,y),A=Sl(r,b,w),Ls(D,A),o.abrupt("return",v);case 22:return o.abrupt("return",v);case 23:case"end":return o.stop()}}),o)})))()},query:function(n){return e.lockedRun((function(){return t.query(n)}))},count:function(n){return e.lockedRun((function(){return t.count(n)}))},findDocumentsById:function(n,r){return e.lockedRun((function(){return t.findDocumentsById(n,r)}))},getAttachmentData:function(n,r,i){return e.lockedRun((function(){return t.getAttachmentData(n,r,i)}))},getChangedDocumentsSince:t.getChangedDocumentsSince?function(n,r){return e.lockedRun((function(){return t.getChangedDocumentsSince(Xc(n),r)}))}:void 0,cleanup:function(n){return e.lockedRun((function(){return t.cleanup(n)}))},remove:function(){return e.storageInstances.delete(i),e.lockedRun((function(){return t.remove()}))},close:function(){return e.storageInstances.delete(i),e.lockedRun((function(){return t.close()}))},changeStream:function(){return t.changeStream()}};return e.storageInstances.add(i),i}function kl(e){if(e.schema.keyCompression)throw $s("UT5",{args:{params:e}});if(Cl(e.schema))throw $s("UT6",{args:{params:e}});if(e.schema.attachments&&e.schema.attachments.compression)throw $s("UT7",{args:{params:e}})}function Cl(e){return!!(e.encrypted&&e.encrypted.length>0||e.attachments&&e.attachments.encrypted)}var _l=new WeakMap,xl=new WeakMap;function Sl(e,t,n,r){return ul(xl,n,(function(){var i=[],a=_l.get(n);if(a||(a=t),n.error.length>0||r){for(var o=r||new Set,s=0;s<n.error.length;s++){var u=n.error[s];o.add(u.documentId)}for(var c=0;c<a.length;c++){var l=a[c].document;o.has(l[e])||i.push(Dl(l))}}else{i.length=t.length-n.error.length;for(var d=0;d<a.length;d++){var p=a[d].document;i[d]=Dl(p)}}return i}))}function Tl(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Fl(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fl(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Fl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Ol=function(){function e(e,t,n,r){this.queueByDocId=new Map,this.isRunning=!1,this.storageInstance=e,this.primaryPath=t,this.preWrite=n,this.postWrite=r}var t=e.prototype;return t.addWrite=function(e,t){var n=this,r=e[this.primaryPath],i=ul(this.queueByDocId,r,(function(){return[]}));return new Promise((function(r,a){var o={lastKnownDocumentState:e,modifier:t,resolve:r,reject:a};Xc(i).push(o),n.triggerRun()}))},t.triggerRun=function(){var e=(0,o.A)(s.mark((function e(){var t,n,r,i=this;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==this.isRunning&&0!==this.queueByDocId.size){e.next=2;break}return e.abrupt("return");case 2:return this.isRunning=!0,t=[],n=this.queueByDocId,this.queueByDocId=new Map,e.next=8,Promise.all(Array.from(n.entries()).map(function(){var e=(0,o.A)(s.mark((function e(n){var r,a,o,u,c,l,d;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=(0,_.A)(n,2),r[0],a=r[1],o=Il(a.map((function(e){return e.lastKnownDocumentState}))),u=o,c=Tl(a),e.prev=4,c.s();case 6:if((l=c.n()).done){e.next=21;break}return d=l.value,e.prev=8,e.next=11,d.modifier(Fs(u));case 11:u=e.sent,e.next=19;break;case 14:e.prev=14,e.t0=e.catch(8),d.reject(e.t0),d.reject=function(){},d.resolve=function(){};case 19:e.next=6;break;case 21:e.next=26;break;case 23:e.prev=23,e.t1=e.catch(4),c.e(e.t1);case 26:return e.prev=26,c.f(),e.finish(26);case 29:return e.prev=29,e.next=32,i.preWrite(u,o);case 32:e.next=38;break;case 34:return e.prev=34,e.t2=e.catch(29),a.forEach((function(t){return t.reject(e.t2)})),e.abrupt("return");case 38:t.push({previous:o,document:u});case 39:case"end":return e.stop()}}),e,null,[[4,23,26,29],[8,14],[29,34]])})));return function(t){return e.apply(this,arguments)}}()));case 8:if(!(t.length>0)){e.next=14;break}return e.next=11,this.storageInstance.bulkWrite(t,"incremental-write");case 11:e.t0=e.sent,e.next=15;break;case 14:e.t0={error:[]};case 15:return r=e.t0,e.next=18,Promise.all(Sl(this.primaryPath,t,r).map((function(e){var t=e[i.primaryPath];i.postWrite(e),sl(n,t).forEach((function(t){return t.resolve(e)}))})));case 18:return r.error.forEach((function(e){var t=e.documentId,r=sl(n,t),a=Qs(e);if(a){var o=ul(i.queueByDocId,t,(function(){return[]}));r.reverse().forEach((function(e){e.lastKnownDocumentState=Xc(a.documentInDb),Xc(o).unshift(e)}))}else{var s=Xs(e);r.forEach((function(e){return e.reject(s)}))}})),this.isRunning=!1,e.abrupt("return",this.triggerRun());case 21:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),e}();function Pl(e){var t=function(){var t=(0,o.A)(s.mark((function t(n){var r,i,a;return s.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(r=bu(n))._deleted=n._deleted,t.next=4,e(r);case 4:return i=t.sent,void 0===(a=Object.assign({},i,{_meta:n._meta,_attachments:n._attachments,_rev:n._rev,_deleted:void 0!==i._deleted?i._deleted:n._deleted}))._deleted&&(a._deleted=!1),t.abrupt("return",a);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return t}function Il(e){var t=e[0],n=hl(t._rev);return e.forEach((function(e){var r=hl(e._rev);r>n&&(t=e,n=r)})),t}var Bl={get primaryPath(){if(this.isInstanceOfRxDocument)return this.collection.schema.primaryPath},get primary(){var e=this;if(e.isInstanceOfRxDocument)return e._data[e.primaryPath]},get revision(){if(this.isInstanceOfRxDocument)return this._data._rev},get deleted$(){if(this.isInstanceOfRxDocument)return this.$.pipe(dc((function(e){return e._data._deleted})))},get deleted$$(){var e=this;return e.collection.database.getReactivityFactory().fromObservable(e.deleted$,e.getLatest().deleted,e.collection.database)},get deleted(){if(this.isInstanceOfRxDocument)return this._data._deleted},getLatest:function(){var e=this.collection._docCache.getLatestDocumentData(this.primary);return this.collection._docCache.getCachedRxDocument(e)},get $(){var e=this,t=this.primary;return this.collection.eventBulks$.pipe(pc((function(e){return!e.isLocal})),dc((function(e){return e.events.find((function(e){return e.documentId===t}))})),pc((function(e){return!!e})),dc((function(e){return(t=Xc(e)).documentData?t.documentData:t.previousDocumentData;var t})),zc(this.collection._docCache.getLatestDocumentData(t)),Vc((function(e,t){return e._rev===t._rev})),dc((function(t){return e.collection._docCache.getCachedRxDocument(t)})),Yc(Zc))},get $$(){var e=this;return e.collection.database.getReactivityFactory().fromObservable(e.$,e.getLatest()._data,e.collection.database)},get$:function(e){if(zs.isDevMode()){if(e.includes(".item."))throw $s("DOC1",{path:e});if(e===this.primaryPath)throw $s("DOC2");if(this.collection.schema.finalFields.includes(e))throw $s("DOC3",{path:e});if(!wu(this.collection.schema.jsonSchema,e))throw $s("DOC4",{path:e})}return this.$.pipe(dc((function(t){return gu(t,e)})),Vc())},get$$:function(e){var t=this.get$(e);return this.collection.database.getReactivityFactory().fromObservable(t,this.getLatest().get(e),this.collection.database)},populate:function(e){var t=wu(this.collection.schema.jsonSchema,e),n=this.get(e);if(!n)return nl;if(!t)throw $s("DOC5",{path:e});if(!t.ref)throw $s("DOC6",{path:e,schemaObj:t});var r=this.collection.database.collections[t.ref];if(!r)throw $s("DOC7",{ref:t.ref,path:e,schemaObj:t});return"array"===t.type?r.findByIds(n).exec().then((function(e){var t=e.values();return Array.from(t)})):r.findOne(n).exec()},get:function(e){return Nl(this,e)},toJSON:function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0])return zs.deepFreezeWhenDevMode(this._data);var e=Ss(this._data);return delete e._rev,delete e._attachments,delete e._deleted,delete e._meta,zs.deepFreezeWhenDevMode(e)},toMutableJSON:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Fs(this.toJSON(e))},update:function(e){throw ol("update")},incrementalUpdate:function(e){throw ol("update")},updateCRDT:function(e){throw ol("crdt")},putAttachment:function(){throw ol("attachments")},getAttachment:function(){throw ol("attachments")},allAttachments:function(){throw ol("attachments")},get allAttachments$(){throw ol("attachments")},modify:function(e,t){var n=this;return(0,o.A)(s.mark((function t(){var r,i;return s.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n._data,t.next=3,Pl(e)(r);case 3:return i=t.sent,t.abrupt("return",n._saveData(i,r));case 5:case"end":return t.stop()}}),t)})))()},incrementalModify:function(e,t){var n=this;return this.collection.incrementalWriteQueue.addWrite(this._data,Pl(e)).then((function(e){return n.collection._docCache.getCachedRxDocument(e)}))},patch:function(e){var t=this._data,n=Fs(t);return Object.entries(e).forEach((function(e){var t=(0,_.A)(e,2),r=t[0],i=t[1];n[r]=i})),this._saveData(n,t)},incrementalPatch:function(e){return this.incrementalModify((function(t){return Object.entries(e).forEach((function(e){var n=(0,_.A)(e,2),r=n[0],i=n[1];t[r]=i})),t}))},_saveData:function(e,t){var n=this;return(0,o.A)(s.mark((function r(){var i,a,o;return s.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e=Ss(e),!n._data._deleted){r.next=3;break}throw $s("DOC11",{id:n.primary,document:n});case 3:return r.next=5,Rl(n.collection,e,t);case 5:return i=[{previous:t,document:e}],r.next=8,n.collection.storageInstance.bulkWrite(i,"rx-document-save-data");case 8:return a=r.sent,o=a.error[0],yl(n.collection,n.primary,e,o),r.next=13,n.collection._runHooks("post","save",e,n);case 13:return r.abrupt("return",n.collection._docCache.getCachedRxDocument(Sl(n.collection.schema.primaryPath,i,a)[0]));case 14:case"end":return r.stop()}}),r)})))()},remove:function(){var e=this;return(0,o.A)(s.mark((function t(){var n,r;return s.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.deleted){t.next=2;break}return t.abrupt("return",Promise.reject($s("DOC13",{document:e,id:e.primary})));case 2:return t.next=4,e.collection.bulkRemove([e]);case 4:return(n=t.sent).error.length>0&&(r=n.error[0],yl(e.collection,e.primary,e._data,r)),t.abrupt("return",n.success[0]);case 7:case"end":return t.stop()}}),t)})))()},incrementalRemove:function(){var e=this;return this.incrementalModify(function(){var t=(0,o.A)(s.mark((function t(n){return s.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.collection._runHooks("pre","remove",n,e);case 2:return n._deleted=!0,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).then(function(){var t=(0,o.A)(s.mark((function t(n){return s.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.collection._runHooks("post","remove",n._data,n);case 2:return t.abrupt("return",n);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},close:function(){throw $s("DOC14")}};function Rl(e,t,n){return t._meta=Object.assign({},n._meta,t._meta),zs.isDevMode()&&e.schema.validateChange(n,t),e._runHooks("pre","save",t,n)}function Nl(e,t){return ul(e._propertyCache,t,(function(){var n=gu(e._data,t);if("object"!==(0,C.A)(n)||null===n||Array.isArray(n))return zs.deepFreezeWhenDevMode(n);var r=new Proxy(Ss(n),{get:function(n,r){if("string"!=typeof r)return n[r];var i=r.charAt(r.length-1);if("$"===i){if(r.endsWith("$$")){var a=r.slice(0,-2);return e.get$$(uu(t+"."+a))}var o=r.slice(0,-1);return e.get$(uu(t+"."+o))}if("_"===i){var s=r.slice(0,-1);return e.populate(uu(t+"."+s))}var u=n[r];return"number"==typeof u||"string"==typeof u||"boolean"==typeof u?u:Nl(e,uu(t+"."+r))}});return r}))}var Ml=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return Ou(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){var e=this,t=e.hasError,n=e.thrownError,r=e._value;if(t)throw n;return this._throwIfClosed(),r},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(Wc),Ll=new yc((function(e){return e.complete()}));function jl(e,t,n,r){var i,a=e.length,o=a-1,s=0;if(0===a)return e.push(t),0;for(;r<=o;)n(i=e[s=r+(o-r>>1)],t)<=0?r=s+1:o=s-1;return n(i,t)<=0&&s++,e.splice(s,0,t),s}var Ul=function(e){e.previousResults.unshift(e.changeEvent.doc),e.keyDocumentMap&&e.keyDocumentMap.set(e.changeEvent.id,e.changeEvent.doc)},zl=function(e){e.previousResults.push(e.changeEvent.doc),e.keyDocumentMap&&e.keyDocumentMap.set(e.changeEvent.id,e.changeEvent.doc)},Vl=function(e){var t=e.previousResults.shift();e.keyDocumentMap&&t&&e.keyDocumentMap.delete(t[e.queryParams.primaryKey])},ql=function(e){var t=e.previousResults.pop();e.keyDocumentMap&&t&&e.keyDocumentMap.delete(t[e.queryParams.primaryKey])},Hl=function(e){e.keyDocumentMap&&e.keyDocumentMap.delete(e.changeEvent.id);for(var t=e.queryParams.primaryKey,n=e.previousResults,r=0;r<n.length;r++){if(n[r][t]===e.changeEvent.id){n.splice(r,1);break}}},Wl=function(e){var t=e.changeEvent.id,n=e.changeEvent.doc;if(e.keyDocumentMap){if(e.keyDocumentMap.has(t))return;e.keyDocumentMap.set(t,n)}else{var r=e.previousResults.find((function(n){return n[e.queryParams.primaryKey]===t}));if(r)return}jl(e.previousResults,n,e.queryParams.sortComparator,0)},Kl=["doNothing","insertFirst","insertLast","removeFirstItem","removeLastItem","removeFirstInsertLast","removeLastInsertFirst","removeFirstInsertFirst","removeLastInsertLast","removeExisting","replaceExisting","alwaysWrong","insertAtSortPosition","removeExistingAndInsertAtSortPosition","runFullQueryAgain","unknownAction"],$l={doNothing:function(e){},insertFirst:Ul,insertLast:zl,removeFirstItem:Vl,removeLastItem:ql,removeFirstInsertLast:function(e){Vl(e),zl(e)},removeLastInsertFirst:function(e){ql(e),Ul(e)},removeFirstInsertFirst:function(e){Vl(e),Ul(e)},removeLastInsertLast:function(e){ql(e),zl(e)},removeExisting:Hl,replaceExisting:function(e){for(var t=e.changeEvent.doc,n=e.queryParams.primaryKey,r=e.previousResults,i=0;i<r.length;i++){if(r[i][n]===e.changeEvent.id){r[i]=t,e.keyDocumentMap&&e.keyDocumentMap.set(e.changeEvent.id,t);break}}},alwaysWrong:function(e){var t={_id:"wrongHuman"+(new Date).getTime()};e.previousResults.length=0,e.previousResults.push(t),e.keyDocumentMap&&(e.keyDocumentMap.clear(),e.keyDocumentMap.set(t._id,t))},insertAtSortPosition:Wl,removeExistingAndInsertAtSortPosition:function(e){Hl(e),Wl(e)},runFullQueryAgain:function(e){throw new Error("Action runFullQueryAgain must be implemented by yourself")},unknownAction:function(e){throw new Error("Action unknownAction should never be called")}};function Gl(e){return e?"1":"0"}!function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6,t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<e;r++)t+=n.charAt(Math.floor(62*Math.random()))}(4);function Ql(e,t){for(var n=[],r=0,i=e.length;r<i;r+=t)n.push(e.substring(r,r+t));return n}function Yl(e){return e.charCodeAt(0)-40}function Xl(e){return e[e.length-1]}function Zl(e,t,n){if(Array.isArray(t)&&(t=t.join(".")),!function(e){var t=(0,C.A)(e);return null!==e&&("object"===t||"function"===t)}(e)||"string"!=typeof t)return void 0===n?e:n;var r=t.split(".");if(0===r.length)return n;for(var i=0;i<r.length;i++){var a=r[i];if(null==(e=Jl(e,a)?i===r.length-1?void 0:null:e[a])){if(i!==r.length-1)return n;break}}return void 0===e?n:e}function Jl(e,t){if("number"!=typeof t&&Array.isArray(e)){var n=Number.parseInt(t,10);return Number.isInteger(n)&&e[n]===e[t]}return!1}var ed=function(e){return!!e.queryParams.limit},td=function(e){return 1===e.queryParams.limit},nd=function(e){return!!(e.queryParams.skip&&e.queryParams.skip>0)},rd=function(e){return"DELETE"===e.changeEvent.operation},id=function(e){return"INSERT"===e.changeEvent.operation},ad=function(e){return"UPDATE"===e.changeEvent.operation},od=function(e){return ed(e)&&e.previousResults.length>=e.queryParams.limit},sd=function(e){var t=e.queryParams.sortFields,n=e.changeEvent.previous,r=e.changeEvent.doc;if(!r)return!1;if(!n)return!0;for(var i=0;i<t.length;i++){var a=t[i];if(Zl(n,a)!==Zl(r,a))return!0}return!1},ud=function(e){var t=e.changeEvent.id;if(e.keyDocumentMap)return e.keyDocumentMap.has(t);for(var n=e.queryParams.primaryKey,r=e.previousResults,i=0;i<r.length;i++){if(r[i][n]===t)return!0}return!1},cd=function(e){var t=e.previousResults[0];return!(!t||t[e.queryParams.primaryKey]!==e.changeEvent.id)},ld=function(e){var t=Xl(e.previousResults);return!(!t||t[e.queryParams.primaryKey]!==e.changeEvent.id)},dd=function(e){var t=e.changeEvent.previous;if(!t)return!1;var n=e.previousResults[0];return!!n&&(n[e.queryParams.primaryKey]===e.changeEvent.id||e.queryParams.sortComparator(t,n)<0)},pd=function(e){var t=e.changeEvent.previous;if(!t)return!1;var n=Xl(e.previousResults);return!!n&&(n[e.queryParams.primaryKey]===e.changeEvent.id||e.queryParams.sortComparator(t,n)>0)},fd=function(e){var t=e.changeEvent.doc;if(!t)return!1;var n=e.previousResults[0];return!!n&&(n[e.queryParams.primaryKey]===e.changeEvent.id||e.queryParams.sortComparator(t,n)<0)},hd=function(e){var t=e.changeEvent.doc;if(!t)return!1;var n=Xl(e.previousResults);return!!n&&(n[e.queryParams.primaryKey]===e.changeEvent.id||e.queryParams.sortComparator(t,n)>0)},md=function(e){var t=e.changeEvent.previous;return!!t&&e.queryParams.queryMatcher(t)},vd=function(e){var t=e.changeEvent.doc;return!!t&&e.queryParams.queryMatcher(t)},gd=function(e){return 0===e.previousResults.length},yd={0:id,1:ad,2:rd,3:ed,4:td,5:nd,6:gd,7:od,8:cd,9:ld,10:sd,11:ud,12:dd,13:pd,14:fd,15:hd,16:md,17:vd};var bd;function wd(){return bd||(bd=function(e){for(var t=new Map,n=2+2*parseInt(e.charAt(0)+e.charAt(1),10),r=Ql(e.substring(2,n),2),i=0;i<r.length;i++){var a=r[i],o=a.charAt(0),s=Yl(a.charAt(1));t.set(o,s)}for(var u=Ql(e.substring(n,e.length-3),4),c=0;c<u.length;c++){var l=u[c],d=l.charAt(0),p=l.charAt(1),f=l.charAt(2),h=Yl(l.charAt(3));if(!t.has(p))throw new Error("missing node with id "+p);if(!t.has(f))throw new Error("missing node with id "+f);var m={l:h,0:t.get(p),1:t.get(f)};t.set(d,m)}var v=e.slice(-3),g=v.charAt(0),y=v.charAt(1);return{l:Yl(v.charAt(2)),0:t.get(g),1:t.get(y)}}("14a1b,c+d2e5f0g/h.i4j*k-l)m(n6oeh6pnm6qen6ril6snh6tin6ubo9vce9wmh9xns9yne9zmi9{cm9|ad9}cp9~aq9ae9bf9bq9cg9ck9cn9nd9np9nq9nf9ng9nm9nk9mr9ms9mt9mj9mk9ml9mn9mc8{8}888mn88m8m4z4w4z44444m4v7yn77~777n777m77m7m7m5m5m55m555m55m5m552|2u2222x222|222222n2n222n2/an/bn/cn///////////,cn,,,,,,,ac0bc00000000000m-m-----------3333(((++++11*m*.")),bd}var Dd=function(e){return function(e,t,n){for(var r=e,i=e.l;;){if("number"==typeof(r=r[Gl(t[i](n))])||"string"==typeof r)return r;i=r.l}}(wd(),yd,e)};function Ad(e){var t=Dd(e);return Kl[t]}__webpack_require__(16034),__webpack_require__(44435);function Ed(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return kd(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kd(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function kd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Cd=String.fromCharCode(65535),_d=Number.MIN_SAFE_INTEGER;function xd(e,t){var n=t.selector,r=e.indexes?e.indexes.slice(0):[];t.index&&(r=[t.index]);var i=!!t.sort.find((function(e){return"desc"===Object.values(e)[0]})),a=new Set;Object.keys(n).forEach((function(t){var r=wu(e,t);r&&"boolean"===r.type&&Object.prototype.hasOwnProperty.call(n[t],"$eq")&&a.add(t)}));var o,s=t.sort.map((function(e){return Object.keys(e)[0]})).filter((function(e){return!a.has(e)})).join(","),u=-1;if(r.forEach((function(e){var r=!0,c=!0,l=e.map((function(e){var t=n[e],i=t?Object.keys(t):[],a={};t&&i.length?i.forEach((function(e){if(Sd.has(e)){var n=function(e,t){switch(e){case"$eq":return{startKey:t,endKey:t,inclusiveEnd:!0,inclusiveStart:!0};case"$lte":return{endKey:t,inclusiveEnd:!0};case"$gte":return{startKey:t,inclusiveStart:!0};case"$lt":return{endKey:t,inclusiveEnd:!1};case"$gt":return{startKey:t,inclusiveStart:!1};default:throw new Error("SNH")}}(e,t[e]);a=Object.assign(a,n)}})):a={startKey:c?_d:Cd,endKey:r?Cd:_d,inclusiveStart:!0,inclusiveEnd:!0};return void 0===a.startKey&&(a.startKey=_d),void 0===a.endKey&&(a.endKey=Cd),void 0===a.inclusiveStart&&(a.inclusiveStart=!0),void 0===a.inclusiveEnd&&(a.inclusiveEnd=!0),c&&!a.inclusiveStart&&(c=!1),r&&!a.inclusiveEnd&&(r=!1),a})),d=l.map((function(e){return e.startKey})),p=l.map((function(e){return e.endKey})),f={index:e,startKeys:d,endKeys:p,inclusiveEnd:r,inclusiveStart:c,sortSatisfiedByIndex:!i&&s===e.filter((function(e){return!a.has(e)})).join(","),selectorSatisfiedByIndex:Od(e,t.selector,d,p)},h=function(e,t,n){var r=0,i=function(e){e>0&&(r+=e)},a=10,o=Ms(n.startKeys,(function(e){return e!==_d&&e!==Cd}));i(o*a);var s=Ms(n.startKeys,(function(e){return e!==Cd&&e!==_d}));i(s*a);var u=Ms(n.startKeys,(function(e,t){return e===n.endKeys[t]}));i(u*a*1.5);var c=n.sortSatisfiedByIndex?5:0;return i(c),r}(0,0,f);(h>=u||t.index)&&(u=h,o=f)})),!o)throw $s("SNH",{query:t});return o}var Sd=new Set(["$eq","$gt","$gte","$lt","$lte"]),Td=new Set(["$eq","$gt","$gte"]),Fd=new Set(["$eq","$lt","$lte"]);function Od(e,t,n,r){var i=Object.entries(t).find((function(t){var n=(0,_.A)(t,2),r=n[0],i=n[1];return!e.includes(r)||Object.entries(i).find((function(e){var t=(0,_.A)(e,2),n=t[0];t[1];return!Sd.has(n)}))}));if(i)return!1;if(t.$and||t.$or)return!1;for(var a=[],o=new Set,s=0,u=Object.entries(t);s<u.length;s++){var c=(0,_.A)(u[s],2),l=c[0],d=c[1];if(!e.includes(l))return!1;var p=Object.keys(d).filter((function(e){return Td.has(e)}));if(p.length>1)return!1;var f=p[0];if(f&&o.add(l),"$eq"!==f){if(a.length>0)return!1;a.push(f)}}for(var h=[],m=new Set,v=0,g=Object.entries(t);v<g.length;v++){var y=(0,_.A)(g[v],2),b=y[0],w=y[1];if(!e.includes(b))return!1;var D=Object.keys(w).filter((function(e){return Fd.has(e)}));if(D.length>1)return!1;var A=D[0];if(A&&m.add(b),"$eq"!==A){if(h.length>0)return!1;h.push(A)}}var E,k=0,C=Ed(e);try{for(C.s();!(E=C.n()).done;){for(var x=E.value,S=0,T=[o,m];S<T.length;S++){var F=T[S];if(!F.has(x)&&F.size>0)return!1;F.delete(x)}if(n[k]!==r[k]&&o.size>0&&m.size>0)return!1;k++}}catch(e){C.e(e)}finally{C.f()}return!0}var Pd=__webpack_require__(20423);function Id(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Id(Object(n),!0).forEach((function(t){(0,h.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Id(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rd(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Nd(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nd(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Nd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Md(e,t,n,r){var i=(0,Pd.A)((0,S.A)(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function Ld(e,t,n){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,n)}function jd(e,t){return e.get(Ud(e,t))}function Ud(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function zd(e,t,n){return t=(0,S.A)(t),(0,x.A)(e,Vd()?Reflect.construct(t,n||[],(0,S.A)(e).constructor):t.apply(e,n))}function Vd(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Vd=function(){return!!e})()}var qd=function(e){function t(){return(0,p.A)(this,t),zd(this,t,arguments)}return(0,T.A)(t,e),(0,f.A)(t)}((0,F.A)(Error)),Hd=Symbol("missing"),Wd=Object.freeze(new Error("mingo: cycle detected while processing object/array")),Kd=function(e){for(var t=Cp(e),n=0,r=t.length;r;)n=(n<<5)-n^t.charCodeAt(--r);return n>>>0},$d=function(e){return"object"!==(0,C.A)(e)&&"function"!=typeof e||null===e},Gd=function(e){return $d(e)||lp(e)||dp(e)},Qd={undefined:1,"null":2,number:3,string:4,symbol:5,object:6,array:7,arraybuffer:8,"boolean":9,date:10,regexp:11,"function":12},Yd=function(e,t){e===Hd&&(e=void 0),t===Hd&&(t=void 0);var n=[e,t].map((function(e){return Qd[rp(e)]||0})),r=(0,_.A)(n,2),i=r[0],a=r[1];return i!==a?i-a:kp(e,t)?0:e<t?-1:e>t?1:0},Xd=new WeakMap,Zd=new WeakMap,Jd=new WeakMap,ep=function(e){function t(){var e;return(0,p.A)(this,t),Ld(e=zd(this,t),Xd,Kd),Ld(e,Zd,new Map),Ld(e,Jd,(function(t){var n=jd(Xd,e).call(e,t);return[(jd(Zd,e).get(n)||[]).find((function(e){return kp(e,t)})),n]})),e}return(0,T.A)(t,e),(0,f.A)(t,[{key:"clear",value:function(){Md(t,"clear",this,3)([]),jd(Zd,this).clear()}},{key:"delete",value:function(e){if($d(e))return Md(t,"delete",this,3)([e]);var n=jd(Jd,this).call(this,e),r=(0,_.A)(n,2),i=r[0],a=r[1];return!!Md(t,"delete",this,3)([i])&&(jd(Zd,this).set(a,jd(Zd,this).get(a).filter((function(e){return!kp(e,i)}))),!0)}},{key:"get",value:function(e){if($d(e))return Md(t,"get",this,3)([e]);var n=jd(Jd,this).call(this,e),r=(0,_.A)(n,2),i=r[0];r[1];return Md(t,"get",this,3)([i])}},{key:"has",value:function(e){if($d(e))return Md(t,"has",this,3)([e]);var n=jd(Jd,this).call(this,e),r=(0,_.A)(n,2),i=r[0];r[1];return Md(t,"has",this,3)([i])}},{key:"set",value:function(e,n){if($d(e))return Md(t,"set",this,3)([e,n]);var r=jd(Jd,this).call(this,e),i=(0,_.A)(r,2),a=i[0],o=i[1];if(Md(t,"has",this,3)([a]))Md(t,"set",this,3)([a,n]);else{Md(t,"set",this,3)([e,n]);var s=jd(Zd,this).get(o)||[];s.push(e),jd(Zd,this).set(o,s)}return this}},{key:"size",get:function(){return Md(t,"size",this,1)}}],[{key:"init",value:function(e){var n=new t;return e&&function(e,t,n){e.set(Ud(e,t),n)}(Xd,n,e),n}}])}((0,F.A)(Map));function tp(e,t){if(!e)throw new qd(t)}var np=Object.keys(Qd).reduce((function(e,t){return e["[object "+t[0].toUpperCase()+t.substring(1)+"]"]=t,e}),{});function rp(e){var t,n=Object.prototype.toString.call(e);return"[object Object]"===n?(null==e||null===(t=e.constructor)||void 0===t||null===(t=t.name)||void 0===t?void 0:t.toLowerCase())||"object":np[n]||n.substring(8,n.length-1).toLowerCase()}var ip=function(e){return"boolean"==typeof e},ap=function(e){return"string"==typeof e},op=function(e){return!isNaN(e)&&"number"==typeof e},sp=Array.isArray;function up(e){if(!e)return!1;var t=Object.getPrototypeOf(e);return(t===Object.prototype||null===t)&&"object"===rp(e)}var cp=function(e){return!$d(e)},lp=function(e){return e instanceof Date},dp=function(e){return e instanceof RegExp},pp=function(e){return"function"==typeof e},fp=function(e){return null==e},hp=function(e){return!!e||(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&""===e},mp=function(e){return fp(e)||ap(e)&&!e||sp(e)&&0===e.length||up(e)&&0===Object.keys(e).length},vp=function(e){return sp(e)?e:[e]},gp=function(e,t){return!!e&&Object.prototype.hasOwnProperty.call(e,t)},yp=function(e,t){if(fp(e)||ip(e)||op(e)||ap(e))return e;if(lp(e))return new Date(e);if(dp(e))return new RegExp(e);if(function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView(e)}(e))return new(0,e.constructor)(e);if(t instanceof Set||(t=new Set),t.has(e))throw Wd;t.add(e);try{if(sp(e)){for(var n=new Array(e.length),r=0;r<e.length;r++)n[r]=yp(e[r],t);return n}if(up(e)){for(var i={},a=0,o=Object.keys(e);a<o.length;a++){var s=o[a];i[s]=yp(e[s],t)}return i}}finally{t.delete(e)}return e},bp=function(e){return e===Hd};function wp(e,t){if(bp(e)||fp(e))return t;if(bp(t)||fp(t))return e;if($d(e)||$d(t))return t;sp(e)&&sp(t)&&tp(e.length===t.length,"arrays must be of equal length to merge.");for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];e[i]=wp(e[i],t[i])}return e}function Dp(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Kd,n=[ep.init(t),ep.init(t)];if(0===e.length)return[];if(e.some((function(e){return 0===e.length})))return[];if(1===e.length)return(0,z.A)(e);e[e.length-1].forEach((function(e){return n[0].set(e,!0)}));for(var r=e.length-2;r>-1;r--){if(e[r].forEach((function(e){n[0].has(e)&&n[1].set(e,!0)})),0===n[1].size)return[];n.reverse(),n[1].clear()}return Array.from(n[0].keys())}function Ap(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=new Array;return function e(t,r){for(var i=0,a=t.length;i<a;i++)sp(t[i])&&(r>0||r<0)?e(t[i],Math.max(-1,r-1)):n.push(t[i])}(e,t),n}function Ep(e){for(;e;){if(Object.getOwnPropertyNames(e).includes("toString"))return e.toString!==Object.prototype.toString;e=Object.getPrototypeOf(e)}return!1}function kp(e,t){if(e===t||Object.is(e,t))return!0;if(null===e||null===t)return!1;if((0,C.A)(e)!==(0,C.A)(t))return!1;if("object"!==(0,C.A)(e))return!1;if(e.constructor!==t.constructor)return!1;if(e instanceof Date)return+e==+t;if(e instanceof RegExp)return e.toString()===t.toString();var n=e.constructor;if(n===Array||n===Object){var r=Object.keys(e).sort(),i=Object.keys(t).sort();if(r.length!==i.length)return!1;for(var a=0,o=r[a];a<r.length;o=r[++a])if(o!==i[a]||!kp(e[o],t[o]))return!1;return!0}return Ep(e)&&e.toString()===t.toString()}var Cp=function(e,t){if(null===e)return"null";if(void 0===e)return"undefined";if(ap(e)||op(e)||ip(e))return JSON.stringify(e);if(lp(e))return e.toISOString();if(dp(e)||function(e){return"symbol"===(0,C.A)(e)}(e)||pp(e))return e.toString();if(t instanceof Set||(t=new Set),t.has(e))throw Wd;try{if(t.add(e),sp(e))return"["+e.map((function(e){return Cp(e,t)})).join(",")+"]";if(up(e))return"{"+Object.keys(e).sort().map((function(n){return"".concat(n,":").concat(Cp(e[n],t))})).join()+"}";var n=Ep(e)?e.toString():Cp(function(e){for(var t={};e;){var n,r=Rd(Object.getOwnPropertyNames(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;i in t||(t[i]=e[i])}}catch(e){r.e(e)}finally{r.f()}e=Object.getPrototypeOf(e)}return t}(e),t);return rp(e)+"("+n+")"}finally{t.delete(e)}};function _p(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Kd;if(e.length<1)return new Map;for(var r=new Map,i=new Map,a=function(){var a=e[o],s=t(a,o),u=function(e,t){return fp(e)?null:(t=t||Kd)(e)}(s,n);if(null===u)i.has(null)?i.get(null).push(a):i.set(null,[a]);else{var c=r.has(u)?r.get(u).find((function(e){return kp(e,s)})):null;fp(c)?(i.set(s,[a]),r.has(u)?r.get(u).push(s):r.set(u,[s])):i.get(c).push(a)}},o=0;o<e.length;o++)a();return i}function xp(e,t){return cp(e)?e[t]:void 0}function Sp(e,t,n){var r=0;var i=Gd(e)?e:function e(t,n){for(var i=t,a=function(){var t=n[o];if(null===/^\d+$/.exec(t)&&sp(i)){if(0===o&&r>0)return 0;r+=1;var a=n.slice(o);return i=i.reduce((function(t,n){var r=e(n,a);return void 0!==r&&t.push(r),t}),[]),0}if(void 0===(i=xp(i,t)))return 0},o=0;o<n.length&&0!==a();o++);return i}(e,t.split("."));return sp(i)&&null!=n&&n.unwrapArray?function(e,t){if(t<1)return e;for(;t--&&1===e.length;)e=e[0];return e}(i,r):i}function Tp(e,t,n){var r=t.indexOf("."),i=-1==r?t:t.substring(0,r),a=t.substring(r+1),o=-1!=r;if(sp(e)){var s=/^\d+$/.test(i),u=s&&null!=n&&n.preserveIndex?(0,z.A)(e):[];if(s){var c=parseInt(i),l=xp(e,c);o&&(l=Tp(l,a,n)),null!=n&&n.preserveIndex?u[c]=l:u.push(l)}else{var d,p=Rd(e);try{for(p.s();!(d=p.n()).done;){var f=Tp(d.value,t,n);null!=n&&n.preserveMissing?u.push(null==f?Hd:f):(null!=f||null!=n&&n.preserveIndex)&&u.push(f)}}catch(e){p.e(e)}finally{p.f()}}return u}var h=null!=n&&n.preserveKeys?Bd({},e):{},m=xp(e,i);if(o&&(m=Tp(m,a,n)),void 0!==m)return h[i]=m,h}function Fp(e){if(sp(e))for(var t=e.length-1;t>=0;t--)e[t]===Hd?e.splice(t,1):Fp(e[t]);else if(up(e))for(var n in e)gp(e,n)&&Fp(e[n])}var Op=/^\d+$/;function Pp(e,t,n,r){var i=t.split("."),a=i[0],o=i.slice(1).join(".");if(1===i.length)(up(e)||sp(e)&&Op.test(a))&&n(e,a);else{null!=r&&r.buildGraph&&fp(e[a])&&(e[a]={});var s=e[a];if(!s)return;var u=!!(i.length>1&&Op.test(i[1]));sp(s)&&null!=r&&r.descendArray&&!u?s.forEach((function(e){return Pp(e,o,n,r)})):Pp(s,o,n,r)}}function Ip(e,t,n){Pp(e,t,(function(e,t){e[t]=pp(n)?n(e[t]):n}),{buildGraph:!0})}function Bp(e,t,n){Pp(e,t,(function(e,t){if(sp(e)){if(/^\d+$/.test(t))e.splice(parseInt(t),1);else if(n&&n.descendArray){var r,i=Rd(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;up(a)&&delete a[t]}}catch(e){i.e(e)}finally{i.f()}}}else up(e)&&delete e[t]}),n)}var Rp=/^\$[a-zA-Z0-9_]+$/;function Np(e){return Rp.test(e)}function Mp(e){if(Gd(e))return dp(e)?{$regex:e}:{$eq:e};if(cp(e)){if(!Object.keys(e).some(Np))return{$eq:e};if(gp(e,"$regex")){var t=Bd({},e);return t.$regex=new RegExp(e.$regex,e.$options),delete t.$options,t}}return e}function Lp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lp(Object(n),!0).forEach((function(t){(0,h.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Up(e,t,n){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,n)}function zp(e,t){return e.get(qp(e,t))}function Vp(e,t,n){return e.set(qp(e,t),n),n}function qp(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}var Hp=function(e){return e[e.CLONE_OFF=0]="CLONE_OFF",e[e.CLONE_INPUT=1]="CLONE_INPUT",e[e.CLONE_OUTPUT=2]="CLONE_OUTPUT",e[e.CLONE_ALL=3]="CLONE_ALL",e}(Hp||{}),Wp=new WeakMap,Kp=new WeakMap,$p=new WeakMap,Gp=function(){function e(t,n,r){(0,p.A)(this,e),Up(this,Wp,void 0),Up(this,Kp,void 0),Up(this,$p,void 0),Vp(Wp,this,t),this.update(n,r)}return(0,f.A)(e,[{key:"update",value:function(e,t){var n;Vp(Kp,this,e);var r=Object.assign({},null===(n=zp($p,this))||void 0===n?void 0:n.variables,null==t?void 0:t.variables);return Object.keys(r).length?Vp($p,this,jp(jp({},t),{},{variables:r})):Vp($p,this,null!=t?t:{}),this}},{key:"getOptions",value:function(){return Object.freeze(jp(jp({},zp(Wp,this)),{},{context:Zp.from(zp(Wp,this).context)}))}},{key:"root",get:function(){return zp(Kp,this)}},{key:"local",get:function(){return zp($p,this)}},{key:"idKey",get:function(){return zp(Wp,this).idKey}},{key:"collation",get:function(){var e;return null===(e=zp(Wp,this))||void 0===e?void 0:e.collation}},{key:"processingMode",get:function(){var e;return(null===(e=zp(Wp,this))||void 0===e?void 0:e.processingMode)||0}},{key:"useStrictMode",get:function(){var e;return null===(e=zp(Wp,this))||void 0===e?void 0:e.useStrictMode}},{key:"scriptEnabled",get:function(){var e;return null===(e=zp(Wp,this))||void 0===e?void 0:e.scriptEnabled}},{key:"useGlobalContext",get:function(){var e;return null===(e=zp(Wp,this))||void 0===e?void 0:e.useGlobalContext}},{key:"hashFunction",get:function(){var e;return null===(e=zp(Wp,this))||void 0===e?void 0:e.hashFunction}},{key:"collectionResolver",get:function(){var e;return null===(e=zp(Wp,this))||void 0===e?void 0:e.collectionResolver}},{key:"jsonSchemaValidator",get:function(){var e;return null===(e=zp(Wp,this))||void 0===e?void 0:e.jsonSchemaValidator}},{key:"variables",get:function(){var e;return null===(e=zp(Wp,this))||void 0===e?void 0:e.variables}},{key:"context",get:function(){var e;return null===(e=zp(Wp,this))||void 0===e?void 0:e.context}}],[{key:"init",value:function(t,n,r){var i,a;return t instanceof e?new e(zp(Wp,t),null!==(i=t.root)&&void 0!==i?i:n,jp(jp(jp({},zp($p,t)),r),{},{variables:Object.assign({},null===(a=zp($p,t))||void 0===a?void 0:a.variables,null==r?void 0:r.variables)})):new e(t,n,r)}}])}();function Qp(e){return e instanceof Gp?e.getOptions():Object.freeze(jp(jp({idKey:"_id",scriptEnabled:!0,useStrictMode:!0,useGlobalContext:!0,processingMode:0},e),{},{context:null!=e&&e.context?Zp.from(null==e?void 0:e.context):Zp.init()}))}var Yp=function(e){return e.ACCUMULATOR="accumulator",e.EXPRESSION="expression",e.PIPELINE="pipeline",e.PROJECTION="projection",e.QUERY="query",e.WINDOW="window",e}(Yp||{}),Xp=new WeakMap,Zp=function(){function e(){(0,p.A)(this,e),Up(this,Xp,new Map)}return(0,f.A)(e,[{key:"addOperators",value:function(e,t){zp(Xp,this).has(e)||zp(Xp,this).set(e,{});for(var n=0,r=Object.entries(t);n<r.length;n++){var i=(0,_.A)(r[n],2),a=i[0],o=i[1];this.getOperator(e,a)||(zp(Xp,this).get(e)[a]=o)}return this}},{key:"getOperator",value:function(e,t){var n,r;return null!==(r=(null!==(n=zp(Xp,this).get(e))&&void 0!==n?n:{})[t])&&void 0!==r?r:null}},{key:"addAccumulatorOps",value:function(e){return this.addOperators("accumulator",e)}},{key:"addExpressionOps",value:function(e){return this.addOperators("expression",e)}},{key:"addQueryOps",value:function(e){return this.addOperators("query",e)}},{key:"addPipelineOps",value:function(e){return this.addOperators("pipeline",e)}},{key:"addProjectionOps",value:function(e){return this.addOperators("projection",e)}},{key:"addWindowOps",value:function(e){return this.addOperators("window",e)}}],[{key:"init",value:function(){return new e}},{key:"from",value:function(t){var n=e.init();return fp(t)||zp(Xp,t).forEach((function(e,t){return n.addOperators(t,e)})),n}}])}(),Jp=Zp.init();function ef(e,t){for(var n=0,r=Object.entries(t);n<r.length;n++){var i=(0,_.A)(r[n],2),a=i[0],o=i[1];tp(pp(o)&&Np(a),"'".concat(a,"' is not a valid operator"));var s=tf(e,a,null);tp(!s||o===s,"".concat(a," already exists for '").concat(e,"' operators. Cannot change operator function once registered."))}switch(e){case"accumulator":Jp.addAccumulatorOps(t);break;case"expression":Jp.addExpressionOps(t);break;case"pipeline":Jp.addPipelineOps(t);break;case"projection":Jp.addProjectionOps(t);break;case"query":Jp.addQueryOps(t);break;case"window":Jp.addWindowOps(t)}}function tf(e,t,n){var r=n||{},i=r.context,a=r.useGlobalContext,o=i?i.getOperator(e,t):null;return!o&&a?Jp.getOperator(e,t):o}function nf(e,t,n,r){var i=Gp.init(r,e);return n&&Np(n)?of(e,t,n,i):af(e,t,i)}var rf=["$$ROOT","$$CURRENT","$$REMOVE","$$NOW"];function af(e,t,n){if(ap(t)&&t.length>0&&"$"===t[0]){if(sf.includes(t))return t;var r=n.root,i=t.split(".");if(rf.includes(i[0])){switch(i[0]){case"$$ROOT":break;case"$$CURRENT":r=e;break;case"$$REMOVE":r=void 0;break;case"$$NOW":r=new Date}t=t.slice(i[0].length+1)}else if("$$"===i[0].slice(0,2)){var a;r=Object.assign({},n.variables,{"this":e},null==n||null===(a=n.local)||void 0===a?void 0:a.variables);var o=i[0].slice(2);tp(gp(r,o),"Use of undefined variable: ".concat(o)),t=t.slice(2)}else t=t.slice(1);return""===t?r:Sp(r,t)}if(sp(t))return t.map((function(t){return af(e,t,n)}));if(up(t)){for(var s={},u=Object.entries(t),c=0,l=u;c<l.length;c++){var d=(0,_.A)(l[c],2),p=d[0],f=d[1];if(Np(p))return tp(1==u.length,"expression must have single operator."),of(e,f,p,n);s[p]=af(e,f,n)}return s}return t}function of(e,t,n,r){var i=tf("expression",n,r);if(i)return i(e,t,r);var a=tf("accumulator",n,r);return tp(!!a,"accumulator '".concat(n,"' is not registered.")),sp(e)||(e=af(e,t,r),t=null),tp(sp(e),"arguments must resolve to array for ".concat(n,".")),a(e,t,r)}var sf=["$$KEEP","$$PRUNE","$$DESCEND"];function uf(e,t,n){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,n)}function cf(e,t){return e.get(df(e,t))}function lf(e,t,n){return e.set(df(e,t),n),n}function df(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function pf(e){return e instanceof yf?e:new yf(e)}function ff(e,t){var n=e.slice(t+1);e.splice(t),Array.prototype.push.apply(e,n)}var hf=new Error;var mf=new WeakMap,vf=new WeakMap,gf=new WeakMap,yf=function(){return(0,f.A)((function e(t){var n;if((0,p.A)(this,e),uf(this,mf,void 0),uf(this,vf,void 0),uf(this,gf,void 0),lf(mf,this,[]),lf(vf,this,[]),this.isDone=!1,t instanceof Function&&(t={next:t}),function(e){return!!e&&"object"===(0,C.A)(e)&&(null==e?void 0:e.next)instanceof Function}(t)){var r=t;n=function(){var e=r.next();if(e.done)throw hf;return e.value}}else if(sp(t)){var i=t,a=i.length,o=0;n=function(){if(o<a)return i[o++];throw hf}}else if(!(t instanceof Function))throw new qd("Lazy must be initialized with an array, generator, or function.");lf(gf,this,function(e,t,n){var r=!1,i=-1,a=0;return function(o){try{e:for(;!r;){var s=e();i++;for(var u=-1,c=t.length,l=!1;++u<c;){var d=t[u];switch(d.action){case 0:s=d.func(s,i);break;case 1:if(!d.func(s,i))continue e;break;case 2:--d.count,d.count||(l=!0);break;case 3:--d.count,d.count||ff(t,u);continue e;default:break e}}if(r=l,!o)return{value:s,done:!1};n[a++]=s}}catch(e){if(e!==hf)throw e}return{done:r=!0}}}(n,cf(mf,this),cf(vf,this)))}),[{key:"push",value:function(e,t){return"function"==typeof t?cf(mf,this).push({action:e,func:t}):"number"==typeof t&&cf(mf,this).push({action:e,count:t}),this}},{key:"next",value:function(){return cf(gf,this).call(this)}},{key:"map",value:function(e){return this.push(0,e)}},{key:"filter",value:function(e){return this.push(1,e)}},{key:"take",value:function(e){return e>0?this.push(2,e):this}},{key:"drop",value:function(e){return e>0?this.push(3,e):this}},{key:"transform",value:function(e){var t,n=this;return pf((function(){return t||(t=pf(e(n.value()))),t.next()}))}},{key:"value",value:function(){return this.isDone||(this.isDone=cf(gf,this).call(this,!0).done),cf(vf,this)}},{key:"each",value:function(e){for(;;){var t=this.next();if(t.done)break;if(!1===e(t.value))return!1}return!0}},{key:"reduce",value:function(e,t){var n=this.next();for(void 0!==t||n.done||(t=n.value,n=this.next());!n.done;)t=e(t,n.value),n=this.next();return t}},{key:"size",value:function(){return this.reduce((function(e,t){return++e}),0)}},{key:Symbol.iterator,value:function(){return this}}])}();__webpack_require__(27413);function bf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var wf=function(e,t,n){return mp(t)?e:(Af(t,n),e.map(Df(t,Gp.init(n))))};function Df(e,t){for(var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=t.idKey,i=Object.keys(e),a=new Array,o=new Array,s={},u=function(){var r=l[c],i=e[r];if(op(i)||ip(i))i?o.push(r):a.push(r);else if(sp(i))s[r]=function(e){return i.map((function(n){var r;return null!==(r=nf(e,n,null,t.update(e)))&&void 0!==r?r:null}))};else if(up(i)){var u=Object.keys(i),d=1==u.length?u[0]:"",p=tf("projection",d,t);if(p)"$slice"===d&&!vp(i[d]).every(op)?s[r]=function(e){return nf(e,i,r,t.update(e))}:s[r]=function(e){return p(e,i[d],r,t.update(e))};else Np(d)?s[r]=function(e){return nf(e,i[d],d,t)}:(Af(i,t),s[r]=function(e){if(!gp(e,r))return nf(e,i,null,t);n&&t.update(e);var a=Sp(e,r),o=Df(i,t,!1);return sp(a)?a.map(o):up(a)?o(a):o(e)})}else s[r]=ap(i)&&"$"===i[0]?function(e){return nf(e,i,r,t)}:function(e){return i}},c=0,l=i;c<l.length;c++)u();var d=Object.keys(s),p=a.includes(r);if(n&&p&&1===a.length&&!o.length&&!d.length)return function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bf(Object(n),!0).forEach((function(t){(0,h.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return delete t[r],t};var f=n&&!p&&!o.includes(r),m={preserveMissing:!0};return function(e){var t={};if(a.length&&!o.length){wp(t,e);for(var n=0,i=a;n<i.length;n++){Bp(t,i[n],{descendArray:!0})}}for(var u=0,c=o;u<c.length;u++){var l;wp(t,null!==(l=Tp(e,c[u],m))&&void 0!==l?l:{})}o.length&&Fp(t);for(var p=0,h=d;p<h.length;p++){var v=h[p],g=s[v](e);void 0===g?Bp(t,v,{descendArray:!0}):Ip(t,v,g)}return f&&gp(e,r)&&(t[r]=Sp(e,r)),t}}function Af(e,t){for(var n=!1,r=!1,i=0,a=Object.entries(e);i<a.length;i++){var o=(0,_.A)(a[i],2),s=o[0],u=o[1];tp(!s.startsWith("$"),"Field names may not start with '$'."),tp(!s.endsWith(".$"),"Positional projection operator '$' is not supported."),s!==(null==t?void 0:t.idKey)&&(0===u||!1===u?n=!0:1!==u&&!0!==u||(r=!0),tp(!(n&&r),"Projection cannot have a mix of inclusion and exclusion."))}}__webpack_require__(64743);function Ef(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return kf(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kf(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function kf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Cf=function(e,t,n){if(mp(t)||!up(t))return e;var r=Yd,i=n.collation;return up(i)&&ap(i.locale)&&(r=function(e){var t={sensitivity:_f[e.strength||3],caseFirst:"off"===e.caseFirst?"false":e.caseFirst||"false",numeric:e.numericOrdering||!1,ignorePunctuation:"shifted"===e.alternate};!0===(e.caseLevel||!1)&&("base"===t.sensitivity&&(t.sensitivity="case"),"accent"===t.sensitivity&&(t.sensitivity="variant"));var n=new Intl.Collator(e.locale,t);return function(e,t){if(!ap(e)||!ap(t))return Yd(e,t);var r=n.compare(e,t);return r<0?-1:r>0?1:0}}(i)),e.transform((function(e){var i,a=Ef(Object.keys(t).reverse());try{var o=function(){var a=i.value,o=_p(e,(function(e){return Sp(e,a)}),n.hashFunction),s=Array.from(o.keys()).sort(r);-1===t[a]&&s.reverse();var u,c=0,l=Ef(s);try{for(l.s();!(u=l.n()).done;){var d,p=u.value,f=Ef(o.get(p));try{for(f.s();!(d=f.n()).done;){var h=d.value;e[c++]=h}}catch(e){f.e(e)}finally{f.f()}}}catch(e){l.e(e)}finally{l.f()}tp(c==e.length,"bug: counter must match collection size.")};for(a.s();!(i=a.n()).done;)o()}catch(e){a.e(e)}finally{a.f()}return e}))},_f={1:"base",2:"accent",3:"variant"};function xf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xf(Object(n),!0).forEach((function(t){(0,h.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tf(e,t,n){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,n)}function Ff(e,t){return e.get(Pf(e,t))}function Of(e,t,n){return e.set(Pf(e,t),n),n}function Pf(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}var If={$sort:Cf,$skip:function(e,t,n){return e.drop(t)},$limit:function(e,t,n){return e.take(t)}},Bf=new WeakMap,Rf=new WeakMap,Nf=new WeakMap,Mf=new WeakMap,Lf=new WeakMap,jf=new WeakMap,Uf=new WeakMap,zf=function(){return(0,f.A)((function e(t,n,r,i){(0,p.A)(this,e),Tf(this,Bf,void 0),Tf(this,Rf,void 0),Tf(this,Nf,void 0),Tf(this,Mf,void 0),Tf(this,Lf,{}),Tf(this,jf,null),Tf(this,Uf,[]),Of(Bf,this,t),Of(Rf,this,n),Of(Nf,this,r),Of(Mf,this,i)}),[{key:"fetch",value:function(){if(Ff(jf,this))return Ff(jf,this);Of(jf,this,pf(Ff(Bf,this)).filter(Ff(Rf,this)));var e=Ff(Mf,this).processingMode;e&Hp.CLONE_INPUT&&Ff(jf,this).map(yp);for(var t=0,n=["$sort","$skip","$limit"];t<n.length;t++){var r=n[t];gp(Ff(Lf,this),r)&&Of(jf,this,If[r](Ff(jf,this),Ff(Lf,this)[r],Ff(Mf,this)))}return Object.keys(Ff(Nf,this)).length&&Of(jf,this,wf(Ff(jf,this),Ff(Nf,this),Ff(Mf,this))),e&Hp.CLONE_OUTPUT&&Ff(jf,this).map(yp),Ff(jf,this)}},{key:"fetchAll",value:function(){var e=pf((0,z.A)(Ff(Uf,this)));return Of(Uf,this,[]),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=0;return pf((function(){for(;r<t.length;){var e=t[r].next();if(!e.done)return e;r++}return{done:!0}}))}(e,this.fetch())}},{key:"all",value:function(){return this.fetchAll().value()}},{key:"count",value:function(){return this.all().length}},{key:"skip",value:function(e){return Ff(Lf,this).$skip=e,this}},{key:"limit",value:function(e){return Ff(Lf,this).$limit=e,this}},{key:"sort",value:function(e){return Ff(Lf,this).$sort=e,this}},{key:"collation",value:function(e){return Of(Mf,this,Sf(Sf({},Ff(Mf,this)),{},{collation:e})),this}},{key:"next",value:function(){if(Ff(Uf,this).length>0)return Ff(Uf,this).pop();var e=this.fetch().next();return e.done?void 0:e.value}},{key:"hasNext",value:function(){if(Ff(Uf,this).length>0)return!0;var e=this.fetch().next();return!e.done&&(Ff(Uf,this).push(e.value),!0)}},{key:"map",value:function(e){return this.all().map(e)}},{key:"forEach",value:function(e){this.all().forEach(e)}},{key:Symbol.iterator,value:function(){return this.fetchAll()}}])}();function Vf(e,t,n){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,n)}function qf(e,t){return e.get(Wf(e,t))}function Hf(e,t,n){return e.set(Wf(e,t),n),n}function Wf(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}var Kf=new Set(Array.from(["$and","$or","$nor","$expr","$jsonSchema"])),$f=new WeakMap,Gf=new WeakMap,Qf=new WeakMap,Yf=function(){return(0,f.A)((function e(t,n){(0,p.A)(this,e),Vf(this,$f,void 0),Vf(this,Gf,void 0),Vf(this,Qf,void 0),Hf(Qf,this,yp(t)),Hf(Gf,this,Qp(n)),Hf($f,this,[]),this.compile()}),[{key:"compile",value:function(){tp(up(qf(Qf,this)),"query criteria must be an object: ".concat(JSON.stringify(qf(Qf,this))));for(var e={},t=0,n=Object.entries(qf(Qf,this));t<n.length;t++){var r=(0,_.A)(n[t],2),i=r[0],a=r[1];if("$where"===i)tp(qf(Gf,this).scriptEnabled,"$where operator requires 'scriptEnabled' option to be true."),Object.assign(e,{field:i,expr:a});else if(Kf.has(i))this.processOperator(i,i,a);else{tp(!Np(i),"unknown top level operator: ".concat(i));for(var o=0,s=Object.entries(Mp(a));o<s.length;o++){var u=(0,_.A)(s[o],2),c=u[0],l=u[1];this.processOperator(i,c,l)}}e.field&&this.processOperator(e.field,e.field,e.expr)}}},{key:"processOperator",value:function(e,t,n){var r=tf("query",t,qf(Gf,this));tp(!!r,"unknown query operator ".concat(t)),qf($f,this).push(r(e,n,qf(Gf,this)))}},{key:"test",value:function(e){return qf($f,this).every((function(t){return t(e)}))}},{key:"find",value:function(e,t){var n=this;return new zf(e,(function(e){return n.test(e)}),t||{},qf(Gf,this))}},{key:"remove",value:function(e){var t=this;return e.reduce((function(e,n){return t.test(n)||e.push(n),e}),[])}}])}();__webpack_require__(11367);Object.freeze({R5:[10,16,25,40,63],R10:[100,125,160,200,250,315,400,500,630,800],R20:[100,112,125,140,160,180,200,224,250,280,315,355,400,450,500,560,630,710,800,900],R40:[100,106,112,118,125,132,140,150,160,170,180,190,200,212,224,236,250,265,280,300,315,355,375,400,425,450,475,500,530,560,600,630,670,710,750,800,850,900,950],R80:[103,109,115,122,128,136,145,155,165,175,185,195,206,218,230,243,258,272,290,307,325,345,365,387,412,437,462,487,515,545,575,615,650,690,730,775,825,875,925,975],"1-2-5":[10,20,50],E6:[10,15,22,33,47,68],E12:[10,12,15,18,22,27,33,39,47,56,68,82],E24:[10,11,12,13,15,16,18,20,22,24,27,30,33,36,39,43,47,51,56,62,68,75,82,91],E48:[100,105,110,115,121,127,133,140,147,154,162,169,178,187,196,205,215,226,237,249,261,274,287,301,316,332,348,365,383,402,422,442,464,487,511,536,562,590,619,649,681,715,750,787,825,866,909,953],E96:[100,102,105,107,110,113,115,118,121,124,127,130,133,137,140,143,147,150,154,158,162,165,169,174,178,182,187,191,196,200,205,210,215,221,226,232,237,243,249,255,261,267,274,280,287,294,301,309,316,324,332,340,348,357,365,374,383,392,402,412,422,432,442,453,464,475,487,499,511,523,536,549,562,576,590,604,619,634,649,665,681,698,715,732,750,768,787,806,825,845,866,887,909,931,953,976],E192:[100,101,102,104,105,106,107,109,110,111,113,114,115,117,118,120,121,123,124,126,127,129,130,132,133,135,137,138,140,142,143,145,147,149,150,152,154,156,158,160,162,164,165,167,169,172,174,176,178,180,182,184,187,189,191,193,196,198,200,203,205,208,210,213,215,218,221,223,226,229,232,234,237,240,243,246,249,252,255,258,261,264,267,271,274,277,280,284,287,291,294,298,301,305,309,312,316,320,324,328,332,336,340,344,348,352,357,361,365,370,374,379,383,388,392,397,402,407,412,417,422,427,432,437,442,448,453,459,464,470,475,481,487,493,499,505,511,517,523,530,536,542,549,556,562,569,576,583,590,597,604,612,619,626,634,642,649,657,665,673,681,690,698,706,715,723,732,741,750,759,768,777,787,796,806,816,825,835,845,856,866,876,887,898,909,920,931,942,953,965,976,988]});new Set(["monday","mon","tuesday","tue","wednesday","wed","thursday","thu","friday","fri","saturday","sat","sunday","sun"]),Object.freeze({mon:1,tue:2,wed:3,thu:4,fri:5,sat:6,sun:7}),Object.freeze({"%Y":{name:"year",padding:4,re:/([0-9]{4})/},"%G":{name:"year",padding:4,re:/([0-9]{4})/},"%m":{name:"month",padding:2,re:/(0[1-9]|1[012])/},"%d":{name:"day",padding:2,re:/(0[1-9]|[12][0-9]|3[01])/},"%H":{name:"hour",padding:2,re:/([01][0-9]|2[0-3])/},"%M":{name:"minute",padding:2,re:/([0-5][0-9])/},"%S":{name:"second",padding:2,re:/([0-5][0-9]|60)/},"%L":{name:"millisecond",padding:3,re:/([0-9]{3})/},"%u":{name:"weekday",padding:1,re:/([1-7])/},"%U":{name:"week",padding:2,re:/([1-4][0-9]?|5[0-3]?)/},"%V":{name:"isoWeek",padding:2,re:/([1-4][0-9]?|5[0-3]?)/},"%z":{name:"timezone",padding:2,re:/(([+-][01][0-9]|2[0-3]):?([0-5][0-9])?)/},"%Z":{name:"minuteOffset",padding:3,re:/([+-][0-9]{3})/}});Object.freeze({});__webpack_require__(75376);function Xf(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Zf(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zf(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Zf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Jf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function eh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jf(Object(n),!0).forEach((function(t){(0,h.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function th(e){return function(t,n,r){var i={unwrapArray:!0},a=Math.max(1,t.split(".").length-1);return function(o){var s=Sp(o,t,i);return e(s,n,eh(eh({},r),{},{depth:a}))}}}function nh(e){return function(t,n,r){var i=nf(t,n,null,r);return e.apply(void 0,(0,z.A)(i))}}function rh(e,t,n){return!!kp(e,t)||(!(!fp(e)||!fp(t))||!!sp(e)&&(e.some((function(e){return kp(e,t)}))||Ap(e,null==n?void 0:n.depth).some((function(e){return kp(e,t)}))))}function ih(e,t,n){return!rh(e,t,n)}function ah(e,t,n){return fp(e)?t.some((function(e){return null===e})):Dp([vp(e),t],null==n?void 0:n.hashFunction).length>0}function oh(e,t,n){return!ah(e,t,n)}function sh(e,t,n){return vh(e,t,(function(e,t){return Yd(e,t)<0}))}function uh(e,t,n){return vh(e,t,(function(e,t){return Yd(e,t)<=0}))}function ch(e,t,n){return vh(e,t,(function(e,t){return Yd(e,t)>0}))}function lh(e,t,n){return vh(e,t,(function(e,t){return Yd(e,t)>=0}))}function dh(e){return Np(e)&&-1===["$and","$or","$nor"].indexOf(e)}function ph(e,t,n){if(sp(e)&&!mp(e)){var r=function(e){return e},i=t;Object.keys(t).every(dh)&&(i={temp:t},r=function(e){return{temp:e}});for(var a=new Yf(i,n),o=0,s=e.length;o<s;o++)if(a.test(r(e[o])))return!0}return!1}var fh=function(e){return null===e},hh={array:sp,"boolean":ip,bool:ip,date:lp,number:op,"int":op,"long":op,"double":op,decimal:op,"null":fh,object:up,regexp:dp,regex:dp,string:ap,undefined:fp,"function":function(e){throw new qd("unsupported type key `function`.")},1:op,2:ap,3:up,4:sp,6:fp,8:ip,9:lp,10:fh,11:dp,16:op,18:op,19:op};function mh(e,t,n){var r=hh[t];return!!r&&r(e)}function vh(e,t,n){return vp(e).some((function(e){return rp(e)===rp(t)&&n(e,t)}))}nh(oh);var gh=function(e,t){return function(n,r,i){tp(sp(r),"".concat(e,": expression must be an array."));var a=nf(n,r,null,i);return a.some(fp)?null:(tp(a.every(op),"".concat(e,": expression must evalue to array of numbers.")),t(a))}},yh=(gh("$bitAnd",(function(e){return e.reduce((function(e,t){return e&t}),-1)})),gh("$bitOr",(function(e){return e.reduce((function(e,t){return e|t}),0)})),gh("$bitXor",(function(e){return e.reduce((function(e,t){return e^t}),0)})),function(e,t,n){var r=nf(e,t,null,n);return hp(r,n.useStrictMode)&&r.every((function(e){return hp(e,n.useStrictMode)}))}),bh=function(e,t,n){var r=vp(t);return 0!=r.length&&(tp(1==r.length,"Expression $not takes exactly 1 argument"),!nf(e,r[0],null,n))},wh=function(e,t,n){var r=nf(e,t,null,n),i=n.useStrictMode;return hp(r,i)&&r.some((function(e){return hp(e,i)}))},Dh=function(e,t,n){var r=nf(e,t,null,n);return tp(sp(r)&&2==r.length,"$cmp: expression must resolve to array of size 2."),Yd(r[0],r[1])},Ah=nh(rh),Eh=nh(ch),kh=nh(lh),Ch=nh(sh),_h=nh(uh),xh=nh(ih);function Sh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Th(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sh(Object(n),!0).forEach((function(t){(0,h.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Fh=function(e,t){var n={};return e.split("").forEach((function(e,r){return n[e]=t*(r+1)})),n};Th(Th(Th({},Fh("ABCDEFGHIKLM",1)),Fh("NOPQRSTUVWXY",-1)),{},{Z:0});__webpack_require__(23860);var Oh={undefined:null,"null":null,NaN:NaN,Infinity:new Error,"-Infinity":new Error};function Ph(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Oh,n=Object.assign({},Oh,t),r=new Set(Object.keys(n));return function(t,i,a){var o=nf(t,i,null,a);if(r.has("".concat(o))){var s=n["".concat(o)];if(s instanceof Error)throw new qd("cannot apply $".concat(e.name," to -inf, value must in (-inf,inf)"));return s}return e(o)}}Ph(Math.acos,{Infinity:1/0,0:new Error}),__webpack_require__(93153),Ph(Math.acosh,{Infinity:1/0,0:new Error}),Ph(Math.asin),__webpack_require__(82326),Ph(Math.asinh,{Infinity:1/0,"-Infinity":-1/0}),Ph(Math.atan),__webpack_require__(36389),Ph(Math.atanh,{1:1/0,"-1":-1/0}),Ph(Math.cos),__webpack_require__(77762),Ph(Math.cosh,{"-Infinity":1/0,Infinity:1/0});var Ih=Math.PI/180,Bh=(Ph((function(e){return e*Ih}),{Infinity:1/0,"-Infinity":1/0}),180/Math.PI);Ph((function(e){return e*Bh}),{Infinity:1/0,"-Infinity":-1/0}),Ph(Math.sin),__webpack_require__(78553),Ph(Math.sinh,{"-Infinity":-1/0,Infinity:1/0}),Ph(Math.tan),__webpack_require__(64601);Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER;var Rh=function(e,t,n){tp(sp(t),"Invalid expression: $and expects value to be an Array.");var r=t.map((function(e){return new Yf(e,n)}));return function(e){return r.every((function(t){return t.test(e)}))}},Nh=function(e,t,n){tp(sp(t),"Invalid expression. $or expects value to be an Array");var r=t.map((function(e){return new Yf(e,n)}));return function(e){return r.some((function(t){return t.test(e)}))}},Mh=function(e,t,n){tp(sp(t),"Invalid expression. $nor expects value to be an array.");var r=Nh("$or",t,n);return function(e){return!r(e)}},Lh=function(e,t,n){var r={};r[e]=Mp(t);var i=new Yf(r,n);return function(e){return!i.test(e)}},jh=th(rh),Uh=th(ch),zh=th(lh),Vh=th(ah),qh=th(sh),Hh=th(uh),Wh=th(ih),Kh=th(oh);function $h(e,t,n){return function(e){return nf(e,t,null,n)}}function Gh(e,t,n){if(null==n||!n.jsonSchemaValidator)throw new qd("Missing option 'jsonSchemaValidator'. Configure to use '$jsonSchema' operator.");var r=null==n?void 0:n.jsonSchemaValidator(t);return function(e){return r(e)}}var Qh=th((function(e,t,n){return vp(e).some((function(e){return 2===t.length&&e%t[0]===t[1]}))})),Yh=th((function(e,t,n){var r=vp(e),i=function(e){return ap(e)&&hp(t.exec(e),null==n?void 0:n.useStrictMode)};return r.some(i)||Ap(r,1).some(i)}));function Xh(e,t,n){tp(n.scriptEnabled,"$where operator requires 'scriptEnabled' option to be true");var r=t;return tp(pp(r),"$where only accepts a Function object"),function(e){return hp(r.call(e),null==n?void 0:n.useStrictMode)}}var Zh=th((function(e,t,n){if(!(sp(e)&&sp(t)&&e.length&&t.length))return!1;var r,i=!0,a=Xf(t);try{var o=function(){var t=r.value;if(!i)return 1;i=up(t)&&Object.keys(t).includes("$elemMatch")?ph(e,t.$elemMatch,n):dp(t)?e.some((function(e){return"string"==typeof e&&t.test(e)})):e.some((function(e){return kp(t,e)}))};for(a.s();!(r=a.n()).done&&!o(););}catch(e){a.e(e)}finally{a.f()}return i})),Jh=th(ph),em=th((function(e,t,n){return Array.isArray(e)&&e.length===t})),tm=(__webpack_require__(8921),function(e,t,n){var r=e.includes("."),i=!!t;return!r||e.match(/\.\d+$/)?function(t){return void 0!==Sp(t,e)===i}:function(t){var n=Sp(Tp(t,e,{preserveIndex:!0}),e.substring(0,e.lastIndexOf(".")));return sp(n)?n.some((function(e){return void 0!==e}))===i:void 0!==n===i}}),nm=th((function(e,t,n){return sp(t)?t.findIndex((function(t){return mh(e,t)}))>=0:mh(e,t)})),rm=!1;function im(e,t){var n=Du(e.primaryKey);t=Ss(t);var r=Fs(t);if("number"!=typeof r.skip&&(r.skip=0),r.selector?(r.selector=r.selector,Object.entries(r.selector).forEach((function(e){var t=(0,_.A)(e,2),n=t[0],i=t[1];"object"===(0,C.A)(i)&&null!==i||(r.selector[n]={$eq:i})}))):r.selector={},r.index){var i=Bs(r.index);i.includes(n)||i.push(n),r.index=i}if(r.sort){var a=r.sort.find((function(e){return t=e,Object.keys(t)[0]===n;var t}));a||(r.sort=r.sort.slice(0),r.sort.push((0,h.A)({},n,"asc")))}else if(r.index)r.sort=r.index.map((function(e){return(0,h.A)({},e,"asc")}));else{if(e.indexes){var o=new Set;Object.entries(r.selector).forEach((function(e){var t=(0,_.A)(e,2),n=t[0],r=t[1];("object"!==(0,C.A)(r)||null===r||!!Object.keys(r).find((function(e){return Sd.has(e)})))&&o.add(n)}));var s,u=-1;e.indexes.forEach((function(e){var t=Ns(e)?e:[e],n=t.findIndex((function(e){return!o.has(e)}));n>0&&n>u&&(u=n,s=t)})),s&&(r.sort=s.map((function(e){return(0,h.A)({},e,"asc")})))}if(!r.sort)if(e.indexes&&e.indexes.length>0){var c=e.indexes[0],l=Ns(c)?c:[c];r.sort=l.map((function(e){return(0,h.A)({},e,"asc")}))}else r.sort=[(0,h.A)({},n,"asc")]}return r}function am(e,t){if(!t.sort)throw $s("SNH",{query:t});var n=[];t.sort.forEach((function(e){var t=Object.keys(e)[0],r=Object.values(e)[0];n.push({key:t,direction:r,getValueFn:xs(t)})}));return function(e,t){for(var r=0;r<n.length;++r){var i=n[r],a=i.getValueFn(e),o=i.getValueFn(t);if(a!==o)return"asc"===i.direction?Yd(a,o):Yd(o,a)}}}function om(e,t){if(!t.sort)throw $s("SNH",{query:t});var n,r=(n=t.selector,rm||(ef(Yp.PIPELINE,{$sort:Cf,$project:wf}),ef(Yp.QUERY,{$and:Rh,$eq:jh,$elemMatch:Jh,$exists:tm,$gt:Uh,$gte:zh,$in:Vh,$lt:qh,$lte:Hh,$ne:Wh,$nin:Kh,$mod:Qh,$nor:Mh,$not:Lh,$or:Nh,$regex:Yh,$size:em,$type:nm}),rm=!0),new Yf(n));return function(e){return r.test(e)}}function sm(e,t){return um.apply(this,arguments)}function um(){return(um=(0,o.A)(s.mark((function e(t,n){var r,i;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.exec();case 2:if(r=e.sent){e.next=5;break}return e.abrupt("return",null);case 5:if(!Array.isArray(r)){e.next=9;break}return e.abrupt("return",Promise.all(r.map((function(e){return n(e)}))));case 9:if(!(r instanceof Map)){e.next=13;break}return e.abrupt("return",Promise.all((0,z.A)(r.values()).map((function(e){return n(e)}))));case 13:return e.next=15,n(r);case 15:return i=e.sent,e.abrupt("return",i);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cm(e,t){if(!t.sort)throw $s("SNH",{query:t});return{query:t,queryPlan:xd(e,t)}}function lm(e,t){return t.sort&&0!==t.sort.length?t.sort.map((function(e){return Object.keys(e)[0]})):[e]}var dm=new WeakMap;function pm(e,t){if(!e.collection.database.eventReduce)return{runFullQueryAgain:!0};for(var n=function(e){return ul(dm,e,(function(){var t=e.collection,n=im(t.storageInstance.schema,Fs(e.mangoQuery)),r=t.schema.primaryPath,i=am(t.schema.jsonSchema,n),a=om(t.schema.jsonSchema,n);return{primaryKey:e.collection.schema.primaryPath,skip:n.skip,limit:n.limit,sortFields:lm(r,n),sortComparator:function(t,n){var r={docA:t,docB:n,rxQuery:e};return i(r.docA,r.docB)},queryMatcher:function(t){return a({doc:t,rxQuery:e}.doc)}}}))}(e),r=Xc(e._result).docsData.slice(0),i=Xc(e._result).docsDataMap,a=!1,o=[],s=0;s<t.length;s++){var u=cl(t[s]);u&&o.push(u)}var c=o.find((function(e){var t=Ad({queryParams:n,changeEvent:e,previousResults:r,keyDocumentMap:i});return"runFullQueryAgain"===t||("doNothing"!==t?(a=!0,function(e,t,n,r,i){(0,$l[e])({queryParams:t,changeEvent:n,previousResults:r,keyDocumentMap:i})}(t,n,e,r,i),!1):void 0)}));return c?{runFullQueryAgain:!0}:{runFullQueryAgain:!1,changed:a,newResults:r}}__webpack_require__(30958);var fm=function(){function e(){this._map=new Map}return e.prototype.getByQuery=function(e){var t=e.toString();return ul(this._map,t,(function(){return e}))},e}();function hm(e,t){t.uncached=!0;var n=t.toString();e._map.delete(n)}function mm(e){return e.refCount$.observers.length}var vm,gm,ym=(vm=100,gm=3e4,function(e,t){if(!(t._map.size<vm)){for(var n=fl()-gm,r=[],i=0,a=Array.from(t._map.values());i<a.length;i++){var o=a[i];mm(o)>0||(0===o._lastEnsureEqual&&o._creationTime<n?hm(t,o):r.push(o))}var s=r.length-vm;s<=0||r.sort((function(e,t){return e._lastEnsureEqual-t._lastEnsureEqual})).slice(0,s).forEach((function(e){return hm(t,e)}))}}),bm=new WeakSet;function wm(e){bm.has(e)||(bm.add(e),new Promise((function(e){return setTimeout(e,0)})).then((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return al=al.then((function(){return il(e)}))}(200)})).then((function(){e.closed||e.cacheReplacementPolicy(e,e._queryCache),bm.delete(e)})))}var Dm=function(){function e(e,t,n){var r=this;this.cacheItemByDocId=new Map,this.tasks=new Set,this.registry="function"==typeof FinalizationRegistry?new FinalizationRegistry((function(e){var t=e.docId,n=r.cacheItemByDocId.get(t);n&&(n[0].delete(e.revisionHeight),0===n[0].size&&r.cacheItemByDocId.delete(t))})):void 0,this.primaryPath=e,this.changes$=t,this.documentCreator=n,t.subscribe((function(e){r.tasks.add((function(){for(var t=r.cacheItemByDocId,n=0;n<e.length;n++){var i=e[n],a=t.get(i.documentId);if(a){var o=i.documentData;o||(o=i.previousDocumentData),a[1]=o}}})),r.tasks.size<=1&&il().then((function(){r.processTasks()}))}))}var t=e.prototype;return t.processTasks=function(){0!==this.tasks.size&&(Array.from(this.tasks).forEach((function(e){return e()})),this.tasks.clear())},t.getLatestDocumentData=function(e){return this.processTasks(),sl(this.cacheItemByDocId,e)[1]},t.getLatestDocumentDataIfExists=function(e){this.processTasks();var t=this.cacheItemByDocId.get(e);if(t)return t[1]},(0,f.A)(e,[{key:"getCachedRxDocuments",get:function(){return Os(this,"getCachedRxDocuments",Am(this))}},{key:"getCachedRxDocument",get:function(){var e=Am(this);return Os(this,"getCachedRxDocument",(function(t){return e([t])[0]}))}}])}();function Am(e){var t=e.primaryPath,n=e.cacheItemByDocId,r=e.registry,i=zs.deepFreezeWhenDevMode,a=e.documentCreator;return function(o){for(var s=new Array(o.length),u=[],c=0;c<o.length;c++){var l=o[c],d=l[t],p=hl(l._rev),f=void 0,h=void 0,m=n.get(d);m?h=(f=m[0]).get(p):(m=[f=new Map,l],n.set(d,m));var v=h?h.deref():void 0;v||(l=i(l),v=a(l),f.set(p,km(v)),r&&u.push(v)),s[c]=v}return u.length>0&&r&&(e.tasks.add((function(){for(var e=0;e<u.length;e++){var t=u[e];r.register(t,{docId:t.primary,revisionHeight:hl(t.revision)})}})),e.tasks.size<=1&&il().then((function(){e.processTasks()}))),s}}function Em(e,t){return(0,e.getCachedRxDocuments)(t)}var km="function"==typeof WeakRef?function(e){return new WeakRef(e)}:function(e){return{deref:function(){return e}}};var Cm=function(){function e(e,t,n){this.time=fl(),this.query=e,this.count=n,this.documents=Em(this.query.collection._docCache,t)}return e.prototype.getValue=function(e){var t=this.query.op;if("count"===t)return this.count;if("findOne"===t){var n=0===this.documents.length?null:this.documents[0];if(!n&&e)throw $s("QU10",{collection:this.query.collection.name,query:this.query.mangoQuery,op:t});return n}return"findByIds"===t?this.docsMap:this.documents.slice(0)},(0,f.A)(e,[{key:"docsData",get:function(){return Os(this,"docsData",this.documents.map((function(e){return e._data})))}},{key:"docsDataMap",get:function(){var e=new Map;return this.documents.forEach((function(t){e.set(t.primary,t._data)})),Os(this,"docsDataMap",e)}},{key:"docsMap",get:function(){for(var e=new Map,t=this.documents,n=0;n<t.length;n++){var r=t[n];e.set(r.primary,r)}return Os(this,"docsMap",e)}}])}(),_m=0,xm=function(){function e(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this.id=++_m,this._execOverDatabaseCount=0,this._creationTime=fl(),this._lastEnsureEqual=0,this.uncached=!1,this.refCount$=new Ml(null),this._result=null,this._latestChangeEvent=-1,this._ensureEqualQueue=tl,this.op=e,this.mangoQuery=t,this.collection=n,this.other=r,t||(this.mangoQuery={selector:{}}),this.isFindOneByIdQuery=function(e,t){if(!t.skip&&t.selector&&1===Object.keys(t.selector).length&&t.selector[e]){var n=t.selector[e];if("string"==typeof n)return n;if(1===Object.keys(n).length&&"string"==typeof n.$eq)return n.$eq;if(1===Object.keys(n).length&&Array.isArray(n.$eq)&&!n.$eq.find((function(e){return"string"!=typeof e})))return n.$eq}return!1}(this.collection.schema.primaryPath,t)}var t=e.prototype;return t._setResultData=function(e){if(void 0===e)throw $s("QU18",{database:this.collection.database.name,collection:this.collection.name});if("number"!=typeof e){e instanceof Map&&(e=Array.from(e.values()));var t=new Cm(this,e,e.length);this._result=t}else this._result=new Cm(this,[],e)},t._execOverDatabase=function(){var e=(0,o.A)(s.mark((function e(){var t,n,r,i,a,o,u=this;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._execOverDatabaseCount=this._execOverDatabaseCount+1,"count"!==this.op){e.next=11;break}return t=this.getPreparedQuery(),e.next=5,this.collection.storageInstance.count(t);case 5:if("slow"!==(n=e.sent).mode||this.collection.database.allowSlowCount){e.next=10;break}throw $s("QU14",{collection:this.collection,queryObj:this.mangoQuery});case 10:return e.abrupt("return",n.count);case 11:if("findByIds"!==this.op){e.next=22;break}if(r=Xc(this.mangoQuery.selector)[this.collection.schema.primaryPath].$in,i=new Map,a=[],r.forEach((function(e){var t=u.collection._docCache.getLatestDocumentDataIfExists(e);if(t){if(!t._deleted){var n=u.collection._docCache.getCachedRxDocument(t);i.set(e,n)}}else a.push(e)})),!(a.length>0)){e.next=21;break}return e.next=19,this.collection.storageInstance.findDocumentsById(a,!1);case 19:e.sent.forEach((function(e){var t=u.collection._docCache.getCachedRxDocument(e);i.set(t.primary,t)}));case 21:return e.abrupt("return",i);case 22:return o=Im(this),e.abrupt("return",o.then((function(e){return e})));case 24:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.exec=function(){var e=(0,o.A)(s.mark((function e(t){var n;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||"findOne"===this.op){e.next=2;break}throw $s("QU9",{collection:this.collection.name,query:this.mangoQuery,op:this.op});case 2:return e.next=4,Fm(this);case 4:return n=Xc(this._result),e.abrupt("return",n.getValue(t));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.toString=function(){var e=Ts({op:this.op,query:im(this.collection.schema.jsonSchema,this.mangoQuery),other:this.other},!0),t=JSON.stringify(e);return this.toString=function(){return t},t},t.getPreparedQuery=function(){var e={rxQuery:this,mangoQuery:im(this.collection.schema.jsonSchema,this.mangoQuery)};e.mangoQuery.selector._deleted={$eq:!1},e.mangoQuery.index&&e.mangoQuery.index.unshift("_deleted"),tu("prePrepareQuery",e);var t=cm(this.collection.schema.jsonSchema,e.mangoQuery);return this.getPreparedQuery=function(){return t},t},t.doesDocumentDataMatch=function(e){return!e._deleted&&this.queryMatcher(e)},t.remove=function(){var e=(0,o.A)(s.mark((function e(){var t,n;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.exec();case 2:if(t=e.sent,!Array.isArray(t)){e.next=14;break}return e.next=6,this.collection.bulkRemove(t);case 6:if(!((n=e.sent).error.length>0)){e.next=11;break}throw Xs(n.error[0]);case 11:return e.abrupt("return",n.success);case 12:e.next=15;break;case 14:return e.abrupt("return",t.remove());case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.incrementalRemove=function(){return sm(this.asRxQuery,(function(e){return e.incrementalRemove()}))},t.update=function(e){throw ol("update")},t.patch=function(e){return sm(this.asRxQuery,(function(t){return t.patch(e)}))},t.incrementalPatch=function(e){return sm(this.asRxQuery,(function(t){return t.incrementalPatch(e)}))},t.modify=function(e){return sm(this.asRxQuery,(function(t){return t.modify(e)}))},t.incrementalModify=function(e){return sm(this.asRxQuery,(function(t){return t.incrementalModify(e)}))},t.where=function(e){throw ol("query-builder")},t.sort=function(e){throw ol("query-builder")},t.skip=function(e){throw ol("query-builder")},t.limit=function(e){throw ol("query-builder")},(0,f.A)(e,[{key:"$",get:function(){var e=this;if(!this._$){var t=this.collection.eventBulks$.pipe(pc((function(e){return!e.isLocal})),zc(null),Fc((function(){return Fm(e)})),dc((function(){return e._result})),Yc(Zc),Vc((function(e,t){return!(!e||e.time!==Xc(t).time)})),pc((function(e){return!!e})),dc((function(e){return Xc(e).getValue()})));this._$=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Ic(e),r=Bc(e,1/0),i=e;return i.length?1===i.length?xc(i[0]):Oc(r)(jc(i,n)):Ll}(t,this.refCount$.pipe(pc((function(){return!1}))))}return this._$}},{key:"$$",get:function(){return this.collection.database.getReactivityFactory().fromObservable(this.$,void 0,this.collection.database)}},{key:"queryMatcher",get:function(){this.collection.schema.jsonSchema;return Os(this,"queryMatcher",om(0,im(this.collection.schema.jsonSchema,this.mangoQuery)))}},{key:"asRxQuery",get:function(){return this}}])}();function Sm(e,t,n,r){tu("preCreateRxQuery",{op:e,queryObj:t,collection:n,other:r});var i,a=new xm(e,t,n,r);return a=(i=a).collection._queryCache.getByQuery(i),wm(n),a}function Tm(e){var t=e.asRxQuery.collection._changeEventBuffer.getCounter();return e._latestChangeEvent>=t}function Fm(e){return Om.apply(this,arguments)}function Om(){return(Om=(0,o.A)(s.mark((function e(t){return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.collection.awaitBeforeReads.size>0)){e.next=3;break}return e.next=3,Promise.all(Array.from(t.collection.awaitBeforeReads).map((function(e){return e()})));case 3:if(!t.collection.database.closed&&!Tm(t)){e.next=5;break}return e.abrupt("return",!1);case 5:return t._ensureEqualQueue=t._ensureEqualQueue.then((function(){return Pm(t)})),e.abrupt("return",t._ensureEqualQueue);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pm(e){if(e._lastEnsureEqual=fl(),e.collection.database.closed||Tm(e))return tl;var t=!1,n=!1;if(-1===e._latestChangeEvent&&(n=!0),!n){var r=e.asRxQuery.collection._changeEventBuffer.getFrom(e._latestChangeEvent+1);if(null===r)n=!0;else{e._latestChangeEvent=e.asRxQuery.collection._changeEventBuffer.getCounter();var i=e.asRxQuery.collection._changeEventBuffer.reduceByLastOfDoc(r);if("count"===e.op){var a=Xc(e._result).count,o=a;i.forEach((function(t){var n=t.previousDocumentData&&e.doesDocumentDataMatch(t.previousDocumentData),r=e.doesDocumentDataMatch(t.documentData);!n&&r&&o++,n&&!r&&o--})),o!==a&&(t=!0,e._setResultData(o))}else{var s=pm(e,i);s.runFullQueryAgain?n=!0:s.changed&&(t=!0,e._setResultData(s.newResults))}}}return n?e._execOverDatabase().then((function(n){return e._latestChangeEvent=e.collection._changeEventBuffer.getCounter(),"number"==typeof n?(e._result&&n===e._result.count||(t=!0,e._setResultData(n)),t):(e._result&&function(e,t,n){if(t.length!==n.length)return!1;for(var r=0,i=t.length;r<i;){var a=t[r],o=n[r];if(r++,a._rev!==o._rev||a[e]!==o[e])return!1}return!0}(e.collection.schema.primaryPath,n,e._result.docsData)||(t=!0,e._setResultData(n)),t)})):Promise.resolve(t)}function Im(e){return Bm.apply(this,arguments)}function Bm(){return(Bm=(0,o.A)(s.mark((function e(t){var n,r,i,a,o,u,c,l,d;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=[],r=t.collection,!t.isFindOneByIdQuery){e.next=23;break}if(!Array.isArray(t.isFindOneByIdQuery)){e.next=13;break}if(i=(i=t.isFindOneByIdQuery).filter((function(e){var r=t.collection._docCache.getLatestDocumentDataIfExists(e);return!r||(r._deleted||n.push(r),!1)})),!(i.length>0)){e.next=11;break}return e.next=9,r.storageInstance.findDocumentsById(i,!1);case 9:a=e.sent,Ls(n,a);case 11:e.next=21;break;case 13:if(o=t.isFindOneByIdQuery,u=t.collection._docCache.getLatestDocumentDataIfExists(o)){e.next=20;break}return e.next=18,r.storageInstance.findDocumentsById([o],!1);case 18:(c=e.sent)[0]&&(u=c[0]);case 20:u&&!u._deleted&&n.push(u);case 21:e.next=28;break;case 23:return l=t.getPreparedQuery(),e.next=26,r.storageInstance.query(l);case 26:d=e.sent,n=d.documents;case 28:return e.abrupt("return",n);case 29:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Rm={};function Nm(){return Nm=(0,o.A)(s.mark((function e(t){var n,r,i;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(new TextEncoder).encode(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.prototype.map.call(new Uint8Array(r),(function(e){return("00"+e.toString(16)).slice(-2)})).join(""),e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)}))),Nm.apply(this,arguments)}var Mm=function(e){return Nm.apply(this,arguments)};var Lm=tl,jm=!1;function Um(){return zm.apply(this,arguments)}function zm(){return(zm=(0,o.A)(s.mark((function e(){return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!jm){e.next=2;break}return e.abrupt("return",Lm);case 2:return jm=!0,Lm=(0,o.A)(s.mark((function e(){return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Rm.premium&&"string"==typeof Rm.premium,!e.t0){e.next=7;break}return e.next=4,Mm(Rm.premium);case 4:e.t1=e.sent,e.t2="6da4936d1425ff3a5c44c02342c6daf791d266be3ae8479b8ec59e261df41b93",e.t0=e.t1===e.t2;case 7:if(!e.t0){e.next=11;break}return e.abrupt("return",!0);case 11:return e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e)})))(),e.abrupt("return",Lm);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Vm="collection",qm="storage-token",Hm=Eu({version:0,title:"RxInternalDocument",primaryKey:{key:"id",fields:["context","key"],separator:"|"},type:"object",properties:{id:{type:"string",maxLength:200},key:{type:"string"},context:{type:"string","enum":[Vm,qm,"rx-migration-status","rx-pipeline-checkpoint","OTHER"]},data:{type:"object",additionalProperties:!0}},indexes:[],required:["key","context","data"],additionalProperties:!1,sharding:{shards:1,mode:"collection"}});function Wm(e,t){return Au(Hm,{key:e,context:t})}function Km(e){return $m.apply(this,arguments)}function $m(){return($m=(0,o.A)(s.mark((function e(t){var n,r,i;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=cm(t.schema,{selector:{context:Vm,_deleted:{$eq:!1}},sort:[{id:"asc"}],skip:0}),e.next=3,t.query(n);case 3:return r=e.sent,i=r.documents,e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Gm="storageToken",Qm=Wm(Gm,qm);function Ym(){return Ym=(0,o.A)(s.mark((function e(t){var n,r,i,a,o,u,c,l;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=ou(10),!t.password){e.next=7;break}return e.next=4,t.hashFunction(JSON.stringify(t.password));case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0=void 0;case 8:return r=e.t0,i={id:Qm,context:qm,key:Gm,data:{rxdbVersion:t.rxdbVersion,token:n,instanceToken:t.token,passwordHash:r},_deleted:!1,_meta:{lwt:1},_rev:"",_attachments:{}},a=[{document:i}],e.next=13,t.internalStore.bulkWrite(a,"internal-add-storage-token");case 13:if((o=e.sent).error[0]){e.next=16;break}return e.abrupt("return",Sl("id",a,o)[0]);case 16:if(!(u=Xc(o.error[0])).isError||!Qs(u)){e.next=25;break}if(Xm((c=u).documentInDb.data.rxdbVersion,t.rxdbVersion)){e.next=21;break}throw $s("DM5",{args:{database:t.name,databaseStateVersion:c.documentInDb.data.rxdbVersion,codeVersion:t.rxdbVersion}});case 21:if(!r||r===c.documentInDb.data.passwordHash){e.next=23;break}throw $s("DB1",{passwordHash:r,existingPasswordHash:c.documentInDb.data.passwordHash});case 23:return l=c.documentInDb,e.abrupt("return",Xc(l));case 25:throw u;case 26:case"end":return e.stop()}}),e)}))),Ym.apply(this,arguments)}function Xm(e,t){if(!e)return!1;var n=e.split(".")[0],r=t.split(".")[0];return"15"===n&&"16"===r||n===r}function Zm(e,t){return e+"-"+t.version}function Jm(e,t){return t=function(e,t){for(var n=Object.keys(e.defaultValues),r=0;r<n.length;++r){var i=n[r];Object.prototype.hasOwnProperty.call(t,i)&&void 0!==t[i]||(t[i]=e.defaultValues[i])}return t}(e,t=Ss(t)),"string"!=typeof e.jsonSchema.primaryKey&&(t=function(e,t,n){if("string"==typeof t.primaryKey)return n;var r=Au(t,n),i=n[e];if(i&&i!==r)throw $s("DOC19",{args:{documentData:n,existingPrimary:i,newPrimary:r},schema:t});return n[e]=r,n}(e.primaryPath,e.jsonSchema,t)),t._meta={lwt:1},Object.prototype.hasOwnProperty.call(t,"_deleted")||(t._deleted=!1),Object.prototype.hasOwnProperty.call(t,"_attachments")||(t._attachments={}),Object.prototype.hasOwnProperty.call(t,"_rev")||(t._rev=""),t}function ev(){return(ev=(0,o.A)(s.mark((function e(t,n){var r;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.multiInstance=t.multiInstance,e.next=3,t.storage.createStorageInstance(n);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tv(e,t,n,r,i,a,o,s){return nv.apply(this,arguments)}function nv(){return nv=(0,o.A)(s.mark((function e(t,n,r,i,a,u,c,l){var d,p,f,h,m;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Km(n);case 2:return d=e.sent,p=d.filter((function(e){return e.data.name===a})),f=[],p.forEach((function(e){f.push({collectionName:e.data.name,schema:e.data.schema,isCollection:!0}),e.data.connectedStorages.forEach((function(e){return f.push({collectionName:e.collectionName,isCollection:!1,schema:e.schema})}))})),h=new Set,f=f.filter((function(e){var t=e.collectionName+"||"+e.schema.version;return!h.has(t)&&(h.add(t),!0)})),e.next=10,Promise.all(f.map(function(){var e=(0,o.A)(s.mark((function e(n){var o;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.createStorageInstance({collectionName:n.collectionName,databaseInstanceToken:r,databaseName:i,multiInstance:u,options:{},schema:n.schema,password:c,devMode:zs.isDevMode()});case 2:return o=e.sent,e.next=5,o.remove();case 5:if(!n.isCollection){e.next=8;break}return e.next=8,nu("postRemoveRxCollection",{storage:t,databaseName:i,collectionName:a});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 10:if(!l){e.next=14;break}return m=p.map((function(e){var t=Al(e);return t._deleted=!0,t._meta.lwt=fl(),t._rev=ml(r,e),{previous:e,document:t}})),e.next=14,n.bulkWrite(m,"rx-database-remove-collection-all");case 14:case"end":return e.stop()}}),e)}))),nv.apply(this,arguments)}function rv(e){if(e.closed)throw $s("COL21",{collection:e.name,version:e.schema.version})}var iv=function(){function e(e){var t=this;this.subs=[],this.counter=0,this.eventCounterMap=new WeakMap,this.buffer=[],this.limit=100,this.tasks=new Set,this.collection=e,this.subs.push(this.collection.eventBulks$.pipe(pc((function(e){return!e.isLocal}))).subscribe((function(e){t.tasks.add((function(){return t._handleChangeEvents(e.events)})),t.tasks.size<=1&&il().then((function(){t.processTasks()}))})))}var t=e.prototype;return t.processTasks=function(){0!==this.tasks.size&&(Array.from(this.tasks).forEach((function(e){return e()})),this.tasks.clear())},t._handleChangeEvents=function(e){var t=this.counter;this.counter=this.counter+e.length,e.length>this.limit?this.buffer=e.slice(-1*e.length):(Ls(this.buffer,e),this.buffer=this.buffer.slice(-1*this.limit));for(var n=t+1,r=this.eventCounterMap,i=0;i<e.length;i++){var a=e[i];r.set(a,n+i)}},t.getCounter=function(){return this.processTasks(),this.counter},t.getBuffer=function(){return this.processTasks(),this.buffer},t.getArrayIndexByPointer=function(e){this.processTasks();var t=this.buffer[0],n=this.eventCounterMap.get(t);return e<n?null:e-n},t.getFrom=function(e){this.processTasks();var t=[],n=this.getArrayIndexByPointer(e);if(null===n)return null;for(;;){var r=this.buffer[n];if(n++,!r)return t;t.push(r)}},t.runFrom=function(e,t){this.processTasks();var n=this.getFrom(e);if(null===n)throw new Error("out of bounds");n.forEach((function(e){return t(e)}))},t.reduceByLastOfDoc=function(e){return this.processTasks(),e.slice(0)},t.close=function(){this.tasks.clear(),this.subs.forEach((function(e){return e.unsubscribe()}))},e}();var av=new WeakMap;function ov(e){var t=e.schema.getDocumentPrototype(),n=function(e){var t={};return Object.entries(e.methods).forEach((function(e){var n=(0,_.A)(e,2),r=n[0],i=n[1];t[r]=i})),t}(e),r={};return[t,n,Bl].forEach((function(e){Object.getOwnPropertyNames(e).forEach((function(t){var n=Object.getOwnPropertyDescriptor(e,t),i=!0;(t.startsWith("_")||t.endsWith("_")||t.startsWith("$")||t.endsWith("$"))&&(i=!1),"function"==typeof n.value?Object.defineProperty(r,t,{get:function(){return n.value.bind(this)},enumerable:i,configurable:!1}):(n.enumerable=i,n.configurable=!1,n.writable&&(n.writable=!1),Object.defineProperty(r,t,n))}))})),r}function sv(e){return ul(av,e,(function(){return function(){var e=function(e,t){this.collection=e,this._data=t,this._propertyCache=new Map,this.isInstanceOfRxDocument=!0};return e.prototype=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bl,e}(ov(e))}))}function uv(e,t,n){var r=function(e,t,n){var r=new e(t,n);return tu("createRxDocument",r),r}(t,e,zs.deepFreezeWhenDevMode(n));return e._runHooksSync("post","create",n,r),tu("postCreateRxDocument",r),r}var cv={isEqual:function(e,t){return _s(Dl(e),Dl(t))},resolve:function(e){return e.realMasterState}},lv=["pre","post"],dv=["insert","save","remove","create"],pv=!1,fv=new Set,hv=function(){function e(e,t,n,r){var i=this,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:{},l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:ym,d=arguments.length>10&&void 0!==arguments[10]?arguments[10]:{},p=arguments.length>11&&void 0!==arguments[11]?arguments[11]:cv;this.storageInstance={},this.timeouts=new Set,this.incrementalWriteQueue={},this.awaitBeforeReads=new Set,this._incrementalUpsertQueues=new Map,this.synced=!1,this.hooks={},this._subs=[],this._docCache={},this._queryCache=new fm,this.$={},this.checkpoint$={},this._changeEventBuffer={},this.eventBulks$={},this.onClose=[],this.closed=!1,this.onRemove=[],this.database=e,this.name=t,this.schema=n,this.internalStorageInstance=r,this.instanceCreationOptions=a,this.migrationStrategies=o,this.methods=s,this.attachments=u,this.options=c,this.cacheReplacementPolicy=l,this.statics=d,this.conflictHandler=p,function(e){if(pv)return;pv=!0;var t=Object.getPrototypeOf(e);dv.forEach((function(e){lv.map((function(n){var r=n+su(e);t[r]=function(t,r){return this.addHook(n,e,t,r)}}))}))}(this.asRxCollection),e&&(this.eventBulks$=e.eventBulks$.pipe(pc((function(e){return e.collectionName===i.name})))),this.database&&fv.add(this)}var t=e.prototype;return t.prepare=function(){var e=(0,o.A)(s.mark((function e(){var t,n,r,i,a,u=this;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Um();case 2:if(e.sent){e.next=12;break}t=0;case 4:if(!(t<10&&fv.size>16)){e.next=10;break}return t++,e.next=8,this.promiseWait(30);case 8:e.next=4;break;case 10:if(!(fv.size>16)){e.next=12;break}throw $s("COL23",{database:this.database.name,collection:this.name,args:{existing:Array.from(fv.values()).map((function(e){return{db:e.database?e.database.name:"",c:e.name}}))}});case 12:return this.storageInstance=El(this.database,this.internalStorageInstance,this.schema.jsonSchema),this.incrementalWriteQueue=new Ol(this.storageInstance,this.schema.primaryPath,(function(e,t){return Rl(u,e,t)}),(function(e){return u._runHooks("post","save",e)})),this.$=this.eventBulks$.pipe(Fc((function(e){return dl(e)}))),this.checkpoint$=this.eventBulks$.pipe(dc((function(e){return e.checkpoint}))),this._changeEventBuffer=(c=this.asRxCollection,new iv(c)),this._docCache=new Dm(this.schema.primaryPath,this.eventBulks$.pipe(pc((function(e){return!e.isLocal})),dc((function(e){return e.events}))),(function(e){return n||(n=sv(u.asRxCollection)),uv(u.asRxCollection,n,e)})),r=this.database.internalStore.changeStream().pipe(pc((function(e){var t=u.name+"-"+u.schema.version;return!!e.events.find((function(e){return"collection"===e.documentData.context&&e.documentData.key===t&&"DELETE"===e.operation}))}))).subscribe((0,o.A)(s.mark((function e(){return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.close();case 2:return e.next=4,Promise.all(u.onRemove.map((function(e){return e()})));case 4:case"end":return e.stop()}}),e)})))),this._subs.push(r),e.next=22,this.database.storageToken;case 22:return i=e.sent,a=this.storageInstance.changeStream().subscribe((function(e){var t={id:e.id,isLocal:!1,internal:!1,collectionName:u.name,storageToken:i,events:e.events,databaseToken:u.database.token,checkpoint:e.checkpoint,context:e.context};u.database.$emit(t)})),this._subs.push(a),e.abrupt("return",rl);case 26:case"end":return e.stop()}var c}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.cleanup=function(e){throw rv(this),ol("cleanup")},t.migrationNeeded=function(){throw ol("migration-schema")},t.getMigrationState=function(){throw ol("migration-schema")},t.startMigration=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return rv(this),this.getMigrationState().startMigration(e)},t.migratePromise=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this.getMigrationState().migratePromise(e)},t.insert=function(){var e=(0,o.A)(s.mark((function e(t){var n,r,i;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return rv(this),e.next=3,this.bulkInsert([t]);case 3:return n=e.sent,r=n.error[0],yl(this,t[this.schema.primaryPath],t,r),i=Xc(n.success[0]),e.abrupt("return",i);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.insertIfNotExists=function(){var e=(0,o.A)(s.mark((function e(t){var n,r,i;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.bulkInsert([t]);case 2:if(!((n=e.sent).error.length>0)){e.next=11;break}if(409!==(r=n.error[0]).status){e.next=10;break}return i=r.documentInDb,e.abrupt("return",Em(this._docCache,[i])[0]);case 10:throw r;case 11:return e.abrupt("return",n.success[0]);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.bulkInsert=function(){var e=(0,o.A)(s.mark((function e(t){var n,r,i,a,o,u,c,l,d,p,f,h,m,v=this;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(rv(this),0!==t.length){e.next=3;break}return e.abrupt("return",{success:[],error:[]});case 3:if(n=this.schema.primaryPath,r=new Set,!this.hasHooks("pre","insert")){e.next=11;break}return e.next=8,Promise.all(t.map((function(e){var t=Jm(v.schema,e);return v._runHooks("pre","insert",t).then((function(){return r.add(t[n]),{document:t}}))})));case 8:i=e.sent,e.next=14;break;case 11:for(i=new Array(t.length),a=this.schema,o=0;o<t.length;o++)u=t[o],c=Jm(a,u),r.add(c[n]),i[o]={document:c};case 14:if(r.size===t.length){e.next=16;break}throw $s("COL22",{collection:this.name,args:{documents:t}});case 16:return e.next=18,this.storageInstance.bulkWrite(i,"rx-collection-bulk-insert");case 18:if(l=e.sent,p=this,e.t0=l.error,h={get success(){return d||(f=Sl(p.schema.primaryPath,i,l),d=Em(p._docCache,f)),d},error:e.t0},!this.hasHooks("post","insert")){e.next=27;break}return m=new Map,i.forEach((function(e){var t=e.document;m.set(t[n],t)})),e.next=27,Promise.all(h.success.map((function(e){return v._runHooks("post","insert",m.get(e.primary),e)})));case 27:return e.abrupt("return",h);case 28:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.bulkRemove=function(){var e=(0,o.A)(s.mark((function e(t){var n,r,i,a,o,u,c,l,d,p=this;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(rv(this),n=this.schema.primaryPath,0!==t.length){e.next=4;break}return e.abrupt("return",{success:[],error:[]});case 4:if("string"!=typeof t[0]){e.next=10;break}return e.next=7,this.findByIds(t).exec();case 7:r=e.sent,e.next=12;break;case 10:r=new Map,t.forEach((function(e){return r.set(e.primary,e)}));case 12:return i=[],a=new Map,Array.from(r.values()).forEach((function(e){var t=e.toMutableJSON(!0);i.push(t),a.set(e.primary,t)})),e.next=17,Promise.all(i.map((function(e){var t=e[p.schema.primaryPath];return p._runHooks("pre","remove",e,r.get(t))})));case 17:return o=i.map((function(e){var t=Ss(e);return t._deleted=!0,{previous:e,document:t}})),e.next=20,this.storageInstance.bulkWrite(o,"rx-collection-bulk-remove");case 20:return u=e.sent,c=Sl(this.schema.primaryPath,o,u),l=[],d=c.map((function(e){var t=e[n],r=p._docCache.getCachedRxDocument(e);return l.push(r),t})),e.next=26,Promise.all(d.map((function(e){return p._runHooks("post","remove",a.get(e),r.get(e))})));case 26:return e.abrupt("return",{success:l,error:u.error});case 27:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.bulkUpsert=function(){var e=(0,o.A)(s.mark((function e(t){var n,r,i,a,u,c=this;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return rv(this),n=[],r=new Map,t.forEach((function(e){var t=Jm(c.schema,e),i=t[c.schema.primaryPath];if(!i)throw $s("COL3",{primaryPath:c.schema.primaryPath,data:t,schema:c.schema.jsonSchema});r.set(i,t),n.push(t)})),e.next=6,this.bulkInsert(n);case 6:return i=e.sent,a=i.success.slice(0),u=[],e.next=11,Promise.all(i.error.map(function(){var e=(0,o.A)(s.mark((function e(t){var n,i,o,l,d;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(409===t.status){e.next=4;break}u.push(t),e.next=12;break;case 4:return n=t.documentId,i=sl(r,n),o=Xc(t.documentInDb),l=c._docCache.getCachedRxDocuments([o])[0],e.next=10,l.incrementalModify((function(){return i}));case 10:d=e.sent,a.push(d);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 11:return e.abrupt("return",{error:u,success:a});case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.upsert=function(){var e=(0,o.A)(s.mark((function e(t){var n;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return rv(this),e.next=3,this.bulkUpsert([t]);case 3:return n=e.sent,yl(this.asRxCollection,t[this.schema.primaryPath],t,n.error[0]),e.abrupt("return",n.success[0]);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.incrementalUpsert=function(e){var t=this;rv(this);var n=Jm(this.schema,e),r=n[this.schema.primaryPath];if(!r)throw $s("COL4",{data:e});var i=this._incrementalUpsertQueues.get(r);return i||(i=rl),i=i.then((function(){return function(e,t,n){var r=e._docCache.getLatestDocumentDataIfExists(t);if(r)return Promise.resolve({doc:e._docCache.getCachedRxDocuments([r])[0],inserted:!1});return e.findOne(t).exec().then((function(t){return t?{doc:t,inserted:!1}:e.insert(n).then((function(e){return{doc:e,inserted:!0}}))}))}(t,r,n)})).then((function(e){return e.inserted?e.doc:function(e,t){return e.incrementalModify((function(e){return t}))}(e.doc,n)})),this._incrementalUpsertQueues.set(r,i),i},t.find=function(e){return rv(this),tu("prePrepareRxQuery",{op:"find",queryObj:e,collection:this}),e||(e={selector:{}}),Sm("find",e,this)},t.findOne=function(e){var t;if(rv(this),tu("prePrepareRxQuery",{op:"findOne",queryObj:e,collection:this}),"string"==typeof e)t=Sm("findOne",{selector:(0,h.A)({},this.schema.primaryPath,e),limit:1},this);else{if(e||(e={selector:{}}),e.limit)throw $s("QU6");(e=Ss(e)).limit=1,t=Sm("findOne",e,this)}return t},t.count=function(e){return rv(this),e||(e={selector:{}}),Sm("count",e,this)},t.findByIds=function(e){return rv(this),Sm("findByIds",{selector:(0,h.A)({},this.schema.primaryPath,{$in:e.slice(0)})},this)},t.exportJSON=function(){throw ol("json-dump")},t.importJSON=function(e){throw ol("json-dump")},t.insertCRDT=function(e){throw ol("crdt")},t.addPipeline=function(e){throw ol("pipeline")},t.addHook=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("function"!=typeof n)throw Gs("COL7",{key:t,when:e});if(!lv.includes(e))throw Gs("COL8",{key:t,when:e});if(!dv.includes(t))throw $s("COL9",{key:t});if("post"===e&&"create"===t&&!0===r)throw $s("COL10",{when:e,key:t,parallel:r});var i=n.bind(this),a=r?"parallel":"series";this.hooks[t]=this.hooks[t]||{},this.hooks[t][e]=this.hooks[t][e]||{series:[],parallel:[]},this.hooks[t][e][a].push(i)},t.getHooks=function(e,t){return this.hooks[t]&&this.hooks[t][e]?this.hooks[t][e]:{series:[],parallel:[]}},t.hasHooks=function(e,t){if(!this.hooks[t]||!this.hooks[t][e])return!1;var n=this.getHooks(e,t);return!!n&&(n.series.length>0||n.parallel.length>0)},t._runHooks=function(e,t,n,r){var i=this.getHooks(e,t);return i?function(e,t){return e.reduce((function(e,t){return e.then(t)}),Promise.resolve(t))}(i.series.map((function(e){return function(){return e(n,r)}}))).then((function(){return Promise.all(i.parallel.map((function(e){return e(n,r)})))})):rl},t._runHooksSync=function(e,t,n,r){if(this.hasHooks(e,t)){var i=this.getHooks(e,t);i&&i.series.forEach((function(e){return e(n,r)}))}},t.promiseWait=function(e){var t=this,n=new Promise((function(n){var r=setTimeout((function(){t.timeouts.delete(r),n()}),e);t.timeouts.add(r)}));return n},t.close=function(){var e=(0,o.A)(s.mark((function e(){var t=this;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.closed){e.next=2;break}return e.abrupt("return",tl);case 2:return fv.delete(this),e.next=5,Promise.all(this.onClose.map((function(e){return e()})));case 5:return this.closed=!0,Array.from(this.timeouts).forEach((function(e){return clearTimeout(e)})),this._changeEventBuffer&&this._changeEventBuffer.close(),e.abrupt("return",this.database.requestIdlePromise().then((function(){return t.storageInstance.close()})).then((function(){return t._subs.forEach((function(e){return e.unsubscribe()})),delete t.database.collections[t.name],nu("postCloseRxCollection",t).then((function(){return!0}))})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.remove=function(){var e=(0,o.A)(s.mark((function e(){return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.close();case 2:return e.next=4,Promise.all(this.onRemove.map((function(e){return e()})));case 4:return e.next=6,tv(this.database.storage,this.database.internalStore,this.database.token,this.database.name,this.name,this.database.multiInstance,this.database.password,this.database.hashFunction);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),(0,f.A)(e,[{key:"insert$",get:function(){return this.$.pipe(pc((function(e){return"INSERT"===e.operation})))}},{key:"update$",get:function(){return this.$.pipe(pc((function(e){return"UPDATE"===e.operation})))}},{key:"remove$",get:function(){return this.$.pipe(pc((function(e){return"DELETE"===e.operation})))}},{key:"asRxCollection",get:function(){return this}}])}();function mv(e){var t=e.database,n=e.name,r=e.schema,i=e.instanceCreationOptions,a=void 0===i?{}:i,o=e.migrationStrategies,s=void 0===o?{}:o,u=e.autoMigrate,c=void 0===u||u,l=e.statics,d=void 0===l?{}:l,p=e.methods,f=void 0===p?{}:p,h=e.attachments,m=void 0===h?{}:h,v=e.options,g=void 0===v?{}:v,y=e.localDocuments,b=void 0!==y&&y,w=e.cacheReplacementPolicy,D=void 0===w?ym:w,A=e.conflictHandler,E=void 0===A?cv:A,k={databaseInstanceToken:t.token,databaseName:t.name,collectionName:n,schema:r.jsonSchema,options:a,multiInstance:t.multiInstance,password:t.password,devMode:zs.isDevMode()};return tu("preCreateRxStorageInstance",k),function(e,t){return ev.apply(this,arguments)}(t,k).then((function(e){var i=new hv(t,n,r,e,a,s,f,m,g,D,d,E);return i.prepare().then((function(){Object.entries(d).forEach((function(e){var t=(0,_.A)(e,2),n=t[0],r=t[1];Object.defineProperty(i,n,{get:function(){return r.bind(i)}})}));var e=rl;return c&&0!==i.schema.version&&(e=i.migratePromise()),e})).then((function(){return tu("createRxCollection",{collection:i,creator:{name:n,schema:r,storageInstance:e,instanceCreationOptions:a,migrationStrategies:s,methods:f,attachments:m,options:g,cacheReplacementPolicy:D,localDocuments:b,statics:d}}),i})).catch((function(t){return fv.delete(i),e.close().then((function(){return Promise.reject(t)}))}))}))}var vv=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this._parallels=e||1,this._qC=0,this._iC=new Set,this._lHN=0,this._hPM=new Map,this._pHM=new Map};function gv(e,t){if(t){if(t._timeoutObj&&clearTimeout(t._timeoutObj),e._pHM.has(t)){var n=e._pHM.get(t);e._hPM.delete(n),e._pHM.delete(t)}e._iC.delete(t)}}function yv(e){e._tryIR||0===e._iC.size||(e._tryIR=!0,setTimeout((function(){e.isIdle()?setTimeout((function(){e.isIdle()?(!function(e){0!==e._iC.size&&(e._iC.values().next().value._manRes(),setTimeout((function(){return yv(e)}),0))}(e),e._tryIR=!1):e._tryIR=!1}),0):e._tryIR=!1}),0))}vv.prototype={isIdle:function(){return this._qC<this._parallels},lock:function(){this._qC++},unlock:function(){this._qC--,yv(this)},wrapCall:function(e){var t,n=this;this.lock();try{t=e()}catch(e){throw this.unlock(),e}return t.then&&"function"==typeof t.then?t.then((function(e){return n.unlock(),e})).catch((function(e){throw n.unlock(),e})):(this.unlock(),t)},requestIdlePromise:function(e){var t,n=this;e=e||{};var r=new Promise((function(e){return t=e}));if(r._manRes=function(){gv(n,r),t()},e.timeout){var i=setTimeout((function(){r._manRes()}),e.timeout);r._timeoutObj=i}return this._iC.add(r),yv(this),r},cancelIdlePromise:function(e){gv(this,e)},requestIdleCallback:function(e,t){var n=this._lHN++,r=this.requestIdlePromise(t);return this._hPM.set(n,r),this._pHM.set(r,n),r.then((function(){return e()})),n},cancelIdleCallback:function(e){var t=this._hPM.get(e);this.cancelIdlePromise(t)},clear:function(){var e=this;this._iC.forEach((function(t){return gv(e,t)})),this._qC=0,this._iC.clear(),this._hPM=new Map,this._pHM=new Map}};var bv=function(){return(0,f.A)((function e(t){(0,p.A)(this,e),(0,h.A)(this,"ttl",void 0),(0,h.A)(this,"map",new Map),(0,h.A)(this,"_to",!1),this.ttl=t}),[{key:"has",value:function(e){return this.map.has(e)}},{key:"add",value:function(e){var t=this;this.map.set(e,wv()),this._to||(this._to=!0,setTimeout((function(){t._to=!1,function(e){var t=wv()-e.ttl,n=e.map[Symbol.iterator]();for(;;){var r=n.next().value;if(!r)return;var i=r[0];if(!(r[1]<t))return;e.map.delete(i)}}(t)}),0))}},{key:"clear",value:function(){this.map.clear()}}])}();function wv(){return Date.now()}var Dv="16.9.0",Av=new Set,Ev=new Map,kv=function(){function e(e,t,n,r,i,a){var o=this,s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},c=arguments.length>8?arguments[8]:void 0,l=arguments.length>9?arguments[9]:void 0,d=arguments.length>10?arguments[10]:void 0,p=arguments.length>11?arguments[11]:void 0,f=arguments.length>12?arguments[12]:void 0,h=arguments.length>13?arguments[13]:void 0;this.idleQueue=new vv,this.rxdbVersion=Dv,this.storageInstances=new Set,this._subs=[],this.startupErrors=[],this.onClose=[],this.closed=!1,this.collections={},this.states={},this.eventBulks$=new Wc,this.closePromise=null,this.observable$=this.eventBulks$.pipe(Fc((function(e){return dl(e)}))),this.storageToken=tl,this.storageTokenDocument=tl,this.emittedEventBulkIds=new bv(6e4),this.name=e,this.token=t,this.storage=n,this.instanceCreationOptions=r,this.password=i,this.multiInstance=a,this.eventReduce=s,this.options=u,this.internalStore=c,this.hashFunction=l,this.cleanupPolicy=d,this.allowSlowCount=p,this.reactivity=f,this.onClosed=h,"pseudoInstance"!==this.name&&(this.internalStore=El(this.asRxDatabase,c,Hm),this.storageTokenDocument=function(e){return Ym.apply(this,arguments)}(this.asRxDatabase).catch((function(e){return o.startupErrors.push(e)})),this.storageToken=this.storageTokenDocument.then((function(e){return e.data.token})).catch((function(e){return o.startupErrors.push(e)})))}var t=e.prototype;return t.getReactivityFactory=function(){if(!this.reactivity)throw $s("DB14",{database:this.name});return this.reactivity},t.$emit=function(e){this.emittedEventBulkIds.has(e.id)||(this.emittedEventBulkIds.add(e.id),this.eventBulks$.next(e))},t.removeCollectionDoc=function(){var e=(0,o.A)(s.mark((function e(t,n){var r,i;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vl(this.internalStore,Wm(Zm(t,n),Vm));case 2:if(r=e.sent){e.next=5;break}throw $s("SNH",{name:t,schema:n});case 5:return(i=Al(r))._deleted=!0,e.next=9,this.internalStore.bulkWrite([{document:i,previous:r}],"rx-database-remove-collection");case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),t.addCollections=function(){var e=(0,o.A)(s.mark((function e(t){var n,r,i,a,u,c,l=this;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},r={},i=[],a={},e.next=6,Promise.all(Object.entries(t).map(function(){var e=(0,o.A)(s.mark((function e(t){var o,u,c,d,p,f,h,m,v,g;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=(0,_.A)(t,2),u=o[0],c=o[1],d=u,p=c.schema,n[d]=p,f=xu(p,l.hashFunction),r[d]=f,!l.collections[u]){e.next=8;break}throw $s("DB3",{name:u});case 8:return h=Zm(u,p),e.t0=Wm(h,Vm),e.t1=h,e.t2=Vm,e.t3=d,e.next=15,f.hash;case 15:e.t4=e.sent,e.t5=f.jsonSchema,e.t6=f.version,e.t7=[],e.t8={name:e.t3,schemaHash:e.t4,schema:e.t5,version:e.t6,connectedStorages:e.t7},e.t9={lwt:1},e.t10="",e.t11={},m={id:e.t0,key:e.t1,context:e.t2,data:e.t8,_deleted:!1,_meta:e.t9,_rev:e.t10,_attachments:e.t11},i.push({document:m}),v=Object.assign({},c,{name:d,schema:f,database:l}),(g=Ss(c)).database=l,g.name=u,tu("preCreateRxCollection",g),v.conflictHandler=g.conflictHandler,a[d]=v;case 32:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 6:return e.next=8,this.internalStore.bulkWrite(i,"rx-database-add-collection");case 8:return u=e.sent,e.next=11,Pv(this);case 11:return e.next=13,Promise.all(u.error.map(function(){var e=(0,o.A)(s.mark((function e(t){var i,a,o;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(409===t.status){e.next=2;break}throw $s("DB12",{database:l.name,writeError:t});case 2:return i=Xc(t.documentInDb),a=i.data.name,o=r[a],e.t0=i.data.schemaHash,e.next=8,o.hash;case 8:if(e.t1=e.sent,e.t0===e.t1){e.next=21;break}return e.t2=$s,e.t3=l.name,e.t4=a,e.t5=i.data.schemaHash,e.next=16,o.hash;case 16:throw e.t6=e.sent,e.t7=i.data.schema,e.t8=Xc(n[a]),e.t9={database:e.t3,collection:e.t4,previousSchemaHash:e.t5,schemaHash:e.t6,previousSchema:e.t7,schema:e.t8},(0,e.t2)("DB6",e.t9);case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 13:return c={},e.next=16,Promise.all(Object.keys(t).map(function(){var e=(0,o.A)(s.mark((function e(t){var n,r;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a[t],e.next=3,mv(n);case 3:r=e.sent,c[t]=r,l.collections[t]=r,l[t]||Object.defineProperty(l,t,{get:function(){return l.collections[t]}});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 16:return e.abrupt("return",c);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.lockedRun=function(e){return this.idleQueue.wrapCall(e)},t.requestIdlePromise=function(){return this.idleQueue.requestIdlePromise()},t.exportJSON=function(e){throw ol("json-dump")},t.addState=function(e){throw ol("state")},t.importJSON=function(e){throw ol("json-dump")},t.backup=function(e){throw ol("backup")},t.leaderElector=function(){throw ol("leader-election")},t.isLeader=function(){throw ol("leader-election")},t.waitForLeadership=function(){throw ol("leader-election")},t.migrationStates=function(){throw ol("migration-schema")},t.close=function(){var e=this;if(this.closePromise)return this.closePromise;var t=_v(),n=t.promise,r=t.resolve,i=function(t){e.onClosed&&e.onClosed(),e.closed=!0,r(t)};return this.closePromise=n,(0,o.A)(s.mark((function t(){return s.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,nu("preCloseRxDatabase",e);case 2:if(e.eventBulks$.complete(),e._subs.map((function(e){return e.unsubscribe()})),"pseudoInstance"!==e.name){t.next=8;break}return i(!1),t.abrupt("return");case 8:return t.abrupt("return",e.requestIdlePromise().then((function(){return Promise.all(e.onClose.map((function(e){return e()})))})).then((function(){return Promise.all(Object.keys(e.collections).map((function(t){return e.collections[t]})).map((function(e){return e.close()})))})).then((function(){return e.internalStore.close()})).then((function(){return i(!0)})));case 9:case"end":return t.stop()}}),t)})))(),n},t.remove=function(){var e=this;return this.close().then((function(){return function(e,t){return Ov.apply(this,arguments)}(e.name,e.storage,e.multiInstance,e.password)}))},(0,f.A)(e,[{key:"$",get:function(){return this.observable$}},{key:"asRxDatabase",get:function(){return this}}])}();function Cv(e,t){if(Av.has(xv(e,t)))throw $s("DB8",{name:e,storage:t.name,link:"https://rxdb.info/rx-database.html#ignoreduplicate"})}function _v(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return{promise:n,resolve:e,reject:t}}function xv(e,t){return t.name+"|"+e}function Sv(e,t,n,r,i,a){return Tv.apply(this,arguments)}function Tv(){return Tv=(0,o.A)(s.mark((function e(t,n,r,i,a,o){var u;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.createStorageInstance({databaseInstanceToken:t,databaseName:r,collectionName:"_rxdb_internal",schema:Hm,options:i,multiInstance:a,password:o,devMode:zs.isDevMode()});case 2:return u=e.sent,e.abrupt("return",u);case 4:case"end":return e.stop()}}),e)}))),Tv.apply(this,arguments)}function Fv(e){var t=e.storage,n=e.instanceCreationOptions,r=e.name,i=e.password,a=e.multiInstance,u=void 0===a||a,c=e.eventReduce,l=void 0===c||c,d=e.ignoreDuplicate,p=void 0!==d&&d,f=e.options,h=void 0===f?{}:f,m=e.cleanupPolicy,v=e.closeDuplicates,g=void 0!==v&&v,y=e.allowSlowCount,b=void 0!==y&&y,w=e.localDocuments,D=void 0!==w&&w,A=e.hashFunction,E=void 0===A?Mm:A,k=e.reactivity;tu("preCreateRxDatabase",{storage:t,instanceCreationOptions:n,name:r,password:i,multiInstance:u,eventReduce:l,ignoreDuplicate:p,options:h,localDocuments:D});var C=xv(r,t),_=Ev.get(C)||new Set,x=_v(),S=Array.from(_),T=function(){_.delete(x.promise),Av.delete(C)};return _.add(x.promise),Ev.set(C,_),(0,o.A)(s.mark((function e(){var a,o,c;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!g){e.next=3;break}return e.next=3,Promise.all(S.map((function(e){return e.catch((function(){return null})).then((function(e){return e&&e.close()}))})));case 3:if(!p){e.next=8;break}if(zs.isDevMode()){e.next=6;break}throw $s("DB9",{database:r});case 6:e.next=9;break;case 8:Cv(r,t);case 9:return Av.add(C),a=ou(10),e.next=13,Sv(a,t,r,n,u,i);case 13:return o=e.sent,c=new kv(r,a,t,n,i,u,l,h,o,E,m,b,k,T),e.next=17,nu("createRxDatabase",{database:c,creator:{storage:t,instanceCreationOptions:n,name:r,password:i,multiInstance:u,eventReduce:l,ignoreDuplicate:p,options:h,localDocuments:D}});case 17:return e.abrupt("return",c);case 18:case"end":return e.stop()}}),e)})))().then((function(e){x.resolve(e)})).catch((function(e){x.reject(e),T()})),x.promise}function Ov(){return Ov=(0,o.A)(s.mark((function e(t,n){var r,i,a,o,u,c,l,d=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=!(d.length>2&&void 0!==d[2])||d[2],i=d.length>3?d[3]:void 0,a=ou(10),e.next=5,Sv(a,n,t,{},r,i);case 5:return o=e.sent,e.next=8,Km(o);case 8:return u=e.sent,c=new Set,u.forEach((function(e){return c.add(e.data.name)})),l=Array.from(c),e.next=14,Promise.all(l.map((function(e){return tv(n,o,a,t,e,r,i)})));case 14:return e.next=16,nu("postRemoveRxDatabase",{databaseName:t,storage:n});case 16:return e.next=18,o.remove();case 18:return e.abrupt("return",l);case 19:case"end":return e.stop()}}),e)}))),Ov.apply(this,arguments)}function Pv(e){return Iv.apply(this,arguments)}function Iv(){return(Iv=(0,o.A)(s.mark((function e(t){return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.storageToken;case 2:if(!t.startupErrors[0]){e.next=4;break}throw t.startupErrors[0];case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Bv={RxSchema:_u.prototype,RxDocument:Bl,RxQuery:xm.prototype,RxCollection:hv.prototype,RxDatabase:kv.prototype},Rv=new Set,Nv=new Set;function Mv(e){if(tu("preAddRxPlugin",{plugin:e,plugins:Rv}),!Rv.has(e)){if(Nv.has(e.name))throw $s("PL3",{name:e.name,plugin:e});if(Rv.add(e),Nv.add(e.name),!e.rxdb)throw Gs("PL1",{plugin:e});e.init&&e.init(),e.prototypes&&Object.entries(e.prototypes).forEach((function(e){var t=(0,_.A)(e,2),n=t[0];return(0,t[1])(Bv[n])})),e.overwritable&&Object.assign(zs,e.overwritable),e.hooks&&Object.entries(e.hooks).forEach((function(e){var t=(0,_.A)(e,2),n=t[0],r=t[1];r.after&&eu[n].push(r.after),r.before&&eu[n].unshift(r.before)}))}}var Lv=__webpack_require__(87356),jv=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,Uv=function(e){if("string"!=typeof e)throw new TypeError("Invalid argument expected string");var t=e.match(jv);if(!t)throw new Error("Invalid argument not valid semver ('".concat(e,"' received)"));return t.shift(),t},zv=function(e){return"*"===e||"x"===e||"X"===e},Vv=function(e){var t=parseInt(e,10);return isNaN(t)?e:t},qv=function(e,t){if(zv(e)||zv(t))return 0;var n=function(e,t){return(0,C.A)(e)!==(0,C.A)(t)?[String(e),String(t)]:[e,t]}(Vv(e),Vv(t)),r=(0,_.A)(n,2),i=r[0],a=r[1];return i>a?1:i<a?-1:0},Hv=function(e,t){for(var n=0;n<Math.max(e.length,t.length);n++){var r=qv(e[n]||"0",t[n]||"0");if(0!==r)return r}return 0},Wv=function(e,t){var n=Uv(e),r=Uv(t),i=n.pop(),a=r.pop(),o=Hv(n,r);return 0!==o?o:i&&a?Hv(i.split("."),a.split(".")):i||a?i?-1:1:0},Kv=new(__webpack_require__.n(Lv)()),$v=Kv.getDevice(),Gv=Kv.getOS(),Qv=Kv.getBrowser();Kv.getEngine();function Yv(){return"mobile"===$v.type||"tablet"===$v.type}function Xv(){return!!Zv()||!(!Qv.name||!Qv.name.toLowerCase().includes("safari"))}function Zv(){return"iOS"===Gv.name}function Jv(){return"firefox"===Qv.name.toLowerCase()}function eg(){if("iOS"===Gv.name&&Gv.version){if(-1===Wv(Gv.version,"14.5"))return!0}else if("Mac OS"===Gv.name&&"Safari"===Qv.name&&Qv.version&&-1===Wv(Qv.version,"14"))return!0;return!1}Promise.resolve(!1);var tg=Promise.resolve(!0),ng=Promise.resolve();function rg(e,t){return e||(e=0),new Promise((function(n){return setTimeout((function(){return n(t)}),e)}))}function ig(){return Math.random().toString(36).substring(2)}var ag=0;function og(){var e=1e3*Date.now();return e<=ag&&(e=ag+1),ag=e,e}var sg={create:function(e){var t={time:og(),messagesCallback:null,bc:new BroadcastChannel(e),subFns:[]};return t.bc.onmessage=function(e){t.messagesCallback&&t.messagesCallback(e.data)},t},close:function(e){e.bc.close(),e.subFns=[]},onMessage:function(e,t){e.messagesCallback=t},postMessage:function(e,t){try{return e.bc.postMessage(t,!1),ng}catch(e){return Promise.reject(e)}},canBeUsed:function(){if("undefined"!=typeof globalThis&&globalThis.Deno&&globalThis.Deno.args)return!0;if("undefined"==typeof window&&"undefined"==typeof self||"function"!=typeof BroadcastChannel)return!1;if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0},type:"native",averageResponseTime:function(){return 150},microSeconds:og};function ug(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=JSON.parse(JSON.stringify(e));return void 0===t.webWorkerSupport&&(t.webWorkerSupport=!0),t.idb||(t.idb={}),t.idb.ttl||(t.idb.ttl=45e3),t.idb.fallbackInterval||(t.idb.fallbackInterval=150),e.idb&&"function"==typeof e.idb.onclose&&(t.idb.onclose=e.idb.onclose),t.localstorage||(t.localstorage={}),t.localstorage.removeTimeout||(t.localstorage.removeTimeout=6e4),e.methods&&(t.methods=e.methods),t.node||(t.node={}),t.node.ttl||(t.node.ttl=12e4),t.node.maxParallelWrites||(t.node.maxParallelWrites=2048),void 0===t.node.useFastPath&&(t.node.useFastPath=!0),t}var cg="messages",lg={durability:"relaxed"};function dg(){if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof window){if(void 0!==window.mozIndexedDB)return window.mozIndexedDB;if(void 0!==window.webkitIndexedDB)return window.webkitIndexedDB;if(void 0!==window.msIndexedDB)return window.msIndexedDB}return!1}function pg(e){e.commit&&e.commit()}function fg(e,t){var n=e.transaction(cg,"readonly",lg),r=n.objectStore(cg),i=[],a=IDBKeyRange.bound(t+1,1/0);if(r.getAll){var o=r.getAll(a);return new Promise((function(e,t){o.onerror=function(e){return t(e)},o.onsuccess=function(t){e(t.target.result)}}))}return new Promise((function(e,o){var s=function(){try{return a=IDBKeyRange.bound(t+1,1/0),r.openCursor(a)}catch(e){return r.openCursor()}}();s.onerror=function(e){return o(e)},s.onsuccess=function(r){var a=r.target.result;a?a.value.id<t+1?a.continue(t+1):(i.push(a.value),a.continue()):(pg(n),e(i))}}))}function hg(e){return function(e,t){var n=Date.now()-t,r=e.transaction(cg,"readonly",lg),i=r.objectStore(cg),a=[];return new Promise((function(e){i.openCursor().onsuccess=function(t){var i=t.target.result;if(i){var o=i.value;o.time<n?(a.push(o),i.continue()):(pg(r),e(a))}else e(a)}}))}(e.db,e.options.idb.ttl).then((function(t){return function(e,t){if(e.closed)return Promise.resolve([]);var n=e.db.transaction(cg,"readwrite",lg).objectStore(cg);return Promise.all(t.map((function(e){var t=n.delete(e);return new Promise((function(e){t.onsuccess=function(){return e()}}))})))}(e,t.map((function(e){return e.id})))}))}function mg(e){e.closed||vg(e).then((function(){return rg(e.options.idb.fallbackInterval)})).then((function(){return mg(e)}))}function vg(e){return e.closed?ng:e.messagesCallback?fg(e.db,e.lastCursorId).then((function(t){var n=t.filter((function(e){return!!e})).map((function(t){return t.id>e.lastCursorId&&(e.lastCursorId=t.id),t})).filter((function(t){return function(e,t){return!(e.uuid===t.uuid||t.eMIs.has(e.id)||e.data.time<t.messagesCallbackTime)}(t,e)})).sort((function(e,t){return e.time-t.time}));return n.forEach((function(t){e.messagesCallback&&(e.eMIs.add(t.id),e.messagesCallback(t.data))})),ng})):ng}var gg={create:function(e,t){return t=ug(t),function(e){var t="pubkey.broadcast-channel-0-"+e,n=dg().open(t);return n.onupgradeneeded=function(e){e.target.result.createObjectStore(cg,{keyPath:"id",autoIncrement:!0})},new Promise((function(e,t){n.onerror=function(e){return t(e)},n.onsuccess=function(){e(n.result)}}))}(e).then((function(n){var r={closed:!1,lastCursorId:0,channelName:e,options:t,uuid:ig(),eMIs:new bv(2*t.idb.ttl),writeBlockPromise:ng,messagesCallback:null,readQueuePromises:[],db:n};return n.onclose=function(){r.closed=!0,t.idb.onclose&&t.idb.onclose()},mg(r),r}))},close:function(e){e.closed=!0,e.db.close()},onMessage:function(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t,vg(e)},postMessage:function(e,t){return e.writeBlockPromise=e.writeBlockPromise.then((function(){return function(e,t,n){var r={uuid:t,time:Date.now(),data:n},i=e.transaction([cg],"readwrite",lg);return new Promise((function(e,t){i.oncomplete=function(){return e()},i.onerror=function(e){return t(e)},i.objectStore(cg).add(r),pg(i)}))}(e.db,e.uuid,t)})).then((function(){0===function(e,t){return Math.floor(Math.random()*(t-e+1)+e)}(0,10)&&hg(e)})),e.writeBlockPromise},canBeUsed:function(){return!!dg()},type:"idb",averageResponseTime:function(e){return 2*e.idb.fallbackInterval},microSeconds:og};function yg(){var e;if("undefined"==typeof window)return null;try{e=window.localStorage,e=window["ie8-eventlistener/storage"]||window.localStorage}catch(e){}return e}function bg(e){return"pubkey.broadcastChannel-"+e}function wg(){var e=yg();if(!e)return!1;try{var t="__broadcastchannel_check";e.setItem(t,"works"),e.removeItem(t)}catch(e){return!1}return!0}var Dg={create:function(e,t){if(t=ug(t),!wg())throw new Error("BroadcastChannel: localstorage cannot be used");var n=ig(),r=new bv(t.localstorage.removeTimeout),i={channelName:e,uuid:n,eMIs:r};return i.listener=function(e,t){var n=bg(e),r=function(e){e.key===n&&t(JSON.parse(e.newValue))};return window.addEventListener("storage",r),r}(e,(function(e){i.messagesCallback&&e.uuid!==n&&e.token&&!r.has(e.token)&&(e.data.time&&e.data.time<i.messagesCallbackTime||(r.add(e.token),i.messagesCallback(e.data)))})),i},close:function(e){var t;t=e.listener,window.removeEventListener("storage",t)},onMessage:function(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t},postMessage:function(e,t){return new Promise((function(n){rg().then((function(){var r=bg(e.channelName),i={token:ig(),time:Date.now(),data:t,uuid:e.uuid},a=JSON.stringify(i);yg().setItem(r,a);var o=document.createEvent("Event");o.initEvent("storage",!0,!0),o.key=r,o.newValue=a,window.dispatchEvent(o),n()}))}))},canBeUsed:wg,type:"localstorage",averageResponseTime:function(){var e=navigator.userAgent.toLowerCase();return e.includes("safari")&&!e.includes("chrome")?240:120},microSeconds:og},Ag=og,Eg=new Set;var kg={create:function(e){var t={time:Ag(),name:e,messagesCallback:null};return Eg.add(t),t},close:function(e){Eg.delete(e)},onMessage:function(e,t){e.messagesCallback=t},postMessage:function(e,t){return new Promise((function(n){return setTimeout((function(){Array.from(Eg).forEach((function(n){n.name===e.name&&n!==e&&n.messagesCallback&&n.time<t.time&&n.messagesCallback(t)})),n()}),5)}))},canBeUsed:function(){return!0},type:"simulate",averageResponseTime:function(){return 5},microSeconds:Ag},Cg=[sg,gg,Dg];var _g,xg=new Set,Sg=0,Tg=function(e,t){this.id=Sg++,xg.add(this),this.name=e,_g&&(t=_g),this.options=ug(t),this.method=function(e){var t=[].concat(e.methods,Cg).filter(Boolean);if(e.type){if("simulate"===e.type)return kg;var n=t.find((function(t){return t.type===e.type}));if(n)return n;throw new Error("method-type "+e.type+" not found")}e.webWorkerSupport||(t=t.filter((function(e){return"idb"!==e.type})));var r=t.find((function(e){return e.canBeUsed()}));if(r)return r;throw new Error("No usable method found in "+JSON.stringify(Cg.map((function(e){return e.type}))))}(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,function(e){var t=e.method.create(e.name,e.options);n=t,n&&"function"==typeof n.then?(e._prepP=t,t.then((function(t){e._state=t}))):e._state=t;var n}(this)};function Fg(e,t,n){var r={time:e.method.microSeconds(),type:t,data:n};return(e._prepP?e._prepP:ng).then((function(){var t=e.method.postMessage(e._state,r);return e._uMP.add(t),t.catch().then((function(){return e._uMP.delete(t)})),t}))}function Og(e){return e._addEL.message.length>0||e._addEL.internal.length>0}function Pg(e,t,n){e._addEL[t].push(n),function(e){if(!e._iL&&Og(e)){var t=function(t){e._addEL[t.type].forEach((function(e){t.time>=e.time&&e.fn(t.data)}))},n=e.method.microSeconds();e._prepP?e._prepP.then((function(){e._iL=!0,e.method.onMessage(e._state,t,n)})):(e._iL=!0,e.method.onMessage(e._state,t,n))}}(e)}function Ig(e,t,n){e._addEL[t]=e._addEL[t].filter((function(e){return e!==n})),function(e){if(e._iL&&!Og(e)){e._iL=!1;var t=e.method.microSeconds();e.method.onMessage(e._state,null,t)}}(e)}Tg._pubkey=!0,Tg.prototype={postMessage:function(e){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed "+JSON.stringify(e));return Fg(this,"message",e)},postInternal:function(e){return Fg(this,"internal",e)},set onmessage(e){var t={time:this.method.microSeconds(),fn:e};Ig(this,"message",this._onML),e&&"function"==typeof e?(this._onML=t,Pg(this,"message",t)):this._onML=null},addEventListener:function(e,t){Pg(this,e,{time:this.method.microSeconds(),fn:t})},removeEventListener:function(e,t){Ig(this,e,this._addEL[e].find((function(e){return e.fn===t})))},close:function(){var e=this;if(!this.closed){xg.delete(this),this.closed=!0;var t=this._prepP?this._prepP:ng;return this._onML=null,this._addEL.message=[],t.then((function(){return Promise.all(Array.from(e._uMP))})).then((function(){return Promise.all(e._befC.map((function(e){return e()})))})).then((function(){return e.method.close(e._state)}))}},get type(){return this.method.type},get isClosed(){return this.closed}};var Bg=__webpack_require__(8498);var Rg=__webpack_require__(8498),Ng="[object process]"===Object.prototype.toString.call(void 0!==Rg?Rg:0)?function(e){Bg.on("exit",(function(){return e()})),Bg.on("beforeExit",(function(){return e().then((function(){return Bg.exit()}))})),Bg.on("SIGINT",(function(){return e().then((function(){return Bg.exit()}))})),Bg.on("uncaughtException",(function(t){return e().then((function(){console.trace(t),Bg.exit(101)}))}))}:function(e){if("function"==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope){var t=self.close.bind(self);self.close=function(){return e(),t()}}else{if("function"!=typeof window.addEventListener)return;window.addEventListener("beforeunload",(function(){e()}),!0),window.addEventListener("unload",(function(){e()}),!0)}},Mg=new Set,Lg=!1;function jg(e){if(Lg||(Lg=!0,Ng(Ug)),"function"!=typeof e)throw new Error("Listener is no function");return Mg.add(e),{remove:function(){return Mg.delete(e)},run:function(){return Mg.delete(e),e()}}}function Ug(){var e=[];return Mg.forEach((function(t){e.push(t()),Mg.delete(t)})),Promise.all(e)}function zg(e,t){var n={context:"leader",action:t,token:e.token};return e.broadcastChannel.postInternal(n)}function Vg(e){e.isLeader=!0,e._hasLeader=!0;var t=jg((function(){return e.die()}));e._unl.push(t);var n=function(t){"leader"===t.context&&"apply"===t.action&&zg(e,"tell"),"leader"!==t.context||"tell"!==t.action||e._dpLC||(e._dpLC=!0,e._dpL(),zg(e,"tell"))};return e.broadcastChannel.addEventListener("internal",n),e._lstns.push(n),zg(e,"tell")}var qg=function(e,t){var n=this;this.broadcastChannel=e,e._befC.push((function(){return n.die()})),this._options=t,this.isLeader=!1,this.isDead=!1,this.token=ig(),this._lstns=[],this._unl=[],this._dpL=function(){},this._dpLC=!1,this._wKMC={},this.lN="pubkey-bc||"+e.method.type+"||"+e.name};qg.prototype={hasLeader:function(){var e=this;return navigator.locks.query().then((function(t){var n=t.held?t.held.filter((function(t){return t.name===e.lN})):[];return!!(n&&n.length>0)}))},awaitLeadership:function(){var e=this;if(!this._wLMP){this._wKMC.c=new AbortController;var t=new Promise((function(t,n){e._wKMC.res=t,e._wKMC.rej=n}));this._wLMP=new Promise((function(n){navigator.locks.request(e.lN,{signal:e._wKMC.c.signal},(function(){return e._wKMC.c=void 0,Vg(e),n(),t})).catch((function(){}))}))}return this._wLMP},set onduplicate(e){},die:function(){var e=this;return this._lstns.forEach((function(t){return e.broadcastChannel.removeEventListener("internal",t)})),this._lstns=[],this._unl.forEach((function(e){return e.remove()})),this._unl=[],this.isLeader&&(this.isLeader=!1),this.isDead=!0,this._wKMC.res&&this._wKMC.res(),this._wKMC.c&&this._wKMC.c.abort("LeaderElectionWebLock.die() called"),zg(this,"death")}};var Hg=function(e,t){var n=this;this.broadcastChannel=e,this._options=t,this.isLeader=!1,this._hasLeader=!1,this.isDead=!1,this.token=ig(),this._aplQ=ng,this._aplQC=0,this._unl=[],this._lstns=[],this._dpL=function(){},this._dpLC=!1;var r=function(e){"leader"===e.context&&("death"===e.action&&(n._hasLeader=!1),"tell"===e.action&&(n._hasLeader=!0))};this.broadcastChannel.addEventListener("internal",r),this._lstns.push(r)};function Wg(e,t){if(e._leaderElector)throw new Error("BroadcastChannel already has a leader-elector");t=function(e,t){return e||(e={}),(e=JSON.parse(JSON.stringify(e))).fallbackInterval||(e.fallbackInterval=3e3),e.responseTime||(e.responseTime=t.method.averageResponseTime(t.options)),e}(t,e);var n="undefined"!=typeof navigator&&void 0!==navigator.locks&&"function"==typeof navigator.locks.request?new qg(e,t):new Hg(e,t);return e._befC.push((function(){return n.die()})),e._leaderElector=n,n}function Kg(e,t){var n=new CustomEvent(t,{detail:arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}});e.dispatchEvent(n)}Hg.prototype={hasLeader:function(){return Promise.resolve(this._hasLeader)},applyOnce:function(e){var t=this;if(this.isLeader)return rg(0,!0);if(this.isDead)return rg(0,!1);if(this._aplQC>1)return this._aplQ;return this._aplQC=this._aplQC+1,this._aplQ=this._aplQ.then((function(){return function(){if(t.isLeader)return tg;var n,r=!1,i=new Promise((function(e){n=function(){r=!0,e()}})),a=function(e){"leader"===e.context&&e.token!=t.token&&("apply"===e.action&&e.token>t.token&&n(),"tell"===e.action&&(n(),t._hasLeader=!0))};t.broadcastChannel.addEventListener("internal",a);var o=e?4*t._options.responseTime:t._options.responseTime;return zg(t,"apply").then((function(){return Promise.race([rg(o),i.then((function(){return Promise.reject(new Error)}))])})).then((function(){return zg(t,"apply")})).then((function(){return Promise.race([rg(o),i.then((function(){return Promise.reject(new Error)}))])})).catch((function(){})).then((function(){return t.broadcastChannel.removeEventListener("internal",a),!r&&Vg(t).then((function(){return!0}))}))}()})).then((function(){t._aplQC=t._aplQC-1})),this._aplQ.then((function(){return t.isLeader}))},awaitLeadership:function(){return this._aLP||(this._aLP=function(e){if(e.isLeader)return ng;return new Promise((function(t){var n=!1;function r(){n||(n=!0,e.broadcastChannel.removeEventListener("internal",a),t(!0))}e.applyOnce().then((function(){e.isLeader&&r()}));var i=function(){return rg(e._options.fallbackInterval).then((function(){if(!e.isDead&&!n)return e.isLeader?void r():e.applyOnce(!0).then((function(){e.isLeader?r():i()}))}))};i();var a=function(t){"leader"===t.context&&"death"===t.action&&(e._hasLeader=!1,e.applyOnce().then((function(){e.isLeader&&r()})))};e.broadcastChannel.addEventListener("internal",a),e._lstns.push(a)}))}(this)),this._aLP},set onduplicate(e){this._dpL=e},die:function(){var e=this;return this._lstns.forEach((function(t){return e.broadcastChannel.removeEventListener("internal",t)})),this._lstns=[],this._unl.forEach((function(e){return e.remove()})),this._unl=[],this.isLeader&&(this._hasLeader=!1,this.isLeader=!1),this.isDead=!0,zg(this,"death")}};var $g=__webpack_require__(76950);const Gg=$g.default||$g;var Qg=function(e){return"number"==typeof e&&!isNaN(e)},Yg=function(e){return"string"==typeof e},Xg=function(e){return"function"==typeof e},Zg=function(e){return Yg(e)||Xg(e)?e:null},Jg=function(e){return(0,c.isValidElement)(e)||Yg(e)||Xg(e)||Qg(e)},ey=function(e){return e.INFO="info",e.SUCCESS="success",e.WARNING="warning",e.ERROR="error",e.DEFAULT="default",e}({}),ty=function(e){return e[e.COLLAPSE_DURATION=300]="COLLAPSE_DURATION",e[e.DEBOUNCE_DURATION=50]="DEBOUNCE_DURATION",e.CSS_NAMESPACE="Toastify",e[e.DRAGGABLE_PERCENT=80]="DRAGGABLE_PERCENT",e}({}),ny=function(e){return e.X="x",e.Y="y",e}({}),ry=function(e){return e.ENTRANCE_ANIMATION_END="d",e}({});var iy=function(e){return e[e.Enter=0]="Enter",e[e.Exit=1]="Exit",e}(iy||{});function ay(e){var t=e.enter,n=e.exit,r=e.appendPosition,i=void 0!==r&&r,a=e.collapse,o=void 0===a||a,s=e.collapseDuration,u=void 0===s?ty.COLLAPSE_DURATION:s;return function(e){var r=e.children,a=e.position,s=e.preventExitTransition,l=e.done,d=e.nodeRef,p=e.isIn,f=i?"".concat(t,"--").concat(a):t,h=i?"".concat(n,"--").concat(a):n,m=(0,c.useRef)(iy.Enter);return(0,c.useLayoutEffect)((function(){var e,t=d.current,n=f.split(" "),r=function(e){var i;e.target===d.current&&(t.dispatchEvent(new CustomEvent(ry.ENTRANCE_ANIMATION_END)),t.removeEventListener("animationend",r),t.removeEventListener("animationcancel",r),m.current===iy.Enter&&"animationcancel"!==e.type&&(i=t.classList).remove.apply(i,(0,z.A)(n)))};(e=t.classList).add.apply(e,(0,z.A)(n)),t.addEventListener("animationend",r),t.addEventListener("animationcancel",r)}),[]),(0,c.useEffect)((function(){var e=d.current,t=function(){e.removeEventListener("animationend",t),o?function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ty.COLLAPSE_DURATION,r=e.scrollHeight,i=e.style;requestAnimationFrame((function(){i.minHeight="initial",i.height=r+"px",i.transition="all ".concat(n,"ms"),requestAnimationFrame((function(){i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)}))}))}(e,l,u):l()};p||(s?t():(m.current=iy.Exit,e.className+=" ".concat(h),e.addEventListener("animationend",t)))}),[p]),c.createElement(c.Fragment,null,r)}}function oy(e,t){return{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}}var sy=function(e){return e[e.Show=0]="Show",e[e.Clear=1]="Clear",e[e.DidMount=2]="DidMount",e[e.WillUnmount=3]="WillUnmount",e[e.Change=4]="Change",e[e.ClearWaitingQueue=5]="ClearWaitingQueue",e}({}),uy={list:new Map,emitQueue:new Map,on:function(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off:function(e,t){if(t){var n=this.list.get(e).filter((function(e){return e!==t}));return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit:function(e){var t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.list.has(e)&&this.list.get(e).forEach((function(n){var i=setTimeout((function(){n.apply(void 0,r)}),0);t.emitQueue.has(e)||t.emitQueue.set(e,[]),t.emitQueue.get(e).push(i)}))}};function cy(){return cy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cy.apply(null,arguments)}var ly=["theme","type"],dy=function(e){var t=e.theme,n=e.type,r=(0,Ae.A)(e,ly);return c.createElement("svg",cy({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===t?"currentColor":"var(--toastify-icon-color-".concat(n,")")},r))};var py={info:function(e){return c.createElement(dy,e,c.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return c.createElement(dy,e,c.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return c.createElement(dy,e,c.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return c.createElement(dy,e,c.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return c.createElement("div",{className:"".concat(ty.CSS_NAMESPACE,"__spinner")})}};function fy(e){var t=e.theme,n=e.type,r=e.isLoading,i=e.icon,a=null,o={theme:t,type:n};return!1===i||(Xg(i)?a=i(o):(0,c.isValidElement)(i)?a=(0,c.cloneElement)(i,o):Yg(i)||Qg(i)?a=i:r?a=py.spinner():function(e){return e in py}(n)&&(a=py[n](o))),a}var hy=["delay","staleId"];function my(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?my(Object(n),!0).forEach((function(t){(0,h.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):my(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gy(e){var t=(0,c.useReducer)((function(e){return e+1}),0),n=(0,_.A)(t,2)[1],r=(0,c.useState)([]),i=(0,_.A)(r,2),a=i[0],o=i[1],s=(0,c.useRef)(null),u=(0,c.useRef)(new Map).current,l=function(e){return-1!==a.indexOf(e)},d=(0,c.useRef)({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:l,getToast:function(e){return u.get(e)}}).current;function p(e){var t=e.containerId;!d.props.limit||t&&d.containerId!==t||(d.count-=d.queue.length,d.queue=[])}function f(e){o((function(t){return null==e?[]:t.filter((function(t){return t!==e}))}))}function h(){var e=d.queue.shift();v(e.toastContent,e.toastProps,e.staleId)}function m(e,t){var r=t.delay,i=t.staleId,a=(0,Ae.A)(t,hy);if(Jg(e)&&!function(e){return!s.current||d.props.enableMultiContainer&&e.containerId!==d.props.containerId||u.has(e.toastId)&&null==e.updateId}(a)){var o=a.toastId,l=a.updateId,p=a.data,m=d.props,g=function(){return f(o)},y=null==l;y&&d.count++;var b,w,D=vy(vy(vy({},m),{},{style:m.toastStyle,key:d.toastKey++},a),{},{toastId:o,updateId:l,data:p,closeToast:g,isIn:!1,className:Zg(a.className||m.toastClassName),bodyClassName:Zg(a.bodyClassName||m.bodyClassName),progressClassName:Zg(a.progressClassName||m.progressClassName),autoClose:!a.isLoading&&(b=a.autoClose,w=m.autoClose,!1===b||Qg(b)&&b>0?b:w),deleteToast:function(){var e=oy(u.get(o),"removed");u.delete(o),uy.emit(sy.Change,e);var t=d.queue.length;if(d.count=null==o?d.count-d.displayedToast:d.count-1,d.count<0&&(d.count=0),t>0){var r=null==o?d.props.limit:1;if(1===t||1===r)d.displayedToast++,h();else{var i=r>t?t:r;d.displayedToast=i;for(var a=0;a<i;a++)h()}}else n()}});D.iconOut=fy(D),Xg(a.onOpen)&&(D.onOpen=a.onOpen),Xg(a.onClose)&&(D.onClose=a.onClose),D.closeButton=m.closeButton,!1===a.closeButton||Jg(a.closeButton)?D.closeButton=a.closeButton:!0===a.closeButton&&(D.closeButton=!Jg(m.closeButton)||m.closeButton);var A=e;(0,c.isValidElement)(e)&&!Yg(e.type)?A=(0,c.cloneElement)(e,{closeToast:g,toastProps:D,data:p}):Xg(e)&&(A=e({closeToast:g,toastProps:D,data:p})),m.limit&&m.limit>0&&d.count>m.limit&&y?d.queue.push({toastContent:A,toastProps:D,staleId:i}):Qg(r)?setTimeout((function(){v(A,D,i)}),r):v(A,D,i)}}function v(e,t,n){var r=t.toastId;n&&u.delete(n);var i={content:e,props:t};u.set(r,i),o((function(e){return[].concat((0,z.A)(e),[r]).filter((function(e){return e!==n}))})),uy.emit(sy.Change,oy(i,null==i.props.updateId?"added":"updated"))}return(0,c.useEffect)((function(){return d.containerId=e.containerId,uy.cancelEmit(sy.WillUnmount).on(sy.Show,m).on(sy.Clear,(function(e){return s.current&&f(e)})).on(sy.ClearWaitingQueue,p).emit(sy.DidMount,d),function(){u.clear(),uy.emit(sy.WillUnmount,d)}}),[]),(0,c.useEffect)((function(){d.props=e,d.isToastActive=l,d.displayedToast=a.length})),{getToastToRender:function(t){var n=new Map,r=Array.from(u.values());return e.newestOnTop&&r.reverse(),r.forEach((function(e){var t=e.props.position;n.has(t)||n.set(t,[]),n.get(t).push(e)})),Array.from(n,(function(e){return t(e[0],e[1])}))},containerRef:s,isToastActive:l}}function yy(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function by(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function wy(e){var t=(0,c.useState)(!1),n=(0,_.A)(t,2),r=n[0],i=n[1],a=(0,c.useState)(!1),o=(0,_.A)(a,2),s=o[0],u=o[1],l=(0,c.useRef)(null),d=(0,c.useRef)({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,p=(0,c.useRef)(e),f=e.autoClose,h=e.pauseOnHover,m=e.closeToast,v=e.onClick,g=e.closeOnClick;function y(t){if(e.draggable){"touchstart"===t.nativeEvent.type&&t.nativeEvent.preventDefault(),d.didMove=!1,document.addEventListener("mousemove",A),document.addEventListener("mouseup",E),document.addEventListener("touchmove",A),document.addEventListener("touchend",E);var n=l.current;d.canCloseOnClick=!0,d.canDrag=!0,d.boundingRect=n.getBoundingClientRect(),n.style.transition="",d.x=yy(t.nativeEvent),d.y=by(t.nativeEvent),e.draggableDirection===ny.X?(d.start=d.x,d.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(d.start=d.y,d.removalDistance=n.offsetHeight*(e.draggablePercent===ty.DRAGGABLE_PERCENT?1.5*e.draggablePercent:e.draggablePercent/100))}}function b(t){if(d.boundingRect){var n=d.boundingRect,r=n.top,i=n.bottom,a=n.left,o=n.right;"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&d.x>=a&&d.x<=o&&d.y>=r&&d.y<=i?D():w()}}function w(){i(!0)}function D(){i(!1)}function A(t){var n=l.current;d.canDrag&&n&&(d.didMove=!0,r&&D(),d.x=yy(t),d.y=by(t),e.draggableDirection===ny.X?d.delta=d.x-d.start:d.delta=d.y-d.start,d.start!==d.x&&(d.canCloseOnClick=!1),n.style.transform="translate".concat(e.draggableDirection,"(").concat(d.delta,"px)"),n.style.opacity="".concat(1-Math.abs(d.delta/d.removalDistance)))}function E(){document.removeEventListener("mousemove",A),document.removeEventListener("mouseup",E),document.removeEventListener("touchmove",A),document.removeEventListener("touchend",E);var t=l.current;if(d.canDrag&&d.didMove&&t){if(d.canDrag=!1,Math.abs(d.delta)>d.removalDistance)return u(!0),void e.closeToast();t.style.transition="transform 0.2s, opacity 0.2s",t.style.transform="translate".concat(e.draggableDirection,"(0)"),t.style.opacity="1"}}(0,c.useEffect)((function(){p.current=e})),(0,c.useEffect)((function(){return l.current&&l.current.addEventListener(ry.ENTRANCE_ANIMATION_END,w,{once:!0}),Xg(e.onOpen)&&e.onOpen((0,c.isValidElement)(e.children)&&e.children.props),function(){var e=p.current;Xg(e.onClose)&&e.onClose((0,c.isValidElement)(e.children)&&e.children.props)}}),[]),(0,c.useEffect)((function(){return e.pauseOnFocusLoss&&function(){document.hasFocus()||D();window.addEventListener("focus",w),window.addEventListener("blur",D)}(),function(){e.pauseOnFocusLoss&&(window.removeEventListener("focus",w),window.removeEventListener("blur",D))}}),[e.pauseOnFocusLoss]);var k={onMouseDown:y,onTouchStart:y,onMouseUp:b,onTouchEnd:b};return f&&h&&(k.onMouseEnter=D,k.onMouseLeave=w),g&&(k.onClick=function(e){v&&v(e),d.canCloseOnClick&&m()}),{playToast:w,pauseToast:D,isRunning:r,preventExitTransition:s,toastRef:l,eventHandlers:k}}function Dy(e){var t=e.closeToast,n=e.theme,r=e.ariaLabel,i=void 0===r?"close":r;return c.createElement("button",{className:"".concat(ty.CSS_NAMESPACE,"__close-button ").concat(ty.CSS_NAMESPACE,"__close-button--").concat(n),type:"button",onClick:function(e){e.stopPropagation(),t(e)},"aria-label":i},c.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},c.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function Ay(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==(0,C.A)(e))if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Ay(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}const Ey=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=Ay(e))&&(r&&(r+=" "),r+=t);return r};function ky(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ky(Object(n),!0).forEach((function(t){(0,h.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ky(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _y(e){var t=e.delay,n=e.isRunning,r=e.closeToast,i=e.type,a=void 0===i?ey.DEFAULT:i,o=e.hide,s=e.className,u=e.style,l=e.controlledProgress,d=e.progress,p=e.rtl,f=e.isIn,m=e.theme,v=o||l&&0===d,g=Cy(Cy({},u),{},{animationDuration:"".concat(t,"ms"),animationPlayState:n?"running":"paused",opacity:v?0:1});l&&(g.transform="scaleX(".concat(d,")"));var y=Ey("".concat(ty.CSS_NAMESPACE,"__progress-bar"),"".concat(ty.CSS_NAMESPACE,l?"__progress-bar--controlled":"__progress-bar--animated"),"".concat(ty.CSS_NAMESPACE,"__progress-bar-theme--").concat(m),"".concat(ty.CSS_NAMESPACE,"__progress-bar--").concat(a),(0,h.A)({},"".concat(ty.CSS_NAMESPACE,"__progress-bar--rtl"),p)),b=Xg(s)?s({rtl:p,type:a,defaultClassName:y}):Ey(y,s),w=(0,h.A)({},l&&d>=1?"onTransitionEnd":"onAnimationEnd",l&&d<1?null:function(){f&&r()});return c.createElement("div",cy({role:"progressbar","aria-hidden":v?"true":"false","aria-label":"notification timer",className:b,style:g},w))}var xy=function(e){var t=wy(e),n=t.isRunning,r=t.preventExitTransition,i=t.toastRef,a=t.eventHandlers,o=e.closeButton,s=e.children,u=e.autoClose,l=e.onClick,d=e.type,p=e.hideProgressBar,f=e.closeToast,m=e.transition,v=e.position,g=e.className,y=e.style,b=e.bodyClassName,w=e.bodyStyle,D=e.progressClassName,A=e.progressStyle,E=e.updateId,k=e.role,C=e.progress,_=e.rtl,x=e.toastId,S=e.deleteToast,T=e.isIn,F=e.isLoading,O=e.iconOut,P=e.closeOnClick,I=e.theme,B=Ey("".concat(ty.CSS_NAMESPACE,"__toast"),"".concat(ty.CSS_NAMESPACE,"__toast-theme--").concat(I),"".concat(ty.CSS_NAMESPACE,"__toast--").concat(d),(0,h.A)({},"".concat(ty.CSS_NAMESPACE,"__toast--rtl"),_),(0,h.A)({},"".concat(ty.CSS_NAMESPACE,"__toast--close-on-click"),P)),R=Xg(g)?g({rtl:_,position:v,type:d,defaultClassName:B}):Ey(B,g),N=!!C||!u,M={closeToast:f,type:d,theme:I},L=null;return!1===o||(L=Xg(o)?o(M):(0,c.isValidElement)(o)?(0,c.cloneElement)(o,M):Dy(M)),c.createElement(m,{isIn:T,done:S,position:v,preventExitTransition:r,nodeRef:i},c.createElement("div",cy({id:x,onClick:l,className:R},a,{style:y,ref:i}),c.createElement("div",cy({},T&&{role:k},{className:Xg(b)?b({type:d}):Ey("".concat(ty.CSS_NAMESPACE,"__toast-body"),b),style:w}),null!=O&&c.createElement("div",{className:Ey("".concat(ty.CSS_NAMESPACE,"__toast-icon"),(0,h.A)({},"".concat(ty.CSS_NAMESPACE,"--animate-icon ").concat(ty.CSS_NAMESPACE,"__zoom-enter"),!F))},O),c.createElement("div",null,s)),L,c.createElement(_y,cy({},E&&!N?{key:"pb-".concat(E)}:{},{rtl:_,theme:I,delay:u,isRunning:n,isIn:T,closeToast:f,hide:p,type:d,style:A,className:D,controlledProgress:N,progress:C||0}))))},Sy=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{enter:"".concat(ty.CSS_NAMESPACE,"--animate ").concat(ty.CSS_NAMESPACE,"__").concat(e,"-enter"),exit:"".concat(ty.CSS_NAMESPACE,"--animate ").concat(ty.CSS_NAMESPACE,"__").concat(e,"-exit"),appendPosition:t}},Ty=ay(Sy("bounce",!0));ay(Sy("slide",!0)),ay(Sy("zoom")),ay(Sy("flip"));function Fy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fy(Object(n),!0).forEach((function(t){(0,h.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Py=(0,c.forwardRef)((function(e,t){var n=gy(e),r=n.getToastToRender,i=n.containerRef,a=n.isToastActive,o=e.className,s=e.style,u=e.rtl,l=e.containerId;function d(e){var t=Ey("".concat(ty.CSS_NAMESPACE,"__toast-container"),"".concat(ty.CSS_NAMESPACE,"__toast-container--").concat(e),(0,h.A)({},"".concat(ty.CSS_NAMESPACE,"__toast-container--rtl"),u));return Xg(o)?o({position:e,rtl:u,defaultClassName:t}):Ey(t,Zg(o))}return(0,c.useEffect)((function(){t&&(t.current=i.current)}),[]),c.createElement("div",{ref:i,className:ty.CSS_NAMESPACE,id:l},r((function(e,t){var n=t.length?Oy({},s):Oy(Oy({},s),{},{pointerEvents:"none"}),r=!1;return t.filter((function(e){return String(e.props.className).includes("bm-toast-site-message")})).length>1&&(r=!0),c.createElement("div",{className:d(e),style:n,key:"container-".concat(e)},t.map((function(e,n){var r=e.content,i=e.props;return c.createElement(xy,cy({},i,{isIn:a(i.toastId),style:Oy(Oy({},i.style),{},{"--nth":n+1,"--len":t.length}),key:"toast-".concat(i.key)}),r)})),r&&c.createElement("div",{className:"bm-toast-close-all-notifications",onClick:function(e){t.map((function(e){e.props.closeToast()})),e.target.remove()}},Mie("Close all notifications","Onsite notifications","bp-better-messages")))})))}));function Iy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function By(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Iy(Object(n),!0).forEach((function(t){(0,h.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Iy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Py.displayName="ToastContainer",Py.defaultProps={position:"top-right",transition:Ty,autoClose:5e3,closeButton:Dy,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:ty.DRAGGABLE_PERCENT,draggableDirection:ny.X,role:"alert",theme:"light"};var Ry,Ny=new Map,My=[],Ly=1;function jy(){return"".concat(Ly++)}function Uy(e){return e&&(Yg(e.toastId)||Qg(e.toastId))?e.toastId:jy()}function zy(e,t){return Ny.size>0?uy.emit(sy.Show,e,t):My.push({content:e,options:t}),t.toastId}function Vy(e,t){return By(By({},t),{},{type:t&&t.type||e,toastId:Uy(t)})}function qy(e){return function(t,n){return zy(t,Vy(e,n))}}function Hy(e,t){return zy(e,Vy(ey.DEFAULT,t))}function Wy(e){return Ky.apply(this,arguments)}function Ky(){return Ky=(0,o.A)(u().mark((function e(t){var n,r,i=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:void 0,e.next=3,zre.settings.findOne(t).exec();case 3:if(null!==(r=e.sent)){e.next=8;break}return e.abrupt("return",n);case 8:return e.abrupt("return",JSON.parse(r.toMutableJSON().value));case 9:case"end":return e.stop()}}),e)}))),Ky.apply(this,arguments)}function $y(e,t){return Gy.apply(this,arguments)}function Gy(){return Gy=(0,o.A)(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zre.settings.incrementalUpsert({"key":t,"value":JSON.stringify(n)});case 2:case"end":return e.stop()}}),e)}))),Gy.apply(this,arguments)}function Qy(e){return Yy.apply(this,arguments)}function Yy(){return(Yy=(0,o.A)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zre.settings.findOne(t).exec();case 2:if(null===(n=e.sent)){e.next=7;break}return e.next=6,n.incrementalRemove();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Hy.loading=function(e,t){return zy(e,Vy(ey.DEFAULT,By({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},t)))},Hy.promise=function(e,t,n){var r,i=t.pending,a=t.error,o=t.success;i&&(r=Yg(i)?Hy.loading(i,n):Hy.loading(i.render,By(By({},n),i)));var s={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null,delay:100},u=function(e,t,i){if(null!=t){var a=By(By(By({type:e},s),n),{},{data:i}),o=Yg(t)?{render:t}:t;return r?Hy.update(r,By(By({},a),o)):Hy(o.render,By(By({},a),o)),i}Hy.dismiss(r)},c=Xg(e)?e():e;return c.then((function(e){return u("success",o,e)})).catch((function(e){return u("error",a,e)})),c},Hy.success=qy(ey.SUCCESS),Hy.info=qy(ey.INFO),Hy.error=qy(ey.ERROR),Hy.warning=qy(ey.WARNING),Hy.warn=Hy.warning,Hy.dark=function(e,t){return zy(e,Vy(ey.DEFAULT,By({theme:"dark"},t)))},Hy.dismiss=function(e){Ny.size>0?uy.emit(sy.Clear,e):My=My.filter((function(t){return null!=e&&t.options.toastId!==e}))},Hy.clearWaitingQueue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return uy.emit(sy.ClearWaitingQueue,e)},Hy.isActive=function(e){var t=!1;return Ny.forEach((function(n){n.isToastActive&&n.isToastActive(e)&&(t=!0)})),t},Hy.update=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};setTimeout((function(){var n=function(e,t){var n=t.containerId,r=Ny.get(n||Ry);return r&&r.getToast(e)}(e,t);if(n){var r=n.props,i=n.content,a=By(By(By({},r),t),{},{toastId:t.toastId||e,updateId:jy()});a.toastId!==e&&(a.staleId=e);var o=a.render||i;delete a.render,zy(o,a)}}),0)},Hy.done=function(e){Hy.update(e,{progress:1})},Hy.onChange=function(e){return uy.on(sy.Change,e),function(){uy.off(sy.Change,e)}},Hy.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},Hy.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},uy.on(sy.DidMount,(function(e){Ry=e.containerId||e,Ny.set(Ry,e),My.forEach((function(e){uy.emit(sy.Show,e.content,e.options)})),My=[]})).on(sy.WillUnmount,(function(e){Ny.delete(e.containerId||e),0===Ny.size&&uy.off(sy.Show).off(sy.Clear).off(sy.ClearWaitingQueue)}));var Xy=new Ml(!!window.Better_Messages.guestAuth);function Zy(){var e=(0,c.useState)(Xy.getValue()),t=(0,_.A)(e,2),n=t[0],r=t[1];return(0,c.useEffect)((function(){var e=Xy.subscribe({next:function(e){r(!!window.Better_Messages.guestAuth)}});return function(){e.unsubscribe()}}),[]),n}function Jy(){var e=Number(window.Better_Messages.user_id);return 0===e&&Sie.guestAuth?-Math.abs(Number(Sie.guestAuth.id)):e}function eb(){return(eb=(0,o.A)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Tie.remove("bm-guest-auth"),e.next=3,eie();case 3:return window.Better_Messages.guestAuth&&delete window.Better_Messages.guestAuth,Xy.next(!1),Gie(window.Better_Messages,!0),e.next=8,$y("databaseUserId",Jy());case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tb(){return void 0!==window.BetterMessagesAppUpdateScripts}function nb(e){return e.current?e.current.querySelector("div.bm-editor-content"):null}function rb(e){var t=nb(e),n=document.getSelection();n.anchorNode&&e.current.contains(n.anchorNode)?t.focus():ab(t)}function ib(e){var t=nb(e),n=document.getSelection();t&&n.anchorNode&&e.current.contains(n.anchorNode)&&t.blur()}function ab(e){if(e.focus(),void 0!==window.getSelection&&void 0!==document.createRange){var t=document.createRange();t.selectNodeContents(e),t.collapse(!1);var n=window.getSelection();n.removeAllRanges(),n.addRange(t)}}function ob(){window.getSelection&&(window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges())}function sb(){return(sb=(0,o.A)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.clipboard.writeText(t);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function ub(){return(ub=(0,o.A)(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!tb()){e.next=5;break}return n=t.innerText,e.next=4,navigator.clipboard.writeText(n);case 4:return e.abrupt("return");case 5:ob(),window.getSelection&&((r=document.createRange()).selectNode(t),window.getSelection().addRange(r),document.execCommand("copy")),ob();case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cb(e,t){var n=window.getSelection();if(n&&!n.isCollapsed){var r,i,a=n.getRangeAt(0).getBoundingClientRect();if("contextmenu"===t.type)r=t.clientX,i=t.clientY;else{if(!("touchstart"===t.type&&t.touches.length>0))return!1;r=t.touches[0].clientX,i=t.touches[0].clientY}if(r>=a.left&&r<=a.right&&i>=a.top&&i<=a.bottom)return!0}return!1}function lb(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e4;Hy.info(c.createElement(c.Fragment,null,Gg(e)),{className:"bm-toasts",position:mb(),draggableDirection:vb(),draggablePercent:gb(),autoClose:t,theme:"colored",hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}function db(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e4;Array.isArray(e)?e=e.join("<br>"):"string"!=typeof e&&(e=e.toString());var n=e.toLowerCase();n.includes("rxerror")||n.includes("rxdb")||n.includes("databaseclosederror")?console.error(e):e.includes("undefined")?console.error(e):void 0!==window.BMAppErrorToast?window.BMAppErrorToast("",notice,t):Hy.error(c.createElement(c.Fragment,null,Gg(e)),{className:"bm-toasts",position:mb(),draggableDirection:vb(),draggablePercent:gb(),autoClose:t,onClick:function(){!function(e){sb.apply(this,arguments)}(e)},theme:"colored",hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}function pb(e,t){return e.response&&e.response.data&&e.response.data.message?e.response.data.message:e.message?e.message:t}function fb(e){e.response&&e.response.data&&e.response.data.code&&("guest_not_found"!==e.response.data.code&&"guest_secret_key_mismatch"!==e.response.data.code||function(){eb.apply(this,arguments)}())}function hb(e){if(fb(e),e.response&&e.response.data){var t="";if(e.response.status&&500===e.response.status&&!Sie.isAdmin)return;if(e.response.data.message&&(t=e.response.data.message),e.response.data.code&&"rest_cookie_invalid_nonce"===e.response.data.code&&(t=Mie("Authorization failed. Please check if you are still authorized at this website.","Rest API Error","bp-better-messages")),t)return void db(t)}e.message&&db(e.message)}function mb(){var e="left"===Sie.onsitePosition?"bottom-left":"bottom-right";if(tb())e="top-center";else if(Iie){var t=Sie.mobileOnsite;if("bottom"===t)e="bottom-center";else if("top"===t)e="top-center";else{e="bottom-center",Hee.get("mainScreen")&&(e="top-center")}}return e}function vb(){var e="x";return(Iie||tb())&&(e="y"),e}function gb(){var e=80;return Iie&&(e=50),e}function yb(){return 0===Number(window.Better_Messages.user_id)}window.BBPMShowNotice=lb,window.BBPMNotice=lb,window.BBPMShowError=db,window.BBPMError=db;var bb=function(){return{}};function wb(){var e=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o}((0,c.useState)(bb),2),t=e[1];return(0,c.useCallback)((function(){t({})}),[])}var Db=__webpack_require__(68260);const Ab=(0,c.createContext)({});function Eb(e){const t=(0,c.useRef)(null);return null===t.current&&(t.current=e()),t.current}const kb="undefined"!=typeof window,Cb=kb?c.useLayoutEffect:c.useEffect,_b=(0,c.createContext)(null),xb=(0,c.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class Sb extends c.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=t.offsetParent,n=e instanceof HTMLElement&&e.offsetWidth||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=n-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Tb({children:e,isPresent:t,anchorX:n}){const r=(0,c.useId)(),i=(0,c.useRef)(null),a=(0,c.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=(0,c.useContext)(xb);return(0,c.useInsertionEffect)((()=>{const{width:e,height:s,top:u,left:c,right:l}=a.current;if(t||!i.current||!e||!s)return;const d="left"===n?`left: ${c}`:`right: ${l}`;i.current.dataset.motionPopId=r;const p=document.createElement("style");return o&&(p.nonce=o),document.head.appendChild(p),p.sheet&&p.sheet.insertRule(`\n          [data-motion-pop-id="${r}"] {\n            position: absolute !important;\n            width: ${e}px !important;\n            height: ${s}px !important;\n            ${d}px !important;\n            top: ${u}px !important;\n          }\n        `),()=>{document.head.removeChild(p)}}),[t]),(0,Db.jsx)(Sb,{isPresent:t,childRef:i,sizeRef:a,children:c.cloneElement(e,{ref:i})})}const Fb=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:o,anchorX:s})=>{const u=Eb(Ob),l=(0,c.useId)();let d=!0,p=(0,c.useMemo)((()=>(d=!1,{id:l,initial:t,isPresent:n,custom:i,onExitComplete:e=>{u.set(e,!0);for(const e of u.values())if(!e)return;r&&r()},register:e=>(u.set(e,!1),()=>u.delete(e))})),[n,u,r]);return a&&d&&(p={...p}),(0,c.useMemo)((()=>{u.forEach(((e,t)=>u.set(t,!1)))}),[n]),c.useEffect((()=>{!n&&!u.size&&r&&r()}),[n]),"popLayout"===o&&(e=(0,Db.jsx)(Tb,{isPresent:n,anchorX:s,children:e})),(0,Db.jsx)(_b.Provider,{value:p,children:e})};function Ob(){return new Map}function Pb(e=!0){const t=(0,c.useContext)(_b);if(null===t)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,a=(0,c.useId)();(0,c.useEffect)((()=>{if(e)return i(a)}),[e]);const o=(0,c.useCallback)((()=>e&&r&&r(a)),[a,r,e]);return!n&&r?[!1,o]:[!0]}const Ib=e=>e.key||"";function Bb(e){const t=[];return c.Children.forEach(e,(e=>{(0,c.isValidElement)(e)&&t.push(e)})),t}const Rb=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:a="sync",propagate:o=!1,anchorX:s="left"})=>{const[u,l]=Pb(o),d=(0,c.useMemo)((()=>Bb(e)),[e]),p=o&&!u?[]:d.map(Ib),f=(0,c.useRef)(!0),h=(0,c.useRef)(d),m=Eb((()=>new Map)),[v,g]=(0,c.useState)(d),[y,b]=(0,c.useState)(d);Cb((()=>{f.current=!1,h.current=d;for(let e=0;e<y.length;e++){const t=Ib(y[e]);p.includes(t)?m.delete(t):!0!==m.get(t)&&m.set(t,!1)}}),[y,p.length,p.join("-")]);const w=[];if(d!==v){let e=[...d];for(let t=0;t<y.length;t++){const n=y[t],r=Ib(n);p.includes(r)||(e.splice(t,0,n),w.push(n))}return"wait"===a&&w.length&&(e=w),b(Bb(e)),g(d),null}const{forceRender:D}=(0,c.useContext)(Ab);return(0,Db.jsx)(Db.Fragment,{children:y.map((e=>{const c=Ib(e),v=!(o&&!u)&&(d===y||p.includes(c));return(0,Db.jsx)(Fb,{isPresent:v,initial:!(f.current&&!n)&&void 0,custom:t,presenceAffectsLayout:i,mode:a,onExitComplete:v?void 0:()=>{if(!m.has(c))return;m.set(c,!0);let e=!0;m.forEach((t=>{t||(e=!1)})),e&&(D?.(),b(h.current),o&&l?.(),r&&r())},anchorX:s,children:e},c)}))})};function Nb(e){if("undefined"==typeof Proxy)return e;const t=new Map;return new Proxy(((...t)=>e(...t)),{get:(n,r)=>"create"===r?e:(t.has(r)||t.set(r,e(r)),t.get(r))})}function Mb(e){return null!==e&&"object"==typeof e&&"function"==typeof e.start}function Lb(e){const t=[{},{}];return e?.values.forEach(((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()})),t}function jb(e,t,n,r){if("function"==typeof t){const[i,a]=Lb(r);t=t(void 0!==n?n:e.custom,i,a)}if("string"==typeof t&&(t=e.variants&&e.variants[t]),"function"==typeof t){const[i,a]=Lb(r);t=t(void 0!==n?n:e.custom,i,a)}return t}function Ub(e,t,n){const r=e.getProps();return jb(r,t,void 0!==n?n:r.custom,e)}const zb=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Vb=new Set(zb),qb=new Set(["width","height","top","left","right","bottom",...zb]),Hb=e=>Array.isArray(e),Wb=e=>Hb(e)?e[e.length-1]||0:e,Kb=["read","resolveKeyframes","update","preRender","render","postRender"],$b={value:null,addProjectionMetrics:null};const Gb={skipAnimations:!1,useManualTiming:!1};function Qb(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,o=Kb.reduce(((e,n)=>(e[n]=function(e,t){let n=new Set,r=new Set,i=!1,a=!1;const o=new WeakSet;let s={delta:0,timestamp:0,isProcessing:!1},u=0;function c(t){o.has(t)&&(l.schedule(t),e()),u++,t(s)}const l={schedule:(e,t=!1,a=!1)=>{const s=a&&i?n:r;return t&&o.add(e),s.has(e)||s.add(e),e},cancel:e=>{r.delete(e),o.delete(e)},process:e=>{s=e,i?a=!0:(i=!0,[n,r]=[r,n],n.forEach(c),t&&$b.value&&$b.value.frameloop[t].push(u),u=0,n.clear(),i=!1,a&&(a=!1,l.process(e)))}};return l}(a,t?n:void 0),e)),{}),{read:s,resolveKeyframes:u,update:c,preRender:l,render:d,postRender:p}=o,f=()=>{const a=Gb.useManualTiming?i.timestamp:performance.now();n=!1,Gb.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(a-i.timestamp,40),1)),i.timestamp=a,i.isProcessing=!0,s.process(i),u.process(i),c.process(i),l.process(i),d.process(i),p.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(f))},h=Kb.reduce(((t,a)=>{const s=o[a];return t[a]=(t,a=!1,o=!1)=>(n||(n=!0,r=!0,i.isProcessing||e(f)),s.schedule(t,a,o)),t}),{});return{schedule:h,cancel:e=>{for(let t=0;t<Kb.length;t++)o[Kb[t]].cancel(e)},state:i,steps:o}}const Yb=e=>e,{schedule:Xb,cancel:Zb,state:Jb,steps:ew}=Qb("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:Yb,!0);let tw;function nw(){tw=void 0}const rw={now:()=>(void 0===tw&&rw.set(Jb.isProcessing||Gb.useManualTiming?Jb.timestamp:performance.now()),tw),set:e=>{tw=e,queueMicrotask(nw)}};function iw(e,t){-1===e.indexOf(t)&&e.push(t)}function aw(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class ow{constructor(){this.subscriptions=[]}add(e){return iw(this.subscriptions,e),()=>aw(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let i=0;i<r;i++){const r=this.subscriptions[i];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function sw(e,t){return t?e*(1e3/t):0}const uw={current:void 0};class cw{constructor(e,t={}){this.version="12.7.4",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(e,t=!0)=>{const n=rw.now();this.updatedAt!==n&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),t&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=rw.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(e=>!isNaN(parseFloat(e)))(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new ow);const n=this.events[e].add(t);return"change"===e?()=>{n(),Xb.read((()=>{this.events.change.getSize()||this.stop()}))}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return uw.current&&uw.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=rw.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return sw(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise((t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()})).then((()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()}))}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function lw(e,t){return new cw(e,t)}function dw(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,lw(n))}const pw=e=>Boolean(e&&e.getVelocity);function fw(e,t){const n=e.getValue("willChange");if(function(e){return Boolean(pw(e)&&e.add)}(n))return n.add(t);if(!n&&Gb.WillChange){const n=new Gb.WillChange("auto");e.addValue("willChange",n),n.add(t)}}const hw=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),mw="data-"+hw("framerAppearId");function vw(e){return e.props[mw]}const gw=!1,yw=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function bw(e,t,n,r){if(e===t&&n===r)return Yb;const i=t=>function(e,t,n,r,i){let a,o,s=0;do{o=t+(n-t)/2,a=yw(o,r,i)-e,a>0?n=o:t=o}while(Math.abs(a)>1e-7&&++s<12);return o}(t,0,1,e,n);return e=>0===e||1===e?e:yw(i(e),t,r)}const ww=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Dw=e=>t=>1-e(1-t),Aw=bw(.33,1.53,.69,.99),Ew=Dw(Aw),kw=ww(Ew),Cw=e=>(e*=2)<1?.5*Ew(e):.5*(2-Math.pow(2,-10*(e-1))),_w=e=>1-Math.sin(Math.acos(e)),xw=Dw(_w),Sw=ww(_w),Tw=e=>/^0[^.\s]+$/u.test(e);function Fw(e){return"number"==typeof e?0===e:null===e||("none"===e||"0"===e||Tw(e))}const Ow=(e,t,n)=>n>t?t:n<e?e:n,Pw={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},Iw={...Pw,transform:e=>Ow(0,1,e)},Bw={...Pw,default:1},Rw=e=>Math.round(1e5*e)/1e5,Nw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;const Mw=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Lw=(e,t)=>n=>Boolean("string"==typeof n&&Mw.test(n)&&n.startsWith(e)||t&&!function(e){return null==e}(n)&&Object.prototype.hasOwnProperty.call(n,t)),jw=(e,t,n)=>r=>{if("string"!=typeof r)return r;const[i,a,o,s]=r.match(Nw);return{[e]:parseFloat(i),[t]:parseFloat(a),[n]:parseFloat(o),alpha:void 0!==s?parseFloat(s):1}},Uw={...Pw,transform:e=>Math.round((e=>Ow(0,255,e))(e))},zw={test:Lw("rgb","red"),parse:jw("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Uw.transform(e)+", "+Uw.transform(t)+", "+Uw.transform(n)+", "+Rw(Iw.transform(r))+")"};const Vw={test:Lw("#"),parse:function(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:zw.transform},qw=e=>({test:t=>"string"==typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),Hw=qw("deg"),Ww=qw("%"),Kw=qw("px"),$w=qw("vh"),Gw=qw("vw"),Qw={...Ww,parse:e=>Ww.parse(e)/100,transform:e=>Ww.transform(100*e)},Yw={test:Lw("hsl","hue"),parse:jw("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Ww.transform(Rw(t))+", "+Ww.transform(Rw(n))+", "+Rw(Iw.transform(r))+")"},Xw={test:e=>zw.test(e)||Vw.test(e)||Yw.test(e),parse:e=>zw.test(e)?zw.parse(e):Yw.test(e)?Yw.parse(e):Vw.parse(e),transform:e=>"string"==typeof e?e:e.hasOwnProperty("red")?zw.transform(e):Yw.transform(e)},Zw=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;const Jw="number",eD="color",tD=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function nD(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const o=t.replace(tD,(e=>(Xw.test(e)?(r.color.push(a),i.push(eD),n.push(Xw.parse(e))):e.startsWith("var(")?(r.var.push(a),i.push("var"),n.push(e)):(r.number.push(a),i.push(Jw),n.push(parseFloat(e))),++a,"${}"))).split("${}");return{values:n,split:o,indexes:r,types:i}}function rD(e){return nD(e).values}function iD(e){const{split:t,types:n}=nD(e),r=t.length;return e=>{let i="";for(let a=0;a<r;a++)if(i+=t[a],void 0!==e[a]){const t=n[a];i+=t===Jw?Rw(e[a]):t===eD?Xw.transform(e[a]):e[a]}return i}}const aD=e=>"number"==typeof e?0:e;const oD={test:function(e){return isNaN(e)&&"string"==typeof e&&(e.match(Nw)?.length||0)+(e.match(Zw)?.length||0)>0},parse:rD,createTransformer:iD,getAnimatableNone:function(e){const t=rD(e);return iD(e)(t.map(aD))}},sD=new Set(["brightness","contrast","saturate","opacity"]);function uD(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(Nw)||[];if(!r)return e;const i=n.replace(r,"");let a=sD.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+i+")"}const cD=/\b([a-z-]*)\(.*?\)/gu,lD={...oD,getAnimatableNone:e=>{const t=e.match(cD);return t?t.map(uD).join(" "):e}},dD={borderWidth:Kw,borderTopWidth:Kw,borderRightWidth:Kw,borderBottomWidth:Kw,borderLeftWidth:Kw,borderRadius:Kw,radius:Kw,borderTopLeftRadius:Kw,borderTopRightRadius:Kw,borderBottomRightRadius:Kw,borderBottomLeftRadius:Kw,width:Kw,maxWidth:Kw,height:Kw,maxHeight:Kw,top:Kw,right:Kw,bottom:Kw,left:Kw,padding:Kw,paddingTop:Kw,paddingRight:Kw,paddingBottom:Kw,paddingLeft:Kw,margin:Kw,marginTop:Kw,marginRight:Kw,marginBottom:Kw,marginLeft:Kw,backgroundPositionX:Kw,backgroundPositionY:Kw},pD={rotate:Hw,rotateX:Hw,rotateY:Hw,rotateZ:Hw,scale:Bw,scaleX:Bw,scaleY:Bw,scaleZ:Bw,skew:Hw,skewX:Hw,skewY:Hw,distance:Kw,translateX:Kw,translateY:Kw,translateZ:Kw,x:Kw,y:Kw,z:Kw,perspective:Kw,transformPerspective:Kw,opacity:Iw,originX:Qw,originY:Qw,originZ:Kw},fD={...Pw,transform:Math.round},hD={...dD,...pD,zIndex:fD,size:Kw,fillOpacity:Iw,strokeOpacity:Iw,numOctaves:fD},mD={...hD,color:Xw,backgroundColor:Xw,outlineColor:Xw,fill:Xw,stroke:Xw,borderColor:Xw,borderTopColor:Xw,borderRightColor:Xw,borderBottomColor:Xw,borderLeftColor:Xw,filter:lD,WebkitFilter:lD},vD=e=>mD[e];function gD(e,t){let n=vD(e);return n!==lD&&(n=oD),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const yD=new Set(["auto","none","0"]);const bD=e=>180*e/Math.PI,wD=e=>{const t=bD(Math.atan2(e[1],e[0]));return AD(t)},DD={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:wD,rotateZ:wD,skewX:e=>bD(Math.atan(e[1])),skewY:e=>bD(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},AD=e=>((e%=360)<0&&(e+=360),e),ED=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),kD=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),CD={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:ED,scaleY:kD,scale:e=>(ED(e)+kD(e))/2,rotateX:e=>AD(bD(Math.atan2(e[6],e[5]))),rotateY:e=>AD(bD(Math.atan2(-e[2],e[0]))),rotateZ:wD,rotate:wD,skewX:e=>bD(Math.atan(e[4])),skewY:e=>bD(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function _D(e){return e.includes("scale")?1:0}function xD(e,t){if(!e||"none"===e)return _D(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=CD,i=n;else{const t=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=DD,i=t}if(!i)return _D(t);const a=r[t],o=i[1].split(",").map(SD);return"function"==typeof a?a(o):o[a]}function SD(e){return parseFloat(e.trim())}const TD=e=>e===Pw||e===Kw,FD=new Set(["x","y","z"]),OD=zb.filter((e=>!FD.has(e)));const PD={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>xD(t,"x"),y:(e,{transform:t})=>xD(t,"y")};PD.translateX=PD.x,PD.translateY=PD.y;const ID=new Set;let BD=!1,RD=!1;function ND(){if(RD){const e=Array.from(ID).filter((e=>e.needsMeasurement)),t=new Set(e.map((e=>e.element))),n=new Map;t.forEach((e=>{const t=function(e){const t=[];return OD.forEach((n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t}(e);t.length&&(n.set(e,t),e.render())})),e.forEach((e=>e.measureInitialState())),t.forEach((e=>{e.render();const t=n.get(e);t&&t.forEach((([t,n])=>{e.getValue(t)?.set(n)}))})),e.forEach((e=>e.measureEndState())),e.forEach((e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)}))}RD=!1,BD=!1,ID.forEach((e=>e.complete())),ID.clear()}function MD(){ID.forEach((e=>{e.readKeyframes(),e.needsMeasurement&&(RD=!0)}))}class LD{constructor(e,t,n,r,i,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=i,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ID.add(this),BD||(BD=!0,Xb.read(MD),Xb.resolveKeyframes(ND))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;for(let i=0;i<e.length;i++)if(null===e[i])if(0===i){const i=r?.get(),a=e[e.length-1];if(void 0!==i)e[0]=i;else if(n&&t){const r=n.readValue(t,a);null!=r&&(e[0]=r)}void 0===e[0]&&(e[0]=a),r&&void 0===i&&r.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ID.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ID.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const jD=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),UD=e=>t=>"string"==typeof t&&t.startsWith(e),zD=UD("--"),VD=UD("var(--"),qD=e=>!!VD(e)&&HD.test(e.split("/*")[0].trim()),HD=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;const WD=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function KD(e,t,n=1){const[r,i]=function(e){const t=WD.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const e=a.trim();return jD(e)?parseFloat(e):e}return qD(i)?KD(i,t,n+1):i}const $D=e=>t=>t.test(e),GD=[Pw,Kw,Ww,Hw,Gw,$w,{test:e=>"auto"===e,parse:e=>e}],QD=e=>GD.find($D(e));class YD extends LD{constructor(e,t,n,r,i){super(e,t,n,r,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let n=0;n<e.length;n++){let r=e[n];if("string"==typeof r&&(r=r.trim(),qD(r))){const i=KD(r,t.current);void 0!==i&&(e[n]=i),n===e.length-1&&(this.finalKeyframe=r)}}if(this.resolveNoneKeyframes(),!qb.has(n)||2!==e.length)return;const[r,i]=e,a=QD(r),o=QD(i);if(a!==o)if(TD(a)&&TD(o))for(let t=0;t<e.length;t++){const n=e[t];"string"==typeof n&&(e[t]=parseFloat(n))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let t=0;t<e.length;t++)Fw(e[t])&&n.push(t);n.length&&function(e,t,n){let r,i=0;for(;i<e.length&&!r;){const t=e[i];"string"==typeof t&&!yD.has(t)&&nD(t).values.length&&(r=e[i]),i++}if(r&&n)for(const i of t)e[i]=gD(n,r)}(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=PD[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];void 0!==r&&e.getValue(n,r).jump(r,!1)}measureEndState(){const{element:e,name:t,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const r=e.getValue(t);r&&r.jump(this.measuredOrigin,!1);const i=n.length-1,a=n[i];n[i]=PD[t](e.measureViewportBox(),window.getComputedStyle(e.current)),null!==a&&void 0===this.finalKeyframe&&(this.finalKeyframe=a),this.removedTransforms?.length&&this.removedTransforms.forEach((([t,n])=>{e.getValue(t).set(n)})),this.resolveNoneKeyframes()}}const XD=(e,t)=>"zIndex"!==t&&(!("number"!=typeof e&&!Array.isArray(e))||!("string"!=typeof e||!oD.test(e)&&"0"!==e||e.startsWith("url(")));function ZD(e){return"function"==typeof e&&"applyToOptions"in e}const JD=e=>null!==e;function eA(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(JD),a=t&&"loop"!==n&&t%2==1?0:i.length-1;return a&&void 0!==r?r:i[a]}class tA{constructor({autoplay:e=!0,delay:t=0,type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:a="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=rw.now(),this.options={autoplay:e,delay:t,type:n,repeat:r,repeatDelay:i,repeatType:a,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt}get resolved(){return this._resolved||this.hasAttemptedResolve||(MD(),ND()),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=rw.now(),this.hasAttemptedResolve=!0;const{name:n,type:r,velocity:i,delay:a,onComplete:o,onUpdate:s,isGenerator:u}=this.options;if(!u&&!function(e,t,n,r){const i=e[0];if(null===i)return!1;if("display"===t||"visibility"===t)return!0;const a=e[e.length-1],o=XD(i,t),s=XD(a,t);return!(!o||!s)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||ZD(n))&&r)}(e,n,r,i)){if(gw||!a)return s&&s(eA(e,this.options,t)),o&&o(),void this.resolveFinishedPromise();this.options.duration=0}const c=this.initPlayback(e,t);!1!==c&&(this._resolved={keyframes:e,finalKeyframe:t,...c},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise((e=>{this.resolveFinishedPromise=e}))}}const nA=(e,t,n)=>e+(t-e)*n;function rA(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function iA(e,t){return n=>n>0?t:e}const aA=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},oA=[Vw,zw,Yw];function sA(e){const t=(e=>oA.find((t=>t.test(e))))(e);if(Boolean(t),!Boolean(t))return!1;let n=t.parse(e);return t===Yw&&(n=function({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,n/=100;let i=0,a=0,o=0;if(t/=100){const r=n<.5?n*(1+t):n+t-n*t,s=2*n-r;i=rA(s,r,e+1/3),a=rA(s,r,e),o=rA(s,r,e-1/3)}else i=a=o=n;return{red:Math.round(255*i),green:Math.round(255*a),blue:Math.round(255*o),alpha:r}}(n)),n}const uA=(e,t)=>{const n=sA(e),r=sA(t);if(!n||!r)return iA(e,t);const i={...n};return e=>(i.red=aA(n.red,r.red,e),i.green=aA(n.green,r.green,e),i.blue=aA(n.blue,r.blue,e),i.alpha=nA(n.alpha,r.alpha,e),zw.transform(i))},cA=(e,t)=>n=>t(e(n)),lA=(...e)=>e.reduce(cA),dA=new Set(["none","hidden"]);function pA(e,t){return n=>nA(e,t,n)}function fA(e){return"number"==typeof e?pA:"string"==typeof e?qD(e)?iA:Xw.test(e)?uA:vA:Array.isArray(e)?hA:"object"==typeof e?Xw.test(e)?uA:mA:iA}function hA(e,t){const n=[...e],r=n.length,i=e.map(((e,n)=>fA(e)(e,t[n])));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}}function mA(e,t){const n={...e,...t},r={};for(const i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=fA(e[i])(e[i],t[i]));return e=>{for(const t in r)n[t]=r[t](e);return n}}const vA=(e,t)=>{const n=oD.createTransformer(t),r=nD(e),i=nD(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?dA.has(e)&&!i.values.length||dA.has(t)&&!r.values.length?function(e,t){return dA.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):lA(hA(function(e,t){const n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const a=t.types[i],o=e.indexes[a][r[a]],s=e.values[o]??0;n[i]=s,r[a]++}return n}(r,i),i.values),n):iA(e,t)};function gA(e,t,n){if("number"==typeof e&&"number"==typeof t&&"number"==typeof n)return nA(e,t,n);return fA(e)(e,t)}function yA(e,t,n){const r=Math.max(t-5,0);return sw(n-e(r),t-r)}const bA=100,wA=10,DA=1,AA=0,EA=800,kA=.3,CA=.3,_A={granular:.01,default:2},xA={granular:.005,default:.5},SA=.01,TA=10,FA=.05,OA=1,PA=e=>1e3*e,IA=e=>e/1e3,BA=.001;function RA({duration:e=EA,bounce:t=kA,velocity:n=AA,mass:r=DA}){let i,a;PA(TA);let o=1-t;o=Ow(FA,OA,o),e=Ow(SA,TA,IA(e)),o<1?(i=t=>{const r=t*o,i=r*e,a=r-n,s=MA(t,o),u=Math.exp(-i);return BA-a/s*u},a=t=>{const r=t*o*e,a=r*n+n,s=Math.pow(o,2)*Math.pow(t,2)*e,u=Math.exp(-r),c=MA(Math.pow(t,2),o);return(-i(t)+BA>0?-1:1)*((a-s)*u)/c}):(i=t=>Math.exp(-t*e)*((t-n)*e+1)-.001,a=t=>Math.exp(-t*e)*(e*e*(n-t)));const s=function(e,t,n){let r=n;for(let n=1;n<NA;n++)r-=e(r)/t(r);return r}(i,a,5/e);if(e=PA(e),isNaN(s))return{stiffness:bA,damping:wA,duration:e};{const t=Math.pow(s,2)*r;return{stiffness:t,damping:2*o*Math.sqrt(r*t),duration:e}}}const NA=12;function MA(e,t){return e*Math.sqrt(1-t*t)}const LA=2e4;function jA(e){let t=0;let n=e.next(t);for(;!n.done&&t<LA;)t+=50,n=e.next(t);return t>=LA?1/0:t}const UA={};function zA(e){let t;return()=>(void 0===t&&(t=e()),t)}function VA(e,t){const n=zA(e);return()=>UA[t]??n()}const qA=VA((()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(e){return!1}return!0}),"linearEasing"),HA=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let t=0;t<i;t++)r+=e(t/(i-1))+", ";return`linear(${r.substring(0,r.length-2)})`},WA=["duration","bounce"],KA=["stiffness","damping","mass"];function $A(e,t){return t.some((t=>void 0!==e[t]))}function GA(e=CA,t=kA){const n="object"!=typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],s={done:!1,value:a},{stiffness:u,damping:c,mass:l,duration:d,velocity:p,isResolvedFromDuration:f}=function(e){let t={velocity:AA,stiffness:bA,damping:wA,mass:DA,isResolvedFromDuration:!1,...e};if(!$A(e,KA)&&$A(e,WA))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(1.2*n),i=r*r,a=2*Ow(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:DA,stiffness:i,damping:a}}else{const n=RA(e);t={...t,...n,mass:DA},t.isResolvedFromDuration=!0}return t}({...n,velocity:-IA(n.velocity||0)}),h=p||0,m=c/(2*Math.sqrt(u*l)),v=o-a,g=IA(Math.sqrt(u/l)),y=Math.abs(v)<5;let b;if(r||(r=y?_A.granular:_A.default),i||(i=y?xA.granular:xA.default),m<1){const e=MA(g,m);b=t=>{const n=Math.exp(-m*g*t);return o-n*((h+m*g*v)/e*Math.sin(e*t)+v*Math.cos(e*t))}}else if(1===m)b=e=>o-Math.exp(-g*e)*(v+(h+g*v)*e);else{const e=g*Math.sqrt(m*m-1);b=t=>{const n=Math.exp(-m*g*t),r=Math.min(e*t,300);return o-n*((h+m*g*v)*Math.sinh(r)+e*v*Math.cosh(r))/e}}const w={calculatedDuration:f&&d||null,next:e=>{const t=b(e);if(f)s.done=e>=d;else{let n=0;m<1&&(n=0===e?PA(h):yA(b,e,t));const a=Math.abs(n)<=r,u=Math.abs(o-t)<=i;s.done=a&&u}return s.value=s.done?o:t,s},toString:()=>{const e=Math.min(jA(w),LA),t=HA((t=>w.next(e*t).value),e,30);return e+"ms "+t},toTransition:()=>{}};return w}function QA({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:s,max:u,restDelta:c=.5,restSpeed:l}){const d=e[0],p={done:!1,value:d},f=e=>void 0===s?u:void 0===u||Math.abs(s-e)<Math.abs(u-e)?s:u;let h=n*t;const m=d+h,v=void 0===o?m:o(m);v!==m&&(h=v-d);const g=e=>-h*Math.exp(-e/r),y=e=>v+g(e),b=e=>{const t=g(e),n=y(e);p.done=Math.abs(t)<=c,p.value=p.done?v:n};let w,D;const A=e=>{(e=>void 0!==s&&e<s||void 0!==u&&e>u)(p.value)&&(w=e,D=GA({keyframes:[p.value,f(p.value)],velocity:yA(y,e,p.value),damping:i,stiffness:a,restDelta:c,restSpeed:l}))};return A(0),{calculatedDuration:null,next:e=>{let t=!1;return D||void 0!==w||(t=!0,b(e),A(e)),void 0!==w&&e>=w?D.next(e-w):(!t&&b(e),p)}}}GA.applyToOptions=e=>{const t=function(e,t=100,n){const r=n({...e,keyframes:[0,t]}),i=Math.min(jA(r),LA);return{type:"keyframes",ease:e=>r.next(i*e).value/t,duration:IA(i)}}(e,100,GA);return e.ease=qA()?t.ease:"easeOut",e.duration=PA(t.duration),e.type="keyframes",e};const YA=bw(.42,0,1,1),XA=bw(0,0,.58,1),ZA=bw(.42,0,.58,1),JA=e=>Array.isArray(e)&&"number"==typeof e[0],eE={linear:Yb,easeIn:YA,easeInOut:ZA,easeOut:XA,circIn:_w,circInOut:Sw,circOut:xw,backIn:Ew,backInOut:kw,backOut:Aw,anticipate:Cw},tE=e=>{if(JA(e)){e.length;const[t,n,r,i]=e;return bw(t,n,r,i)}return"string"==typeof e?eE[e]:e},nE=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r};function rE(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const a=e.length;if(t.length,1===a)return()=>t[0];if(2===a&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=function(e,t,n){const r=[],i=n||gA,a=e.length-1;for(let n=0;n<a;n++){let a=i(e[n],e[n+1]);if(t){const e=Array.isArray(t)?t[n]||Yb:t;a=lA(e,a)}r.push(a)}return r}(t,r,i),u=s.length,c=n=>{if(o&&n<e[0])return t[0];let r=0;if(u>1)for(;r<e.length-2&&!(n<e[r+1]);r++);const i=nE(e[r],e[r+1],n);return s[r](i)};return n?t=>c(Ow(e[0],e[a-1],t)):c}function iE(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=nE(0,t,r);e.push(nA(n,1,i))}}(t,e.length-1),t}function aE({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=(e=>Array.isArray(e)&&"number"!=typeof e[0])(r)?r.map(tE):tE(r),a={done:!1,value:t[0]},o=function(e,t){return e.map((e=>e*t))}(n&&n.length===t.length?n:iE(t),e),s=rE(o,t,{ease:Array.isArray(i)?i:(u=t,c=i,u.map((()=>c||ZA)).splice(0,u.length-1))});var u,c;return{calculatedDuration:e,next:t=>(a.value=s(t),a.done=t>=e,a)}}const oE=e=>{const t=({timestamp:t})=>e(t);return{start:()=>Xb.update(t,!0),stop:()=>Zb(t),now:()=>Jb.isProcessing?Jb.timestamp:rw.now()}},sE={layout:0,mainThread:0,waapi:0},uE={decay:QA,inertia:QA,tween:aE,keyframes:aE,spring:GA},cE=e=>e/100;class lE extends tA{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.teardown();const{onStop:e}=this.options;e&&e()};const{name:t,motionValue:n,element:r,keyframes:i}=this.options,a=r?.KeyframeResolver||LD;this.resolver=new a(i,((e,t)=>this.onKeyframesResolved(e,t)),t,n,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:n=0,repeatDelay:r=0,repeatType:i,velocity:a=0}=this.options,o=ZD(t)?t:uE[t]||aE;let s,u;o!==aE&&"number"!=typeof e[0]&&(s=lA(cE,gA(e[0],e[1])),e=[0,100]);const c=o({...this.options,keyframes:e});"mirror"===i&&(u=o({...this.options,keyframes:[...e].reverse(),velocity:-a})),null===c.calculatedDuration&&(c.calculatedDuration=jA(c));const{calculatedDuration:l}=c,d=l+r;return{generator:c,mirroredGenerator:u,mapPercentToKeyframes:s,calculatedDuration:l,resolvedDuration:d,totalDuration:d*(n+1)-r}}onPostResolved(){const{autoplay:e=!0}=this.options;sE.mainThread++,this.play(),"paused"!==this.pendingPlayState&&e?this.state=this.pendingPlayState:this.pause()}tick(e,t=!1){const{resolved:n}=this;if(!n){const{keyframes:e}=this.options;return{done:!0,value:e[e.length-1]}}const{finalKeyframe:r,generator:i,mirroredGenerator:a,mapPercentToKeyframes:o,keyframes:s,calculatedDuration:u,totalDuration:c,resolvedDuration:l}=n;if(null===this.startTime)return i.next(0);const{delay:d,repeat:p,repeatType:f,repeatDelay:h,onUpdate:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-c/this.speed,this.startTime)),t?this.currentTime=e:null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const v=this.currentTime-d*(this.speed>=0?1:-1),g=this.speed>=0?v<0:v>c;this.currentTime=Math.max(v,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=c);let y=this.currentTime,b=i;if(p){const e=Math.min(this.currentTime,c)/l;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,p+1);Boolean(t%2)&&("reverse"===f?(n=1-n,h&&(n-=h/l)):"mirror"===f&&(b=a)),y=Ow(0,1,n)*l}const w=g?{done:!1,value:s[0]}:b.next(y);o&&(w.value=o(w.value));let{done:D}=w;g||null===u||(D=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const A=null===this.holdTime&&("finished"===this.state||"running"===this.state&&D);return A&&void 0!==r&&(w.value=eA(s,this.options,r)),m&&m(w.value),A&&this.finish(),w}get duration(){const{resolved:e}=this;return e?IA(e.calculatedDuration):0}get time(){return IA(this.currentTime)}set time(e){e=PA(e),this.currentTime=e,null!==this.holdTime||0===this.speed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=IA(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved)return void(this.pendingPlayState="running");if(this.isStopped)return;const{driver:e=oE,onPlay:t,startTime:n}=this.options;this.driver||(this.driver=e((e=>this.tick(e)))),t&&t();const r=this.driver.now();null!==this.holdTime?this.startTime=r-this.holdTime:this.startTime?"finished"===this.state&&(this.startTime=r):this.startTime=n??this.calcStartTime(),"finished"===this.state&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){this._resolved?(this.state="paused",this.holdTime=this.currentTime??0):this.pendingPlayState="paused"}complete(){"running"!==this.state&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){null!==this.cancelTime&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel(),sE.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}get finished(){return this.currentFinishedPromise}}const dE=new Set(["opacity","clipPath","filter","transform"]),pE=zA((()=>Object.hasOwnProperty.call(Element.prototype,"animate"))),fE=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,hE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:fE([0,.65,.55,1]),circOut:fE([.55,0,1,.45]),backIn:fE([.31,.01,.66,-.59]),backOut:fE([.33,1.53,.69,.99])};function mE(e,t){return e?"function"==typeof e&&qA()?HA(e,t):JA(e)?fE(e):Array.isArray(e)?e.map((e=>mE(e,t)||hE.easeOut)):hE[e]:void 0}function vE(e,t,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:o="loop",ease:s="easeInOut",times:u}={},c=void 0){const l={[t]:n};u&&(l.offset=u);const d=mE(s,i);Array.isArray(d)&&(l.easing=d),$b.value&&sE.waapi++;const p=e.animate(l,{delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:"reverse"===o?"alternate":"normal",pseudoElement:c});return $b.value&&p.finished.finally((()=>{sE.waapi--})),p}function gE(e,t){e.timeline=t,e.onfinish=null}function yE(e){return Boolean("function"==typeof e&&qA()||!e||"string"==typeof e&&(e in hE||qA())||JA(e)||Array.isArray(e)&&e.every(yE))}const bE={anticipate:Cw,backInOut:kw,circInOut:Sw};class wE extends tA{constructor(e){super(e);const{name:t,motionValue:n,element:r,keyframes:i}=this.options;this.resolver=new YD(i,((e,t)=>this.onKeyframesResolved(e,t)),t,n,r),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:n=300,times:r,ease:i,type:a,motionValue:o,name:s,startTime:u}=this.options;if(!o.owner||!o.owner.current)return!1;if("string"==typeof i&&qA()&&i in bE&&(i=bE[i]),function(e){return ZD(e.type)||"spring"===e.type||!yE(e.ease)}(this.options)){const{onComplete:t,onUpdate:o,motionValue:s,element:u,...c}=this.options,l=function(e,t){const n=new lE({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const i=[];let a=0;for(;!r.done&&a<2e4;)r=n.sample(a),i.push(r.value),a+=10;return{times:void 0,keyframes:i,duration:a-10,ease:"linear"}}(e,c);1===(e=l.keyframes).length&&(e[1]=e[0]),n=l.duration,r=l.times,i=l.ease,a="keyframes"}const c=vE(o.owner.current,s,e,{...this.options,duration:n,times:r,ease:i});return c.startTime=u??this.calcStartTime(),this.pendingTimeline?(gE(c,this.pendingTimeline),this.pendingTimeline=void 0):c.onfinish=()=>{const{onComplete:n}=this.options;o.set(eA(e,this.options,t)),n&&n(),this.cancel(),this.resolveFinishedPromise()},{animation:c,duration:n,times:r,type:a,ease:i,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return IA(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return IA(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.currentTime=PA(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}get finished(){return this.resolved.animation.finished}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(this._resolved){const{resolved:t}=this;if(!t)return Yb;const{animation:n}=t;gE(n,e)}else this.pendingTimeline=e;return Yb}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;"finished"===t.playState&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:n,duration:r,type:i,ease:a,times:o}=e;if("idle"===t.playState||"finished"===t.playState)return;if(this.time){const{motionValue:e,onUpdate:t,onComplete:s,element:u,...c}=this.options,l=new lE({...c,keyframes:n,duration:r,type:i,ease:a,times:o,isGenerator:!0}),d=PA(this.time);e.setWithVelocity(l.sample(d-10).value,l.sample(d).value,10)}const{onStop:s}=this.options;s&&s(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:a,type:o}=e;if(!(t&&t.owner&&t.owner.current instanceof HTMLElement))return!1;const{onUpdate:s,transformTemplate:u}=t.owner.getProps();return pE()&&n&&dE.has(n)&&("transform"!==n||!u)&&!s&&!r&&"mirror"!==i&&0!==a&&"inertia"!==o}}const DE={type:"spring",stiffness:500,damping:25,restSpeed:10},AE={type:"keyframes",duration:.8},EE={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},kE=(e,{keyframes:t})=>t.length>2?AE:Vb.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===t[1]?2*Math.sqrt(550):30,restSpeed:10}:DE:EE;function CE(e,t){return e?.[t]??e?.default??e}const _E=zA((()=>void 0!==window.ScrollTimeline));class xE{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map((e=>e.finished)))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let n=0;n<this.animations.length;n++)this.animations[n][e]=t}attachTimeline(e,t){const n=this.animations.map((n=>_E()&&n.attachTimeline?n.attachTimeline(e):"function"==typeof t?t(n):void 0));return()=>{n.forEach(((e,t)=>{e&&e(),this.animations[t].stop()}))}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach((t=>t[e]()))}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class SE extends xE{then(e,t){return this.finished.finally(e).then((()=>{}))}}const TE=(e,t,n,r={},i,a)=>o=>{const s=CE(r,e)||{},u=s.delay||r.delay||0;let{elapsed:c=0}=r;c-=PA(u);let l={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...s,delay:-c,onUpdate:e=>{t.set(e),s.onUpdate&&s.onUpdate(e)},onComplete:()=>{o(),s.onComplete&&s.onComplete()},name:e,motionValue:t,element:a?void 0:i};(function({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:s,from:u,elapsed:c,...l}){return!!Object.keys(l).length})(s)||(l={...l,...kE(e,l)}),l.duration&&(l.duration=PA(l.duration)),l.repeatDelay&&(l.repeatDelay=PA(l.repeatDelay)),void 0!==l.from&&(l.keyframes[0]=l.from);let d=!1;if((!1===l.type||0===l.duration&&!l.repeatDelay)&&(l.duration=0,0===l.delay&&(d=!0)),(gw||Gb.skipAnimations)&&(d=!0,l.duration=0,l.delay=0),l.allowFlatten=!s.type&&!s.ease,d&&!a&&void 0!==t.get()){const e=eA(l.keyframes,s);if(void 0!==e)return Xb.update((()=>{l.onUpdate(e),l.onComplete()})),new SE([])}return!a&&wE.supports(l)?new wE(l):new lE(l)};function FE({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&!0!==t[n];return t[n]=!1,r}function OE(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:o,...s}=t;r&&(a=r);const u=[],c=i&&e.animationState&&e.animationState.getState()[i];for(const t in s){const r=e.getValue(t,e.latestValues[t]??null),i=s[t];if(void 0===i||c&&FE(c,t))continue;const o={delay:n,...CE(a||{},t)};let l=!1;if(window.MotionHandoffAnimation){const n=vw(e);if(n){const e=window.MotionHandoffAnimation(n,t,Xb);null!==e&&(o.startTime=e,l=!0)}}fw(e,t),r.start(TE(t,r,i,e.shouldReduceMotion&&qb.has(t)?{type:!1}:o,e,l));const d=r.animation;d&&u.push(d)}return o&&Promise.all(u).then((()=>{Xb.update((()=>{o&&function(e,t){const n=Ub(e,t);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const t in a)dw(e,t,Wb(a[t]))}(e,o)}))})),u}function PE(e,t,n={}){const r=Ub(e,t,"exit"===n.type?e.presenceContext?.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(OE(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(r=0)=>{const{delayChildren:a=0,staggerChildren:o,staggerDirection:s}=i;return function(e,t,n=0,r=0,i=1,a){const o=[],s=(e.variantChildren.size-1)*r,u=1===i?(e=0)=>e*r:(e=0)=>s-e*r;return Array.from(e.variantChildren).sort(IE).forEach(((e,r)=>{e.notify("AnimationStart",t),o.push(PE(e,t,{...a,delay:n+u(r)}).then((()=>e.notify("AnimationComplete",t))))})),Promise.all(o)}(e,t,a+r,o,s,n)}:()=>Promise.resolve(),{when:s}=i;if(s){const[e,t]="beforeChildren"===s?[a,o]:[o,a];return e().then((()=>t()))}return Promise.all([a(),o(n.delay)])}function IE(e,t){return e.sortNodePosition(t)}function BE(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function RE(e){return"string"==typeof e||Array.isArray(e)}const NE=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ME=["initial",...NE],LE=ME.length;function jE(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&jE(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let n=0;n<LE;n++){const r=ME[n],i=e.props[r];(RE(i)||!1===i)&&(t[r]=i)}return t}const UE=[...NE].reverse(),zE=NE.length;function VE(e){return t=>Promise.all(t.map((({animation:t,options:n})=>function(e,t,n={}){let r;if(e.notify("AnimationStart",t),Array.isArray(t)){const i=t.map((t=>PE(e,t,n)));r=Promise.all(i)}else if("string"==typeof t)r=PE(e,t,n);else{const i="function"==typeof t?Ub(e,t,n.custom):t;r=Promise.all(OE(e,i,n))}return r.then((()=>{e.notify("AnimationComplete",t)}))}(e,t,n))))}function qE(e){let t=VE(e),n=KE(),r=!0;const i=t=>(n,r)=>{const i=Ub(e,r,"exit"===t?e.presenceContext?.custom:void 0);if(i){const{transition:e,transitionEnd:t,...r}=i;n={...n,...r,...t}}return n};function a(a){const{props:o}=e,s=jE(e.parent)||{},u=[],c=new Set;let l={},d=1/0;for(let t=0;t<zE;t++){const p=UE[t],f=n[p],h=void 0!==o[p]?o[p]:s[p],m=RE(h),v=p===a?f.isActive:null;!1===v&&(d=t);let g=h===s[p]&&h!==o[p]&&m;if(g&&r&&e.manuallyAnimateOnMount&&(g=!1),f.protectedKeys={...l},!f.isActive&&null===v||!h&&!f.prevProp||Mb(h)||"boolean"==typeof h)continue;const y=HE(f.prevProp,h);let b=y||p===a&&f.isActive&&!g&&m||t>d&&m,w=!1;const D=Array.isArray(h)?h:[h];let A=D.reduce(i(p),{});!1===v&&(A={});const{prevResolvedValues:E={}}=f,k={...E,...A},C=t=>{b=!0,c.has(t)&&(w=!0,c.delete(t)),f.needsAnimating[t]=!0;const n=e.getValue(t);n&&(n.liveStyle=!1)};for(const e in k){const t=A[e],n=E[e];if(l.hasOwnProperty(e))continue;let r=!1;r=Hb(t)&&Hb(n)?!BE(t,n):t!==n,r?null!=t?C(e):c.add(e):void 0!==t&&c.has(e)?C(e):f.protectedKeys[e]=!0}f.prevProp=h,f.prevResolvedValues=A,f.isActive&&(l={...l,...A}),r&&e.blockInitialAnimation&&(b=!1);b&&(!(g&&y)||w)&&u.push(...D.map((e=>({animation:e,options:{type:p}}))))}if(c.size){const t={};if("boolean"!=typeof o.initial){const n=Ub(e,Array.isArray(o.initial)?o.initial[0]:o.initial);n&&n.transition&&(t.transition=n.transition)}c.forEach((n=>{const r=e.getBaseTarget(n),i=e.getValue(n);i&&(i.liveStyle=!0),t[n]=r??null})),u.push({animation:t})}let p=Boolean(u.length);return!r||!1!==o.initial&&o.initial!==o.animate||e.manuallyAnimateOnMount||(p=!1),r=!1,p?t(u):Promise.resolve()}return{animateChanges:a,setActive:function(t,r){if(n[t].isActive===r)return Promise.resolve();e.variantChildren?.forEach((e=>e.animationState?.setActive(t,r))),n[t].isActive=r;const i=a(t);for(const e in n)n[e].protectedKeys={};return i},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=KE(),r=!0}}}function HE(e,t){return"string"==typeof t?t!==e:!!Array.isArray(t)&&!BE(t,e)}function WE(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function KE(){return{animate:WE(!0),whileInView:WE(),whileHover:WE(),whileTap:WE(),whileDrag:WE(),whileFocus:WE(),exit:WE()}}class $E{constructor(e){this.isMounted=!1,this.node=e}update(){}}let GE=0;const QE={animation:{Feature:class extends $E{constructor(e){super(e),e.animationState||(e.animationState=qE(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Mb(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}},exit:{Feature:class extends $E{constructor(){super(...arguments),this.id=GE++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then((()=>{t(this.id)}))}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}}};function YE(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const XE=e=>"mouse"===e.pointerType?"number"!=typeof e.button||e.button<=0:!1!==e.isPrimary;function ZE(e){return{point:{x:e.pageX,y:e.pageY}}}function JE(e,t,n,r){return YE(e,t,(e=>t=>XE(t)&&e(t,ZE(t)))(n),r)}function ek({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function tk(e){return e.max-e.min}function nk(e,t,n,r=.5){e.origin=r,e.originPoint=nA(t.min,t.max,e.origin),e.scale=tk(n)/tk(t),e.translate=nA(n.min,n.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function rk(e,t,n,r){nk(e.x,t.x,n.x,r?r.originX:void 0),nk(e.y,t.y,n.y,r?r.originY:void 0)}function ik(e,t,n){e.min=n.min+t.min,e.max=e.min+tk(t)}function ak(e,t,n){e.min=t.min-n.min,e.max=e.min+tk(t)}function ok(e,t,n){ak(e.x,t.x,n.x),ak(e.y,t.y,n.y)}const sk=()=>({x:{min:0,max:0},y:{min:0,max:0}});function uk(e){return[e("x"),e("y")]}function ck(e){return void 0===e||1===e}function lk({scale:e,scaleX:t,scaleY:n}){return!ck(e)||!ck(t)||!ck(n)}function dk(e){return lk(e)||pk(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function pk(e){return fk(e.x)||fk(e.y)}function fk(e){return e&&"0%"!==e}function hk(e,t,n){return n+t*(e-n)}function mk(e,t,n,r,i){return void 0!==i&&(e=hk(e,i,r)),hk(e,n,r)+t}function vk(e,t=0,n=1,r,i){e.min=mk(e.min,t,n,r,i),e.max=mk(e.max,t,n,r,i)}function gk(e,{x:t,y:n}){vk(e.x,t.translate,t.scale,t.originPoint),vk(e.y,n.translate,n.scale,n.originPoint)}const yk=.999999999999,bk=1.0000000000001;function wk(e,t){e.min=e.min+t,e.max=e.max+t}function Dk(e,t,n,r,i=.5){vk(e,t,n,nA(e.min,e.max,i),r)}function Ak(e,t){Dk(e.x,t.x,t.scaleX,t.scale,t.originX),Dk(e.y,t.y,t.scaleY,t.scale,t.originY)}function Ek(e,t){return ek(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const kk=({current:e})=>e?e.ownerDocument.defaultView:null;function Ck(e){return e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}const _k=(e,t)=>Math.abs(e-t);class xk{constructor(e,t,{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=Fk(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=_k(e.x,t.x),r=_k(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;const{point:r}=e,{timestamp:i}=Jb;this.history.push({...r,timestamp:i});const{onStart:a,onMove:o}=this.handlers;t||(a&&a(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),o&&o(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=Sk(t,this.transformPagePoint),Xb.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const a=Fk("pointercancel"===e.type?this.lastMoveEventInfo:Sk(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,a),r&&r(e,a)},!XE(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=n,this.contextWindow=r||window;const a=Sk(ZE(e),this.transformPagePoint),{point:o}=a,{timestamp:s}=Jb;this.history=[{...o,timestamp:s}];const{onSessionStart:u}=t;u&&u(e,Fk(a,this.history)),this.removeListeners=lA(JE(this.contextWindow,"pointermove",this.handlePointerMove),JE(this.contextWindow,"pointerup",this.handlePointerUp),JE(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Zb(this.updatePoint)}}function Sk(e,t){return t?{point:t(e.point)}:e}function Tk(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Fk({point:e},t){return{point:e,delta:Tk(e,Pk(t)),offset:Tk(e,Ok(t)),velocity:Ik(t,.1)}}function Ok(e){return e[0]}function Pk(e){return e[e.length-1]}function Ik(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=Pk(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>PA(t)));)n--;if(!r)return{x:0,y:0};const a=IA(i.timestamp-r.timestamp);if(0===a)return{x:0,y:0};const o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Bk(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function Rk(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const Nk=.35;function Mk(e,t,n){return{min:Lk(e,t),max:Lk(e,n)}}function Lk(e,t){return"number"==typeof e?e:e[t]||0}const jk={x:!1,y:!1};function Uk(){return jk.x||jk.y}const zk=new WeakMap;class Vk{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:r}=this.getProps();this.panSession=new xk(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(ZE(e).point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(a=n)||"y"===a?jk[a]?null:(jk[a]=!0,()=>{jk[a]=!1}):jk.x||jk.y?null:(jk.x=jk.y=!0,()=>{jk.x=jk.y=!1}),!this.openDragLock))return;var a;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),uk((e=>{let t=this.getAxisMotionValue(e).get()||0;if(Ww.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=tk(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t})),i&&Xb.postRender((()=>i(e,t))),fw(this.visualElement,"transform");const{animationState:o}=this.visualElement;o&&o.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:a}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:o}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e,t=10){let n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(o),void(null!==this.currentDirection&&i&&i(this.currentDirection));this.updateAxis("x",t.point,o),this.updateAxis("y",t.point,o),this.visualElement.render(),a&&a(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>uk((e=>"paused"===this.getAnimationState(e)&&this.getAxisMotionValue(e).animation?.play()))},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r,contextWindow:kk(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&Xb.postRender((()=>i(e,t)))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!qk(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=function(e,{min:t,max:n},r){return void 0!==t&&e<t?e=r?nA(t,e,r.min):Math.max(e,t):void 0!==n&&e>n&&(e=r?nA(n,e,r.max):Math.min(e,n)),e}(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;e&&Ck(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!e||!n)&&function(e,{top:t,left:n,bottom:r,right:i}){return{x:Bk(e.x,n,i),y:Bk(e.y,t,r)}}(n.layoutBox,e),this.elastic=function(e=Nk){return!1===e?e=0:!0===e&&(e=Nk),{x:Mk(e,"left","right"),y:Mk(e,"top","bottom")}}(t),r!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&uk((e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(n.layoutBox[e],this.constraints[e]))}))}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Ck(e))return!1;const n=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=function(e,t,n){const r=Ek(e,n),{scroll:i}=t;return i&&(wk(r.x,i.offset.x),wk(r.y,i.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let a=function(e,t){return{x:Rk(e.x,t.x),y:Rk(e.y,t.y)}}(r.layout.layoutBox,i);if(t){const e=t(function({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}(a));this.hasMutatedConstraints=!!e,e&&(a=ek(e))}return a}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),s=this.constraints||{},u=uk((o=>{if(!qk(o,t,this.currentDirection))return;let u=s&&s[o]||{};a&&(u={min:0,max:0});const c=r?200:1e6,l=r?40:1e7,d={type:"inertia",velocity:n?e[o]:0,bounceStiffness:c,bounceDamping:l,timeConstant:750,restDelta:1,restSpeed:10,...i,...u};return this.startAxisValueAnimation(o,d)}));return Promise.all(u).then(o)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return fw(this.visualElement,e),n.start(TE(e,n,0,t,this.visualElement,!1))}stopAnimation(){uk((e=>this.getAxisMotionValue(e).stop()))}pauseAnimation(){uk((e=>this.getAxisMotionValue(e).animation?.pause()))}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){uk((t=>{const{drag:n}=this.getProps();if(!qk(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:a}=r.layout.layoutBox[t];i.set(e[t]-nA(n,a,.5))}}))}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!Ck(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};uk((e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const n=t.get();r[e]=function(e,t){let n=.5;const r=tk(e),i=tk(t);return i>r?n=nE(t.min,t.max-r,e.min):r>i&&(n=nE(e.min,e.max-i,t.min)),Ow(0,1,n)}({min:n,max:n},this.constraints[e])}}));const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),uk((t=>{if(!qk(t,e,null))return;const n=this.getAxisMotionValue(t),{min:i,max:a}=this.constraints[t];n.set(nA(i,a,r[t]))}))}addListeners(){if(!this.visualElement.current)return;zk.set(this.visualElement,this);const e=JE(this.visualElement.current,"pointerdown",(e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)})),t=()=>{const{dragConstraints:e}=this.getProps();Ck(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),Xb.read(t);const i=YE(window,"resize",(()=>this.scalePositionWithinConstraints())),a=n.addEventListener("didUpdate",(({delta:e,hasLayoutChanged:t})=>{this.isDragging&&t&&(uk((t=>{const n=this.getAxisMotionValue(t);n&&(this.originPoint[t]+=e[t].translate,n.set(n.get()+e[t].translate))})),this.visualElement.render())}));return()=>{i(),e(),r(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:a=Nk,dragMomentum:o=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:a,dragMomentum:o}}}function qk(e,t,n){return!(!0!==t&&t!==e||null!==n&&n!==e)}const Hk=e=>(t,n)=>{e&&Xb.postRender((()=>e(t,n)))};const Wk=(0,c.createContext)({}),Kk={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function $k(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Gk={correct:(e,t)=>{if(!t.target)return e;if("string"==typeof e){if(!Kw.test(e))return e;e=parseFloat(e)}return`${$k(e,t.target.x)}% ${$k(e,t.target.y)}%`}},Qk={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=oD.parse(e);if(i.length>5)return r;const a=oD.createTransformer(e),o="number"!=typeof i[0]?1:0,s=n.x.scale*t.x,u=n.y.scale*t.y;i[0+o]/=s,i[1+o]/=u;const c=nA(s,u,.5);return"number"==typeof i[2+o]&&(i[2+o]/=c),"number"==typeof i[3+o]&&(i[3+o]/=c),a(i)}},Yk={};const{schedule:Xk,cancel:Zk}=Qb(queueMicrotask,!1);class Jk extends c.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=e;!function(e){for(const t in e)Yk[t]=e[t],zD(t)&&(Yk[t].isCSSVariable=!0)}(tC),i&&(t.group&&t.group.add(i),n&&n.register&&r&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",(()=>{this.safeToRemove()})),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Kk.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:i}=this.props,a=n.projection;return a?(a.isPresent=i,r||e.layoutDependency!==t||void 0===t||e.isPresent!==i?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||Xb.postRender((()=>{const e=a.getStack();e&&e.members.length||this.safeToRemove()}))),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Xk.postRender((()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()})))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function eC(e){const[t,n]=Pb(),r=(0,c.useContext)(Ab);return(0,Db.jsx)(Jk,{...e,layoutGroup:r,switchLayoutGroup:(0,c.useContext)(Wk),isPresent:t,safeToRemove:n})}const tC={borderRadius:{...Gk,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Gk,borderTopRightRadius:Gk,borderBottomLeftRadius:Gk,borderBottomRightRadius:Gk,boxShadow:Qk};const nC=(e,t)=>e.depth-t.depth;class rC{constructor(){this.children=[],this.isDirty=!1}add(e){iw(this.children,e),this.isDirty=!0}remove(e){aw(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(nC),this.isDirty=!1,this.children.forEach(e)}}function iC(e,t){const n=rw.now(),r=({timestamp:i})=>{const a=i-n;a>=t&&(Zb(r),e(a-t))};return Xb.read(r,!0),()=>Zb(r)}function aC(e){const t=pw(e)?e.get():e;return(e=>Boolean(e&&"object"==typeof e&&e.mix&&e.toValue))(t)?t.toValue():t}const oC=["TopLeft","TopRight","BottomLeft","BottomRight"],sC=oC.length,uC=e=>"string"==typeof e?parseFloat(e):e,cC=e=>"number"==typeof e||Kw.test(e);function lC(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const dC=fC(0,.5,xw),pC=fC(.5,.95,Yb);function fC(e,t,n){return r=>r<e?0:r>t?1:n(nE(e,t,r))}function hC(e,t){e.min=t.min,e.max=t.max}function mC(e,t){hC(e.x,t.x),hC(e.y,t.y)}function vC(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function gC(e,t,n,r,i){return e=hk(e-=t,1/n,r),void 0!==i&&(e=hk(e,1/i,r)),e}function yC(e,t,[n,r,i],a,o){!function(e,t=0,n=1,r=.5,i,a=e,o=e){Ww.test(t)&&(t=parseFloat(t),t=nA(o.min,o.max,t/100)-o.min);if("number"!=typeof t)return;let s=nA(a.min,a.max,r);e===a&&(s-=t),e.min=gC(e.min,t,n,s,i),e.max=gC(e.max,t,n,s,i)}(e,t[n],t[r],t[i],t.scale,a,o)}const bC=["x","scaleX","originX"],wC=["y","scaleY","originY"];function DC(e,t,n,r){yC(e.x,t,bC,n?n.x:void 0,r?r.x:void 0),yC(e.y,t,wC,n?n.y:void 0,r?r.y:void 0)}function AC(e){return 0===e.translate&&1===e.scale}function EC(e){return AC(e.x)&&AC(e.y)}function kC(e,t){return e.min===t.min&&e.max===t.max}function CC(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function _C(e,t){return CC(e.x,t.x)&&CC(e.y,t.y)}function xC(e){return tk(e.x)/tk(e.y)}function SC(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class TC{constructor(){this.members=[]}add(e){iw(this.members,e),e.scheduleRender()}remove(e){if(aw(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex((t=>e===t));if(0===t)return!1;let n;for(let e=t;e>=0;e--){const t=this.members[e];if(!1!==t.isPresent){n=t;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach((e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()}))}scheduleRender(){this.members.forEach((e=>{e.instance&&e.scheduleRender(!1)}))}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const FC={nodes:0,calculatedTargetDeltas:0,calculatedProjections:0},OC=["","X","Y","Z"],PC={visibility:"hidden"};let IC=0;function BC(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function RC(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=vw(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:t,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Xb,!(t||r))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&RC(r)}function NC({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(e={},n=t?.()){this.id=IC++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,$b.value&&(FC.nodes=FC.calculatedTargetDeltas=FC.calculatedProjections=0),this.nodes.forEach(jC),this.nodes.forEach(KC),this.nodes.forEach($C),this.nodes.forEach(UC),$b.addProjectionMetrics&&$b.addProjectionMetrics(FC)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=n?n.root||n:this,this.path=n?[...n.path,n]:[],this.parent=n,this.depth=n?n.depth+1:0;for(let e=0;e<this.path.length;e++)this.path[e].shouldResetTransform=!0;this.root===this&&(this.nodes=new rC)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new ow),this.eventHandlers.get(e).add(t)}notifyListeners(e,...t){const n=this.eventHandlers.get(e);n&&n.notify(...t)}hasListeners(e){return this.eventHandlers.has(e)}mount(t,n=this.root.hasTreeAnimated){if(this.instance)return;var r;this.isSVG=(r=t)instanceof SVGElement&&"svg"!==r.tagName,this.instance=t;const{layoutId:i,layout:a,visualElement:o}=this.options;if(o&&!o.current&&o.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(a||i)&&(this.isLayoutDirty=!0),e){let n;const r=()=>this.root.updateBlockedByResize=!1;e(t,(()=>{this.root.updateBlockedByResize=!0,n&&n(),n=iC(r,250),Kk.hasAnimatedSinceResize&&(Kk.hasAnimatedSinceResize=!1,this.nodes.forEach(WC))}))}i&&this.root.registerSharedNode(i,this),!1!==this.options.animate&&o&&(i||a)&&this.addEventListener("didUpdate",(({delta:e,hasLayoutChanged:t,hasRelativeLayoutChanged:n,layout:r})=>{if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const i=this.options.transition||o.getDefaultTransition()||JC,{onLayoutAnimationStart:a,onLayoutAnimationComplete:s}=o.getProps(),u=!this.targetLayout||!_C(this.targetLayout,r),c=!t&&n;if(this.options.layoutRoot||this.resumeFrom||c||t&&(u||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(e,c);const t={...CE(i,"layout"),onPlay:a,onComplete:s};(o.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t)}else t||WC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=r}))}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Zb(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(GC),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(e=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&RC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let e=0;e<this.path.length;e++){const t=this.path[e];t.shouldResetTransform=!0,t.updateScroll("snapshot"),t.options.layoutRoot&&t.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(VC);this.isUpdating||this.nodes.forEach(qC),this.isUpdating=!1,this.nodes.forEach(HC),this.nodes.forEach(MC),this.nodes.forEach(LC),this.clearAllSnapshots();const e=rw.now();Jb.delta=Ow(0,1e3/60,e-Jb.timestamp),Jb.timestamp=e,Jb.isProcessing=!0,ew.update.process(Jb),ew.preRender.process(Jb),ew.render.process(Jb),Jb.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Xk.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(zC),this.sharedNodes.forEach(QC)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Xb.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Xb.postRender((()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()}))}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||tk(this.snapshot.measuredBox.x)||tk(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance)return;if(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let e=0;e<this.path.length;e++){this.path[e].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(e="measure"){let t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t){const t=r(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!i)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!EC(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,a=r!==this.prevTransformTemplateValue;e&&(t||dk(this.latestValues)||a)&&(i(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(e=!0){const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),n_((r=n).x),n_(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:e}=this.options;if(!e)return{x:{min:0,max:0},y:{min:0,max:0}};const t=e.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(i_))){const{scroll:e}=this.root;e&&(wk(t.x,e.offset.x),wk(t.y,e.offset.y))}return t}removeElementScroll(e){const t={x:{min:0,max:0},y:{min:0,max:0}};if(mC(t,e),this.scroll?.wasRoot)return t;for(let n=0;n<this.path.length;n++){const r=this.path[n],{scroll:i,options:a}=r;r!==this.root&&i&&a.layoutScroll&&(i.wasRoot&&mC(t,e),wk(t.x,i.offset.x),wk(t.y,i.offset.y))}return t}applyTransform(e,t=!1){const n={x:{min:0,max:0},y:{min:0,max:0}};mC(n,e);for(let e=0;e<this.path.length;e++){const r=this.path[e];!t&&r.options.layoutScroll&&r.scroll&&r!==r.root&&Ak(n,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),dk(r.latestValues)&&Ak(n,r.latestValues)}return dk(this.latestValues)&&Ak(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};mC(t,e);for(let e=0;e<this.path.length;e++){const n=this.path[e];if(!n.instance)continue;if(!dk(n.latestValues))continue;lk(n.latestValues)&&n.updateSnapshot();const r={x:{min:0,max:0},y:{min:0,max:0}};mC(r,n.measurePageBox()),DC(t,n.latestValues,n.snapshot?n.snapshot.layoutBox:void 0,r)}return dk(this.latestValues)&&DC(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Jb.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(e=!1){const t=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=t.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=t.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=t.isSharedProjectionDirty);const n=Boolean(this.resumingFrom)||this!==t;if(!(e||n&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:r,layoutId:i}=this.options;if(this.layout&&(r||i)){if(this.resolvedRelativeTargetAt=Jb.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},ok(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),mC(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var a,o,s;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),a=this.target,o=this.relativeTarget,s=this.relativeParent.target,ik(a.x,o.x,s.x),ik(a.y,o.y,s.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):mC(this.target,this.layout.layoutBox),gk(this.target,this.targetDelta)):mC(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},ok(this.relativeTargetOrigin,this.target,e.target),mC(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}$b.value&&FC.calculatedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!lk(this.parent.latestValues)&&!pk(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const e=this.getLead(),t=Boolean(this.resumingFrom)||this!==e;let n=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(n=!1),t&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(n=!1),this.resolvedRelativeTargetAt===Jb.timestamp&&(n=!1),n)return;const{layout:r,layoutId:i}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!r&&!i)return;mC(this.layoutCorrected,this.layout.layoutBox);const a=this.treeScale.x,o=this.treeScale.y;!function(e,t,n,r=!1){const i=n.length;if(!i)return;let a,o;t.x=t.y=1;for(let s=0;s<i;s++){a=n[s],o=a.projectionDelta;const{visualElement:i}=a.options;i&&i.props.style&&"contents"===i.props.style.display||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Ak(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,gk(e,o)),r&&dk(a.latestValues)&&Ak(e,a.latestValues))}t.x<bk&&t.x>yk&&(t.x=1),t.y<bk&&t.y>yk&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,t),!e.layout||e.target||1===this.treeScale.x&&1===this.treeScale.y||(e.target=e.layout.layoutBox,e.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:s}=e;s?(this.projectionDelta&&this.prevProjectionDelta?(vC(this.prevProjectionDelta.x,this.projectionDelta.x),vC(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),rk(this.projectionDelta,this.layoutCorrected,s,this.latestValues),this.treeScale.x===a&&this.treeScale.y===o&&SC(this.projectionDelta.x,this.prevProjectionDelta.x)&&SC(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",s)),$b.value&&FC.calculatedProjections++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(e=!0){if(this.options.visualElement?.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e,t=!1){const n=this.snapshot,r=n?n.latestValues:{},i={...this.latestValues},a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const o={x:{min:0,max:0},y:{min:0,max:0}},s=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),u=this.getStack(),c=!u||u.members.length<=1,l=Boolean(s&&!c&&!0===this.options.crossfade&&!this.path.some(ZC));let d;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;YC(a.x,e.x,n),YC(a.y,e.y,n),this.setTargetDelta(a),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ok(o,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(e,t,n,r){XC(e.x,t.x,n.x,r),XC(e.y,t.y,n.y,r)}(this.relativeTarget,this.relativeTargetOrigin,o,n),d&&function(e,t){return kC(e.x,t.x)&&kC(e.y,t.y)}(this.relativeTarget,d)&&(this.isProjectionDirty=!1),d||(d={x:{min:0,max:0},y:{min:0,max:0}}),mC(d,this.relativeTarget)),s&&(this.animationValues=i,function(e,t,n,r,i,a){i?(e.opacity=nA(0,n.opacity??1,dC(r)),e.opacityExit=nA(t.opacity??1,0,pC(r))):a&&(e.opacity=nA(t.opacity??1,n.opacity??1,r));for(let i=0;i<sC;i++){const a=`border${oC[i]}Radius`;let o=lC(t,a),s=lC(n,a);void 0===o&&void 0===s||(o||(o=0),s||(s=0),0===o||0===s||cC(o)===cC(s)?(e[a]=Math.max(nA(uC(o),uC(s),r),0),(Ww.test(s)||Ww.test(o))&&(e[a]+="%")):e[a]=s)}(t.rotate||n.rotate)&&(e.rotate=nA(t.rotate||0,n.rotate||0,r))}(i,r,this.latestValues,n,l,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Zb(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Xb.update((()=>{Kk.hasAnimatedSinceResize=!0,sE.layout++,this.currentAnimation=function(e,t,n){const r=pw(e)?e:lw(e);return r.start(TE("",r,t,n)),r.animation}(0,1e3,{...e,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{sE.layout--},onComplete:()=>{sE.layout--,e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0}))}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:i}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&r_(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=tk(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=tk(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}mC(t,n),Ak(t,i),rk(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new TC);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){const{layoutId:e}=this.options;return e&&this.getStack()?.lead||this}getPrevLead(){const{layoutId:e}=this.options;return e?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote({needsReset:e,transition:t,preserveFollowOpacity:n}={}){const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;const r={};n.z&&BC("z",e,r,this.animationValues);for(let t=0;t<OC.length;t++)BC(`rotate${OC[t]}`,e,r,this.animationValues),BC(`skew${OC[t]}`,e,r,this.animationValues);e.render();for(const t in r)e.setStaticValue(t,r[t]),this.animationValues&&(this.animationValues[t]=r[t]);e.scheduleRender()}getProjectionStyles(e){if(!this.instance||this.isSVG)return;if(!this.isVisible)return PC;const t={visibility:""},n=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,t.opacity="",t.pointerEvents=aC(e?.pointerEvents)||"",t.transform=n?n(this.latestValues,""):"none",t;const r=this.getLead();if(!this.projectionDelta||!this.layout||!r.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=aC(e?.pointerEvents)||""),this.hasProjected&&!dk(this.latestValues)&&(t.transform=n?n({},""):"none",this.hasProjected=!1),t}const i=r.animationValues||r.latestValues;this.applyTransformsToTarget(),t.transform=function(e,t,n){let r="";const i=e.x.translate/t.x,a=e.y.translate/t.y,o=n?.z||0;if((i||a||o)&&(r=`translate3d(${i}px, ${a}px, ${o}px) `),1===t.x&&1===t.y||(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:e,rotate:t,rotateX:i,rotateY:a,skewX:o,skewY:s}=n;e&&(r=`perspective(${e}px) ${r}`),t&&(r+=`rotate(${t}deg) `),i&&(r+=`rotateX(${i}deg) `),a&&(r+=`rotateY(${a}deg) `),o&&(r+=`skewX(${o}deg) `),s&&(r+=`skewY(${s}deg) `)}const s=e.x.scale*t.x,u=e.y.scale*t.y;return 1===s&&1===u||(r+=`scale(${s}, ${u})`),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,i),n&&(t.transform=n(i,t.transform));const{x:a,y:o}=this.projectionDelta;t.transformOrigin=`${100*a.origin}% ${100*o.origin}% 0`,r.animationValues?t.opacity=r===this?i.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:i.opacityExit:t.opacity=r===this?void 0!==i.opacity?i.opacity:"":void 0!==i.opacityExit?i.opacityExit:0;for(const e in Yk){if(void 0===i[e])continue;const{correct:n,applyTo:a,isCSSVariable:o}=Yk[e],s="none"===t.transform?i[e]:n(i[e],r);if(a){const e=a.length;for(let n=0;n<e;n++)t[a[n]]=s}else o?this.options.visualElement.renderState.vars[e]=s:t[e]=s}return this.options.layoutId&&(t.pointerEvents=r===this?aC(e?.pointerEvents)||"":"none"),t}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach((e=>e.currentAnimation?.stop())),this.root.nodes.forEach(VC),this.root.sharedNodes.clear()}}}function MC(e){e.updateLayout()}function LC(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=e.layout,{animationType:i}=e.options,a=t.source!==e.layout.source;"size"===i?uk((e=>{const r=a?t.measuredBox[e]:t.layoutBox[e],i=tk(r);r.min=n[e].min,r.max=r.min+i})):r_(i,t.layoutBox,n)&&uk((r=>{const i=a?t.measuredBox[r]:t.layoutBox[r],o=tk(n[r]);i.max=i.min+o,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+o)}));const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};rk(o,n,t.layoutBox);const s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};a?rk(s,e.applyTransform(r,!0),t.measuredBox):rk(s,n,t.layoutBox);const u=!EC(o);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:i,layout:a}=r;if(i&&a){const o={x:{min:0,max:0},y:{min:0,max:0}};ok(o,t.layoutBox,i.layoutBox);const s={x:{min:0,max:0},y:{min:0,max:0}};ok(s,n,a.layoutBox),_C(o,s)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=s,e.relativeTargetOrigin=o,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:s,layoutDelta:o,hasLayoutChanged:u,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function jC(e){$b.value&&FC.nodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function UC(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function zC(e){e.clearSnapshot()}function VC(e){e.clearMeasurements()}function qC(e){e.isLayoutDirty=!1}function HC(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function WC(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function KC(e){e.resolveTargetDelta()}function $C(e){e.calcProjection()}function GC(e){e.resetSkewAndRotation()}function QC(e){e.removeLeadSnapshot()}function YC(e,t,n){e.translate=nA(t.translate,0,n),e.scale=nA(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function XC(e,t,n,r){e.min=nA(t.min,n.min,r),e.max=nA(t.max,n.max,r)}function ZC(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const JC={duration:.45,ease:[.4,0,.1,1]},e_=e=>"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),t_=e_("applewebkit/")&&!e_("chrome/")?Math.round:Yb;function n_(e){e.min=t_(e.min),e.max=t_(e.max)}function r_(e,t,n){return"position"===e||"preserve-aspect"===e&&!function(e,t,n){return Math.abs(e-t)<=n}(xC(t),xC(n),.2)}function i_(e){return e!==e.root&&e.scroll?.wasRoot}const a_=NC({attachResizeListener:(e,t)=>YE(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),o_={current:void 0},s_=NC({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!o_.current){const e=new a_({});e.mount(window),e.setOptions({layoutScroll:!0}),o_.current=e}return o_.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),u_={pan:{Feature:class extends $E{constructor(){super(...arguments),this.removePointerDownListener=Yb}onPointerDown(e){this.session=new xk(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:kk(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:Hk(e),onStart:Hk(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&Xb.postRender((()=>r(e,t)))}}}mount(){this.removePointerDownListener=JE(this.node.current,"pointerdown",(e=>this.onPointerDown(e)))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends $E{constructor(e){super(e),this.removeGroupControls=Yb,this.removeListeners=Yb,this.controls=new Vk(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Yb}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:s_,MeasureLayout:eC}};function c_(e,t){const n=function(e,t,n){if(e instanceof EventTarget)return[e];if("string"==typeof e){let r=document;t&&(r=t.current);const i=n?.[e]??r.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}(e),r=new AbortController;return[n,{passive:!0,...t,signal:r.signal},()=>r.abort()]}function l_(e){return!("touch"===e.pointerType||Uk())}function d_(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover","Start"===n);const i=r["onHover"+n];i&&Xb.postRender((()=>i(t,ZE(t))))}const p_=(e,t)=>!!t&&(e===t||p_(e,t.parentElement)),f_=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const h_=new WeakSet;function m_(e){return t=>{"Enter"===t.key&&e(t)}}function v_(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function g_(e){return XE(e)&&!Uk()}function y_(e,t,n={}){const[r,i,a]=c_(e,n),o=e=>{const r=e.currentTarget;if(!g_(e)||h_.has(r))return;h_.add(r);const a=t(r,e),o=(e,t)=>{window.removeEventListener("pointerup",s),window.removeEventListener("pointercancel",u),g_(e)&&h_.has(r)&&(h_.delete(r),"function"==typeof a&&a(e,{success:t}))},s=e=>{o(e,r===window||r===document||n.useGlobalTarget||p_(r,e.target))},u=e=>{o(e,!1)};window.addEventListener("pointerup",s,i),window.addEventListener("pointercancel",u,i)};return r.forEach((e=>{var t;(n.useGlobalTarget?window:e).addEventListener("pointerdown",o,i),e instanceof HTMLElement&&(e.addEventListener("focus",(e=>((e,t)=>{const n=e.currentTarget;if(!n)return;const r=m_((()=>{if(h_.has(n))return;v_(n,"down");const e=m_((()=>{v_(n,"up")}));n.addEventListener("keyup",e,t),n.addEventListener("blur",(()=>v_(n,"cancel")),t)}));n.addEventListener("keydown",r,t),n.addEventListener("blur",(()=>n.removeEventListener("keydown",r)),t)})(e,i))),t=e,f_.has(t.tagName)||-1!==t.tabIndex||e.hasAttribute("tabindex")||(e.tabIndex=0))})),a}function b_(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap","Start"===n);const i=r["onTap"+("End"===n?"":n)];i&&Xb.postRender((()=>i(t,ZE(t))))}const w_=new WeakMap,D_=new WeakMap,A_=e=>{const t=w_.get(e.target);t&&t(e)},E_=e=>{e.forEach(A_)};function k_(e,t,n){const r=function({root:e,...t}){const n=e||document;D_.has(n)||D_.set(n,{});const r=D_.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(E_,{root:e,...t})),r[i]}(t);return w_.set(e,n),r.observe(e),()=>{w_.delete(e),r.unobserve(e)}}const C_={some:0,all:1};const __={inView:{Feature:class extends $E{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:i}=e,a={root:t?t.current:void 0,rootMargin:n,threshold:"number"==typeof r?r:C_[r]};return k_(this.node.current,a,(e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,i&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),a=t?n:r;a&&a(e)}))}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(function({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}(e,t))&&this.startObserver()}unmount(){}}},tap:{Feature:class extends $E{mount(){const{current:e}=this.node;e&&(this.unmount=y_(e,((e,t)=>(b_(this.node,t,"Start"),(e,{success:t})=>b_(this.node,e,t?"End":"Cancel"))),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends $E{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(t){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=lA(YE(this.node.current,"focus",(()=>this.onFocus())),YE(this.node.current,"blur",(()=>this.onBlur())))}unmount(){}}},hover:{Feature:class extends $E{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t,n={}){const[r,i,a]=c_(e,n),o=e=>{if(!l_(e))return;const{target:n}=e,r=t(n,e);if("function"!=typeof r||!n)return;const a=e=>{l_(e)&&(r(e),n.removeEventListener("pointerleave",a))};n.addEventListener("pointerleave",a,i)};return r.forEach((e=>{e.addEventListener("pointerenter",o,i)})),a}(e,((e,t)=>(d_(this.node,t,"Start"),e=>d_(this.node,e,"End")))))}unmount(){}}}},x_={layout:{ProjectionNode:s_,MeasureLayout:eC}},S_=(0,c.createContext)({strict:!1}),T_=(0,c.createContext)({});function F_(e){return Mb(e.animate)||ME.some((t=>RE(e[t])))}function O_(e){return Boolean(F_(e)||e.variants)}function P_(e){const{initial:t,animate:n}=function(e,t){if(F_(e)){const{initial:t,animate:n}=e;return{initial:!1===t||RE(t)?t:void 0,animate:RE(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,c.useContext)(T_));return(0,c.useMemo)((()=>({initial:t,animate:n})),[I_(t),I_(n)])}function I_(e){return Array.isArray(e)?e.join(" "):e}const B_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},R_={};for(const e in B_)R_[e]={isEnabled:t=>B_[e].some((e=>!!t[e]))};const N_=Symbol.for("motionComponentSymbol");function M_(e,t,n){return(0,c.useCallback)((r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&("function"==typeof n?n(r):Ck(n)&&(n.current=r))}),[t])}function L_(e,t,n,r,i){const{visualElement:a}=(0,c.useContext)(T_),o=(0,c.useContext)(S_),s=(0,c.useContext)(_b),u=(0,c.useContext)(xb).reducedMotion,l=(0,c.useRef)(null);r=r||o.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:a,props:n,presenceContext:s,blockInitialAnimation:!!s&&!1===s.initial,reducedMotionConfig:u}));const d=l.current,p=(0,c.useContext)(Wk);!d||d.projection||!i||"html"!==d.type&&"svg"!==d.type||function(e,t,n,r){const{layoutId:i,layout:a,drag:o,dragConstraints:s,layoutScroll:u,layoutRoot:c,layoutCrossfade:l}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:j_(e.parent)),e.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:Boolean(o)||s&&Ck(s),visualElement:e,animationType:"string"==typeof a?a:"both",initialPromotionConfig:r,crossfade:l,layoutScroll:u,layoutRoot:c})}(l.current,n,i,p);const f=(0,c.useRef)(!1);(0,c.useInsertionEffect)((()=>{d&&f.current&&d.update(n,s)}));const h=n[mw],m=(0,c.useRef)(Boolean(h)&&!window.MotionHandoffIsComplete?.(h)&&window.MotionHasOptimisedAnimation?.(h));return Cb((()=>{d&&(f.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),Xk.render(d.render),m.current&&d.animationState&&d.animationState.animateChanges())})),(0,c.useEffect)((()=>{d&&(!m.current&&d.animationState&&d.animationState.animateChanges(),m.current&&(queueMicrotask((()=>{window.MotionHandoffMarkAsComplete?.(h)})),m.current=!1))})),d}function j_(e){if(e)return!1!==e.options.allowProjection?e.projection:j_(e.parent)}function U_({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){function a(e,a){let o;const s={...(0,c.useContext)(xb),...e,layoutId:z_(e)},{isStatic:u}=s,l=P_(e),d=r(e,u);if(!u&&kb){!function(){(0,c.useContext)(S_).strict;0}();const e=function(e){const{drag:t,layout:n}=R_;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(s);o=e.MeasureLayout,l.visualElement=L_(i,d,s,t,e.ProjectionNode)}return(0,Db.jsxs)(T_.Provider,{value:l,children:[o&&l.visualElement?(0,Db.jsx)(o,{visualElement:l.visualElement,...s}):null,n(i,e,M_(d,l.visualElement,a),d,u,l.visualElement)]})}e&&function(e){for(const t in e)R_[t]={...R_[t],...e[t]}}(e),a.displayName=`motion.${"string"==typeof i?i:`create(${i.displayName??i.name??""})`}`;const o=(0,c.forwardRef)(a);return o[N_]=i,o}function z_({layoutId:e}){const t=(0,c.useContext)(Ab).id;return t&&void 0!==e?t+"-"+e:e}function V_(e,{layout:t,layoutId:n}){return Vb.has(e)||e.startsWith("origin")||(t||void 0!==n)&&(!!Yk[e]||"opacity"===e)}const q_=(e,t)=>t&&"number"==typeof e?t.transform(e):e,H_={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},W_=zb.length;function K_(e,t,n){const{style:r,vars:i,transformOrigin:a}=e;let o=!1,s=!1;for(const e in t){const n=t[e];if(Vb.has(e))o=!0;else if(zD(e))i[e]=n;else{const t=q_(n,hD[e]);e.startsWith("origin")?(s=!0,a[e]=t):r[e]=t}}if(t.transform||(o||n?r.transform=function(e,t,n){let r="",i=!0;for(let a=0;a<W_;a++){const o=zb[a],s=e[o];if(void 0===s)continue;let u=!0;if(u="number"==typeof s?s===(o.startsWith("scale")?1:0):0===parseFloat(s),!u||n){const e=q_(s,hD[o]);u||(i=!1,r+=`${H_[o]||o}(${e}) `),n&&(t[o]=e)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}(t,e.transform,n):r.transform&&(r.transform="none")),s){const{originX:e="50%",originY:t="50%",originZ:n=0}=a;r.transformOrigin=`${e} ${t} ${n}`}}const $_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function G_(e,t,n){for(const r in t)pw(t[r])||V_(r,n)||(e[r]=t[r])}function Q_(e,t){const n={};return G_(n,e.style||{},e),Object.assign(n,function({transformTemplate:e},t){return(0,c.useMemo)((()=>{const n={style:{},transform:{},transformOrigin:{},vars:{}};return K_(n,t,e),Object.assign({},n.vars,n.style)}),[t])}(e,t)),n}function Y_(e,t){const n={},r=Q_(e,t);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===e.drag?"none":"pan-"+("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const X_=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Z_(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||X_.has(e)}let J_=e=>!Z_(e);try{(ex=require("@emotion/is-prop-valid").default)&&(J_=e=>e.startsWith("on")?!Z_(e):ex(e))}catch{}var ex;const tx=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function nx(e){return"string"==typeof e&&!e.includes("-")&&!!(tx.indexOf(e)>-1||/[A-Z]/u.test(e))}const rx={offset:"stroke-dashoffset",array:"stroke-dasharray"},ix={offset:"strokeDashoffset",array:"strokeDasharray"};function ax(e,t,n){return"string"==typeof e?e:Kw.transform(t+n*e)}function ox(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:a,pathLength:o,pathSpacing:s=1,pathOffset:u=0,...c},l,d){if(K_(e,c,d),l)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:p,style:f,dimensions:h}=e;p.transform&&(h&&(f.transform=p.transform),delete p.transform),h&&(void 0!==i||void 0!==a||f.transform)&&(f.transformOrigin=function(e,t,n){return`${ax(t,e.x,e.width)} ${ax(n,e.y,e.height)}`}(h,void 0!==i?i:.5,void 0!==a?a:.5)),void 0!==t&&(p.x=t),void 0!==n&&(p.y=n),void 0!==r&&(p.scale=r),void 0!==o&&function(e,t,n=1,r=0,i=!0){e.pathLength=1;const a=i?rx:ix;e[a.offset]=Kw.transform(-r);const o=Kw.transform(t),s=Kw.transform(n);e[a.array]=`${o} ${s}`}(p,o,s,u,!1)}const sx=()=>({style:{},transform:{},transformOrigin:{},vars:{},attrs:{}}),ux=e=>"string"==typeof e&&"svg"===e.toLowerCase();function cx(e,t,n,r){const i=(0,c.useMemo)((()=>{const n={style:{},transform:{},transformOrigin:{},vars:{},attrs:{}};return ox(n,t,ux(r),e.transformTemplate),{...n.attrs,style:{...n.style}}}),[t]);if(e.style){const t={};G_(t,e.style,e),i.style={...t,...i.style}}return i}function lx(e=!1){return(t,n,r,{latestValues:i},a)=>{const o=(nx(t)?cx:Y_)(n,i,a,t),s=function(e,t,n){const r={};for(const i in e)"values"===i&&"object"==typeof e.values||(J_(i)||!0===n&&Z_(i)||!t&&!Z_(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(n,"string"==typeof t,e),u=t!==c.Fragment?{...s,...o,ref:r}:{},{children:l}=n,d=(0,c.useMemo)((()=>pw(l)?l.get():l),[l]);return(0,c.createElement)(t,{...u,children:d})}}const dx=e=>(t,n)=>{const r=(0,c.useContext)(T_),i=(0,c.useContext)(_b),a=()=>function({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},r,i,a){const o={latestValues:px(r,i,a,e),renderState:t()};return n&&(o.onMount=e=>n({props:r,current:e,...o}),o.onUpdate=e=>n(e)),o}(e,t,r,i);return n?a():Eb(a)};function px(e,t,n,r){const i={},a=r(e,{});for(const e in a)i[e]=aC(a[e]);let{initial:o,animate:s}=e;const u=F_(e),c=O_(e);t&&c&&!u&&!1!==e.inherit&&(void 0===o&&(o=t.initial),void 0===s&&(s=t.animate));let l=!!n&&!1===n.initial;l=l||!1===o;const d=l?s:o;if(d&&"boolean"!=typeof d&&!Mb(d)){const t=Array.isArray(d)?d:[d];for(let n=0;n<t.length;n++){const r=jb(e,t[n]);if(r){const{transitionEnd:e,transition:t,...n}=r;for(const e in n){let t=n[e];if(Array.isArray(t)){t=t[l?t.length-1:0]}null!==t&&(i[e]=t)}for(const t in e)i[t]=e[t]}}}return i}function fx(e,t,n){const{style:r}=e,i={};for(const a in r)(pw(r[a])||t.style&&pw(t.style[a])||V_(a,e)||void 0!==n?.getValue(a)?.liveStyle)&&(i[a]=r[a]);return i}const hx={useVisualState:dx({scrapeMotionValuesFromProps:fx,createRenderState:$_})};function mx(e,t){try{t.dimensions="function"==typeof e.getBBox?e.getBBox():e.getBoundingClientRect()}catch(e){t.dimensions={x:0,y:0,width:0,height:0}}}function vx(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const t in n)e.style.setProperty(t,n[t])}const gx=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function yx(e,t,n,r){vx(e,t,void 0,r);for(const n in t.attrs)e.setAttribute(gx.has(n)?n:hw(n),t.attrs[n])}function bx(e,t,n){const r=fx(e,t,n);for(const n in e)if(pw(e[n])||pw(t[n])){r[-1!==zb.indexOf(n)?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n]=e[n]}return r}const wx=["x","y","width","height","cx","cy","r"],Dx={useVisualState:dx({scrapeMotionValuesFromProps:bx,createRenderState:sx,onUpdate:({props:e,prevProps:t,current:n,renderState:r,latestValues:i})=>{if(!n)return;let a=!!e.drag;if(!a)for(const e in i)if(Vb.has(e)){a=!0;break}if(!a)return;let o=!t;if(t)for(let n=0;n<wx.length;n++){const r=wx[n];e[r]!==t[r]&&(o=!0)}o&&Xb.read((()=>{mx(n,r),Xb.render((()=>{ox(r,i,ux(n.tagName),e.transformTemplate),yx(n,r)}))}))}})};function Ax(e,t){return function(n,{forwardMotionProps:r}={forwardMotionProps:!1}){return U_({...nx(n)?Dx:hx,preloadedFeatures:e,useRender:lx(r),createVisualElement:t,Component:n})}}const Ex={current:null},kx={current:!1};const Cx=[...GD,Xw,oD],_x=new WeakMap;const xx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Sx{scrapeMotionValuesFromProps(e,t,n){return{}}constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:r,blockInitialAnimation:i,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=LD,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=rw.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,Xb.render(this.render,!1,!0))};const{latestValues:s,renderState:u,onUpdate:c}=a;this.onUpdate=c,this.latestValues=s,this.baseTarget={...s},this.initialValues=t.initial?{...s}:{},this.renderState=u,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=o,this.blockInitialAnimation=Boolean(i),this.isControllingVariants=F_(t),this.isVariantNode=O_(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(e&&e.current);const{willChange:l,...d}=this.scrapeMotionValuesFromProps(t,{},this);for(const e in d){const t=d[e];void 0!==s[e]&&pw(t)&&t.set(s[e],!1)}}mount(e){this.current=e,_x.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(((e,t)=>this.bindToMotionValue(t,e))),kx.current||function(){if(kx.current=!0,kb)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Ex.current=e.matches;e.addListener(t),t()}else Ex.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||Ex.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Zb(this.notifyUpdate),Zb(this.render),this.valueSubscriptions.forEach((e=>e())),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Vb.has(e);n&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",(t=>{this.latestValues[e]=t,this.props.onUpdate&&Xb.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)})),i=t.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,(()=>{r(),i(),a&&a(),t.owner&&t.stop()}))}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in R_){const t=R_[e];if(!t)continue;const{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let t=0;t<xx.length;t++){const n=xx[t];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);const r=e["on"+n];r&&(this.propEventSubscriptions[n]=this.on(n,r))}this.prevMotionValues=function(e,t,n){for(const r in t){const i=t[r],a=n[r];if(pw(i))e.addValue(r,i);else if(pw(a))e.addValue(r,lw(i,{owner:e}));else if(a!==i)if(e.hasValue(r)){const t=e.getValue(r);!0===t.liveStyle?t.jump(i):t.hasAnimated||t.set(i)}else{const t=e.getStaticValue(r);e.addValue(r,lw(void 0!==t?t:i,{owner:e}))}}for(const r in n)void 0===t[r]&&e.removeValue(r);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=lw(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){let n=void 0===this.latestValues[e]&&this.current?this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];return null!=n&&("string"==typeof n&&(jD(n)||Tw(n))?n=parseFloat(n):!(e=>Cx.find($D(e)))(n)&&oD.test(t)&&(n=gD(e,t)),this.setBaseTarget(e,pw(n)?n.get():n)),pw(n)?n.get():n}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let n;if("string"==typeof t||"object"==typeof t){const r=jb(this.props,t,this.presenceContext?.custom);r&&(n=r[e])}if(t&&void 0!==n)return n;const r=this.getBaseTargetFromProps(this.props,e);return void 0===r||pw(r)?void 0!==this.initialValues[e]&&void 0===n?void 0:this.baseTarget[e]:r}on(e,t){return this.events[e]||(this.events[e]=new ow),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class Tx extends Sx{constructor(){super(...arguments),this.KeyframeResolver=YD}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;pw(e)&&(this.childSubscription=e.on("change",(e=>{this.current&&(this.current.textContent=`${e}`)})))}}class Fx extends Tx{constructor(){super(...arguments),this.type="html",this.renderInstance=vx}readValueFromInstance(e,t){if(Vb.has(t))return((e,t)=>{const{transform:n="none"}=getComputedStyle(e);return xD(n,t)})(e,t);{const r=(n=e,window.getComputedStyle(n)),i=(zD(t)?r.getPropertyValue(t):r[t])||0;return"string"==typeof i?i.trim():i}var n}measureInstanceViewportBox(e,{transformPagePoint:t}){return Ek(e,t)}build(e,t,n){K_(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return fx(e,t,n)}}class Ox extends Tx{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=sk,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&mx(this.current,this.renderState)}}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Vb.has(t)){const e=vD(t);return e&&e.default||0}return t=gx.has(t)?t:hw(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return bx(e,t,n)}onBindTransform(){this.current&&!this.renderState.dimensions&&Xb.postRender(this.updateDimensions)}build(e,t,n){ox(e,t,this.isSVGTag,n.transformTemplate)}renderInstance(e,t,n,r){yx(e,t,0,r)}mount(e){this.isSVGTag=ux(e.tagName),super.mount(e)}}const Px=(e,t)=>nx(e)?new Ox(t):new Fx(t,{allowProjection:e!==c.Fragment}),Ix=Nb(Ax({...QE,...__,...u_,...x_},Px));var Bx={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Rx=c.createContext&&c.createContext(Bx),Nx=function(){return Nx=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Nx.apply(this,arguments)},Mx=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Lx(e){return e&&e.map((function(e,t){return c.createElement(e.tag,Nx({key:t},e.attr),Lx(e.child))}))}function jx(e){return function(t){return c.createElement(Ux,Nx({attr:Nx({},e.attr)},t),Lx(e.child))}}function Ux(e){var t=function(t){var n,r=e.attr,i=e.size,a=e.title,o=Mx(e,["attr","size","title"]),s=i||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),c.createElement("svg",Nx({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,o,{className:n,style:Nx(Nx({color:e.color||t.color},t.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),a&&c.createElement("title",null,a),e.children)};return void 0!==Rx?c.createElement(Rx.Consumer,null,(function(e){return t(e)})):t(Bx)}function zx(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 512 512"},"child":[{"tag":"circle","attr":{"cx":"256","cy":"256","r":"208","fill":"none","strokeMiterlimit":"10","strokeWidth":"32"}},{"tag":"path","attr":{"fill":"none","strokeMiterlimit":"10","strokeWidth":"32","d":"M108.92 108.92l294.16 294.16"}}]})(e)}function Vx(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 512 512"},"child":[{"tag":"path","attr":{"fill":"none","strokeMiterlimit":"10","strokeWidth":"32","d":"M451 374c-15.88-16-54.34-39.35-73-48.76-24.3-12.24-26.3-13.24-45.4.95-12.74 9.47-21.21 17.93-36.12 14.75s-47.31-21.11-75.68-49.39-47.34-61.62-50.53-76.48 5.41-23.23 14.79-36c13.22-18 12.22-21 .92-45.3-8.81-18.9-32.84-57-48.9-72.8C119.9 44 119.9 47 108.83 51.6A160.15 160.15 0 0083 65.37C67 76 58.12 84.83 51.91 98.1s-9 44.38 23.07 102.64 54.57 88.05 101.14 134.49S258.5 406.64 310.85 436c64.76 36.27 89.6 29.2 102.91 23s22.18-15 32.83-31a159.09 159.09 0 0013.8-25.8C465 391.17 468 391.17 451 374z"}}]})(e)}function qx(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 512 512"},"child":[{"tag":"path","attr":{"fill":"none","strokeLinejoin":"round","strokeWidth":"32","d":"M408 64H104a56.16 56.16 0 00-56 56v192a56.16 56.16 0 0056 56h40v80l93.72-78.14a8 8 0 015.13-1.86H408a56.16 56.16 0 0056-56V120a56.16 56.16 0 00-56-56z"}},{"tag":"circle","attr":{"cx":"160","cy":"216","r":"32"}},{"tag":"circle","attr":{"cx":"256","cy":"216","r":"32"}},{"tag":"circle","attr":{"cx":"352","cy":"216","r":"32"}}]})(e)}function Hx(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 512 512"},"child":[{"tag":"path","attr":{"fill":"none","strokeLinecap":"round","strokeMiterlimit":"10","strokeWidth":"32","d":"M431 320.6c-1-3.6 1.2-8.6 3.3-12.2a33.68 33.68 0 012.1-3.1A162 162 0 00464 215c.3-92.2-77.5-167-173.7-167-83.9 0-153.9 57.1-170.3 132.9a160.7 160.7 0 00-3.7 34.2c0 92.3 74.8 169.1 171 169.1 15.3 0 35.9-4.6 47.2-7.7s22.5-7.2 25.4-8.3a26.44 26.44 0 019.3-1.7 26 26 0 0110.1 2l56.7 20.1a13.52 13.52 0 003.9 1 8 8 0 008-8 12.85 12.85 0 00-.5-2.7z"}},{"tag":"path","attr":{"fill":"none","strokeLinecap":"round","strokeMiterlimit":"10","strokeWidth":"32","d":"M66.46 232a146.23 146.23 0 006.39 152.67c2.31 3.49 3.61 6.19 3.21 8s-11.93 61.87-11.93 61.87a8 8 0 002.71 7.68A8.17 8.17 0 0072 464a7.26 7.26 0 002.91-.6l56.21-22a15.7 15.7 0 0112 .2c18.94 7.38 39.88 12 60.83 12A159.21 159.21 0 00284 432.11"}}]})(e)}function Wx(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 512 512"},"child":[{"tag":"path","attr":{"fill":"none","strokeMiterlimit":"10","strokeWidth":"32","d":"M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z"}},{"tag":"path","attr":{"fill":"none","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":"32","d":"M352 176L217.6 336 160 272"}}]})(e)}function Kx(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 512 512"},"child":[{"tag":"path","attr":{"fill":"none","strokeMiterlimit":"10","strokeWidth":"32","d":"M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z"}},{"tag":"path","attr":{"fill":"none","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":"32","d":"M320 320L192 192m0 128l128-128"}}]})(e)}function $x(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 512 512"},"child":[{"tag":"path","attr":{"d":"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"}}]})(e)}function Gx(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 512 512"},"child":[{"tag":"rect","attr":{"width":"336","height":"336","x":"128","y":"128","fill":"none","strokeLinejoin":"round","strokeWidth":"32","rx":"57","ry":"57"}},{"tag":"path","attr":{"fill":"none","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":"32","d":"M383.5 128l.5-24a56.16 56.16 0 00-56-56H112a64.19 64.19 0 00-64 64v216a56.16 56.16 0 0056 56h24"}}]})(e)}function Qx(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 512 512"},"child":[{"tag":"path","attr":{"fill":"none","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":"32","d":"M208 64h66.75a32 32 0 0122.62 9.37l141.26 141.26a32 32 0 019.37 22.62V432a48 48 0 01-48 48H192a48 48 0 01-48-48V304"}},{"tag":"path","attr":{"fill":"none","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":"32","d":"M288 72v120a32 32 0 0032 32h120"}},{"tag":"path","attr":{"fill":"none","strokeLinecap":"round","strokeMiterlimit":"10","strokeWidth":"32","d":"M160 80v152a23.69 23.69 0 01-24 24c-12 0-24-9.1-24-24V88c0-30.59 16.57-56 48-56s48 24.8 48 55.38v138.75c0 43-27.82 77.87-72 77.87s-72-34.86-72-77.87V144"}}]})(e)}function Yx(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 512 512"},"child":[{"tag":"path","attr":{"fill":"none","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":"32","d":"M320 176v-40a40 40 0 00-40-40H88a40 40 0 00-40 40v240a40 40 0 0040 40h192a40 40 0 0040-40v-40m64-160l80 80-80 80m-193-80h273"}}]})(e)}function Xx(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 512 512"},"child":[{"tag":"path","attr":{"fill":"none","strokeLinecap":"round","strokeMiterlimit":"10","strokeWidth":"32","d":"M80 464V68.14a8 8 0 014-6.9C91.81 56.66 112.92 48 160 48c64 0 145 48 192 48a199.53 199.53 0 0077.23-15.77 2 2 0 012.77 1.85v219.36a4 4 0 01-2.39 3.65C421.37 308.7 392.33 320 352 320c-48 0-128-32-192-32s-80 16-80 16"}}]})(e)}function Zx(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 512 512"},"child":[{"tag":"path","attr":{"fill":"none","strokeMiterlimit":"10","strokeWidth":"32","d":"M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z"}},{"tag":"path","attr":{"fill":"none","strokeLinecap":"round","strokeMiterlimit":"10","strokeWidth":"32","d":"M208 192v128m96-128v128"}}]})(e)}function Jx(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 512 512"},"child":[{"tag":"path","attr":{"fill":"none","strokeMiterlimit":"10","strokeWidth":"32","d":"M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z"}},{"tag":"path","attr":{"d":"M216.32 334.44l114.45-69.14a10.89 10.89 0 000-18.6l-114.45-69.14a10.78 10.78 0 00-16.32 9.31v138.26a10.78 10.78 0 0016.32 9.31z"}}]})(e)}function eS(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 512 512"},"child":[{"tag":"path","attr":{"d":"M456.69 421.39L362.6 327.3a173.81 173.81 0 0034.84-104.58C397.44 126.38 319.06 48 222.72 48S48 126.38 48 222.72s78.38 174.72 174.72 174.72A173.81 173.81 0 00327.3 362.6l94.09 94.09a25 25 0 0035.3-35.3zM97.92 222.72a124.8 124.8 0 11124.8 124.8 124.95 124.95 0 01-124.8-124.8z"}}]})(e)}function tS(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 512 512"},"child":[{"tag":"path","attr":{"fill":"none","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":"32","d":"M262.29 192.31a64 64 0 1057.4 57.4 64.13 64.13 0 00-57.4-57.4zM416.39 256a154.34 154.34 0 01-1.53 20.79l45.21 35.46a10.81 10.81 0 012.45 13.75l-42.77 74a10.81 10.81 0 01-13.14 4.59l-44.9-18.08a16.11 16.11 0 00-15.17 1.75A164.48 164.48 0 01325 400.8a15.94 15.94 0 00-8.82 12.14l-6.73 47.89a11.08 11.08 0 01-10.68 9.17h-85.54a11.11 11.11 0 01-10.69-8.87l-6.72-47.82a16.07 16.07 0 00-9-12.22 155.3 155.3 0 01-21.46-12.57 16 16 0 00-15.11-1.71l-44.89 18.07a10.81 10.81 0 01-13.14-4.58l-42.77-74a10.8 10.8 0 012.45-13.75l38.21-30a16.05 16.05 0 006-14.08c-.36-4.17-.58-8.33-.58-12.5s.21-8.27.58-12.35a16 16 0 00-6.07-13.94l-38.19-30A10.81 10.81 0 0149.48 186l42.77-74a10.81 10.81 0 0113.14-4.59l44.9 18.08a16.11 16.11 0 0015.17-1.75A164.48 164.48 0 01187 111.2a15.94 15.94 0 008.82-12.14l6.73-47.89A11.08 11.08 0 01213.23 42h85.54a11.11 11.11 0 0110.69 8.87l6.72 47.82a16.07 16.07 0 009 12.22 155.3 155.3 0 0121.46 12.57 16 16 0 0015.11 1.71l44.89-18.07a10.81 10.81 0 0113.14 4.58l42.77 74a10.8 10.8 0 01-2.45 13.75l-38.21 30a16.05 16.05 0 00-6.05 14.08c.33 4.14.55 8.3.55 12.47z"}}]})(e)}function nS(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 512 512"},"child":[{"tag":"circle","attr":{"cx":"256","cy":"256","r":"48"}},{"tag":"path","attr":{"d":"M470.39 300l-.47-.38-31.56-24.75a16.11 16.11 0 01-6.1-13.33v-11.56a16 16 0 016.11-13.22L469.92 212l.47-.38a26.68 26.68 0 005.9-34.06l-42.71-73.9a1.59 1.59 0 01-.13-.22A26.86 26.86 0 00401 92.14l-.35.13-37.1 14.93a15.94 15.94 0 01-14.47-1.29q-4.92-3.1-10-5.86a15.94 15.94 0 01-8.19-11.82l-5.59-39.59-.12-.72A27.22 27.22 0 00298.76 26h-85.52a26.92 26.92 0 00-26.45 22.39l-.09.56-5.57 39.67a16 16 0 01-8.13 11.82 175.21 175.21 0 00-10 5.82 15.92 15.92 0 01-14.43 1.27l-37.13-15-.35-.14a26.87 26.87 0 00-32.48 11.34l-.13.22-42.77 73.95a26.71 26.71 0 005.9 34.1l.47.38 31.56 24.75a16.11 16.11 0 016.1 13.33v11.56a16 16 0 01-6.11 13.22L42.08 300l-.47.38a26.68 26.68 0 00-5.9 34.06l42.71 73.9a1.59 1.59 0 01.13.22 26.86 26.86 0 0032.45 11.3l.35-.13 37.07-14.93a15.94 15.94 0 0114.47 1.29q4.92 3.11 10 5.86a15.94 15.94 0 018.19 11.82l5.56 39.59.12.72A27.22 27.22 0 00213.24 486h85.52a26.92 26.92 0 0026.45-22.39l.09-.56 5.57-39.67a16 16 0 018.18-11.82c3.42-1.84 6.76-3.79 10-5.82a15.92 15.92 0 0114.43-1.27l37.13 14.95.35.14a26.85 26.85 0 0032.48-11.34 2.53 2.53 0 01.13-.22l42.71-73.89a26.7 26.7 0 00-5.89-34.11zm-134.48-40.24a80 80 0 11-83.66-83.67 80.21 80.21 0 0183.66 83.67z"}}]})(e)}function rS(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 512 512"},"child":[{"tag":"path","attr":{"fill":"none","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":"32","d":"M112 112l20 320c.95 18.49 14.4 32 32 32h184c17.67 0 30.87-13.51 32-32l20-320"}},{"tag":"path","attr":{"strokeLinecap":"round","strokeMiterlimit":"10","strokeWidth":"32","d":"M80 112h352"}},{"tag":"path","attr":{"fill":"none","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":"32","d":"M192 112V72h0a23.93 23.93 0 0124-24h80a23.93 23.93 0 0124 24h0v40m-64 64v224m-72-224l8 224m136-224l-8 224"}}]})(e)}function iS(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 512 512"},"child":[{"tag":"path","attr":{"fill":"none","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":"32","d":"M352 144h112v112"}},{"tag":"path","attr":{"fill":"none","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":"32","d":"M48 368l121.37-121.37a32 32 0 0145.26 0l50.74 50.74a32 32 0 0045.26 0L448 160"}}]})(e)}function aS(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 512 512"},"child":[{"tag":"path","attr":{"d":"M336 179.52A67.52 67.52 0 00268.48 112h-79.2a4 4 0 00-2.82 6.83l142.71 142.71a4 4 0 006.83-2.82zM16 180v152a68 68 0 0068 68h184a67.66 67.66 0 0042.84-15.24 4 4 0 00.33-6L54.41 122a4 4 0 00-4.87-.62A68 68 0 0016 180zm448 204.39a32 32 0 01-13-2.77 15.77 15.77 0 01-2.71-1.54l-82.71-58.22A32 32 0 01352 295.7v-79.4a32 32 0 0113.58-26.16l82.71-58.22a15.77 15.77 0 012.71-1.54 32 32 0 0145 29.24v192.76a32 32 0 01-32 32z"}},{"tag":"path","attr":{"fill":"none","strokeLinecap":"round","strokeMiterlimit":"10","strokeWidth":"32","d":"M416 416L80 80"}}]})(e)}function oS(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 512 512"},"child":[{"tag":"path","attr":{"fill":"none","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":"32","d":"M374.79 308.78L457.5 367a16 16 0 0022.5-14.62V159.62A16 16 0 00457.5 145l-82.71 58.22A16 16 0 00368 216.3v79.4a16 16 0 006.79 13.08z"}},{"tag":"path","attr":{"fill":"none","strokeMiterlimit":"10","strokeWidth":"32","d":"M268 384H84a52.15 52.15 0 01-52-52V180a52.15 52.15 0 0152-52h184.48A51.68 51.68 0 01320 179.52V332a52.15 52.15 0 01-52 52z"}}]})(e)}function sS(){return"undefined"!=typeof window}function uS(e){return dS(e)?(e.nodeName||"").toLowerCase():"#document"}function cS(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function lS(e){var t;return null==(t=(dS(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function dS(e){return!!sS()&&(e instanceof Node||e instanceof cS(e).Node)}function pS(e){return!!sS()&&(e instanceof Element||e instanceof cS(e).Element)}function fS(e){return!!sS()&&(e instanceof HTMLElement||e instanceof cS(e).HTMLElement)}function hS(e){return!(!sS()||"undefined"==typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof cS(e).ShadowRoot)}function mS(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=DS(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function vS(e){return["table","td","th"].includes(uS(e))}function gS(e){return[":popover-open",":modal"].some((t=>{try{return e.matches(t)}catch(e){return!1}}))}function yS(e){const t=bS(),n=pS(e)?DS(e):e;return["transform","translate","scale","rotate","perspective"].some((e=>!!n[e]&&"none"!==n[e]))||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||["transform","translate","scale","rotate","perspective","filter"].some((e=>(n.willChange||"").includes(e)))||["paint","layout","strict","content"].some((e=>(n.contain||"").includes(e)))}function bS(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function wS(e){return["html","body","#document"].includes(uS(e))}function DS(e){return cS(e).getComputedStyle(e)}function AS(e){return pS(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ES(e){if("html"===uS(e))return e;const t=e.assignedSlot||e.parentNode||hS(e)&&e.host||lS(e);return hS(t)?t.host:t}function kS(e){const t=ES(e);return wS(t)?e.ownerDocument?e.ownerDocument.body:e.body:fS(t)&&mS(t)?t:kS(t)}function CS(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const i=kS(e),a=i===(null==(r=e.ownerDocument)?void 0:r.body),o=cS(i);if(a){const e=_S(o);return t.concat(o,o.visualViewport||[],mS(i)?i:[],e&&n?CS(e):[])}return t.concat(i,CS(i,[],n))}function _S(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function xS(e){let t=e.activeElement;for(;null!=(null==(n=t)||null==(n=n.shadowRoot)?void 0:n.activeElement);){var n;t=t.shadowRoot.activeElement}return t}function SS(e,t){if(!e||!t)return!1;const n=null==t.getRootNode?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&hS(n)){let n=t;for(;n;){if(e===n)return!0;n=n.parentNode||n.host}}return!1}function TS(){const e=navigator.userAgentData;return null!=e&&e.platform?e.platform:navigator.platform}function FS(){return/apple/i.test(navigator.vendor)}function OS(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}function PS(e){return(null==e?void 0:e.ownerDocument)||document}function IS(e,t){if(null==t)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return null!=n.target&&t.contains(n.target)}function BS(e){return"composedPath"in e?e.composedPath()[0]:e.target}function RS(e){return fS(e)&&e.matches("input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])")}function NS(e){e.preventDefault(),e.stopPropagation()}var MS=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],LS=MS.join(","),jS="undefined"==typeof Element,US=jS?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,zS=!jS&&Element.prototype.getRootNode?function(e){var t;return null==e||null===(t=e.getRootNode)||void 0===t?void 0:t.call(e)}:function(e){return null==e?void 0:e.ownerDocument},VS=function e(t,n){var r;void 0===n&&(n=!0);var i=null==t||null===(r=t.getAttribute)||void 0===r?void 0:r.call(t,"inert");return""===i||"true"===i||n&&t&&e(t.parentNode)},qS=function(e,t,n){if(VS(e))return[];var r=Array.prototype.slice.apply(e.querySelectorAll(LS));return t&&US.call(e,LS)&&r.unshift(e),r=r.filter(n)},HS=function e(t,n,r){for(var i=[],a=Array.from(t);a.length;){var o=a.shift();if(!VS(o,!1))if("SLOT"===o.tagName){var s=o.assignedElements(),u=e(s.length?s:o.children,!0,r);r.flatten?i.push.apply(i,u):i.push({scopeParent:o,candidates:u})}else{US.call(o,LS)&&r.filter(o)&&(n||!t.includes(o))&&i.push(o);var c=o.shadowRoot||"function"==typeof r.getShadowRoot&&r.getShadowRoot(o),l=!VS(c,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(o));if(c&&l){var d=e(!0===c?o.children:c.children,!0,r);r.flatten?i.push.apply(i,d):i.push({scopeParent:o,candidates:d})}else a.unshift.apply(a,o.children)}}return i},WS=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},KS=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||function(e){var t,n=null==e||null===(t=e.getAttribute)||void 0===t?void 0:t.call(e,"contenteditable");return""===n||"true"===n}(e))&&!WS(e)?0:e.tabIndex},$S=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},GS=function(e){return"INPUT"===e.tagName},QS=function(e){return function(e){return GS(e)&&"radio"===e.type}(e)&&!function(e){if(!e.name)return!0;var t,n=e.form||zS(e),r=function(e){return n.querySelectorAll('input[type="radio"][name="'+e+'"]')};if("undefined"!=typeof window&&void 0!==window.CSS&&"function"==typeof window.CSS.escape)t=r(window.CSS.escape(e.name));else try{t=r(e.name)}catch(e){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",e.message),!1}var i=function(e,t){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]}(t,e.form);return!i||i===e}(e)},YS=function(e){var t=e.getBoundingClientRect(),n=t.width,r=t.height;return 0===n&&0===r},XS=function(e,t){var n=t.displayCheck,r=t.getShadowRoot;if("hidden"===getComputedStyle(e).visibility)return!0;var i=US.call(e,"details>summary:first-of-type")?e.parentElement:e;if(US.call(i,"details:not([open]) *"))return!0;if(n&&"full"!==n&&"legacy-full"!==n){if("non-zero-area"===n)return YS(e)}else{if("function"==typeof r){for(var a=e;e;){var o=e.parentElement,s=zS(e);if(o&&!o.shadowRoot&&!0===r(o))return YS(e);e=e.assignedSlot?e.assignedSlot:o||s===e.ownerDocument?o:s.host}e=a}if(function(e){var t,n,r,i,a=e&&zS(e),o=null===(t=a)||void 0===t?void 0:t.host,s=!1;if(a&&a!==e)for(s=!!(null!==(n=o)&&void 0!==n&&null!==(r=n.ownerDocument)&&void 0!==r&&r.contains(o)||null!=e&&null!==(i=e.ownerDocument)&&void 0!==i&&i.contains(e));!s&&o;){var u,c,l;s=!(null===(c=o=null===(u=a=zS(o))||void 0===u?void 0:u.host)||void 0===c||null===(l=c.ownerDocument)||void 0===l||!l.contains(o))}return s}(e))return!e.getClientRects().length;if("legacy-full"!==n)return!0}return!1},ZS=function(e,t){return!(t.disabled||VS(t)||function(e){return GS(e)&&"hidden"===e.type}(t)||XS(t,e)||function(e){return"DETAILS"===e.tagName&&Array.prototype.slice.apply(e.children).some((function(e){return"SUMMARY"===e.tagName}))}(t)||function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if("FIELDSET"===t.tagName&&t.disabled){for(var n=0;n<t.children.length;n++){var r=t.children.item(n);if("LEGEND"===r.tagName)return!!US.call(t,"fieldset[disabled] *")||!r.contains(e)}return!0}t=t.parentElement}return!1}(t))},JS=function(e,t){return!(QS(t)||KS(t)<0||!ZS(e,t))},eT=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},tT=function e(t){var n=[],r=[];return t.forEach((function(t,i){var a=!!t.scopeParent,o=a?t.scopeParent:t,s=function(e,t){var n=KS(e);return n<0&&t&&!WS(e)?0:n}(o,a),u=a?e(t.candidates):o;0===s?a?n.push.apply(n,u):n.push(o):r.push({documentOrder:i,tabIndex:s,item:t,isScope:a,content:u})})),r.sort($S).reduce((function(e,t){return t.isScope?e.push.apply(e,t.content):e.push(t.content),e}),[]).concat(n)},nT=function(e,t){var n;return n=(t=t||{}).getShadowRoot?HS([e],t.includeContainer,{filter:JS.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:eT}):qS(e,t.includeContainer,JS.bind(null,t)),tT(n)},rT=__webpack_require__(2701);const iT=Math.min,aT=Math.max,oT=Math.round,sT=Math.floor,uT=e=>({x:e,y:e}),cT={left:"right",right:"left",bottom:"top",top:"bottom"},lT={start:"end",end:"start"};function dT(e,t,n){return aT(e,iT(t,n))}function pT(e,t){return"function"==typeof e?e(t):e}function fT(e){return e.split("-")[0]}function hT(e){return e.split("-")[1]}function mT(e){return"x"===e?"y":"x"}function vT(e){return"y"===e?"height":"width"}function gT(e){return["top","bottom"].includes(fT(e))?"y":"x"}function yT(e){return mT(gT(e))}function bT(e){return e.replace(/start|end/g,(e=>lT[e]))}function wT(e){return e.replace(/left|right|bottom|top/g,(e=>cT[e]))}function DT(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function AT(e,t,n){let{reference:r,floating:i}=e;const a=gT(t),o=yT(t),s=vT(o),u=fT(t),c="y"===a,l=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,p=r[s]/2-i[s]/2;let f;switch(u){case"top":f={x:l,y:r.y-i.height};break;case"bottom":f={x:l,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:d};break;case"left":f={x:r.x-i.width,y:d};break;default:f={x:r.x,y:r.y}}switch(hT(t)){case"start":f[o]-=p*(n&&c?-1:1);break;case"end":f[o]+=p*(n&&c?-1:1)}return f}async function ET(e,t){var n;void 0===t&&(t={});const{x:r,y:i,platform:a,rects:o,elements:s,strategy:u}=e,{boundary:c="clippingAncestors",rootBoundary:l="viewport",elementContext:d="floating",altBoundary:p=!1,padding:f=0}=pT(t,e),h=function(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}(f),m=s[p?"floating"===d?"reference":"floating":d],v=DT(await a.getClippingRect({element:null==(n=await(null==a.isElement?void 0:a.isElement(m)))||n?m:m.contextElement||await(null==a.getDocumentElement?void 0:a.getDocumentElement(s.floating)),boundary:c,rootBoundary:l,strategy:u})),g="floating"===d?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,y=await(null==a.getOffsetParent?void 0:a.getOffsetParent(s.floating)),b=await(null==a.isElement?void 0:a.isElement(y))&&await(null==a.getScale?void 0:a.getScale(y))||{x:1,y:1},w=DT(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:g,offsetParent:y,strategy:u}):g);return{top:(v.top-w.top+h.top)/b.y,bottom:(w.bottom-v.bottom+h.bottom)/b.y,left:(v.left-w.left+h.left)/b.x,right:(w.right-v.right+h.right)/b.x}}function kT(e){const t=DS(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=fS(e),a=i?e.offsetWidth:n,o=i?e.offsetHeight:r,s=oT(n)!==a||oT(r)!==o;return s&&(n=a,r=o),{width:n,height:r,$:s}}function CT(e){return pS(e)?e:e.contextElement}function _T(e){const t=CT(e);if(!fS(t))return uT(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:a}=kT(t);let o=(a?oT(n.width):n.width)/r,s=(a?oT(n.height):n.height)/i;return o&&Number.isFinite(o)||(o=1),s&&Number.isFinite(s)||(s=1),{x:o,y:s}}const xT=uT(0);function ST(e){const t=cS(e);return bS()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:xT}function TT(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const i=e.getBoundingClientRect(),a=CT(e);let o=uT(1);t&&(r?pS(r)&&(o=_T(r)):o=_T(e));const s=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==cS(e))&&t}(a,n,r)?ST(a):uT(0);let u=(i.left+s.x)/o.x,c=(i.top+s.y)/o.y,l=i.width/o.x,d=i.height/o.y;if(a){const e=cS(a),t=r&&pS(r)?cS(r):r;let n=e,i=_S(n);for(;i&&r&&t!==n;){const e=_T(i),t=i.getBoundingClientRect(),r=DS(i),a=t.left+(i.clientLeft+parseFloat(r.paddingLeft))*e.x,o=t.top+(i.clientTop+parseFloat(r.paddingTop))*e.y;u*=e.x,c*=e.y,l*=e.x,d*=e.y,u+=a,c+=o,n=cS(i),i=_S(n)}}return DT({width:l,height:d,x:u,y:c})}function FT(e,t){const n=AS(e).scrollLeft;return t?t.left+n:TT(lS(e)).left+n}function OT(e,t,n){void 0===n&&(n=!1);const r=e.getBoundingClientRect();return{x:r.left+t.scrollLeft-(n?0:FT(e,r)),y:r.top+t.scrollTop}}function PT(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=cS(e),r=lS(e),i=n.visualViewport;let a=r.clientWidth,o=r.clientHeight,s=0,u=0;if(i){a=i.width,o=i.height;const e=bS();(!e||e&&"fixed"===t)&&(s=i.offsetLeft,u=i.offsetTop)}return{width:a,height:o,x:s,y:u}}(e,n);else if("document"===t)r=function(e){const t=lS(e),n=AS(e),r=e.ownerDocument.body,i=aT(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=aT(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+FT(e);const s=-n.scrollTop;return"rtl"===DS(r).direction&&(o+=aT(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:o,y:s}}(lS(e));else if(pS(t))r=function(e,t){const n=TT(e,!0,"fixed"===t),r=n.top+e.clientTop,i=n.left+e.clientLeft,a=fS(e)?_T(e):uT(1);return{width:e.clientWidth*a.x,height:e.clientHeight*a.y,x:i*a.x,y:r*a.y}}(t,n);else{const n=ST(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return DT(r)}function IT(e,t){const n=ES(e);return!(n===t||!pS(n)||wS(n))&&("fixed"===DS(n).position||IT(n,t))}function BT(e,t,n){const r=fS(t),i=lS(t),a="fixed"===n,o=TT(e,!0,a,t);let s={scrollLeft:0,scrollTop:0};const u=uT(0);if(r||!r&&!a)if(("body"!==uS(t)||mS(i))&&(s=AS(t)),r){const e=TT(t,!0,a,t);u.x=e.x+t.clientLeft,u.y=e.y+t.clientTop}else i&&(u.x=FT(i));const c=!i||r||a?uT(0):OT(i,s);return{x:o.left+s.scrollLeft-u.x-c.x,y:o.top+s.scrollTop-u.y-c.y,width:o.width,height:o.height}}function RT(e){return"static"===DS(e).position}function NT(e,t){if(!fS(e)||"fixed"===DS(e).position)return null;if(t)return t(e);let n=e.offsetParent;return lS(e)===n&&(n=n.ownerDocument.body),n}function MT(e,t){const n=cS(e);if(gS(e))return n;if(!fS(e)){let t=ES(e);for(;t&&!wS(t);){if(pS(t)&&!RT(t))return t;t=ES(t)}return n}let r=NT(e,t);for(;r&&vS(r)&&RT(r);)r=NT(r,t);return r&&wS(r)&&RT(r)&&!yS(r)?n:r||function(e){let t=ES(e);for(;fS(t)&&!wS(t);){if(yS(t))return t;if(gS(t))return null;t=ES(t)}return null}(e)||n}const LT={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const a="fixed"===i,o=lS(r),s=!!t&&gS(t.floating);if(r===o||s&&a)return n;let u={scrollLeft:0,scrollTop:0},c=uT(1);const l=uT(0),d=fS(r);if((d||!d&&!a)&&(("body"!==uS(r)||mS(o))&&(u=AS(r)),fS(r))){const e=TT(r);c=_T(r),l.x=e.x+r.clientLeft,l.y=e.y+r.clientTop}const p=!o||d||a?uT(0):OT(o,u,!0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-u.scrollLeft*c.x+l.x+p.x,y:n.y*c.y-u.scrollTop*c.y+l.y+p.y}},getDocumentElement:lS,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const a="clippingAncestors"===n?gS(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let r=CS(e,[],!1).filter((e=>pS(e)&&"body"!==uS(e))),i=null;const a="fixed"===DS(e).position;let o=a?ES(e):e;for(;pS(o)&&!wS(o);){const t=DS(o),n=yS(o);n||"fixed"!==t.position||(i=null),(a?!n&&!i:!n&&"static"===t.position&&i&&["absolute","fixed"].includes(i.position)||mS(o)&&!n&&IT(e,o))?r=r.filter((e=>e!==o)):i=t,o=ES(o)}return t.set(e,r),r}(t,this._c):[].concat(n),o=[...a,r],s=o[0],u=o.reduce(((e,n)=>{const r=PT(t,n,i);return e.top=aT(r.top,e.top),e.right=iT(r.right,e.right),e.bottom=iT(r.bottom,e.bottom),e.left=aT(r.left,e.left),e}),PT(t,s,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}},getOffsetParent:MT,getElementRects:async function(e){const t=this.getOffsetParent||MT,n=this.getDimensions,r=await n(e.floating);return{reference:BT(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=kT(e);return{width:t,height:n}},getScale:_T,isElement:pS,isRTL:function(e){return"rtl"===DS(e).direction}};function jT(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function UT(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o="function"==typeof ResizeObserver,layoutShift:s="function"==typeof IntersectionObserver,animationFrame:u=!1}=r,c=CT(e),l=i||a?[...c?CS(c):[],...CS(t)]:[];l.forEach((e=>{i&&e.addEventListener("scroll",n,{passive:!0}),a&&e.addEventListener("resize",n)}));const d=c&&s?function(e,t){let n,r=null;const i=lS(e);function a(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function o(s,u){void 0===s&&(s=!1),void 0===u&&(u=1),a();const c=e.getBoundingClientRect(),{left:l,top:d,width:p,height:f}=c;if(s||t(),!p||!f)return;const h={rootMargin:-sT(d)+"px "+-sT(i.clientWidth-(l+p))+"px "+-sT(i.clientHeight-(d+f))+"px "+-sT(l)+"px",threshold:aT(0,iT(1,u))||1};let m=!0;function v(t){const r=t[0].intersectionRatio;if(r!==u){if(!m)return o();r?o(!1,r):n=setTimeout((()=>{o(!1,1e-7)}),1e3)}1!==r||jT(c,e.getBoundingClientRect())||o(),m=!1}try{r=new IntersectionObserver(v,{...h,root:i.ownerDocument})}catch(e){r=new IntersectionObserver(v,h)}r.observe(e)}(!0),a}(c,n):null;let p,f=-1,h=null;o&&(h=new ResizeObserver((e=>{let[r]=e;r&&r.target===c&&h&&(h.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame((()=>{var e;null==(e=h)||e.observe(t)}))),n()})),c&&!u&&h.observe(c),h.observe(t));let m=u?TT(e):null;return u&&function t(){const r=TT(e);m&&!jT(m,r)&&n();m=r,p=requestAnimationFrame(t)}(),n(),()=>{var e;l.forEach((e=>{i&&e.removeEventListener("scroll",n),a&&e.removeEventListener("resize",n)})),null==d||d(),null==(e=h)||e.disconnect(),h=null,u&&cancelAnimationFrame(p)}}const zT=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:a,placement:o,middlewareData:s}=t,u=await async function(e,t){const{placement:n,platform:r,elements:i}=e,a=await(null==r.isRTL?void 0:r.isRTL(i.floating)),o=fT(n),s=hT(n),u="y"===gT(n),c=["left","top"].includes(o)?-1:1,l=a&&u?-1:1,d=pT(t,e);let{mainAxis:p,crossAxis:f,alignmentAxis:h}="number"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return s&&"number"==typeof h&&(f="end"===s?-1*h:h),u?{x:f*l,y:p*c}:{x:p*c,y:f*l}}(t,e);return o===(null==(n=s.offset)?void 0:n.placement)&&null!=(r=s.arrow)&&r.alignmentOffset?{}:{x:i+u.x,y:a+u.y,data:{...u,placement:o}}}}},VT=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:s={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...u}=pT(e,t),c={x:n,y:r},l=await ET(t,u),d=gT(fT(i)),p=mT(d);let f=c[p],h=c[d];if(a){const e="y"===p?"bottom":"right";f=dT(f+l["y"===p?"top":"left"],f,f-l[e])}if(o){const e="y"===d?"bottom":"right";h=dT(h+l["y"===d?"top":"left"],h,h-l[e])}const m=s.fn({...t,[p]:f,[d]:h});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[p]:a,[d]:o}}}}}},qT=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:a,rects:o,initialPlacement:s,platform:u,elements:c}=t,{mainAxis:l=!0,crossAxis:d=!0,fallbackPlacements:p,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:m=!0,...v}=pT(e,t);if(null!=(n=a.arrow)&&n.alignmentOffset)return{};const g=fT(i),y=gT(s),b=fT(s)===s,w=await(null==u.isRTL?void 0:u.isRTL(c.floating)),D=p||(b||!m?[wT(s)]:function(e){const t=wT(e);return[bT(e),t,bT(t)]}(s)),A="none"!==h;!p&&A&&D.push(...function(e,t,n,r){const i=hT(e);let a=function(e,t,n){const r=["left","right"],i=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?a:o;default:return[]}}(fT(e),"start"===n,r);return i&&(a=a.map((e=>e+"-"+i)),t&&(a=a.concat(a.map(bT)))),a}(s,m,h,w));const E=[s,...D],k=await ET(t,v),C=[];let _=(null==(r=a.flip)?void 0:r.overflows)||[];if(l&&C.push(k[g]),d){const e=function(e,t,n){void 0===n&&(n=!1);const r=hT(e),i=yT(e),a=vT(i);let o="x"===i?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=wT(o)),[o,wT(o)]}(i,o,w);C.push(k[e[0]],k[e[1]])}if(_=[..._,{placement:i,overflows:C}],!C.every((e=>e<=0))){var x,S;const e=((null==(x=a.flip)?void 0:x.index)||0)+1,t=E[e];if(t)return{data:{index:e,overflows:_},reset:{placement:t}};let n=null==(S=_.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:S.placement;if(!n)switch(f){case"bestFit":{var T;const e=null==(T=_.filter((e=>{if(A){const t=gT(e.placement);return t===y||"y"===t}return!0})).map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:T[0];e&&(n=e);break}case"initialPlacement":n=s}if(i!==n)return{reset:{placement:n}}}return{}}}},HT=(e,t,n)=>{const r=new Map,i={platform:LT,...n},a={...i.platform,_c:r};return(async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:o}=n,s=a.filter(Boolean),u=await(null==o.isRTL?void 0:o.isRTL(t));let c=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:l,y:d}=AT(c,r,u),p=r,f={},h=0;for(let n=0;n<s.length;n++){const{name:a,fn:m}=s[n],{x:v,y:g,data:y,reset:b}=await m({x:l,y:d,initialPlacement:r,placement:p,strategy:i,middlewareData:f,rects:c,platform:o,elements:{reference:e,floating:t}});l=null!=v?v:l,d=null!=g?g:d,f={...f,[a]:{...f[a],...y}},b&&h<=50&&(h++,"object"==typeof b&&(b.placement&&(p=b.placement),b.rects&&(c=!0===b.rects?await o.getElementRects({reference:e,floating:t,strategy:i}):b.rects),({x:l,y:d}=AT(c,p,u))),n=-1)}return{x:l,y:d,placement:p,strategy:i,middlewareData:f}})(e,t,{...i,platform:a})};var WT="undefined"!=typeof document?c.useLayoutEffect:c.useEffect;function KT(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;0!=r--;)if(!KT(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;0!=r--;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;0!=r--;){const n=i[r];if(("_owner"!==n||!e.$$typeof)&&!KT(e[n],t[n]))return!1}return!0}return e!=e&&t!=t}function $T(e){if("undefined"==typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function GT(e,t){const n=$T(e);return Math.round(t*n)/n}function QT(e){const t=c.useRef(e);return WT((()=>{t.current=e})),t}const YT=(e,t)=>({...zT(e),options:[e,t]}),XT=(e,t)=>({...VT(e),options:[e,t]}),ZT=(e,t)=>({...qT(e),options:[e,t]});const JT={...l},eF=JT.useInsertionEffect||(e=>e());function tF(e){const t=c.useRef((()=>{0}));return eF((()=>{t.current=e})),c.useCallback((function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return null==t.current?void 0:t.current(...n)}),[])}const nF="ArrowUp",rF="ArrowDown",iF="ArrowLeft",aF="ArrowRight";var oF="undefined"!=typeof document?c.useLayoutEffect:c.useEffect;const sF=[iF,aF],uF=[nF,rF];let cF=!1,lF=0;const dF=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+lF++;const pF=JT.useId||function(){const[e,t]=c.useState((()=>cF?dF():void 0));return oF((()=>{null==e&&t(dF())}),[]),c.useEffect((()=>{cF=!0}),[]),e};function fF(){const e=new Map;return{emit(t,n){var r;null==(r=e.get(t))||r.forEach((e=>e(n)))},on(t,n){e.has(t)||e.set(t,new Set),e.get(t).add(n)},off(t,n){var r;null==(r=e.get(t))||r.delete(n)}}}const hF=c.createContext(null),mF=c.createContext(null),vF=()=>{var e;return(null==(e=c.useContext(hF))?void 0:e.id)||null},gF=()=>c.useContext(mF);function yF(e){return"data-floating-ui-"+e}function bF(e){-1!==e.current&&(clearTimeout(e.current),e.current=-1)}function wF(e){const t=(0,c.useRef)(e);return oF((()=>{t.current=e})),t}const DF=yF("safe-polygon");function AF(e,t,n){if(n&&!OS(n))return 0;if("number"==typeof e)return e;if("function"==typeof e){const n=e();return"number"==typeof n?n:null==n?void 0:n[t]}return null==e?void 0:e[t]}function EF(e){return"function"==typeof e?e():e}function kF(e,t){void 0===t&&(t={});const{open:n,onOpenChange:r,dataRef:i,events:a,elements:o}=e,{enabled:s=!0,delay:u=0,handleClose:l=null,mouseOnly:d=!1,restMs:p=0,move:f=!0}=t,h=gF(),m=vF(),v=wF(l),g=wF(u),y=wF(n),b=wF(p),w=c.useRef(),D=c.useRef(-1),A=c.useRef(),E=c.useRef(-1),k=c.useRef(!0),C=c.useRef(!1),_=c.useRef((()=>{})),x=c.useRef(!1),S=c.useCallback((()=>{var e;const t=null==(e=i.current.openEvent)?void 0:e.type;return(null==t?void 0:t.includes("mouse"))&&"mousedown"!==t}),[i]);c.useEffect((()=>{if(s)return a.on("openchange",e),()=>{a.off("openchange",e)};function e(e){let{open:t}=e;t||(bF(D),bF(E),k.current=!0,x.current=!1)}}),[s,a]),c.useEffect((()=>{if(!s)return;if(!v.current)return;if(!n)return;function e(e){S()&&r(!1,e,"hover")}const t=PS(o.floating).documentElement;return t.addEventListener("mouseleave",e),()=>{t.removeEventListener("mouseleave",e)}}),[o.floating,n,r,s,v,S]);const T=c.useCallback((function(e,t,n){void 0===t&&(t=!0),void 0===n&&(n="hover");const i=AF(g.current,"close",w.current);i&&!A.current?(bF(D),D.current=window.setTimeout((()=>r(!1,e,n)),i)):t&&(bF(D),r(!1,e,n))}),[g,r]),F=tF((()=>{_.current(),A.current=void 0})),O=tF((()=>{if(C.current){const e=PS(o.floating).body;e.style.pointerEvents="",e.removeAttribute(DF),C.current=!1}})),P=tF((()=>!!i.current.openEvent&&["click","mousedown"].includes(i.current.openEvent.type)));c.useEffect((()=>{if(s&&pS(o.domReference)){const r=o.domReference,i=o.floating;return n&&r.addEventListener("mouseleave",a),f&&r.addEventListener("mousemove",e,{once:!0}),r.addEventListener("mouseenter",e),r.addEventListener("mouseleave",t),i&&(i.addEventListener("mouseleave",a),i.addEventListener("mouseenter",u),i.addEventListener("mouseleave",c)),()=>{n&&r.removeEventListener("mouseleave",a),f&&r.removeEventListener("mousemove",e),r.removeEventListener("mouseenter",e),r.removeEventListener("mouseleave",t),i&&(i.removeEventListener("mouseleave",a),i.removeEventListener("mouseenter",u),i.removeEventListener("mouseleave",c))}}function e(e){if(bF(D),k.current=!1,d&&!OS(w.current)||EF(b.current)>0&&!AF(g.current,"open"))return;const t=AF(g.current,"open",w.current);t?D.current=window.setTimeout((()=>{y.current||r(!0,e,"hover")}),t):n||r(!0,e,"hover")}function t(e){if(P())return void O();_.current();const t=PS(o.floating);if(bF(E),x.current=!1,v.current&&i.current.floatingContext){n||bF(D),A.current=v.current({...i.current.floatingContext,tree:h,x:e.clientX,y:e.clientY,onClose(){O(),F(),P()||T(e,!0,"safe-polygon")}});const r=A.current;return t.addEventListener("mousemove",r),void(_.current=()=>{t.removeEventListener("mousemove",r)})}("touch"!==w.current||!SS(o.floating,e.relatedTarget))&&T(e)}function a(e){P()||i.current.floatingContext&&(null==v.current||v.current({...i.current.floatingContext,tree:h,x:e.clientX,y:e.clientY,onClose(){O(),F(),P()||T(e)}})(e))}function u(){bF(D)}function c(e){P()||T(e,!1)}}),[o,s,e,d,f,T,F,O,r,n,y,h,g,v,i,P,b]),oF((()=>{var e;if(s&&n&&null!=(e=v.current)&&e.__options.blockPointerEvents&&S()){C.current=!0;const e=o.floating;if(pS(o.domReference)&&e){var t;const n=PS(o.floating).body;n.setAttribute(DF,"");const r=o.domReference,i=null==h||null==(t=h.nodesRef.current.find((e=>e.id===m)))||null==(t=t.context)?void 0:t.elements.floating;return i&&(i.style.pointerEvents=""),n.style.pointerEvents="none",r.style.pointerEvents="auto",e.style.pointerEvents="auto",()=>{n.style.pointerEvents="",r.style.pointerEvents="",e.style.pointerEvents=""}}}}),[s,n,m,o,h,v,S]),oF((()=>{n||(w.current=void 0,x.current=!1,F(),O())}),[n,F,O]),c.useEffect((()=>()=>{F(),bF(D),bF(E),O()}),[s,o.domReference,F,O]);const I=c.useMemo((()=>{function e(e){w.current=e.pointerType}return{onPointerDown:e,onPointerEnter:e,onMouseMove(e){const{nativeEvent:t}=e;function i(){k.current||y.current||r(!0,t,"hover")}d&&!OS(w.current)||n||0===EF(b.current)||x.current&&e.movementX**2+e.movementY**2<2||(bF(E),"touch"===w.current?i():(x.current=!0,E.current=window.setTimeout(i,EF(b.current))))}}}),[d,r,n,y,b]);return c.useMemo((()=>s?{reference:I}:{}),[s,I])}function CF(e,t){let n=e.filter((e=>{var n;return e.parentId===t&&(null==(n=e.context)?void 0:n.open)})),r=n;for(;r.length;)r=e.filter((e=>{var t;return null==(t=r)?void 0:t.some((t=>{var n;return e.parentId===t.id&&(null==(n=e.context)?void 0:n.open)}))})),n=n.concat(r);return n}const _F=()=>({getShadowRoot:!0,displayCheck:"function"==typeof ResizeObserver&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function xF(e,t){const n=nT(e,_F());"prev"===t&&n.reverse();const r=n.indexOf(xS(PS(e)));return n.slice(r+1)[0]}function SF(e){return xF(PS(e).body,"next")||e}function TF(e){return xF(PS(e).body,"prev")||e}function FF(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!SS(n,r)}function OF(e){nT(e,_F()).forEach((e=>{e.dataset.tabindex=e.getAttribute("tabindex")||"",e.setAttribute("tabindex","-1")}))}function PF(e){e.querySelectorAll("[data-tabindex]").forEach((e=>{const t=e.dataset.tabindex;delete e.dataset.tabindex,t?e.setAttribute("tabindex",t):e.removeAttribute("tabindex")}))}const IF={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0},BF=c.forwardRef((function(e,t){const[n,r]=c.useState();oF((()=>{FS()&&r("button")}),[]);const i={ref:t,tabIndex:0,role:n,"aria-hidden":!n||void 0,[yF("focus-guard")]:"",style:IF};return(0,Db.jsx)("span",{...e,...i})})),RF=c.createContext(null),NF=yF("portal");function MF(e){const{children:t,id:n,root:r,preserveTabOrder:i=!0}=e,a=function(e){void 0===e&&(e={});const{id:t,root:n}=e,r=pF(),i=LF(),[a,o]=c.useState(null),s=c.useRef(null);return oF((()=>()=>{null==a||a.remove(),queueMicrotask((()=>{s.current=null}))}),[a]),oF((()=>{if(!r)return;if(s.current)return;const e=t?document.getElementById(t):null;if(!e)return;const n=document.createElement("div");n.id=r,n.setAttribute(NF,""),e.appendChild(n),s.current=n,o(n)}),[t,r]),oF((()=>{if(null===n)return;if(!r)return;if(s.current)return;let e=n||(null==i?void 0:i.portalNode);e&&!pS(e)&&(e=e.current),e=e||document.body;let a=null;t&&(a=document.createElement("div"),a.id=t,e.appendChild(a));const u=document.createElement("div");u.id=r,u.setAttribute(NF,""),e=a||e,e.appendChild(u),s.current=u,o(u)}),[t,n,r,i]),a}({id:n,root:r}),[o,s]=c.useState(null),u=c.useRef(null),l=c.useRef(null),d=c.useRef(null),p=c.useRef(null),f=null==o?void 0:o.modal,h=null==o?void 0:o.open,m=!!o&&!o.modal&&o.open&&i&&!(!r&&!a);return c.useEffect((()=>{if(a&&i&&!f)return a.addEventListener("focusin",e,!0),a.addEventListener("focusout",e,!0),()=>{a.removeEventListener("focusin",e,!0),a.removeEventListener("focusout",e,!0)};function e(e){if(a&&FF(e)){("focusin"===e.type?PF:OF)(a)}}}),[a,i,f]),c.useEffect((()=>{a&&(h||PF(a))}),[h,a]),(0,Db.jsxs)(RF.Provider,{value:c.useMemo((()=>({preserveTabOrder:i,beforeOutsideRef:u,afterOutsideRef:l,beforeInsideRef:d,afterInsideRef:p,portalNode:a,setFocusManagerState:s})),[i,a]),children:[m&&a&&(0,Db.jsx)(BF,{"data-type":"outside",ref:u,onFocus:e=>{if(FF(e,a)){var t;null==(t=d.current)||t.focus()}else{const e=TF(o?o.domReference:null);null==e||e.focus()}}}),m&&a&&(0,Db.jsx)("span",{"aria-owns":a.id,style:IF}),a&&rT.createPortal(t,a),m&&a&&(0,Db.jsx)(BF,{"data-type":"outside",ref:l,onFocus:e=>{if(FF(e,a)){var t;null==(t=p.current)||t.focus()}else{const t=SF(o?o.domReference:null);null==t||t.focus(),(null==o?void 0:o.closeOnFocusOut)&&(null==o||o.onOpenChange(!1,e.nativeEvent,"focus-out"))}}})]})}const LF=()=>c.useContext(RF),jF="data-floating-ui-focusable";function UF(e){return e?e.hasAttribute(jF)?e:e.querySelector("["+jF+"]")||e:null}const zF={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},VF={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},qF=e=>{var t,n;return{escapeKey:"boolean"==typeof e?e:null!=(t=null==e?void 0:e.escapeKey)&&t,outsidePress:"boolean"==typeof e?e:null==(n=null==e?void 0:e.outsidePress)||n}};function HF(e,t){void 0===t&&(t={});const{open:n,onOpenChange:r,elements:i,dataRef:a}=e,{enabled:o=!0,escapeKey:s=!0,outsidePress:u=!0,outsidePressEvent:l="pointerdown",referencePress:d=!1,referencePressEvent:p="pointerdown",ancestorScroll:f=!1,bubbles:h,capture:m}=t,v=gF(),g=tF("function"==typeof u?u:()=>!1),y="function"==typeof u?g:u,b=c.useRef(!1),w=c.useRef(!1),{escapeKey:D,outsidePress:A}=qF(h),{escapeKey:E,outsidePress:k}=qF(m),C=c.useRef(!1),_=tF((e=>{var t;if(!n||!o||!s||"Escape"!==e.key)return;if(C.current)return;const i=null==(t=a.current.floatingContext)?void 0:t.nodeId,u=v?CF(v.nodesRef.current,i):[];if(!D&&(e.stopPropagation(),u.length>0)){let e=!0;if(u.forEach((t=>{var n;null==(n=t.context)||!n.open||t.context.dataRef.current.__escapeKeyBubbles||(e=!1)})),!e)return}r(!1,function(e){return"nativeEvent"in e}(e)?e.nativeEvent:e,"escape-key")})),x=tF((e=>{var t;const n=()=>{var t;_(e),null==(t=BS(e))||t.removeEventListener("keydown",n)};null==(t=BS(e))||t.addEventListener("keydown",n)})),S=tF((e=>{var t;const n=b.current;b.current=!1;const o=w.current;if(w.current=!1,"click"===l&&o)return;if(n)return;if("function"==typeof y&&!y(e))return;const s=BS(e),u="["+yF("inert")+"]",c=PS(i.floating).querySelectorAll(u);let d=pS(s)?s:null;for(;d&&!wS(d);){const e=ES(d);if(wS(e)||!pS(e))break;d=e}if(c.length&&pS(s)&&!s.matches("html,body")&&!SS(s,i.floating)&&Array.from(c).every((e=>!SS(d,e))))return;if(fS(s)&&O){const t=wS(s),n=DS(s),r=/auto|scroll/,i=t||r.test(n.overflowX),a=t||r.test(n.overflowY),o=i&&s.clientWidth>0&&s.scrollWidth>s.clientWidth,u=a&&s.clientHeight>0&&s.scrollHeight>s.clientHeight,c="rtl"===n.direction,l=u&&(c?e.offsetX<=s.offsetWidth-s.clientWidth:e.offsetX>s.clientWidth),d=o&&e.offsetY>s.clientHeight;if(l||d)return}const p=null==(t=a.current.floatingContext)?void 0:t.nodeId,f=v&&CF(v.nodesRef.current,p).some((t=>{var n;return IS(e,null==(n=t.context)?void 0:n.elements.floating)}));if(IS(e,i.floating)||IS(e,i.domReference)||f)return;const h=v?CF(v.nodesRef.current,p):[];if(h.length>0){let e=!0;if(h.forEach((t=>{var n;null==(n=t.context)||!n.open||t.context.dataRef.current.__outsidePressBubbles||(e=!1)})),!e)return}r(!1,e,"outside-press")})),T=tF((e=>{var t;const n=()=>{var t;S(e),null==(t=BS(e))||t.removeEventListener(l,n)};null==(t=BS(e))||t.addEventListener(l,n)}));c.useEffect((()=>{if(!n||!o)return;a.current.__escapeKeyBubbles=D,a.current.__outsidePressBubbles=A;let e=-1;function t(e){r(!1,e,"ancestor-scroll")}function u(){window.clearTimeout(e),C.current=!0}function c(){e=window.setTimeout((()=>{C.current=!1}),bS()?5:0)}const d=PS(i.floating);s&&(d.addEventListener("keydown",E?x:_,E),d.addEventListener("compositionstart",u),d.addEventListener("compositionend",c)),y&&d.addEventListener(l,k?T:S,k);let p=[];return f&&(pS(i.domReference)&&(p=CS(i.domReference)),pS(i.floating)&&(p=p.concat(CS(i.floating))),!pS(i.reference)&&i.reference&&i.reference.contextElement&&(p=p.concat(CS(i.reference.contextElement)))),p=p.filter((e=>{var t;return e!==(null==(t=d.defaultView)?void 0:t.visualViewport)})),p.forEach((e=>{e.addEventListener("scroll",t,{passive:!0})})),()=>{s&&(d.removeEventListener("keydown",E?x:_,E),d.removeEventListener("compositionstart",u),d.removeEventListener("compositionend",c)),y&&d.removeEventListener(l,k?T:S,k),p.forEach((e=>{e.removeEventListener("scroll",t)})),window.clearTimeout(e)}}),[a,i,s,y,l,n,r,f,o,D,A,_,E,x,S,k,T]),c.useEffect((()=>{b.current=!1}),[y,l]);const F=c.useMemo((()=>({onKeyDown:_,...d&&{[zF[p]]:e=>{r(!1,e.nativeEvent,"reference-press")},..."click"!==p&&{onClick(e){r(!1,e.nativeEvent,"reference-press")}}}})),[_,r,d,p]),O=c.useMemo((()=>({onKeyDown:_,onMouseDown(){w.current=!0},onMouseUp(){w.current=!0},[VF[l]]:()=>{b.current=!0}})),[_,l]);return c.useMemo((()=>o?{reference:F,floating:O}:{}),[o,F,O])}function WF(e){void 0===e&&(e={});const{nodeId:t}=e,n=function(e){const{open:t=!1,onOpenChange:n,elements:r}=e,i=pF(),a=c.useRef({}),[o]=c.useState((()=>fF())),s=null!=vF(),[u,l]=c.useState(r.reference),d=tF(((e,t,r)=>{a.current.openEvent=e?t:void 0,o.emit("openchange",{open:e,event:t,reason:r,nested:s}),null==n||n(e,t,r)})),p=c.useMemo((()=>({setPositionReference:l})),[]),f=c.useMemo((()=>({reference:u||r.reference||null,floating:r.floating||null,domReference:r.reference})),[u,r.reference,r.floating]);return c.useMemo((()=>({dataRef:a,open:t,onOpenChange:d,elements:f,events:o,floatingId:i,refs:p})),[t,d,f,o,i,p])}({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,i=r.elements,[a,o]=c.useState(null),[s,u]=c.useState(null),l=(null==i?void 0:i.domReference)||a,d=c.useRef(null),p=gF();oF((()=>{l&&(d.current=l)}),[l]);const f=function(e){void 0===e&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:o}={},transform:s=!0,whileElementsMounted:u,open:l}=e,[d,p]=c.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,h]=c.useState(r);KT(f,r)||h(r);const[m,v]=c.useState(null),[g,y]=c.useState(null),b=c.useCallback((e=>{e!==E.current&&(E.current=e,v(e))}),[]),w=c.useCallback((e=>{e!==k.current&&(k.current=e,y(e))}),[]),D=a||m,A=o||g,E=c.useRef(null),k=c.useRef(null),C=c.useRef(d),_=null!=u,x=QT(u),S=QT(i),T=QT(l),F=c.useCallback((()=>{if(!E.current||!k.current)return;const e={placement:t,strategy:n,middleware:f};S.current&&(e.platform=S.current),HT(E.current,k.current,e).then((e=>{const t={...e,isPositioned:!1!==T.current};O.current&&!KT(C.current,t)&&(C.current=t,rT.flushSync((()=>{p(t)})))}))}),[f,t,n,S,T]);WT((()=>{!1===l&&C.current.isPositioned&&(C.current.isPositioned=!1,p((e=>({...e,isPositioned:!1}))))}),[l]);const O=c.useRef(!1);WT((()=>(O.current=!0,()=>{O.current=!1})),[]),WT((()=>{if(D&&(E.current=D),A&&(k.current=A),D&&A){if(x.current)return x.current(D,A,F);F()}}),[D,A,F,x,_]);const P=c.useMemo((()=>({reference:E,floating:k,setReference:b,setFloating:w})),[b,w]),I=c.useMemo((()=>({reference:D,floating:A})),[D,A]),B=c.useMemo((()=>{const e={position:n,left:0,top:0};if(!I.floating)return e;const t=GT(I.floating,d.x),r=GT(I.floating,d.y);return s?{...e,transform:"translate("+t+"px, "+r+"px)",...$T(I.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:t,top:r}}),[n,s,I.floating,d.x,d.y]);return c.useMemo((()=>({...d,update:F,refs:P,elements:I,floatingStyles:B})),[d,F,P,I,B])}({...e,elements:{...i,...s&&{reference:s}}}),h=c.useCallback((e=>{const t=pS(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),getClientRects:()=>e.getClientRects(),contextElement:e}:e;u(t),f.refs.setReference(t)}),[f.refs]),m=c.useCallback((e=>{(pS(e)||null===e)&&(d.current=e,o(e)),(pS(f.refs.reference.current)||null===f.refs.reference.current||null!==e&&!pS(e))&&f.refs.setReference(e)}),[f.refs]),v=c.useMemo((()=>({...f.refs,setReference:m,setPositionReference:h,domReference:d})),[f.refs,m,h]),g=c.useMemo((()=>({...f.elements,domReference:l})),[f.elements,l]),y=c.useMemo((()=>({...f,...r,refs:v,elements:g,nodeId:t})),[f,v,g,t,r]);return oF((()=>{r.dataRef.current.floatingContext=y;const e=null==p?void 0:p.nodesRef.current.find((e=>e.id===t));e&&(e.context=y)})),c.useMemo((()=>({...f,context:y,refs:v,elements:g})),[f,v,g,y])}function KF(){return function(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map((e=>{let{brand:t,version:n}=e;return t+"/"+n})).join(" "):navigator.userAgent}().includes("jsdom/")}function $F(){return TS().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints&&FS()}function GF(e,t){void 0===t&&(t={});const{open:n,onOpenChange:r,events:i,dataRef:a,elements:o}=e,{enabled:s=!0,visibleOnly:u=!0}=t,l=c.useRef(!1),d=c.useRef(-1),p=c.useRef(!0);c.useEffect((()=>{if(!s)return;const e=cS(o.domReference);function t(){!n&&fS(o.domReference)&&o.domReference===xS(PS(o.domReference))&&(l.current=!0)}function r(){p.current=!0}function i(){p.current=!1}return e.addEventListener("blur",t),$F()&&(e.addEventListener("keydown",r,!0),e.addEventListener("pointerdown",i,!0)),()=>{e.removeEventListener("blur",t),$F()&&(e.removeEventListener("keydown",r,!0),e.removeEventListener("pointerdown",i,!0))}}),[o.domReference,n,s]),c.useEffect((()=>{if(s)return i.on("openchange",e),()=>{i.off("openchange",e)};function e(e){let{reason:t}=e;"reference-press"!==t&&"escape-key"!==t||(l.current=!0)}}),[i,s]),c.useEffect((()=>()=>{bF(d)}),[]);const f=c.useMemo((()=>({onMouseLeave(){l.current=!1},onFocus(e){if(l.current)return;const t=BS(e.nativeEvent);if(u&&pS(t))if($F()&&!e.relatedTarget){if(!p.current&&!RS(t))return}else if(!function(e){if(!e||KF())return!0;try{return e.matches(":focus-visible")}catch(e){return!0}}(t))return;r(!0,e.nativeEvent,"focus")},onBlur(e){l.current=!1;const t=e.relatedTarget,n=e.nativeEvent,i=pS(t)&&t.hasAttribute(yF("focus-guard"))&&"outside"===t.getAttribute("data-type");d.current=window.setTimeout((()=>{var e;const s=xS(o.domReference?o.domReference.ownerDocument:document);(t||s!==o.domReference)&&(SS(null==(e=a.current.floatingContext)?void 0:e.refs.floating.current,s)||SS(o.domReference,s)||i||r(!1,n,"focus"))}))}})),[a,o.domReference,r,u]);return c.useMemo((()=>s?{reference:f}:{}),[s,f])}const QF="active",YF="selected";function XF(e,t,n){const r=new Map,i="item"===n;let a=e;if(i&&e){const{[QF]:t,[YF]:n,...r}=e;a=r}return{..."floating"===n&&{tabIndex:-1,[jF]:""},...a,...t.map((t=>{const r=t?t[n]:null;return"function"==typeof r?e?r(e):null:r})).concat(e).reduce(((e,t)=>t?(Object.entries(t).forEach((t=>{let[n,a]=t;var o;i&&[QF,YF].includes(n)||(0===n.indexOf("on")?(r.has(n)||r.set(n,[]),"function"==typeof a&&(null==(o=r.get(n))||o.push(a),e[n]=function(){for(var e,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return null==(e=r.get(n))?void 0:e.map((e=>e(...i))).find((e=>void 0!==e))})):e[n]=a)})),e):e),{})}}function ZF(e){void 0===e&&(e=[]);const t=e.map((e=>null==e?void 0:e.reference)),n=e.map((e=>null==e?void 0:e.floating)),r=e.map((e=>null==e?void 0:e.item)),i=c.useCallback((t=>XF(t,e,"reference")),t),a=c.useCallback((t=>XF(t,e,"floating")),n),o=c.useCallback((t=>XF(t,e,"item")),r);return c.useMemo((()=>({getReferenceProps:i,getFloatingProps:a,getItemProps:o})),[i,a,o])}const JF=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function eO(e,t){var n,r;void 0===t&&(t={});const{open:i,elements:a,floatingId:o}=e,{enabled:s=!0,role:u="dialog"}=t,l=pF(),d=(null==(n=a.domReference)?void 0:n.id)||l,p=c.useMemo((()=>{var e;return(null==(e=UF(a.floating))?void 0:e.id)||o}),[a.floating,o]),f=null!=(r=JF.get(u))?r:u,h=null!=vF(),m=c.useMemo((()=>"tooltip"===f||"label"===u?{["aria-"+("label"===u?"labelledby":"describedby")]:i?p:void 0}:{"aria-expanded":i?"true":"false","aria-haspopup":"alertdialog"===f?"dialog":f,"aria-controls":i?p:void 0,..."listbox"===f&&{role:"combobox"},..."menu"===f&&{id:d},..."menu"===f&&h&&{role:"menuitem"},..."select"===u&&{"aria-autocomplete":"none"},..."combobox"===u&&{"aria-autocomplete":"list"}}),[f,p,h,i,d,u]),v=c.useMemo((()=>{const e={id:p,...f&&{role:f}};return"tooltip"===f||"label"===u?e:{...e,..."menu"===f&&{"aria-labelledby":d}}}),[f,p,d,u]),g=c.useCallback((e=>{let{active:t,selected:n}=e;const r={role:"option",...t&&{id:p+"-fui-option"}};switch(u){case"select":return{...r,"aria-selected":t&&n};case"combobox":return{...r,"aria-selected":n}}return{}}),[p,u]);return c.useMemo((()=>s?{reference:m,floating:v,item:g}:{}),[s,m,v,g])}function tO(e,t){var n;const{open:r,dataRef:i}=e,{listRef:a,activeIndex:o,onMatch:s,onTypingChange:u,enabled:l=!0,findMatch:d=null,resetMs:p=750,ignoreKeys:f=[],selectedIndex:h=null}=t,m=c.useRef(-1),v=c.useRef(""),g=c.useRef(null!=(n=null!=h?h:o)?n:-1),y=c.useRef(null),b=tF(s),w=tF(u),D=wF(d),A=wF(f);oF((()=>{r&&(bF(m),y.current=null,v.current="")}),[r]),oF((()=>{var e;r&&""===v.current&&(g.current=null!=(e=null!=h?h:o)?e:-1)}),[r,h,o]);const E=tF((e=>{e?i.current.typing||(i.current.typing=e,w(e)):i.current.typing&&(i.current.typing=e,w(e))})),k=tF((e=>{function t(e,t,n){const r=D.current?D.current(t,n):t.find((e=>0===(null==e?void 0:e.toLocaleLowerCase().indexOf(n.toLocaleLowerCase()))));return r?e.indexOf(r):-1}const n=a.current;if(v.current.length>0&&" "!==v.current[0]&&(-1===t(n,n,v.current)?E(!1):" "===e.key&&NS(e)),null==n||A.current.includes(e.key)||1!==e.key.length||e.ctrlKey||e.metaKey||e.altKey)return;r&&" "!==e.key&&(NS(e),E(!0));n.every((e=>{var t,n;return!e||(null==(t=e[0])?void 0:t.toLocaleLowerCase())!==(null==(n=e[1])?void 0:n.toLocaleLowerCase())}))&&v.current===e.key&&(v.current="",g.current=y.current),v.current+=e.key,bF(m),m.current=window.setTimeout((()=>{v.current="",g.current=y.current,E(!1)}),p);const i=g.current,o=t(n,[...n.slice((i||0)+1),...n.slice(0,(i||0)+1)],v.current);-1!==o?(b(o),y.current=o):" "!==e.key&&(v.current="",E(!1))})),C=c.useMemo((()=>({onKeyDown:k})),[k]),_=c.useMemo((()=>({onKeyDown:k,onKeyUp(e){" "===e.key&&E(!1)}})),[k,E]);return c.useMemo((()=>l?{reference:C,floating:_}:{}),[l,C,_])}__webpack_require__(39202);var nO=__webpack_require__(95765),rO=__webpack_require__(65778),iO=__webpack_require__(38850),aO=function(){return aO=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},aO.apply(this,arguments)};function oO(e,t){for(var n={},r={},i=e.split("~~"),a=!1,o=0;i.length>o;o++){for(var s=i[o].split("~"),u=0;u<s.length;u+=2){var c=s[u],l=s[u+1],d="&"+c+";";n[d]=l,a&&(n["&"+c]=l),r[l]=d}a=!0}return t?{entities:aO(aO({},n),t.entities),characters:aO(aO({},r),t.characters)}:{entities:n,characters:r}}var sO={xml:/&(?:#\d+|#[xX][\da-fA-F]+|[0-9a-zA-Z]+);?/g,html4:/&notin;|&(?:nbsp|iexcl|cent|pound|curren|yen|brvbar|sect|uml|copy|ordf|laquo|not|shy|reg|macr|deg|plusmn|sup2|sup3|acute|micro|para|middot|cedil|sup1|ordm|raquo|frac14|frac12|frac34|iquest|Agrave|Aacute|Acirc|Atilde|Auml|Aring|AElig|Ccedil|Egrave|Eacute|Ecirc|Euml|Igrave|Iacute|Icirc|Iuml|ETH|Ntilde|Ograve|Oacute|Ocirc|Otilde|Ouml|times|Oslash|Ugrave|Uacute|Ucirc|Uuml|Yacute|THORN|szlig|agrave|aacute|acirc|atilde|auml|aring|aelig|ccedil|egrave|eacute|ecirc|euml|igrave|iacute|icirc|iuml|eth|ntilde|ograve|oacute|ocirc|otilde|ouml|divide|oslash|ugrave|uacute|ucirc|uuml|yacute|thorn|yuml|quot|amp|lt|gt|#\d+|#[xX][\da-fA-F]+|[0-9a-zA-Z]+);?/g,html5:/&centerdot;|&copysr;|&divideontimes;|&gtcc;|&gtcir;|&gtdot;|&gtlPar;|&gtquest;|&gtrapprox;|&gtrarr;|&gtrdot;|&gtreqless;|&gtreqqless;|&gtrless;|&gtrsim;|&ltcc;|&ltcir;|&ltdot;|&lthree;|&ltimes;|&ltlarr;|&ltquest;|&ltrPar;|&ltri;|&ltrie;|&ltrif;|&notin;|&notinE;|&notindot;|&notinva;|&notinvb;|&notinvc;|&notni;|&notniva;|&notnivb;|&notnivc;|&parallel;|&timesb;|&timesbar;|&timesd;|&(?:AElig|AMP|Aacute|Acirc|Agrave|Aring|Atilde|Auml|COPY|Ccedil|ETH|Eacute|Ecirc|Egrave|Euml|GT|Iacute|Icirc|Igrave|Iuml|LT|Ntilde|Oacute|Ocirc|Ograve|Oslash|Otilde|Ouml|QUOT|REG|THORN|Uacute|Ucirc|Ugrave|Uuml|Yacute|aacute|acirc|acute|aelig|agrave|amp|aring|atilde|auml|brvbar|ccedil|cedil|cent|copy|curren|deg|divide|eacute|ecirc|egrave|eth|euml|frac12|frac14|frac34|gt|iacute|icirc|iexcl|igrave|iquest|iuml|laquo|lt|macr|micro|middot|nbsp|not|ntilde|oacute|ocirc|ograve|ordf|ordm|oslash|otilde|ouml|para|plusmn|pound|quot|raquo|reg|sect|shy|sup1|sup2|sup3|szlig|thorn|times|uacute|ucirc|ugrave|uml|uuml|yacute|yen|yuml|#\d+|#[xX][\da-fA-F]+|[0-9a-zA-Z]+);?/g},uO={};uO.xml=oO("lt~<~gt~>~quot~\"~apos~'~amp~&"),uO.html4=oO("apos~'~OElig~~oelig~~Scaron~~scaron~~Yuml~~circ~~tilde~~ensp~~emsp~~thinsp~~zwnj~~zwj~~lrm~~rlm~~ndash~~mdash~~lsquo~~rsquo~~sbquo~~ldquo~~rdquo~~bdquo~~dagger~~Dagger~~permil~~lsaquo~~rsaquo~~euro~~fnof~~Alpha~~Beta~~Gamma~~Delta~~Epsilon~~Zeta~~Eta~~Theta~~Iota~~Kappa~~Lambda~~Mu~~Nu~~Xi~~Omicron~~Pi~~Rho~~Sigma~~Tau~~Upsilon~~Phi~~Chi~~Psi~~Omega~~alpha~~beta~~gamma~~delta~~epsilon~~zeta~~eta~~theta~~iota~~kappa~~lambda~~mu~~nu~~xi~~omicron~~pi~~rho~~sigmaf~~sigma~~tau~~upsilon~~phi~~chi~~psi~~omega~~thetasym~~upsih~~piv~~bull~~hellip~~prime~~Prime~~oline~~frasl~~weierp~~image~~real~~trade~~alefsym~~larr~~uarr~~rarr~~darr~~harr~~crarr~~lArr~~uArr~~rArr~~dArr~~hArr~~forall~~part~~exist~~empty~~nabla~~isin~~notin~~ni~~prod~~sum~~minus~~lowast~~radic~~prop~~infin~~ang~~and~~or~~cap~~cup~~int~~there4~~sim~~cong~~asymp~~ne~~equiv~~le~~ge~~sub~~sup~~nsub~~sube~~supe~~oplus~~otimes~~perp~~sdot~~lceil~~rceil~~lfloor~~rfloor~~lang~~rang~~loz~~spades~~clubs~~hearts~~diams~~~nbsp~~iexcl~~cent~~pound~~curren~~yen~~brvbar~~sect~~uml~~copy~~ordf~~laquo~~not~~shy~~reg~~macr~~deg~~plusmn~~sup2~~sup3~~acute~~micro~~para~~middot~~cedil~~sup1~~ordm~~raquo~~frac14~~frac12~~frac34~~iquest~~Agrave~~Aacute~~Acirc~~Atilde~~Auml~~Aring~~AElig~~Ccedil~~Egrave~~Eacute~~Ecirc~~Euml~~Igrave~~Iacute~~Icirc~~Iuml~~ETH~~Ntilde~~Ograve~~Oacute~~Ocirc~~Otilde~~Ouml~~times~~Oslash~~Ugrave~~Uacute~~Ucirc~~Uuml~~Yacute~~THORN~~szlig~~agrave~~aacute~~acirc~~atilde~~auml~~aring~~aelig~~ccedil~~egrave~~eacute~~ecirc~~euml~~igrave~~iacute~~icirc~~iuml~~eth~~ntilde~~ograve~~oacute~~ocirc~~otilde~~ouml~~divide~~oslash~~ugrave~~uacute~~ucirc~~uuml~~yacute~~thorn~~yuml~~quot~\"~amp~&~lt~<~gt~>"),uO.html5=oO('Abreve~~Acy~~Afr~~Amacr~~And~~Aogon~~Aopf~~ApplyFunction~~Ascr~~Assign~~Backslash~~Barv~~Barwed~~Bcy~~Because~~Bernoullis~~Bfr~~Bopf~~Breve~~Bscr~~Bumpeq~~CHcy~~Cacute~~Cap~~CapitalDifferentialD~~Cayleys~~Ccaron~~Ccirc~~Cconint~~Cdot~~Cedilla~~CenterDot~~Cfr~~CircleDot~~CircleMinus~~CirclePlus~~CircleTimes~~ClockwiseContourIntegral~~CloseCurlyDoubleQuote~~CloseCurlyQuote~~Colon~~Colone~~Congruent~~Conint~~ContourIntegral~~Copf~~Coproduct~~CounterClockwiseContourIntegral~~Cross~~Cscr~~Cup~~CupCap~~DD~~DDotrahd~~DJcy~~DScy~~DZcy~~Darr~~Dashv~~Dcaron~~Dcy~~Del~~Dfr~~DiacriticalAcute~~DiacriticalDot~~DiacriticalDoubleAcute~~DiacriticalGrave~`~DiacriticalTilde~~Diamond~~DifferentialD~~Dopf~~Dot~~DotDot~~DotEqual~~DoubleContourIntegral~~DoubleDot~~DoubleDownArrow~~DoubleLeftArrow~~DoubleLeftRightArrow~~DoubleLeftTee~~DoubleLongLeftArrow~~DoubleLongLeftRightArrow~~DoubleLongRightArrow~~DoubleRightArrow~~DoubleRightTee~~DoubleUpArrow~~DoubleUpDownArrow~~DoubleVerticalBar~~DownArrow~~DownArrowBar~~DownArrowUpArrow~~DownBreve~~DownLeftRightVector~~DownLeftTeeVector~~DownLeftVector~~DownLeftVectorBar~~DownRightTeeVector~~DownRightVector~~DownRightVectorBar~~DownTee~~DownTeeArrow~~Downarrow~~Dscr~~Dstrok~~ENG~~Ecaron~~Ecy~~Edot~~Efr~~Element~~Emacr~~EmptySmallSquare~~EmptyVerySmallSquare~~Eogon~~Eopf~~Equal~~EqualTilde~~Equilibrium~~Escr~~Esim~~Exists~~ExponentialE~~Fcy~~Ffr~~FilledSmallSquare~~FilledVerySmallSquare~~Fopf~~ForAll~~Fouriertrf~~Fscr~~GJcy~~Gammad~~Gbreve~~Gcedil~~Gcirc~~Gcy~~Gdot~~Gfr~~Gg~~Gopf~~GreaterEqual~~GreaterEqualLess~~GreaterFullEqual~~GreaterGreater~~GreaterLess~~GreaterSlantEqual~~GreaterTilde~~Gscr~~Gt~~HARDcy~~Hacek~~Hat~^~Hcirc~~Hfr~~HilbertSpace~~Hopf~~HorizontalLine~~Hscr~~Hstrok~~HumpDownHump~~HumpEqual~~IEcy~~IJlig~~IOcy~~Icy~~Idot~~Ifr~~Im~~Imacr~~ImaginaryI~~Implies~~Int~~Integral~~Intersection~~InvisibleComma~~InvisibleTimes~~Iogon~~Iopf~~Iscr~~Itilde~~Iukcy~~Jcirc~~Jcy~~Jfr~~Jopf~~Jscr~~Jsercy~~Jukcy~~KHcy~~KJcy~~Kcedil~~Kcy~~Kfr~~Kopf~~Kscr~~LJcy~~Lacute~~Lang~~Laplacetrf~~Larr~~Lcaron~~Lcedil~~Lcy~~LeftAngleBracket~~LeftArrow~~LeftArrowBar~~LeftArrowRightArrow~~LeftCeiling~~LeftDoubleBracket~~LeftDownTeeVector~~LeftDownVector~~LeftDownVectorBar~~LeftFloor~~LeftRightArrow~~LeftRightVector~~LeftTee~~LeftTeeArrow~~LeftTeeVector~~LeftTriangle~~LeftTriangleBar~~LeftTriangleEqual~~LeftUpDownVector~~LeftUpTeeVector~~LeftUpVector~~LeftUpVectorBar~~LeftVector~~LeftVectorBar~~Leftarrow~~Leftrightarrow~~LessEqualGreater~~LessFullEqual~~LessGreater~~LessLess~~LessSlantEqual~~LessTilde~~Lfr~~Ll~~Lleftarrow~~Lmidot~~LongLeftArrow~~LongLeftRightArrow~~LongRightArrow~~Longleftarrow~~Longleftrightarrow~~Longrightarrow~~Lopf~~LowerLeftArrow~~LowerRightArrow~~Lscr~~Lsh~~Lstrok~~Lt~~Map~~Mcy~~MediumSpace~~Mellintrf~~Mfr~~MinusPlus~~Mopf~~Mscr~~NJcy~~Nacute~~Ncaron~~Ncedil~~Ncy~~NegativeMediumSpace~~NegativeThickSpace~~NegativeThinSpace~~NegativeVeryThinSpace~~NestedGreaterGreater~~NestedLessLess~~NewLine~\n~Nfr~~NoBreak~~NonBreakingSpace~~Nopf~~Not~~NotCongruent~~NotCupCap~~NotDoubleVerticalBar~~NotElement~~NotEqual~~NotEqualTilde~~NotExists~~NotGreater~~NotGreaterEqual~~NotGreaterFullEqual~~NotGreaterGreater~~NotGreaterLess~~NotGreaterSlantEqual~~NotGreaterTilde~~NotHumpDownHump~~NotHumpEqual~~NotLeftTriangle~~NotLeftTriangleBar~~NotLeftTriangleEqual~~NotLess~~NotLessEqual~~NotLessGreater~~NotLessLess~~NotLessSlantEqual~~NotLessTilde~~NotNestedGreaterGreater~~NotNestedLessLess~~NotPrecedes~~NotPrecedesEqual~~NotPrecedesSlantEqual~~NotReverseElement~~NotRightTriangle~~NotRightTriangleBar~~NotRightTriangleEqual~~NotSquareSubset~~NotSquareSubsetEqual~~NotSquareSuperset~~NotSquareSupersetEqual~~NotSubset~~NotSubsetEqual~~NotSucceeds~~NotSucceedsEqual~~NotSucceedsSlantEqual~~NotSucceedsTilde~~NotSuperset~~NotSupersetEqual~~NotTilde~~NotTildeEqual~~NotTildeFullEqual~~NotTildeTilde~~NotVerticalBar~~Nscr~~Ocy~~Odblac~~Ofr~~Omacr~~Oopf~~OpenCurlyDoubleQuote~~OpenCurlyQuote~~Or~~Oscr~~Otimes~~OverBar~~OverBrace~~OverBracket~~OverParenthesis~~PartialD~~Pcy~~Pfr~~PlusMinus~~Poincareplane~~Popf~~Pr~~Precedes~~PrecedesEqual~~PrecedesSlantEqual~~PrecedesTilde~~Product~~Proportion~~Proportional~~Pscr~~Qfr~~Qopf~~Qscr~~RBarr~~Racute~~Rang~~Rarr~~Rarrtl~~Rcaron~~Rcedil~~Rcy~~Re~~ReverseElement~~ReverseEquilibrium~~ReverseUpEquilibrium~~Rfr~~RightAngleBracket~~RightArrow~~RightArrowBar~~RightArrowLeftArrow~~RightCeiling~~RightDoubleBracket~~RightDownTeeVector~~RightDownVector~~RightDownVectorBar~~RightFloor~~RightTee~~RightTeeArrow~~RightTeeVector~~RightTriangle~~RightTriangleBar~~RightTriangleEqual~~RightUpDownVector~~RightUpTeeVector~~RightUpVector~~RightUpVectorBar~~RightVector~~RightVectorBar~~Rightarrow~~Ropf~~RoundImplies~~Rrightarrow~~Rscr~~Rsh~~RuleDelayed~~SHCHcy~~SHcy~~SOFTcy~~Sacute~~Sc~~Scedil~~Scirc~~Scy~~Sfr~~ShortDownArrow~~ShortLeftArrow~~ShortRightArrow~~ShortUpArrow~~SmallCircle~~Sopf~~Sqrt~~Square~~SquareIntersection~~SquareSubset~~SquareSubsetEqual~~SquareSuperset~~SquareSupersetEqual~~SquareUnion~~Sscr~~Star~~Sub~~Subset~~SubsetEqual~~Succeeds~~SucceedsEqual~~SucceedsSlantEqual~~SucceedsTilde~~SuchThat~~Sum~~Sup~~Superset~~SupersetEqual~~Supset~~TRADE~~TSHcy~~TScy~~Tab~\t~Tcaron~~Tcedil~~Tcy~~Tfr~~Therefore~~ThickSpace~~ThinSpace~~Tilde~~TildeEqual~~TildeFullEqual~~TildeTilde~~Topf~~TripleDot~~Tscr~~Tstrok~~Uarr~~Uarrocir~~Ubrcy~~Ubreve~~Ucy~~Udblac~~Ufr~~Umacr~~UnderBar~_~UnderBrace~~UnderBracket~~UnderParenthesis~~Union~~UnionPlus~~Uogon~~Uopf~~UpArrow~~UpArrowBar~~UpArrowDownArrow~~UpDownArrow~~UpEquilibrium~~UpTee~~UpTeeArrow~~Uparrow~~Updownarrow~~UpperLeftArrow~~UpperRightArrow~~Upsi~~Uring~~Uscr~~Utilde~~VDash~~Vbar~~Vcy~~Vdash~~Vdashl~~Vee~~Verbar~~Vert~~VerticalBar~~VerticalLine~|~VerticalSeparator~~VerticalTilde~~VeryThinSpace~~Vfr~~Vopf~~Vscr~~Vvdash~~Wcirc~~Wedge~~Wfr~~Wopf~~Wscr~~Xfr~~Xopf~~Xscr~~YAcy~~YIcy~~YUcy~~Ycirc~~Ycy~~Yfr~~Yopf~~Yscr~~ZHcy~~Zacute~~Zcaron~~Zcy~~Zdot~~ZeroWidthSpace~~Zfr~~Zopf~~Zscr~~abreve~~ac~~acE~~acd~~acy~~af~~afr~~aleph~~amacr~~amalg~~andand~~andd~~andslope~~andv~~ange~~angle~~angmsd~~angmsdaa~~angmsdab~~angmsdac~~angmsdad~~angmsdae~~angmsdaf~~angmsdag~~angmsdah~~angrt~~angrtvb~~angrtvbd~~angsph~~angst~~angzarr~~aogon~~aopf~~ap~~apE~~apacir~~ape~~apid~~approx~~approxeq~~ascr~~ast~*~asympeq~~awconint~~awint~~bNot~~backcong~~backepsilon~~backprime~~backsim~~backsimeq~~barvee~~barwed~~barwedge~~bbrk~~bbrktbrk~~bcong~~bcy~~becaus~~because~~bemptyv~~bepsi~~bernou~~beth~~between~~bfr~~bigcap~~bigcirc~~bigcup~~bigodot~~bigoplus~~bigotimes~~bigsqcup~~bigstar~~bigtriangledown~~bigtriangleup~~biguplus~~bigvee~~bigwedge~~bkarow~~blacklozenge~~blacksquare~~blacktriangle~~blacktriangledown~~blacktriangleleft~~blacktriangleright~~blank~~blk12~~blk14~~blk34~~block~~bne~=~bnequiv~~bnot~~bopf~~bot~~bottom~~bowtie~~boxDL~~boxDR~~boxDl~~boxDr~~boxH~~boxHD~~boxHU~~boxHd~~boxHu~~boxUL~~boxUR~~boxUl~~boxUr~~boxV~~boxVH~~boxVL~~boxVR~~boxVh~~boxVl~~boxVr~~boxbox~~boxdL~~boxdR~~boxdl~~boxdr~~boxh~~boxhD~~boxhU~~boxhd~~boxhu~~boxminus~~boxplus~~boxtimes~~boxuL~~boxuR~~boxul~~boxur~~boxv~~boxvH~~boxvL~~boxvR~~boxvh~~boxvl~~boxvr~~bprime~~breve~~bscr~~bsemi~~bsim~~bsime~~bsol~\\~bsolb~~bsolhsub~~bullet~~bump~~bumpE~~bumpe~~bumpeq~~cacute~~capand~~capbrcup~~capcap~~capcup~~capdot~~caps~~caret~~caron~~ccaps~~ccaron~~ccirc~~ccups~~ccupssm~~cdot~~cemptyv~~centerdot~~cfr~~chcy~~check~~checkmark~~cir~~cirE~~circeq~~circlearrowleft~~circlearrowright~~circledR~~circledS~~circledast~~circledcirc~~circleddash~~cire~~cirfnint~~cirmid~~cirscir~~clubsuit~~colon~:~colone~~coloneq~~comma~,~commat~@~comp~~compfn~~complement~~complexes~~congdot~~conint~~copf~~coprod~~copysr~~cross~~cscr~~csub~~csube~~csup~~csupe~~ctdot~~cudarrl~~cudarrr~~cuepr~~cuesc~~cularr~~cularrp~~cupbrcap~~cupcap~~cupcup~~cupdot~~cupor~~cups~~curarr~~curarrm~~curlyeqprec~~curlyeqsucc~~curlyvee~~curlywedge~~curvearrowleft~~curvearrowright~~cuvee~~cuwed~~cwconint~~cwint~~cylcty~~dHar~~daleth~~dash~~dashv~~dbkarow~~dblac~~dcaron~~dcy~~dd~~ddagger~~ddarr~~ddotseq~~demptyv~~dfisht~~dfr~~dharl~~dharr~~diam~~diamond~~diamondsuit~~die~~digamma~~disin~~div~~divideontimes~~divonx~~djcy~~dlcorn~~dlcrop~~dollar~$~dopf~~dot~~doteq~~doteqdot~~dotminus~~dotplus~~dotsquare~~doublebarwedge~~downarrow~~downdownarrows~~downharpoonleft~~downharpoonright~~drbkarow~~drcorn~~drcrop~~dscr~~dscy~~dsol~~dstrok~~dtdot~~dtri~~dtrif~~duarr~~duhar~~dwangle~~dzcy~~dzigrarr~~eDDot~~eDot~~easter~~ecaron~~ecir~~ecolon~~ecy~~edot~~ee~~efDot~~efr~~eg~~egs~~egsdot~~el~~elinters~~ell~~els~~elsdot~~emacr~~emptyset~~emptyv~~emsp13~~emsp14~~eng~~eogon~~eopf~~epar~~eparsl~~eplus~~epsi~~epsiv~~eqcirc~~eqcolon~~eqsim~~eqslantgtr~~eqslantless~~equals~=~equest~~equivDD~~eqvparsl~~erDot~~erarr~~escr~~esdot~~esim~~excl~!~expectation~~exponentiale~~fallingdotseq~~fcy~~female~~ffilig~~fflig~~ffllig~~ffr~~filig~~fjlig~fj~flat~~fllig~~fltns~~fopf~~fork~~forkv~~fpartint~~frac13~~frac15~~frac16~~frac18~~frac23~~frac25~~frac35~~frac38~~frac45~~frac56~~frac58~~frac78~~frown~~fscr~~gE~~gEl~~gacute~~gammad~~gap~~gbreve~~gcirc~~gcy~~gdot~~gel~~geq~~geqq~~geqslant~~ges~~gescc~~gesdot~~gesdoto~~gesdotol~~gesl~~gesles~~gfr~~gg~~ggg~~gimel~~gjcy~~gl~~glE~~gla~~glj~~gnE~~gnap~~gnapprox~~gne~~gneq~~gneqq~~gnsim~~gopf~~grave~`~gscr~~gsim~~gsime~~gsiml~~gtcc~~gtcir~~gtdot~~gtlPar~~gtquest~~gtrapprox~~gtrarr~~gtrdot~~gtreqless~~gtreqqless~~gtrless~~gtrsim~~gvertneqq~~gvnE~~hairsp~~half~~hamilt~~hardcy~~harrcir~~harrw~~hbar~~hcirc~~heartsuit~~hercon~~hfr~~hksearow~~hkswarow~~hoarr~~homtht~~hookleftarrow~~hookrightarrow~~hopf~~horbar~~hscr~~hslash~~hstrok~~hybull~~hyphen~~ic~~icy~~iecy~~iff~~ifr~~ii~~iiiint~~iiint~~iinfin~~iiota~~ijlig~~imacr~~imagline~~imagpart~~imath~~imof~~imped~~in~~incare~~infintie~~inodot~~intcal~~integers~~intercal~~intlarhk~~intprod~~iocy~~iogon~~iopf~~iprod~~iscr~~isinE~~isindot~~isins~~isinsv~~isinv~~it~~itilde~~iukcy~~jcirc~~jcy~~jfr~~jmath~~jopf~~jscr~~jsercy~~jukcy~~kappav~~kcedil~~kcy~~kfr~~kgreen~~khcy~~kjcy~~kopf~~kscr~~lAarr~~lAtail~~lBarr~~lE~~lEg~~lHar~~lacute~~laemptyv~~lagran~~langd~~langle~~lap~~larrb~~larrbfs~~larrfs~~larrhk~~larrlp~~larrpl~~larrsim~~larrtl~~lat~~latail~~late~~lates~~lbarr~~lbbrk~~lbrace~{~lbrack~[~lbrke~~lbrksld~~lbrkslu~~lcaron~~lcedil~~lcub~{~lcy~~ldca~~ldquor~~ldrdhar~~ldrushar~~ldsh~~leftarrow~~leftarrowtail~~leftharpoondown~~leftharpoonup~~leftleftarrows~~leftrightarrow~~leftrightarrows~~leftrightharpoons~~leftrightsquigarrow~~leftthreetimes~~leg~~leq~~leqq~~leqslant~~les~~lescc~~lesdot~~lesdoto~~lesdotor~~lesg~~lesges~~lessapprox~~lessdot~~lesseqgtr~~lesseqqgtr~~lessgtr~~lesssim~~lfisht~~lfr~~lg~~lgE~~lhard~~lharu~~lharul~~lhblk~~ljcy~~ll~~llarr~~llcorner~~llhard~~lltri~~lmidot~~lmoust~~lmoustache~~lnE~~lnap~~lnapprox~~lne~~lneq~~lneqq~~lnsim~~loang~~loarr~~lobrk~~longleftarrow~~longleftrightarrow~~longmapsto~~longrightarrow~~looparrowleft~~looparrowright~~lopar~~lopf~~loplus~~lotimes~~lowbar~_~lozenge~~lozf~~lpar~(~lparlt~~lrarr~~lrcorner~~lrhar~~lrhard~~lrtri~~lscr~~lsh~~lsim~~lsime~~lsimg~~lsqb~[~lsquor~~lstrok~~ltcc~~ltcir~~ltdot~~lthree~~ltimes~~ltlarr~~ltquest~~ltrPar~~ltri~~ltrie~~ltrif~~lurdshar~~luruhar~~lvertneqq~~lvnE~~mDDot~~male~~malt~~maltese~~map~~mapsto~~mapstodown~~mapstoleft~~mapstoup~~marker~~mcomma~~mcy~~measuredangle~~mfr~~mho~~mid~~midast~*~midcir~~minusb~~minusd~~minusdu~~mlcp~~mldr~~mnplus~~models~~mopf~~mp~~mscr~~mstpos~~multimap~~mumap~~nGg~~nGt~~nGtv~~nLeftarrow~~nLeftrightarrow~~nLl~~nLt~~nLtv~~nRightarrow~~nVDash~~nVdash~~nacute~~nang~~nap~~napE~~napid~~napos~~napprox~~natur~~natural~~naturals~~nbump~~nbumpe~~ncap~~ncaron~~ncedil~~ncong~~ncongdot~~ncup~~ncy~~neArr~~nearhk~~nearr~~nearrow~~nedot~~nequiv~~nesear~~nesim~~nexist~~nexists~~nfr~~ngE~~nge~~ngeq~~ngeqq~~ngeqslant~~nges~~ngsim~~ngt~~ngtr~~nhArr~~nharr~~nhpar~~nis~~nisd~~niv~~njcy~~nlArr~~nlE~~nlarr~~nldr~~nle~~nleftarrow~~nleftrightarrow~~nleq~~nleqq~~nleqslant~~nles~~nless~~nlsim~~nlt~~nltri~~nltrie~~nmid~~nopf~~notinE~~notindot~~notinva~~notinvb~~notinvc~~notni~~notniva~~notnivb~~notnivc~~npar~~nparallel~~nparsl~~npart~~npolint~~npr~~nprcue~~npre~~nprec~~npreceq~~nrArr~~nrarr~~nrarrc~~nrarrw~~nrightarrow~~nrtri~~nrtrie~~nsc~~nsccue~~nsce~~nscr~~nshortmid~~nshortparallel~~nsim~~nsime~~nsimeq~~nsmid~~nspar~~nsqsube~~nsqsupe~~nsubE~~nsube~~nsubset~~nsubseteq~~nsubseteqq~~nsucc~~nsucceq~~nsup~~nsupE~~nsupe~~nsupset~~nsupseteq~~nsupseteqq~~ntgl~~ntlg~~ntriangleleft~~ntrianglelefteq~~ntriangleright~~ntrianglerighteq~~num~#~numero~~numsp~~nvDash~~nvHarr~~nvap~~nvdash~~nvge~~nvgt~>~nvinfin~~nvlArr~~nvle~~nvlt~<~nvltrie~~nvrArr~~nvrtrie~~nvsim~~nwArr~~nwarhk~~nwarr~~nwarrow~~nwnear~~oS~~oast~~ocir~~ocy~~odash~~odblac~~odiv~~odot~~odsold~~ofcir~~ofr~~ogon~~ogt~~ohbar~~ohm~~oint~~olarr~~olcir~~olcross~~olt~~omacr~~omid~~ominus~~oopf~~opar~~operp~~orarr~~ord~~order~~orderof~~origof~~oror~~orslope~~orv~~oscr~~osol~~otimesas~~ovbar~~par~~parallel~~parsim~~parsl~~pcy~~percnt~%~period~.~pertenk~~pfr~~phiv~~phmmat~~phone~~pitchfork~~planck~~planckh~~plankv~~plus~+~plusacir~~plusb~~pluscir~~plusdo~~plusdu~~pluse~~plussim~~plustwo~~pm~~pointint~~popf~~pr~~prE~~prap~~prcue~~pre~~prec~~precapprox~~preccurlyeq~~preceq~~precnapprox~~precneqq~~precnsim~~precsim~~primes~~prnE~~prnap~~prnsim~~profalar~~profline~~profsurf~~propto~~prsim~~prurel~~pscr~~puncsp~~qfr~~qint~~qopf~~qprime~~qscr~~quaternions~~quatint~~quest~?~questeq~~rAarr~~rAtail~~rBarr~~rHar~~race~~racute~~raemptyv~~rangd~~range~~rangle~~rarrap~~rarrb~~rarrbfs~~rarrc~~rarrfs~~rarrhk~~rarrlp~~rarrpl~~rarrsim~~rarrtl~~rarrw~~ratail~~ratio~~rationals~~rbarr~~rbbrk~~rbrace~}~rbrack~]~rbrke~~rbrksld~~rbrkslu~~rcaron~~rcedil~~rcub~}~rcy~~rdca~~rdldhar~~rdquor~~rdsh~~realine~~realpart~~reals~~rect~~rfisht~~rfr~~rhard~~rharu~~rharul~~rhov~~rightarrow~~rightarrowtail~~rightharpoondown~~rightharpoonup~~rightleftarrows~~rightleftharpoons~~rightrightarrows~~rightsquigarrow~~rightthreetimes~~ring~~risingdotseq~~rlarr~~rlhar~~rmoust~~rmoustache~~rnmid~~roang~~roarr~~robrk~~ropar~~ropf~~roplus~~rotimes~~rpar~)~rpargt~~rppolint~~rrarr~~rscr~~rsh~~rsqb~]~rsquor~~rthree~~rtimes~~rtri~~rtrie~~rtrif~~rtriltri~~ruluhar~~rx~~sacute~~sc~~scE~~scap~~sccue~~sce~~scedil~~scirc~~scnE~~scnap~~scnsim~~scpolint~~scsim~~scy~~sdotb~~sdote~~seArr~~searhk~~searr~~searrow~~semi~;~seswar~~setminus~~setmn~~sext~~sfr~~sfrown~~sharp~~shchcy~~shcy~~shortmid~~shortparallel~~sigmav~~simdot~~sime~~simeq~~simg~~simgE~~siml~~simlE~~simne~~simplus~~simrarr~~slarr~~smallsetminus~~smashp~~smeparsl~~smid~~smile~~smt~~smte~~smtes~~softcy~~sol~/~solb~~solbar~~sopf~~spadesuit~~spar~~sqcap~~sqcaps~~sqcup~~sqcups~~sqsub~~sqsube~~sqsubset~~sqsubseteq~~sqsup~~sqsupe~~sqsupset~~sqsupseteq~~squ~~square~~squarf~~squf~~srarr~~sscr~~ssetmn~~ssmile~~sstarf~~star~~starf~~straightepsilon~~straightphi~~strns~~subE~~subdot~~subedot~~submult~~subnE~~subne~~subplus~~subrarr~~subset~~subseteq~~subseteqq~~subsetneq~~subsetneqq~~subsim~~subsub~~subsup~~succ~~succapprox~~succcurlyeq~~succeq~~succnapprox~~succneqq~~succnsim~~succsim~~sung~~supE~~supdot~~supdsub~~supedot~~suphsol~~suphsub~~suplarr~~supmult~~supnE~~supne~~supplus~~supset~~supseteq~~supseteqq~~supsetneq~~supsetneqq~~supsim~~supsub~~supsup~~swArr~~swarhk~~swarr~~swarrow~~swnwar~~target~~tbrk~~tcaron~~tcedil~~tcy~~tdot~~telrec~~tfr~~therefore~~thetav~~thickapprox~~thicksim~~thkap~~thksim~~timesb~~timesbar~~timesd~~tint~~toea~~top~~topbot~~topcir~~topf~~topfork~~tosa~~tprime~~triangle~~triangledown~~triangleleft~~trianglelefteq~~triangleq~~triangleright~~trianglerighteq~~tridot~~trie~~triminus~~triplus~~trisb~~tritime~~trpezium~~tscr~~tscy~~tshcy~~tstrok~~twixt~~twoheadleftarrow~~twoheadrightarrow~~uHar~~ubrcy~~ubreve~~ucy~~udarr~~udblac~~udhar~~ufisht~~ufr~~uharl~~uharr~~uhblk~~ulcorn~~ulcorner~~ulcrop~~ultri~~umacr~~uogon~~uopf~~uparrow~~updownarrow~~upharpoonleft~~upharpoonright~~uplus~~upsi~~upuparrows~~urcorn~~urcorner~~urcrop~~uring~~urtri~~uscr~~utdot~~utilde~~utri~~utrif~~uuarr~~uwangle~~vArr~~vBar~~vBarv~~vDash~~vangrt~~varepsilon~~varkappa~~varnothing~~varphi~~varpi~~varpropto~~varr~~varrho~~varsigma~~varsubsetneq~~varsubsetneqq~~varsupsetneq~~varsupsetneqq~~vartheta~~vartriangleleft~~vartriangleright~~vcy~~vdash~~vee~~veebar~~veeeq~~vellip~~verbar~|~vert~|~vfr~~vltri~~vnsub~~vnsup~~vopf~~vprop~~vrtri~~vscr~~vsubnE~~vsubne~~vsupnE~~vsupne~~vzigzag~~wcirc~~wedbar~~wedge~~wedgeq~~wfr~~wopf~~wp~~wr~~wreath~~wscr~~xcap~~xcirc~~xcup~~xdtri~~xfr~~xhArr~~xharr~~xlArr~~xlarr~~xmap~~xnis~~xodot~~xopf~~xoplus~~xotime~~xrArr~~xrarr~~xscr~~xsqcup~~xuplus~~xutri~~xvee~~xwedge~~yacy~~ycirc~~ycy~~yfr~~yicy~~yopf~~yscr~~yucy~~zacute~~zcaron~~zcy~~zdot~~zeetrf~~zfr~~zhcy~~zigrarr~~zopf~~zscr~~~AMP~&~COPY~~GT~>~LT~<~QUOT~"~REG~',uO.html4);var cO={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376},lO=(__webpack_require__(27337),String.fromCodePoint||function(e){return String.fromCharCode(Math.floor((e-65536)/1024)+55296,(e-65536)%1024+56320)}),dO=String.prototype.codePointAt?function(e,t){return e.codePointAt(t)}:function(e,t){return 1024*(e.charCodeAt(t)-55296)+e.charCodeAt(t+1)-56320+65536},pO=function(){return pO=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},pO.apply(this,arguments)},fO=pO(pO({},uO),{all:uO.html5}),hO={specialChars:/[<>'"&]/g,nonAscii:/[<>'"&\u0080-\uD7FF\uE000-\uFFFF\uDC00-\uDFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]?/g,nonAsciiPrintable:/[<>'"&\x01-\x08\x11-\x15\x17-\x1F\x7f-\uD7FF\uE000-\uFFFF\uDC00-\uDFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]?/g,nonAsciiPrintableOnly:/[\x01-\x08\x11-\x15\x17-\x1F\x7f-\uD7FF\uE000-\uFFFF\uDC00-\uDFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]?/g,extensive:/[\x01-\x0c\x0e-\x1f\x21-\x2c\x2e-\x2f\x3a-\x40\x5b-\x60\x7b-\x7d\x7f-\uD7FF\uE000-\uFFFF\uDC00-\uDFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]?/g},mO={mode:"specialChars",level:"all",numeric:"decimal"};function vO(e,t){var n=void 0===t?mO:t,r=n.mode,i=void 0===r?"specialChars":r,a=n.numeric,o=void 0===a?"decimal":a,s=n.level;if(!e)return"";var u=hO[i],c=fO[void 0===s?"all":s].characters,l="hexadecimal"===o;return String.prototype.replace.call(e,u,(function(e){var t=c[e];if(!t){var n=e.length>1?dO(e,0):e.charCodeAt(0);t=(l?"&#x"+n.toString(16):"&#"+n)+";"}return t}))}var gO={scope:"body",level:"all"},yO=/&(?:#\d+|#[xX][\da-fA-F]+|[0-9a-zA-Z]+);/g,bO=/&(?:#\d+|#[xX][\da-fA-F]+|[0-9a-zA-Z]+)[;=]?/g,wO={xml:{strict:yO,attribute:bO,body:sO.xml},html4:{strict:yO,attribute:bO,body:sO.html4},html5:{strict:yO,attribute:bO,body:sO.html5}},DO=pO(pO({},wO),{all:wO.html5}),AO=String.fromCharCode,EO=AO(65533);function kO(e,t,n,r){var i=e,a=e[e.length-1];if(n&&"="===a)i=e;else if(r&&";"!==a)i=e;else{var o=t[e];if(o)i=o;else if("&"===e[0]&&"#"===e[1]){var s=e[2],u="x"==s||"X"==s?parseInt(e.substr(3),16):parseInt(e.substr(2));i=u>=1114111?EO:u>65535?lO(u):AO(cO[u]||u)}}return i}function CO(e,t){var n=void 0===t?gO:t,r=n.level,i=void 0===r?"all":r,a=n.scope,o=void 0===a?"xml"===i?"strict":"body":a;if(!e)return"";var s=DO[i][o],u=fO[i].entities,c="attribute"===o,l="strict"===o;return e.replace(s,(function(e){return kO(e,u,c,l)}))}function _O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_O(Object(n),!0).forEach((function(t){(0,h.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var SO={strictlyTwoElementsInRangeArrays:!1,progressFn:null};function TO(e,t){if(!Array.isArray(e)||!e.length)return e;var n,r,i=xO(xO({},SO),t);if(i.strictlyTwoElementsInRangeArrays&&!e.every((function(e,t){return!(!Array.isArray(e)||2!==e.length)||(n=t,r=e.length,!1)})))throw new TypeError("ranges-sort: [THROW_ID_03] The first argument should be an array and must consist of arrays which are natural number indexes representing TWO string index ranges. However, ".concat(n,"th range (").concat(JSON.stringify(e[n],null,4),") has not two but ").concat(r," elements!"));if(!e.every((function(e,t){return!(!Array.isArray(e)||!Number.isInteger(e[0])||e[0]<0||!Number.isInteger(e[1])||e[1]<0)||(n=t,!1)})))throw new TypeError("ranges-sort: [THROW_ID_04] The first argument should be an array and must consist of arrays which are natural number indexes representing string index ranges. However, ".concat(n,"th range (").concat(JSON.stringify(e[n],null,4),") does not consist of only natural numbers!"));var a=Math.pow(e.length,2),o=0;return Array.from(e).sort((function(e,t){return i.progressFn&&(o+=1,i.progressFn(Math.floor(100*o/a))),e[0]===t[0]?e[1]<t[1]?-1:e[1]>t[1]?1:0:e[0]<t[0]?-1:1}))}function FO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function OO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?FO(Object(n),!0).forEach((function(t){(0,h.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var PO={mergeType:1,progressFn:null,joinRangesThatTouchEdges:!0};var IO="Invariant failed";function BO(e,t,n){var r,i=0,a=0;if(0===arguments.length)throw new Error("ranges-apply: [THROW_ID_01] inputs missing!");if("string"!=typeof e)throw new TypeError("ranges-apply: [THROW_ID_02] first input argument must be a string! Currently it's: ".concat((0,C.A)(e),", equal to: ").concat(JSON.stringify(e,null,4)));if(t&&!Array.isArray(t))throw new TypeError("ranges-apply: [THROW_ID_03] second input argument must be an array (or null)! Currently it's: ".concat((0,C.A)(t),", equal to: ").concat(JSON.stringify(t,null,4)));if(n&&"function"!=typeof n)throw new TypeError("ranges-apply: [THROW_ID_04] the third input argument must be a function (or falsey)! Currently it's: ".concat((0,C.A)(n),", equal to: ").concat(JSON.stringify(n,null,4)));if(!t||!t.filter((function(e){return e})).length)return e;var o=(r=Array.isArray(t)&&Number.isInteger(t[0])&&Number.isInteger(t[1])?[Array.from(t)]:Array.from(t)).length,s=0;r.filter((function(e){return e})).forEach((function(e,t){if(n&&((i=Math.floor(s/o*10))!==a&&(a=i,n(i))),!Array.isArray(e))throw new TypeError("ranges-apply: [THROW_ID_05] ranges array, second input arg., has ".concat(t,"th element not an array: ").concat(JSON.stringify(e,null,4),", which is ").concat((0,C.A)(e)));if(!Number.isInteger(e[0])){if(!Number.isInteger(+e[0])||+e[0]<0)throw new TypeError("ranges-apply: [THROW_ID_06] ranges array, second input arg. has ".concat(t,"th element, array ").concat(JSON.stringify(e,null,0),". Its first element is not an integer, string index, but ").concat((0,C.A)(e[0]),", equal to: ").concat(JSON.stringify(e[0],null,4),"."));r[t][0]=+r[t][0]}if(!Number.isInteger(e[1])){if(!Number.isInteger(+e[1])||+e[1]<0)throw new TypeError("ranges-apply: [THROW_ID_07] ranges array, second input arg. has ".concat(t,"th element, array ").concat(JSON.stringify(e,null,0),". Its second element is not an integer, string index, but ").concat((0,C.A)(e[1]),", equal to: ").concat(JSON.stringify(e[1],null,4),"."));r[t][1]=+r[t][1]}s+=1}));var u=function(e,t){function n(e){return!!e&&"object"==(0,C.A)(e)&&!Array.isArray(e)}if(!Array.isArray(e)||!e.length)return null;var r;if(t){if(!n(t))throw new Error("emlint: [THROW_ID_03] the second input argument must be a plain object. It was given as:\n".concat(JSON.stringify(t,null,4)," (type ").concat((0,C.A)(t),")"));if((r=OO(OO({},PO),t)).progressFn&&n(r.progressFn)&&!Object.keys(r.progressFn).length)r.progressFn=null;else if(r.progressFn&&"function"!=typeof r.progressFn)throw new Error('ranges-merge: [THROW_ID_01] opts.progressFn must be a function! It was given of a type: "'.concat((0,C.A)(r.progressFn),'", equal to ').concat(JSON.stringify(r.progressFn,null,4)));if(![1,2,"1","2"].includes(r.mergeType))throw new Error('ranges-merge: [THROW_ID_02] opts.mergeType was customised to a wrong thing! It was given of a type: "'.concat((0,C.A)(r.mergeType),'", equal to ').concat(JSON.stringify(r.mergeType,null,4)));if("boolean"!=typeof r.joinRangesThatTouchEdges)throw new Error('ranges-merge: [THROW_ID_04] opts.joinRangesThatTouchEdges was customised to a wrong thing! It was given of a type: "'.concat((0,C.A)(r.joinRangesThatTouchEdges),'", equal to ').concat(JSON.stringify(r.joinRangesThatTouchEdges,null,4)))}else r=OO({},PO);var i,a,o,s=e.filter((function(e){return Array.isArray(e)})).map((function(e){return(0,z.A)(e)})).filter((function(e){return void 0!==e[2]||e[0]!==e[1]}));i=r.progressFn?TO(s,{progressFn:function(e){(o=Math.floor(e/5))!==a&&(a=o,r.progressFn(o))}}):TO(s);for(var u=i.length-1,c=u;c>0;c--)r.progressFn&&(o=Math.floor(78*(1-c/u))+21)!==a&&o>a&&(a=o,r.progressFn(o)),(i[c][0]<=i[c-1][0]||!r.joinRangesThatTouchEdges&&i[c][0]<i[c-1][1]||r.joinRangesThatTouchEdges&&i[c][0]<=i[c-1][1])&&(i[c-1][0]=Math.min(i[c][0],i[c-1][0]),i[c-1][1]=Math.max(i[c][1],i[c-1][1]),void 0!==i[c][2]&&(i[c-1][0]>=i[c][0]||i[c-1][1]<=i[c][1])&&null!==i[c-1][2]&&(null===i[c][2]&&null!==i[c-1][2]?i[c-1][2]=null:null!=i[c-1][2]?2==+r.mergeType&&i[c-1][0]===i[c][0]?i[c-1][2]=i[c][2]:i[c-1][2]+=i[c][2]:i[c-1][2]=i[c][2]),i.splice(c,1),c=i.length);return i.length?i:null}(r,{progressFn:function(e){n&&((i=10+Math.floor(e/10))!==a&&(a=i,n(i)))}});!function(e){if(!e)throw new Error(IO)}(u);var c=u.length;if(c>0){var l=e.slice(u[c-1][1]);e=u.reduce((function(t,r,o,s){n&&((i=20+Math.floor(o/c*80))!==a&&(a=i,n(i)));var u=0===o?0:s[o-1][1],l=s[o][0];return"".concat(t).concat(e.slice(u,l)).concat(s[o][2]||"")}),""),e+=l}return e}function RO(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;function n(e){return Array.from(e).reverse().join("")}function r(e,t,n){var r=n?"\n":"\r",i=n?"\r":"\n";if(!e)return e;for(var a=0,o="",s=0,u=e.length;s<u;s++)(e[s]===r||e[s]===i&&e[s-1]!==r)&&a++,"\r\n".includes(e[s])||""===e[s]?""===e[s]?o+=e[s]:e[s]===r?a<=t&&(o+=e[s],e[s+1]===i&&(o+=e[s+1],s++)):e[s]===i&&(null==e?void 0:e[s-1])!==r&&a<=t&&(o+=e[s]):!e[s+1]&&!a&&(o+=" ");return o}if("string"==typeof e&&e.length){var i=1;"number"==typeof+t&&Number.isInteger(+t)&&+t>=0&&(i=+t);var a="",o="";if(e.trim()){if(!e[0].trim())for(var s=0,u=e.length;s<u;s++)if(e[s].trim()){a=e.slice(0,s);break}}else a=e;if(e.trim()&&(""===e.slice(-1).trim()||""===e.slice(-1)))for(var c=e.length;c--;)if(e[c].trim()){o=e.slice(c+1);break}return"".concat(r(a,i,!1)).concat(e.trim()).concat(n(r(n(o),i,!0)))}return e}function NO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function MO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?NO(Object(n),!0).forEach((function(t){(0,h.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var LO={strictlyTwoElementsInRangeArrays:!1,progressFn:null};function jO(e,t){if(!Array.isArray(e)||!e.length)return e;var n,r,i=MO(MO({},LO),t);if(i.strictlyTwoElementsInRangeArrays&&!e.every((function(e,t){return!(!Array.isArray(e)||2!==e.length)||(n=t,r=e.length,!1)})))throw new TypeError("ranges-sort: [THROW_ID_03] The first argument should be an array and must consist of arrays which are natural number indexes representing TWO string index ranges. However, ".concat(n,"th range (").concat(JSON.stringify(e[n],null,4),") has not two but ").concat(r," elements!"));if(!e.every((function(e,t){return!(!Array.isArray(e)||!Number.isInteger(e[0])||e[0]<0||!Number.isInteger(e[1])||e[1]<0)||(n=t,!1)})))throw new TypeError("ranges-sort: [THROW_ID_04] The first argument should be an array and must consist of arrays which are natural number indexes representing string index ranges. However, ".concat(n,"th range (").concat(JSON.stringify(e[n],null,4),") does not consist of only natural numbers!"));var a=Math.pow(e.length,2),o=0;return Array.from(e).sort((function(e,t){return i.progressFn&&(o+=1,i.progressFn(Math.floor(100*o/a))),e[0]===t[0]?e[1]<t[1]?-1:e[1]>t[1]?1:0:e[0]<t[0]?-1:1}))}var UO={mergeType:1,progressFn:null,joinRangesThatTouchEdges:!0};function zO(e){return null!=e}function VO(e){return Number.isInteger(e)&&e>=0}function qO(e){return"string"==typeof e}var HO={limitToBeAddedWhitespace:!1,limitLinebreaksCount:1,mergeType:1},WO=function(){return(0,f.A)((function e(t){(0,p.A)(this,e),(0,h.A)(this,"ranges",void 0),(0,h.A)(this,"opts",void 0);var n=MO(MO({},HO),t);if(n.mergeType&&1!==n.mergeType&&2!==n.mergeType)if(qO(n.mergeType)&&"1"===n.mergeType.trim())n.mergeType=1;else{if(!qO(n.mergeType)||"2"!==n.mergeType.trim())throw new Error('ranges-push: [THROW_ID_02] opts.mergeType was customised to a wrong thing! It was given of a type: "'.concat((0,C.A)(n.mergeType),'", equal to ').concat(JSON.stringify(n.mergeType,null,4)));n.mergeType=2}this.opts=n,this.ranges=[]}),[{key:"add",value:function(e,t,n){var r=this;if(null!=e||null!=t){if(zO(e)&&!zO(t)){if(Array.isArray(e)){if(e.length){if(e.some((function(e){return Array.isArray(e)})))return void e.forEach((function(e){Array.isArray(e)&&r.add.apply(r,(0,z.A)(e))}));e.length&&VO(+e[0])&&VO(+e[1])&&this.add.apply(this,(0,z.A)(e))}return}throw new TypeError('ranges-push/Ranges/add(): [THROW_ID_12] the first input argument, "from" is set ('.concat(JSON.stringify(e,null,0),') but second-one, "to" is not (').concat(JSON.stringify(t,null,0),")"))}if(!zO(e)&&zO(t))throw new TypeError('ranges-push/Ranges/add(): [THROW_ID_13] the second input argument, "to" is set ('.concat(JSON.stringify(t,null,0),') but first-one, "from" is not (').concat(JSON.stringify(e,null,0),")"));var i=+e,a=+t;if(VO(n)&&(n=String(n)),!VO(i)||!VO(a))throw VO(i)&&i>=0?new TypeError('ranges-push/Ranges/add(): [THROW_ID_10] "to" value, the second input argument, must be a natural number or zero! Currently it\'s of a type "'.concat((0,C.A)(a),'" equal to: ').concat(JSON.stringify(a,null,4))):new TypeError('ranges-push/Ranges/add(): [THROW_ID_09] "from" value, the first input argument, must be a natural number or zero! Currently it\'s of a type "'.concat((0,C.A)(i),'" equal to: ').concat(JSON.stringify(i,null,4)));if(zO(n)&&!qO(n)&&!VO(n))throw new TypeError("ranges-push/Ranges/add(): [THROW_ID_08] The third argument, the value to add, was given not as string but ".concat((0,C.A)(n),", equal to:\n").concat(JSON.stringify(n,null,4)));if(zO(this.ranges)&&Array.isArray(this.last())&&i===this.last()[1]){if(this.last()[1]=a,this.last()[2],null!==this.last()[2]&&zO(n)){var o,s=!this.last()[2]||!this.last()[2].length||null!==(o=this.opts)&&void 0!==o&&o.mergeType&&1!==this.opts.mergeType?n:"".concat(this.last()[2]).concat(n);this.opts.limitToBeAddedWhitespace&&(s=RO(s,this.opts.limitLinebreaksCount)),qO(s)&&!s.length||(this.last()[2]=s)}}else{this.ranges||(this.ranges=[]);var u=void 0===n||qO(n)&&!n.length?[i,a]:[i,a,n&&this.opts.limitToBeAddedWhitespace?RO(n,this.opts.limitLinebreaksCount):n];this.ranges.push(u)}}}},{key:"push",value:function(e,t,n){this.add(e,t,n)}},{key:"current",value:function(){var e=this;return Array.isArray(this.ranges)&&this.ranges.length?(this.ranges=function(e,t){function n(e){return!!e&&"object"==(0,C.A)(e)&&!Array.isArray(e)}if(!Array.isArray(e)||!e.length)return null;var r;if(t){if(!n(t))throw new Error("emlint: [THROW_ID_03] the second input argument must be a plain object. It was given as:\n".concat(JSON.stringify(t,null,4)," (type ").concat((0,C.A)(t),")"));if((r=MO(MO({},UO),t)).progressFn&&n(r.progressFn)&&!Object.keys(r.progressFn).length)r.progressFn=null;else if(r.progressFn&&"function"!=typeof r.progressFn)throw new Error('ranges-merge: [THROW_ID_01] resolvedOpts.progressFn must be a function! It was given of a type: "'.concat((0,C.A)(r.progressFn),'", equal to ').concat(JSON.stringify(r.progressFn,null,4)));if(![1,2,"1","2"].includes(r.mergeType))throw new Error('ranges-merge: [THROW_ID_02] resolvedOpts.mergeType was customised to a wrong thing! It was given of a type: "'.concat((0,C.A)(r.mergeType),'", equal to ').concat(JSON.stringify(r.mergeType,null,4)));if("boolean"!=typeof r.joinRangesThatTouchEdges)throw new Error('ranges-merge: [THROW_ID_04] resolvedOpts.joinRangesThatTouchEdges was customised to a wrong thing! It was given of a type: "'.concat((0,C.A)(r.joinRangesThatTouchEdges),'", equal to ').concat(JSON.stringify(r.joinRangesThatTouchEdges,null,4)))}else r=MO({},UO);var i,a,o,s=e.filter((function(e){return Array.isArray(e)})).map((function(e){return(0,z.A)(e)})).filter((function(e){return void 0!==e[2]||e[0]!==e[1]}));i=r.progressFn?jO(s,{progressFn:function(e){(o=Math.floor(e/5))!==a&&(a=o,r.progressFn(o))}}):jO(s);for(var u=i.length-1,c=u;c>0;c--)r.progressFn&&(o=Math.floor(78*(1-c/u))+21)!==a&&o>a&&(a=o,r.progressFn(o)),(i[c][0]<=i[c-1][0]||!r.joinRangesThatTouchEdges&&i[c][0]<i[c-1][1]||r.joinRangesThatTouchEdges&&i[c][0]<=i[c-1][1])&&(i[c-1][0]=Math.min(i[c][0],i[c-1][0]),i[c-1][1]=Math.max(i[c][1],i[c-1][1]),void 0!==i[c][2]&&(i[c-1][0]>=i[c][0]||i[c-1][1]<=i[c][1])&&null!==i[c-1][2]&&(null===i[c][2]&&null!==i[c-1][2]?i[c-1][2]=null:null!=i[c-1][2]?2==+r.mergeType&&i[c-1][0]===i[c][0]?i[c-1][2]=i[c][2]:i[c-1][2]+=i[c][2]:i[c-1][2]=i[c][2]),i.splice(c,1),c=i.length);return i.length?i:null}(this.ranges,{mergeType:this.opts.mergeType}),this.ranges&&this.opts.limitToBeAddedWhitespace?this.ranges.map((function(t){return zO(t[2])?[t[0],t[1],RO(t[2],e.opts.limitLinebreaksCount)]:t})):this.ranges):null}},{key:"wipe",value:function(){this.ranges=[]}},{key:"replace",value:function(e){if(Array.isArray(e)&&e.length){if(!Array.isArray(e[0])||!VO(e[0][0]))throw new Error("ranges-push/Ranges/replace(): [THROW_ID_11] Single range was given but we expected array of arrays! The first element, ".concat(JSON.stringify(e[0],null,4)," should be an array and its first element should be an integer, a string index."));this.ranges=Array.from(e)}else this.ranges=[]}},{key:"last",value:function(){return Array.isArray(this.ranges)&&this.ranges.length?this.ranges[this.ranges.length-1]:null}}])}();__webpack_require__(99589);var KO="";function $O(e){var t=e.str,n=e.idx,r=void 0===n?0:n,i=e.stopAtNewlines,a=void 0!==i&&i,o=e.stopAtRawNbsp,s=void 0!==o&&o;if("string"!=typeof t||!t.length||((!r||"number"!=typeof r)&&(r=0),!t[r+1]))return null;if(t[r+1]&&(t[r+1].trim()||a&&"\n\r".includes(t[r+1])||s&&t[r+1]===KO))return r+1;if(t[r+2]&&(t[r+2].trim()||a&&"\n\r".includes(t[r+2])||s&&t[r+2]===KO))return r+2;for(var u=r+1,c=t.length;u<c;u++)if(t[u].trim()||a&&"\n\r".includes(t[u])||s&&t[u]===KO)return u;return null}function GO(e){return $O({str:e,idx:arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,stopAtNewlines:!1,stopAtRawNbsp:!1})}function QO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function YO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?QO(Object(n),!0).forEach((function(t){(0,h.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function XO(e,t){if(!e)return[];if(Array.isArray(e))return e.filter((function(e){return"string"==typeof e&&e.trim()}));if("string"==typeof e)return e.trim()?[e]:[];throw new TypeError("string-strip-html/stripHtml(): [THROW_ID_03] ".concat(t," must be array containing zero or more strings or something falsey. Currently it's equal to: ").concat(e,", that a type of ").concat((0,C.A)(e),"."))}function ZO(e,t,n){return!e||!e.quotes||!function(e,t,n,r){for(var i=t,a=e.length;i<a;i++){if(e.startsWith(n,i))return!0;if(e.startsWith(r,i))return!1}return!1}(t,n+1,e.quotes.value,">")}var JO={ignoreTags:[],ignoreTagsWithTheirContents:[],onlyStripTags:[],stripTogetherWithTheirContents:["script","style","xml"],skipHtmlDecoding:!1,trimOnlySpaces:!1,stripRecognisedHTMLOnly:!1,dumpLinkHrefsNearby:{enabled:!1,putOnNewLine:!1,wrapHeads:"",wrapTails:""},cb:null};function eP(e,t){var n=Date.now(),r=new Set(["!doctype","abbr","address","area","article","aside","audio","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","doctype","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","param","picture","pre","progress","rb","rp","rt","rtc","ruby","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","ul","var","video","wbr","xml"]),i=new Set(["a","b","i","p","q","s","u"]),a=new Set([".",",","?",";",")","",'"',""]),o=[],s=[],u=[],c=[],l={};l={attributes:[]};var d=null,p=null,f={},h={tagName:"",hrefValue:"",openingTagEnds:void 0},m="",v=!1,g=null,y=!0;function b(t,n,r){if(Array.isArray(n.stripTogetherWithTheirContents)&&(n.stripTogetherWithTheirContents.includes(l.name)||n.stripTogetherWithTheirContents.includes("*")))if(l.slashPresent&&Array.isArray(o)&&o.some((function(e){return e.name===l.name})))for(var i=function(i){if(o[i].name===l.name){c=c.filter((function(e){var n=(0,_.A)(e,2),r=n[0],a=n[1];return(r<o[i].lastOpeningBracketAt||r>=t+1)&&(a<=o[i].lastOpeningBracketAt||a>t+1)}));var s=t+1;return l.lastClosingBracketAt&&(s=l.lastClosingBracketAt+1),c.push([o[i].lastOpeningBracketAt,s]),a.has(e[t])&&n.cb?n.cb({tag:l,deleteFrom:o[i].lastOpeningBracketAt,deleteTo:t+1,insert:null,rangesArr:r,proposedReturn:[o[i].lastOpeningBracketAt,t,null]}):n.cb&&n.cb({tag:l,deleteFrom:o[i].lastOpeningBracketAt,deleteTo:t,insert:"",rangesArr:r,proposedReturn:[o[i].lastOpeningBracketAt,t,""]}),o.splice(i,1),1}},s=o.length;s--&&!i(s););else l.slashPresent||o.push(l);else Array.isArray(n.ignoreTagsWithTheirContents)&&k(t,n,l)&&(y=!1)}function w(e,t,n,r,i,o){var s="";if(Number.isInteger(n)&&n<i&&(s+=e.slice(n,i)),Number.isInteger(r)&&r>o+1){var u=e.slice(o+1,r);u.includes("\n")&&A(r,e)?s+=" ":s+=u}var c=!a.has(e[t]),l=">"!==e[r-1]||!e[n].trim(),d=!['"',"("].includes(e[i-1]),p=![";",".",":","!"].includes(e[t]);if((c||l&&d&&p)&&(l||d)&&"!"!==e[t]){var f=s.match(/\n/g);return Array.isArray(f)&&f.length?1===f.length?"\n":2===f.length?"\n\n":"\n\n\n":" "}return""}function D(e){if(e.dumpLinkHrefsNearby.enabled&&h.tagName&&h.tagName===l.name&&l.lastOpeningBracketAt&&(h.openingTagEnds&&l.lastOpeningBracketAt>h.openingTagEnds||!h.openingTagEnds)&&(v=!0),v){var t=e.dumpLinkHrefsNearby.putOnNewLine?"\n\n":"";m="".concat(t).concat(h.hrefValue).concat(t)}}function A(t,n){return n?"<"===n[t]&&"%"!==n[t+1]:"<"===e[t]&&"%"!==e[t+1]}function E(t){return">"===e[t]&&"%"!==e[t-1]}function k(t,n,r){if(n.ignoreTagsWithTheirContents.includes("*"))return!0;var i=e.indexOf("<".concat(r.name),t),a=e.indexOf("</".concat(r.name),t);return!(!r.slashPresent&&-1===a||r.slashPresent&&!s.some((function(e){return e.name===r.name}))||a>-1&&i>-1&&i<a)&&n.ignoreTagsWithTheirContents.includes(r.name)}if("string"!=typeof e)throw new TypeError("string-strip-html/stripHtml(): [THROW_ID_01] Input must be string! Currently it's: ".concat((0,C.A)(e).toLowerCase(),", equal to:\n").concat(JSON.stringify(e,null,4)));if(t&&!nO(t))throw new TypeError("string-strip-html/stripHtml(): [THROW_ID_02] Optional Options Object must be a plain object! Currently it's: ".concat((0,C.A)(t).toLowerCase(),", equal to:\n").concat(JSON.stringify(t,null,4)));function x(){v&&(h={tagName:"",hrefValue:"",openingTagEnds:void 0},v=!1)}var S=YO(YO({},JO),t);if(Object.prototype.hasOwnProperty.call(S,"returnRangesOnly"))throw new TypeError("string-strip-html/stripHtml(): [THROW_ID_03] resolvedOpts.returnRangesOnly has been removed from the API since v.5 release.");S.ignoreTags=XO(S.ignoreTags,"resolvedOpts.ignoreTags"),S.onlyStripTags=XO(S.onlyStripTags,"resolvedOpts.onlyStripTags");var T=!!S.onlyStripTags.length;if(S.onlyStripTags.length&&S.ignoreTags.length&&(S.onlyStripTags=iO.apply(void 0,[S.onlyStripTags].concat((0,z.A)(S.ignoreTags)))),nO(S.dumpLinkHrefsNearby)||(S.dumpLinkHrefsNearby=YO({},JO.dumpLinkHrefsNearby)),S.dumpLinkHrefsNearby=JO.dumpLinkHrefsNearby,t&&Object.prototype.hasOwnProperty.call(t,"dumpLinkHrefsNearby")&&function(e){return null!=e}(t.dumpLinkHrefsNearby))if(nO(t.dumpLinkHrefsNearby))S.dumpLinkHrefsNearby=YO(YO({},JO.dumpLinkHrefsNearby),t.dumpLinkHrefsNearby);else if(t.dumpLinkHrefsNearby)throw new TypeError("string-strip-html/stripHtml(): [THROW_ID_04] Optional Options Object's key dumpLinkHrefsNearby was set to ".concat((0,C.A)(t.dumpLinkHrefsNearby),", equal to ").concat(JSON.stringify(t.dumpLinkHrefsNearby,null,4),". The only allowed value is a plain object. See the API reference."));S.stripTogetherWithTheirContents?"string"==typeof S.stripTogetherWithTheirContents&&S.stripTogetherWithTheirContents.length&&(S.stripTogetherWithTheirContents=[S.stripTogetherWithTheirContents]):S.stripTogetherWithTheirContents=[];var F={};if(S.stripTogetherWithTheirContents&&Array.isArray(S.stripTogetherWithTheirContents)&&S.stripTogetherWithTheirContents.length&&!S.stripTogetherWithTheirContents.every((function(e,t){return"string"==typeof e||(F.el=e,F.i=t,!1)})))throw new TypeError("string-strip-html/stripHtml(): [THROW_ID_05] Optional Options Object's key stripTogetherWithTheirContents was set to contain not just string elements! For example, element at index ".concat(F.i," has a value ").concat(F.el," which is not string but ").concat((0,C.A)(F.el).toLowerCase(),"."));S.cb||(S.cb=function(e){var t=e.rangesArr,n=e.proposedReturn;n&&t.push.apply(t,(0,z.A)(n))});var O=new WO({limitToBeAddedWhitespace:!0,limitLinebreaksCount:2});if(!S.skipHtmlDecoding)for(;e!==CO(e,{scope:"strict"});)e=CO(e,{scope:"strict"});for(var P=!1,I=!1,B=function(t){var n,a;if(Object.keys(l).length>1&&l.lastClosingBracketAt&&l.lastClosingBracketAt<t&&" "!==e[t]&&null===g&&(g=t),!P&&"%"===e[t]&&"{"===e[t-1]&&e.includes("%}",t+1)){var C=e.indexOf("%}",t)-1;if(C>t)return R=t=C,0}if(!P&&E(t)&&(!l||Object.keys(l).length<2)&&t>1)for(var F=function(){if(void 0===e[B-1]||E(B)){var n=void 0===e[B-1]?B:B+1,i=e.slice(n,t+1);if(e!=="<".concat(rO(i.trim(),"/>"),">")&&(0,z.A)(r).some((function(e){return rO(i.trim().split(/\s+/).filter((function(e){return e.trim()})).filter((function(e,t){return 0===t})),"/>").toLowerCase()===e}))&&""===eP("<".concat(i.trim(),">"),S).result){(!u.length||u[u.length-1][0]!==l.lastOpeningBracketAt)&&u.push([n,t+1]),(!c.length||c[c.length-1][0]!==l.lastOpeningBracketAt)&&c.push([n,t+1]);var a=w(e,t,n,t+1,n,t+1),o=t+1;if(e[o]&&!e[o].trim())for(var s=o;s<N;s++)if(e[s].trim()){o=s;break}S.cb({tag:l,deleteFrom:n,deleteTo:o,insert:a,rangesArr:O,proposedReturn:[n,o,a]})}return 1}},B=t;B--&&!F(););if(!I&&"/"===e[t]&&!(null!==(n=l.quotes)&&void 0!==n&&n.value)&&Number.isInteger(l.lastOpeningBracketAt)&&!Number.isInteger(l.lastClosingBracketAt)&&(l.slashPresent=t),'"'===e[t]||"'"===e[t])if(!I&&l.nameStarts&&l.quotes&&l.quotes.value&&l.quotes.value===e[t]){var M;f.valueEnds=t,f.value=e.slice(f.valueStarts,t),l.attributes.push(f),f={},delete l.quotes,S.dumpLinkHrefsNearby.enabled&&l.attributes.some((function(e){if(e.name&&"href"===e.name.toLowerCase())return M="".concat(S.dumpLinkHrefsNearby.wrapHeads||"").concat(e.value).concat(S.dumpLinkHrefsNearby.wrapTails||""),!0}))&&(h={tagName:l.name,hrefValue:M,openingTagEnds:void 0})}else!I&&!l.quotes&&l.nameStarts&&(l.quotes={},l.quotes.value=e[t],l.quotes.start=t,f.nameStarts&&f.nameEnds&&f.nameEnds<t&&f.nameStarts<t&&!f.valueStarts&&(f.name=e.slice(f.nameStarts,f.nameEnds)));if(!(void 0===l.nameStarts||void 0!==l.nameEnds||e[t].trim()&&function(e){return/[-_A-Za-z0-9]/.test(e)}(e[t]))){if(l.nameEnds=t,l.name=e.slice(l.nameStarts,l.nameEnds+(E(t)||"/"===e[t]||void 0!==e[t+1]?0:1)),"!"!==e[l.nameStarts-1]&&!l.name.replace(/-/g,"").length||/^\d+$/.test(l.name[0]))return l={},R=t,0;if("doctype"===l.name.toLowerCase()&&(I=!0),A(t)){D(S);var L=w(e,t,l.leftOuterWhitespace,t,l.lastOpeningBracketAt,t);(S.stripTogetherWithTheirContents.includes(l.name)||S.stripTogetherWithTheirContents.includes("*"))&&(c=c.filter((function(e){var n=(0,_.A)(e,2),r=n[0],i=n[1];return!(r===l.leftOuterWhitespace&&i===t)}))),S.cb({tag:l,deleteFrom:l.leftOuterWhitespace,deleteTo:t,insert:"".concat(L).concat(m).concat(L),rangesArr:O,proposedReturn:[l.leftOuterWhitespace,t,"".concat(L).concat(m).concat(L)]}),x(),b(t,S,O)}}if(null!==(a=l.quotes)&&void 0!==a&&a.start&&l.quotes.start<t&&!l.quotes.end&&f.nameEnds&&f.equalsAt&&!f.valueStarts&&(f.valueStarts=t),!l.quotes&&f.nameEnds&&"="===e[t]&&!f.valueStarts&&!f.equalsAt&&(f.equalsAt=t),!l.quotes&&f.nameStarts&&f.nameEnds&&!f.valueStarts&&e[t].trim()&&"="!==e[t]&&(l.attributes.push(f),f={}),!l.quotes&&f.nameStarts&&!f.nameEnds&&(I&&"'\"".includes(e[f.nameStarts])?f.nameStarts<t&&e[t]===e[f.nameStarts]&&(f.nameEnds=t+1,f.name=e.slice(f.nameStarts,f.nameEnds)):e[t].trim()?"="===e[t]?f.equalsAt||(f.nameEnds=t,f.equalsAt=t,f.name=e.slice(f.nameStarts,f.nameEnds)):("/"===e[t]||E(t)||A(t))&&(f.nameEnds=t,f.name=e.slice(f.nameStarts,f.nameEnds),l.attributes.push(f),f={}):(f.nameEnds=t,f.name=e.slice(f.nameStarts,f.nameEnds))),!l.quotes&&l.nameEnds<t&&!e[t-1].trim()&&e[t].trim()&&!"<>/!".includes(e[t])&&!f.nameStarts&&!l.lastClosingBracketAt&&(f.nameStarts=t),null!==l.lastOpeningBracketAt&&l.lastOpeningBracketAt<t&&"/"===e[t]&&l.onlyPlausible&&(l.onlyPlausible=!1),null!==l.lastOpeningBracketAt&&l.lastOpeningBracketAt<t&&"/"!==e[t]&&(void 0===l.onlyPlausible&&(e[t].trim()&&!A(t)||l.slashPresent?l.onlyPlausible=!1:l.onlyPlausible=!0),e[t].trim()&&void 0===l.nameStarts&&!A(t)&&"/"!==e[t]&&!E(t)&&"!"!==e[t]&&(l.nameStarts=t,l.nameContainsLetters=!1)),l.nameStarts&&!l.quotes&&e[t].toLowerCase()!==e[t].toUpperCase()&&(l.nameContainsLetters=!0),E(t)&&ZO(l,e,t)&&void 0!==l.lastOpeningBracketAt&&(l.lastClosingBracketAt=t,g=null,Object.keys(f).length&&(l.attributes.push(f),f={}),S.dumpLinkHrefsNearby.enabled&&h.tagName&&!h.openingTagEnds&&(h.openingTagEnds=t)),(!I||">"===e[t])&&void 0!==l.lastOpeningBracketAt){if(void 0===l.lastClosingBracketAt){if(l.lastOpeningBracketAt<t&&!A(t)&&(void 0===e[t+1]||A(t+1))&&l.nameContainsLetters){if(l.name=e.slice(l.nameStarts,l.nameEnds?l.nameEnds:t+1).toLowerCase(),(!u.length||u[u.length-1][0]!==l.lastOpeningBracketAt)&&u.push([l.lastOpeningBracketAt,t+1]),S.ignoreTags.includes(l.name)||k(t,S,l)||!r.has(l.name)&&(l.onlyPlausible||S.stripRecognisedHTMLOnly))return l={},f={},R=t,0;if((r.has(l.name)||i.has(l.name))&&(!1===l.onlyPlausible||!0===l.onlyPlausible&&l.attributes.length)||void 0===e[t+1]){D(S);var j=w(e,t,l.leftOuterWhitespace,t+1,l.lastOpeningBracketAt,l.lastClosingBracketAt);P&&"script"===l.name&&l.slashPresent&&(P=!1),S.cb({tag:l,deleteFrom:l.leftOuterWhitespace,deleteTo:t+1,insert:"".concat(j).concat(m).concat(j),rangesArr:O,proposedReturn:[l.leftOuterWhitespace,t+1,"".concat(j).concat(m).concat(j)]}),x(),b(t,S,O)}if(!c.length||c[c.length-1][0]!==l.lastOpeningBracketAt&&c[c.length-1][1]!==t+1)if(S.stripTogetherWithTheirContents.includes(l.name)||S.stripTogetherWithTheirContents.includes("*")){for(var U,V=o.length;V--;)o[V].name===l.name&&(U=o[V]);U?(c=c.filter((function(e){return(0,_.A)(e,1)[0]!==U.lastOpeningBracketAt}))).push([U.lastOpeningBracketAt,t+1]):c.push([l.lastOpeningBracketAt,t+1])}else c.push([l.lastOpeningBracketAt,t+1])}}else if(t>l.lastClosingBracketAt&&e[t].trim()||void 0===e[t+1]){var q,H=l.lastClosingBracketAt===t?t+1:t;S.trimOnlySpaces&&H===N-1&&null!==g&&g<t&&(H=g),(!u.length||u[u.length-1][0]!==l.lastOpeningBracketAt)&&u.push([l.lastOpeningBracketAt,l.lastClosingBracketAt+1]);var W=S.ignoreTags.includes(l.name),K=k(t,S,l);if(!y||S.stripRecognisedHTMLOnly&&!r.has(l.name.toLowerCase())||!T&&(W||K)||T&&!S.onlyStripTags.includes(l.name)){if(K)if(l.slashPresent){for(var $=s.length;$--;)if(s[$].name===l.name){s.splice($,1);break}s.length||(y=!0)}else y&&(y=!1),s.push(l);S.cb({tag:l,deleteFrom:null,deleteTo:null,insert:null,rangesArr:O,proposedReturn:null}),l={},f={}}else if(!l.onlyPlausible||0===l.attributes.length&&l.name&&(r.has(l.name.toLowerCase())||i.has(l.name.toLowerCase()))||null!==(q=l.attributes)&&void 0!==q&&q.some((function(e){return e.equalsAt}))){(!c.length||c[c.length-1][0]!==l.lastOpeningBracketAt)&&c.push([l.lastOpeningBracketAt,l.lastClosingBracketAt+1]);var G,Q=w(e,t,l.leftOuterWhitespace,H,l.lastOpeningBracketAt,l.lastClosingBracketAt);m="",v=!1,D(S),G=function(e){return"string"==typeof e}(m)&&m.length?"".concat(Q).concat(m).concat("\n\n"===Q?"\n":Q):Q,(0===l.leftOuterWhitespace||!GO(e,H-1))&&(G=""),S.cb({tag:l,deleteFrom:l.leftOuterWhitespace,deleteTo:H,insert:G,rangesArr:O,proposedReturn:[l.leftOuterWhitespace,H,G]}),x(),b(t,S,O)}else l={};E(t)||(l={})}I&&(I=!1)}if((!P||"<"===e[t]&&GO(e,GO(e,t))&&"/"===e[GO(e,t)]&&e.startsWith("script",GO(e,GO(e,t))))&&A(t)&&!A(t-1)&&!"'\"".includes(e[t+1])&&(!"'\"".includes(e[t+2])||/\w/.test(e[t+1]))&&("c"!==e[t+1]||":"!==e[t+2])&&("f"!==e[t+1]||"m"!==e[t+2]||"t"!==e[t+3]||":"!==e[t+4])&&("s"!==e[t+1]||"q"!==e[t+2]||"l"!==e[t+3]||":"!==e[t+4])&&("x"!==e[t+1]||":"!==e[t+2])&&("f"!==e[t+1]||"n"!==e[t+2]||":"!==e[t+3])&&ZO(l,e,t)){if(E(GO(e,t)))return R=t,0;if(l.nameEnds&&l.nameEnds<t&&!l.lastClosingBracketAt&&(!0===l.onlyPlausible&&l.attributes&&l.attributes.length||!1===l.onlyPlausible)){var Y=w(e,t,l.leftOuterWhitespace,t,l.lastOpeningBracketAt,t);S.cb({tag:l,deleteFrom:l.leftOuterWhitespace,deleteTo:t,insert:Y,rangesArr:O,proposedReturn:[l.leftOuterWhitespace,t,Y]}),b(t,S,O),l={},f={}}if(void 0!==l.lastOpeningBracketAt&&l.onlyPlausible&&l.name&&!l.quotes&&(l.lastOpeningBracketAt=void 0,l.name=void 0,l.onlyPlausible=!1),!(void 0!==l.lastOpeningBracketAt&&l.onlyPlausible||l.quotes||(l.lastOpeningBracketAt=t,l.slashPresent=!1,l.attributes=[],null===d?l.leftOuterWhitespace=t:S.trimOnlySpaces&&0===d?l.leftOuterWhitespace=p||t:l.leftOuterWhitespace=d,"!--"!="".concat(e[t+1]).concat(e[t+2]).concat(e[t+3])&&"![CDATA["!="".concat(e[t+1]).concat(e[t+2]).concat(e[t+3]).concat(e[t+4]).concat(e[t+5]).concat(e[t+6]).concat(e[t+7]).concat(e[t+8])))){var X,Z=!0;"-"===e[t+2]&&(Z=!1);for(var J=t;J<N;J++)if((!X&&Z&&"]]>"=="".concat(e[J-2]).concat(e[J-1]).concat(e[J])||!Z&&"--\x3e"=="".concat(e[J-2]).concat(e[J-1]).concat(e[J]))&&(X=J),X&&(X<J&&e[J].trim()||void 0===e[J+1])){var ee=J;(void 0===e[J+1]&&!e[J].trim()||">"===e[J])&&(ee+=1),(!u.length||u[u.length-1][0]!==l.lastOpeningBracketAt)&&u.push([l.lastOpeningBracketAt,X+1]),(!c.length||c[c.length-1][0]!==l.lastOpeningBracketAt)&&c.push([l.lastOpeningBracketAt,X+1]);var te=w(e,J,l.leftOuterWhitespace,ee,l.lastOpeningBracketAt,X);S.cb({tag:l,deleteFrom:l.leftOuterWhitespace,deleteTo:ee,insert:te,rangesArr:O,proposedReturn:[l.leftOuterWhitespace,ee,te]}),t=J-1,">"===e[J]&&(t=J),l={},f={};break}}}e[t].trim()?null!==d&&(!l.quotes&&f.equalsAt>d-1&&f.nameEnds&&f.equalsAt>f.nameEnds&&'"'!==e[t]&&"'"!==e[t]&&(nO(f)&&l.attributes.push(f),f={},l.equalsSpottedAt=void 0),d=null):null===d&&(d=t,void 0!==l.lastOpeningBracketAt&&l.lastOpeningBracketAt<t&&l.nameStarts&&l.nameStarts<l.lastOpeningBracketAt&&t===l.lastOpeningBracketAt+1&&!o.some((function(e){return e.name===l.name}))&&(l.onlyPlausible=!0,l.name=void 0,l.nameStarts=void 0))," "===e[t]?null===p&&(p=t):null!==p&&(p=null),"script"===l.name&&(P=!l.slashPresent),R=t},R=0,N=e.length;R<N;R++)B(R);if(e&&(S.trimOnlySpaces&&" "===e[0]||!S.trimOnlySpaces&&!e[0].trim()))for(var M=0,L=e.length;M<L;M++){if(S.trimOnlySpaces&&" "!==e[M]||!S.trimOnlySpaces&&e[M].trim()){O.push([0,M]);break}e[M+1]||O.push([0,M+1])}if(e&&(S.trimOnlySpaces&&" "===e[e.length-1]||!S.trimOnlySpaces&&!e[e.length-1].trim()))for(var j=e.length;j--;)if(S.trimOnlySpaces&&" "!==e[j]||!S.trimOnlySpaces&&e[j].trim()){O.push([j+1,e.length]);break}var U=O.current();if((!t||!t.cb)&&U){if(U[0]&&!U[0][0]){U[0][1];O.ranges[0]=[O.ranges[0][0],O.ranges[0][1]]}if(U[U.length-1]&&U[U.length-1][1]===e.length){U[U.length-1][0];if(O.ranges){var V=O.ranges[O.ranges.length-1][0];e[V-1]&&(S.trimOnlySpaces&&" "===e[V-1]||!S.trimOnlySpaces&&!e[V-1].trim())&&(V-=1);var q=O.ranges[O.ranges.length-1][2];O.ranges[O.ranges.length-1]=[V,O.ranges[O.ranges.length-1][1]],(null==q?void 0:q.trim())&&O.ranges[O.ranges.length-1].push(q.trimEnd())}}}return{log:{timeTakenInMilliseconds:Date.now()-n},result:BO(e,O.current()),ranges:O.current(),allTagLocations:u,filteredTagLocations:c}}function tP(){try{var e=document.body;if("relative"===window.getComputedStyle(e).position)return 0;var t=document.documentElement,n=window.getComputedStyle(t);if("relative"===n.position)return 0;var r=n.marginTop;return parseInt(r)}catch(e){return 0}}function nP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nP(Object(n),!0).forEach((function(t){(0,h.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function iP(e){var t=e.children,n=e.content,r=e.placement,i=void 0===r?"top":r,a=e.disabled,o=void 0!==a&&a,s=e.showOnMobile,u=void 0!==s&&s,l=e.longHover,d=void 0===l?null:l,p=e.longHoverTimeout,f=void 0===p?500:p,h=(0,c.useState)(!1),m=(0,_.A)(h,2),v=m[0],g=m[1],y=(0,c.useState)(!1),b=(0,_.A)(y,2),w=b[0],D=b[1],A=WF({placement:i,open:v,onOpenChange:g,middleware:[YT(5-tP()),ZT(),XT({padding:8})],whileElementsMounted:UT}),E=A.context,k=A.refs,C=A.floatingStyles,x=ZF([kF(E),GF(E),eO(E,{role:"tooltip"}),HF(E)]),S=x.getReferenceProps,T=x.getFloatingProps,F=(0,c.useRef)(null);(0,c.useEffect)((function(){d&&v?F.current=setTimeout((function(){D(!0)}),f):(clearTimeout(F.current),D(!1))}),[v,d,f]);return""===n||!1===u&&Yv()?(0,c.cloneElement)(t,rP(rP({},t.props),{},{"aria-label":eP(n).result,tabIndex:0})):c.createElement(c.Fragment,null,(0,c.cloneElement)(t,S(rP(rP({ref:k.setReference},t.props),{},{"aria-label":eP(n).result,tabIndex:0}))),v&&c.createElement(MF,null,v&&!o&&c.createElement("div",cy({className:"bm-tooltip",ref:k.setFloating,style:C},T()),!w&&Gg(n),w&&d)))}const aP=(0,c.memo)(iP);function oP(e){var t=e.children,n=e.title,r=e.itemKey,i=e.outsideClose,a=(0,c.useRef)(null);(0,c.useEffect)((function(){return setTimeout((function(){return document.addEventListener("click",o)}),300),function(){document.removeEventListener("click",o)}}),[]);var o=function(e){if(i){var t=e.target;a.current.contains(t)||lP(r)}};return c.createElement(Ix.div,{ref:a,initial:{scale:0},animate:{scale:1},exit:{scale:0},className:"bm-modal-window bm-modal-"+r,role:"dialog",tabIndex:-1},c.createElement("div",{className:"bm-modal-window-inner"},c.createElement("div",{className:"bm-modal-window-header"},c.createElement("h3",null,n),c.createElement(aP,{content:Mie("Close","Close Modal Window","bp-better-messages")},c.createElement("span",{className:"bm-modal-window-close",onClick:function(){return lP(r)}},c.createElement(Kx,null)))),c.createElement("div",{className:"bm-modal-window-content"},t)))}var sP=null;function uP(){var e=(0,c.useRef)(null),t=wb(),n=(0,c.useRef)([]);return(0,c.useEffect)((function(){(sP=e.current).addEventListener("better-messages-add-modal",(function(e){var r=e.detail;0===n.current.filter((function(e){return e.key!==r.key})).length&&(n.current.push(r),t())})),sP.addEventListener("better-messages-remove-modal",(function(e){var r=e.detail;n.current=n.current.filter((function(e){return e.key!==r.key})),t()}))}),[e]),c.createElement(c.StrictMode,null,c.createElement("div",{id:"better-messages-modals-container",ref:e},c.createElement(Rb,null,n.current.map((function(e){return c.createElement(oP,{key:e.key,itemKey:e.key,title:e.title,outsideClose:e.outsideClose},e.modal)})))))}function cP(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];lP(e),sP.dispatchEvent(new CustomEvent("better-messages-add-modal",{detail:{key:e,title:t,modal:n,outsideClose:r}}))}function lP(e){sP.dispatchEvent(new CustomEvent("better-messages-remove-modal",{detail:{key:e}}))}function dP(e){var t=e.onClick,n=e.label,r=e.disabled,i=void 0!==r&&r,a=e.classes,o=void 0===a?"":a;return c.createElement("button",{className:"bm-button "+o,onClick:t,disabled:i},n)}__webpack_require__(71678);var pP=Object.create(null);pP.open="0",pP.close="1",pP.ping="2",pP.pong="3",pP.message="4",pP.upgrade="5",pP.noop="6";var fP=Object.create(null);Object.keys(pP).forEach((function(e){fP[pP[e]]=e}));var hP,mP={type:"error",data:"parser error"},vP="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),gP="function"==typeof ArrayBuffer,yP=function(e){return"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer},bP=function(e,t,n){var r=e.type,i=e.data;return vP&&i instanceof Blob?t?n(i):wP(i,n):gP&&(i instanceof ArrayBuffer||yP(i))?t?n(i):wP(new Blob([i]),n):n(pP[r]+(i||""))},wP=function(e,t){var n=new FileReader;return n.onload=function(){var e=n.result.split(",")[1];t("b"+(e||""))},n.readAsDataURL(e)};function DP(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}for(var AP="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",EP="undefined"==typeof Uint8Array?[]:new Uint8Array(256),kP=0;kP<64;kP++)EP[AP.charCodeAt(kP)]=kP;var CP,_P="function"==typeof ArrayBuffer,xP=function(e,t){if("string"!=typeof e)return{type:"message",data:TP(e,t)};var n=e.charAt(0);return"b"===n?{type:"message",data:SP(e.substring(1),t)}:fP[n]?e.length>1?{type:fP[n],data:e.substring(1)}:{type:fP[n]}:mP},SP=function(e,t){if(_P){var n=function(e){var t,n,r,i,a,o=.75*e.length,s=e.length,u=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);var c=new ArrayBuffer(o),l=new Uint8Array(c);for(t=0;t<s;t+=4)n=EP[e.charCodeAt(t)],r=EP[e.charCodeAt(t+1)],i=EP[e.charCodeAt(t+2)],a=EP[e.charCodeAt(t+3)],l[u++]=n<<2|r>>4,l[u++]=(15&r)<<4|i>>2,l[u++]=(3&i)<<6|63&a;return c}(e);return TP(n,t)}return{base64:!0,data:e}},TP=function(e,t){return"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer},FP=String.fromCharCode(30);function OP(){return new TransformStream({transform:function(e,t){!function(e,t){vP&&e.data instanceof Blob?e.data.arrayBuffer().then(DP).then(t):gP&&(e.data instanceof ArrayBuffer||yP(e.data))?t(DP(e.data)):bP(e,!1,(function(e){hP||(hP=new TextEncoder),t(hP.encode(e))}))}(e,(function(n){var r,i=n.length;if(i<126)r=new Uint8Array(1),new DataView(r.buffer).setUint8(0,i);else if(i<65536){r=new Uint8Array(3);var a=new DataView(r.buffer);a.setUint8(0,126),a.setUint16(1,i)}else{r=new Uint8Array(9);var o=new DataView(r.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(i))}e.data&&"string"!=typeof e.data&&(r[0]|=128),t.enqueue(r),t.enqueue(n)}))}})}function PP(e){return e.reduce((function(e,t){return e+t.length}),0)}function IP(e,t){if(e[0].length===t)return e.shift();for(var n=new Uint8Array(t),r=0,i=0;i<t;i++)n[i]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function BP(e){if(e)return function(e){for(var t in BP.prototype)e[t]=BP.prototype[t];return e}(e)}BP.prototype.on=BP.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},BP.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},BP.prototype.off=BP.prototype.removeListener=BP.prototype.removeAllListeners=BP.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},BP.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t)}return this},BP.prototype.emitReserved=BP.prototype.emit,BP.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},BP.prototype.hasListeners=function(e){return!!this.listeners(e).length};var RP="function"==typeof Promise&&"function"==typeof Promise.resolve?function(e){return Promise.resolve().then(e)}:function(e,t){return t(e,0)},NP="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();function MP(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((function(t,n){return e.hasOwnProperty(n)&&(t[n]=e[n]),t}),{})}var LP=NP.setTimeout,jP=NP.clearTimeout;function UP(e,t){t.useNativeTimers?(e.setTimeoutFn=LP.bind(NP),e.clearTimeoutFn=jP.bind(NP)):(e.setTimeoutFn=NP.setTimeout.bind(NP),e.clearTimeoutFn=NP.clearTimeout.bind(NP))}function zP(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function VP(e,t,n,r){var i=(0,Pd.A)((0,S.A)(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function qP(e,t,n){return t=(0,S.A)(t),(0,x.A)(e,HP()?Reflect.construct(t,n||[],(0,S.A)(e).constructor):t.apply(e,n))}function HP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(HP=function(){return!!e})()}var WP=function(e){function t(e,n,r){var i;return(0,p.A)(this,t),(i=qP(this,t,[e])).description=n,i.context=r,i.type="TransportError",i}return(0,T.A)(t,e),(0,f.A)(t)}((0,F.A)(Error)),KP=function(e){function t(e){var n;return(0,p.A)(this,t),(n=qP(this,t)).writable=!1,UP(n,e),n.opts=e,n.query=e.query,n.socket=e.socket,n.supportsBinary=!e.forceBase64,n}return(0,T.A)(t,e),(0,f.A)(t,[{key:"onError",value:function(e,n,r){return VP(t,"emitReserved",this,3)(["error",new WP(e,n,r)]),this}},{key:"open",value:function(){return this.readyState="opening",this.doOpen(),this}},{key:"close",value:function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}},{key:"send",value:function(e){"open"===this.readyState&&this.write(e)}},{key:"onOpen",value:function(){this.readyState="open",this.writable=!0,VP(t,"emitReserved",this,3)(["open"])}},{key:"onData",value:function(e){var t=xP(e,this.socket.binaryType);this.onPacket(t)}},{key:"onPacket",value:function(e){VP(t,"emitReserved",this,3)(["packet",e])}},{key:"onClose",value:function(e){this.readyState="closed",VP(t,"emitReserved",this,3)(["close",e])}},{key:"pause",value:function(e){}},{key:"createUri",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}},{key:"_hostname",value:function(){var e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}},{key:"_port",value:function(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}},{key:"_query",value:function(e){var t=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}(e);return t.length?"?"+t:""}}])}(BP);function $P(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return($P=function(){return!!e})()}var GP=function(e){function t(){var e;return(0,p.A)(this,t),(e=function(e,t,n){return t=(0,S.A)(t),(0,x.A)(e,$P()?Reflect.construct(t,n||[],(0,S.A)(e).constructor):t.apply(e,n))}(this,t,arguments))._polling=!1,e}return(0,T.A)(t,e),(0,f.A)(t,[{key:"name",get:function(){return"polling"}},{key:"doOpen",value:function(){this._poll()}},{key:"pause",value:function(e){var t=this;this.readyState="pausing";var n=function(){t.readyState="paused",e()};if(this._polling||!this.writable){var r=0;this._polling&&(r++,this.once("pollComplete",(function(){--r||n()}))),this.writable||(r++,this.once("drain",(function(){--r||n()})))}else n()}},{key:"_poll",value:function(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}},{key:"onData",value:function(e){var t=this;(function(e,t){for(var n=e.split(FP),r=[],i=0;i<n.length;i++){var a=xP(n[i],t);if(r.push(a),"error"===a.type)break}return r})(e,this.socket.binaryType).forEach((function(e){if("opening"===t.readyState&&"open"===e.type&&t.onOpen(),"close"===e.type)return t.onClose({description:"transport closed by the server"}),!1;t.onPacket(e)})),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}},{key:"doClose",value:function(){var e=this,t=function(){e.write([{type:"close"}])};"open"===this.readyState?t():this.once("open",t)}},{key:"write",value:function(e){var t=this;this.writable=!1,function(e,t){var n=e.length,r=new Array(n),i=0;e.forEach((function(e,a){bP(e,!1,(function(e){r[a]=e,++i===n&&t(r.join(FP))}))}))}(e,(function(e){t.doWrite(e,(function(){t.writable=!0,t.emitReserved("drain")}))}))}},{key:"uri",value:function(){var e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=zP()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}}])}(KP),QP=!1;try{QP="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){}var YP=QP;function XP(e,t,n){return t=(0,S.A)(t),(0,x.A)(e,ZP()?Reflect.construct(t,n||[],(0,S.A)(e).constructor):t.apply(e,n))}function ZP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ZP=function(){return!!e})()}function JP(){}var eI=function(e){function t(e){var n;if((0,p.A)(this,t),n=XP(this,t,[e]),"undefined"!=typeof location){var r="https:"===location.protocol,i=location.port;i||(i=r?"443":"80"),n.xd="undefined"!=typeof location&&e.hostname!==location.hostname||i!==e.port}return n}return(0,T.A)(t,e),(0,f.A)(t,[{key:"doWrite",value:function(e,t){var n=this,r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",(function(e,t){n.onError("xhr post error",e,t)}))}},{key:"doPoll",value:function(){var e=this,t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(function(t,n){e.onError("xhr poll error",t,n)})),this.pollXhr=t}}])}(GP),tI=function(e){function t(e,n,r){var i;return(0,p.A)(this,t),(i=XP(this,t)).createRequest=e,UP(i,r),i._opts=r,i._method=r.method||"GET",i._uri=n,i._data=void 0!==r.data?r.data:null,i._create(),i}return(0,T.A)(t,e),(0,f.A)(t,[{key:"_create",value:function(){var e,n=this,r=MP(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;var i=this._xhr=this.createRequest(r);try{i.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders)for(var a in i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0),this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(a)&&i.setRequestHeader(a,this._opts.extraHeaders[a])}catch(e){}if("POST"===this._method)try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{i.setRequestHeader("Accept","*/*")}catch(e){}null===(e=this._opts.cookieJar)||void 0===e||e.addCookies(i),"withCredentials"in i&&(i.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(i.timeout=this._opts.requestTimeout),i.onreadystatechange=function(){var e;3===i.readyState&&(null===(e=n._opts.cookieJar)||void 0===e||e.parseCookies(i.getResponseHeader("set-cookie"))),4===i.readyState&&(200===i.status||1223===i.status?n._onLoad():n.setTimeoutFn((function(){n._onError("number"==typeof i.status?i.status:0)}),0))},i.send(this._data)}catch(e){return void this.setTimeoutFn((function(){n._onError(e)}),0)}"undefined"!=typeof document&&(this._index=t.requestsCount++,t.requests[this._index]=this)}},{key:"_onError",value:function(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}},{key:"_cleanup",value:function(e){if(void 0!==this._xhr&&null!==this._xhr){if(this._xhr.onreadystatechange=JP,e)try{this._xhr.abort()}catch(e){}"undefined"!=typeof document&&delete t.requests[this._index],this._xhr=null}}},{key:"_onLoad",value:function(){var e=this._xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}},{key:"abort",value:function(){this._cleanup()}}])}(BP);if(tI.requestsCount=0,tI.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",nI);else if("function"==typeof addEventListener){addEventListener("onpagehide"in NP?"pagehide":"unload",nI,!1)}function nI(){for(var e in tI.requests)tI.requests.hasOwnProperty(e)&&tI.requests[e].abort()}var rI=function(){var e=aI({xdomain:!1});return e&&null!==e.responseType}(),iI=function(e){function t(e){var n;(0,p.A)(this,t),n=XP(this,t,[e]);var r=e&&e.forceBase64;return n.supportsBinary=rI&&!r,n}return(0,T.A)(t,e),(0,f.A)(t,[{key:"request",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(e,{xd:this.xd},this.opts),new tI(aI,this.uri(),e)}}])}(eI);function aI(e){var t=e.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!t||YP))return new XMLHttpRequest}catch(e){}if(!t)try{return new(NP[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}}function oI(e,t,n){return t=(0,S.A)(t),(0,x.A)(e,sI()?Reflect.construct(t,n||[],(0,S.A)(e).constructor):t.apply(e,n))}function sI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(sI=function(){return!!e})()}var uI="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),cI=function(e){function t(){return(0,p.A)(this,t),oI(this,t,arguments)}return(0,T.A)(t,e),(0,f.A)(t,[{key:"name",get:function(){return"websocket"}},{key:"doOpen",value:function(){var e=this.uri(),t=this.opts.protocols,n=uI?{}:MP(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,n)}catch(e){return this.emitReserved("error",e)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}},{key:"addEventListeners",value:function(){var e=this;this.ws.onopen=function(){e.opts.autoUnref&&e.ws._socket.unref(),e.onOpen()},this.ws.onclose=function(t){return e.onClose({description:"websocket connection closed",context:t})},this.ws.onmessage=function(t){return e.onData(t.data)},this.ws.onerror=function(t){return e.onError("websocket error",t)}}},{key:"write",value:function(e){var t=this;this.writable=!1;for(var n=function(){var n=e[r],i=r===e.length-1;bP(n,t.supportsBinary,(function(e){try{t.doWrite(n,e)}catch(e){}i&&RP((function(){t.writable=!0,t.emitReserved("drain")}),t.setTimeoutFn)}))},r=0;r<e.length;r++)n()}},{key:"doClose",value:function(){void 0!==this.ws&&(this.ws.onerror=function(){},this.ws.close(),this.ws=null)}},{key:"uri",value:function(){var e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=zP()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}])}(KP),lI=NP.WebSocket||NP.MozWebSocket,dI=function(e){function t(){return(0,p.A)(this,t),oI(this,t,arguments)}return(0,T.A)(t,e),(0,f.A)(t,[{key:"createSocket",value:function(e,t,n){return uI?new lI(e,t,n):t?new lI(e,t):new lI(e)}},{key:"doWrite",value:function(e,t){this.ws.send(t)}}])}(cI);function pI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(pI=function(){return!!e})()}var fI=function(e){function t(){return(0,p.A)(this,t),function(e,t,n){return t=(0,S.A)(t),(0,x.A)(e,pI()?Reflect.construct(t,n||[],(0,S.A)(e).constructor):t.apply(e,n))}(this,t,arguments)}return(0,T.A)(t,e),(0,f.A)(t,[{key:"name",get:function(){return"webtransport"}},{key:"doOpen",value:function(){var e=this;try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then((function(){e.onClose()})).catch((function(t){e.onError("webtransport error",t)})),this._transport.ready.then((function(){e._transport.createBidirectionalStream().then((function(t){var n=function(e,t){CP||(CP=new TextDecoder);var n=[],r=0,i=-1,a=!1;return new TransformStream({transform:function(o,s){for(n.push(o);;){if(0===r){if(PP(n)<1)break;var u=IP(n,1);a=!(128&~u[0]),i=127&u[0],r=i<126?3:126===i?1:2}else if(1===r){if(PP(n)<2)break;var c=IP(n,2);i=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),r=3}else if(2===r){if(PP(n)<8)break;var l=IP(n,8),d=new DataView(l.buffer,l.byteOffset,l.length),p=d.getUint32(0);if(p>Math.pow(2,21)-1){s.enqueue(mP);break}i=p*Math.pow(2,32)+d.getUint32(4),r=3}else{if(PP(n)<i)break;var f=IP(n,i);s.enqueue(xP(a?f:CP.decode(f),t)),r=0}if(0===i||i>e){s.enqueue(mP);break}}}})}(Number.MAX_SAFE_INTEGER,e.socket.binaryType),r=t.readable.pipeThrough(n).getReader(),i=OP();i.readable.pipeTo(t.writable),e._writer=i.writable.getWriter();var a=function(){r.read().then((function(t){var n=t.done,r=t.value;n||(e.onPacket(r),a())})).catch((function(e){}))};a();var o={type:"open"};e.query.sid&&(o.data='{"sid":"'.concat(e.query.sid,'"}')),e._writer.write(o).then((function(){return e.onOpen()}))}))}))}},{key:"write",value:function(e){var t=this;this.writable=!1;for(var n=function(){var n=e[r],i=r===e.length-1;t._writer.write(n).then((function(){i&&RP((function(){t.writable=!0,t.emitReserved("drain")}),t.setTimeoutFn)}))},r=0;r<e.length;r++)n()}},{key:"doClose",value:function(){var e;null===(e=this._transport)||void 0===e||e.close()}}])}(KP),hI={websocket:dI,webtransport:fI,polling:iI},mI=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,vI=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function gI(e){if(e.length>8e3)throw"URI too long";var t=e,n=e.indexOf("["),r=e.indexOf("]");-1!=n&&-1!=r&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));for(var i=mI.exec(e||""),a={},o=14;o--;)a[vI[o]]=i[o]||"";return-1!=n&&-1!=r&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=function(e,t){var n=/\/{2,9}/g,r=t.replace(n,"/").split("/");"/"!=t.slice(0,1)&&0!==t.length||r.splice(0,1);"/"==t.slice(-1)&&r.splice(r.length-1,1);return r}(0,a.path),a.queryKey=function(e,t){var n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,r){t&&(n[t]=r)})),n}(0,a.query),a}function yI(e,t,n,r){var i=(0,Pd.A)((0,S.A)(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function bI(e,t,n){return t=(0,S.A)(t),(0,x.A)(e,wI()?Reflect.construct(t,n||[],(0,S.A)(e).constructor):t.apply(e,n))}function wI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(wI=function(){return!!e})()}var DI="function"==typeof addEventListener&&"function"==typeof removeEventListener,AI=[];DI&&addEventListener("offline",(function(){AI.forEach((function(e){return e()}))}),!1);var EI=function(e){function t(e,n){var r;if((0,p.A)(this,t),(r=bI(this,t)).binaryType="arraybuffer",r.writeBuffer=[],r._prevBufferLen=0,r._pingInterval=-1,r._pingTimeout=-1,r._maxPayload=-1,r._pingTimeoutTime=1/0,e&&"object"===(0,C.A)(e)&&(n=e,e=null),e){var i=gI(e);n.hostname=i.host,n.secure="https"===i.protocol||"wss"===i.protocol,n.port=i.port,i.query&&(n.query=i.query)}else n.host&&(n.hostname=gI(n.host).host);return UP(r,n),r.secure=null!=n.secure?n.secure:"undefined"!=typeof location&&"https:"===location.protocol,n.hostname&&!n.port&&(n.port=r.secure?"443":"80"),r.hostname=n.hostname||("undefined"!=typeof location?location.hostname:"localhost"),r.port=n.port||("undefined"!=typeof location&&location.port?location.port:r.secure?"443":"80"),r.transports=[],r._transportsByName={},n.transports.forEach((function(e){var t=e.prototype.name;r.transports.push(t),r._transportsByName[t]=e})),r.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),r.opts.path=r.opts.path.replace(/\/$/,"")+(r.opts.addTrailingSlash?"/":""),"string"==typeof r.opts.query&&(r.opts.query=function(e){for(var t={},n=e.split("&"),r=0,i=n.length;r<i;r++){var a=n[r].split("=");t[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return t}(r.opts.query)),DI&&(r.opts.closeOnBeforeunload&&(r._beforeunloadEventListener=function(){r.transport&&(r.transport.removeAllListeners(),r.transport.close())},addEventListener("beforeunload",r._beforeunloadEventListener,!1)),"localhost"!==r.hostname&&(r._offlineEventListener=function(){r._onClose("transport close",{description:"network connection lost"})},AI.push(r._offlineEventListener))),r.opts.withCredentials&&(r._cookieJar=void 0),r._open(),r}return(0,T.A)(t,e),(0,f.A)(t,[{key:"createTransport",value:function(e){var t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);var n=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}},{key:"_open",value:function(){var e=this;if(0!==this.transports.length){var n=this.opts.rememberUpgrade&&t.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";var r=this.createTransport(n);r.open(),this.setTransport(r)}else this.setTimeoutFn((function(){e.emitReserved("error","No transports available")}),0)}},{key:"setTransport",value:function(e){var t=this;this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",(function(e){return t._onClose("transport close",e)}))}},{key:"onOpen",value:function(){this.readyState="open",t.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}},{key:"_onPacket",value:function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":var t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}},{key:"onHandshake",value:function(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}},{key:"_resetPingTimeout",value:function(){var e=this;this.clearTimeoutFn(this._pingTimeoutTimer);var t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn((function(){e._onClose("ping timeout")}),t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}},{key:"_onDrain",value:function(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}},{key:"flush",value:function(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){var e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}},{key:"_getWritablePackets",value:function(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;for(var e,t=1,n=0;n<this.writeBuffer.length;n++){var r=this.writeBuffer[n].data;if(r&&(t+="string"==typeof(e=r)?function(e){for(var t=0,n=0,r=0,i=e.length;r<i;r++)(t=e.charCodeAt(r))<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}(e):Math.ceil(1.33*(e.byteLength||e.size))),n>0&&t>this._maxPayload)return this.writeBuffer.slice(0,n);t+=2}return this.writeBuffer}},{key:"_hasPingExpired",value:function(){var e=this;if(!this._pingTimeoutTime)return!0;var t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,RP((function(){e._onClose("ping timeout")}),this.setTimeoutFn)),t}},{key:"write",value:function(e,t,n){return this._sendPacket("message",e,t,n),this}},{key:"send",value:function(e,t,n){return this._sendPacket("message",e,t,n),this}},{key:"_sendPacket",value:function(e,t,n,r){if("function"==typeof t&&(r=t,t=void 0),"function"==typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var i={type:e,data:t,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}}},{key:"close",value:function(){var e=this,t=function(){e._onClose("forced close"),e.transport.close()},n=function(){e.off("upgrade",n),e.off("upgradeError",n),t()},r=function(){e.once("upgrade",n),e.once("upgradeError",n)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(function(){e.upgrading?r():t()})):this.upgrading?r():t()),this}},{key:"_onError",value:function(e){if(t.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}},{key:"_onClose",value:function(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),DI&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){var n=AI.indexOf(this._offlineEventListener);-1!==n&&AI.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}])}(BP);EI.protocol=4;var kI=function(e){function t(){var e;return(0,p.A)(this,t),(e=bI(this,t,arguments))._upgrades=[],e}return(0,T.A)(t,e),(0,f.A)(t,[{key:"onOpen",value:function(){if(yI(t,"onOpen",this,3)([]),"open"===this.readyState&&this.opts.upgrade)for(var e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}},{key:"_probe",value:function(e){var t=this,n=this.createTransport(e),r=!1;EI.priorWebsocketSuccess=!1;var i=function(){r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",(function(e){if(!r)if("pong"===e.type&&"probe"===e.data){if(t.upgrading=!0,t.emitReserved("upgrading",n),!n)return;EI.priorWebsocketSuccess="websocket"===n.name,t.transport.pause((function(){r||"closed"!==t.readyState&&(l(),t.setTransport(n),n.send([{type:"upgrade"}]),t.emitReserved("upgrade",n),n=null,t.upgrading=!1,t.flush())}))}else{var i=new Error("probe error");i.transport=n.name,t.emitReserved("upgradeError",i)}})))};function a(){r||(r=!0,l(),n.close(),n=null)}var o=function(e){var r=new Error("probe error: "+e);r.transport=n.name,a(),t.emitReserved("upgradeError",r)};function s(){o("transport closed")}function u(){o("socket closed")}function c(e){n&&e.name!==n.name&&a()}var l=function(){n.removeListener("open",i),n.removeListener("error",o),n.removeListener("close",s),t.off("close",u),t.off("upgrading",c)};n.once("open",i),n.once("error",o),n.once("close",s),this.once("close",u),this.once("upgrading",c),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn((function(){r||n.open()}),200):n.open()}},{key:"onHandshake",value:function(e){this._upgrades=this._filterUpgrades(e.upgrades),yI(t,"onHandshake",this,3)([e])}},{key:"_filterUpgrades",value:function(e){for(var t=[],n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}])}(EI),CI=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,p.A)(this,t);var r="object"===(0,C.A)(e)?e:n;return(!r.transports||r.transports&&"string"==typeof r.transports[0])&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map((function(e){return hI[e]})).filter((function(e){return!!e}))),bI(this,t,[e,r])}return(0,T.A)(t,e),(0,f.A)(t)}(kI);CI.protocol;var _I="function"==typeof ArrayBuffer,xI=Object.prototype.toString,SI="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===xI.call(Blob),TI="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===xI.call(File);function FI(e){return _I&&(e instanceof ArrayBuffer||function(e){return"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer}(e))||SI&&e instanceof Blob||TI&&e instanceof File}function OI(e,t){if(!e||"object"!==(0,C.A)(e))return!1;if(Array.isArray(e)){for(var n=0,r=e.length;n<r;n++)if(OI(e[n]))return!0;return!1}if(FI(e))return!0;if(e.toJSON&&"function"==typeof e.toJSON&&1===arguments.length)return OI(e.toJSON(),!0);for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&OI(e[i]))return!0;return!1}function PI(e){var t=[],n=e.data,r=e;return r.data=II(n,t),r.attachments=t.length,{packet:r,buffers:t}}function II(e,t){if(!e)return e;if(FI(e)){var n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){for(var r=new Array(e.length),i=0;i<e.length;i++)r[i]=II(e[i],t);return r}if("object"===(0,C.A)(e)&&!(e instanceof Date)){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(a[o]=II(e[o],t));return a}return e}function BI(e,t){return e.data=RI(e.data,t),delete e.attachments,e}function RI(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"==typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(var n=0;n<e.length;n++)e[n]=RI(e[n],t);else if("object"===(0,C.A)(e))for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=RI(e[r],t));return e}function NI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(NI=function(){return!!e})()}function MI(e,t,n,r){var i=(0,Pd.A)((0,S.A)(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}var LI,jI=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],UI=5;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(LI||(LI={}));var zI=function(){return(0,f.A)((function e(t){(0,p.A)(this,e),this.replacer=t}),[{key:"encode",value:function(e){return e.type!==LI.EVENT&&e.type!==LI.ACK||!OI(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===LI.EVENT?LI.BINARY_EVENT:LI.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}},{key:"encodeAsString",value:function(e){var t=""+e.type;return e.type!==LI.BINARY_EVENT&&e.type!==LI.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}},{key:"encodeAsBinary",value:function(e){var t=PI(e),n=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(n),r}}])}();function VI(e){return"[object Object]"===Object.prototype.toString.call(e)}var qI=function(e){function t(e){var n;return(0,p.A)(this,t),(n=function(e,t,n){return t=(0,S.A)(t),(0,x.A)(e,NI()?Reflect.construct(t,n||[],(0,S.A)(e).constructor):t.apply(e,n))}(this,t)).reviver=e,n}return(0,T.A)(t,e),(0,f.A)(t,[{key:"add",value:function(e){var n;if("string"==typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");var r=(n=this.decodeString(e)).type===LI.BINARY_EVENT;r||n.type===LI.BINARY_ACK?(n.type=r?LI.EVENT:LI.ACK,this.reconstructor=new HI(n),0===n.attachments&&MI(t,"emitReserved",this,3)(["decoded",n])):MI(t,"emitReserved",this,3)(["decoded",n])}else{if(!FI(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(n=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,MI(t,"emitReserved",this,3)(["decoded",n]))}}},{key:"decodeString",value:function(e){var n=0,r={type:Number(e.charAt(0))};if(void 0===LI[r.type])throw new Error("unknown packet type "+r.type);if(r.type===LI.BINARY_EVENT||r.type===LI.BINARY_ACK){for(var i=n+1;"-"!==e.charAt(++n)&&n!=e.length;);var a=e.substring(i,n);if(a!=Number(a)||"-"!==e.charAt(n))throw new Error("Illegal attachments");r.attachments=Number(a)}if("/"===e.charAt(n+1)){for(var o=n+1;++n;){if(","===e.charAt(n))break;if(n===e.length)break}r.nsp=e.substring(o,n)}else r.nsp="/";var s=e.charAt(n+1);if(""!==s&&Number(s)==s){for(var u=n+1;++n;){var c=e.charAt(n);if(null==c||Number(c)!=c){--n;break}if(n===e.length)break}r.id=Number(e.substring(u,n+1))}if(e.charAt(++n)){var l=this.tryParse(e.substr(n));if(!t.isPayloadValid(r.type,l))throw new Error("invalid payload");r.data=l}return r}},{key:"tryParse",value:function(e){try{return JSON.parse(e,this.reviver)}catch(e){return!1}}},{key:"destroy",value:function(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}],[{key:"isPayloadValid",value:function(e,t){switch(e){case LI.CONNECT:return VI(t);case LI.DISCONNECT:return void 0===t;case LI.CONNECT_ERROR:return"string"==typeof t||VI(t);case LI.EVENT:case LI.BINARY_EVENT:return Array.isArray(t)&&("number"==typeof t[0]||"string"==typeof t[0]&&-1===jI.indexOf(t[0]));case LI.ACK:case LI.BINARY_ACK:return Array.isArray(t)}}}])}(BP),HI=function(){return(0,f.A)((function e(t){(0,p.A)(this,e),this.packet=t,this.buffers=[],this.reconPack=t}),[{key:"takeBinaryData",value:function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=BI(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}},{key:"finishedReconstruction",value:function(){this.reconPack=null,this.buffers=[]}}])}();function WI(e,t,n){return e.on(t,n),function(){e.off(t,n)}}function KI(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return $I(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$I(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function $I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function GI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(GI=function(){return!!e})()}var QI=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),YI=function(e){function t(e,n,r){var i;return(0,p.A)(this,t),(i=function(e,t,n){return t=(0,S.A)(t),(0,x.A)(e,GI()?Reflect.construct(t,n||[],(0,S.A)(e).constructor):t.apply(e,n))}(this,t)).connected=!1,i.recovered=!1,i.receiveBuffer=[],i.sendBuffer=[],i._queue=[],i._queueSeq=0,i.ids=0,i.acks={},i.flags={},i.io=e,i.nsp=n,r&&r.auth&&(i.auth=r.auth),i._opts=Object.assign({},r),i.io._autoConnect&&i.open(),i}return(0,T.A)(t,e),(0,f.A)(t,[{key:"disconnected",get:function(){return!this.connected}},{key:"subEvents",value:function(){if(!this.subs){var e=this.io;this.subs=[WI(e,"open",this.onopen.bind(this)),WI(e,"packet",this.onpacket.bind(this)),WI(e,"error",this.onerror.bind(this)),WI(e,"close",this.onclose.bind(this))]}}},{key:"active",get:function(){return!!this.subs}},{key:"connect",value:function(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}},{key:"open",value:function(){return this.connect()}},{key:"send",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.unshift("message"),this.emit.apply(this,t),this}},{key:"emit",value:function(e){var t,n,r;if(QI.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];if(a.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(a),this;var s={type:LI.EVENT,data:a,options:{}};if(s.options.compress=!1!==this.flags.compress,"function"==typeof a[a.length-1]){var u=this.ids++,c=a.pop();this._registerAckCallback(u,c),s.id=u}var l=null===(n=null===(t=this.io.engine)||void 0===t?void 0:t.transport)||void 0===n?void 0:n.writable,d=this.connected&&!(null===(r=this.io.engine)||void 0===r?void 0:r._hasPingExpired());return this.flags.volatile&&!l||(d?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}},{key:"_registerAckCallback",value:function(e,t){var n,r=this,i=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0!==i){var a=this.io.setTimeoutFn((function(){delete r.acks[e];for(var n=0;n<r.sendBuffer.length;n++)r.sendBuffer[n].id===e&&r.sendBuffer.splice(n,1);t.call(r,new Error("operation has timed out"))}),i),o=function(){r.io.clearTimeoutFn(a);for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];t.apply(r,n)};o.withError=!0,this.acks[e]=o}else this.acks[e]=t}},{key:"emitWithAck",value:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return new Promise((function(n,i){var a=function(e,t){return e?i(e):n(t)};a.withError=!0,r.push(a),t.emit.apply(t,[e].concat(r))}))}},{key:"_addToQueue",value:function(e){var t,n=this;"function"==typeof e[e.length-1]&&(t=e.pop());var r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((function(e){if(r===n._queue[0]){if(null!==e)r.tryCount>n._opts.retries&&(n._queue.shift(),t&&t(e));else if(n._queue.shift(),t){for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];t.apply(void 0,[null].concat(a))}return r.pending=!1,n._drainQueue()}})),this._queue.push(r),this._drainQueue()}},{key:"_drainQueue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.connected&&0!==this._queue.length){var t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}}},{key:"packet",value:function(e){e.nsp=this.nsp,this.io._packet(e)}},{key:"onopen",value:function(){var e=this;"function"==typeof this.auth?this.auth((function(t){e._sendConnectPacket(t)})):this._sendConnectPacket(this.auth)}},{key:"_sendConnectPacket",value:function(e){this.packet({type:LI.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}},{key:"onerror",value:function(e){this.connected||this.emitReserved("connect_error",e)}},{key:"onclose",value:function(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}},{key:"_clearAcks",value:function(){var e=this;Object.keys(this.acks).forEach((function(t){if(!e.sendBuffer.some((function(e){return String(e.id)===t}))){var n=e.acks[t];delete e.acks[t],n.withError&&n.call(e,new Error("socket has been disconnected"))}}))}},{key:"onpacket",value:function(e){if(e.nsp===this.nsp)switch(e.type){case LI.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case LI.EVENT:case LI.BINARY_EVENT:this.onevent(e);break;case LI.ACK:case LI.BINARY_ACK:this.onack(e);break;case LI.DISCONNECT:this.ondisconnect();break;case LI.CONNECT_ERROR:this.destroy();var t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}},{key:"onevent",value:function(e){var t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}},{key:"emitEvent",value:function(e){if(this._anyListeners&&this._anyListeners.length){var n,r=KI(this._anyListeners.slice());try{for(r.s();!(n=r.n()).done;){n.value.apply(this,e)}}catch(e){r.e(e)}finally{r.f()}}(function(e,t,n,r){var i=(0,Pd.A)((0,S.A)(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i})(t,"emit",this,1).apply(this,e),this._pid&&e.length&&"string"==typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}},{key:"ack",value:function(e){var t=this,n=!1;return function(){if(!n){n=!0;for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];t.packet({type:LI.ACK,id:e,data:i})}}}},{key:"onack",value:function(e){var t=this.acks[e.id];"function"==typeof t&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}},{key:"onconnect",value:function(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}},{key:"emitBuffered",value:function(){var e=this;this.receiveBuffer.forEach((function(t){return e.emitEvent(t)})),this.receiveBuffer=[],this.sendBuffer.forEach((function(t){e.notifyOutgoingListeners(t),e.packet(t)})),this.sendBuffer=[]}},{key:"ondisconnect",value:function(){this.destroy(),this.onclose("io server disconnect")}},{key:"destroy",value:function(){this.subs&&(this.subs.forEach((function(e){return e()})),this.subs=void 0),this.io._destroy(this)}},{key:"disconnect",value:function(){return this.connected&&this.packet({type:LI.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}},{key:"close",value:function(){return this.disconnect()}},{key:"compress",value:function(e){return this.flags.compress=e,this}},{key:"volatile",get:function(){return this.flags.volatile=!0,this}},{key:"timeout",value:function(e){return this.flags.timeout=e,this}},{key:"onAny",value:function(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}},{key:"prependAny",value:function(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}},{key:"offAny",value:function(e){if(!this._anyListeners)return this;if(e){for(var t=this._anyListeners,n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}},{key:"listenersAny",value:function(){return this._anyListeners||[]}},{key:"onAnyOutgoing",value:function(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}},{key:"prependAnyOutgoing",value:function(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}},{key:"offAnyOutgoing",value:function(e){if(!this._anyOutgoingListeners)return this;if(e){for(var t=this._anyOutgoingListeners,n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}},{key:"listenersAnyOutgoing",value:function(){return this._anyOutgoingListeners||[]}},{key:"notifyOutgoingListeners",value:function(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){var t,n=KI(this._anyOutgoingListeners.slice());try{for(n.s();!(t=n.n()).done;){t.value.apply(this,e.data)}}catch(e){n.e(e)}finally{n.f()}}}}])}(BP);function XI(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}function ZI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ZI=function(){return!!e})()}XI.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=1&Math.floor(10*t)?e+n:e-n}return 0|Math.min(e,this.max)},XI.prototype.reset=function(){this.attempts=0},XI.prototype.setMin=function(e){this.ms=e},XI.prototype.setMax=function(e){this.max=e},XI.prototype.setJitter=function(e){this.jitter=e};var JI=function(e){function t(e,n){var i,a;(0,p.A)(this,t),(i=function(e,t,n){return t=(0,S.A)(t),(0,x.A)(e,ZI()?Reflect.construct(t,n||[],(0,S.A)(e).constructor):t.apply(e,n))}(this,t)).nsps={},i.subs=[],e&&"object"===(0,C.A)(e)&&(n=e,e=void 0),(n=n||{}).path=n.path||"/socket.io",i.opts=n,UP(i,n),i.reconnection(!1!==n.reconnection),i.reconnectionAttempts(n.reconnectionAttempts||1/0),i.reconnectionDelay(n.reconnectionDelay||1e3),i.reconnectionDelayMax(n.reconnectionDelayMax||5e3),i.randomizationFactor(null!==(a=n.randomizationFactor)&&void 0!==a?a:.5),i.backoff=new XI({min:i.reconnectionDelay(),max:i.reconnectionDelayMax(),jitter:i.randomizationFactor()}),i.timeout(null==n.timeout?2e4:n.timeout),i._readyState="closed",i.uri=e;var o=n.parser||r;return i.encoder=new o.Encoder,i.decoder=new o.Decoder,i._autoConnect=!1!==n.autoConnect,i._autoConnect&&i.open(),i}return(0,T.A)(t,e),(0,f.A)(t,[{key:"reconnection",value:function(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}},{key:"reconnectionAttempts",value:function(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}},{key:"reconnectionDelay",value:function(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}},{key:"randomizationFactor",value:function(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}},{key:"reconnectionDelayMax",value:function(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}},{key:"timeout",value:function(e){return arguments.length?(this._timeout=e,this):this._timeout}},{key:"maybeReconnectOnOpen",value:function(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}},{key:"open",value:function(e){var t=this;if(~this._readyState.indexOf("open"))return this;this.engine=new CI(this.uri,this.opts);var n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;var i=WI(n,"open",(function(){r.onopen(),e&&e()})),a=function(n){t.cleanup(),t._readyState="closed",t.emitReserved("error",n),e?e(n):t.maybeReconnectOnOpen()},o=WI(n,"error",a);if(!1!==this._timeout){var s=this._timeout,u=this.setTimeoutFn((function(){i(),a(new Error("timeout")),n.close()}),s);this.opts.autoUnref&&u.unref(),this.subs.push((function(){t.clearTimeoutFn(u)}))}return this.subs.push(i),this.subs.push(o),this}},{key:"connect",value:function(e){return this.open(e)}},{key:"onopen",value:function(){this.cleanup(),this._readyState="open",this.emitReserved("open");var e=this.engine;this.subs.push(WI(e,"ping",this.onping.bind(this)),WI(e,"data",this.ondata.bind(this)),WI(e,"error",this.onerror.bind(this)),WI(e,"close",this.onclose.bind(this)),WI(this.decoder,"decoded",this.ondecoded.bind(this)))}},{key:"onping",value:function(){this.emitReserved("ping")}},{key:"ondata",value:function(e){try{this.decoder.add(e)}catch(e){this.onclose("parse error",e)}}},{key:"ondecoded",value:function(e){var t=this;RP((function(){t.emitReserved("packet",e)}),this.setTimeoutFn)}},{key:"onerror",value:function(e){this.emitReserved("error",e)}},{key:"socket",value:function(e,t){var n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new YI(this,e,t),this.nsps[e]=n),n}},{key:"_destroy",value:function(e){for(var t=0,n=Object.keys(this.nsps);t<n.length;t++){var r=n[t];if(this.nsps[r].active)return}this._close()}},{key:"_packet",value:function(e){for(var t=this.encoder.encode(e),n=0;n<t.length;n++)this.engine.write(t[n],e.options)}},{key:"cleanup",value:function(){this.subs.forEach((function(e){return e()})),this.subs.length=0,this.decoder.destroy()}},{key:"_close",value:function(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}},{key:"disconnect",value:function(){return this._close()}},{key:"onclose",value:function(e,t){var n;this.cleanup(),null===(n=this.engine)||void 0===n||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}},{key:"reconnect",value:function(){var e=this;if(this._reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{var n=this.backoff.duration();this._reconnecting=!0;var r=this.setTimeoutFn((function(){t.skipReconnect||(e.emitReserved("reconnect_attempt",t.backoff.attempts),t.skipReconnect||t.open((function(n){n?(t._reconnecting=!1,t.reconnect(),e.emitReserved("reconnect_error",n)):t.onreconnect()})))}),n);this.opts.autoUnref&&r.unref(),this.subs.push((function(){e.clearTimeoutFn(r)}))}}},{key:"onreconnect",value:function(){var e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}])}(BP),eB={};function tB(e,t){"object"===(0,C.A)(e)&&(t=e,e=void 0);var n,r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=e;n=n||"undefined"!=typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e=void 0!==n?n.protocol+"//"+e:"https://"+e),r=gI(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";var i=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+t,r.href=r.protocol+"://"+i+(n&&n.port===r.port?"":":"+r.port),r}(e,(t=t||{}).path||"/socket.io"),i=r.source,a=r.id,o=r.path,s=eB[a]&&o in eB[a].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||s?n=new JI(i,t):(eB[a]||(eB[a]=new JI(i,t)),n=eB[a]),r.query&&!t.query&&(t.query=r.queryKey),n.socket(r.path,t)}Object.assign(tB,{Manager:JI,Socket:YI,io:tB,connect:tB});__webpack_require__(4180);var nB="popstate";function rB(e={}){let t,{initialEntries:n=["/"],initialIndex:r,v5Compat:i=!1}=e;t=n.map(((e,t)=>l(e,"string"==typeof e?null:e.state,0===t?"default":void 0)));let a=u(null==r?t.length-1:r),o="POP",s=null;function u(e){return Math.min(Math.max(e,0),t.length-1)}function c(){return t[a]}function l(e,n=null,r){let i=uB(t?c().pathname:"/",e,n,r);return oB("/"===i.pathname.charAt(0),`relative pathnames are not supported in memory history: ${JSON.stringify(e)}`),i}function d(e){return"string"==typeof e?e:cB(e)}return{get index(){return a},get action(){return o},get location(){return c()},createHref:d,createURL:e=>new URL(d(e),"http://localhost"),encodeLocation(e){let t="string"==typeof e?lB(e):e;return{pathname:t.pathname||"",search:t.search||"",hash:t.hash||""}},push(e,n){o="PUSH";let r=l(e,n);a+=1,t.splice(a,t.length,r),i&&s&&s({action:o,location:r,delta:1})},replace(e,n){o="REPLACE";let r=l(e,n);t[a]=r,i&&s&&s({action:o,location:r,delta:0})},go(e){o="POP";let n=u(a+e),r=t[n];a=n,s&&s({action:o,location:r,delta:e})},listen:e=>(s=e,()=>{s=null})}}function iB(e={}){return dB((function(e,t){let{pathname:n="/",search:r="",hash:i=""}=lB(e.location.hash.substring(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),uB("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"==typeof t?t:cB(t))}),(function(e,t){oB("/"===e.pathname.charAt(0),`relative pathnames are not supported in hash history.push(${JSON.stringify(t)})`)}),e)}function aB(e,t){if(!1===e||null==e)throw new Error(t)}function oB(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(e){}}}function sB(e,t){return{usr:e.state,key:e.key,idx:t}}function uB(e,t,n=null,r){return{pathname:"string"==typeof e?e:e.pathname,search:"",hash:"",..."string"==typeof t?lB(t):t,state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)}}function cB({pathname:e="/",search:t="",hash:n=""}){return t&&"?"!==t&&(e+="?"===t.charAt(0)?t:"?"+t),n&&"#"!==n&&(e+="#"===n.charAt(0)?n:"#"+n),e}function lB(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function dB(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,s="POP",u=null,c=l();function l(){return(o.state||{idx:null}).idx}function d(){s="POP";let e=l(),t=null==e?null:e-c;c=e,u&&u({action:s,location:f.location,delta:t})}function p(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"==typeof e?e:cB(e);return n=n.replace(/ $/,"%20"),aB(t,`No window.location.(origin|href) available to create URL for href: ${n}`),new URL(n,t)}null==c&&(c=0,o.replaceState({...o.state,idx:c},""));let f={get action(){return s},get location(){return e(i,o)},listen(e){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(nB,d),u=e,()=>{i.removeEventListener(nB,d),u=null}},createHref:e=>t(i,e),createURL:p,encodeLocation(e){let t=p(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){s="PUSH";let r=uB(f.location,e,t);n&&n(r,e),c=l()+1;let d=sB(r,c),p=f.createHref(r);try{o.pushState(d,"",p)}catch(e){if(e instanceof DOMException&&"DataCloneError"===e.name)throw e;i.location.assign(p)}a&&u&&u({action:s,location:f.location,delta:1})},replace:function(e,t){s="REPLACE";let r=uB(f.location,e,t);n&&n(r,e),c=l();let i=sB(r,c),d=f.createHref(r);o.replaceState(i,"",d),a&&u&&u({action:s,location:f.location,delta:0})},go:e=>o.go(e)};return f}new WeakMap;function pB(e,t,n="/"){return fB(e,t,n,!1)}function fB(e,t,n,r){let i=SB(("string"==typeof t?lB(t):t).pathname||"/",n);if(null==i)return null;let a=hB(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(a);let o=null;for(let e=0;null==o&&e<a.length;++e){let t=xB(i);o=kB(a[e],t,r)}return o}function hB(e,t=[],n=[],r=""){let i=(e,i,a)=>{let o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(aB(o.relativePath.startsWith(r),`Absolute route path "${o.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),o.relativePath=o.relativePath.slice(r.length));let s=IB([r,o.relativePath]),u=n.concat(o);e.children&&e.children.length>0&&(aB(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${s}".`),hB(e.children,t,u,s)),(null!=e.path||e.index)&&t.push({path:s,score:EB(s,e.index),routesMeta:u})};return e.forEach(((e,t)=>{if(""!==e.path&&e.path?.includes("?"))for(let n of mB(e.path))i(e,t,n);else i(e,t)})),t}function mB(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===r.length)return i?[a,""]:[a];let o=mB(r.join("/")),s=[];return s.push(...o.map((e=>""===e?a:[a,e].join("/")))),i&&s.push(...o),s.map((t=>e.startsWith("/")&&""===t?"/":t))}var vB=/^:[\w-]+$/,gB=3,yB=2,bB=1,wB=10,DB=-2,AB=e=>"*"===e;function EB(e,t){let n=e.split("/"),r=n.length;return n.some(AB)&&(r+=DB),t&&(r+=yB),n.filter((e=>!AB(e))).reduce(((e,t)=>e+(vB.test(t)?gB:""===t?bB:wB)),r)}function kB(e,t,n=!1){let{routesMeta:r}=e,i={},a="/",o=[];for(let e=0;e<r.length;++e){let s=r[e],u=e===r.length-1,c="/"===a?t:t.slice(a.length)||"/",l=CB({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c),d=s.route;if(!l&&u&&n&&!r[r.length-1].route.index&&(l=CB({path:s.relativePath,caseSensitive:s.caseSensitive,end:!1},c)),!l)return null;Object.assign(i,l.params),o.push({params:i,pathname:IB([a,l.pathname]),pathnameBase:BB(IB([a,l.pathnameBase])),route:d}),"/"!==l.pathnameBase&&(a=IB([a,l.pathnameBase]))}return o}function CB(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=_B(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1),u=r.reduce(((e,{paramName:t,isOptional:n},r)=>{if("*"===t){let e=s[r]||"";o=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const i=s[r];return e[t]=n&&!i?void 0:(i||"").replace(/%2F/g,"/"),e}),{});return{params:u,pathname:a,pathnameBase:o,pattern:e}}function _B(e,t=!1,n=!0){oB("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));return e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function xB(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return oB(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function SB(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function TB(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function FB(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function OB(e){let t=FB(e);return t.map(((e,n)=>n===t.length-1?e.pathname:e.pathnameBase))}function PB(e,t,n,r=!1){let i;"string"==typeof e?i=lB(e):(i={...e},aB(!i.pathname||!i.pathname.includes("?"),TB("?","pathname","search",i)),aB(!i.pathname||!i.pathname.includes("#"),TB("#","pathname","hash",i)),aB(!i.search||!i.search.includes("#"),TB("#","search","hash",i)));let a,o=""===e||""===i.pathname,s=o?"/":i.pathname;if(null==s)a=n;else{let e=t.length-1;if(!r&&s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}a=e>=0?t[e]:"/"}let u=function(e,t="/"){let{pathname:n,search:r="",hash:i=""}="string"==typeof e?lB(e):e,a=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:a,search:RB(r),hash:NB(i)}}(i,a),c=s&&"/"!==s&&s.endsWith("/"),l=(o||"."===s)&&n.endsWith("/");return u.pathname.endsWith("/")||!c&&!l||(u.pathname+="/"),u}var IB=e=>e.join("/").replace(/\/\/+/g,"/"),BB=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),RB=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",NB=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function MB(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}var LB=["POST","PUT","PATCH","DELETE"],jB=(new Set(LB),["GET",...LB]);new Set(jB),Symbol("ResetLoaderData");var UB=c.createContext(null);UB.displayName="DataRouter";var zB=c.createContext(null);zB.displayName="DataRouterState";var VB=c.createContext({isTransitioning:!1});VB.displayName="ViewTransition";var qB=c.createContext(new Map);qB.displayName="Fetchers";var HB=c.createContext(null);HB.displayName="Await";var WB=c.createContext(null);WB.displayName="Navigation";var KB=c.createContext(null);KB.displayName="Location";var $B=c.createContext({outlet:null,matches:[],isDataRoute:!1});$B.displayName="Route";var GB=c.createContext(null);GB.displayName="RouteError";function QB(){return null!=c.useContext(KB)}function YB(){return aB(QB(),"useLocation() may be used only in the context of a <Router> component."),c.useContext(KB).location}function XB(e){aB(QB(),"useMatch() may be used only in the context of a <Router> component.");let{pathname:t}=YB();return c.useMemo((()=>CB(e,xB(t))),[t,e])}var ZB="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function JB(e){c.useContext(WB).static||c.useLayoutEffect(e)}function eR(){let{isDataRoute:e}=c.useContext($B);return e?function(){let{router:e}=cR("useNavigate"),t=dR("useNavigate"),n=c.useRef(!1);JB((()=>{n.current=!0}));let r=c.useCallback((async(r,i={})=>{oB(n.current,ZB),n.current&&("number"==typeof r?e.navigate(r):await e.navigate(r,{fromRouteId:t,...i}))}),[e,t]);return r}():function(){aB(QB(),"useNavigate() may be used only in the context of a <Router> component.");let e=c.useContext(UB),{basename:t,navigator:n}=c.useContext(WB),{matches:r}=c.useContext($B),{pathname:i}=YB(),a=JSON.stringify(OB(r)),o=c.useRef(!1);JB((()=>{o.current=!0}));let s=c.useCallback(((r,s={})=>{if(oB(o.current,ZB),!o.current)return;if("number"==typeof r)return void n.go(r);let u=PB(r,JSON.parse(a),i,"path"===s.relative);null==e&&"/"!==t&&(u.pathname="/"===u.pathname?t:IB([t,u.pathname])),(s.replace?n.replace:n.push)(u,s.state,s)}),[t,n,a,i,e]);return s}()}c.createContext(null);function tR(e,{relative:t}={}){let{matches:n}=c.useContext($B),{pathname:r}=YB(),i=JSON.stringify(OB(n));return c.useMemo((()=>PB(e,JSON.parse(i),r,"path"===t)),[e,i,r,t])}function nR(e,t,n,r){aB(QB(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:a}=c.useContext(WB),{matches:o}=c.useContext($B),s=o[o.length-1],u=s?s.params:{},l=s?s.pathname:"/",d=s?s.pathnameBase:"/",p=s&&s.route;{let e=p&&p.path||"";hR(l,!p||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let f,h=YB();if(t){let e="string"==typeof t?lB(t):t;aB("/"===d||e.pathname?.startsWith(d),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${e.pathname}" was given in the \`location\` prop.`),f=e}else f=h;let m=f.pathname||"/",v=m;if("/"!==d){let e=d.replace(/^\//,"").split("/");v="/"+m.replace(/^\//,"").split("/").slice(e.length).join("/")}let g=!a&&n&&n.matches&&n.matches.length>0?n.matches:pB(e,{pathname:v});oB(p||null!=g,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),oB(null==g||void 0!==g[g.length-1].route.element||void 0!==g[g.length-1].route.Component||void 0!==g[g.length-1].route.lazy,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=sR(g&&g.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:IB([d,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:IB([d,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),o,n,r);return t&&y?c.createElement(KB.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...f},navigationType:"POP"}},y):y}function rR(){let e=pR(),t=MB(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=c.createElement(c.Fragment,null,c.createElement("p",null," Hey developer "),c.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",c.createElement("code",{style:a},"ErrorBoundary")," or"," ",c.createElement("code",{style:a},"errorElement")," prop on your route.")),c.createElement(c.Fragment,null,c.createElement("h2",null,"Unexpected Application Error!"),c.createElement("h3",{style:{fontStyle:"italic"}},t),n?c.createElement("pre",{style:i},n):null,o)}var iR=c.createElement(rR,null),aR=class extends c.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?c.createElement($B.Provider,{value:this.props.routeContext},c.createElement(GB.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function oR({routeContext:e,match:t,children:n}){let r=c.useContext(UB);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),c.createElement($B.Provider,{value:e},n)}function sR(e,t=[],n=null,r=null){if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let i=e,a=n?.errors;if(null!=a){let e=i.findIndex((e=>e.route.id&&void 0!==a?.[e.route.id]));aB(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,e+1))}let o=!1,s=-1;if(n)for(let e=0;e<i.length;e++){let t=i[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(s=e),t.route.id){let{loaderData:e,errors:r}=n,a=t.route.loader&&!e.hasOwnProperty(t.route.id)&&(!r||void 0===r[t.route.id]);if(t.route.lazy||a){o=!0,i=s>=0?i.slice(0,s+1):[i[0]];break}}}return i.reduceRight(((e,r,u)=>{let l,d=!1,p=null,f=null;n&&(l=a&&r.route.id?a[r.route.id]:void 0,p=r.route.errorElement||iR,o&&(s<0&&0===u?(hR("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,f=null):s===u&&(d=!0,f=r.route.hydrateFallbackElement||null)));let h=t.concat(i.slice(0,u+1)),m=()=>{let t;return t=l?p:d?f:r.route.Component?c.createElement(r.route.Component,null):r.route.element?r.route.element:e,c.createElement(oR,{match:r,routeContext:{outlet:e,matches:h,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===u)?c.createElement(aR,{location:n.location,revalidation:n.revalidation,component:p,error:l,children:m(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):m()}),null)}function uR(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cR(e){let t=c.useContext(UB);return aB(t,uR(e)),t}function lR(e){let t=c.useContext(zB);return aB(t,uR(e)),t}function dR(e){let t=function(e){let t=c.useContext($B);return aB(t,uR(e)),t}(e),n=t.matches[t.matches.length-1];return aB(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function pR(){let e=c.useContext(GB),t=lR("useRouteError"),n=dR("useRouteError");return void 0!==e?e:t.errors?.[n]}var fR={};function hR(e,t,n){t||fR[e]||(fR[e]=!0,oB(!1,n))}c.memo((function({routes:e,future:t,state:n}){return nR(e,void 0,n,t)}));function mR({basename:e,children:t,initialEntries:n,initialIndex:r}){let i=c.useRef();null==i.current&&(i.current=rB({initialEntries:n,initialIndex:r,v5Compat:!0}));let a=i.current,[o,s]=c.useState({action:a.action,location:a.location}),u=c.useCallback((e=>{c.startTransition((()=>s(e)))}),[s]);return c.useLayoutEffect((()=>a.listen(u)),[a,u]),c.createElement(yR,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:a})}function vR({to:e,replace:t,state:n,relative:r}){aB(QB(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=c.useContext(WB);oB(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=c.useContext($B),{pathname:o}=YB(),s=eR(),u=PB(e,OB(a),o,"path"===r),l=JSON.stringify(u);return c.useEffect((()=>{s(JSON.parse(l),{replace:t,state:n,relative:r})}),[s,l,r,t,n]),null}function gR(e){aB(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function yR({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){aB(!QB(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),s=c.useMemo((()=>({basename:o,navigator:i,static:a,future:{}})),[o,i,a]);"string"==typeof n&&(n=lB(n));let{pathname:u="/",search:l="",hash:d="",state:p=null,key:f="default"}=n,h=c.useMemo((()=>{let e=SB(u,o);return null==e?null:{location:{pathname:e,search:l,hash:d,state:p,key:f},navigationType:r}}),[o,u,l,d,p,f,r]);return oB(null!=h,`<Router basename="${o}"> is not able to match the URL "${u}${l}${d}" because it does not start with the basename, so the <Router> won't render anything.`),null==h?null:c.createElement(WB.Provider,{value:s},c.createElement(KB.Provider,{children:t,value:h}))}function bR({children:e,location:t}){return nR(wR(e),t)}c.Component;function wR(e,t=[]){let n=[];return c.Children.forEach(e,((e,r)=>{if(!c.isValidElement(e))return;let i=[...t,r];if(e.type===c.Fragment)return void n.push.apply(n,wR(e.props.children,i));aB(e.type===gR,`[${"string"==typeof e.type?e.type:e.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),aB(!e.props.index||!e.props.children,"An index route cannot have child routes.");let a={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=wR(e.props.children,i)),n.push(a)})),n}var DR="get",AR="application/x-www-form-urlencoded";function ER(e){return null!=e&&"string"==typeof e.tagName}function kR(e=""){return new URLSearchParams("string"==typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce(((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map((e=>[n,e])):[[n,r]])}),[]))}var CR=null;var _R=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function xR(e){return null==e||_R.has(e)?e:(oB(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${AR}"`),null)}function SR(e,t){let n,r,i,a,o;if(ER(s=e)&&"form"===s.tagName.toLowerCase()){let o=e.getAttribute("action");r=o?SB(o,t):null,n=e.getAttribute("method")||DR,i=xR(e.getAttribute("enctype"))||AR,a=new FormData(e)}else if(function(e){return ER(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return ER(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let o=e.form;if(null==o)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let s=e.getAttribute("formaction")||o.getAttribute("action");if(r=s?SB(s,t):null,n=e.getAttribute("formmethod")||o.getAttribute("method")||DR,i=xR(e.getAttribute("formenctype"))||xR(o.getAttribute("enctype"))||AR,a=new FormData(o,e),!function(){if(null===CR)try{new FormData(document.createElement("form"),0),CR=!1}catch(e){CR=!0}return CR}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?`${t}.`:"";a.append(`${e}x`,"0"),a.append(`${e}y`,"0")}else t&&a.append(t,r)}}else{if(ER(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=DR,r=null,i=AR,o=e}var s;return a&&"text/plain"===i&&(o=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:o}}function TR(e,t){if(!1===e||null==e)throw new Error(t)}async function FR(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(t){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}function OR(e){return null!=e&&"string"==typeof e.page}function PR(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"==typeof e.imageSrcSet&&"string"==typeof e.imageSizes:"string"==typeof e.rel&&"string"==typeof e.href)}function IR(e,t,n,r,i,a){let o=(e,t)=>!n[t]||e.route.id!==n[t].route.id,s=(e,t)=>n[t].pathname!==e.pathname||n[t].route.path?.endsWith("*")&&n[t].params["*"]!==e.params["*"];return"assets"===a?t.filter(((e,t)=>o(e,t)||s(e,t))):"data"===a?t.filter(((t,a)=>{let u=r.routes[t.route.id];if(!u||!u.hasLoader)return!1;if(o(t,a)||s(t,a))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"==typeof r)return r}return!0})):[]}function BR(e,t,{includeHydrateFallback:n}={}){return r=e.map((e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i})).flat(1),[...new Set(r)];var r}function RR(e,t){let n=new Set,r=new Set(t);return e.reduce(((e,i)=>{if(t&&!OR(i)&&"script"===i.as&&i.href&&r.has(i.href))return e;let a=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(i));return n.has(a)||(n.add(a),e.push({key:a,link:i})),e}),[])}function NR(e){return{__html:e}}Symbol("SingleFetchRedirect");var MR=new Set([100,101,204,205]);function LR(e,t){let n="string"==typeof e?new URL(e,"undefined"==typeof window?"server://singlefetch/":window.location.origin):e;return"/"===n.pathname?n.pathname="_root.data":t&&"/"===SB(n.pathname,t)?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}c.Component;function jR({error:e,isOutsideRemixApp:t}){console.error(e);let n,r=c.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          " Hey developer . You can provide a way better UX than this when your app throws errors. Check out https://remix.run/guides/errors for more information."\n        );\n      '}});if(MB(e))return c.createElement(UR,{title:"Unhandled Thrown Response!"},c.createElement("h1",{style:{fontSize:"24px"}},e.status," ",e.statusText),r);if(e instanceof Error)n=e;else{let t=null==e?"Unknown Error":"object"==typeof e&&"toString"in e?e.toString():JSON.stringify(e);n=new Error(t)}return c.createElement(UR,{title:"Application Error!",isOutsideRemixApp:t},c.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),c.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},n.stack),r)}function UR({title:e,renderScripts:t,isOutsideRemixApp:n,children:r}){let{routeModules:i}=WR();return i.root?.Layout&&!n?r:c.createElement("html",{lang:"en"},c.createElement("head",null,c.createElement("meta",{charSet:"utf-8"}),c.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),c.createElement("title",null,e)),c.createElement("body",null,c.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},r,t?c.createElement(ZR,null):null)))}function zR(e){return!0===e}function VR(){let e=c.useContext(UB);return TR(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function qR(){let e=c.useContext(zB);return TR(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var HR=c.createContext(void 0);function WR(){let e=c.useContext(HR);return TR(e,"You must render this element inside a <HydratedRouter> element"),e}function KR(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function $R(e,t,n){if(n&&!XR)return[e[0]];if(t){let n=e.findIndex((e=>void 0!==t[e.route.id]));return e.slice(0,n+1)}return e}function GR({page:e,...t}){let{router:n}=VR(),r=c.useMemo((()=>pB(n.routes,e,n.basename)),[n.routes,e,n.basename]);return r?c.createElement(YR,{page:e,matches:r,...t}):null}function QR(e){let{manifest:t,routeModules:n}=WR(),[r,i]=c.useState([]);return c.useEffect((()=>{let r=!1;return async function(e,t,n){return RR((await Promise.all(e.map((async e=>{let r=t.routes[e.route.id];if(r){let e=await FR(r,n);return e.links?e.links():[]}return[]})))).flat(1).filter(PR).filter((e=>"stylesheet"===e.rel||"preload"===e.rel)).map((e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"})))}(e,t,n).then((e=>{r||i(e)})),()=>{r=!0}}),[e,t,n]),r}function YR({page:e,matches:t,...n}){let r=YB(),{manifest:i,routeModules:a}=WR(),{basename:o}=VR(),{loaderData:s,matches:u}=qR(),l=c.useMemo((()=>IR(e,t,u,i,r,"data")),[e,t,u,i,r]),d=c.useMemo((()=>IR(e,t,u,i,r,"assets")),[e,t,u,i,r]),p=c.useMemo((()=>{if(e===r.pathname+r.search+r.hash)return[];let n=new Set,u=!1;if(t.forEach((e=>{let t=i.routes[e.route.id];t&&t.hasLoader&&(!l.some((t=>t.route.id===e.route.id))&&e.route.id in s&&a[e.route.id]?.shouldRevalidate||t.hasClientLoader?u=!0:n.add(e.route.id))})),0===n.size)return[];let c=LR(e,o);return u&&n.size>0&&c.searchParams.set("_routes",t.filter((e=>n.has(e.route.id))).map((e=>e.route.id)).join(",")),[c.pathname+c.search]}),[o,s,r,i,l,t,e,a]),f=c.useMemo((()=>BR(d,i)),[d,i]),h=QR(d);return c.createElement(c.Fragment,null,p.map((e=>c.createElement("link",{key:e,rel:"prefetch",as:"fetch",href:e,...n}))),f.map((e=>c.createElement("link",{key:e,rel:"modulepreload",href:e,...n}))),h.map((({key:e,link:t})=>c.createElement("link",{key:e,...t}))))}HR.displayName="FrameworkContext";var XR=!1;function ZR(e){let{manifest:t,serverHandoffString:n,isSpaMode:r,ssr:i,renderMeta:a}=WR(),{router:o,static:s,staticContext:u}=VR(),{matches:l}=qR(),d=zR(i);a&&(a.didRenderScripts=!0);let p=$R(l,null,r);c.useEffect((()=>{XR=!0}),[]);let f=c.useMemo((()=>{let r=u?`window.__reactRouterContext = ${n};window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());`:" ",i=s?`${t.hmr?.runtime?`import ${JSON.stringify(t.hmr.runtime)};`:""}${d?"":`import ${JSON.stringify(t.url)}`};\n${p.map(((e,n)=>{let r=`route${n}`,i=t.routes[e.route.id];TR(i,`Route ${e.route.id} not found in manifest`);let{clientActionModule:a,clientLoaderModule:o,clientMiddlewareModule:s,hydrateFallbackModule:u,module:c}=i,l=[...a?[{module:a,varName:`${r}_clientAction`}]:[],...o?[{module:o,varName:`${r}_clientLoader`}]:[],...s?[{module:s,varName:`${r}_clientMiddleware`}]:[],...u?[{module:u,varName:`${r}_HydrateFallback`}]:[],{module:c,varName:`${r}_main`}];return 1===l.length?`import * as ${r} from ${JSON.stringify(c)};`:[l.map((e=>`import * as ${e.varName} from "${e.module}";`)).join("\n"),`const ${r} = {${l.map((e=>`...${e.varName}`)).join(",")}};`].join("\n")})).join("\n")}\n  ${d?`window.__reactRouterManifest = ${JSON.stringify(function({sri:e,...t},n){let r=new Set(n.state.matches.map((e=>e.route.id))),i=n.state.location.pathname.split("/").filter(Boolean),a=["/"];for(i.pop();i.length>0;)a.push(`/${i.join("/")}`),i.pop();a.forEach((e=>{let t=pB(n.routes,e,n.basename);t&&t.forEach((e=>r.add(e.route.id)))}));let o=[...r].reduce(((e,n)=>Object.assign(e,{[n]:t.routes[n]})),{});return{...t,routes:o,sri:!!e||void 0}}(t,o),null,2)};`:""}\n  window.__reactRouterRouteModules = {${p.map(((e,t)=>`${JSON.stringify(e.route.id)}:route${t}`)).join(",")}};\n\nimport(${JSON.stringify(t.entry.module)});`:" ";return c.createElement(c.Fragment,null,c.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:NR(r),type:void 0}),c.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:NR(i),type:"module",async:!0}))}),[]),h=XR?[]:(m=t.entry.imports.concat(BR(p,t,{includeHydrateFallback:!0})),[...new Set(m)]);var m;let v="object"==typeof t.sri?t.sri:{};return XR?null:c.createElement(c.Fragment,null,"object"==typeof t.sri?c.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:v})}}):null,d?null:c.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin,integrity:v[t.url],suppressHydrationWarning:!0}),c.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin,integrity:v[t.entry.module],suppressHydrationWarning:!0}),h.map((t=>c.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin,integrity:v[t],suppressHydrationWarning:!0}))),f)}function JR(...e){return t=>{e.forEach((e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)}))}}var eN="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;try{eN&&(window.__reactRouterVersion="7.5.1")}catch(e){}function tN({basename:e,children:t,window:n}){let r=c.useRef();null==r.current&&(r.current=iB({window:n,v5Compat:!0}));let i=r.current,[a,o]=c.useState({action:i.action,location:i.location}),s=c.useCallback((e=>{c.startTransition((()=>o(e)))}),[o]);return c.useLayoutEffect((()=>i.listen(s)),[i,s]),c.createElement(yR,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:i})}var nN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rN=c.forwardRef((function({onClick:e,discover:t="render",prefetch:n="none",relative:r,reloadDocument:i,replace:a,state:o,target:s,to:u,preventScrollReset:l,viewTransition:d,...p},f){let h,{basename:m}=c.useContext(WB),v="string"==typeof u&&nN.test(u),g=!1;if("string"==typeof u&&v&&(h=u,eN))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=SB(t.pathname,m);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:g=!0}catch(e){oB(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let y=function(e,{relative:t}={}){aB(QB(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=c.useContext(WB),{hash:i,pathname:a,search:o}=tR(e,{relative:t}),s=a;return"/"!==n&&(s="/"===a?n:IB([n,a])),r.createHref({pathname:s,search:o,hash:i})}(u,{relative:r}),[b,w,D]=function(e,t){let n=c.useContext(HR),[r,i]=c.useState(!1),[a,o]=c.useState(!1),{onFocus:s,onBlur:u,onMouseEnter:l,onMouseLeave:d,onTouchStart:p}=t,f=c.useRef(null);c.useEffect((()=>{if("render"===e&&o(!0),"viewport"===e){let e=e=>{e.forEach((e=>{o(e.isIntersecting)}))},t=new IntersectionObserver(e,{threshold:.5});return f.current&&t.observe(f.current),()=>{t.disconnect()}}}),[e]),c.useEffect((()=>{if(r){let e=setTimeout((()=>{o(!0)}),100);return()=>{clearTimeout(e)}}}),[r]);let h=()=>{i(!0)},m=()=>{i(!1),o(!1)};return n?"intent"!==e?[a,f,{}]:[a,f,{onFocus:KR(s,h),onBlur:KR(u,m),onMouseEnter:KR(l,h),onMouseLeave:KR(d,m),onTouchStart:KR(p,h)}]:[!1,f,{}]}(n,p),A=function(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:o}={}){let s=eR(),u=YB(),l=tR(e,{relative:a});return c.useCallback((c=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(c,t)){c.preventDefault();let t=void 0!==n?n:cB(u)===cB(l);s(e,{replace:t,state:r,preventScrollReset:i,relative:a,viewTransition:o})}}),[u,s,l,n,r,t,e,i,a,o])}(u,{replace:a,state:o,target:s,preventScrollReset:l,relative:r,viewTransition:d});let E=c.createElement("a",{...p,...D,href:h||y,onClick:g||i?e:function(t){e&&e(t),t.defaultPrevented||A(t)},ref:JR(f,w),target:s,"data-discover":v||"render"!==t?void 0:"true"});return b&&!v?c.createElement(c.Fragment,null,E,c.createElement(GR,{page:y})):E}));rN.displayName="Link";var iN=c.forwardRef((function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:r=!1,style:i,to:a,viewTransition:o,children:s,...u},l){let d=tR(a,{relative:u.relative}),p=YB(),f=c.useContext(zB),{navigator:h,basename:m}=c.useContext(WB),v=null!=f&&function(e,t={}){let n=c.useContext(VB);aB(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=sN("useViewTransitionState"),i=tR(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=SB(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=SB(n.nextLocation.pathname,r)||n.nextLocation.pathname;return null!=CB(i.pathname,o)||null!=CB(i.pathname,a)}(d)&&!0===o,g=h.encodeLocation?h.encodeLocation(d).pathname:d.pathname,y=p.pathname,b=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;t||(y=y.toLowerCase(),b=b?b.toLowerCase():null,g=g.toLowerCase()),b&&m&&(b=SB(b,m)||b);const w="/"!==g&&g.endsWith("/")?g.length-1:g.length;let D,A=y===g||!r&&y.startsWith(g)&&"/"===y.charAt(w),E=null!=b&&(b===g||!r&&b.startsWith(g)&&"/"===b.charAt(g.length)),k={isActive:A,isPending:E,isTransitioning:v},C=A?e:void 0;D="function"==typeof n?n(k):[n,A?"active":null,E?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let _="function"==typeof i?i(k):i;return c.createElement(rN,{...u,"aria-current":C,className:D,ref:l,style:_,to:a,viewTransition:o},"function"==typeof s?s(k):s)}));iN.displayName="NavLink";var aN=c.forwardRef((({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:a,method:o=DR,action:s,onSubmit:u,relative:l,preventScrollReset:d,viewTransition:p,...f},h)=>{let m=dN(),v=function(e,{relative:t}={}){let{basename:n}=c.useContext(WB),r=c.useContext($B);aB(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...tR(e||".",{relative:t})},o=YB();if(null==e){a.search=o.search;let e=new URLSearchParams(a.search),t=e.getAll("index"),n=t.some((e=>""===e));if(n){e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let n=e.toString();a.search=n?`?${n}`:""}}e&&"."!==e||!i.route.index||(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(a.pathname="/"===a.pathname?n:IB([n,a.pathname]));return cB(a)}(s,{relative:l}),g="get"===o.toLowerCase()?"get":"post",y="string"==typeof s&&nN.test(s);return c.createElement("form",{ref:h,method:g,action:v,onSubmit:r?u:e=>{if(u&&u(e),e.defaultPrevented)return;e.preventDefault();let r=e.nativeEvent.submitter,s=r?.getAttribute("formmethod")||o;m(r||e.currentTarget,{fetcherKey:t,method:s,navigate:n,replace:i,state:a,relative:l,preventScrollReset:d,viewTransition:p})},...f,"data-discover":y||"render"!==e?void 0:"true"})}));function oN(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sN(e){let t=c.useContext(UB);return aB(t,oN(e)),t}function uN(e){oB("undefined"!=typeof URLSearchParams,"You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=c.useRef(kR(e)),n=c.useRef(!1),r=YB(),i=c.useMemo((()=>function(e,t){let n=kR(e);return t&&t.forEach(((e,r)=>{n.has(r)||t.getAll(r).forEach((e=>{n.append(r,e)}))})),n}(r.search,n.current?null:t.current)),[r.search]),a=eR(),o=c.useCallback(((e,t)=>{const r=kR("function"==typeof e?e(i):e);n.current=!0,a("?"+r,t)}),[a,i]);return[i,o]}aN.displayName="Form";var cN=0,lN=()=>`__${String(++cN)}__`;function dN(){let{router:e}=sN("useSubmit"),{basename:t}=c.useContext(WB),n=dR("useRouteId");return c.useCallback((async(r,i={})=>{let{action:a,method:o,encType:s,formData:u,body:c}=SR(r,t);if(!1===i.navigate){let t=i.fetcherKey||lN();await e.fetch(t,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:u,body:c,formMethod:i.method||o,formEncType:i.encType||s,flushSync:i.flushSync})}else await e.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:u,body:c,formMethod:i.method||o,formEncType:i.encType||s,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})}),[e,t,n])}new TextEncoder;var pN=(0,c.createContext)({reactRoot:null,root:null,header:null,setHeader:null,wrapper:null,setWrapper:null,useRouter:!1,isMaximized:null,setIsMaximized:null,callActive:!1,mobileView:!1,setMobileView:null,sideThreads:!0,sideTab:null,setSideTab:null,fullScreened:null,routerType:!1,setCallActive:null});function fN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(fN=function(){return!!e})()}var hN=function(e){function t(e){return(0,p.A)(this,t),function(e,t,n){return t=(0,S.A)(t),(0,x.A)(e,fN()?Reflect.construct(t,n||[],(0,S.A)(e).constructor):t.apply(e,n))}(this,t,[e])}return(0,T.A)(t,e),(0,f.A)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.style?this.style=this.props.style:this.style="short",this.interval=setInterval((function(){e.forceUpdate()}),5e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){return 1970===this.props.time.year?null:c.createElement(c.Fragment,null,this.props.time.toRelative({style:this.style}))}}])}(c.Component);function mN(e){return jx({"tag":"svg","attr":{"fill":"currentColor","viewBox":"0 0 16 16"},"child":[{"tag":"path","attr":{"d":"m3.86 8.753 5.482 4.796c.646.566 1.658.106 1.658-.753V3.204a1 1 0 0 0-1.659-.753l-5.48 4.796a1 1 0 0 0 0 1.506z"}}]})(e)}function vN(e){return jx({"tag":"svg","attr":{"fill":"currentColor","viewBox":"0 0 16 16"},"child":[{"tag":"path","attr":{"d":"M5 3a3 3 0 0 1 6 0v5a3 3 0 0 1-6 0V3z"}},{"tag":"path","attr":{"d":"M3.5 6.5A.5.5 0 0 1 4 7v1a4 4 0 0 0 8 0V7a.5.5 0 0 1 1 0v1a5 5 0 0 1-4.5 4.975V15h3a.5.5 0 0 1 0 1h-7a.5.5 0 0 1 0-1h3v-2.025A5 5 0 0 1 3 8V7a.5.5 0 0 1 .5-.5z"}}]})(e)}function gN(e){return jx({"tag":"svg","attr":{"fill":"currentColor","viewBox":"0 0 16 16"},"child":[{"tag":"path","attr":{"d":"M13 8c0 .564-.094 1.107-.266 1.613l-.814-.814A4.02 4.02 0 0 0 12 8V7a.5.5 0 0 1 1 0v1zm-5 4c.818 0 1.578-.245 2.212-.667l.718.719a4.973 4.973 0 0 1-2.43.923V15h3a.5.5 0 0 1 0 1h-7a.5.5 0 0 1 0-1h3v-2.025A5 5 0 0 1 3 8V7a.5.5 0 0 1 1 0v1a4 4 0 0 0 4 4zm3-9v4.879L5.158 2.037A3.001 3.001 0 0 1 11 3z"}},{"tag":"path","attr":{"d":"M9.486 10.607 5 6.12V8a3 3 0 0 0 4.486 2.607zm-7.84-9.253 12 12 .708-.708-12-12-.708.708z"}}]})(e)}function yN(e){return jx({"tag":"svg","attr":{"fill":"currentColor","viewBox":"0 0 16 16"},"child":[{"tag":"path","attr":{"d":"M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"}}]})(e)}function bN(e){return jx({"tag":"svg","attr":{"fill":"currentColor","viewBox":"0 0 16 16"},"child":[{"tag":"path","attr":{"d":"M6.717 3.55A.5.5 0 0 1 7 4v8a.5.5 0 0 1-.812.39L3.825 10.5H1.5A.5.5 0 0 1 1 10V6a.5.5 0 0 1 .5-.5h2.325l2.363-1.89a.5.5 0 0 1 .529-.06zm7.137 2.096a.5.5 0 0 1 0 .708L12.207 8l1.647 1.646a.5.5 0 0 1-.708.708L11.5 8.707l-1.646 1.647a.5.5 0 0 1-.708-.708L10.793 8 9.146 6.354a.5.5 0 1 1 .708-.708L11.5 7.293l1.646-1.647a.5.5 0 0 1 .708 0z"}}]})(e)}function wN(e){return jx({"tag":"svg","attr":{"fill":"currentColor","viewBox":"0 0 16 16"},"child":[{"tag":"path","attr":{"fillRule":"evenodd","d":"M0 5a2 2 0 0 1 2-2h7.5a2 2 0 0 1 1.983 1.738l3.11-1.382A1 1 0 0 1 16 4.269v7.462a1 1 0 0 1-1.406.913l-3.111-1.382A2 2 0 0 1 9.5 13H2a2 2 0 0 1-2-2V5z"}}]})(e)}function DN(e){return jx({"tag":"svg","attr":{"fill":"currentColor","viewBox":"0 0 16 16"},"child":[{"tag":"path","attr":{"fillRule":"evenodd","d":"M10.961 12.365a1.99 1.99 0 0 0 .522-1.103l3.11 1.382A1 1 0 0 0 16 11.731V4.269a1 1 0 0 0-1.406-.913l-3.111 1.382A2 2 0 0 0 9.5 3H4.272l6.69 9.365zm-10.114-9A2.001 2.001 0 0 0 0 5v6a2 2 0 0 0 2 2h5.728L.847 3.366zm9.746 11.925-10-14 .814-.58 10 14-.814.58z"}}]})(e)}function AN(e){return jx({"tag":"svg","attr":{"fill":"currentColor","viewBox":"0 0 16 16"},"child":[{"tag":"path","attr":{"fillRule":"evenodd","d":"M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"}}]})(e)}function EN(e){return jx({"tag":"svg","attr":{"fill":"currentColor","viewBox":"0 0 16 16"},"child":[{"tag":"circle","attr":{"cx":"8","cy":"8","r":"8"}}]})(e)}function kN(e){return jx({"tag":"svg","attr":{"fill":"currentColor","viewBox":"0 0 16 16"},"child":[{"tag":"path","attr":{"d":"M2 3a.5.5 0 0 0 .5.5h11a.5.5 0 0 0 0-1h-11A.5.5 0 0 0 2 3zm2-2a.5.5 0 0 0 .5.5h7a.5.5 0 0 0 0-1h-7A.5.5 0 0 0 4 1zm2.765 5.576A.5.5 0 0 0 6 7v5a.5.5 0 0 0 .765.424l4-2.5a.5.5 0 0 0 0-.848l-4-2.5z"}},{"tag":"path","attr":{"d":"M1.5 14.5A1.5 1.5 0 0 1 0 13V6a1.5 1.5 0 0 1 1.5-1.5h13A1.5 1.5 0 0 1 16 6v7a1.5 1.5 0 0 1-1.5 1.5h-13zm13-1a.5.5 0 0 0 .5-.5V6a.5.5 0 0 0-.5-.5h-13A.5.5 0 0 0 1 6v7a.5.5 0 0 0 .5.5h13z"}}]})(e)}function CN(e){return jx({"tag":"svg","attr":{"fill":"currentColor","viewBox":"0 0 16 16"},"child":[{"tag":"path","attr":{"fillRule":"evenodd","d":"m4.736 1.968-.892 3.269-.014.058C2.113 5.568 1 6.006 1 6.5 1 7.328 4.134 8 8 8s7-.672 7-1.5c0-.494-1.113-.932-2.83-1.205a1.032 1.032 0 0 0-.014-.058l-.892-3.27c-.146-.533-.698-.849-1.239-.734C9.411 1.363 8.62 1.5 8 1.5c-.62 0-1.411-.136-2.025-.267-.541-.115-1.093.2-1.239.735Zm.015 3.867a.25.25 0 0 1 .274-.224c.9.092 1.91.143 2.975.143a29.58 29.58 0 0 0 2.975-.143.25.25 0 0 1 .05.498c-.918.093-1.944.145-3.025.145s-2.107-.052-3.025-.145a.25.25 0 0 1-.224-.274ZM3.5 10h2a.5.5 0 0 1 .5.5v1a1.5 1.5 0 0 1-3 0v-1a.5.5 0 0 1 .5-.5Zm-1.5.5c0-.175.03-.344.085-.5H2a.5.5 0 0 1 0-1h3.5a1.5 1.5 0 0 1 1.488 1.312 3.5 3.5 0 0 1 2.024 0A1.5 1.5 0 0 1 10.5 9H14a.5.5 0 0 1 0 1h-.085c.055.156.085.325.085.5v1a2.5 2.5 0 0 1-5 0v-.14l-.21-.07a2.5 2.5 0 0 0-1.58 0l-.21.07v.14a2.5 2.5 0 0 1-5 0v-1Zm8.5-.5h2a.5.5 0 0 1 .5.5v1a1.5 1.5 0 0 1-3 0v-1a.5.5 0 0 1 .5-.5Z"}}]})(e)}function _N(e){return jx({"tag":"svg","attr":{"fill":"currentColor","viewBox":"0 0 16 16"},"child":[{"tag":"path","attr":{"d":"M9.828.722a.5.5 0 0 1 .354.146l4.95 4.95a.5.5 0 0 1 0 .707c-.48.48-1.072.588-1.503.588-.177 0-.335-.018-.46-.039l-3.134 3.134a5.927 5.927 0 0 1 .16 1.013c.046.702-.032 1.687-.72 2.375a.5.5 0 0 1-.707 0l-2.829-2.828-3.182 3.182c-.195.195-1.219.902-1.414.707-.195-.195.512-1.22.707-1.414l3.182-3.182-2.828-2.829a.5.5 0 0 1 0-.707c.688-.688 1.673-.767 2.375-.72a5.922 5.922 0 0 1 1.013.16l3.134-3.133a2.772 2.772 0 0 1-.04-.461c0-.43.108-1.022.589-1.503a.5.5 0 0 1 .353-.146z"}}]})(e)}function xN(e){return jx({"tag":"svg","attr":{"fill":"currentColor","viewBox":"0 0 16 16"},"child":[{"tag":"path","attr":{"d":"M9.828.722a.5.5 0 0 1 .354.146l4.95 4.95a.5.5 0 0 1 0 .707c-.48.48-1.072.588-1.503.588-.177 0-.335-.018-.46-.039l-3.134 3.134a5.927 5.927 0 0 1 .16 1.013c.046.702-.032 1.687-.72 2.375a.5.5 0 0 1-.707 0l-2.829-2.828-3.182 3.182c-.195.195-1.219.902-1.414.707-.195-.195.512-1.22.707-1.414l3.182-3.182-2.828-2.829a.5.5 0 0 1 0-.707c.688-.688 1.673-.767 2.375-.72a5.922 5.922 0 0 1 1.013.16l3.134-3.133a2.772 2.772 0 0 1-.04-.461c0-.43.108-1.022.589-1.503a.5.5 0 0 1 .353-.146zm.122 2.112v-.002.002zm0-.002v.002a.5.5 0 0 1-.122.51L6.293 6.878a.5.5 0 0 1-.511.12H5.78l-.014-.004a4.507 4.507 0 0 0-.288-.076 4.922 4.922 0 0 0-.765-.116c-.422-.028-.836.008-1.175.15l5.51 5.509c.141-.34.177-.753.149-1.175a4.924 4.924 0 0 0-.192-1.054l-.004-.013v-.001a.5.5 0 0 1 .12-.512l3.536-3.535a.5.5 0 0 1 .532-.115l.096.022c.087.017.208.034.344.034.114 0 .23-.011.343-.04L9.927 2.028c-.029.113-.04.23-.04.343a1.779 1.779 0 0 0 .062.46z"}}]})(e)}function SN(e){return jx({"tag":"svg","attr":{"fill":"currentColor","viewBox":"0 0 16 16"},"child":[{"tag":"path","attr":{"d":"M5.921 11.9 1.353 8.62a.719.719 0 0 1 0-1.238L5.921 4.1A.716.716 0 0 1 7 4.719V6c1.5 0 6 0 7 8-2.5-4.5-7-4-7-4v1.281c0 .56-.606.898-1.079.62z"}}]})(e)}function TN(e){return jx({"tag":"svg","attr":{"fill":"currentColor","viewBox":"0 0 16 16"},"child":[{"tag":"path","attr":{"d":"M5.338 1.59a61.44 61.44 0 0 0-2.837.856.481.481 0 0 0-.328.39c-.554 4.157.726 7.19 2.253 9.188a10.725 10.725 0 0 0 2.287 2.233c.346.244.652.42.893.533.12.057.218.095.293.118a.55.55 0 0 0 .101.025.615.615 0 0 0 .1-.025c.076-.023.174-.061.294-.118.24-.113.547-.29.893-.533a10.726 10.726 0 0 0 2.287-2.233c1.527-1.997 2.807-5.031 2.253-9.188a.48.48 0 0 0-.328-.39c-.651-.213-1.75-.56-2.837-.855C9.552 1.29 8.531 1.067 8 1.067c-.53 0-1.552.223-2.662.524zM5.072.56C6.157.265 7.31 0 8 0s1.843.265 2.928.56c1.11.3 2.229.655 2.887.87a1.54 1.54 0 0 1 1.044 1.262c.596 4.477-.787 7.795-2.465 9.99a11.775 11.775 0 0 1-2.517 2.453 7.159 7.159 0 0 1-1.048.625c-.28.132-.581.24-.829.24s-.548-.108-.829-.24a7.158 7.158 0 0 1-1.048-.625 11.777 11.777 0 0 1-2.517-2.453C1.928 10.487.545 7.169 1.141 2.692A1.54 1.54 0 0 1 2.185 1.43 62.456 62.456 0 0 1 5.072.56z"}},{"tag":"path","attr":{"d":"M5.5 7a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1H6a.5.5 0 0 1-.5-.5z"}}]})(e)}function FN(e){return jx({"tag":"svg","attr":{"fill":"currentColor","viewBox":"0 0 16 16"},"child":[{"tag":"path","attr":{"d":"M5.338 1.59a61.44 61.44 0 0 0-2.837.856.481.481 0 0 0-.328.39c-.554 4.157.726 7.19 2.253 9.188a10.725 10.725 0 0 0 2.287 2.233c.346.244.652.42.893.533.12.057.218.095.293.118a.55.55 0 0 0 .101.025.615.615 0 0 0 .1-.025c.076-.023.174-.061.294-.118.24-.113.547-.29.893-.533a10.726 10.726 0 0 0 2.287-2.233c1.527-1.997 2.807-5.031 2.253-9.188a.48.48 0 0 0-.328-.39c-.651-.213-1.75-.56-2.837-.855C9.552 1.29 8.531 1.067 8 1.067c-.53 0-1.552.223-2.662.524zM5.072.56C6.157.265 7.31 0 8 0s1.843.265 2.928.56c1.11.3 2.229.655 2.887.87a1.54 1.54 0 0 1 1.044 1.262c.596 4.477-.787 7.795-2.465 9.99a11.775 11.775 0 0 1-2.517 2.453 7.159 7.159 0 0 1-1.048.625c-.28.132-.581.24-.829.24s-.548-.108-.829-.24a7.158 7.158 0 0 1-1.048-.625 11.777 11.777 0 0 1-2.517-2.453C1.928 10.487.545 7.169 1.141 2.692A1.54 1.54 0 0 1 2.185 1.43 62.456 62.456 0 0 1 5.072.56z"}},{"tag":"path","attr":{"d":"M8 4.5a.5.5 0 0 1 .5.5v1.5H10a.5.5 0 0 1 0 1H8.5V9a.5.5 0 0 1-1 0V7.5H6a.5.5 0 0 1 0-1h1.5V5a.5.5 0 0 1 .5-.5z"}}]})(e)}function ON(e){return jx({"tag":"svg","attr":{"fill":"currentColor","viewBox":"0 0 16 16"},"child":[{"tag":"path","attr":{"d":"M5.338 1.59a61.44 61.44 0 0 0-2.837.856.481.481 0 0 0-.328.39c-.554 4.157.726 7.19 2.253 9.188a10.725 10.725 0 0 0 2.287 2.233c.346.244.652.42.893.533.12.057.218.095.293.118a.55.55 0 0 0 .101.025.615.615 0 0 0 .1-.025c.076-.023.174-.061.294-.118.24-.113.547-.29.893-.533a10.726 10.726 0 0 0 2.287-2.233c1.527-1.997 2.807-5.031 2.253-9.188a.48.48 0 0 0-.328-.39c-.651-.213-1.75-.56-2.837-.855C9.552 1.29 8.531 1.067 8 1.067c-.53 0-1.552.223-2.662.524zM5.072.56C6.157.265 7.31 0 8 0s1.843.265 2.928.56c1.11.3 2.229.655 2.887.87a1.54 1.54 0 0 1 1.044 1.262c.596 4.477-.787 7.795-2.465 9.99a11.775 11.775 0 0 1-2.517 2.453 7.159 7.159 0 0 1-1.048.625c-.28.132-.581.24-.829.24s-.548-.108-.829-.24a7.158 7.158 0 0 1-1.048-.625 11.777 11.777 0 0 1-2.517-2.453C1.928 10.487.545 7.169 1.141 2.692A1.54 1.54 0 0 1 2.185 1.43 62.456 62.456 0 0 1 5.072.56z"}}]})(e)}function PN(e){return jx({"tag":"svg","attr":{"fill":"currentColor","viewBox":"0 0 16 16"},"child":[{"tag":"path","attr":{"d":"M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2z"}}]})(e)}function IN(e){return jx({"tag":"svg","attr":{"fill":"currentColor","viewBox":"0 0 16 16"},"child":[{"tag":"path","attr":{"d":"M2.5 1A1.5 1.5 0 0 0 1 2.5v11A1.5 1.5 0 0 0 2.5 15h6.086a1.5 1.5 0 0 0 1.06-.44l4.915-4.914A1.5 1.5 0 0 0 15 8.586V2.5A1.5 1.5 0 0 0 13.5 1h-11zM2 2.5a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 .5.5V8H9.5A1.5 1.5 0 0 0 8 9.5V14H2.5a.5.5 0 0 1-.5-.5v-11zm7 11.293V9.5a.5.5 0 0 1 .5-.5h4.293L9 13.793z"}}]})(e)}function BN(e){return jx({"tag":"svg","attr":{"fill":"currentColor","viewBox":"0 0 16 16"},"child":[{"tag":"path","attr":{"fillRule":"evenodd","d":"M1.885.511a1.745 1.745 0 0 1 2.61.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.678.678 0 0 0 .178.643l2.457 2.457a.678.678 0 0 0 .644.178l2.189-.547a1.745 1.745 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.634 18.634 0 0 1-7.01-4.42 18.634 18.634 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877L1.885.511z"}}]})(e)}function RN(e){return jx({"tag":"svg","attr":{"fill":"currentColor","viewBox":"0 0 16 16"},"child":[{"tag":"path","attr":{"d":"M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"}}]})(e)}function NN(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 24 24"},"child":[{"tag":"path","attr":{"d":"M20.226 7.25c-2.623-4.542-8.432-6.098-12.974-3.475-4.543 2.622-6.099 8.431-3.477 12.974 2.623 4.542 8.431 6.099 12.974 3.477a.75.75 0 0 1 .75 1.299c-5.26 3.037-11.987 1.235-15.024-4.026C-.562 12.24 1.24 5.512 6.501 2.475 11.76-.562 18.488 1.24 21.525 6.501a10.959 10.959 0 0 1 1.455 4.826c.013.056.02.113.02.173v2.25a3.5 3.5 0 0 1-6.623 1.581 5.5 5.5 0 1 1 1.112-3.682.802.802 0 0 1 .011.129v1.972a2 2 0 1 0 4 0v-1.766a9.456 9.456 0 0 0-1.274-4.733ZM16 12a4 4 0 1 0-8 0 4 4 0 0 0 8 0Z"}}]})(e)}function MN(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 24 24"},"child":[{"tag":"path","attr":{"d":"M3 3.25c0-.966.784-1.75 1.75-1.75h5.5a.75.75 0 0 1 0 1.5h-5.5a.25.25 0 0 0-.25.25v17.5c0 .138.112.25.25.25h5.5a.75.75 0 0 1 0 1.5h-5.5A1.75 1.75 0 0 1 3 20.75Zm16.006 9.5H10.75a.75.75 0 0 1 0-1.5h8.256l-3.3-3.484a.75.75 0 0 1 1.088-1.032l4.5 4.75a.75.75 0 0 1 0 1.032l-4.5 4.75a.75.75 0 0 1-1.088-1.032Z"}}]})(e)}var LN=__webpack_require__(82512),jN=__webpack_require__.n(LN);function UN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?UN(Object(n),!0).forEach((function(t){(0,h.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function VN(e){return e=zN(zN({},{showText:!0}),e),c.createElement("div",{className:"bm-loading"},c.createElement("span",{className:"bm-loading-icon"},c.createElement("div",{className:"bm-wait-abit"},c.createElement("div",null),c.createElement("div",null),c.createElement("div",null),c.createElement("div",null),c.createElement("div",null),c.createElement("div",null),c.createElement("div",null),c.createElement("div",null))),e.showText&&c.createElement("span",{className:"bm-loading-text"},Mie("Loading","Frontend Scripts","bp-better-messages")))}__webpack_require__(50778);function qN(){return c.createElement("div",{className:"bm-placeholder"},c.createElement("div",{className:"bm-animated-background"}))}var HN,WN=new Set,KN=new Map,$N=new Wc;function GN(e){var t=(0,c.useState)(WN.has(e)),n=(0,_.A)(t,2),r=n[0],i=n[1],a=function(){i(WN.has(e))};return(0,c.useEffect)((function(){a();var t=$N.subscribe({next:function(t){t===e&&a()}});return function(){t.unsubscribe()}}),[e]),r}function QN(e){WN.add(Number(e)),$N.next(Number(e)),KN.set(Number(e),_i.local({zone:"GMT"}).toFormat(Fie)),XN()}function YN(e){WN.delete(Number(e)),$N.next(Number(e)),KN.set(Number(e),_i.local({zone:"GMT"}).toFormat(Fie)),XN()}function XN(){HN||(HN=window.setTimeout(ZN,5e3))}function ZN(){return JN.apply(this,arguments)}function JN(){return JN=(0,o.A)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,clearTimeout(HN),HN=void 0,gie()){e.next=6;break}return XN(),e.abrupt("return");case 6:return e.next=8,ene();case 8:if(e.sent){e.next=10;break}return e.abrupt("return");case 10:KN.size>0&&KN.forEach((function(e,t){G9(Number(t),{lastActive:e}),KN.delete(t),$N.next(Number(t))}));case 11:return e.prev=11,e.finish(11);case 13:case"end":return e.stop()}}),e,null,[[0,,11,13]])}))),JN.apply(this,arguments)}function eM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eM(Object(n),!0).forEach((function(t){(0,h.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var nM=c.memo((function(e){var t=!1,n=V9((e=tM(tM({},{link:!0,fallbackImg:""}),e)).user_id),r=GN(e.user_id);r&&n&&n.status&&(t=n.status);var i=null,a=null,o=null,s=null;return n&&(i=n.user_id,a=n.url,o=n.avatar,s=n.name),c.createElement(iM,{key:"user_avatar_"+e.user_id,user:n,user_id:i,url:a,avatar:o,name:s,size:e.size,link:e.link,online:r,status:t,fallbackImg:e.fallbackImg})}));const rM=nM;var iM=c.memo((function(e){var t=e.user_id,n=e.url,r=e.avatar,i=e.name,a=e.status,s="#8ac176",l=e.link;if(e.status&&Sie.userStatuses){var d=Sie.userStatuses.filter((function(e){return a.slug===e.slug}));d.length>0&&(s=d.shift().color)}var p="user_avatar_inner_undefined";t&&(p="user_avatar_inner_"+t),r&&(r=CO(r)),n||(l=!1);var f=function(){var t=(0,o.A)(u().mark((function t(n){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Hie("better_messages_before_avatar_click",!1,e.user_id);case 2:t.sent&&n.preventDefault();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),h=Hie("better_messages_avatar_class","avatar bbpm-avatar"+(e.online?" online":""),e.user),m=Hie("better_messages_avatar_attributes",{},e.user);return c.createElement("span",cy({key:p,className:h,style:{color:s}},m),!t&&c.createElement("div",{className:"bm-placeholder-wrapper",style:{position:"relative",width:e.size,height:e.size,borderRadius:"4px",overflow:"hidden"}},c.createElement(qN,null)),t&&!r&&c.createElement("div",{className:"bm-placeholder-wrapper",style:{position:"relative",width:e.size,height:e.size,borderRadius:"4px",overflow:"hidden"}},c.createElement("div",{className:"bm-placeholder"})),t&&r&&c.createElement(c.Fragment,null,t&&l&&c.createElement(c.Fragment,null,c.createElement(aP,{content:Lie(Mie("Go to <strong>%s</strong> profile","Messages List - Avatar Tooltip","bp-better-messages"),i)},c.createElement("a",{onClick:f,href:n},c.createElement("img",{src:r,className:"avatar avatar-"+e.size,width:e.size,height:e.size,alt:Lie(Mie("Profile picture of %s","Messages List - Avatar Alt","bp-better-messages"),i)})))),t&&!l&&c.createElement("img",{onClick:f,src:r,className:"avatar avatar-"+e.size,width:e.size,height:e.size,alt:Lie(Mie("Profile picture of %s","Messages List - Avatar Alt","bp-better-messages"),i)})))}));function aM(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 24 24"},"child":[{"tag":"path","attr":{"fill":"none","d":"M0 0h24v24H0V0z"}},{"tag":"path","attr":{"d":"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5l-1-1h-5l-1 1H5v2h14V4z"}}]})(e)}function oM(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 24 24"},"child":[{"tag":"path","attr":{"fill":"none","d":"M0 0h24v24H0z"}},{"tag":"path","attr":{"d":"M11.5 9H13v6h-1.5zM9 9H6c-.6 0-1 .5-1 1v4c0 .5.4 1 1 1h3c.6 0 1-.5 1-1v-2H8.5v1.5h-2v-3H10V10c0-.5-.4-1-1-1zM19 10.5V9h-4.5v6H16v-2h2v-1.5h-2v-1z"}}]})(e)}function sM(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 24 24"},"child":[{"tag":"path","attr":{"fill":"none","d":"M0 0h24v24H0z"}},{"tag":"path","attr":{"d":"M23 12l-2.44-2.79.34-3.69-3.61-.82-1.89-3.2L12 2.96 8.6 1.5 6.71 4.69 3.1 5.5l.34 3.7L1 12l2.44 2.79-.34 3.7 3.61.82L8.6 22.5l3.4-1.47 3.4 1.46 1.89-3.19 3.61-.82-.34-3.69L23 12zm-12.91 4.72l-3.8-3.81 1.48-1.48 2.32 2.33 5.85-5.87 1.48 1.48-7.33 7.35z"}}]})(e)}function uM(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 24 24"},"child":[{"tag":"path","attr":{"fill":"none","d":"M0 0h24v24H0V0z"}},{"tag":"path","attr":{"d":"M20 18c1.1 0 1.99-.9 1.99-2L22 6a2 2 0 00-2-2H4c-1.11 0-2 .89-2 2v10a2 2 0 002 2H0v2h24v-2h-4zm-7-3.53v-2.19c-2.78 0-4.61.85-6 2.72.56-2.67 2.11-5.33 6-5.87V7l4 3.73-4 3.74z"}}]})(e)}function cM(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 24 24"},"child":[{"tag":"path","attr":{"fill":"none","d":"M0 0h24v24H0V0z"}},{"tag":"path","attr":{"d":"M21.22 18.02l2 2H24v-2h-2.78zm.77-2l.01-10a2 2 0 00-2-2H7.22l5.23 5.23c.18-.04.36-.07.55-.1V7.02l4 3.73-1.58 1.47 5.54 5.54c.61-.33 1.03-.99 1.03-1.74zM2.39 1.73L1.11 3l1.54 1.54c-.4.36-.65.89-.65 1.48v10a2 2 0 002 2H0v2h18.13l2.71 2.71 1.27-1.27L2.39 1.73zM7 15.02c.31-1.48.92-2.95 2.07-4.06l1.59 1.59c-1.54.38-2.7 1.18-3.66 2.47z"}}]})(e)}function lM(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 24 24"},"child":[{"tag":"path","attr":{"fill":"none","d":"M0 0h24v24H0z"}},{"tag":"path","attr":{"d":"M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5a2.5 2.5 0 015 0v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5a2.5 2.5 0 005 0V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6h-1.5z"}}]})(e)}function dM(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 24 24"},"child":[{"tag":"path","attr":{"fill":"none","d":"M24 .01c0-.01 0-.01 0 0L0 0v24h24V.01zM0 0h24v24H0V0zm0 0h24v24H0V0z"}},{"tag":"path","attr":{"d":"M22.99 9C19.15 5.16 13.8 3.76 8.84 4.78l2.52 2.52c3.47-.17 6.99 1.05 9.63 3.7l2-2zm-4 4a9.793 9.793 0 00-4.49-2.56l3.53 3.53.96-.97zM2 3.05L5.07 6.1C3.6 6.82 2.22 7.78 1 9l1.99 2c1.24-1.24 2.67-2.16 4.2-2.77l2.24 2.24A9.684 9.684 0 005 13v.01L6.99 15a7.042 7.042 0 014.92-2.06L18.98 20l1.27-1.26L3.29 1.79 2 3.05zM9 17l3 3 3-3a4.237 4.237 0 00-6 0z"}}]})(e)}function pM(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 24 24"},"child":[{"tag":"path","attr":{"fill":"none","d":"M0 0h24v24H0V0z"}},{"tag":"path","attr":{"d":"M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}}]})(e)}function fM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(fM=function(){return!!e})()}function hM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hM(Object(n),!0).forEach((function(t){(0,h.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const vM=c.memo((function(e){var t=V9((e=mM(mM({},{link:!0,raw:!1,moderator:!1,fallback:""}),e)).user_id);return c.createElement(gM,{key:"user_name_"+e.user_id,user:t,moderator:e.moderator,link:e.link,raw:e.raw,fallback:e.fallback})}));var gM=function(e){function t(e){return(0,p.A)(this,t),function(e,t,n){return t=(0,S.A)(t),(0,x.A)(e,fM()?Reflect.construct(t,n||[],(0,S.A)(e).constructor):t.apply(e,n))}(this,t,[e])}return(0,T.A)(t,e),(0,f.A)(t,[{key:"beforeUsernameClick",value:(n=(0,o.A)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hie("better_messages_before_username_click",!1,this.props.user.user_id);case 2:e.sent&&t.preventDefault();case 4:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"render",value:function(){var e,t,n=this,r=this.props.link;if(!this.props.user)return c.createElement("div",{className:"name bm-name"},c.createElement("div",{className:"bm-placeholder-wrapper",style:{position:"relative",width:"100px",height:"20px",borderRadius:"4px",overflow:"hidden"}},c.createElement(qN,null)));if(this.props.user&&(t=this.props.user.name,e=CO(this.props.user.name),this.props.user.url||(r=!1)),e&&(e=Gg(e)),this.props.raw){var i=e;return this.props.user&&1===this.props.user.verified&&(i=c.createElement(c.Fragment,null,e," ",c.createElement(aP,{content:Mie("Verified","Verifice Icon Tooltip","bp-better-messages")},c.createElement("span",{className:"bm-name-verified"},c.createElement(sM,null)))," ")),i}var a=Hie("better_messages_username_class","user bm-user",this.props.user),o=Hie("better_messages_username_attributes",{},this.props.user);return c.createElement("div",cy({className:"name bm-name"},o),!this.props.user&&c.createElement("div",{className:"bm-placeholder-wrapper",style:{position:"relative",width:"100px",height:"20px",borderRadius:"4px",overflow:"hidden"}},c.createElement(qN,null)),this.props.user&&c.createElement(c.Fragment,null,r&&c.createElement(aP,{content:Lie(Mie("Go to <strong>%s</strong> profile","Username Tooltip","bp-better-messages"),t)},c.createElement("a",{onClick:function(e){return n.beforeUsernameClick(e)},href:this.props.user.url,className:a},e)),!r&&c.createElement("span",{onClick:function(e){return n.beforeUsernameClick(e)},className:a},e)),this.props.user&&1===this.props.user.verified&&c.createElement(aP,{content:Mie("Verified","Verifice Icon Tooltip","bp-better-messages")},c.createElement("span",{className:"bm-name-verified"},c.createElement(sM,null))),this.props.moderator&&c.createElement(aP,{content:Mie("Moderator","Moderator Icon Tooltip","bp-better-messages")},c.createElement("span",{className:"bm-name-moderator"},c.createElement(ON,null))))}}]);var n}(c.Component);function yM(e){return"string"==typeof e?_i.fromFormat(e,Fie,{zone:"GMT"}):e.toString().length<11?_i.fromSeconds(e):_i.fromMillis(e/10)}var bM=__webpack_require__(87866),wM=__webpack_require__.n(bM);function DM(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ekey";if(!Sie.encryption)return e;try{var n=Sie[t];return wM().decrypt(e,n)}catch(t){return e}}function AM(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ekey";if(!Sie.encryption)return e;try{var n=Sie[t];return wM().encrypt(e,n)}catch(t){return e}}function EM(e){for(;-1!==e.indexOf("\n");)e=e.replace("\n","<br />");return e}var kM=new Set;function CM(e,t,n){return _M.apply(this,arguments)}function _M(){return _M=(0,o.A)(u().mark((function e(t,n,r){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,i){try{k9()?b9.emit("/v5/fastMsg",t,AM(n),r,(function(r){var i=_i.fromMillis(r.time,{zone:"GMT"}),a=Jy(),o={message_id:r.tempId,thread_id:t,message:EM(n),sender_id:a,created_at:10*i.toMillis()};kM.add(r.tempId),TM(t,o),e({tempId:r.tempId,time:i.toMillis()})})):e(!1)}catch(t){e(!1)}})));case 1:case"end":return e.stop()}}),e)}))),_M.apply(this,arguments)}var xM=new Map,SM=new Wc;function TM(e,t){if(!1!==t.message_id){var n=PM(e);n.set(t.message_id,t),kM.add(t.message_id),xM.set(e,n),SM.next(e)}}function FM(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=PM(e);r.has(t)&&r.delete(t),kM.delete(t),xM.set(e,r),n&&SM.next(e)}function OM(e){var t=PM(e);t.size>0&&(t=new Map,xM.set(e,t),SM.next(e))}function PM(e){var t=new Map;return xM.has(e)&&(t=xM.get(e)),t}function IM(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!e)return e;(e=structuredClone(e),t)&&PM(t).forEach((function(t,n,r){-1===e.findIndex((function(e){return e.temp_id===n}))&&e.push(t)}));var n=new Set;return(e=e.filter((function(e){var t=e.message_id;return!n.has(t)&&(n.add(t),!0)}))).sort((function(e,t){return e.created_at-t.created_at})),e}var BM=new Map;function RM(e){void 0!==e&&console.error(e)}function NM(e,t){var n=t.findIndex((function(t){return t.message_id===e}));return n>=0&&n}function MM(e,t){var n=e-S8;return n<0&&(n=0),n}function LM(e,t){var n=e+S8,r=t.length-1;return n>r&&(n=r),n}function jM(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=[],a=new Map;if(e&&e.length>0){if(t){var o=NM(t,e);!1!==o?e=e.slice(o):t=null}t||(e=e.slice(-Math.abs(x8))),n&&(e=e.slice(0,-Math.abs(n)));var s,u,c=[];e.forEach((function(e){var t=yM(e.created_at).startOf("day").toISODate();u?t>u?(u=t,i.push(c),c=[]):(s&&s.sender_id!==e.sender_id||s&&r&&e.message_id===r)&&(i.push(c),c=[]):u=t,s=e,c.push(e)})),i.push(c),i.map((function(e){if(e.length>0){var t=yM(e[0].created_at).toISODate(),n=[];a.has(t)&&(n=a.get(t)),n.push(e),a.set(t,n)}}))}return{stacks:i,dates:new Map(Array.from(a))}}function UM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?UM(Object(n),!0).forEach((function(t){(0,h.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var VM=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(e){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)})),this.tags=[],this.ctr=0},e}(),qM=Math.abs,HM=String.fromCharCode,WM=Object.assign;function KM(e){return e.trim()}function $M(e,t,n){return e.replace(t,n)}function GM(e,t){return e.indexOf(t)}function QM(e,t){return 0|e.charCodeAt(t)}function YM(e,t,n){return e.slice(t,n)}function XM(e){return e.length}function ZM(e){return e.length}function JM(e,t){return t.push(e),e}var eL=1,tL=1,nL=0,rL=0,iL=0,aL="";function oL(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:eL,column:tL,length:o,"return":""}}function sL(e,t){return WM(oL("",null,null,"",null,null,0),e,{length:-e.length},t)}function uL(){return iL=rL>0?QM(aL,--rL):0,tL--,10===iL&&(tL=1,eL--),iL}function cL(){return iL=rL<nL?QM(aL,rL++):0,tL++,10===iL&&(tL=1,eL++),iL}function lL(){return QM(aL,rL)}function dL(){return rL}function pL(e,t){return YM(aL,e,t)}function fL(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function hL(e){return eL=tL=1,nL=XM(aL=e),rL=0,[]}function mL(e){return aL="",e}function vL(e){return KM(pL(rL-1,bL(91===e?e+2:40===e?e+1:e)))}function gL(e){for(;(iL=lL())&&iL<33;)cL();return fL(e)>2||fL(iL)>3?"":" "}function yL(e,t){for(;--t&&cL()&&!(iL<48||iL>102||iL>57&&iL<65||iL>70&&iL<97););return pL(e,dL()+(t<6&&32==lL()&&32==cL()))}function bL(e){for(;cL();)switch(iL){case e:return rL;case 34:case 39:34!==e&&39!==e&&bL(iL);break;case 40:41===e&&bL(e);break;case 92:cL()}return rL}function wL(e,t){for(;cL()&&e+iL!==57&&(e+iL!==84||47!==lL()););return"/*"+pL(t,rL-1)+"*"+HM(47===e?e:cL())}function DL(e){for(;!fL(lL());)cL();return pL(e,rL)}var AL="-ms-",EL="-moz-",kL="-webkit-",CL="comm",_L="rule",xL="decl",SL="@keyframes";function TL(e,t){for(var n="",r=ZM(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function FL(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case xL:return e.return=e.return||e.value;case CL:return"";case SL:return e.return=e.value+"{"+TL(e.children,r)+"}";case _L:e.value=e.props.join(",")}return XM(n=TL(e.children,r))?e.return=e.value+"{"+n+"}":""}function OL(e){return mL(PL("",null,null,null,[""],e=hL(e),0,[0],e))}function PL(e,t,n,r,i,a,o,s,u){for(var c=0,l=0,d=o,p=0,f=0,h=0,m=1,v=1,g=1,y=0,b="",w=i,D=a,A=r,E=b;v;)switch(h=y,y=cL()){case 40:if(108!=h&&58==QM(E,d-1)){-1!=GM(E+=$M(vL(y),"&","&\f"),"&\f")&&(g=-1);break}case 34:case 39:case 91:E+=vL(y);break;case 9:case 10:case 13:case 32:E+=gL(h);break;case 92:E+=yL(dL()-1,7);continue;case 47:switch(lL()){case 42:case 47:JM(BL(wL(cL(),dL()),t,n),u);break;default:E+="/"}break;case 123*m:s[c++]=XM(E)*g;case 125*m:case 59:case 0:switch(y){case 0:case 125:v=0;case 59+l:-1==g&&(E=$M(E,/\f/g,"")),f>0&&XM(E)-d&&JM(f>32?RL(E+";",r,n,d-1):RL($M(E," ","")+";",r,n,d-2),u);break;case 59:E+=";";default:if(JM(A=IL(E,t,n,c,l,i,s,b,w=[],D=[],d),a),123===y)if(0===l)PL(E,t,A,A,w,a,d,s,D);else switch(99===p&&110===QM(E,3)?100:p){case 100:case 108:case 109:case 115:PL(e,A,A,r&&JM(IL(e,A,A,0,0,i,s,b,i,w=[],d),D),i,D,d,s,r?w:D);break;default:PL(E,A,A,A,[""],D,0,s,D)}}c=l=f=0,m=g=1,b=E="",d=o;break;case 58:d=1+XM(E),f=h;default:if(m<1)if(123==y)--m;else if(125==y&&0==m++&&125==uL())continue;switch(E+=HM(y),y*m){case 38:g=l>0?1:(E+="\f",-1);break;case 44:s[c++]=(XM(E)-1)*g,g=1;break;case 64:45===lL()&&(E+=vL(cL())),p=lL(),l=d=XM(b=E+=DL(dL())),y++;break;case 45:45===h&&2==XM(E)&&(m=0)}}return a}function IL(e,t,n,r,i,a,o,s,u,c,l){for(var d=i-1,p=0===i?a:[""],f=ZM(p),h=0,m=0,v=0;h<r;++h)for(var g=0,y=YM(e,d+1,d=qM(m=o[h])),b=e;g<f;++g)(b=KM(m>0?p[g]+" "+y:$M(y,/&\f/g,p[g])))&&(u[v++]=b);return oL(e,t,n,0===i?_L:s,u,c,l)}function BL(e,t,n){return oL(e,t,n,CL,HM(iL),YM(e,2,-2),0)}function RL(e,t,n,r){return oL(e,t,n,xL,YM(e,0,r),YM(e,r+1,-1),r)}function NL(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var ML=function(e,t,n){for(var r=0,i=0;r=i,i=lL(),38===r&&12===i&&(t[n]=1),!fL(i);)cL();return pL(e,rL)},LL=function(e,t){return mL(function(e,t){var n=-1,r=44;do{switch(fL(r)){case 0:38===r&&12===lL()&&(t[n]=1),e[n]+=ML(rL-1,t,n);break;case 2:e[n]+=vL(r);break;case 4:if(44===r){e[++n]=58===lL()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=HM(r)}}while(r=cL());return e}(hL(e),t))},jL=new WeakMap,UL=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||jL.get(n))&&!r){jL.set(e,!0);for(var i=[],a=LL(t,i),o=n.props,s=0,u=0;s<a.length;s++)for(var c=0;c<o.length;c++,u++)e.props[u]=i[s]?a[s].replace(/&\f/g,o[c]):o[c]+" "+a[s]}}},zL=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function VL(e,t){switch(function(e,t){return 45^QM(e,0)?(((t<<2^QM(e,0))<<2^QM(e,1))<<2^QM(e,2))<<2^QM(e,3):0}(e,t)){case 5103:return kL+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return kL+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return kL+e+EL+e+AL+e+e;case 6828:case 4268:return kL+e+AL+e+e;case 6165:return kL+e+AL+"flex-"+e+e;case 5187:return kL+e+$M(e,/(\w+).+(:[^]+)/,kL+"box-$1$2"+AL+"flex-$1$2")+e;case 5443:return kL+e+AL+"flex-item-"+$M(e,/flex-|-self/,"")+e;case 4675:return kL+e+AL+"flex-line-pack"+$M(e,/align-content|flex-|-self/,"")+e;case 5548:return kL+e+AL+$M(e,"shrink","negative")+e;case 5292:return kL+e+AL+$M(e,"basis","preferred-size")+e;case 6060:return kL+"box-"+$M(e,"-grow","")+kL+e+AL+$M(e,"grow","positive")+e;case 4554:return kL+$M(e,/([^-])(transform)/g,"$1"+kL+"$2")+e;case 6187:return $M($M($M(e,/(zoom-|grab)/,kL+"$1"),/(image-set)/,kL+"$1"),e,"")+e;case 5495:case 3959:return $M(e,/(image-set\([^]*)/,kL+"$1$`$1");case 4968:return $M($M(e,/(.+:)(flex-)?(.*)/,kL+"box-pack:$3"+AL+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+kL+e+e;case 4095:case 3583:case 4068:case 2532:return $M(e,/(.+)-inline(.+)/,kL+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(XM(e)-1-t>6)switch(QM(e,t+1)){case 109:if(45!==QM(e,t+4))break;case 102:return $M(e,/(.+:)(.+)-([^]+)/,"$1"+kL+"$2-$3$1"+EL+(108==QM(e,t+3)?"$3":"$2-$3"))+e;case 115:return~GM(e,"stretch")?VL($M(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==QM(e,t+1))break;case 6444:switch(QM(e,XM(e)-3-(~GM(e,"!important")&&10))){case 107:return $M(e,":",":"+kL)+e;case 101:return $M(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+kL+(45===QM(e,14)?"inline-":"")+"box$3$1"+kL+"$2$3$1"+AL+"$2box$3")+e}break;case 5936:switch(QM(e,t+11)){case 114:return kL+e+AL+$M(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return kL+e+AL+$M(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return kL+e+AL+$M(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return kL+e+AL+e+e}return e}var qL=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case xL:e.return=VL(e.value,e.length);break;case SL:return TL([sL(e,{value:$M(e.value,"@","@"+kL)})],r);case _L:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return TL([sL(e,{props:[$M(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return TL([sL(e,{props:[$M(t,/:(plac\w+)/,":"+kL+"input-$1")]}),sL(e,{props:[$M(t,/:(plac\w+)/,":-moz-$1")]}),sL(e,{props:[$M(t,/:(plac\w+)/,AL+"input-$1")]})],r)}return""}))}}],HL=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r,i,a=e.stylisPlugins||qL,o={},s=[];r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;s.push(e)}));var u,c,l,d,p=[FL,(d=function(e){u.insert(e)},function(e){e.root||(e=e.return)&&d(e)})],f=(c=[UL,zL].concat(a,p),l=ZM(c),function(e,t,n,r){for(var i="",a=0;a<l;a++)i+=c[a](e,t,n,r)||"";return i});i=function(e,t,n,r){u=n,TL(OL(e?e+"{"+t.styles+"}":t.styles),f),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new VM({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:i};return h.sheet.hydrate(s),h};var WL=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)};var KL={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},$L=/[A-Z]|^ms/g,GL=/_EMO_([^_]+?)_([^]*?)_EMO_/g,QL=function(e){return 45===e.charCodeAt(1)},YL=function(e){return null!=e&&"boolean"!=typeof e},XL=NL((function(e){return QL(e)?e:e.replace($L,"-$&").toLowerCase()})),ZL=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(GL,(function(e,t,n){return ej={name:t,styles:n,next:ej},t}))}return 1===KL[e]||QL(e)||"number"!=typeof t||0===t?t:t+"px"};function JL(e,t,n){if(null==n)return"";var r=n;if(void 0!==r.__emotion_styles)return r;switch((0,C.A)(n)){case"boolean":return"";case"object":var i=n;if(1===i.anim)return ej={name:i.name,styles:i.styles,next:ej},i.name;var a=n;if(void 0!==a.styles){var o=a.next;if(void 0!==o)for(;void 0!==o;)ej={name:o.name,styles:o.styles,next:ej},o=o.next;return a.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=JL(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==(0,C.A)(o)){var s=o;null!=t&&void 0!==t[s]?r+=a+"{"+t[s]+"}":YL(s)&&(r+=XL(a)+":"+ZL(a,s)+";")}else if(!Array.isArray(o)||"string"!=typeof o[0]||null!=t&&void 0!==t[o[0]]){var u=JL(e,t,o);switch(a){case"animation":case"animationName":r+=XL(a)+":"+u+";";break;default:r+=a+"{"+u+"}"}}else for(var c=0;c<o.length;c++)YL(o[c])&&(r+=XL(a)+":"+ZL(a,o[c])+";")}return r}(e,t,n);case"function":if(void 0!==e){var s=ej,u=n(e);return ej=s,JL(e,t,u)}}var c=n;if(null==t)return c;var l=t[c];return void 0!==l?l:c}var ej,tj=/label:\s*([^\s;{]+)\s*(;|$)/g;function nj(e,t,n){if(1===e.length&&"object"===(0,C.A)(e[0])&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";ej=void 0;var a=e[0];null==a||void 0===a.raw?(r=!1,i+=JL(n,t,a)):i+=a[0];for(var o=1;o<e.length;o++){if(i+=JL(n,t,e[o]),r)i+=a[o]}tj.lastIndex=0;for(var s,u="";null!==(s=tj.exec(i));)u+="-"+s[1];var c=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+u;return{name:c,styles:i,next:ej}}var rj=!!l.useInsertionEffect&&l.useInsertionEffect,ij=rj||function(e){return e()},aj=(rj||c.useLayoutEffect,c.createContext("undefined"!=typeof HTMLElement?HL({key:"css"}):null)),oj=(aj.Provider,function(e){return(0,c.forwardRef)((function(t,n){var r=(0,c.useContext)(aj);return e(t,r,n)}))}),sj=c.createContext({});var uj,cj,lj={}.hasOwnProperty,dj="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",pj=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return WL(t,n,r),ij((function(){return function(e,t,n){WL(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}(t,n,r)})),null},fj=oj((function(e,t,n){var r=e.css;"string"==typeof r&&void 0!==t.registered[r]&&(r=t.registered[r]);var i=e[dj],a=[r],o="";"string"==typeof e.className?o=function(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):n&&(r+=n+" ")})),r}(t.registered,a,e.className):null!=e.className&&(o=e.className+" ");var s=nj(a,void 0,c.useContext(sj));o+=t.key+"-"+s.name;var u={};for(var l in e)lj.call(e,l)&&"css"!==l&&l!==dj&&(u[l]=e[l]);return u.className=o,n&&(u.ref=n),c.createElement(c.Fragment,null,c.createElement(pj,{cache:t,serialized:s,isStringTag:"string"==typeof i}),c.createElement(i,u))})),hj=fj,mj=(__webpack_require__(3198),function(e,t){var n=arguments;if(null==t||!lj.call(t,"css"))return c.createElement.apply(void 0,n);var r=n.length,i=new Array(r);i[0]=hj,i[1]=function(e,t){var n={};for(var r in t)lj.call(t,r)&&(n[r]=t[r]);return n[dj]=e,n}(e,t);for(var a=2;a<r;a++)i[a]=n[a];return c.createElement.apply(null,i)});uj=mj||(mj={}),cj||(cj=uj.JSX||(uj.JSX={}));function vj(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return nj(t)}var gj=c.useLayoutEffect,yj=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],bj=function(){};function wj(e,t){return t?"-"===t[0]?e+t:e+"__"+t:e}function Dj(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var a=[].concat(r);if(t&&e)for(var o in t)t.hasOwnProperty(o)&&t[o]&&a.push("".concat(wj(e,o)));return a.filter((function(e){return e})).map((function(e){return String(e).trim()})).join(" ")}var Aj=function(e){return t=e,Array.isArray(t)?e.filter(Boolean):"object"===(0,C.A)(e)&&null!==e?[e]:[];var t},Ej=function(e){return e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme,zM({},(0,Ae.A)(e,yj))},kj=function(e,t,n){var r=e.cx,i=e.getStyles,a=e.getClassNames,o=e.className;return{css:i(t,e),className:r(null!=n?n:{},a(t,e),o)}};function Cj(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function _j(e){return Cj(e)?window.pageYOffset:e.scrollTop}function xj(e,t){Cj(e)?window.scrollTo(0,t):e.scrollTop=t}function Sj(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:bj,i=_j(e),a=t-i,o=0;!function t(){var s=function(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t}(o+=10,i,a,n);xj(e,s),o<n?window.requestAnimationFrame(t):r(e)}()}function Tj(e,t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),i=t.offsetHeight/3;r.bottom+i>n.bottom?xj(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+i,e.scrollHeight)):r.top-i<n.top&&xj(e,Math.max(t.offsetTop-i,0))}function Fj(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}}var Oj=!1,Pj={get passive(){return Oj=!0}},Ij="undefined"!=typeof window?window:{};Ij.addEventListener&&Ij.removeEventListener&&(Ij.addEventListener("p",bj,Pj),Ij.removeEventListener("p",bj,!1));var Bj=Oj;function Rj(e){return null!=e}function Nj(e,t,n){return e?t:n}var Mj=["children","innerProps"],Lj=["children","innerProps"];function jj(e){var t=e.maxHeight,n=e.menuEl,r=e.minHeight,i=e.placement,a=e.shouldScroll,o=e.isFixedPosition,s=e.controlHeight,u=function(e){var t=getComputedStyle(e),n="absolute"===t.position,r=/(auto|scroll)/;if("fixed"===t.position)return document.documentElement;for(var i=e;i=i.parentElement;)if(t=getComputedStyle(i),(!n||"static"!==t.position)&&r.test(t.overflow+t.overflowY+t.overflowX))return i;return document.documentElement}(n),c={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return c;var l,d=u.getBoundingClientRect().height,p=n.getBoundingClientRect(),f=p.bottom,h=p.height,m=p.top,v=n.offsetParent.getBoundingClientRect().top,g=o?window.innerHeight:Cj(l=u)?window.innerHeight:l.clientHeight,y=_j(u),b=parseInt(getComputedStyle(n).marginBottom,10),w=parseInt(getComputedStyle(n).marginTop,10),D=v-w,A=g-m,E=D+y,k=d-y-m,C=f-g+y+b,_=y+m-w,x=160;switch(i){case"auto":case"bottom":if(A>=h)return{placement:"bottom",maxHeight:t};if(k>=h&&!o)return a&&Sj(u,C,x),{placement:"bottom",maxHeight:t};if(!o&&k>=r||o&&A>=r)return a&&Sj(u,C,x),{placement:"bottom",maxHeight:o?A-b:k-b};if("auto"===i||o){var S=t,T=o?D:E;return T>=r&&(S=Math.min(T-b-s,t)),{placement:"top",maxHeight:S}}if("bottom"===i)return a&&xj(u,C),{placement:"bottom",maxHeight:t};break;case"top":if(D>=h)return{placement:"top",maxHeight:t};if(E>=h&&!o)return a&&Sj(u,_,x),{placement:"top",maxHeight:t};if(!o&&E>=r||o&&D>=r){var F=t;return(!o&&E>=r||o&&D>=r)&&(F=o?D-w:E-w),a&&Sj(u,_,x),{placement:"top",maxHeight:F}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return c}var Uj,zj=function(e){return"auto"===e?"bottom":e},Vj=(0,c.createContext)(null),qj=function(e){var t=e.children,n=e.minMenuHeight,r=e.maxMenuHeight,i=e.menuPlacement,a=e.menuPosition,o=e.menuShouldScrollIntoView,s=e.theme,u=((0,c.useContext)(Vj)||{}).setPortalPlacement,l=(0,c.useRef)(null),d=(0,c.useState)(r),p=(0,_.A)(d,2),f=p[0],h=p[1],m=(0,c.useState)(null),v=(0,_.A)(m,2),g=v[0],y=v[1],b=s.spacing.controlHeight;return gj((function(){var e=l.current;if(e){var t="fixed"===a,s=jj({maxHeight:r,menuEl:e,minHeight:n,placement:i,shouldScroll:o&&!t,isFixedPosition:t,controlHeight:b});h(s.maxHeight),y(s.placement),null==u||u(s.placement)}}),[r,i,a,o,n,u,b]),t({ref:l,placerProps:zM(zM({},e),{},{placement:g||zj(i),maxHeight:f})})},Hj=function(e){var t=e.children,n=e.innerRef,r=e.innerProps;return mj("div",cy({},kj(e,"menu",{menu:!0}),{ref:n},r),t)},Wj=function(e,t){var n=e.theme,r=n.spacing.baseUnit,i=n.colors;return zM({textAlign:"center"},t?{}:{color:i.neutral40,padding:"".concat(2*r,"px ").concat(3*r,"px")})},Kj=Wj,$j=Wj,Gj=["size"],Qj=["innerProps","isRtl","size"];var Yj={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},Xj=function(e){var t=e.size,n=(0,Ae.A)(e,Gj);return mj("svg",cy({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:Yj},n))},Zj=function(e){return mj(Xj,cy({size:20},e),mj("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},Jj=function(e){return mj(Xj,cy({size:20},e),mj("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},eU=function(e,t){var n=e.isFocused,r=e.theme,i=r.spacing.baseUnit,a=r.colors;return zM({label:"indicatorContainer",display:"flex",transition:"color 150ms"},t?{}:{color:n?a.neutral60:a.neutral20,padding:2*i,":hover":{color:n?a.neutral80:a.neutral40}})},tU=eU,nU=eU,rU=function(){var e=vj.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}(Uj||(Uj=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  0%, 80%, 100% { opacity: 0; }\n  40% { opacity: 1; }\n"]))),iU=function(e){var t=e.delay,n=e.offset;return mj("span",{css:vj({animation:"".concat(rU," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},aU=function(e){var t=e.children,n=e.isDisabled,r=e.isFocused,i=e.innerRef,a=e.innerProps,o=e.menuIsOpen;return mj("div",cy({ref:i},kj(e,"control",{control:!0,"control--is-disabled":n,"control--is-focused":r,"control--menu-is-open":o}),a,{"aria-disabled":n||void 0}),t)},oU=["data"],sU=function(e){var t=e.children,n=e.cx,r=e.getStyles,i=e.getClassNames,a=e.Heading,o=e.headingProps,s=e.innerProps,u=e.label,c=e.theme,l=e.selectProps;return mj("div",cy({},kj(e,"group",{group:!0}),s),mj(a,cy({},o,{selectProps:l,theme:c,getStyles:r,getClassNames:i,cx:n}),u),mj("div",null,t))},uU=["innerRef","isDisabled","isHidden","inputClassName"],cU={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},lU={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":zM({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},cU)},dU=function(e){return zM({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},cU)},pU=function(e){var t=e.cx,n=e.value,r=Ej(e),i=r.innerRef,a=r.isDisabled,o=r.isHidden,s=r.inputClassName,u=(0,Ae.A)(r,uU);return mj("div",cy({},kj(e,"input",{"input-container":!0}),{"data-value":n||""}),mj("input",cy({className:t({input:!0},s),ref:i,style:dU(o),disabled:a},u)))},fU=function(e){var t=e.children,n=e.innerProps;return mj("div",n,t)};var hU=function(e){var t=e.children,n=e.components,r=e.data,i=e.innerProps,a=e.isDisabled,o=e.removeProps,s=e.selectProps,u=n.Container,c=n.Label,l=n.Remove;return mj(u,{data:r,innerProps:zM(zM({},kj(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":a})),i),selectProps:s},mj(c,{data:r,innerProps:zM({},kj(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:s},t),mj(l,{data:r,innerProps:zM(zM({},kj(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(t||"option")},o),selectProps:s}))},mU=function(e){var t=e.children,n=e.isDisabled,r=e.isFocused,i=e.isSelected,a=e.innerRef,o=e.innerProps;return mj("div",cy({},kj(e,"option",{option:!0,"option--is-disabled":n,"option--is-focused":r,"option--is-selected":i}),{ref:a,"aria-disabled":n},o),t)},vU=function(e){var t=e.children,n=e.innerProps;return mj("div",cy({},kj(e,"placeholder",{placeholder:!0}),n),t)},gU=function(e){var t=e.children,n=e.isDisabled,r=e.innerProps;return mj("div",cy({},kj(e,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),r),t)},yU={ClearIndicator:function(e){var t=e.children,n=e.innerProps;return mj("div",cy({},kj(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),t||mj(Zj,null))},Control:aU,DropdownIndicator:function(e){var t=e.children,n=e.innerProps;return mj("div",cy({},kj(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),t||mj(Jj,null))},DownChevron:Jj,CrossIcon:Zj,Group:sU,GroupHeading:function(e){var t=Ej(e);t.data;var n=(0,Ae.A)(t,oU);return mj("div",cy({},kj(e,"groupHeading",{"group-heading":!0}),n))},IndicatorsContainer:function(e){var t=e.children,n=e.innerProps;return mj("div",cy({},kj(e,"indicatorsContainer",{indicators:!0}),n),t)},IndicatorSeparator:function(e){var t=e.innerProps;return mj("span",cy({},t,kj(e,"indicatorSeparator",{"indicator-separator":!0})))},Input:pU,LoadingIndicator:function(e){var t=e.innerProps,n=e.isRtl,r=e.size,i=void 0===r?4:r,a=(0,Ae.A)(e,Qj);return mj("div",cy({},kj(zM(zM({},a),{},{innerProps:t,isRtl:n,size:i}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),t),mj(iU,{delay:0,offset:n}),mj(iU,{delay:160,offset:!0}),mj(iU,{delay:320,offset:!n}))},Menu:Hj,MenuList:function(e){var t=e.children,n=e.innerProps,r=e.innerRef,i=e.isMulti;return mj("div",cy({},kj(e,"menuList",{"menu-list":!0,"menu-list--is-multi":i}),{ref:r},n),t)},MenuPortal:function(e){var t=e.appendTo,n=e.children,r=e.controlElement,i=e.innerProps,a=e.menuPlacement,o=e.menuPosition,s=(0,c.useRef)(null),u=(0,c.useRef)(null),l=(0,c.useState)(zj(a)),d=(0,_.A)(l,2),p=d[0],f=d[1],h=(0,c.useMemo)((function(){return{setPortalPlacement:f}}),[]),m=(0,c.useState)(null),v=(0,_.A)(m,2),g=v[0],y=v[1],b=(0,c.useCallback)((function(){if(r){var e=function(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}(r),t="fixed"===o?0:window.pageYOffset,n=e[p]+t;n===(null==g?void 0:g.offset)&&e.left===(null==g?void 0:g.rect.left)&&e.width===(null==g?void 0:g.rect.width)||y({offset:n,rect:e})}}),[r,o,p,null==g?void 0:g.offset,null==g?void 0:g.rect.left,null==g?void 0:g.rect.width]);gj((function(){b()}),[b]);var w=(0,c.useCallback)((function(){"function"==typeof u.current&&(u.current(),u.current=null),r&&s.current&&(u.current=UT(r,s.current,b,{elementResize:"ResizeObserver"in window}))}),[r,b]);gj((function(){w()}),[w]);var D=(0,c.useCallback)((function(e){s.current=e,w()}),[w]);if(!t&&"fixed"!==o||!g)return null;var A=mj("div",cy({ref:D},kj(zM(zM({},e),{},{offset:g.offset,position:o,rect:g.rect}),"menuPortal",{"menu-portal":!0}),i),n);return mj(Vj.Provider,{value:h},t?(0,rT.createPortal)(A,t):A)},LoadingMessage:function(e){var t=e.children,n=void 0===t?"Loading...":t,r=e.innerProps,i=(0,Ae.A)(e,Lj);return mj("div",cy({},kj(zM(zM({},i),{},{children:n,innerProps:r}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),r),n)},NoOptionsMessage:function(e){var t=e.children,n=void 0===t?"No options":t,r=e.innerProps,i=(0,Ae.A)(e,Mj);return mj("div",cy({},kj(zM(zM({},i),{},{children:n,innerProps:r}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),r),n)},MultiValue:hU,MultiValueContainer:fU,MultiValueLabel:fU,MultiValueRemove:function(e){var t=e.children,n=e.innerProps;return mj("div",cy({role:"button"},n),t||mj(Zj,{size:14}))},Option:mU,Placeholder:vU,SelectContainer:function(e){var t=e.children,n=e.innerProps,r=e.isDisabled,i=e.isRtl;return mj("div",cy({},kj(e,"container",{"--is-disabled":r,"--is-rtl":i}),n),t)},SingleValue:gU,ValueContainer:function(e){var t=e.children,n=e.innerProps,r=e.isMulti,i=e.hasValue;return mj("div",cy({},kj(e,"valueContainer",{"value-container":!0,"value-container--is-multi":r,"value-container--has-value":i}),n),t)}};__webpack_require__(46449),__webpack_require__(93514),__webpack_require__(48718);function bU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bU(Object(n),!0).forEach((function(t){(0,h.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bU(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function DU(e,t,n){return t=(0,S.A)(t),(0,x.A)(e,AU()?Reflect.construct(t,n||[],(0,S.A)(e).constructor):t.apply(e,n))}function AU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(AU=function(){return!!e})()}function EU(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return kU(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kU(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function kU(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function CU(e){return e&&e.__esModule?e.default:e}function _U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xU,SU,TU,FU,OU,PU,IU={},BU=[],RU=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function NU(e,t){for(var n in t)e[n]=t[n];return e}function MU(e){var t=e.parentNode;t&&t.removeChild(e)}function LU(e,t,n){var r,i,a,o={};for(a in t)"key"==a?r=t[a]:"ref"==a?i=t[a]:o[a]=t[a];if(arguments.length>2&&(o.children=arguments.length>3?xU.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(a in e.defaultProps)void 0===o[a]&&(o[a]=e.defaultProps[a]);return jU(e,o,r,i,null)}function jU(e,t,n,r,i){var a={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==i?++TU:i};return null==i&&null!=SU.vnode&&SU.vnode(a),a}function UU(e){return e.children}function zU(e,t){this.props=e,this.context=t}function VU(e,t){if(null==t)return e.__?VU(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?VU(e):null}function qU(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return qU(e)}}function HU(e){(!e.__d&&(e.__d=!0)&&FU.push(e)&&!WU.__r++||PU!==SU.debounceRendering)&&((PU=SU.debounceRendering)||OU)(WU)}function WU(){for(var e;WU.__r=FU.length;)e=FU.sort((function(e,t){return e.__v.__b-t.__v.__b})),FU=[],e.some((function(e){var t,n,r,i,a,o;e.__d&&(a=(i=(t=e).__v).__e,(o=t.__P)&&(n=[],(r=NU({},i)).__v=i.__v+1,ez(o,i,r,t.__n,void 0!==o.ownerSVGElement,null!=i.__h?[a]:null,n,null==a?VU(i):a,i.__h),tz(n,i),i.__e!=a&&qU(i)))}))}function KU(e,t,n,r,i,a,o,s,u,c){var l,d,p,f,h,m,v,g=r&&r.__k||BU,y=g.length;for(n.__k=[],l=0;l<t.length;l++)if(null!=(f=n.__k[l]=null==(f=t[l])||"boolean"==typeof f?null:"string"==typeof f||"number"==typeof f||"bigint"==typeof f?jU(null,f,null,null,f):Array.isArray(f)?jU(UU,{children:f},null,null,null):f.__b>0?jU(f.type,f.props,f.key,null,f.__v):f)){if(f.__=n,f.__b=n.__b+1,null===(p=g[l])||p&&f.key==p.key&&f.type===p.type)g[l]=void 0;else for(d=0;d<y;d++){if((p=g[d])&&f.key==p.key&&f.type===p.type){g[d]=void 0;break}p=null}ez(e,f,p=p||IU,i,a,o,s,u,c),h=f.__e,(d=f.ref)&&p.ref!=d&&(v||(v=[]),p.ref&&v.push(p.ref,null,f),v.push(d,f.__c||h,f)),null!=h?(null==m&&(m=h),"function"==typeof f.type&&f.__k===p.__k?f.__d=u=$U(f,u,e):u=QU(e,f,p,g,h,u),"function"==typeof n.type&&(n.__d=u)):u&&p.__e==u&&u.parentNode!=e&&(u=VU(p))}for(n.__e=m,l=y;l--;)null!=g[l]&&("function"==typeof n.type&&null!=g[l].__e&&g[l].__e==n.__d&&(n.__d=VU(r,l+1)),rz(g[l],g[l]));if(v)for(l=0;l<v.length;l++)nz(v[l],v[++l],v[++l])}function $U(e,t,n){for(var r,i=e.__k,a=0;i&&a<i.length;a++)(r=i[a])&&(r.__=e,t="function"==typeof r.type?$U(r,t,n):QU(n,r,r,i,r.__e,t));return t}function GU(e,t){return t=t||[],null==e||"boolean"==typeof e||(Array.isArray(e)?e.some((function(e){GU(e,t)})):t.push(e)),t}function QU(e,t,n,r,i,a){var o,s,u;if(void 0!==t.__d)o=t.__d,t.__d=void 0;else if(null==n||i!=a||null==i.parentNode)e:if(null==a||a.parentNode!==e)e.appendChild(i),o=null;else{for(s=a,u=0;(s=s.nextSibling)&&u<r.length;u+=2)if(s==i)break e;e.insertBefore(i,a),o=a}return void 0!==o?o:i.nextSibling}function YU(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]=null==n?"":"number"!=typeof n||RU.test(t)?n:n+"px"}function XU(e,t,n,r,i){var a;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||YU(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||YU(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])a=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+a]=n,n?r||e.addEventListener(t,a?JU:ZU,a):e.removeEventListener(t,a?JU:ZU,a);else if("dangerouslySetInnerHTML"!==t){if(i)t=t.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null!=n&&(!1!==n||"a"===t[0]&&"r"===t[1])?e.setAttribute(t,n):e.removeAttribute(t))}}function ZU(e){this.l[e.type+!1](SU.event?SU.event(e):e)}function JU(e){this.l[e.type+!0](SU.event?SU.event(e):e)}function ez(e,t,n,r,i,a,o,s,u){var c,l,d,p,f,h,m,v,g,y,b,w=t.type;if(void 0!==t.constructor)return null;null!=n.__h&&(u=n.__h,s=t.__e=n.__e,t.__h=null,a=[s]),(c=SU.__b)&&c(t);try{e:if("function"==typeof w){if(v=t.props,g=(c=w.contextType)&&r[c.__c],y=c?g?g.props.value:c.__:r,n.__c?m=(l=t.__c=n.__c).__=l.__E:("prototype"in w&&w.prototype.render?t.__c=l=new w(v,y):(t.__c=l=new zU(v,y),l.constructor=w,l.render=iz),g&&g.sub(l),l.props=v,l.state||(l.state={}),l.context=y,l.__n=r,d=l.__d=!0,l.__h=[]),null==l.__s&&(l.__s=l.state),null!=w.getDerivedStateFromProps&&(l.__s==l.state&&(l.__s=NU({},l.__s)),NU(l.__s,w.getDerivedStateFromProps(v,l.__s))),p=l.props,f=l.state,d)null==w.getDerivedStateFromProps&&null!=l.componentWillMount&&l.componentWillMount(),null!=l.componentDidMount&&l.__h.push(l.componentDidMount);else{if(null==w.getDerivedStateFromProps&&v!==p&&null!=l.componentWillReceiveProps&&l.componentWillReceiveProps(v,y),!l.__e&&null!=l.shouldComponentUpdate&&!1===l.shouldComponentUpdate(v,l.__s,y)||t.__v===n.__v){l.props=v,l.state=l.__s,t.__v!==n.__v&&(l.__d=!1),l.__v=t,t.__e=n.__e,t.__k=n.__k,t.__k.forEach((function(e){e&&(e.__=t)})),l.__h.length&&o.push(l);break e}null!=l.componentWillUpdate&&l.componentWillUpdate(v,l.__s,y),null!=l.componentDidUpdate&&l.__h.push((function(){l.componentDidUpdate(p,f,h)}))}l.context=y,l.props=v,l.state=l.__s,(c=SU.__r)&&c(t),l.__d=!1,l.__v=t,l.__P=e,c=l.render(l.props,l.state,l.context),l.state=l.__s,null!=l.getChildContext&&(r=NU(NU({},r),l.getChildContext())),d||null==l.getSnapshotBeforeUpdate||(h=l.getSnapshotBeforeUpdate(p,f)),b=null!=c&&c.type===UU&&null==c.key?c.props.children:c,KU(e,Array.isArray(b)?b:[b],t,n,r,i,a,o,s,u),l.base=t.__e,t.__h=null,l.__h.length&&o.push(l),m&&(l.__E=l.__=null),l.__e=!1}else null==a&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=function(e,t,n,r,i,a,o,s){var u,c,l,d=n.props,p=t.props,f=t.type,h=0;if("svg"===f&&(i=!0),null!=a)for(;h<a.length;h++)if((u=a[h])&&"setAttribute"in u==!!f&&(f?u.localName===f:3===u.nodeType)){e=u,a[h]=null;break}if(null==e){if(null===f)return document.createTextNode(p);e=i?document.createElementNS("http://www.w3.org/2000/svg",f):document.createElement(f,p.is&&p),a=null,s=!1}if(null===f)d===p||s&&e.data===p||(e.data=p);else{if(a=a&&xU.call(e.childNodes),c=(d=n.props||IU).dangerouslySetInnerHTML,l=p.dangerouslySetInnerHTML,!s){if(null!=a)for(d={},h=0;h<e.attributes.length;h++)d[e.attributes[h].name]=e.attributes[h].value;(l||c)&&(l&&(c&&l.__html==c.__html||l.__html===e.innerHTML)||(e.innerHTML=l&&l.__html||""))}if(function(e,t,n,r,i){var a;for(a in n)"children"===a||"key"===a||a in t||XU(e,a,null,n[a],r);for(a in t)i&&"function"!=typeof t[a]||"children"===a||"key"===a||"value"===a||"checked"===a||n[a]===t[a]||XU(e,a,t[a],n[a],r)}(e,p,d,i,s),l)t.__k=[];else if(h=t.props.children,KU(e,Array.isArray(h)?h:[h],t,n,r,i&&"foreignObject"!==f,a,o,a?a[0]:n.__k&&VU(n,0),s),null!=a)for(h=a.length;h--;)null!=a[h]&&MU(a[h]);s||("value"in p&&void 0!==(h=p.value)&&(h!==d.value||h!==e.value||"progress"===f&&!h)&&XU(e,"value",h,d.value,!1),"checked"in p&&void 0!==(h=p.checked)&&h!==e.checked&&XU(e,"checked",h,d.checked,!1))}return e}(n.__e,t,n,r,i,a,o,u);(c=SU.diffed)&&c(t)}catch(e){t.__v=null,(u||null!=a)&&(t.__e=s,t.__h=!!u,a[a.indexOf(s)]=null),SU.__e(e,t,n)}}function tz(e,t){SU.__c&&SU.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){SU.__e(e,t.__v)}}))}function nz(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){SU.__e(e,n)}}function rz(e,t,n){var r,i;if(SU.unmount&&SU.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||nz(r,null,t)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){SU.__e(e,t)}r.base=r.__P=null}if(r=e.__k)for(i=0;i<r.length;i++)r[i]&&rz(r[i],t,"function"!=typeof e.type);n||null==e.__e||MU(e.__e),e.__e=e.__d=void 0}function iz(e,t,n){return this.constructor(e,n)}function az(e,t,n){var r,i,a;SU.__&&SU.__(e,t),i=(r="function"==typeof n)?null:n&&n.__k||t.__k,a=[],ez(t,e=(!r&&n||t).__k=LU(UU,null,[e]),i||IU,IU,void 0!==t.ownerSVGElement,!r&&n?[n]:i?null:t.firstChild?xU.call(t.childNodes):null,a,!r&&n?n:i?i.__e:t.firstChild,r),tz(a,e)}xU=BU.slice,SU={__e:function(e,t){for(var n,r,i;t=t.__;)if((n=t.__c)&&!n.__)try{if((r=n.constructor)&&null!=r.getDerivedStateFromError&&(n.setState(r.getDerivedStateFromError(e)),i=n.__d),null!=n.componentDidCatch&&(n.componentDidCatch(e),i=n.__d),i)return n.__E=n}catch(t){e=t}throw e}},TU=0,zU.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=NU({},this.state),"function"==typeof e&&(e=e(NU({},n),this.props)),e&&NU(n,e),null!=e&&this.__v&&(t&&this.__h.push(t),HU(this))},zU.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),HU(this))},zU.prototype.render=UU,FU=[],OU="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,WU.__r=0;var oz=0;function sz(e,t,n,r,i){var a,o,s={};for(o in t)"ref"==o?a=t[o]:s[o]=t[o];var u={type:e,props:s,key:n,ref:a,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--oz,__source:r,__self:i};if("function"==typeof e&&(a=e.defaultProps))for(o in a)void 0===s[o]&&(s[o]=a[o]);return SU.vnode&&SU.vnode(u),u}var uz={set:function(e,t){try{window.localStorage["emoji-mart.".concat(e)]=JSON.stringify(t)}catch(e){}},get:function(e){try{var t=window.localStorage["emoji-mart.".concat(e)];if(t)return JSON.parse(t)}catch(e){}}},cz=new Map,lz=[{v:15,emoji:""},{v:14,emoji:""},{v:13.1,emoji:""},{v:13,emoji:""},{v:12.1,emoji:""},{v:12,emoji:""},{v:11,emoji:""},{v:5,emoji:""},{v:4,emoji:""},{v:3,emoji:""},{v:2,emoji:""},{v:1,emoji:""}];function dz(e){if(cz.has(e))return cz.get(e);var t=pz(e);return cz.set(e,t),t}var pz=function(){var e=null;try{navigator.userAgent.includes("jsdom")||(e=document.createElement("canvas").getContext("2d",{willReadFrequently:!0}))}catch(e){}if(!e)return function(){return!1};var t=20,n=Math.floor(12.5);return e.font=n+"px Arial, Sans-Serif",e.textBaseline="top",e.canvas.width=40,e.canvas.height=25,function(n){e.clearRect(0,0,40,25),e.fillStyle="#FF0000",e.fillText(n,0,22),e.fillStyle="#0000FF",e.fillText(n,t,22);for(var r=e.getImageData(0,0,t,25).data,i=r.length,a=0;a<i&&!r[a+3];a+=4);if(a>=i)return!1;var o=t+a/4%t,s=Math.floor(a/4/t),u=e.getImageData(o,s,1,1).data;return r[a]===u[0]&&r[a+2]===u[2]&&!(e.measureText(n).width>=t)}}(),fz={latestVersion:function(){var e,t=EU(lz);try{for(t.s();!(e=t.n()).done;){var n=e.value,r=n.v;if(dz(n.emoji))return r}}catch(e){t.e(e)}finally{t.f()}},noCountryFlags:function(){return!dz("")}},hz=["+1","grinning","kissing_heart","heart_eyes","laughing","stuck_out_tongue_winking_eye","sweat_smile","joy","scream","disappointed","unamused","weary","sob","sunglasses","heart"],mz=null;var vz,gz={add:function(e){mz||(mz=uz.get("frequently")||{});var t=e.id||e;t&&(mz[t]||(mz[t]=0),mz[t]+=1,uz.set("last",t),uz.set("frequently",mz))},get:function(e){var t=e.maxFrequentRows,n=e.perLine;if(!t)return[];mz||(mz=uz.get("frequently"));var r=[];if(!mz){for(var i in mz={},hz.slice(0,n)){var a=hz[i];mz[a]=n-i,r.push(a)}return r}var o=t*n,s=uz.get("last");for(var u in mz)r.push(u);if(r.sort((function(e,t){var n=mz[t],r=mz[e];return n==r?e.localeCompare(t):n-r})),r.length>o){var c=r.slice(o);r=r.slice(0,o);var l,d=EU(c);try{for(d.s();!(l=d.n()).done;){var p=l.value;p!=s&&delete mz[p]}}catch(e){d.e(e)}finally{d.f()}s&&-1==r.indexOf(s)&&(delete mz[r[r.length-1]],r.splice(-1,1,s)),uz.set("frequently",mz)}return r},DEFAULTS:hz};vz=JSON.parse('{"search":"Search","search_no_results_1":"Oh no!","search_no_results_2":"That emoji couldnt be found","pick":"Pick an emoji","add_custom":"Add custom emoji","categories":{"activity":"Activity","custom":"Custom","flags":"Flags","foods":"Food & Drink","frequent":"Frequently used","nature":"Animals & Nature","objects":"Objects","people":"Smileys & People","places":"Travel & Places","search":"Search Results","symbols":"Symbols"},"skins":{"1":"Default","2":"Light","3":"Medium-Light","4":"Medium","5":"Medium-Dark","6":"Dark","choose":"Choose default skin tone"}}');var yz={autoFocus:{value:!1},dynamicWidth:{value:!1},emojiButtonColors:{value:null},emojiButtonRadius:{value:"100%"},emojiButtonSize:{value:36},emojiSize:{value:24},emojiVersion:{value:15,choices:[1,2,3,4,5,11,12,12.1,13,13.1,14,15]},exceptEmojis:{value:[]},icons:{value:"auto",choices:["auto","outline","solid"]},locale:{value:"en",choices:["en","ar","be","cs","de","es","fa","fi","fr","hi","it","ja","ko","nl","pl","pt","ru","sa","tr","uk","vi","zh"]},maxFrequentRows:{value:4},navPosition:{value:"top",choices:["top","bottom","none"]},noCountryFlags:{value:!1},noResultsEmoji:{value:null},perLine:{value:9},previewEmoji:{value:null},previewPosition:{value:"bottom",choices:["top","bottom","none"]},searchPosition:{value:"sticky",choices:["sticky","static","none"]},set:{value:"native",choices:["native","apple","facebook","google","twitter"]},skin:{value:1,choices:[1,2,3,4,5,6]},skinTonePosition:{value:"preview",choices:["preview","search","none"]},theme:{value:"auto",choices:["auto","light","dark"]},categories:null,categoryIcons:null,custom:null,data:null,i18n:null,getImageURL:null,getSpritesheetURL:null,onAddCustomEmoji:null,onClickOutside:null,onEmojiSelect:null,stickySearch:{deprecated:!0,value:!0}},bz=null,wz=null,Dz={};function Az(e){return Ez.apply(this,arguments)}function Ez(){return(Ez=(0,o.A)(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Dz[t]){e.next=2;break}return e.abrupt("return",Dz[t]);case 2:return e.next=4,fetch(t);case 4:return n=e.sent,e.next=7,n.json();case 7:return r=e.sent,Dz[t]=r,e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var kz=null,Cz=null,_z=!1;function xz(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).caller;return kz||(kz=new Promise((function(e){Cz=e}))),e?function(e){Sz.apply(this,arguments)}(e):t&&!_z&&console.warn("`".concat(t,"` requires data to be initialized first. Promise will be pending until `init` is called.")),kz}function Sz(){return Sz=(0,o.A)(u().mark((function e(t){var n,r,i,a,o,s,c,l,d,p,f,h,m,v,g,y,b;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_z=!0,n=t.emojiVersion,r=t.set,i=t.locale,n||(n=yz.emojiVersion.value),r||(r=yz.set.value),i||(i=yz.locale.value),wz){e.next=36;break}if("function"!=typeof t.data){e.next=12;break}return e.next=9,t.data();case 9:e.t1=e.sent,e.next=13;break;case 12:e.t1=t.data;case 13:if(e.t0=e.t1,e.t0){e.next=18;break}return e.next=17,Az("https://cdn.jsdelivr.net/npm/@emoji-mart/data@latest/sets/".concat(n,"/").concat(r,".json"));case 17:e.t0=e.sent;case 18:(wz=e.t0).emoticons={},wz.natives={},wz.categories.unshift({id:"frequent",emojis:[]}),e.t2=u().keys(wz.aliases);case 23:if((e.t3=e.t2()).done){e.next=33;break}if(a=e.t3.value,o=wz.aliases[a],s=wz.emojis[o]){e.next=29;break}return e.abrupt("continue",23);case 29:s.aliases||(s.aliases=[]),s.aliases.push(a),e.next=23;break;case 33:wz.originalCategories=wz.categories,e.next=37;break;case 36:wz.categories=wz.categories.filter((function(e){return!!!e.name}));case 37:if("function"!=typeof t.i18n){e.next=43;break}return e.next=40,t.i18n();case 40:e.t5=e.sent,e.next=44;break;case 43:e.t5=t.i18n;case 44:if(e.t4=e.t5,e.t4){e.next=54;break}if("en"!=i){e.next=50;break}e.t6=CU(vz),e.next=53;break;case 50:return e.next=52,Az("https://cdn.jsdelivr.net/npm/@emoji-mart/data@latest/i18n/".concat(i,".json"));case 52:e.t6=e.sent;case 53:e.t4=e.t6;case 54:if(bz=e.t4,!t.custom){e.next=72;break}e.t7=u().keys(t.custom);case 57:if((e.t8=e.t7()).done){e.next=72;break}if(c=e.t8.value,c=parseInt(c),l=t.custom[c],d=t.custom[c-1],l.emojis&&l.emojis.length){e.next=64;break}return e.abrupt("continue",57);case 64:l.id||(l.id="custom_".concat(c+1)),l.name||(l.name=bz.categories.custom),d&&!l.icon&&(l.target=d.target||d),wz.categories.push(l),p=EU(l.emojis);try{for(p.s();!(f=p.n()).done;)h=f.value,wz.emojis[h.id]=h}catch(e){p.e(e)}finally{p.f()}e.next=57;break;case 72:t.categories&&(wz.categories=wz.originalCategories.filter((function(e){return-1!=t.categories.indexOf(e.id)})).sort((function(e,n){return t.categories.indexOf(e.id)-t.categories.indexOf(n.id)}))),m=null,v=null,"native"==r&&(m=fz.latestVersion(),v=t.noCountryFlags||fz.noCountryFlags()),g=wz.categories.length,y=!1,b=u().mark((function e(){var n,r,i,a,o,s,c,l,d,p,f,h,b,w,D,A,E,k;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("frequent"==(n=wz.categories[g]).id&&(r=t.maxFrequentRows,i=t.perLine,r=r>=0?r:yz.maxFrequentRows.value,i||(i=yz.perLine.value),n.emojis=gz.get({maxFrequentRows:r,perLine:i})),n.emojis&&n.emojis.length){e.next=5;break}return wz.categories.splice(g,1),e.abrupt("return",1);case 5:(a=t.categoryIcons)&&(o=a[n.id])&&!n.icon&&(n.icon=o),s=n.emojis.length;case 8:if(!s--){e.next=69;break}if(c=n.emojis[s],l=c.id?c:wz.emojis[c],d=function(){n.emojis.splice(s,1)},!(!l||t.exceptEmojis&&t.exceptEmojis.includes(l.id))){e.next=15;break}return d(),e.abrupt("continue",8);case 15:if(!(m&&l.version>m)){e.next=18;break}return d(),e.abrupt("continue",8);case 18:if(!v||"flags"!=n.id){e.next=22;break}if(Bz.includes(l.id)){e.next=22;break}return d(),e.abrupt("continue",8);case 22:if(l.search){e.next=67;break}if(y=!0,l.search=","+[[l.id,!1],[l.name,!0],[l.keywords,!1],[l.emoticons,!1]].map((function(e){var t=(0,_.A)(e,2),n=t[0],r=t[1];if(n)return(Array.isArray(n)?n:[n]).map((function(e){return(r?e.split(/[-|_|\s]+/):[e]).map((function(e){return e.toLowerCase()}))})).flat()})).flat().filter((function(e){return e&&e.trim()})).join(","),!l.emoticons){e.next=44;break}p=EU(l.emoticons),e.prev=27,p.s();case 29:if((f=p.n()).done){e.next=36;break}if(h=f.value,!wz.emoticons[h]){e.next=33;break}return e.abrupt("continue",34);case 33:wz.emoticons[h]=l.id;case 34:e.next=29;break;case 36:e.next=41;break;case 38:e.prev=38,e.t0=e.catch(27),p.e(e.t0);case 41:return e.prev=41,p.f(),e.finish(41);case 44:b=0,w=EU(l.skins),e.prev=46,w.s();case 48:if((D=w.n()).done){e.next=59;break}if(A=D.value){e.next=52;break}return e.abrupt("continue",57);case 52:b++,(E=A.native)&&(wz.natives[E]=l.id,l.search+=",".concat(E)),k=1==b?"":":skin-tone-".concat(b,":"),A.shortcodes=":".concat(l.id,":").concat(k);case 57:e.next=48;break;case 59:e.next=64;break;case 61:e.prev=61,e.t1=e.catch(46),w.e(e.t1);case 64:return e.prev=64,w.f(),e.finish(64);case 67:e.next=8;break;case 69:case"end":return e.stop()}}),e,null,[[27,38,41,44],[46,61,64,67]])}));case 79:if(!g--){e.next=85;break}return e.delegateYield(b(),"t9",81);case 81:if(!e.t9){e.next=83;break}return e.abrupt("continue",79);case 83:e.next=79;break;case 85:y&&Iz.reset(),Cz();case 87:case"end":return e.stop()}}),e)}))),Sz.apply(this,arguments)}function Tz(e,t,n){e||(e={});var r={};for(var i in t)r[i]=Fz(i,e,t,n);return r}function Fz(e,t,n,r){var i=n[e],a=r&&r.getAttribute(e)||(null!=t[e]&&null!=t[e]?t[e]:null);return i?(null!=a&&i.value&&(0,C.A)(i.value)!=(0,C.A)(a)&&(a="boolean"==typeof i.value?"false"!=a:i.value.constructor(a)),i.transform&&a&&(a=i.transform(a)),(null==a||i.choices&&-1==i.choices.indexOf(a))&&(a=i.value),a):a}var Oz=null;function Pz(){return Pz=(0,o.A)(u().mark((function e(t){var n,r,i,a,o,s,c,l,d,p,f,h,m,v,g=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=g.length>1&&void 0!==g[1]?g[1]:{}).maxResults,i=n.caller,t&&t.trim().length){e.next=3;break}return e.abrupt("return",null);case 3:return r||(r=90),e.next=6,xz(null,{caller:i||"SearchIndex.search"});case 6:if(a=t.toLowerCase().replace(/(\w)-/,"$1 ").split(/[\s|,]+/).filter((function(e,t,n){return e.trim()&&n.indexOf(e)==t})),a.length){e.next=9;break}return e.abrupt("return");case 9:o=Oz||(Oz=Object.values(wz.emojis)),l=EU(a),e.prev=11,l.s();case 13:if((d=l.n()).done){e.next=45;break}if(p=d.value,o.length){e.next=17;break}return e.abrupt("break",45);case 17:s=[],c={},f=EU(o),e.prev=20,f.s();case 22:if((h=f.n()).done){e.next=34;break}if((m=h.value).search){e.next=26;break}return e.abrupt("continue",32);case 26:if(-1!=(v=m.search.indexOf(",".concat(p)))){e.next=29;break}return e.abrupt("continue",32);case 29:s.push(m),c[m.id]||(c[m.id]=0),c[m.id]+=m.id==p?0:v+1;case 32:e.next=22;break;case 34:e.next=39;break;case 36:e.prev=36,e.t0=e.catch(20),f.e(e.t0);case 39:return e.prev=39,f.f(),e.finish(39);case 42:o=s;case 43:e.next=13;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(11),l.e(e.t1);case 50:return e.prev=50,l.f(),e.finish(50);case 53:if(!(s.length<2)){e.next=55;break}return e.abrupt("return",s);case 55:return s.sort((function(e,t){var n=c[e.id],r=c[t.id];return n==r?e.id.localeCompare(t.id):n-r})),s.length>r&&(s=s.slice(0,r)),e.abrupt("return",s);case 58:case"end":return e.stop()}}),e,null,[[11,47,50,53],[20,36,39,42]])}))),Pz.apply(this,arguments)}var Iz={search:function(e){return Pz.apply(this,arguments)},get:function(e){return e.id?e:wz.emojis[e]||wz.emojis[wz.aliases[e]]||wz.emojis[wz.natives[e]]},reset:function(){Oz=null},SHORTCODES_REGEX:/^(?:\:([^\:]+)\:)(?:\:skin-tone-(\d)\:)?$/},Bz=["checkered_flag","crossed_flags","pirate_flag","rainbow-flag","transgender_flag","triangular_flag_on_post","waving_black_flag","waving_white_flag"];function Rz(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===t.length&&e.every((function(e,n){return e==t[n]}))}function Nz(){return Mz.apply(this,arguments)}function Mz(){return Mz=(0,o.A)(u().mark((function e(){var t,n=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.length>0&&void 0!==n[0]?n[0]:1,e.t0=u().keys((0,z.A)(Array(t).keys()));case 2:if((e.t1=e.t0()).done){e.next=8;break}return e.t1.value,e.next=6,new Promise(requestAnimationFrame);case 6:e.next=2;break;case 8:case"end":return e.stop()}}),e)}))),Mz.apply(this,arguments)}function Lz(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skinIndex,n=void 0===t?0:t,r=e.skins[n]||(n=0,e.skins[n]),i={id:e.id,name:e.name,"native":r.native,unified:r.unified,keywords:e.keywords,shortcodes:r.shortcodes||e.shortcodes};return e.skins.length>1&&(i.skin=n+1),r.src&&(i.src=r.src),e.aliases&&e.aliases.length&&(i.aliases=e.aliases),e.emoticons&&e.emoticons.length&&(i.emoticons=e.emoticons),i}var jz={categories:{activity:{outline:sz("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:sz("path",{d:"M12 0C5.373 0 0 5.372 0 12c0 6.627 5.373 12 12 12 6.628 0 12-5.373 12-12 0-6.628-5.372-12-12-12m9.949 11H17.05c.224-2.527 1.232-4.773 1.968-6.113A9.966 9.966 0 0 1 21.949 11M13 11V2.051a9.945 9.945 0 0 1 4.432 1.564c-.858 1.491-2.156 4.22-2.392 7.385H13zm-2 0H8.961c-.238-3.165-1.536-5.894-2.393-7.385A9.95 9.95 0 0 1 11 2.051V11zm0 2v8.949a9.937 9.937 0 0 1-4.432-1.564c.857-1.492 2.155-4.221 2.393-7.385H11zm4.04 0c.236 3.164 1.534 5.893 2.392 7.385A9.92 9.92 0 0 1 13 21.949V13h2.04zM4.982 4.887C5.718 6.227 6.726 8.473 6.951 11h-4.9a9.977 9.977 0 0 1 2.931-6.113M2.051 13h4.9c-.226 2.527-1.233 4.771-1.969 6.113A9.972 9.972 0 0 1 2.051 13m16.967 6.113c-.735-1.342-1.744-3.586-1.968-6.113h4.899a9.961 9.961 0 0 1-2.931 6.113"})}),solid:sz("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:sz("path",{d:"M16.17 337.5c0 44.98 7.565 83.54 13.98 107.9C35.22 464.3 50.46 496 174.9 496c9.566 0 19.59-.4707 29.84-1.271L17.33 307.3C16.53 317.6 16.17 327.7 16.17 337.5zM495.8 174.5c0-44.98-7.565-83.53-13.98-107.9c-4.688-17.54-18.34-31.23-36.04-35.95C435.5 27.91 392.9 16 337 16c-9.564 0-19.59 .4707-29.84 1.271l187.5 187.5C495.5 194.4 495.8 184.3 495.8 174.5zM26.77 248.8l236.3 236.3c142-36.1 203.9-150.4 222.2-221.1L248.9 26.87C106.9 62.96 45.07 177.2 26.77 248.8zM256 335.1c0 9.141-7.474 16-16 16c-4.094 0-8.188-1.564-11.31-4.689L164.7 283.3C161.6 280.2 160 276.1 160 271.1c0-8.529 6.865-16 16-16c4.095 0 8.189 1.562 11.31 4.688l64.01 64C254.4 327.8 256 331.9 256 335.1zM304 287.1c0 9.141-7.474 16-16 16c-4.094 0-8.188-1.564-11.31-4.689L212.7 235.3C209.6 232.2 208 228.1 208 223.1c0-9.141 7.473-16 16-16c4.094 0 8.188 1.562 11.31 4.688l64.01 64.01C302.5 279.8 304 283.9 304 287.1zM256 175.1c0-9.141 7.473-16 16-16c4.094 0 8.188 1.562 11.31 4.688l64.01 64.01c3.125 3.125 4.688 7.219 4.688 11.31c0 9.133-7.468 16-16 16c-4.094 0-8.189-1.562-11.31-4.688l-64.01-64.01C257.6 184.2 256 180.1 256 175.1z"})})},custom:sz("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",children:sz("path",{d:"M417.1 368c-5.937 10.27-16.69 16-27.75 16c-5.422 0-10.92-1.375-15.97-4.281L256 311.4V448c0 17.67-14.33 32-31.1 32S192 465.7 192 448V311.4l-118.3 68.29C68.67 382.6 63.17 384 57.75 384c-11.06 0-21.81-5.734-27.75-16c-8.828-15.31-3.594-34.88 11.72-43.72L159.1 256L41.72 187.7C26.41 178.9 21.17 159.3 29.1 144C36.63 132.5 49.26 126.7 61.65 128.2C65.78 128.7 69.88 130.1 73.72 132.3L192 200.6V64c0-17.67 14.33-32 32-32S256 46.33 256 64v136.6l118.3-68.29c3.838-2.213 7.939-3.539 12.07-4.051C398.7 126.7 411.4 132.5 417.1 144c8.828 15.31 3.594 34.88-11.72 43.72L288 256l118.3 68.28C421.6 333.1 426.8 352.7 417.1 368z"})}),flags:{outline:sz("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:sz("path",{d:"M0 0l6.084 24H8L1.916 0zM21 5h-4l-1-4H4l3 12h3l1 4h13L21 5zM6.563 3h7.875l2 8H8.563l-2-8zm8.832 10l-2.856 1.904L12.063 13h3.332zM19 13l-1.5-6h1.938l2 8H16l3-2z"})}),solid:sz("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:sz("path",{d:"M64 496C64 504.8 56.75 512 48 512h-32C7.25 512 0 504.8 0 496V32c0-17.75 14.25-32 32-32s32 14.25 32 32V496zM476.3 0c-6.365 0-13.01 1.35-19.34 4.233c-45.69 20.86-79.56 27.94-107.8 27.94c-59.96 0-94.81-31.86-163.9-31.87C160.9 .3055 131.6 4.867 96 15.75v350.5c32-9.984 59.87-14.1 84.85-14.1c73.63 0 124.9 31.78 198.6 31.78c31.91 0 68.02-5.971 111.1-23.09C504.1 355.9 512 344.4 512 332.1V30.73C512 11.1 495.3 0 476.3 0z"})})},foods:{outline:sz("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:sz("path",{d:"M17 4.978c-1.838 0-2.876.396-3.68.934.513-1.172 1.768-2.934 4.68-2.934a1 1 0 0 0 0-2c-2.921 0-4.629 1.365-5.547 2.512-.064.078-.119.162-.18.244C11.73 1.838 10.798.023 9.207.023 8.579.022 7.85.306 7 .978 5.027 2.54 5.329 3.902 6.492 4.999 3.609 5.222 0 7.352 0 12.969c0 4.582 4.961 11.009 9 11.009 1.975 0 2.371-.486 3-1 .629.514 1.025 1 3 1 4.039 0 9-6.418 9-11 0-5.953-4.055-8-7-8M8.242 2.546c.641-.508.943-.523.965-.523.426.169.975 1.405 1.357 3.055-1.527-.629-2.741-1.352-2.98-1.846.059-.112.241-.356.658-.686M15 21.978c-1.08 0-1.21-.109-1.559-.402l-.176-.146c-.367-.302-.816-.452-1.266-.452s-.898.15-1.266.452l-.176.146c-.347.292-.477.402-1.557.402-2.813 0-7-5.389-7-9.009 0-5.823 4.488-5.991 5-5.991 1.939 0 2.484.471 3.387 1.251l.323.276a1.995 1.995 0 0 0 2.58 0l.323-.276c.902-.78 1.447-1.251 3.387-1.251.512 0 5 .168 5 6 0 3.617-4.187 9-7 9"})}),solid:sz("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:sz("path",{d:"M481.9 270.1C490.9 279.1 496 291.3 496 304C496 316.7 490.9 328.9 481.9 337.9C472.9 346.9 460.7 352 448 352H64C51.27 352 39.06 346.9 30.06 337.9C21.06 328.9 16 316.7 16 304C16 291.3 21.06 279.1 30.06 270.1C39.06 261.1 51.27 256 64 256H448C460.7 256 472.9 261.1 481.9 270.1zM475.3 388.7C478.3 391.7 480 395.8 480 400V416C480 432.1 473.3 449.3 461.3 461.3C449.3 473.3 432.1 480 416 480H96C79.03 480 62.75 473.3 50.75 461.3C38.74 449.3 32 432.1 32 416V400C32 395.8 33.69 391.7 36.69 388.7C39.69 385.7 43.76 384 48 384H464C468.2 384 472.3 385.7 475.3 388.7zM50.39 220.8C45.93 218.6 42.03 215.5 38.97 211.6C35.91 207.7 33.79 203.2 32.75 198.4C31.71 193.5 31.8 188.5 32.99 183.7C54.98 97.02 146.5 32 256 32C365.5 32 457 97.02 479 183.7C480.2 188.5 480.3 193.5 479.2 198.4C478.2 203.2 476.1 207.7 473 211.6C469.1 215.5 466.1 218.6 461.6 220.8C457.2 222.9 452.3 224 447.3 224H64.67C59.73 224 54.84 222.9 50.39 220.8zM372.7 116.7C369.7 119.7 368 123.8 368 128C368 131.2 368.9 134.3 370.7 136.9C372.5 139.5 374.1 141.6 377.9 142.8C380.8 143.1 384 144.3 387.1 143.7C390.2 143.1 393.1 141.6 395.3 139.3C397.6 137.1 399.1 134.2 399.7 131.1C400.3 128 399.1 124.8 398.8 121.9C397.6 118.1 395.5 116.5 392.9 114.7C390.3 112.9 387.2 111.1 384 111.1C379.8 111.1 375.7 113.7 372.7 116.7V116.7zM244.7 84.69C241.7 87.69 240 91.76 240 96C240 99.16 240.9 102.3 242.7 104.9C244.5 107.5 246.1 109.6 249.9 110.8C252.8 111.1 256 112.3 259.1 111.7C262.2 111.1 265.1 109.6 267.3 107.3C269.6 105.1 271.1 102.2 271.7 99.12C272.3 96.02 271.1 92.8 270.8 89.88C269.6 86.95 267.5 84.45 264.9 82.7C262.3 80.94 259.2 79.1 256 79.1C251.8 79.1 247.7 81.69 244.7 84.69V84.69zM116.7 116.7C113.7 119.7 112 123.8 112 128C112 131.2 112.9 134.3 114.7 136.9C116.5 139.5 118.1 141.6 121.9 142.8C124.8 143.1 128 144.3 131.1 143.7C134.2 143.1 137.1 141.6 139.3 139.3C141.6 137.1 143.1 134.2 143.7 131.1C144.3 128 143.1 124.8 142.8 121.9C141.6 118.1 139.5 116.5 136.9 114.7C134.3 112.9 131.2 111.1 128 111.1C123.8 111.1 119.7 113.7 116.7 116.7L116.7 116.7z"})})},frequent:{outline:sz("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[sz("path",{d:"M13 4h-2l-.001 7H9v2h2v2h2v-2h4v-2h-4z"}),sz("path",{d:"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0m0 22C6.486 22 2 17.514 2 12S6.486 2 12 2s10 4.486 10 10-4.486 10-10 10"})]}),solid:sz("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:sz("path",{d:"M256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512zM232 256C232 264 236 271.5 242.7 275.1L338.7 339.1C349.7 347.3 364.6 344.3 371.1 333.3C379.3 322.3 376.3 307.4 365.3 300L280 243.2V120C280 106.7 269.3 96 255.1 96C242.7 96 231.1 106.7 231.1 120L232 256z"})})},nature:{outline:sz("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[sz("path",{d:"M15.5 8a1.5 1.5 0 1 0 .001 3.001A1.5 1.5 0 0 0 15.5 8M8.5 8a1.5 1.5 0 1 0 .001 3.001A1.5 1.5 0 0 0 8.5 8"}),sz("path",{d:"M18.933 0h-.027c-.97 0-2.138.787-3.018 1.497-1.274-.374-2.612-.51-3.887-.51-1.285 0-2.616.133-3.874.517C7.245.79 6.069 0 5.093 0h-.027C3.352 0 .07 2.67.002 7.026c-.039 2.479.276 4.238 1.04 5.013.254.258.882.677 1.295.882.191 3.177.922 5.238 2.536 6.38.897.637 2.187.949 3.2 1.102C8.04 20.6 8 20.795 8 21c0 1.773 2.35 3 4 3 1.648 0 4-1.227 4-3 0-.201-.038-.393-.072-.586 2.573-.385 5.435-1.877 5.925-7.587.396-.22.887-.568 1.104-.788.763-.774 1.079-2.534 1.04-5.013C23.929 2.67 20.646 0 18.933 0M3.223 9.135c-.237.281-.837 1.155-.884 1.238-.15-.41-.368-1.349-.337-3.291.051-3.281 2.478-4.972 3.091-5.031.256.015.731.27 1.265.646-1.11 1.171-2.275 2.915-2.352 5.125-.133.546-.398.858-.783 1.313M12 22c-.901 0-1.954-.693-2-1 0-.654.475-1.236 1-1.602V20a1 1 0 1 0 2 0v-.602c.524.365 1 .947 1 1.602-.046.307-1.099 1-2 1m3-3.48v.02a4.752 4.752 0 0 0-1.262-1.02c1.092-.516 2.239-1.334 2.239-2.217 0-1.842-1.781-2.195-3.977-2.195-2.196 0-3.978.354-3.978 2.195 0 .883 1.148 1.701 2.238 2.217A4.8 4.8 0 0 0 9 18.539v-.025c-1-.076-2.182-.281-2.973-.842-1.301-.92-1.838-3.045-1.853-6.478l.023-.041c.496-.826 1.49-1.45 1.804-3.102 0-2.047 1.357-3.631 2.362-4.522C9.37 3.178 10.555 3 11.948 3c1.447 0 2.685.192 3.733.57 1 .9 2.316 2.465 2.316 4.48.313 1.651 1.307 2.275 1.803 3.102.035.058.068.117.102.178-.059 5.967-1.949 7.01-4.902 7.19m6.628-8.202c-.037-.065-.074-.13-.113-.195a7.587 7.587 0 0 0-.739-.987c-.385-.455-.648-.768-.782-1.313-.076-2.209-1.241-3.954-2.353-5.124.531-.376 1.004-.63 1.261-.647.636.071 3.044 1.764 3.096 5.031.027 1.81-.347 3.218-.37 3.235"})]}),solid:sz("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",children:sz("path",{d:"M332.7 19.85C334.6 8.395 344.5 0 356.1 0C363.6 0 370.6 3.52 375.1 9.502L392 32H444.1C456.8 32 469.1 37.06 478.1 46.06L496 64H552C565.3 64 576 74.75 576 88V112C576 156.2 540.2 192 496 192H426.7L421.6 222.5L309.6 158.5L332.7 19.85zM448 64C439.2 64 432 71.16 432 80C432 88.84 439.2 96 448 96C456.8 96 464 88.84 464 80C464 71.16 456.8 64 448 64zM416 256.1V480C416 497.7 401.7 512 384 512H352C334.3 512 320 497.7 320 480V364.8C295.1 377.1 268.8 384 240 384C211.2 384 184 377.1 160 364.8V480C160 497.7 145.7 512 128 512H96C78.33 512 64 497.7 64 480V249.8C35.23 238.9 12.64 214.5 4.836 183.3L.9558 167.8C-3.331 150.6 7.094 133.2 24.24 128.1C41.38 124.7 58.76 135.1 63.05 152.2L66.93 167.8C70.49 182 83.29 191.1 97.97 191.1H303.8L416 256.1z"})})},objects:{outline:sz("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[sz("path",{d:"M12 0a9 9 0 0 0-5 16.482V21s2.035 3 5 3 5-3 5-3v-4.518A9 9 0 0 0 12 0zm0 2c3.86 0 7 3.141 7 7s-3.14 7-7 7-7-3.141-7-7 3.14-7 7-7zM9 17.477c.94.332 1.946.523 3 .523s2.06-.19 3-.523v.834c-.91.436-1.925.689-3 .689a6.924 6.924 0 0 1-3-.69v-.833zm.236 3.07A8.854 8.854 0 0 0 12 21c.965 0 1.888-.167 2.758-.451C14.155 21.173 13.153 22 12 22c-1.102 0-2.117-.789-2.764-1.453z"}),sz("path",{d:"M14.745 12.449h-.004c-.852-.024-1.188-.858-1.577-1.824-.421-1.061-.703-1.561-1.182-1.566h-.009c-.481 0-.783.497-1.235 1.537-.436.982-.801 1.811-1.636 1.791l-.276-.043c-.565-.171-.853-.691-1.284-1.794-.125-.313-.202-.632-.27-.913-.051-.213-.127-.53-.195-.634C7.067 9.004 7.039 9 6.99 9A1 1 0 0 1 7 7h.01c1.662.017 2.015 1.373 2.198 2.134.486-.981 1.304-2.058 2.797-2.075 1.531.018 2.28 1.153 2.731 2.141l.002-.008C14.944 8.424 15.327 7 16.979 7h.032A1 1 0 1 1 17 9h-.011c-.149.076-.256.474-.319.709a6.484 6.484 0 0 1-.311.951c-.429.973-.79 1.789-1.614 1.789"})]}),solid:sz("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",children:sz("path",{d:"M112.1 454.3c0 6.297 1.816 12.44 5.284 17.69l17.14 25.69c5.25 7.875 17.17 14.28 26.64 14.28h61.67c9.438 0 21.36-6.401 26.61-14.28l17.08-25.68c2.938-4.438 5.348-12.37 5.348-17.7L272 415.1h-160L112.1 454.3zM191.4 .0132C89.44 .3257 16 82.97 16 175.1c0 44.38 16.44 84.84 43.56 115.8c16.53 18.84 42.34 58.23 52.22 91.45c.0313 .25 .0938 .5166 .125 .7823h160.2c.0313-.2656 .0938-.5166 .125-.7823c9.875-33.22 35.69-72.61 52.22-91.45C351.6 260.8 368 220.4 368 175.1C368 78.61 288.9-.2837 191.4 .0132zM192 96.01c-44.13 0-80 35.89-80 79.1C112 184.8 104.8 192 96 192S80 184.8 80 176c0-61.76 50.25-111.1 112-111.1c8.844 0 16 7.159 16 16S200.8 96.01 192 96.01z"})})},people:{outline:sz("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[sz("path",{d:"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0m0 22C6.486 22 2 17.514 2 12S6.486 2 12 2s10 4.486 10 10-4.486 10-10 10"}),sz("path",{d:"M8 7a2 2 0 1 0-.001 3.999A2 2 0 0 0 8 7M16 7a2 2 0 1 0-.001 3.999A2 2 0 0 0 16 7M15.232 15c-.693 1.195-1.87 2-3.349 2-1.477 0-2.655-.805-3.347-2H15m3-2H6a6 6 0 1 0 12 0"})]}),solid:sz("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:sz("path",{d:"M0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256zM256 432C332.1 432 396.2 382 415.2 314.1C419.1 300.4 407.8 288 393.6 288H118.4C104.2 288 92.92 300.4 96.76 314.1C115.8 382 179.9 432 256 432V432zM176.4 160C158.7 160 144.4 174.3 144.4 192C144.4 209.7 158.7 224 176.4 224C194 224 208.4 209.7 208.4 192C208.4 174.3 194 160 176.4 160zM336.4 224C354 224 368.4 209.7 368.4 192C368.4 174.3 354 160 336.4 160C318.7 160 304.4 174.3 304.4 192C304.4 209.7 318.7 224 336.4 224z"})})},places:{outline:sz("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[sz("path",{d:"M6.5 12C5.122 12 4 13.121 4 14.5S5.122 17 6.5 17 9 15.879 9 14.5 7.878 12 6.5 12m0 3c-.275 0-.5-.225-.5-.5s.225-.5.5-.5.5.225.5.5-.225.5-.5.5M17.5 12c-1.378 0-2.5 1.121-2.5 2.5s1.122 2.5 2.5 2.5 2.5-1.121 2.5-2.5-1.122-2.5-2.5-2.5m0 3c-.275 0-.5-.225-.5-.5s.225-.5.5-.5.5.225.5.5-.225.5-.5.5"}),sz("path",{d:"M22.482 9.494l-1.039-.346L21.4 9h.6c.552 0 1-.439 1-.992 0-.006-.003-.008-.003-.008H23c0-1-.889-2-1.984-2h-.642l-.731-1.717C19.262 3.012 18.091 2 16.764 2H7.236C5.909 2 4.738 3.012 4.357 4.283L3.626 6h-.642C1.889 6 1 7 1 8h.003S1 8.002 1 8.008C1 8.561 1.448 9 2 9h.6l-.043.148-1.039.346a2.001 2.001 0 0 0-1.359 2.097l.751 7.508a1 1 0 0 0 .994.901H3v1c0 1.103.896 2 2 2h2c1.104 0 2-.897 2-2v-1h6v1c0 1.103.896 2 2 2h2c1.104 0 2-.897 2-2v-1h1.096a.999.999 0 0 0 .994-.901l.751-7.508a2.001 2.001 0 0 0-1.359-2.097M6.273 4.857C6.402 4.43 6.788 4 7.236 4h9.527c.448 0 .834.43.963.857L19.313 9H4.688l1.585-4.143zM7 21H5v-1h2v1zm12 0h-2v-1h2v1zm2.189-3H2.811l-.662-6.607L3 11h18l.852.393L21.189 18z"})]}),solid:sz("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:sz("path",{d:"M39.61 196.8L74.8 96.29C88.27 57.78 124.6 32 165.4 32H346.6C387.4 32 423.7 57.78 437.2 96.29L472.4 196.8C495.6 206.4 512 229.3 512 256V448C512 465.7 497.7 480 480 480H448C430.3 480 416 465.7 416 448V400H96V448C96 465.7 81.67 480 64 480H32C14.33 480 0 465.7 0 448V256C0 229.3 16.36 206.4 39.61 196.8V196.8zM109.1 192H402.9L376.8 117.4C372.3 104.6 360.2 96 346.6 96H165.4C151.8 96 139.7 104.6 135.2 117.4L109.1 192zM96 256C78.33 256 64 270.3 64 288C64 305.7 78.33 320 96 320C113.7 320 128 305.7 128 288C128 270.3 113.7 256 96 256zM416 320C433.7 320 448 305.7 448 288C448 270.3 433.7 256 416 256C398.3 256 384 270.3 384 288C384 305.7 398.3 320 416 320z"})})},symbols:{outline:sz("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:sz("path",{d:"M0 0h11v2H0zM4 11h3V6h4V4H0v2h4zM15.5 17c1.381 0 2.5-1.116 2.5-2.493s-1.119-2.493-2.5-2.493S13 13.13 13 14.507 14.119 17 15.5 17m0-2.986c.276 0 .5.222.5.493 0 .272-.224.493-.5.493s-.5-.221-.5-.493.224-.493.5-.493M21.5 19.014c-1.381 0-2.5 1.116-2.5 2.493S20.119 24 21.5 24s2.5-1.116 2.5-2.493-1.119-2.493-2.5-2.493m0 2.986a.497.497 0 0 1-.5-.493c0-.271.224-.493.5-.493s.5.222.5.493a.497.497 0 0 1-.5.493M22 13l-9 9 1.513 1.5 8.99-9.009zM17 11c2.209 0 4-1.119 4-2.5V2s.985-.161 1.498.949C23.01 4.055 23 6 23 6s1-1.119 1-3.135C24-.02 21 0 21 0h-2v6.347A5.853 5.853 0 0 0 17 6c-2.209 0-4 1.119-4 2.5s1.791 2.5 4 2.5M10.297 20.482l-1.475-1.585a47.54 47.54 0 0 1-1.442 1.129c-.307-.288-.989-1.016-2.045-2.183.902-.836 1.479-1.466 1.729-1.892s.376-.871.376-1.336c0-.592-.273-1.178-.818-1.759-.546-.581-1.329-.871-2.349-.871-1.008 0-1.79.293-2.344.879-.556.587-.832 1.181-.832 1.784 0 .813.419 1.748 1.256 2.805-.847.614-1.444 1.208-1.794 1.784a3.465 3.465 0 0 0-.523 1.833c0 .857.308 1.56.924 2.107.616.549 1.423.823 2.42.823 1.173 0 2.444-.379 3.813-1.137L8.235 24h2.819l-2.09-2.383 1.333-1.135zm-6.736-6.389a1.02 1.02 0 0 1 .73-.286c.31 0 .559.085.747.254a.849.849 0 0 1 .283.659c0 .518-.419 1.112-1.257 1.784-.536-.651-.805-1.231-.805-1.742a.901.901 0 0 1 .302-.669M3.74 22c-.427 0-.778-.116-1.057-.349-.279-.232-.418-.487-.418-.766 0-.594.509-1.288 1.527-2.083.968 1.134 1.717 1.946 2.248 2.438-.921.507-1.686.76-2.3.76"})}),solid:sz("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:sz("path",{d:"M500.3 7.251C507.7 13.33 512 22.41 512 31.1V175.1C512 202.5 483.3 223.1 447.1 223.1C412.7 223.1 383.1 202.5 383.1 175.1C383.1 149.5 412.7 127.1 447.1 127.1V71.03L351.1 90.23V207.1C351.1 234.5 323.3 255.1 287.1 255.1C252.7 255.1 223.1 234.5 223.1 207.1C223.1 181.5 252.7 159.1 287.1 159.1V63.1C287.1 48.74 298.8 35.61 313.7 32.62L473.7 .6198C483.1-1.261 492.9 1.173 500.3 7.251H500.3zM74.66 303.1L86.5 286.2C92.43 277.3 102.4 271.1 113.1 271.1H174.9C185.6 271.1 195.6 277.3 201.5 286.2L213.3 303.1H239.1C266.5 303.1 287.1 325.5 287.1 351.1V463.1C287.1 490.5 266.5 511.1 239.1 511.1H47.1C21.49 511.1-.0019 490.5-.0019 463.1V351.1C-.0019 325.5 21.49 303.1 47.1 303.1H74.66zM143.1 359.1C117.5 359.1 95.1 381.5 95.1 407.1C95.1 434.5 117.5 455.1 143.1 455.1C170.5 455.1 191.1 434.5 191.1 407.1C191.1 381.5 170.5 359.1 143.1 359.1zM440.3 367.1H496C502.7 367.1 508.6 372.1 510.1 378.4C513.3 384.6 511.6 391.7 506.5 396L378.5 508C372.9 512.1 364.6 513.3 358.6 508.9C352.6 504.6 350.3 496.6 353.3 489.7L391.7 399.1H336C329.3 399.1 323.4 395.9 321 389.6C318.7 383.4 320.4 376.3 325.5 371.1L453.5 259.1C459.1 255 467.4 254.7 473.4 259.1C479.4 263.4 481.6 271.4 478.7 278.3L440.3 367.1zM116.7 219.1L19.85 119.2C-8.112 90.26-6.614 42.31 24.85 15.34C51.82-8.137 93.26-3.642 118.2 21.83L128.2 32.32L137.7 21.83C162.7-3.642 203.6-8.137 231.6 15.34C262.6 42.31 264.1 90.26 236.1 119.2L139.7 219.1C133.2 225.6 122.7 225.6 116.7 219.1H116.7z"})})}},search:{loupe:sz("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:sz("path",{d:"M12.9 14.32a8 8 0 1 1 1.41-1.41l5.35 5.33-1.42 1.42-5.33-5.34zM8 14A6 6 0 1 0 8 2a6 6 0 0 0 0 12z"})}),"delete":sz("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:sz("path",{d:"M10 8.586L2.929 1.515 1.515 2.929 8.586 10l-7.071 7.071 1.414 1.414L10 11.414l7.071 7.071 1.414-1.414L11.414 10l7.071-7.071-1.414-1.414L10 8.586z"})})}};function Uz(e){var t=e.id,n=e.skin,r=e.emoji;if(e.shortcodes){var i=e.shortcodes.match(Iz.SHORTCODES_REGEX);i&&(t=i[1],i[2]&&(n=i[2]))}if(r||(r=Iz.get(t||e.native)),!r)return e.fallback;var a=r.skins[n-1]||r.skins[0],o=a.src||("native"==e.set||e.spritesheet?void 0:"function"==typeof e.getImageURL?e.getImageURL(e.set,a.unified):"https://cdn.jsdelivr.net/npm/emoji-datasource-".concat(e.set,"@15.0.1/img/").concat(e.set,"/64/").concat(a.unified,".png")),s="function"==typeof e.getSpritesheetURL?e.getSpritesheetURL(e.set):"https://cdn.jsdelivr.net/npm/emoji-datasource-".concat(e.set,"@15.0.1/img/").concat(e.set,"/sheets-256/64.png");return sz("span",{"class":"emoji-mart-emoji","data-emoji-set":e.set,children:o?sz("img",{style:{maxWidth:e.size||"1em",maxHeight:e.size||"1em",display:"inline-block"},alt:a.native||a.shortcodes,src:o}):"native"==e.set?sz("span",{style:{fontSize:e.size,fontFamily:'"EmojiMart", "Segoe UI Emoji", "Segoe UI Symbol", "Segoe UI", "Apple Color Emoji", "Twemoji Mozilla", "Noto Color Emoji", "Android Emoji"'},children:a.native}):sz("span",{style:{display:"block",width:e.size,height:e.size,backgroundImage:"url(".concat(s,")"),backgroundSize:"".concat(100*wz.sheet.cols,"% ").concat(100*wz.sheet.rows,"%"),backgroundPosition:"".concat(100/(wz.sheet.cols-1)*a.x,"% ").concat(100/(wz.sheet.rows-1)*a.y,"%")}})})}var zz=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if((0,p.A)(this,t),(e=DU(this,t)).props=n,n.parent||n.ref){var r=null,i=n.parent||(r=n.ref&&n.ref.current);r&&(r.innerHTML=""),i&&i.appendChild(e)}return e}return(0,T.A)(t,e),(0,f.A)(t,[{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var t in e)this.attributeChangedCallback(t,null,e[t])}},{key:"attributeChangedCallback",value:function(e,t,n){if(this.component){var r=Fz(e,(0,h.A)({},e,n),this.constructor.Props,this);this.component.componentWillReceiveProps?this.component.componentWillReceiveProps((0,h.A)({},e,r)):(this.component.props[e]=r,this.component.forceUpdate())}}},{key:"disconnectedCallback",value:function(){this.disconnected=!0,this.component&&this.component.unregister&&this.component.unregister()}}],[{key:"observedAttributes",get:function(){return Object.keys(this.Props)}}])}("undefined"!=typeof window&&window.HTMLElement?window.HTMLElement:Object),Vz=function(e){function t(e){var n,r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).styles;return(0,p.A)(this,t),(n=DU(this,t,[e])).setShadow(),n.injectStyles(r),n}return(0,T.A)(t,e),(0,f.A)(t,[{key:"setShadow",value:function(){this.attachShadow({mode:"open"})}},{key:"injectStyles",value:function(e){if(e){var t=document.createElement("style");t.textContent=e,this.shadowRoot.insertBefore(t,this.shadowRoot.firstChild)}}}])}(zz),qz={fallback:"",id:"","native":"",shortcodes:"",size:{value:"",transform:function(e){return/\D/.test(e)?e:"".concat(e,"px")}},set:yz.set,skin:yz.skin},Hz=function(e){function t(e){return(0,p.A)(this,t),DU(this,t,[e])}return(0,T.A)(t,e),(0,f.A)(t,[{key:"connectedCallback",value:(n=(0,o.A)(u().mark((function e(){var t,n=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=Tz(this.props,qz,this)).element=this,t.ref=function(e){n.component=e},e.next=5,xz();case 5:if(!this.disconnected){e.next=7;break}return e.abrupt("return");case 7:az(sz(Uz,wU({},t)),this);case 8:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})}]);var n}(zz);_U(Hz,"Props",qz),"undefined"==typeof customElements||customElements.get("em-emoji")||customElements.define("em-emoji",Hz);var Wz,Kz,$z=[],Gz=SU.__b,Qz=SU.__r,Yz=SU.diffed,Xz=SU.__c,Zz=SU.unmount;function Jz(){var e;for($z.sort((function(e,t){return e.__v.__b-t.__v.__b}));e=$z.pop();)if(e.__P)try{e.__H.__h.forEach(tV),e.__H.__h.forEach(nV),e.__H.__h=[]}catch(t){e.__H.__h=[],SU.__e(t,e.__v)}}SU.__b=function(e){Wz=null,Gz&&Gz(e)},SU.__r=function(e){Qz&&Qz(e);var t=(Wz=e.__c).__H;t&&(t.__h.forEach(tV),t.__h.forEach(nV),t.__h=[])},SU.diffed=function(e){Yz&&Yz(e);var t=e.__c;t&&t.__H&&t.__H.__h.length&&(1!==$z.push(t)&&Kz===SU.requestAnimationFrame||((Kz=SU.requestAnimationFrame)||function(e){var t,n=function(){clearTimeout(r),eV&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);eV&&(t=requestAnimationFrame(n))})(Jz)),Wz=null},SU.__c=function(e,t){t.some((function(e){try{e.__h.forEach(tV),e.__h=e.__h.filter((function(e){return!e.__||nV(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],SU.__e(n,e.__v)}})),Xz&&Xz(e,t)},SU.unmount=function(e){Zz&&Zz(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach((function(e){try{tV(e)}catch(e){t=e}})),t&&SU.__e(t,n.__v))};var eV="function"==typeof requestAnimationFrame;function tV(e){var t=Wz,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),Wz=t}function nV(e){var t=Wz;e.__c=e.__(),Wz=t}function rV(e,t){for(var n in t)e[n]=t[n];return e}function iV(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var r in t)if("__source"!==r&&e[r]!==t[r])return!0;return!1}function aV(e){this.props=e}(aV.prototype=new zU).isPureReactComponent=!0,aV.prototype.shouldComponentUpdate=function(e,t){return iV(this.props,e)||iV(this.state,t)};var oV=SU.__b;SU.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),oV&&oV(e)};"undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref");var sV=SU.__e;SU.__e=function(e,t,n){if(e.then)for(var r,i=t;i=i.__;)if((r=i.__c)&&r.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),r.__c(e,t);sV(e,t,n)};var uV=SU.unmount;function cV(){this.__u=0,this.t=null,this.__b=null}function lV(e){var t=e.__.__c;return t&&t.__e&&t.__e(e)}function dV(){this.u=null,this.o=null}SU.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&!0===e.__h&&(e.type=null),uV&&uV(e)},(cV.prototype=new zU).__c=function(e,t){var n=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(n);var i=lV(r.__v),a=!1,o=function(){a||(a=!0,n.__R=null,i?i(s):s())};n.__R=o;var s=function(){if(! --r.__u){if(r.state.__e){var e=r.state.__e;r.__v.__k[0]=function e(t,n,r){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map((function(t){return e(t,n,r)})),t.__c&&t.__c.__P===n&&(t.__e&&r.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=r)),t}(e,e.__c.__P,e.__c.__O)}var t;for(r.setState({__e:r.__b=null});t=r.t.pop();)t.forceUpdate()}},u=!0===t.__h;r.__u++||u||r.setState({__e:r.__b=r.__v.__k[0]}),e.then(o,o)},cV.prototype.componentWillUnmount=function(){this.t=[]},cV.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=function e(t,n,r){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach((function(e){"function"==typeof e.__c&&e.__c()})),t.__c.__H=null),null!=(t=rV({},t)).__c&&(t.__c.__P===r&&(t.__c.__P=n),t.__c=null),t.__k=t.__k&&t.__k.map((function(t){return e(t,n,r)}))),t}(this.__b,n,r.__O=r.__P)}this.__b=null}var i=t.__e&&LU(UU,null,e.fallback);return i&&(i.__h=null),[LU(UU,null,t.__e?null:e.children),i]};var pV=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};(dV.prototype=new zU).__e=function(e){var t=this,n=lV(t.__v),r=t.o.get(e);return r[0]++,function(i){var a=function(){t.props.revealOrder?(r.push(i),pV(t,e,r)):i()};n?n(a):a()}},dV.prototype.render=function(e){this.u=null,this.o=new Map;var t=GU(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},dV.prototype.componentDidUpdate=dV.prototype.componentDidMount=function(){var e=this;this.o.forEach((function(t,n){pV(e,n,t)}))};var fV="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,hV=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,mV="undefined"!=typeof document;zU.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(e){Object.defineProperty(zU.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));var vV=SU.event;function gV(){}function yV(){return this.cancelBubble}function bV(){return this.defaultPrevented}SU.event=function(e){return vV&&(e=vV(e)),e.persist=gV,e.isPropagationStopped=yV,e.isDefaultPrevented=bV,e.nativeEvent=e};var wV={configurable:!0,get:function(){return this.class}},DV=SU.vnode;SU.vnode=function(e){var t,n=e.type,r=e.props,i=r;if("string"==typeof n){var a=-1===n.indexOf("-");for(var o in i={},r){var s=r[o];mV&&"children"===o&&"noscript"===n||"value"===o&&"defaultValue"in r&&null==s||("defaultValue"===o&&"value"in r&&null==r.value?o="value":"download"===o&&!0===s?s="":/ondoubleclick/i.test(o)?o="ondblclick":/^onchange(textarea|input)/i.test(o+n)&&(t=r.type,!("undefined"!=typeof Symbol&&"symbol"==(0,C.A)(Symbol())?/fil|che|rad/i:/fil|che|ra/i).test(t))?o="oninput":/^onfocus$/i.test(o)?o="onfocusin":/^onblur$/i.test(o)?o="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(o)?o=o.toLowerCase():a&&hV.test(o)?o=o.replace(/[A-Z0-9]/,"-$&").toLowerCase():null===s&&(s=void 0),i[o]=s)}"select"==n&&i.multiple&&Array.isArray(i.value)&&(i.value=GU(r.children).forEach((function(e){e.props.selected=-1!=i.value.indexOf(e.props.value)}))),"select"==n&&null!=i.defaultValue&&(i.value=GU(r.children).forEach((function(e){e.props.selected=i.multiple?-1!=i.defaultValue.indexOf(e.props.value):i.defaultValue==e.props.value}))),e.props=i,r.class!=r.className&&(wV.enumerable="className"in r,null!=r.className&&(i.class=r.className),Object.defineProperty(i,"className",wV))}e.$$typeof=fV,DV&&DV(e)};var AV=SU.__r;SU.__r=function(e){AV&&AV(e),e.__c};var EV={light:"outline",dark:"solid"},kV=function(e){function t(){var e;return(0,p.A)(this,t),(e=DU(this,t)).categories=wz.categories.filter((function(e){return!e.target})),e.state={categoryId:e.categories[0].id},e}return(0,T.A)(t,e),(0,f.A)(t,[{key:"renderIcon",value:function(e){var t=e.icon;if(t){if(t.svg)return sz("span",{"class":"flex",dangerouslySetInnerHTML:{__html:t.svg}});if(t.src)return sz("img",{src:t.src})}var n=jz.categories[e.id]||jz.categories.custom;return n["auto"==this.props.icons?EV[this.props.theme]:this.props.icons]||n}},{key:"render",value:function(){var e=this,t=null;return sz("nav",{id:"nav","class":"padding","data-position":this.props.position,dir:this.props.dir,children:sz("div",{"class":"flex relative",children:[this.categories.map((function(n,r){var i=n.name||bz.categories[n.id],a=!e.props.unfocused&&n.id==e.state.categoryId;return a&&(t=r),sz("button",{"aria-label":i,"aria-selected":a||void 0,title:i,type:"button","class":"flex flex-grow flex-center",onMouseDown:function(e){return e.preventDefault()},onClick:function(){e.props.onClick({category:n,i:r})},children:e.renderIcon(n)})})),sz("div",{"class":"bar",style:{width:"".concat(100/this.categories.length,"%"),opacity:null==t?0:1,transform:"rtl"===this.props.dir?"scaleX(-1) translateX(".concat(100*t,"%)"):"translateX(".concat(100*t,"%)")}})]})})}}])}(aV),CV=function(e){function t(){return(0,p.A)(this,t),DU(this,t,arguments)}return(0,T.A)(t,e),(0,f.A)(t,[{key:"shouldComponentUpdate",value:function(e){for(var t in e)if("children"!=t&&e[t]!=this.props[t])return!0;return!1}},{key:"render",value:function(){return this.props.children}}])}(aV),_V=10,xV=function(e){function t(e){var n;return(0,p.A)(this,t),_U(n=DU(this,t),"darkMediaCallback",(function(){"auto"==n.props.theme&&n.setState({theme:n.darkMedia.matches?"dark":"light"})})),_U(n,"handleClickOutside",(function(e){var t=n.props.element;e.target!=t&&(n.state.showSkins&&n.closeSkins(),n.props.onClickOutside&&n.props.onClickOutside(e))})),_U(n,"handleBaseClick",(function(e){n.state.showSkins&&(e.target.closest(".menu")||(e.preventDefault(),e.stopImmediatePropagation(),n.closeSkins()))})),_U(n,"handleBaseKeydown",(function(e){n.state.showSkins&&"Escape"==e.key&&(e.preventDefault(),e.stopImmediatePropagation(),n.closeSkins())})),_U(n,"handleSearchClick",(function(){n.getEmojiByPos(n.state.pos)&&n.setState({pos:[-1,-1]})})),_U(n,"handleSearchInput",(0,o.A)(u().mark((function e(){var t,r,i,a,o,s,c,l,d,p;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.refs.searchInput.current){e.next=3;break}return e.abrupt("return");case 3:return r=t.value,e.next=6,Iz.search(r);case 6:if(i=e.sent,a=function(){n.refs.scroll.current&&(n.refs.scroll.current.scrollTop=0)},i){e.next=10;break}return e.abrupt("return",n.setState({searchResults:i,pos:[-1,-1]},a));case 10:o=t.selectionStart==t.value.length?[0,0]:[-1,-1],(s=[]).setsize=i.length,c=null,l=EU(i);try{for(l.s();!(d=l.n()).done;)p=d.value,s.length&&c.length!=n.getPerLine()||((c=[]).__categoryId="search",c.__index=s.length,s.push(c)),c.push(p)}catch(e){l.e(e)}finally{l.f()}n.ignoreMouse(),n.setState({searchResults:s,pos:o},a);case 18:case"end":return e.stop()}}),e)})))),_U(n,"handleSearchKeyDown",(function(e){var t=e.currentTarget;switch(e.stopImmediatePropagation(),e.key){case"ArrowLeft":n.navigate({e,input:t,left:!0});break;case"ArrowRight":n.navigate({e,input:t,right:!0});break;case"ArrowUp":n.navigate({e,input:t,up:!0});break;case"ArrowDown":n.navigate({e,input:t,down:!0});break;case"Enter":e.preventDefault(),n.handleEmojiClick({e,pos:n.state.pos});break;case"Escape":e.preventDefault(),n.state.searchResults?n.clearSearch():n.unfocusSearch()}})),_U(n,"clearSearch",(function(){var e=n.refs.searchInput.current;e&&(e.value="",e.focus(),n.handleSearchInput())})),_U(n,"handleCategoryClick",(function(e){var t=e.category,r=e.i;n.scrollTo(0==r?{row:-1}:{categoryId:t.id})})),_U(n,"openSkins",(function(e){var t=e.currentTarget.getBoundingClientRect();n.setState({showSkins:t},(0,o.A)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nz(2);case 2:if(t=n.refs.menu.current){e.next=5;break}return e.abrupt("return");case 5:t.classList.remove("hidden"),n.refs.skinToneRadio.current.focus(),n.base.addEventListener("click",n.handleBaseClick,!0),n.base.addEventListener("keydown",n.handleBaseKeydown,!0);case 9:case"end":return e.stop()}}),e)}))))})),n.observers=[],n.state=wU({pos:[-1,-1],perLine:n.initDynamicPerLine(e),visibleRows:{0:!0}},n.getInitialState(e)),n}return(0,T.A)(t,e),(0,f.A)(t,[{key:"getInitialState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return{skin:uz.get("skin")||e.skin,theme:this.initTheme(e.theme)}}},{key:"componentWillMount",value:function(){this.dir=bz.rtl?"rtl":"ltr",this.refs={menu:{current:null},navigation:{current:null},scroll:{current:null},search:{current:null},searchInput:{current:null},skinToneButton:{current:null},skinToneRadio:{current:null}},this.initGrid(),0==this.props.stickySearch&&"sticky"==this.props.searchPosition&&(console.warn("[EmojiMart] Deprecation warning: `stickySearch` has been renamed `searchPosition`."),this.props.searchPosition="static")}},{key:"componentDidMount",value:function(){if(this.register(),this.shadowRoot=this.base.parentNode,this.props.autoFocus){var e=this.refs.searchInput;e.current&&e.current.focus()}}},{key:"componentWillReceiveProps",value:function(e){var t=this;for(var n in this.nextState||(this.nextState={}),e)this.nextState[n]=e[n];clearTimeout(this.nextStateTimer),this.nextStateTimer=setTimeout((function(){var e=!1;for(var n in t.nextState)t.props[n]=t.nextState[n],"custom"!==n&&"categories"!==n||(e=!0);delete t.nextState;var r=t.getInitialState();if(e)return t.reset(r);t.setState(r)}))}},{key:"componentWillUnmount",value:function(){this.unregister()}},{key:"reset",value:(n=(0,o.A)(u().mark((function e(){var t,n=this,r=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},e.next=3,xz(this.props);case 3:this.initGrid(),this.unobserve(),this.setState(t,(function(){n.observeCategories(),n.observeRows()}));case 6:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"register",value:function(){document.addEventListener("click",this.handleClickOutside),this.observe()}},{key:"unregister",value:function(){var e;document.removeEventListener("click",this.handleClickOutside),null===(e=this.darkMedia)||void 0===e||e.removeEventListener("change",this.darkMediaCallback),this.unobserve()}},{key:"observe",value:function(){this.observeCategories(),this.observeRows()}},{key:"unobserve",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).except,t=void 0===e?[]:e;Array.isArray(t)||(t=[t]);var n,r=EU(this.observers);try{for(r.s();!(n=r.n()).done;){var i=n.value;t.includes(i)||i.disconnect()}}catch(e){r.e(e)}finally{r.f()}this.observers=[].concat(t)}},{key:"initGrid",value:function(){var e=this,t=wz.categories;this.refs.categories=new Map;var n=wz.categories.map((function(e){return e.id})).join(",");this.navKey&&this.navKey!=n&&this.refs.scroll.current&&(this.refs.scroll.current.scrollTop=0),this.navKey=n,this.grid=[],this.grid.setsize=0;var r,i=function(t,n){var r=[];r.__categoryId=n.id,r.__index=t.length,e.grid.push(r);var i=e.grid.length-1,a=i%_V?{}:{current:null};return a.index=i,a.posinset=e.grid.setsize+1,t.push(a),r},a=EU(t);try{for(a.s();!(r=a.n()).done;){var o,s=r.value,u=[],c=i(u,s),l=EU(s.emojis);try{for(l.s();!(o=l.n()).done;){var d=o.value;c.length==this.getPerLine()&&(c=i(u,s)),this.grid.setsize+=1,c.push(d)}}catch(e){l.e(e)}finally{l.f()}this.refs.categories.set(s.id,{root:{current:null},rows:u})}}catch(e){a.e(e)}finally{a.f()}}},{key:"initTheme",value:function(e){if("auto"!=e)return e;if(!this.darkMedia){if(this.darkMedia=matchMedia("(prefers-color-scheme: dark)"),this.darkMedia.media.match(/^not/))return"light";this.darkMedia.addEventListener("change",this.darkMediaCallback)}return this.darkMedia.matches?"dark":"light"}},{key:"initDynamicPerLine",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;if(t.dynamicWidth){var n=t.element,r=t.emojiButtonSize,i=function(){var e=n.getBoundingClientRect().width;return Math.floor(e/r)},a=new ResizeObserver((function(){e.unobserve({except:a}),e.setState({perLine:i()},(function(){e.initGrid(),e.forceUpdate((function(){e.observeCategories(),e.observeRows()}))}))}));return a.observe(n),this.observers.push(a),i()}}},{key:"getPerLine",value:function(){return this.state.perLine||this.props.perLine}},{key:"getEmojiByPos",value:function(e){var t=(0,_.A)(e,2),n=t[0],r=t[1],i=this.state.searchResults||this.grid,a=i[n]&&i[n][r];if(a)return Iz.get(a)}},{key:"observeCategories",value:function(){var e=this.refs.navigation.current;if(e){var t,n=new Map,r={root:this.refs.scroll.current,threshold:[0,1]},i=new IntersectionObserver((function(t){var r,i=EU(t);try{for(i.s();!(r=i.n()).done;){var a=r.value,o=a.target.dataset.id;n.set(o,a.intersectionRatio)}}catch(e){i.e(e)}finally{i.f()}var s,u,c=EU((0,z.A)(n));try{for(c.s();!(s=c.n()).done;){var l=(0,_.A)(s.value,2),d=l[0];if(l[1]){(u=d)!=e.state.categoryId&&e.setState({categoryId:u});break}}}catch(e){c.e(e)}finally{c.f()}}),r),a=EU(this.refs.categories.values());try{for(a.s();!(t=a.n()).done;){var o=t.value.root;i.observe(o.current)}}catch(e){a.e(e)}finally{a.f()}this.observers.push(i)}}},{key:"observeRows",value:function(){var e,t=this,n=wU({},this.state.visibleRows),r=new IntersectionObserver((function(e){var r,i=EU(e);try{for(i.s();!(r=i.n()).done;){var a=r.value,o=parseInt(a.target.dataset.index);a.isIntersecting?n[o]=!0:delete n[o]}}catch(e){i.e(e)}finally{i.f()}t.setState({visibleRows:n})}),{root:this.refs.scroll.current,rootMargin:"".concat(this.props.emojiButtonSize*(_V+5),"px 0px ").concat(this.props.emojiButtonSize*_V,"px")}),i=EU(this.refs.categories.values());try{for(i.s();!(e=i.n()).done;){var a,o=EU(e.value.rows);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.current&&r.observe(s.current)}}catch(e){o.e(e)}finally{o.f()}}}catch(e){i.e(e)}finally{i.f()}this.observers.push(r)}},{key:"preventDefault",value:function(e){e.preventDefault()}},{key:"unfocusSearch",value:function(){var e=this.refs.searchInput.current;e&&e.blur()}},{key:"navigate",value:function(e){var t=this,n=e.e,r=e.input,i=e.left,a=e.right,o=e.up,s=e.down,u=this.state.searchResults||this.grid;if(u.length){var c=(0,_.A)(this.state.pos,2),l=c[0],d=c[1],p=function(){if(0==l&&0==d&&!n.repeat&&(i||o))return null;if(-1==l)return n.repeat||!a&&!s||r.selectionStart!=r.value.length?null:[0,0];if(i||a){var e=u[l],t=i?-1:1;if(!e[d+=t]){if(!(e=u[l+=t]))return l=i?0:u.length-1,d=i?0:u[l].length-1,[l,d];d=i?e.length-1:0}return[l,d]}if(o||s){var c=u[l+=o?-1:1];return c?(c[d]||(d=c.length-1),[l,d]):(l=o?0:u.length-1,d=o?0:u[l].length-1,[l,d])}}();p?(n.preventDefault(),this.setState({pos:p,keyboard:!0},(function(){t.scrollTo({row:p[0]})}))):this.state.pos[0]>-1&&this.setState({pos:[-1,-1]})}}},{key:"scrollTo",value:function(e){var t=e.categoryId,n=e.row,r=this.state.searchResults||this.grid;if(r.length){var i=this.refs.scroll.current,a=i.getBoundingClientRect(),o=0;if(n>=0&&(t=r[n].__categoryId),t)o=(this.refs[t]||this.refs.categories.get(t).root).current.getBoundingClientRect().top-(a.top-i.scrollTop)+1;if(n>=0)if(n){var s=o+r[n].__index*this.props.emojiButtonSize,u=s+this.props.emojiButtonSize+.88*this.props.emojiButtonSize;if(s<i.scrollTop)o=s;else{if(!(u>i.scrollTop+a.height))return;o=u-a.height}}else o=0;this.ignoreMouse(),i.scrollTop=o}}},{key:"ignoreMouse",value:function(){var e=this;this.mouseIsIgnored=!0,clearTimeout(this.ignoreMouseTimer),this.ignoreMouseTimer=setTimeout((function(){delete e.mouseIsIgnored}),100)}},{key:"handleEmojiOver",value:function(e){this.mouseIsIgnored||this.state.showSkins||this.setState({pos:e||[-1,-1],keyboard:!1})}},{key:"handleEmojiClick",value:function(e){var t=e.e,n=e.emoji,r=e.pos;if(this.props.onEmojiSelect&&(!n&&r&&(n=this.getEmojiByPos(r)),n)){var i=Lz(n,{skinIndex:this.state.skin-1});this.props.maxFrequentRows&&gz.add(i,this.props),this.props.onEmojiSelect(i,t)}}},{key:"closeSkins",value:function(){this.state.showSkins&&(this.setState({showSkins:null,tempSkin:null}),this.base.removeEventListener("click",this.handleBaseClick),this.base.removeEventListener("keydown",this.handleBaseKeydown))}},{key:"handleSkinMouseOver",value:function(e){this.setState({tempSkin:e})}},{key:"handleSkinClick",value:function(e){this.ignoreMouse(),this.closeSkins(),this.setState({skin:e,tempSkin:null}),uz.set("skin",e)}},{key:"renderNav",value:function(){return sz(kV,{ref:this.refs.navigation,icons:this.props.icons,theme:this.state.theme,dir:this.dir,unfocused:!!this.state.searchResults,position:this.props.navPosition,onClick:this.handleCategoryClick},this.navKey)}},{key:"renderPreview",value:function(){var e=this.getEmojiByPos(this.state.pos),t=this.state.searchResults&&!this.state.searchResults.length;return sz("div",{id:"preview","class":"flex flex-middle",dir:this.dir,"data-position":this.props.previewPosition,children:[sz("div",{"class":"flex flex-middle flex-grow",children:[sz("div",{"class":"flex flex-auto flex-middle flex-center",style:{height:this.props.emojiButtonSize,fontSize:this.props.emojiButtonSize},children:sz(Uz,{emoji:e,id:t?this.props.noResultsEmoji||"cry":this.props.previewEmoji||("top"==this.props.previewPosition?"point_down":"point_up"),set:this.props.set,size:this.props.emojiButtonSize,skin:this.state.tempSkin||this.state.skin,spritesheet:!0,getSpritesheetURL:this.props.getSpritesheetURL})}),sz("div",{"class":"margin-".concat(this.dir[0]),children:sz("div",e||t?{"class":"padding-".concat(this.dir[2]," align-").concat(this.dir[0]),children:[sz("div",{"class":"preview-title ellipsis",children:e?e.name:bz.search_no_results_1}),sz("div",{"class":"preview-subtitle ellipsis color-c",children:e?e.skins[0].shortcodes:bz.search_no_results_2})]}:{"class":"preview-placeholder color-c",children:bz.pick})})]}),!e&&"preview"==this.props.skinTonePosition&&this.renderSkinToneButton()]})}},{key:"renderEmojiButton",value:function(e,t){var n=this,r=t.pos,i=t.posinset,a=t.grid,o=this.props.emojiButtonSize,s=this.state.tempSkin||this.state.skin,u=(e.skins[s-1]||e.skins[0]).native,c=Rz(this.state.pos,r),l=r.concat(e.id).join("");return sz(CV,{selected:c,skin:s,size:o,children:sz("button",{"aria-label":u,"aria-selected":c||void 0,"aria-posinset":i,"aria-setsize":a.setsize,"data-keyboard":this.state.keyboard,title:"none"==this.props.previewPosition?e.name:void 0,type:"button","class":"flex flex-center flex-middle",tabindex:"-1",onClick:function(t){return n.handleEmojiClick({e:t,emoji:e})},onMouseEnter:function(){return n.handleEmojiOver(r)},onMouseLeave:function(){return n.handleEmojiOver()},style:{width:this.props.emojiButtonSize,height:this.props.emojiButtonSize,fontSize:this.props.emojiSize,lineHeight:0},children:[sz("div",{"aria-hidden":"true","class":"background",style:{borderRadius:this.props.emojiButtonRadius,backgroundColor:this.props.emojiButtonColors?this.props.emojiButtonColors[(i-1)%this.props.emojiButtonColors.length]:void 0}}),sz(Uz,{emoji:e,set:this.props.set,size:this.props.emojiSize,skin:s,spritesheet:!0,getSpritesheetURL:this.props.getSpritesheetURL})]})},l)}},{key:"renderSearch",value:function(){var e="none"==this.props.previewPosition||"search"==this.props.skinTonePosition;return sz("div",{children:[sz("div",{"class":"spacer"}),sz("div",{"class":"flex flex-middle",children:[sz("div",{"class":"search relative flex-grow",children:[sz("input",{type:"search",ref:this.refs.searchInput,placeholder:bz.search,onClick:this.handleSearchClick,onInput:this.handleSearchInput,onKeyDown:this.handleSearchKeyDown,autoComplete:"off"}),sz("span",{"class":"icon loupe flex",children:jz.search.loupe}),this.state.searchResults&&sz("button",{title:"Clear","aria-label":"Clear",type:"button","class":"icon delete flex",onClick:this.clearSearch,onMouseDown:this.preventDefault,children:jz.search.delete})]}),e&&this.renderSkinToneButton()]})]})}},{key:"renderSearchResults",value:function(){var e=this,t=this.state.searchResults;return t?sz("div",{"class":"category",ref:this.refs.search,children:[sz("div",{"class":"sticky padding-small align-".concat(this.dir[0]),children:bz.categories.search}),sz("div",{children:t.length?t.map((function(n,r){return sz("div",{"class":"flex",children:n.map((function(n,i){return e.renderEmojiButton(n,{pos:[r,i],posinset:r*e.props.perLine+i+1,grid:t})}))})})):sz("div",{"class":"padding-small align-".concat(this.dir[0]),children:this.props.onAddCustomEmoji&&sz("a",{onClick:this.props.onAddCustomEmoji,children:bz.add_custom})})})]}):null}},{key:"renderCategories",value:function(){var e=this,t=wz.categories,n=!!this.state.searchResults,r=this.getPerLine();return sz("div",{style:{visibility:n?"hidden":void 0,display:n?"none":void 0,height:"100%"},children:t.map((function(t){var n=e.refs.categories.get(t.id),i=n.root,a=n.rows;return sz("div",{"data-id":t.target?t.target.id:t.id,"class":"category",ref:i,children:[sz("div",{"class":"sticky padding-small align-".concat(e.dir[0]),children:t.name||bz.categories[t.id]}),sz("div",{"class":"relative",style:{height:a.length*e.props.emojiButtonSize},children:a.map((function(n,i){var a=n.index-n.index%_V,o=e.state.visibleRows[a],s="current"in n?n:void 0;if(!o&&!s)return null;var u=i*r,c=u+r,l=t.emojis.slice(u,c);return l.length<r&&l.push.apply(l,(0,z.A)(new Array(r-l.length))),sz("div",{"data-index":n.index,ref:s,"class":"flex row",style:{top:i*e.props.emojiButtonSize},children:o&&l.map((function(t,r){if(!t)return sz("div",{style:{width:e.props.emojiButtonSize,height:e.props.emojiButtonSize}});var i=Iz.get(t);return e.renderEmojiButton(i,{pos:[n.index,r],posinset:n.posinset+r,grid:e.grid})}))},n.index)}))})]})}))})}},{key:"renderSkinToneButton",value:function(){return"none"==this.props.skinTonePosition?null:sz("div",{"class":"flex flex-auto flex-center flex-middle",style:{position:"relative",width:this.props.emojiButtonSize,height:this.props.emojiButtonSize},children:sz("button",{type:"button",ref:this.refs.skinToneButton,"class":"skin-tone-button flex flex-auto flex-center flex-middle","aria-selected":this.state.showSkins?"":void 0,"aria-label":bz.skins.choose,title:bz.skins.choose,onClick:this.openSkins,style:{width:this.props.emojiSize,height:this.props.emojiSize},children:sz("span",{"class":"skin-tone skin-tone-".concat(this.state.skin)})})})}},{key:"renderLiveRegion",value:function(){var e=this.getEmojiByPos(this.state.pos);return sz("div",{"aria-live":"polite","class":"sr-only",children:e?e.name:""})}},{key:"renderSkins",value:function(){var e=this,t=this.refs.skinToneButton.current.getBoundingClientRect(),n=this.base.getBoundingClientRect(),r={};return"ltr"==this.dir?r.right=n.right-t.right-3:r.left=t.left-n.left-3,"bottom"==this.props.previewPosition&&"preview"==this.props.skinTonePosition?r.bottom=n.bottom-t.top+6:(r.top=t.bottom-n.top+3,r.bottom="auto"),sz("div",{ref:this.refs.menu,role:"radiogroup",dir:this.dir,"aria-label":bz.skins.choose,"class":"menu hidden","data-position":r.top?"top":"bottom",style:r,children:(0,z.A)(Array(6).keys()).map((function(t){var n=t+1,r=e.state.skin==n;return sz("div",{children:[sz("input",{type:"radio",name:"skin-tone",value:n,"aria-label":bz.skins[n],ref:r?e.refs.skinToneRadio:null,defaultChecked:r,onChange:function(){return e.handleSkinMouseOver(n)},onKeyDown:function(t){"Enter"!=t.code&&"Space"!=t.code&&"Tab"!=t.code||(t.preventDefault(),e.handleSkinClick(n))}}),sz("button",{"aria-hidden":"true",tabindex:"-1",onClick:function(){return e.handleSkinClick(n)},onMouseEnter:function(){return e.handleSkinMouseOver(n)},onMouseLeave:function(){return e.handleSkinMouseOver()},"class":"option flex flex-grow flex-middle",children:[sz("span",{"class":"skin-tone skin-tone-".concat(n)}),sz("span",{"class":"margin-small-lr",children:bz.skins[n]})]})]})}))})}},{key:"render",value:function(){var e=this.props.perLine*this.props.emojiButtonSize;return sz("section",{id:"root","class":"flex flex-column",dir:this.dir,style:{width:this.props.dynamicWidth?"100%":"calc(".concat(e,"px + (var(--padding) + var(--sidebar-width)))")},"data-emoji-set":this.props.set,"data-theme":this.state.theme,"data-menu":this.state.showSkins?"":void 0,children:["top"==this.props.previewPosition&&this.renderPreview(),"top"==this.props.navPosition&&this.renderNav(),"sticky"==this.props.searchPosition&&sz("div",{"class":"padding-lr",children:this.renderSearch()}),sz("div",{ref:this.refs.scroll,"class":"scroll flex-grow padding-lr",children:sz("div",{style:{width:this.props.dynamicWidth?"100%":e,height:"100%"},children:["static"==this.props.searchPosition&&this.renderSearch(),this.renderSearchResults(),this.renderCategories()]})}),"bottom"==this.props.navPosition&&this.renderNav(),"bottom"==this.props.previewPosition&&this.renderPreview(),this.state.showSkins&&this.renderSkins(),this.renderLiveRegion()]})}}]);var n}(zU),SV=function(e){function t(e){return(0,p.A)(this,t),DU(this,t,[e,{styles:CU(BV)}])}return(0,T.A)(t,e),(0,f.A)(t,[{key:"connectedCallback",value:(n=(0,o.A)(u().mark((function e(){var t,n=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=Tz(this.props,yz,this)).element=this,t.ref=function(e){n.component=e},e.next=5,xz(t);case 5:if(!this.disconnected){e.next=7;break}return e.abrupt("return");case 7:az(sz(xV,wU({},t)),this.shadowRoot);case 8:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})}]);var n}(Vz);_U(SV,"Props",yz),"undefined"==typeof customElements||customElements.get("em-emoji-picker")||customElements.define("em-emoji-picker",SV);var TV,FV,OV,PV,IV,BV={};function RV(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 16 16","fill":"currentColor"},"child":[{"tag":"path","attr":{"fillRule":"evenodd","clipRule":"evenodd","d":"M8 8.707l3.646 3.647.708-.707L8.707 8l3.647-3.646-.707-.708L8 7.293 4.354 3.646l-.707.708L7.293 8l-3.646 3.646.707.708L8 8.707z"}}]})(e)}function NV(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 16 16","fill":"currentColor"},"child":[{"tag":"path","attr":{"fillRule":"evenodd","clipRule":"evenodd","d":"M8.6 1c1.6.1 3.1.9 4.2 2 1.3 1.4 2 3.1 2 5.1 0 1.6-.6 3.1-1.6 4.4-1 1.2-2.4 2.1-4 2.4-1.6.3-3.2.1-4.6-.7-1.4-.8-2.5-2-3.1-3.5C.9 9.2.8 7.5 1.3 6c.5-1.6 1.4-2.9 2.8-3.8C5.4 1.3 7 .9 8.6 1zm.5 12.9c1.3-.3 2.5-1 3.4-2.1.8-1.1 1.3-2.4 1.2-3.8 0-1.6-.6-3.2-1.7-4.3-1-1-2.2-1.6-3.6-1.7-1.3-.1-2.7.2-3.8 1-1.1.8-1.9 1.9-2.3 3.3-.4 1.3-.4 2.7.2 4 .6 1.3 1.5 2.3 2.7 3 1.2.7 2.6.9 3.9.6zM7.9 7.5L10.3 5l.7.7-2.4 2.5 2.4 2.5-.7.7-2.4-2.5-2.4 2.5-.7-.7 2.4-2.5-2.4-2.5.7-.7 2.4 2.5z"}}]})(e)}function MV(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 16 16","fill":"currentColor"},"child":[{"tag":"path","attr":{"fillRule":"evenodd","clipRule":"evenodd","d":"M13.507 12.324a7 7 0 0 0 .065-8.56A7 7 0 0 0 2 4.393V2H1v3.5l.5.5H5V5H2.811a6.008 6.008 0 1 1-.135 5.77l-.887.462a7 7 0 0 0 11.718 1.092zm-3.361-.97l.708-.707L8 7.792V4H7v4l.146.354 3 3z"}}]})(e)}function LV(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 24 24","fill":"currentColor"},"child":[{"tag":"path","attr":{"d":"M15.25 0a8.25 8.25 0 0 0-6.18 13.72L1 22.88l1.12 1 8.05-9.12A8.251 8.251 0 1 0 15.25.01V0zm0 15a6.75 6.75 0 1 1 0-13.5 6.75 6.75 0 0 1 0 13.5z"}}]})(e)}function jV(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 16 16","fill":"currentColor"},"child":[{"tag":"path","attr":{"fillRule":"evenodd","clipRule":"evenodd","d":"M4.111 2.18a7 7 0 1 1 7.778 11.64A7 7 0 0 1 4.11 2.18zm.556 10.809a6 6 0 1 0 6.666-9.978 6 6 0 0 0-6.666 9.978zM6.5 7a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm5 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zM8 11a3 3 0 0 1-2.65-1.58l-.87.48a4 4 0 0 0 7.12-.16l-.9-.43A3 3 0 0 1 8 11z"}}]})(e)}BV=':host {\n  width: min-content;\n  height: 435px;\n  min-height: 230px;\n  border-radius: var(--border-radius);\n  box-shadow: var(--shadow);\n  --border-radius: 10px;\n  --category-icon-size: 18px;\n  --font-family: -apple-system, BlinkMacSystemFont, "Helvetica Neue", sans-serif;\n  --font-size: 15px;\n  --preview-placeholder-size: 21px;\n  --preview-title-size: 1.1em;\n  --preview-subtitle-size: .9em;\n  --shadow-color: 0deg 0% 0%;\n  --shadow: .3px .5px 2.7px hsl(var(--shadow-color) / .14), .4px .8px 1px -3.2px hsl(var(--shadow-color) / .14), 1px 2px 2.5px -4.5px hsl(var(--shadow-color) / .14);\n  display: flex;\n}\n\n[data-theme="light"] {\n  --em-rgb-color: var(--rgb-color, 34, 36, 39);\n  --em-rgb-accent: var(--rgb-accent, 34, 102, 237);\n  --em-rgb-background: var(--rgb-background, 255, 255, 255);\n  --em-rgb-input: var(--rgb-input, 255, 255, 255);\n  --em-color-border: var(--color-border, rgba(0, 0, 0, .05));\n  --em-color-border-over: var(--color-border-over, rgba(0, 0, 0, .1));\n}\n\n[data-theme="dark"] {\n  --em-rgb-color: var(--rgb-color, 222, 222, 221);\n  --em-rgb-accent: var(--rgb-accent, 58, 130, 247);\n  --em-rgb-background: var(--rgb-background, 21, 22, 23);\n  --em-rgb-input: var(--rgb-input, 0, 0, 0);\n  --em-color-border: var(--color-border, rgba(255, 255, 255, .1));\n  --em-color-border-over: var(--color-border-over, rgba(255, 255, 255, .2));\n}\n\n#root {\n  --color-a: rgb(var(--em-rgb-color));\n  --color-b: rgba(var(--em-rgb-color), .65);\n  --color-c: rgba(var(--em-rgb-color), .45);\n  --padding: 12px;\n  --padding-small: calc(var(--padding) / 2);\n  --sidebar-width: 16px;\n  --duration: 225ms;\n  --duration-fast: 125ms;\n  --duration-instant: 50ms;\n  --easing: cubic-bezier(.4, 0, .2, 1);\n  width: 100%;\n  text-align: left;\n  border-radius: var(--border-radius);\n  background-color: rgb(var(--em-rgb-background));\n  position: relative;\n}\n\n@media (prefers-reduced-motion) {\n  #root {\n    --duration: 0;\n    --duration-fast: 0;\n    --duration-instant: 0;\n  }\n}\n\n#root[data-menu] button {\n  cursor: auto;\n}\n\n#root[data-menu] .menu button {\n  cursor: pointer;\n}\n\n:host, #root, input, button {\n  color: rgb(var(--em-rgb-color));\n  font-family: var(--font-family);\n  font-size: var(--font-size);\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  line-height: normal;\n}\n\n*, :before, :after {\n  box-sizing: border-box;\n  min-width: 0;\n  margin: 0;\n  padding: 0;\n}\n\n.relative {\n  position: relative;\n}\n\n.flex {\n  display: flex;\n}\n\n.flex-auto {\n  flex: none;\n}\n\n.flex-center {\n  justify-content: center;\n}\n\n.flex-column {\n  flex-direction: column;\n}\n\n.flex-grow {\n  flex: auto;\n}\n\n.flex-middle {\n  align-items: center;\n}\n\n.flex-wrap {\n  flex-wrap: wrap;\n}\n\n.padding {\n  padding: var(--padding);\n}\n\n.padding-t {\n  padding-top: var(--padding);\n}\n\n.padding-lr {\n  padding-left: var(--padding);\n  padding-right: var(--padding);\n}\n\n.padding-r {\n  padding-right: var(--padding);\n}\n\n.padding-small {\n  padding: var(--padding-small);\n}\n\n.padding-small-b {\n  padding-bottom: var(--padding-small);\n}\n\n.padding-small-lr {\n  padding-left: var(--padding-small);\n  padding-right: var(--padding-small);\n}\n\n.margin {\n  margin: var(--padding);\n}\n\n.margin-r {\n  margin-right: var(--padding);\n}\n\n.margin-l {\n  margin-left: var(--padding);\n}\n\n.margin-small-l {\n  margin-left: var(--padding-small);\n}\n\n.margin-small-lr {\n  margin-left: var(--padding-small);\n  margin-right: var(--padding-small);\n}\n\n.align-l {\n  text-align: left;\n}\n\n.align-r {\n  text-align: right;\n}\n\n.color-a {\n  color: var(--color-a);\n}\n\n.color-b {\n  color: var(--color-b);\n}\n\n.color-c {\n  color: var(--color-c);\n}\n\n.ellipsis {\n  white-space: nowrap;\n  max-width: 100%;\n  width: auto;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n\n.sr-only {\n  width: 1px;\n  height: 1px;\n  position: absolute;\n  top: auto;\n  left: -10000px;\n  overflow: hidden;\n}\n\na {\n  cursor: pointer;\n  color: rgb(var(--em-rgb-accent));\n}\n\na:hover {\n  text-decoration: underline;\n}\n\n.spacer {\n  height: 10px;\n}\n\n[dir="rtl"] .scroll {\n  padding-left: 0;\n  padding-right: var(--padding);\n}\n\n.scroll {\n  padding-right: 0;\n  overflow-x: hidden;\n  overflow-y: auto;\n}\n\n.scroll::-webkit-scrollbar {\n  width: var(--sidebar-width);\n  height: var(--sidebar-width);\n}\n\n.scroll::-webkit-scrollbar-track {\n  border: 0;\n}\n\n.scroll::-webkit-scrollbar-button {\n  width: 0;\n  height: 0;\n  display: none;\n}\n\n.scroll::-webkit-scrollbar-corner {\n  background-color: rgba(0, 0, 0, 0);\n}\n\n.scroll::-webkit-scrollbar-thumb {\n  min-height: 20%;\n  min-height: 65px;\n  border: 4px solid rgb(var(--em-rgb-background));\n  border-radius: 8px;\n}\n\n.scroll::-webkit-scrollbar-thumb:hover {\n  background-color: var(--em-color-border-over) !important;\n}\n\n.scroll:hover::-webkit-scrollbar-thumb {\n  background-color: var(--em-color-border);\n}\n\n.sticky {\n  z-index: 1;\n  background-color: rgba(var(--em-rgb-background), .9);\n  -webkit-backdrop-filter: blur(4px);\n  backdrop-filter: blur(4px);\n  font-weight: 500;\n  position: sticky;\n  top: -1px;\n}\n\n[dir="rtl"] .search input[type="search"] {\n  padding: 10px 2.2em 10px 2em;\n}\n\n[dir="rtl"] .search .loupe {\n  left: auto;\n  right: .7em;\n}\n\n[dir="rtl"] .search .delete {\n  left: .7em;\n  right: auto;\n}\n\n.search {\n  z-index: 2;\n  position: relative;\n}\n\n.search input, .search button {\n  font-size: calc(var(--font-size)  - 1px);\n}\n\n.search input[type="search"] {\n  width: 100%;\n  background-color: var(--em-color-border);\n  transition-duration: var(--duration);\n  transition-property: background-color, box-shadow;\n  transition-timing-function: var(--easing);\n  border: 0;\n  border-radius: 10px;\n  outline: 0;\n  padding: 10px 2em 10px 2.2em;\n  display: block;\n}\n\n.search input[type="search"]::-ms-input-placeholder {\n  color: inherit;\n  opacity: .6;\n}\n\n.search input[type="search"]::placeholder {\n  color: inherit;\n  opacity: .6;\n}\n\n.search input[type="search"], .search input[type="search"]::-webkit-search-decoration, .search input[type="search"]::-webkit-search-cancel-button, .search input[type="search"]::-webkit-search-results-button, .search input[type="search"]::-webkit-search-results-decoration {\n  -webkit-appearance: none;\n  -ms-appearance: none;\n  appearance: none;\n}\n\n.search input[type="search"]:focus {\n  background-color: rgb(var(--em-rgb-input));\n  box-shadow: inset 0 0 0 1px rgb(var(--em-rgb-accent)), 0 1px 3px rgba(65, 69, 73, .2);\n}\n\n.search .icon {\n  z-index: 1;\n  color: rgba(var(--em-rgb-color), .7);\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n}\n\n.search .loupe {\n  pointer-events: none;\n  left: .7em;\n}\n\n.search .delete {\n  right: .7em;\n}\n\nsvg {\n  fill: currentColor;\n  width: 1em;\n  height: 1em;\n}\n\nbutton {\n  -webkit-appearance: none;\n  -ms-appearance: none;\n  appearance: none;\n  cursor: pointer;\n  color: currentColor;\n  background-color: rgba(0, 0, 0, 0);\n  border: 0;\n}\n\n#nav {\n  z-index: 2;\n  padding-top: 12px;\n  padding-bottom: 12px;\n  padding-right: var(--sidebar-width);\n  position: relative;\n}\n\n#nav button {\n  color: var(--color-b);\n  transition: color var(--duration) var(--easing);\n}\n\n#nav button:hover {\n  color: var(--color-a);\n}\n\n#nav svg, #nav img {\n  width: var(--category-icon-size);\n  height: var(--category-icon-size);\n}\n\n#nav[dir="rtl"] .bar {\n  left: auto;\n  right: 0;\n}\n\n#nav .bar {\n  width: 100%;\n  height: 3px;\n  background-color: rgb(var(--em-rgb-accent));\n  transition: transform var(--duration) var(--easing);\n  border-radius: 3px 3px 0 0;\n  position: absolute;\n  bottom: -12px;\n  left: 0;\n}\n\n#nav button[aria-selected] {\n  color: rgb(var(--em-rgb-accent));\n}\n\n#preview {\n  z-index: 2;\n  padding: calc(var(--padding)  + 4px) var(--padding);\n  padding-right: var(--sidebar-width);\n  position: relative;\n}\n\n#preview .preview-placeholder {\n  font-size: var(--preview-placeholder-size);\n}\n\n#preview .preview-title {\n  font-size: var(--preview-title-size);\n}\n\n#preview .preview-subtitle {\n  font-size: var(--preview-subtitle-size);\n}\n\n#nav:before, #preview:before {\n  content: "";\n  height: 2px;\n  position: absolute;\n  left: 0;\n  right: 0;\n}\n\n#nav[data-position="top"]:before, #preview[data-position="top"]:before {\n  background: linear-gradient(to bottom, var(--em-color-border), transparent);\n  top: 100%;\n}\n\n#nav[data-position="bottom"]:before, #preview[data-position="bottom"]:before {\n  background: linear-gradient(to top, var(--em-color-border), transparent);\n  bottom: 100%;\n}\n\n.category:last-child {\n  min-height: calc(100% + 1px);\n}\n\n.category button {\n  font-family: -apple-system, BlinkMacSystemFont, Helvetica Neue, sans-serif;\n  position: relative;\n}\n\n.category button > * {\n  position: relative;\n}\n\n.category button .background {\n  opacity: 0;\n  background-color: var(--em-color-border);\n  transition: opacity var(--duration-fast) var(--easing) var(--duration-instant);\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}\n\n.category button:hover .background {\n  transition-duration: var(--duration-instant);\n  transition-delay: 0s;\n}\n\n.category button[aria-selected] .background {\n  opacity: 1;\n}\n\n.category button[data-keyboard] .background {\n  transition: none;\n}\n\n.row {\n  width: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n\n.skin-tone-button {\n  border: 1px solid rgba(0, 0, 0, 0);\n  border-radius: 100%;\n}\n\n.skin-tone-button:hover {\n  border-color: var(--em-color-border);\n}\n\n.skin-tone-button:active .skin-tone {\n  transform: scale(.85) !important;\n}\n\n.skin-tone-button .skin-tone {\n  transition: transform var(--duration) var(--easing);\n}\n\n.skin-tone-button[aria-selected] {\n  background-color: var(--em-color-border);\n  border-top-color: rgba(0, 0, 0, .05);\n  border-bottom-color: rgba(0, 0, 0, 0);\n  border-left-width: 0;\n  border-right-width: 0;\n}\n\n.skin-tone-button[aria-selected] .skin-tone {\n  transform: scale(.9);\n}\n\n.menu {\n  z-index: 2;\n  white-space: nowrap;\n  border: 1px solid var(--em-color-border);\n  background-color: rgba(var(--em-rgb-background), .9);\n  -webkit-backdrop-filter: blur(4px);\n  backdrop-filter: blur(4px);\n  transition-property: opacity, transform;\n  transition-duration: var(--duration);\n  transition-timing-function: var(--easing);\n  border-radius: 10px;\n  padding: 4px;\n  position: absolute;\n  box-shadow: 1px 1px 5px rgba(0, 0, 0, .05);\n}\n\n.menu.hidden {\n  opacity: 0;\n}\n\n.menu[data-position="bottom"] {\n  transform-origin: 100% 100%;\n}\n\n.menu[data-position="bottom"].hidden {\n  transform: scale(.9)rotate(-3deg)translateY(5%);\n}\n\n.menu[data-position="top"] {\n  transform-origin: 100% 0;\n}\n\n.menu[data-position="top"].hidden {\n  transform: scale(.9)rotate(3deg)translateY(-5%);\n}\n\n.menu input[type="radio"] {\n  clip: rect(0 0 0 0);\n  width: 1px;\n  height: 1px;\n  border: 0;\n  margin: 0;\n  padding: 0;\n  position: absolute;\n  overflow: hidden;\n}\n\n.menu input[type="radio"]:checked + .option {\n  box-shadow: 0 0 0 2px rgb(var(--em-rgb-accent));\n}\n\n.option {\n  width: 100%;\n  border-radius: 6px;\n  padding: 4px 6px;\n}\n\n.option:hover {\n  color: #fff;\n  background-color: rgb(var(--em-rgb-accent));\n}\n\n.skin-tone {\n  width: 16px;\n  height: 16px;\n  border-radius: 100%;\n  display: inline-block;\n  position: relative;\n  overflow: hidden;\n}\n\n.skin-tone:after {\n  content: "";\n  mix-blend-mode: overlay;\n  background: linear-gradient(rgba(255, 255, 255, .2), rgba(0, 0, 0, 0));\n  border: 1px solid rgba(0, 0, 0, .8);\n  border-radius: 100%;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  box-shadow: inset 0 -2px 3px #000, inset 0 1px 2px #fff;\n}\n\n.skin-tone-1 {\n  background-color: #ffc93a;\n}\n\n.skin-tone-2 {\n  background-color: #ffdab7;\n}\n\n.skin-tone-3 {\n  background-color: #e7b98f;\n}\n\n.skin-tone-4 {\n  background-color: #c88c61;\n}\n\n.skin-tone-5 {\n  background-color: #a46134;\n}\n\n.skin-tone-6 {\n  background-color: #5d4437;\n}\n\n[data-index] {\n  justify-content: space-between;\n}\n\n[data-emoji-set="twitter"] .skin-tone:after {\n  box-shadow: none;\n  border-color: rgba(0, 0, 0, .5);\n}\n\n[data-emoji-set="twitter"] .skin-tone-1 {\n  background-color: #fade72;\n}\n\n[data-emoji-set="twitter"] .skin-tone-2 {\n  background-color: #f3dfd0;\n}\n\n[data-emoji-set="twitter"] .skin-tone-3 {\n  background-color: #eed3a8;\n}\n\n[data-emoji-set="twitter"] .skin-tone-4 {\n  background-color: #cfad8d;\n}\n\n[data-emoji-set="twitter"] .skin-tone-5 {\n  background-color: #a8805d;\n}\n\n[data-emoji-set="twitter"] .skin-tone-6 {\n  background-color: #765542;\n}\n\n[data-emoji-set="google"] .skin-tone:after {\n  box-shadow: inset 0 0 2px 2px rgba(0, 0, 0, .4);\n}\n\n[data-emoji-set="google"] .skin-tone-1 {\n  background-color: #f5c748;\n}\n\n[data-emoji-set="google"] .skin-tone-2 {\n  background-color: #f1d5aa;\n}\n\n[data-emoji-set="google"] .skin-tone-3 {\n  background-color: #d4b48d;\n}\n\n[data-emoji-set="google"] .skin-tone-4 {\n  background-color: #aa876b;\n}\n\n[data-emoji-set="google"] .skin-tone-5 {\n  background-color: #916544;\n}\n\n[data-emoji-set="google"] .skin-tone-6 {\n  background-color: #61493f;\n}\n\n[data-emoji-set="facebook"] .skin-tone:after {\n  border-color: rgba(0, 0, 0, .4);\n  box-shadow: inset 0 -2px 3px #000, inset 0 1px 4px #fff;\n}\n\n[data-emoji-set="facebook"] .skin-tone-1 {\n  background-color: #f5c748;\n}\n\n[data-emoji-set="facebook"] .skin-tone-2 {\n  background-color: #f1d5aa;\n}\n\n[data-emoji-set="facebook"] .skin-tone-3 {\n  background-color: #d4b48d;\n}\n\n[data-emoji-set="facebook"] .skin-tone-4 {\n  background-color: #aa876b;\n}\n\n[data-emoji-set="facebook"] .skin-tone-5 {\n  background-color: #916544;\n}\n\n[data-emoji-set="facebook"] .skin-tone-6 {\n  background-color: #61493f;\n}\n\n';var UV=null;function zV(){return VV.apply(this,arguments)}function VV(){return VV=(0,o.A)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!UV){e.next=2;break}return e.abrupt("return",UV);case 2:if(!IV){e.next=4;break}return e.abrupt("return",IV);case 4:return TV=window.Better_Messages.restUrl,FV=window.Better_Messages.emojiHash,OV=window.Better_Messages.sprite,PV=window.Better_Messages.emojiSet,UV=(0,o.A)(u().mark((function e(){var t,n,r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=TV+"getEmojiData",e.next=3,Wy("emojies-data");case 3:if((n=e.sent)&&(n.hash!==FV&&(n=null),n&&n.set!==PV&&(n=null)),n){e.next=27;break}return e.prev=6,e.next=9,Cs.get(t);case 9:return r=e.sent,i=r.data,$y("emojies-data",structuredClone({data:i,hash:FV,set:PV})),e.next=14,xz(structuredClone({data:i,set:PV}));case 14:return IV=structuredClone(wz),Kg(document,"better-message-settings-changed"),e.abrupt("return",IV);case 19:e.prev=19,e.t0=e.catch(6),console.error(e.t0);case 22:return e.prev=22,UV=null,e.finish(22);case 25:e.next=32;break;case 27:return e.next=29,xz(structuredClone({data:n.data,set:n.set}));case 29:return IV=structuredClone(wz),Kg(document,"better-message-settings-changed"),e.abrupt("return",IV);case 32:case"end":return e.stop()}}),e,null,[[6,19,22,25]])})))(),e.abrupt("return",UV);case 10:case"end":return e.stop()}}),e)}))),VV.apply(this,arguments)}function qV(e){var t=IV,n=t.natives[e],r=t.emojis[n];if(!r)return e;var i=r.skins.filter((function(t){return t.native===e}));return{emoji:i=i.length>0?i[0]:r.skins[0],sheet:t.sheet}}function HV(e){var t=IV;if(!t||!t.natives)return null;var n=t.natives[e.emoji],r=t.emojis[n];if(!r)return c.createElement(c.Fragment,null,e.emoji," ");var i=r.skins.filter((function(t){return t.native===e.emoji}));i=i.length>0?i[0]:r.skins[0];var a=Hie("better_messages_emoji_important",!0);return c.createElement("img",{ref:function(t){t&&e.useImportant&&a&&(t.style.setProperty("width",e.size+"px","important"),t.style.setProperty("height",e.size+"px","important"))},alt:e.emoji,draggable:!1,src:"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",className:"bm-emoji-img",style:{display:"inline-block",verticalAlign:"middle",width:e.size+"px",height:e.size+"px",backgroundImage:"url("+OV+")",backgroundSize:100*t.sheet.cols+"% "+100*t.sheet.rows+"%",backgroundPosition:100/(t.sheet.cols-1)*i.x+"% "+100/(t.sheet.rows-1)*i.y+"%"}})}function WV(e,t){var n=qV(t),r=window.getSelection();if(r&&r.rangeCount){var i=r.getRangeAt(0),a=Hie("better_messages_emoji_important",!0)?"!important":"",o="width: 20px "+a+";height: 20px "+a+";",s=document.createElement("img");s.className="bm-inline-emoji",s.alt=t,s.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=","number"==typeof n.emoji.x&&"number"==typeof n.emoji.y?s.setAttribute("style",o+"background-image: url('"+OV+" '); vertical-align: middle; background-size: "+100*n.sheet.cols+"% "+100*n.sheet.rows+"%; background-position: "+100/(n.sheet.cols-1)*n.emoji.x+"% "+100/(n.sheet.rows-1)*n.emoji.y+"%"):n.emoji.src&&(s.setAttribute("style",o+"background-image: url('"+n.emoji.src+"'); vertical-align: middle; background-size: contain;background-position: center;background-repeat: no-repeat;"),s.setAttribute("alt",n.emoji.shortcodes)),i.insertNode(s);var u=document.createRange();u.setStartAfter(s),r.removeAllRanges(),r.addRange(u),e.dispatchEvent(new CustomEvent("better-messages-changed"))}}function KV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?KV(Object(n),!0).forEach((function(t){(0,h.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function GV(e){var t=(0,c.useState)(!1),n=(0,_.A)(t,2),r=n[0],i=n[1],a=e.editor,o=WF({placement:"top",transform:!1,open:r,onOpenChange:i,middleware:[YT(5-tP()),ZT(),XT({padding:8})],whileElementsMounted:UT}),s=(o.x,o.y,o.refs),u=o.floatingStyles,l=o.context,d=ZF([eO(l,{role:"menu"}),HF(l)]),p=d.getReferenceProps,f=d.getFloatingProps;return c.createElement(c.Fragment,null,c.createElement("div",cy({className:"bm-emojies",ref:s.setReference},p(),{onMouseDown:function(e){e.preventDefault()},onClick:function(){i(!r)}}),!r&&c.createElement(jV,null),r&&c.createElement(NV,null)),r&&c.createElement(MF,null,c.createElement(Ix.div,cy({ref:s.setFloating,className:"bm-emoji-picker-container",initial:{opacity:0,y:"20px"},animate:{opacity:1,y:"0%"},exit:{opacity:0,y:"20px"},transition:{duration:.2},style:u},f()),c.createElement(QV,{onEmojiSelect:function(e){!function(e,t){rb(e),WV(nb(e),t)}(a,e.native)}}))))}function QV(e){var t=(0,c.useRef)(null);return(0,c.useEffect)((function(){zV().then((function(n){new SV($V($V({},e),{},{data:n,getSpritesheetURL:function(){return OV},i18n:{"search":Mie("Search","Emoji Picker","bp-better-messages"),"search_no_results_1":Mie("Oh no!","Emoji Picker","bp-better-messages"),"search_no_results_2":Mie("That emoji couldnt be found","Emoji Picker","bp-better-messages"),"pick":Mie("Pick an emoji","Emoji Picker","bp-better-messages"),"categories":{"activity":Mie("Activity","Emoji Picker","bp-better-messages"),"flags":Mie("Flags","Emoji Picker","bp-better-messages"),"foods":Mie("Food & Drink","Emoji Picker","bp-better-messages"),"frequent":Mie("Frequently used","Emoji Picker","bp-better-messages"),"nature":Mie("Animals & Nature","Emoji Picker","bp-better-messages"),"objects":Mie("Objects","Emoji Picker","bp-better-messages"),"people":Mie("Smileys & People","Emoji Picker","bp-better-messages"),"places":Mie("Travel & Places","Emoji Picker","bp-better-messages"),"search":Mie("Search Results","Emoji Picker","bp-better-messages"),"symbols":Mie("Symbols","Emoji Picker","bp-better-messages")},"skins":{"choose":Mie("Choose default skin tone","Emoji Picker","bp-better-messages"),1:Mie("Default","Emoji Picker","bp-better-messages"),2:Mie("Light","Emoji Picker","bp-better-messages"),3:Mie("Medium-Light","Emoji Picker","bp-better-messages"),4:Mie("Medium","Emoji Picker","bp-better-messages"),5:Mie("Medium-Dark","Emoji Picker","bp-better-messages"),6:Mie("Dark","Emoji Picker","bp-better-messages")}},theme:"light",set:PV,ref:t}))}))}),[]),c.createElement("div",{ref:t})}const YV=function(e){var t=(0,c.useState)(e),n=(0,_.A)(t,2),r=n[0],i=n[1],a=(0,c.useRef)(r);return[r,(0,c.useCallback)((function(e){a.current=function(e){return"function"==typeof e}(e)?e(a.current):e,i(a.current)}),[]),a]};const XV=function(){this.__data__=[],this.size=0};const ZV=function(e,t){return e===t||e!=e&&t!=t};const JV=function(e,t){for(var n=e.length;n--;)if(ZV(e[n][0],t))return n;return-1};var eq=Array.prototype.splice;const tq=function(e){var t=this.__data__,n=JV(t,e);return!(n<0)&&(n==t.length-1?t.pop():eq.call(t,n,1),--this.size,!0)};const nq=function(e){var t=this.__data__,n=JV(t,e);return n<0?void 0:t[n][1]};const rq=function(e){return JV(this.__data__,e)>-1};const iq=function(e,t){var n=this.__data__,r=JV(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function aq(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}aq.prototype.clear=XV,aq.prototype.delete=tq,aq.prototype.get=nq,aq.prototype.has=rq,aq.prototype.set=iq;const oq=aq;const sq=function(){this.__data__=new oq,this.size=0};const uq=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};const cq=function(e){return this.__data__.get(e)};const lq=function(e){return this.__data__.has(e)};const dq="object"==("undefined"==typeof global?"undefined":(0,C.A)(global))&&global&&global.Object===Object&&global;var pq="object"==("undefined"==typeof self?"undefined":(0,C.A)(self))&&self&&self.Object===Object&&self;const fq=dq||pq||Function("return this")();const hq=fq.Symbol;var mq=Object.prototype,vq=mq.hasOwnProperty,gq=mq.toString,yq=hq?hq.toStringTag:void 0;const bq=function(e){var t=vq.call(e,yq),n=e[yq];try{e[yq]=void 0;var r=!0}catch(e){}var i=gq.call(e);return r&&(t?e[yq]=n:delete e[yq]),i};var wq=Object.prototype.toString;const Dq=function(e){return wq.call(e)};var Aq=hq?hq.toStringTag:void 0;const Eq=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Aq&&Aq in Object(e)?bq(e):Dq(e)};const kq=function(e){var t=(0,C.A)(e);return null!=e&&("object"==t||"function"==t)};const Cq=function(e){if(!kq(e))return!1;var t=Eq(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t};const _q=fq["__core-js_shared__"];var xq,Sq=(xq=/[^.]+$/.exec(_q&&_q.keys&&_q.keys.IE_PROTO||""))?"Symbol(src)_1."+xq:"";const Tq=function(e){return!!Sq&&Sq in e};var Fq=Function.prototype.toString;const Oq=function(e){if(null!=e){try{return Fq.call(e)}catch(e){}try{return e+""}catch(e){}}return""};var Pq=/^\[object .+?Constructor\]$/,Iq=Function.prototype,Bq=Object.prototype,Rq=Iq.toString,Nq=Bq.hasOwnProperty,Mq=RegExp("^"+Rq.call(Nq).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Lq=function(e){return!(!kq(e)||Tq(e))&&(Cq(e)?Mq:Pq).test(Oq(e))};const jq=function(e,t){return null==e?void 0:e[t]};const Uq=function(e,t){var n=jq(e,t);return Lq(n)?n:void 0};const zq=Uq(fq,"Map");const Vq=Uq(Object,"create");const qq=function(){this.__data__=Vq?Vq(null):{},this.size=0};const Hq=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t};var Wq=Object.prototype.hasOwnProperty;const Kq=function(e){var t=this.__data__;if(Vq){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Wq.call(t,e)?t[e]:void 0};var $q=Object.prototype.hasOwnProperty;const Gq=function(e){var t=this.__data__;return Vq?void 0!==t[e]:$q.call(t,e)};const Qq=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Vq&&void 0===t?"__lodash_hash_undefined__":t,this};function Yq(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Yq.prototype.clear=qq,Yq.prototype.delete=Hq,Yq.prototype.get=Kq,Yq.prototype.has=Gq,Yq.prototype.set=Qq;const Xq=Yq;const Zq=function(){this.size=0,this.__data__={"hash":new Xq,"map":new(zq||oq),"string":new Xq}};const Jq=function(e){var t=(0,C.A)(e);return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};const eH=function(e,t){var n=e.__data__;return Jq(t)?n["string"==typeof t?"string":"hash"]:n.map};const tH=function(e){var t=eH(this,e).delete(e);return this.size-=t?1:0,t};const nH=function(e){return eH(this,e).get(e)};const rH=function(e){return eH(this,e).has(e)};const iH=function(e,t){var n=eH(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function aH(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}aH.prototype.clear=Zq,aH.prototype.delete=tH,aH.prototype.get=nH,aH.prototype.has=rH,aH.prototype.set=iH;const oH=aH;const sH=function(e,t){var n=this.__data__;if(n instanceof oq){var r=n.__data__;if(!zq||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new oH(r)}return n.set(e,t),this.size=n.size,this};function uH(e){var t=this.__data__=new oq(e);this.size=t.size}uH.prototype.clear=sq,uH.prototype.delete=uq,uH.prototype.get=cq,uH.prototype.has=lq,uH.prototype.set=sH;const cH=uH;const lH=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};const dH=function(e){return this.__data__.has(e)};function pH(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new oH;++t<n;)this.add(e[t])}pH.prototype.add=pH.prototype.push=lH,pH.prototype.has=dH;const fH=pH;const hH=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1};const mH=function(e,t){return e.has(t)};const vH=function(e,t,n,r,i,a){var o=1&n,s=e.length,u=t.length;if(s!=u&&!(o&&u>s))return!1;var c=a.get(e),l=a.get(t);if(c&&l)return c==t&&l==e;var d=-1,p=!0,f=2&n?new fH:void 0;for(a.set(e,t),a.set(t,e);++d<s;){var h=e[d],m=t[d];if(r)var v=o?r(m,h,d,t,e,a):r(h,m,d,e,t,a);if(void 0!==v){if(v)continue;p=!1;break}if(f){if(!hH(t,(function(e,t){if(!mH(f,t)&&(h===e||i(h,e,n,r,a)))return f.push(t)}))){p=!1;break}}else if(h!==m&&!i(h,m,n,r,a)){p=!1;break}}return a.delete(e),a.delete(t),p};const gH=fq.Uint8Array;const yH=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n};const bH=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n};var wH=hq?hq.prototype:void 0,DH=wH?wH.valueOf:void 0;const AH=function(e,t,n,r,i,a,o){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!a(new gH(e),new gH(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return ZV(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=yH;case"[object Set]":var u=1&r;if(s||(s=bH),e.size!=t.size&&!u)return!1;var c=o.get(e);if(c)return c==t;r|=2,o.set(e,t);var l=vH(s(e),s(t),r,i,a,o);return o.delete(e),l;case"[object Symbol]":if(DH)return DH.call(e)==DH.call(t)}return!1};const EH=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e};const kH=Array.isArray;const CH=function(e,t,n){var r=t(e);return kH(e)?r:EH(r,n(e))};const _H=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a};const xH=function(){return[]};var SH=Object.prototype.propertyIsEnumerable,TH=Object.getOwnPropertySymbols;const FH=TH?function(e){return null==e?[]:(e=Object(e),_H(TH(e),(function(t){return SH.call(e,t)})))}:xH;const OH=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};const PH=function(e){return null!=e&&"object"==(0,C.A)(e)};const IH=function(e){return PH(e)&&"[object Arguments]"==Eq(e)};var BH=Object.prototype,RH=BH.hasOwnProperty,NH=BH.propertyIsEnumerable,MH=IH(function(){return arguments}())?IH:function(e){return PH(e)&&RH.call(e,"callee")&&!NH.call(e,"callee")};const LH=MH;const jH=function(){return!1};var UH="object"==("undefined"==typeof exports?"undefined":(0,C.A)(exports))&&exports&&!exports.nodeType&&exports,zH=UH&&"object"==("undefined"==typeof module?"undefined":(0,C.A)(module))&&module&&!module.nodeType&&module,VH=zH&&zH.exports===UH?fq.Buffer:void 0;const qH=(VH?VH.isBuffer:void 0)||jH;var HH=/^(?:0|[1-9]\d*)$/;const WH=function(e,t){var n=(0,C.A)(e);return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&HH.test(e))&&e>-1&&e%1==0&&e<t};const KH=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};var $H={};$H["[object Float32Array]"]=$H["[object Float64Array]"]=$H["[object Int8Array]"]=$H["[object Int16Array]"]=$H["[object Int32Array]"]=$H["[object Uint8Array]"]=$H["[object Uint8ClampedArray]"]=$H["[object Uint16Array]"]=$H["[object Uint32Array]"]=!0,$H["[object Arguments]"]=$H["[object Array]"]=$H["[object ArrayBuffer]"]=$H["[object Boolean]"]=$H["[object DataView]"]=$H["[object Date]"]=$H["[object Error]"]=$H["[object Function]"]=$H["[object Map]"]=$H["[object Number]"]=$H["[object Object]"]=$H["[object RegExp]"]=$H["[object Set]"]=$H["[object String]"]=$H["[object WeakMap]"]=!1;const GH=function(e){return PH(e)&&KH(e.length)&&!!$H[Eq(e)]};const QH=function(e){return function(t){return e(t)}};var YH="object"==("undefined"==typeof exports?"undefined":(0,C.A)(exports))&&exports&&!exports.nodeType&&exports,XH=YH&&"object"==("undefined"==typeof module?"undefined":(0,C.A)(module))&&module&&!module.nodeType&&module,ZH=XH&&XH.exports===YH&&dq.process,JH=function(){try{var e=XH&&XH.require&&XH.require("util").types;return e||ZH&&ZH.binding&&ZH.binding("util")}catch(e){}}();var eW=JH&&JH.isTypedArray;const tW=eW?QH(eW):GH;var nW=Object.prototype.hasOwnProperty;const rW=function(e,t){var n=kH(e),r=!n&&LH(e),i=!n&&!r&&qH(e),a=!n&&!r&&!i&&tW(e),o=n||r||i||a,s=o?OH(e.length,String):[],u=s.length;for(var c in e)!t&&!nW.call(e,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||WH(c,u))||s.push(c);return s};var iW=Object.prototype;const aW=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||iW)};const oW=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object);var sW=Object.prototype.hasOwnProperty;const uW=function(e){if(!aW(e))return oW(e);var t=[];for(var n in Object(e))sW.call(e,n)&&"constructor"!=n&&t.push(n);return t};const cW=function(e){return null!=e&&KH(e.length)&&!Cq(e)};const lW=function(e){return cW(e)?rW(e):uW(e)};const dW=function(e){return CH(e,lW,FH)};var pW=Object.prototype.hasOwnProperty;const fW=function(e,t,n,r,i,a){var o=1&n,s=dW(e),u=s.length;if(u!=dW(t).length&&!o)return!1;for(var c=u;c--;){var l=s[c];if(!(o?l in t:pW.call(t,l)))return!1}var d=a.get(e),p=a.get(t);if(d&&p)return d==t&&p==e;var f=!0;a.set(e,t),a.set(t,e);for(var h=o;++c<u;){var m=e[l=s[c]],v=t[l];if(r)var g=o?r(v,m,l,t,e,a):r(m,v,l,e,t,a);if(!(void 0===g?m===v||i(m,v,n,r,a):g)){f=!1;break}h||(h="constructor"==l)}if(f&&!h){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(f=!1)}return a.delete(e),a.delete(t),f};const hW=Uq(fq,"DataView");const mW=Uq(fq,"Promise");const vW=Uq(fq,"Set");const gW=Uq(fq,"WeakMap");var yW="[object Map]",bW="[object Promise]",wW="[object Set]",DW="[object WeakMap]",AW="[object DataView]",EW=Oq(hW),kW=Oq(zq),CW=Oq(mW),_W=Oq(vW),xW=Oq(gW),SW=Eq;(hW&&SW(new hW(new ArrayBuffer(1)))!=AW||zq&&SW(new zq)!=yW||mW&&SW(mW.resolve())!=bW||vW&&SW(new vW)!=wW||gW&&SW(new gW)!=DW)&&(SW=function(e){var t=Eq(e),n="[object Object]"==t?e.constructor:void 0,r=n?Oq(n):"";if(r)switch(r){case EW:return AW;case kW:return yW;case CW:return bW;case _W:return wW;case xW:return DW}return t});const TW=SW;var FW="[object Arguments]",OW="[object Array]",PW="[object Object]",IW=Object.prototype.hasOwnProperty;const BW=function(e,t,n,r,i,a){var o=kH(e),s=kH(t),u=o?OW:TW(e),c=s?OW:TW(t),l=(u=u==FW?PW:u)==PW,d=(c=c==FW?PW:c)==PW,p=u==c;if(p&&qH(e)){if(!qH(t))return!1;o=!0,l=!1}if(p&&!l)return a||(a=new cH),o||tW(e)?vH(e,t,n,r,i,a):AH(e,t,u,n,r,i,a);if(!(1&n)){var f=l&&IW.call(e,"__wrapped__"),h=d&&IW.call(t,"__wrapped__");if(f||h){var m=f?e.value():e,v=h?t.value():t;return a||(a=new cH),i(m,v,n,r,a)}}return!!p&&(a||(a=new cH),fW(e,t,n,r,i,a))};const RW=function e(t,n,r,i,a){return t===n||(null==t||null==n||!PH(t)&&!PH(n)?t!=t&&n!=n:BW(t,n,r,i,e,a))};const NW=function(e,t){return RW(e,t)};function MW(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}var LW={read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};(function e(t,n){function r(e,r,i){if("undefined"!=typeof document){"number"==typeof(i=MW({},n,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var o in i)i[o]&&(a+="; "+o,!0!==i[o]&&(a+="="+i[o].split(";")[0]));return document.cookie=e+"="+t.write(r,e)+a}}return Object.create({set:r,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],r={},i=0;i<n.length;i++){var a=n[i].split("="),o=a.slice(1).join("=");try{var s=decodeURIComponent(a[0]);if(r[s]=t.read(o,s),e===s)break}catch(e){}}return e?r[e]:r}},remove:function(e,t){r(e,"",MW({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,MW({},this.attributes,t))},withConverter:function(t){return e(MW({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})})(LW,{path:"/"}),__webpack_require__(11616),__webpack_require__(43268);const jW=e=>{const t=(0,c.useRef)(e);return t.current=e,t};var UW,zW;function VW(e){return"function"==typeof e}const qW="undefined"!=typeof window,HW="undefined"!=typeof navigator;qW&&(null==(zW=window)||null==(UW=zW.navigator)?void 0:UW.userAgent)&&/iP(?:ad|hone|od)/.test(window.navigator.userAgent);const WW={};function KW(e,t){if(!qW)return;if(!e)return t;let n;return n=VW(e)?e():"current"in e?e.current:e,n}const $W=(e,t)=>{((e,t,n)=>{const r=(0,c.useRef)(void 0);r.current&&n(t,r.current)||(r.current=t),(0,c.useEffect)(e,r.current)})(e,t,NW)};const GW=(e,t,n=WW)=>{const r=jW(t),i=(0,c.useRef)(),a=(0,c.useCallback)((()=>{i.current&&i.current.disconnect()}),[]);return $W((()=>{const t=KW(e);if(t)return i.current=new ResizeObserver(r.current),i.current.observe(t,n),a}),[r,a,e,n]),a};Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY;const QW=e=>(t,n)=>{const r=(()=>{const e=(0,c.useRef)(!0);return e.current?(e.current=!1,!0):e.current})();e((()=>{if(!r)return t()}),n)};QW(c.useEffect);const YW={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0},XW=(e,t=WW)=>{const[n,r]=(0,c.useState)(YW),i=GW(e,(e=>{if(e[0]){const{x:t,y:n,width:i,height:a,top:o,left:s,bottom:u,right:c}=e[0].contentRect;r({x:t,y:n,width:i,height:a,top:o,left:s,bottom:u,right:c})}}),t);return[n,i]};Number.NaN,Number.NaN,Number.NaN,Number.NaN,Number.NaN,Number.NaN,Number.NaN,Number.NaN,Number.NaN,Number.NaN,Number.NaN,Number.NaN;const ZW=HW?navigator:void 0;ZW&&(ZW.connection||ZW.mozConnection||ZW.webkitConnection);const JW=new WeakSet,eK=e=>(t,n)=>{e((()=>(()=>{if(!JW.has(t))return JW.add(t),t()})()),n)},tK=eK(c.useEffect);eK(c.useLayoutEffect);new Map;QW(c.useLayoutEffect);c.use;const nK=(0,c.forwardRef)((function(e,t){var n=e.threadId,r=e.sendMessage,i=e.setHasFiles,a=e.chatMain,s=e.overwriteExtensions,l=void 0===s?null:s,d=e.overwriteMaxSize,p=void 0===d?null:d,f=(0,c.useState)(0),h=(0,_.A)(f,2),m=h[0],v=h[1],g=(0,c.useState)(!1),y=(0,_.A)(g,2),b=y[0],w=y[1],D=(0,c.useState)(!1),A=(0,_.A)(D,2),E=A[0],k=A[1],C=(0,c.useState)(!1),x=(0,_.A)(C,2),S=x[0],T=x[1],F=(0,c.useState)([]),O=(0,_.A)(F,2),P=O[0],I=O[1],B=YV(!1),R=(0,_.A)(B,3),N=R[0],M=R[1],L=R[2],j=(0,c.useRef)(n),U=(0,c.useState)(!1),z=(0,_.A)(U,2),V=z[0],q=z[1],H=(0,c.useState)(0),W=(0,_.A)(H,2),K=W[0],$=W[1],G=(0,c.useRef)(),Q=(0,c.useRef)(new Set),Y=(0,c.useRef)(new Set),X=(0,c.useRef)(),Z={strings:{addBulkFilesFailed:{0:Mie("Failed to add %{smart_count} file due to an internal error","File Uploader","bp-better-messages"),1:Mie("Failed to add %{smart_count} files due to internal errors","File Uploader","bp-better-messages")},youCanOnlyUploadX:{0:Mie("You can only upload %{smart_count} file","File Uploader","bp-better-messages"),1:Mie("You can only upload %{smart_count} files","File Uploader","bp-better-messages")},exceedsSize:Mie("%{file} exceeds maximum allowed size of %{size}","File Uploader","bp-better-messages"),missingRequiredMetaField:Mie("Missing required meta fields","File Uploader","bp-better-messages"),missingRequiredMetaFieldOnFile:Mie("Missing required meta fields in %{fileName}","File Uploader","bp-better-messages"),inferiorSize:Mie("This file is smaller than the allowed size of %{size}","File Uploader","bp-better-messages"),youCanOnlyUploadFileTypes:Mie("You can only upload: %{types}","File Uploader","bp-better-messages"),noMoreFilesAllowed:Mie("Cannot add more files","File Uploader","bp-better-messages"),noDuplicates:Mie("Cannot add the duplicate file '%{fileName}', it already exists","File Uploader","bp-better-messages"),authAborted:Mie("Authentication aborted","File Uploader","bp-better-messages"),failedToUpload:Mie("Failed to upload %{file}","File Uploader","bp-better-messages"),noFilesFound:Mie("You have no files or folders here","File Uploader","bp-better-messages"),selectX:{0:Mie("Select %{smart_count}","File Uploader","bp-better-messages"),1:Mie("Select %{smart_count}","File Uploader","bp-better-messages")},allFilesFromFolderNamed:Mie("All files from folder %{name}","File Uploader","bp-better-messages"),openFolderNamed:Mie("Open folder %{name}","File Uploader","bp-better-messages"),cancel:Mie("Cancel","File Uploader","bp-better-messages"),loading:Mie("Loading...","File Uploader","bp-better-messages"),emptyFolderAdded:Mie("No files were added from empty folder","File Uploader","bp-better-messages"),folderAlreadyAdded:Mie('The folder "%{folder}" was already added',"File Uploader","bp-better-messages"),folderAdded:{0:Mie("Added %{smart_count} file from %{folder}","File Uploader","bp-better-messages"),1:Mie("Added %{smart_count} files from %{folder}","File Uploader","bp-better-messages")},addingMoreFiles:Mie("Adding more files","File Uploader","bp-better-messages"),addMore:Mie("Add more","File Uploader","bp-better-messages"),addMoreFiles:Mie("Add more files","File Uploader","bp-better-messages"),allowAccessDescription:Mie("In order to take pictures or record video with your camera, please allow camera access for this site.","File Uploader","bp-better-messages"),allowAccessTitle:Mie("Please allow access to your camera","File Uploader","bp-better-messages"),allowAudioAccessDescription:Mie("In order to record audio, please allow microphone access for this site.","File Uploader","bp-better-messages"),allowAudioAccessTitle:Mie("Please allow access to your microphone","File Uploader","bp-better-messages"),back:Mie("Back","File Uploader","bp-better-messages"),browse:Mie("browse","File Uploader","bp-better-messages"),browseFiles:Mie("browse files","File Uploader","bp-better-messages"),browseFolders:Mie("browse folders","File Uploader","bp-better-messages"),cancelUpload:Mie("Cancel upload","File Uploader","bp-better-messages"),chooseFiles:Mie("Choose files","File Uploader","bp-better-messages"),closeModal:Mie("Close Modal","File Uploader","bp-better-messages"),discardRecordedFile:Mie("Discard recorded file","File Uploader","bp-better-messages"),done:Mie("Done","File Uploader","bp-better-messages"),dropHereOr:Mie("Drop here or %{browse}","File Uploader","bp-better-messages"),dropHint:Mie("Drop your files here","File Uploader","bp-better-messages"),dropPasteBoth:Mie("Drop files here, %{browseFiles} or %{browseFolders}","File Uploader","bp-better-messages"),dropPasteFiles:Mie("Drop files here or %{browseFiles}","File Uploader","bp-better-messages"),dropPasteFolders:Mie("Drop files here or %{browseFolders}","File Uploader","bp-better-messages"),dropPasteImportBoth:Mie("Drop files here, %{browseFiles}, %{browseFolders} or import from:","File Uploader","bp-better-messages"),dropPasteImportFiles:Mie("Drop files here, %{browseFiles} or import from:","File Uploader","bp-better-messages"),dropPasteImportFolders:Mie("Drop files here, %{browseFolders} or import from:","File Uploader","bp-better-messages"),editFile:Mie("Edit file","File Uploader","bp-better-messages"),editFileWithFilename:Mie("Edit file %{file}","File Uploader","bp-better-messages"),editing:Mie("Editing %{file}","File Uploader","bp-better-messages"),importFrom:Mie("Import from %{name}","File Uploader","bp-better-messages"),editImage:Mie("Edit image","File Uploader","bp-better-messages"),finishEditingFile:Mie("Finish editing file","File Uploader","bp-better-messages"),generatingThumbnails:Mie("Generating thumbnails...","File Uploader","bp-better-messages"),micDisabled:Mie("Microphone access denied by user","File Uploader","bp-better-messages"),missingRequiredMetaFields:{0:Mie("Missing required meta field: %{fields}.","File Uploader","bp-better-messages"),1:Mie("Missing required meta fields: %{fields}.","File Uploader","bp-better-messages")},myDevice:Mie("My Device","File Uploader","bp-better-messages"),noAudioDescription:Mie("In order to record audio, please connect a microphone or another audio input device","File Uploader","bp-better-messages"),noAudioTitle:Mie("Microphone Not Available","File Uploader","bp-better-messages"),noCameraDescription:Mie("In order to take pictures or record video, please connect a camera device","File Uploader","bp-better-messages"),noCameraTitle:Mie("Camera Not Available","File Uploader","bp-better-messages"),pluginNameAudio:Mie("Audio","File Uploader","bp-better-messages"),pluginNameCamera:Mie("Camera","File Uploader","bp-better-messages"),processingXFiles:{0:Mie("Processing %{smart_count} file","File Uploader","bp-better-messages"),1:Mie("Processing %{smart_count} files","File Uploader","bp-better-messages")},recording:Mie("Recording","File Uploader","bp-better-messages"),recordingLength:Mie("Recording length %{recording_length}","File Uploader","bp-better-messages"),recordVideoBtn:Mie("Record Video","File Uploader","bp-better-messages"),removeFile:Mie("Remove file","File Uploader","bp-better-messages"),save:Mie("Save","File Uploader","bp-better-messages"),saveChanges:Mie("Save changes","File Uploader","bp-better-messages"),startAudioRecording:Mie("Begin audio recording","File Uploader","bp-better-messages"),startCapturing:Mie("Begin screen capturing","File Uploader","bp-better-messages"),startRecording:Mie("Begin video recording","File Uploader","bp-better-messages"),stopAudioRecording:Mie("Stop audio recording","File Uploader","bp-better-messages"),stopCapturing:Mie("Stop screen capturing","File Uploader","bp-better-messages"),stopRecording:Mie("Stop video recording","File Uploader","bp-better-messages"),submitRecordedFile:Mie("Submit recorded file","File Uploader","bp-better-messages"),takePicture:Mie("Take a picture","File Uploader","bp-better-messages"),takePictureBtn:Mie("Take Picture","File Uploader","bp-better-messages"),timedOut:Mie("Upload stalled for %{seconds} seconds, aborting.","File Uploader","bp-better-messages"),upload:Mie("Upload","File Uploader","bp-better-messages"),uploadComplete:Mie("Upload complete","File Uploader","bp-better-messages"),uploadFailed:Mie("Upload failed","File Uploader","bp-better-messages"),uploadXFiles:{0:Mie("Send Now","File Uploader","bp-better-messages"),1:Mie("Send Now","File Uploader","bp-better-messages")},uploadXNewFiles:{0:Mie("Upload +%{smart_count} file","File Uploader","bp-better-messages"),1:Mie("Upload +%{smart_count} files","File Uploader","bp-better-messages")},xFilesSelected:{0:Mie("%{smart_count} file selected","File Uploader","bp-better-messages"),1:Mie("%{smart_count} files selected","File Uploader","bp-better-messages")},revert:Mie("Reset","File Uploader","bp-better-messages"),rotate:Mie("Rotate 90","File Uploader","bp-better-messages"),zoomIn:Mie("Zoom in","File Uploader","bp-better-messages"),zoomOut:Mie("Zoom out","File Uploader","bp-better-messages"),flipHorizontal:Mie("Flip horizontally","File Uploader","bp-better-messages"),aspectRatioSquare:Mie("Crop square","File Uploader","bp-better-messages"),aspectRatioLandscape:Mie("Crop landscape (16:9)","File Uploader","bp-better-messages"),aspectRatioPortrait:Mie("Crop portrait (9:16)","File Uploader","bp-better-messages")}};(0,c.useImperativeHandle)(t,(function(){return{getUppy:function(){return G.current},addFile:function(e){J(e)},uploadFiles:(e=(0,o.A)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(M(!0),j.current=t,q(!0),e.prev=3,!(P.length>0)){e.next=8;break}return n=[],P.map((function(e){n.push({meta:{id:e}})})),e.abrupt("return",{successful:n});case 8:if(!G.current){e.next=12;break}return e.next=11,G.current.upload();case 11:return e.abrupt("return",e.sent);case 12:return e.abrupt("return",{successful:[]});case 13:return e.prev=13,M(!1),q(!1),I([]),i(!1),v(0),G.current&&G.current.cancelAll({reason:"user"}),e.finish(13);case 21:case"end":return e.stop()}}),e,null,[[3,,13,21]])}))),function(t){return e.apply(this,arguments)}),setFilesCount:function(e){return v(e)},getFilesCount:function(){return m},setSelectedFiles:function(e){I(e),v(e.length),e.length>0?i(!0):i(!1)},getSelectedFiles:function(){return P}};var e}));var J=function(e){try{G.current.addFile(e),re()}catch(e){}},ee=function(){k(!1)},te=function(){k(!0)},ne=function(){k(!1)},re=function(){Hie("better_messages_open_uploader_modal",!0,t.current)&&w(!0)},ie=function(){w(!1)};tK((function(){function e(){return e=(0,o.A)(u().mark((function e(){var t,n,a,o,s,c,d,f,h,m,g;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.resolve().then(__webpack_require__.bind(__webpack_require__,26656));case 3:return t=e.sent,n=t.default,e.next=7,Promise.resolve().then(__webpack_require__.bind(__webpack_require__,97635));case 7:if(a=e.sent,X.current=a.DashboardModal,o=Sie.attachments,s=o.maxSize,p&&p<s&&(s=p),c={maxFileSize:1024*s*1024,allowedFileTypes:o.formats},o.maxItems>0&&(c.maxNumberOfFiles=o.maxItems),l&&(c.allowedFileTypes=c.allowedFileTypes.filter((function(e){return l.includes(e)}))),G.current=new n({autoProceed:!1,allowMultipleUploadBatches:!1,restrictions:c,onBeforeUpload:function(e){if(!L.current)return ie(),r(),!1;var t={};return Object.keys(e).forEach((function(n){var r=e[n],i=r.meta.type.split("/");r.meta.type=i[0]+"/"+r.extension,t[n]=r})),t},locale:Z}),!o.allowPhoto){e.next=28;break}if(d=[],(o.formats.includes(".jpg")||o.formats.includes(".png"))&&d.push("picture"),o.formats.includes(".webm")&&d.push("video-only"),!(d.length>0)){e.next=28;break}return e.next=23,Promise.resolve().then(__webpack_require__.bind(__webpack_require__,73886));case 23:h=e.sent,f=h.default,Q.current.add("Webcam"),Y.current.add("Webcam"),G.current.use(f,{modes:d,mirror:!1,showVideoSourceDropdown:!0,locale:Z,videoConstraints:{width:1920,height:1080}});case 28:return e.next=30,Promise.resolve().then(__webpack_require__.bind(__webpack_require__,80309));case 30:g=e.sent,m=g.default,Q.current.add("ImageEditor"),Y.current.add("ImageEditor"),G.current.use(m,{quality:1,locale:Z}),G.current.addUploader((function(e){return new Promise((function(t,n){var r=G.current.getFilesByIds(e);G.current.emit("upload-start",r);var i=e.map((function(e){return function(){return new Promise((function(t,n){var r=G.current.getFile(e),i=new FormData;i.append("file",r.data,r.name),pie.post("/thread/".concat(j.current,"/upload"),i,{requestType:"upload",headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(t){var n=t.loaded/t.total*100;G.current.setFileState(e,{progress:{uploadComplete:100===n,uploadStarted:n>0,percentage:n}}),G.current.emit("upload-progress",r,{uploadStarted:N,bytesUploaded:t.loaded,bytesTotal:t.total})}}).then((function(n){G.current.setFileState(e,{progress:{uploadComplete:!0,uploadStarted:!0,percentage:100}}),G.current.emit("upload-success",r,n,n.data),G.current.setFileMeta(e,{id:n.data.id}),t(!0)})).catch((function(e){G.current.emit("upload-error",r,e),hb(e),n(!1)}))}))}}));i.reduce((function(e,t){return e.then(t)}),Promise.resolve()).finally((function(){return t()}))}))})),G.current.on("progress",(function(e){$(e)})),G.current.on("file-added",(function(e){var t=G.current.getFiles().length;v(t),t>0&&i(!0)})),G.current.on("file-removed",(function(){var e=G.current.getFiles().length;v(e),0===e&&i(!1)})),G.current.on("restriction-failed",(function(e,t){db(t.message)})),e.next=45;break;case 42:e.prev=42,e.t0=e.catch(0),console.error(e.t0);case 45:case"end":return e.stop()}}),e,null,[[0,42]])}))),e.apply(this,arguments)}var t=Hie("better_messages_uploader_enabled",!0);return t&&(!function(){e.apply(this,arguments)}(),window.addEventListener("blur",ee),document.addEventListener("drop",ee),document.addEventListener("dragover",te),document.addEventListener("dragend",ne),document.addEventListener("dragleave",ne)),function(){t&&(window.removeEventListener("blur",ee),document.removeEventListener("drop",ee),document.removeEventListener("dragover",te),document.removeEventListener("dragend",ne),document.removeEventListener("dragleave",ne),G.current&&G.current.cancelAll({reason:"unmount"})),q(!1),v(0),$(0),I([])}}),[n,l,p]);var ae="bm-attachment",oe=Mie("Add attachment",'"Add attachment" button tooltip',"bp-better-messages"),se={};return m>0&&(ae+=" bm-attachments-added",oe=Lie(Nie("%s attachment added, click to add more attachments","%s attachments added, click to add more attachments",m,'"Add attachment" button tooltip with added files',"bp-better-messages"),m),se["data-count"]=m),c.createElement(c.Fragment,null,V&&c.createElement(aP,{content:Mie("Uploading attachments",'"Uploading attachments" tooltip')},c.createElement("div",{className:"bm-attachment bm-attachment-progress"},c.createElement(Ix.div,{className:"bm-attachment-progress-bar",style:{background:"radial-gradient(closest-side, rgba(var(--bm-bg-color), 1) 79%, transparent 80% 100%), conic-gradient(rgba(var(--main-bm-color), 1) ".concat(K,"%, rgba(var(--main-bm-color), 0.5) 0)")},animate:{background:"radial-gradient(closest-side, rgba(var(--bm-bg-color), 1) 79%, transparent 80% 100%), conic-gradient(rgba(var(--main-bm-color), 1) ".concat(K,"%, rgba(var(--main-bm-color), 0.5) 0)")},"data-percent":K+"%"}))),!V&&c.createElement(aP,{content:oe},c.createElement("div",cy({className:ae,onClick:re},se),c.createElement(lM,null))),a&&(0,rT.createPortal)(c.createElement(Rb,null,E&&c.createElement(Ix.div,{initial:{y:"100%"},animate:{y:"0%"},transition:{duration:.2},exit:{y:"100%"},className:"bm-dropzone"+(S?" bm-dropzone-dragging-over":""),onDrop:function(e){e.preventDefault(),T(!1),k(!1);var t=Array.from(e.dataTransfer.items);t.length>0&&t.map((function(e){if("file"===e.kind){var t=e.getAsFile();if(t){var n={type:e.type,data:t};void 0!==t.name&&"undefined"!==t.name?n.name=t.name:n.name="",J(n)}}}))},onDragOver:function(e){e.preventDefault(),T(!0)},onDragLeave:function(e){e.preventDefault(),T(!1)}},Mie("Drop your files here","File Uploader","bp-better-messages"))),a),X.current&&(0,rT.createPortal)(c.createElement(X.current,{uppy:G.current,inline:!1,open:b,proudlyDisplayPoweredByUppy:!1,singleFileFullScreen:!0,closeModalOnClickOutside:!0,hideUploadButton:!1,fileManagerSelectionType:"both",onRequestClose:ie,plugins:Array.from(Y.current),locale:Z,theme:"light",metaFields:[{id:"name",name:Mie("Name","File Uploader","bp-better-messages"),placeholder:""}]}),document.querySelector("body")))}));var rK,iK=__webpack_require__(49784).Howl,aK={};function oK(e,t){return sK.apply(this,arguments)}function sK(){return(sK=(0,o.A)(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=!Sie.enableSound,e.t0){e.next=5;break}return e.next=4,Nee(Sie.user_id);case 4:e.t0=e.sent;case 5:if(!e.t0){e.next=7;break}return e.abrupt("return",!1);case 7:if(void 0===aK.notification){e.next=12;break}return e.next=10,Gee();case 10:e.sent.includes(t)||aK.notification.play();case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uK(){if(!aK.sent)return!1;aK.sent.play()}var cK=!1;function lK(){return(lK=(0,o.A)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hie("BetterMessagesPlayIncomingCallSound",!0);case 2:if(e.sent){e.next=4;break}return e.abrupt("return");case 4:if(clearTimeout(rK),rK=setTimeout(dK,7e3),aK.calling){e.next=8;break}return e.abrupt("return",!1);case 8:return e.next=10,Nee(Sie.user_id);case 10:if(!e.sent){e.next=12;break}return e.abrupt("return",!1);case 12:cK=!0,vK(),aK.calling.playing()||aK.calling.play();case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dK(){if(clearTimeout(rK),!aK.calling)return!1;cK=!1,aK.calling.playing()&&aK.calling.stop()}var pK,fK=!1;function hK(){if(void 0===aK.dialing)return!1;fK=!0,aK.dialing.playing()||(vK(),aK.dialing.play())}function mK(){if(void 0===aK.dialing)return!1;fK=!1,aK.dialing.playing()&&aK.dialing.stop()}function vK(){clearTimeout(pK),void 0===aK.calling||cK||aK.calling.playing()&&aK.calling.stop(),void 0===aK.dialing||fK||aK.dialing.playing()&&aK.dialing.stop(),pK=window.setTimeout(vK,1e3)}function gK(e){return yK.apply(this,arguments)}function yK(){return yK=(0,o.A)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.threads&&t.threads.length>0)){e.next=3;break}return e.next=3,N7(t.threads);case 3:if(!(t.messages&&t.messages.length>0)){e.next=6;break}return e.next=6,q8(t.messages);case 6:if(!t.users){e.next=9;break}return e.next=9,K9(t.users);case 9:case"end":return e.stop()}}),e)}))),yK.apply(this,arguments)}function bK(e){var t=nb(e);t&&(t.innerHTML="",t.dispatchEvent(new CustomEvent("better-messages-changed")))}function wK(e){return DK.apply(this,arguments)}function DK(){return(DK=(0,o.A)(u().mark((function e(t){var n,r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=nb(t),"<br/>"===(r=AK(n.innerHTML).replace(/<div><br><\/div>/gi,"<br/>").replace(/<div>/gi,"<br/>").replace(/<br>/gi,"<br/>").replace(/<\/div>/gi,"")).slice(-5)&&(r=r.slice(0,-5)),"<br/>"===r.substring(0,5)&&(r=r.slice(5)),e.next=6,EK(r);case 6:return r=e.sent,i=eP(r,{ignoreTags:NK,skipHtmlDecoding:!0}),r=i.result,e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function AK(e){for(var t="",n=0;n<e.length;){var r=e.indexOf("<div>",n);if(-1===r){t+="<div>".concat(e.slice(n),"</div>");break}var i=e.indexOf("</div>",r);if(-1===i){t+=e.slice(n);break}t+="<div>".concat(e.slice(n,r),"</div>").concat(e.slice(r,i+6)),n=i+6}return t.replace(/<div><\/div>/gi,"")}function EK(e){return kK.apply(this,arguments)}function kK(){return(kK=(0,o.A)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=EM(t),e.next=3,CK(n);case 3:return n=e.sent,e.next=6,SK(n);case 6:return n=e.sent,e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function CK(e){return _K.apply(this,arguments)}function _K(){return _K=(0,o.A)(u().mark((function e(t){var n,r,i,a,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(-1!==(n=t.indexOf('<img class="bm-inline-emoji" alt="'))){e.next=6;break}return e.abrupt("return",t);case 6:return r=t.indexOf(">",n)+1,i=t.slice(n,r),(a=i.match(/[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26D3\uFE0F?(?:\u200D\uD83D\uDCA5)?|\u26F9(?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF43\uDF45-\uDF4A\uDF4C-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDF44(?:\u200D\uD83D\uDFEB)?|\uDF4B(?:\u200D\uD83D\uDFE9)?|\uDFC3(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4\uDEB5](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC25\uDC27-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE41\uDE43\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDC-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC08(?:\u200D\u2B1B)?|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC26(?:\u200D(?:\u2B1B|\uD83D\uDD25))?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE])))?))?|\uDC6F(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDD75(?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?|\uDE42(?:\u200D[\u2194\u2195]\uFE0F?)?|\uDEB6(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF8](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE7C\uDE80-\uDE89\uDE8F-\uDEC2\uDEC6\uDECE-\uDEDC\uDEDF-\uDEE9]|\uDD3C(?:\u200D[\u2640\u2642]\uFE0F?|\uD83C[\uDFFB-\uDFFF])?|\uDDCE(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1|\uDDD1\u200D\uD83E\uDDD2(?:\u200D\uD83E\uDDD2)?|\uDDD2(?:\u200D\uD83E\uDDD2)?))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?)/g))?t=t.replace(i,a[0]):(o=xK(i))&&(t=t.replace(i,o)),e.abrupt("return",CK(t));case 11:case"end":return e.stop()}}),e)}))),_K.apply(this,arguments)}function xK(e){var t=e.match(/alt="([^"]*)"/i);return!(!t||!t[1])&&t[1]}function SK(e){return TK.apply(this,arguments)}function TK(){return TK=(0,o.A)(u().mark((function e(t){var n,r,i,a,o,s,c,l;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(-1!==(n=t.indexOf('<span class="bm-inline-mention"'))){e.next=6;break}return e.abrupt("return",t);case 6:return r=t.indexOf("</span>",n)+1,i=t.slice(n,r+6),a='data-user-id="',o=i.indexOf(a),o+=14,s=i.indexOf('"',o),c=Number(i.slice(o,s)),e.next=15,H9(c);case 15:return l=e.sent,t=l?t.replace(i,'<span class="bm-mention" data-user-id="'+l.user_id+'">@'+l.name+"</span>"):t.replace(i,""),e.abrupt("return",SK(t));case 18:case"end":return e.stop()}}),e)}))),TK.apply(this,arguments)}var FK,OK=window.Better_Messages.badWords,PK=!1;function IK(){return BK.apply(this,arguments)}function BK(){return BK=(0,o.A)(u().mark((function e(){var t,n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==Jy()){e.next=2;break}return e.abrupt("return",[]);case 2:if(!PK){e.next=6;break}return e.next=5,Dee(100);case 5:return e.abrupt("return",IK());case 6:if(!FK){e.next=8;break}return e.abrupt("return",FK);case 8:return PK=!0,e.next=11,Wy("block-list-data");case 11:if((t=e.sent)&&t.hash!==OK&&(t=null),t){e.next=24;break}return e.next=16,pie.get("getBlockList");case 16:return n=e.sent,$y("block-list-data",{data:r=n.data,hash:OK}),FK=r,PK=!1,e.abrupt("return",FK);case 24:return FK=t.data,PK=!1,e.abrupt("return",t.data);case 27:case"end":return e.stop()}}),e)}))),BK.apply(this,arguments)}function RK(){return yb()?{user_id:Jy(),name:AM(Sie.guestAuth.user.name),avatar:AM(Sie.guestAuth.user.avatar),url:AM(Sie.guestAuth.user.url)}:{user_id:Jy(),name:AM(Sie.me.name),avatar:AM(Sie.me.avatar),url:AM(Sie.me.url)}}var NK=["br","strong","b","u","i","s","span","p","strike","sub","sup"];function MK(e,t){return LK.apply(this,arguments)}function LK(){return LK=(0,o.A)(u().mark((function e(t,n){var r,i,a,o,s,c,l,d,p,f,h,m,v,g,y,b,w,D=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=D.length>2&&void 0!==D[2]?D[2]:{},i=D.length>3&&void 0!==D[3]?D[3]:new Set,a=D.length>4&&void 0!==D[4]?D[4]:[],o=D.length>5&&void 0!==D[5]?D[5]:"",e.next=6,wK(n);case 6:if(s=e.sent,bK(n),Yv()&&ib(n),!(c=0===t)){e.next=14;break}if(0!==a.length){e.next=14;break}return db(Mie("Please select recipient(s) before sending the message","User tried to send message with no recipients","bp-better-messages"),3e3),e.abrupt("return",!1);case 14:for(;s.startsWith("&nbsp;",0);)s=s.slice(6);for(;s.endsWith("&nbsp;");)s=s.slice(0,-6);if(""!==s.trim()||0!==i.size){e.next=18;break}return e.abrupt("return",!1);case 18:if(l=Sie.fast,!Sie.badWords){e.next=24;break}return e.next=22,IK();case 22:(d=e.sent).length>0&&d.some((function(e){return s.toLowerCase().indexOf(e.toLowerCase())>=0}))&&(l=!1);case 24:if(f={message:s},i.size>0&&(f.files=Array.from(i),l=!1),e.prev=26,c||0!==Object.keys(r).length||!l){e.next=33;break}return m=RK(),e.next=31,CM(t,s,m);case 31:(v=e.sent)&&(h=v.tempId,f.temp_id=v.tempId,f.temp_time=10*v.time);case 33:e.next=37;break;case 35:e.prev=35,e.t0=e.catch(26);case 37:return uK(),r&&(f.meta=r),c?(p="thread/new",f.recipients=a,f.subject=o):p="thread/"+t+"/send",e.prev=40,e.next=43,pie.post(p,f);case 43:if(g=e.sent,y=g.data,!c){e.next=55;break}if(!y.errors){e.next=51;break}return db(Object.values(y.errors)),e.abrupt("return",!1);case 51:if(!y.result){e.next=53;break}return e.abrupt("return",{thread_id:y.thread_id,message_id:y.message_id});case 53:e.next=70;break;case 55:if(!y.errors){e.next=60;break}return db(Object.values(y.errors)),e.abrupt("return",!1);case 60:if(!y.update){e.next=69;break}return b=y.update.messages[0],q8(y.update.messages),K9(y.update.users),y.update.threads&&N7(y.update.threads),zre.threads.findOne(String(t)).exec().then((function(e){e&&e.incrementalUpdate({$set:{lastTime:b.created_at,lastMessage:b.message_id}}).catch(RM)})).catch(RM),e.abrupt("return",{thread_id:t,message_id:b.message_id});case 69:return e.abrupt("return",{thread_id:y.thread_id,message_id:y.message_id});case 70:e.next=80;break;case 72:e.prev=72,e.t1=e.catch(40),console.error(e.t1),h&&FM(t,h,!0),db((w=e.t1.response.data).message),_ie(e.t1,t,null),w.data&&w.data.update&&gK(w.data.update);case 80:case"end":return e.stop()}}),e,null,[[26,35],[40,72]])}))),LK.apply(this,arguments)}function jK(){return(jK=(0,o.A)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pie.get("stickers");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:throw e.prev=7,e.t0=e.catch(0),hb(e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function UK(){return(UK=(0,o.A)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pie.get("stickers/"+t);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:throw e.prev=7,e.t0=e.catch(0),db(e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function zK(e){return VK.apply(this,arguments)}function VK(){return VK=(0,o.A)(u().mark((function e(t){var n,r,i=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:1,e.prev=1,e.next=4,pie.post("stickers/search",{search:t,page:n});case 4:return r=e.sent,e.abrupt("return",r.data);case 8:throw e.prev=8,e.t0=e.catch(1),db(e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,8]])}))),VK.apply(this,arguments)}function qK(e,t,n){return HK.apply(this,arguments)}function HK(){return(HK=(0,o.A)(u().mark((function e(t,n,r){var i,a,o,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pie.post("stickers/"+t+"/send",{sticker_id:n,sticker_img:r});case 3:return i=e.sent,(a=i.data).errors?db(Object.values(a.errors)):a.update&&(q8(a.update.messages),K9(a.update.users),o=a.update.messages[0],A7(t,{lastTime:o.created_at,lastMessage:o.message_id})),e.abrupt("return",a.data);case 9:throw e.prev=9,e.t0=e.catch(0),s=e.t0.message,e.t0.response.data.message&&(s+="\n "+e.t0.response.data.message),db(s),e.t0;case 15:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function WK(e,t,n){var r=this,i=(0,c.useRef)(null),a=(0,c.useRef)(0),o=(0,c.useRef)(null),s=(0,c.useRef)([]),u=(0,c.useRef)(),l=(0,c.useRef)(),d=(0,c.useRef)(e),p=(0,c.useRef)(!0);(0,c.useEffect)((function(){d.current=e}),[e]);var f=!t&&0!==t&&"undefined"!=typeof window;if("function"!=typeof e)throw new TypeError("Expected a function");t=+t||0;var h=!!(n=n||{}).leading,m=!("trailing"in n)||!!n.trailing,v="maxWait"in n,g=v?Math.max(+n.maxWait||0,t):null;(0,c.useEffect)((function(){return p.current=!0,function(){p.current=!1}}),[]);var y=(0,c.useMemo)((function(){var e=function(e){var t=s.current,n=u.current;return s.current=u.current=null,a.current=e,l.current=d.current.apply(n,t)},n=function(e,t){f&&cancelAnimationFrame(o.current),o.current=f?requestAnimationFrame(e):setTimeout(e,t)},c=function(e){if(!p.current)return!1;var n=e-i.current;return!i.current||n>=t||n<0||v&&e-a.current>=g},y=function(t){return o.current=null,m&&s.current?e(t):(s.current=u.current=null,l.current)},b=function e(){var r=Date.now();if(c(r))return y(r);if(p.current){var o=t-(r-i.current),s=v?Math.min(o,g-(r-a.current)):o;n(e,s)}},w=function(){var d=Date.now(),f=c(d);if(s.current=[].slice.call(arguments),u.current=r,i.current=d,f){if(!o.current&&p.current)return a.current=i.current,n(b,t),h?e(i.current):l.current;if(v)return n(b,t),e(i.current)}return o.current||n(b,t),l.current};return w.cancel=function(){o.current&&(f?cancelAnimationFrame(o.current):clearTimeout(o.current)),a.current=0,s.current=i.current=u.current=o.current=null},w.isPending=function(){return!!o.current},w.flush=function(){return o.current?y(Date.now()):l.current},w}),[h,v,t,g,m,f]);return y}function KK(e,t){return e===t}function $K(e){return"function"==typeof e?function(){return e}:e}function GK(e,t,n){var r,i,a=n&&n.equalityFn||KK,o=(r=(0,c.useState)($K(e)),i=r[1],[r[0],(0,c.useCallback)((function(e){return i($K(e))}),[])]),s=o[0],u=o[1],l=WK((0,c.useCallback)((function(e){return u(e)}),[u]),t,n),d=(0,c.useRef)(e);return a(d.current,e)||(l(e),d.current=e),[s,l]}var QK=c.createContext({threadId:null,thread:null,reply:null,chatMain:null,call:null,insideRouter:!1,screen:"messages",setScreen:null,groupVideo:null,groupAudio:null,action:null,actionRef:null,setAction:null,syncing:!1}),YK=function(e,t){var n,r=e._initialValue,i=e._equal,a=e._alwaysUpdateValues,o=r,s=function(e,t){var r=o,s=e,u=t||(i?!i(r,s):r!==s);return(u||a)&&(o=s,n=r),[o,u,n]};return[t?function(e){return s(t(o,n),e)}:s,function(e){return[o,!!e,n]}]},XK=Node.ELEMENT_NODE,ZK=Object.prototype,JK=ZK.toString,e$=ZK.hasOwnProperty,t$=function(e){return void 0===e},n$=function(e){return null===e},r$=function(e){return"number"==typeof e},i$=function(e){return"string"==typeof e},a$=function(e){return"boolean"==typeof e},o$=function(e){return"function"==typeof e},s$=function(e){return Array.isArray(e)},u$=function(e){return"object"===(0,C.A)(e)&&!s$(e)&&!n$(e)},c$=function(e){var t=!!e&&e.length,n=r$(t)&&t>-1&&t%1==0;return!!(s$(e)||!o$(e)&&n)&&(!(t>0&&u$(e))||t-1 in e)},l$=function(e){if(!e||!u$(e)||"object"!==function(e){return t$(e)||n$(e)?"".concat(e):JK.call(e).replace(/^\[object (.+)\]$/,"$1").toLowerCase()}(e))return!1;var t,n="constructor",r=e[n],i=r&&r.prototype,a=e$.call(e,n),o=i&&e$.call(i,"isPrototypeOf");if(r&&!a&&!o)return!1;for(t in e);return t$(t)||e$.call(e,t)},d$=function(e){var t=HTMLElement;return!!e&&(t?e instanceof t:e.nodeType===XK)},p$=function(e){var t=Element;return!!e&&(t?e instanceof t:e.nodeType===XK)};function f$(e,t){if(c$(e))for(var n=0;n<e.length&&!1!==t(e[n],n,e);n++);else e&&f$(Object.keys(e),(function(n){return t(e[n],n,e)}));return e}var h$=function(e,t,n){return e.indexOf(t,n)},m$=function(e,t,n){return n||i$(t)||!c$(t)?e.push(t):Array.prototype.push.apply(e,t),e},v$=function(e){var t=Array.from,n=[];return t&&e?t(e):(e instanceof Set?e.forEach((function(e){m$(n,e)})):f$(e,(function(e){m$(n,e)})),n)},g$=function(e){return!!e&&0===e.length},y$=function(e,t,n){f$(e,(function(e){return e&&e.apply(void 0,t||[])})),!n&&(e.length=0)},b$=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},w$=function(e){return e?Object.keys(e):[]},D$=function(e,t,n,r,i,a,o){var s=[t,n,r,i,a,o];return"object"===(0,C.A)(e)&&!n$(e)||o$(e)||(e={}),f$(s,(function(t){f$(w$(t),(function(n){var r=t[n];if(e===r)return!0;var i=s$(r);if(r&&l$(r)){var a=e[n],o=a;i&&!s$(a)?o=[]:i||l$(a)||(o={}),e[n]=D$(o,r)}else e[n]=i?r.slice():r}))})),e},A$=function(e){for(var t in e)return!1;return!0},E$=function(e,t,n,r){if(t$(r))return n?n[e]:t;n&&(i$(r)||r$(r))&&(n[e]=r)},k$=function(e,t,n){if(t$(n))return e?e.getAttribute(t):null;e&&e.setAttribute(t,n)},C$=function(e,t){return new Set((k$(e,t)||"").split(" "))},_$=function(e,t){e&&e.removeAttribute(t)},x$=function(e,t,n,r){if(n){var i=C$(e,t);i[r?"add":"delete"](n);var a=v$(i).join(" ").trim();k$(e,t,a)}},S$=function(e,t){return E$("scrollLeft",0,e,t)},T$=function(e,t){return E$("scrollTop",0,e,t)},F$=Element.prototype,O$=function(e,t){var n=[],r=t?p$(t)&&t:document;return r?m$(n,r.querySelectorAll(e)):n},P$=function(e,t){return!!p$(e)&&(F$.matches||F$.msMatchesSelector).call(e,t)},I$=function(e){return e?v$(e.childNodes):[]},B$=function(e){return e&&e.parentElement},R$=function(e,t){if(p$(e)){var n=F$.closest;if(n)return n.call(e,t);do{if(P$(e,t))return e;e=B$(e)}while(e)}},N$=function(e,t,n){var r=R$(e,t),i=e&&function(e,t){var n=t?p$(t)&&t:document;return n?n.querySelector(e):null}(n,r),a=R$(i,t)===r;return!(!r||!i)&&(r===e||i===e||a&&R$(R$(e,n),t)!==r)},M$=function(e,t,n){if(n&&e){var r,i=t;c$(n)?(r=document.createDocumentFragment(),f$(n,(function(e){e===i&&(i=e.previousSibling),r.appendChild(e)}))):r=n,t&&(i?i!==t&&(i=i.nextSibling):i=e.firstChild),e.insertBefore(r,i||null)}},L$=function(e,t){M$(e,null,t)},j$=function(e,t){M$(B$(e),e&&e.nextSibling,t)},U$=function(e){if(c$(e))f$(v$(e),(function(e){return U$(e)}));else if(e){var t=B$(e);t&&t.removeChild(e)}},z$=function(e){var t=document.createElement("div");return e&&k$(t,"class",e),t},V$=function(e){var t=z$();return t.innerHTML=e.trim(),f$(I$(t),(function(e){return U$(e)}))},q$=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},H$=function(){return z$().style},W$=["-webkit-","-moz-","-o-","-ms-"],K$=["WebKit","Moz","O","MS","webkit","moz","o","ms"],$$={},G$={},Q$=function(e){var t=$$[e]||window[e];return b$($$,e)||(f$(K$,(function(n){return!(t=t||window[n+q$(e)])})),$$[e]=t),t},Y$=Q$("MutationObserver"),X$=Q$("IntersectionObserver"),Z$=Q$("ResizeObserver"),J$=Q$("cancelAnimationFrame"),eG=Q$("requestAnimationFrame"),tG=Q$("ScrollTimeline"),nG=window.setTimeout,rG=window.clearTimeout,iG=/[^\x20\t\r\n\f]+/g,aG=function(e,t,n){var r,i=e&&e.classList,a=0,o=!1;if(i&&t&&i$(t)){var s=t.match(iG)||[];for(o=s.length>0;r=s[a++];)o=!!n(i,r)&&o}return o},oG=function(e,t){aG(e,t,(function(e,t){return e.remove(t)}))},sG=function(e,t){return aG(e,t,(function(e,t){return e.add(t)})),oG.bind(0,e,t)},uG=(Math.max,function(e,t,n,r){if(e&&t){var i=!0;return f$(n,(function(n){(r?r(e[n]):e[n])!==(r?r(t[n]):t[n])&&(i=!1)})),i}return!1}),cG=function(e,t){return uG(e,t,["w","h"])},lG=function(e,t){return uG(e,t,["x","y"])},dG=function(e,t){return uG(e,t,["t","r","b","l"])},pG=function(e,t,n){return uG(e,t,["width","height"],n&&function(e){return Math.round(e)})},fG=function(){},hG=function(e){var t,n=e?nG:eG,r=e?rG:J$;return[function(i){r(t),t=n(i,o$(e)?e():e)},function(){return r(t)}]},mG=function(e,t){var n,r,i,a=fG,o=t||{},s=o._timeout,u=o._maxDelay,c=o._mergeParams,l=function(t){a(),rG(n),n=r=void 0,a=fG,e.apply(this,t)},d=function(e){return c&&r?c(r,e):e},p=function(){a!==fG&&l(d(i)||i)},f=function(){var e=v$(arguments),t=o$(s)?s():s;if(r$(t)&&t>=0){var o=o$(u)?u():u,c=r$(o)&&o>=0,f=t>0?nG:eG,h=t>0?rG:J$,m=d(e)||e,v=l.bind(0,m);a();var g=f(v,t);a=function(){return h(g)},c&&!n&&(n=nG(p,o)),r=i=m}else l(e)};return f._flush=p,f},vG={opacity:1,zIndex:1},gG=function(e,t){var n=e||"",r=t?parseFloat(n):parseInt(n,10);return r==r?r:0},yG=function(e,t,n){return String((null!=t?t[n]||t.getPropertyValue(n):e.style[n])||"")},bG=function(e,t,n){try{var r=e.style;t$(r[t])?r.setProperty(t,n):r[t]=function(e,t){return!vG[e]&&r$(t)?"".concat(t,"px"):t}(t,n)}catch(e){}};function wG(e,t){var n=i$(t);if(s$(t)||n){var r=n?"":{};if(e){var i=window.getComputedStyle(e,null);r=n?yG(e,i,t):t.reduce((function(t,n){return t[n]=yG(e,i,n),t}),r)}return r}e&&f$(w$(t),(function(n){return bG(e,n,t[n])}))}var DG,AG=function(e){return"rtl"===wG(e,"direction")},EG=function(e,t,n){var r=t?"".concat(t,"-"):"",i=n?"-".concat(n):"",a="".concat(r,"top").concat(i),o="".concat(r,"right").concat(i),s="".concat(r,"bottom").concat(i),u="".concat(r,"left").concat(i),c=wG(e,[a,o,s,u]);return{t:gG(c[a],!0),r:gG(c[o],!0),b:gG(c[s],!0),l:gG(c[u],!0)}},kG=function(e,t){return"translate".concat(s$(e)?"(".concat(e[0],",").concat(e[1],")"):"".concat(t?"X":"Y","(").concat(e,")"))},CG=Math.round,_G={w:0,h:0},xG=function(e){return e?{w:e.offsetWidth,h:e.offsetHeight}:_G},SG=function(e){return e?{w:e.clientWidth,h:e.clientHeight}:_G},TG=function(e){return e?{w:e.scrollWidth,h:e.scrollHeight}:_G},FG=function(e){var t=parseFloat(wG(e,"height"))||0,n=parseFloat(wG(e,"width"))||0;return{w:n-CG(n),h:t-CG(t)}},OG=function(e){return e.getBoundingClientRect()},PG=function(e){return!(!e||!e.height&&!e.width)},IG=function(e){return e.split(" ")},BG=function(e,t,n,r){f$(IG(t),(function(t){e.removeEventListener(t,n,r)}))},RG=function(e,t,n,r){var i,a=function(){if(t$(DG)){DG=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){DG=!0}}))}catch(e){}}return DG}(),o=null!==(i=a&&r&&r._passive)&&void 0!==i?i:a,s=r&&r._capture||!1,u=r&&r._once||!1,c=[],l=a?{passive:o,capture:s}:s;return f$(IG(t),(function(t){var r=u?function(i){e.removeEventListener(t,r,s),n&&n(i)}:n;m$(c,BG.bind(null,e,t,r,s)),e.addEventListener(t,r,l)})),y$.bind(0,c)},NG=function(e){return e.stopPropagation()},MG=function(e){return e.preventDefault()},LG={x:0,y:0},jG=function(e){var t=e?OG(e):0;return t?{x:t.left+window.pageYOffset,y:t.top+window.pageXOffset}:LG},UG=function(e,t){f$(s$(t)?t:[t],e)},zG=function(e){var t=new Map,n=function(e,n){if(e){var r=t.get(e);UG((function(e){r&&r[e?"delete":"clear"](e)}),n)}else t.forEach((function(e){e.clear()})),t.clear()},r=function(e,i){if(i$(e)){var a=t.get(e)||new Set;return t.set(e,a),UG((function(e){o$(e)&&a.add(e)}),i),n.bind(0,e,i)}a$(i)&&i&&n();var o=w$(e),s=[];return f$(o,(function(t){var n=e[t];n&&m$(s,r(t,n))})),y$.bind(0,s)};return r(e||{}),[r,n,function(e,n){var r=t.get(e);f$(v$(r),(function(e){n&&!g$(n)?e.apply(0,n):e()}))}]},VG=function(e){return JSON.stringify(e,(function(e,t){if(o$(t))throw new Error;return t}))},qG={paddingAbsolute:!1,showNativeOverlaidScrollbars:!1,isInverted:!1,update:{elementEvents:[["img","load"],["video","loadeddata"],["video","loadedmetadata"],["video","canplay"]],debounce:[0,33],attributes:null,ignoreMutation:null},overflow:{x:"hidden",y:"scroll"},scrollbars:{theme:"os-theme-dark",visibility:"auto",autoHide:Yv()?"scroll":"move",autoHideDelay:1300,autoHideSuspend:!1,dragScroll:!0,clickScroll:!1,pointers:["mouse","touch","pen"]}},HG=function(e,t){var n={};return f$(w$(t).concat(w$(e)),(function(r){var i=e[r],a=t[r];if(u$(i)&&u$(a))D$(n[r]={},HG(i,a)),A$(n[r])&&delete n[r];else if(b$(t,r)&&a!==i){var o=!0;if(s$(i)||s$(a))try{VG(i)===VG(a)&&(o=!1)}catch(e){}o&&(n[r]=a)}})),n},WG="data-overlayscrollbars",KG="os-environment",$G="".concat(KG,"-flexbox-glue"),GG="".concat($G,"-max"),QG="os-scrollbar-hidden",YG="".concat(WG,"-initialize"),XG=WG,ZG="".concat(XG,"-overflow-x"),JG="".concat(XG,"-overflow-y"),eQ="overflowVisible",tQ="scrollbarPressed",nQ="updating",rQ="".concat(WG,"-viewport"),iQ="arrange",aQ="scrollbarHidden",oQ=eQ,sQ="".concat(WG,"-padding"),uQ=oQ,cQ="".concat(WG,"-content"),lQ="os-size-observer",dQ="".concat(lQ,"-appear"),pQ="".concat(lQ,"-listener"),fQ=("".concat(pQ,"-scroll"),"".concat(pQ,"-item")),hQ=("".concat(fQ,"-final"),"os-scrollbar"),mQ="".concat(hQ,"-rtl"),vQ="".concat(hQ,"-horizontal"),gQ="".concat(hQ,"-vertical"),yQ="".concat(hQ,"-track"),bQ="".concat(hQ,"-handle"),wQ="".concat(hQ,"-visible"),DQ="".concat(hQ,"-cornerless"),AQ="".concat(hQ,"-transitionless"),EQ="".concat(hQ,"-interaction"),kQ="".concat(hQ,"-unusable"),CQ="".concat(hQ,"-auto-hide"),_Q="".concat(CQ,"-hidden"),xQ="".concat(hQ,"-wheel"),SQ="".concat(yQ,"-interactive"),TQ="".concat(bQ,"-interactive"),FQ={},OQ=function(){return FQ};var PQ,IQ="__osOptionsValidationPlugin",BQ="__osSizeObserverPlugin",RQ=(Math.round,Math.abs,"__osScrollbarsHidingPlugin"),NQ=(__webpack_require__(5914),"__osClickScrollPlugin"),MQ=function(e,t,n,r){L$(e,t);var i=SG(t),a=xG(t),o=FG(n);return r&&U$(t),{x:a.h-i.h+o.h,y:a.w-i.w+o.w}},LQ=function(e){var t=!1,n=sG(e,QG);try{t="none"===wG(e,function(e){var t=G$[e];if(b$(G$,e))return t;var n=q$(e),r=H$();return f$(W$,(function(i){var a=i.replace(/-/g,""),o=[e,i+e,a+n,q$(a)+n];return!(t=o.find((function(e){return void 0!==r[e]})))})),G$[e]=t||""}("scrollbar-width"))||"none"===window.getComputedStyle(e,"::-webkit-scrollbar").getPropertyValue("display")}catch(e){}return n(),t},jQ=function(e,t){var n="hidden";wG(e,{overflowX:n,overflowY:n,direction:"rtl"}),S$(e,0);var r=jG(e),i=jG(t);S$(e,-999);var a=jG(t);return{i:r.x===i.x,n:i.x!==a.x}},UQ=function(){var e,t,n,r,i,a,o,s,u,c,l,d,p,f,h,m,v,g,y,b,w,D,A,E,k,C,x,S,T,F,O,P;return PQ||(d=document.body,p=V$('<div class="'.concat(KG,'"><div></div></div>'))[0],f=p.firstChild,h=zG(),m=(0,_.A)(h,3),v=m[0],g=m[2],y=YK({_initialValue:MQ(d,p,f),_equal:lG},MQ.bind(0,d,p,f,!0)),b=(0,_.A)(y,2),w=b[0],D=(0,b[1])(),A=(0,_.A)(D,1)[0],E=LQ(p),k={x:0===A.x,y:0===A.y},C={elements:{host:null,padding:!E,viewport:function(e){return E&&e===e.ownerDocument.body&&e},content:!1},scrollbars:{slot:!0},cancel:{nativeScrollbarsOverlaid:!1,body:null}},x=D$({},qG),S=D$.bind(0,{},x),T=D$.bind(0,{},C),F={_nativeScrollbarsSize:A,_nativeScrollbarsOverlaid:k,_nativeScrollbarsHiding:E,_cssCustomProperties:"-1"===wG(p,"zIndex"),_scrollTimeline:!!tG,_rtlScrollBehavior:jQ(p,f),_flexboxGlue:(e=p,t=f,n=sG(e,$G),r=OG(e),i=OG(t),a=pG(i,r,!0),o=sG(e,GG),s=OG(e),u=OG(t),c=pG(u,s,!0),n(),o(),a&&c),_addZoomListener:v.bind(0,"z"),_addResizeListener:v.bind(0,"r"),_getDefaultInitialization:T,_setDefaultInitialization:function(e){return D$(C,e)&&T()},_getDefaultOptions:S,_setDefaultOptions:function(e){return D$(x,e)&&S()},_staticDefaultInitialization:D$({},C),_staticDefaultOptions:D$({},x)},O=window.addEventListener,P=mG((function(e){return g(e?"z":"r")}),{_timeout:33,_maxDelay:99}),_$(p,"style"),U$(p),O("resize",P.bind(0,!1)),E||k.x&&k.y||O("resize",(function(){var e=OQ()[RQ];(l=l||e&&e._envWindowZoom())&&l(F,w,P.bind(0,!0))})),PQ=F),PQ},zQ=function(e,t){return o$(t)?t.apply(0,e):t},VQ=function(e,t,n,r){var i=t$(r)?n:r;return zQ(e,i)||t.apply(0,e)},qQ=function(e,t,n,r){var i=t$(r)?n:r,a=zQ(e,i);return!!a&&(d$(a)?a:t.apply(0,e))},HQ=new WeakMap,WQ=function(e){return HQ.get(e)},KQ=function(e,t){return e?t.split(".").reduce((function(e,t){return e&&b$(e,t)?e[t]:void 0}),e):void 0},$Q=function(e,t,n){return function(r){return[KQ(e,r),n||void 0!==KQ(t,r)]}},GQ=function(e){var t=e;return[function(){return t},function(e){t=D$({},t,e)}]},QQ="tabindex",YQ=z$.bind(0,""),XQ=function(e){L$(B$(e),I$(e)),U$(e)},ZQ=function(e){var t=UQ(),n=t._getDefaultInitialization,r=t._nativeScrollbarsHiding,i=OQ()[RQ],a=i&&i._createUniqueViewportArrangeElement,o=n().elements,s=o.host,u=o.padding,c=o.viewport,l=o.content,d=d$(e),p=d?{}:e,f=p.elements||{},h=f.host,m=f.padding,v=f.viewport,g=f.content,y=d?e:p.target,b=P$(y,"textarea"),w=y.ownerDocument,D=w.documentElement,A=y===w.body,E=w.defaultView,k=VQ.bind(0,[y]),C=qQ.bind(0,[y]),_=zQ.bind(0,[y]),x=k.bind(0,YQ,c),S=C.bind(0,YQ,l),T=x(v),F=T===y,O=F&&A,P=!F&&S(g),I=!F&&d$(T)&&T===P,B=I&&!!_(l),R=B?x():T,N=B?P:S(),M=O?D:I?R:T,L=b?k(YQ,s,h):y,j=O?M:L,U=I?N:P,z=w.activeElement,V=!F&&E.top===E&&z===y,q={_target:y,_host:j,_viewport:M,_padding:!F&&C(YQ,u,m),_content:U,_viewportArrange:!F&&!r&&a&&a(t),_scrollOffsetElement:O?D:M,_scrollEventElement:O?w:M,_windowElm:E,_documentElm:w,_isTextarea:b,_isBody:A,_targetIsElm:d,_viewportIsTarget:F,_viewportIsContent:I,_viewportHasClass:function(e,t){return function(e,t,n){return C$(e,t).has(n)}(M,F?XG:rQ,F?t:e)},_viewportAddRemoveClass:function(e,t,n){return x$(M,F?XG:rQ,F?t:e,n)}},H=w$(q).reduce((function(e,t){var n=q[t];return m$(e,!(!n||!d$(n)||B$(n))&&n)}),[]),W=function(e){return e?h$(H,e)>-1:null},K=q._target,$=q._host,G=q._padding,Q=q._viewport,Y=q._content,X=q._viewportArrange,Z=[function(){_$($,XG),_$($,YG),_$(K,YG),A&&(_$(D,XG),_$(D,YG))}],J=b&&W($),ee=b?K:I$([Y,Q,G,$,K].find((function(e){return!1===W(e)}))),te=O?K:Y||Q;return[q,function(){k$($,XG,F?"viewport":"host"),k$(G,sQ,""),k$(Y,cQ,""),F||k$(Q,rQ,"");var e=A&&!F?sG(B$(y),QG):fG;if(J&&(j$(K,$),m$(Z,(function(){j$($,K),U$($)}))),L$(te,ee),L$($,G),L$(G||$,!F&&Q),L$(Q,Y),m$(Z,(function(){e(),_$(G,sQ),_$(Y,cQ),_$(Q,ZG),_$(Q,JG),_$(Q,rQ),W(Y)&&XQ(Y),W(Q)&&XQ(Q),W(G)&&XQ(G)})),r&&!F&&(x$(Q,rQ,aQ,!0),m$(Z,_$.bind(0,Q,rQ))),X&&(!function(e,t){M$(B$(e),e,t)}(Q,X),m$(Z,U$.bind(0,X))),V){var t=k$(Q,QQ);k$(Q,QQ,"-1"),Q.focus();var n=function(){return t?k$(Q,QQ,t):_$(Q,QQ)},i=RG(w,"pointerdown keydown",(function(){n(),i()}));m$(Z,[n,i])}else z&&z.focus&&z.focus();ee=0},y$.bind(0,Z)]},JQ=function(e,t){var n=e._content,r=(0,_.A)(t,1)[0];return function(e){var t=UQ()._flexboxGlue,i=r()._heightIntrinsic,a=e._heightIntrinsicChanged,o=(n||!t)&&a;return o&&wG(n,{height:i?"":"100%"}),{_sizeChanged:o,_contentMutation:o}}},eY=function(e,t){var n=(0,_.A)(t,2),r=n[0],i=n[1],a=e._host,o=e._padding,s=e._viewport,u=e._viewportIsTarget,c=YK({_equal:dG,_initialValue:EG()},EG.bind(0,a,"padding","")),l=(0,_.A)(c,2),d=l[0],p=l[1];return function(e,t,n){var a=p(n),c=(0,_.A)(a,2),l=c[0],f=c[1],h=UQ(),m=h._nativeScrollbarsHiding,v=h._flexboxGlue,g=r()._directionIsRTL,y=e._sizeChanged,b=e._contentMutation,w=e._directionChanged,D=t("paddingAbsolute"),A=(0,_.A)(D,2),E=A[0],k=A[1];if(y||f||!v&&b){var C=d(n),x=(0,_.A)(C,2);l=x[0],f=x[1]}var S=!u&&(k||w||f);if(S){var T=!E||!o&&!m,F=l.r+l.l,O=l.t+l.b,P={marginRight:T&&!g?-F:0,marginBottom:T?-O:0,marginLeft:T&&g?-F:0,top:T?-l.t:0,right:T?g?-l.r:"auto":0,left:T?g?"auto":-l.l:0,width:T?"calc(100% + ".concat(F,"px)"):""},I={paddingTop:T?l.t:0,paddingRight:T?l.r:0,paddingBottom:T?l.b:0,paddingLeft:T?l.l:0};wG(o||s,P),wG(s,I),i({_padding:l,_paddingAbsolute:!T,_viewportPaddingStyle:o?I:D$({},P,I)})}return{_paddingStyleChanged:S}}},tY=Math.max,nY=tY.bind(0,0),rY="visible",iY="hidden",aY={_equal:cG,_initialValue:{w:0,h:0}},oY={_equal:lG,_initialValue:{x:iY,y:iY}},sY=function(e){return 0===e.indexOf(rY)},uY=function(e,t){var n=(0,_.A)(t,2),r=n[0],i=n[1],a=e._host,o=e._padding,s=e._viewport,u=e._viewportArrange,c=e._viewportIsTarget,l=e._viewportAddRemoveClass,d=e._isBody,p=e._windowElm,f=UQ(),h=f._nativeScrollbarsSize,m=f._flexboxGlue,v=f._nativeScrollbarsHiding,g=f._nativeScrollbarsOverlaid,y=OQ()[RQ],b=!c&&!v&&(g.x||g.y),w=d&&c,D=YK(aY,FG.bind(0,s)),A=(0,_.A)(D,2),E=A[0],k=A[1],C=YK(aY,TG.bind(0,s)),x=(0,_.A)(C,2),S=x[0],T=x[1],F=YK(aY),O=(0,_.A)(F,2),P=O[0],I=O[1],B=YK(aY),R=(0,_.A)(B,2),N=R[0],M=R[1],L=YK(oY),j=(0,_.A)(L,1)[0],U=function(e,t){if(wG(s,{height:""}),t){var n=r(),i=n._paddingAbsolute,o=n._padding,u=e._overflowScroll,c=e._scrollbarsHideOffset,l=FG(a),d=SG(a),p="content-box"===wG(s,"boxSizing"),f=i||p?o.b+o.t:0,h=!(g.x&&p);wG(s,{height:d.h+l.h+(u.x&&h?c.x:0)-f})}},z=function(e,t){var n=v||e?0:42,r=function(e,r,i){var a=wG(s,e),o="scroll"===(t?t[e]:a);return[a,o,o&&!v?r?n:i:0,r&&!!n]},i=r("overflowX",g.x,h.x),a=(0,_.A)(i,4),o=a[0],u=a[1],c=a[2],l=a[3],d=r("overflowY",g.y,h.y),p=(0,_.A)(d,4);return{_overflowStyle:{x:o,y:p[0]},_overflowScroll:{x:u,y:p[1]},_scrollbarsHideOffset:{x:c,y:p[2]},_scrollbarsHideOffsetArrange:{x:l,y:p[3]}}},V=function(e,t,n,i){var a=e._scrollbarsHideOffset,o=e._scrollbarsHideOffsetArrange,s=o.x,u=o.y,c=a.x,l=a.y,d=r()._viewportPaddingStyle,p=t?"marginLeft":"marginRight",f=t?"paddingLeft":"paddingRight",h=d[p],m=d.marginBottom,v=d[f],g=d.paddingBottom;i.width="calc(100% + ".concat(l+-1*h,"px)"),i[p]=-l+h,i.marginBottom=-c+m,n&&(i[f]=v+(u?l:0),i.paddingBottom=g+(s?c:0))},q=y?y._overflowUpdateSegment(b,m,s,u,r,z,V):[function(){return b},function(){return[fG]}],H=(0,_.A)(q,2),W=H[0],K=H[1];return function(e,t,n){var u,d=e._sizeChanged,f=e._hostMutation,h=e._contentMutation,y=e._paddingStyleChanged,b=e._heightIntrinsicChanged,D=e._directionChanged,A=r(),C=A._heightIntrinsic,x=A._directionIsRTL,F=t("showNativeOverlaidScrollbars"),O=(0,_.A)(F,2),B=O[0],R=O[1],L=t("overflow"),q=(0,_.A)(L,2),H=q[0],$=q[1],G=B&&g.x&&g.y,Q=!c&&!m&&(d||h||f||R||b),Y=sY(H.x),X=sY(H.y),Z=Y||X,J=k(n),ee=T(n),te=I(n),ne=M(n);if(R&&v&&l(aQ,"scrollbarHidden",!G),Q&&(u=z(G),U(u,C)),d||y||h||D||R){Z&&l(oQ,eQ,!1);var re=K(G,x,u),ie=(0,_.A)(re,2),ae=ie[0],oe=ie[1],se=J=E(n),ue=(0,_.A)(se,2),ce=ue[0],le=ue[1],de=ee=S(n),pe=(0,_.A)(de,2),fe=pe[0],he=pe[1],me=SG(s),ve=fe,ge=me;ae(),(he||le||R)&&oe&&!G&&W(oe,fe,ce,x)&&(ge=SG(s),ve=TG(s));var ye={w:nY(tY(fe.w,ve.w)+ce.w),h:nY(tY(fe.h,ve.h)+ce.h)},be={w:nY((w?p.innerWidth:ge.w+nY(me.w-fe.w))+ce.w),h:nY((w?p.innerHeight+ce.h:ge.h+nY(me.h-fe.h))+ce.h)};ne=N(be),te=P(function(e,t){var n=window.devicePixelRatio%1!=0?1:0,r={w:nY(e.w-t.w),h:nY(e.h-t.h)};return{w:r.w>n?r.w:0,h:r.h>n?r.h:0}}(ye,be),n)}var we=ne,De=(0,_.A)(we,2),Ae=De[0],Ee=De[1],ke=te,Ce=(0,_.A)(ke,2),_e=Ce[0],xe=Ce[1],Se=ee,Te=(0,_.A)(Se,2),Fe=Te[0],Oe=Te[1],Pe=J,Ie=(0,_.A)(Pe,2),Be=Ie[0],Re=Ie[1],Ne={x:_e.w>0,y:_e.h>0},Me=Y&&X&&(Ne.x||Ne.y)||Y&&Ne.x&&!Ne.y||X&&Ne.y&&!Ne.x;if(y||D||Re||Oe||Ee||xe||$||R||Q){var Le={marginRight:0,marginBottom:0,marginLeft:0,width:"",overflowY:"",overflowX:""},je=function(e,t,n,r){var i=function(e,t){var n=sY(e),r=t&&n&&e.replace("".concat(rY,"-"),"")||"";return[t&&!n?e:"",sY(r)?"hidden":r]},a=i(n.x,t.x),o=(0,_.A)(a,2),s=o[0],u=o[1],c=i(n.y,t.y),l=(0,_.A)(c,2),d=l[0],p=l[1];return r.overflowX=u&&d?u:s,r.overflowY=p&&s?p:d,z(e,r)}(G,Ne,H,Le),Ue=W(je,Fe,Be,x);c||V(je,x,Ue,Le),Q&&U(je,C),c?(k$(a,ZG,Le.overflowX),k$(a,JG,Le.overflowY)):wG(s,Le)}x$(a,XG,eQ,Me),x$(o,sQ,uQ,Me),c||x$(s,rQ,oQ,Z);var ze=j(z(G)._overflowStyle),Ve=(0,_.A)(ze,2),qe=Ve[0],He=Ve[1];return i({_overflowStyle:qe,_overflowEdge:{x:Ae.w,y:Ae.h},_overflowAmount:{x:_e.w,y:_e.h},_hasOverflow:Ne}),{_overflowStyleChanged:He,_overflowEdgeChanged:Ee,_overflowAmountChanged:xe}}},cY=function(e,t,n){var r={},i=t||{};return f$(w$(e).concat(w$(i)),(function(t){var a=e[t],o=i[t];r[t]=!!(n||a||o)})),r},lY=function(e,t,n,r){var i=!1,a=r||{},o=a._attributes,s=a._styleChangingAttributes,u=a._eventContentChange,c=a._nestedTargetSelector,l=a._ignoreTargetChange,d=a._ignoreContentChange,p=mG((function(){return i&&n(!0)}),{_timeout:33,_maxDelay:99}),f=function(e,t,n){var r,i=!1,a=function(a){n&&f$(n.reduce((function(t,n){if(n){var r=(0,_.A)(n,2),i=r[0],o=r[1],s=o&&i&&(a?a(i):O$(i,e));s&&s.length&&o&&i$(o)&&m$(t,[s,o.trim()],!0)}return t}),[]),(function(n){return f$(n[0],(function(a){var o=n[1],s=r.get(a)||[];if(e.contains(a)){var u=RG(a,o,(function(e){i?(u(),r.delete(a)):t(e)}));r.set(a,m$(s,u))}else y$(s),r.delete(a)}))}))};return n&&(r=new WeakMap,a()),[function(){i=!0},a]}(e,p,u),h=(0,_.A)(f,2),m=h[0],v=h[1],g=s||[],y=(o||[]).concat(g),b=function(i,a){var o=l||fG,s=d||fG,u=new Set,p=new Set,f=!1,h=!1,m=!1;if(f$(i,(function(n){var i=n.attributeName,a=n.target,l=n.type,d=n.oldValue,v=n.addedNodes,y=n.removedNodes,b="attributes"===l,w="childList"===l,D=e===a,A=b&&i$(i)?k$(a,i):0,E=0!==A&&d!==A,k=h$(g,i)>-1&&E;if(t&&(w||!D)){var C=!b,_=b&&E,x=_&&c&&P$(a,c),S=(x?!o(a,i,d,A):C||_)&&!s(n,!!x,e,r);f$(v,(function(e){return u.add(e)})),f$(y,(function(e){return u.add(e)})),h=h||S,m=m||w}!t&&D&&E&&!o(a,i,d,A)&&(p.add(i),f=f||k)})),u.size>0&&v((function(e){return v$(u).reduce((function(t,n){return m$(t,O$(e,n)),P$(n,e)?m$(t,n):t}),[])})),t)return!a&&h&&n(!1),[!1];if(p.size>0||f){var y=[v$(p),f];return!a&&n.apply(0,y),y}},w=new Y$((function(e){return b(e)}));return w.observe(e,{attributes:!0,attributeOldValue:!0,attributeFilter:y,subtree:t,childList:t,characterData:t}),i=!0,[function(){i&&(m(),w.disconnect(),i=!1)},function(){if(i){p._flush();var e=w.takeRecords();return!g$(e)&&b(e,!0)}}]},dY=3333333,pY=function(e,t,n){var r=n||{},i=r._direction,a=r._appear,o=OQ()[BQ],s=UQ()._rtlScrollBehavior,u=V$('<div class="'.concat(lQ,'"><div class="').concat(pQ,'"></div></div>'))[0],c=u.firstChild,l=AG.bind(0,e),d=YK({_initialValue:!1,_alwaysUpdateValues:!0,_equal:function(e,t){return!(!e||!PG(e)&&PG(t))}}),p=(0,_.A)(d,1)[0],f=function(e){var n=s$(e)&&e.length>0&&u$(e[0]),r=!n&&a$(e[0]),a=!1,o=!1,c=!0;if(n){var l=p(e.pop().contentRect),d=(0,_.A)(l,3),f=d[0],h=d[2],m=PG(f),v=PG(h);o=!v&&m,c=!(a=!h&&!!v||!m)}else if(r){var g=e;c=(0,_.A)(g,2)[1]}else o=!0===e;if(i&&c){var y=r?e[0]:AG(u);S$(u,y?s.n?-3333333:s.i?0:dY:dY),T$(u,dY)}a||t({_sizeChanged:!r,_directionIsRTLCache:r?e:void 0,_appear:!!o})},h=[];return[function(){y$(h),U$(u)},function(){var t=a&&f;if(Z$){var n=new Z$(f);n.observe(c),m$(h,(function(){n.disconnect()}))}else if(o){var r=o._(c,f,a),s=(0,_.A)(r,2),d=s[0],p=s[1];t=d,m$(h,p)}if(i){var m=YK({_initialValue:void 0},l),v=(0,_.A)(m,1)[0];m$(h,RG(u,"scroll",(function(e){var t=v(),n=(0,_.A)(t,3),r=n[0],i=n[1],a=n[2];i&&(oG(c,"ltr rtl"),sG(c,r?"rtl":"ltr"),f([!!r,i,a])),NG(e)})))}t&&(sG(u,dQ),m$(h,RG(u,"animationstart",t,{_once:!!Z$}))),(Z$||o)&&L$(e,u)}]},fY="[".concat(XG,"]"),hY="[".concat(rQ,"]"),mY=["tabindex"],vY=["wrap","cols","rows"],gY=["id","class","style","open"],yY=function(e,t,n){var r,i,a,o,s=e._host,u=e._viewport,c=e._content,l=e._isTextarea,d=e._viewportIsTarget,p=e._viewportHasClass,f=e._viewportAddRemoveClass,h=UQ()._flexboxGlue,m=YK({_equal:cG,_initialValue:{w:0,h:0}},(function(){var e=p(oQ,eQ),t=p(iQ,""),n=t&&S$(u),r=t&&T$(u);f(oQ,eQ),f(iQ,""),f("",nQ,!0);var i=TG(c),a=TG(u),o=FG(u);return f(oQ,eQ,e),f(iQ,"",t),f("",nQ),S$(u,n),T$(u,r),{w:a.w+i.w+o.w,h:a.h+i.h+o.h}})),v=(0,_.A)(m,1)[0],g=l?vY:gY.concat(vY),y=mG(n,{_timeout:function(){return r},_maxDelay:function(){return i},_mergeParams:function(e,t){var n=(0,_.A)(e,1)[0],r=(0,_.A)(t,1)[0];return[w$(n).concat(w$(r)).reduce((function(e,t){return e[t]=n[t]||r[t],e}),{})]}}),b=function(e){f$(e||mY,(function(e){if(h$(mY,e)>-1){var t=k$(s,e);i$(t)?k$(u,e,t):_$(u,e)}}))},w=function(e,r){var i=(0,_.A)(e,2),a=i[0],o={_heightIntrinsicChanged:i[1]};return t({_heightIntrinsic:a}),!r&&n(o),o},D=function(e){var r=e._sizeChanged,i=e._directionIsRTLCache,a=e._appear,o=!r||a?n:y,s=!1;if(i){var u=(0,_.A)(i,2),c=u[0];s=u[1],t({_directionIsRTL:c})}o({_sizeChanged:r,_appear:a,_directionChanged:s})},A=function(e,t){var r=v(),i=(0,_.A)(r,2)[1],a={_contentMutation:i};return i&&!t&&(e?n:y)(a),a},E=function(e,t,n){var r={_hostMutation:t};return t?!n&&y(r):d||b(e),r},k=c||!h?function(e,t){var n,r=z$("os-trinsic-observer"),i=[],a=YK({_initialValue:!1}),o=(0,_.A)(a,1)[0],s=function(e,n){if(e){var r=o(0===(i=e).h||i.isIntersecting||i.intersectionRatio>0);return(0,_.A)(r,2)[1]&&!n&&t(r)&&[r]}var i},u=function(e,t){return e&&e.length>0&&s(e.pop(),t)};return[function(){y$(i),U$(r)},function(){if(X$)n=new X$((function(e){return u(e)}),{root:e}),n.observe(r),m$(i,(function(){n.disconnect()}));else{var t=function(){var e=xG(r);s(e)},a=pY(r,t),o=(0,_.A)(a,2),c=o[0],l=o[1];m$(i,c),l(),t()}L$(e,r)},function(){return n&&u(n.takeRecords(),!0)}]}(s,w):[fG,fG,fG],C=(0,_.A)(k,3),x=C[0],S=C[1],T=C[2],F=d?[fG,fG]:pY(s,D,{_appear:!0,_direction:!0}),O=(0,_.A)(F,2),P=O[0],I=O[1],B=lY(s,!1,E,{_styleChangingAttributes:gY,_attributes:gY.concat(mY)}),R=(0,_.A)(B,2),N=R[0],M=R[1],L=d&&Z$&&new Z$((function(e){var t=e[e.length-1].contentRect,n=PG(t),r=PG(o);D({_sizeChanged:!0,_appear:!r&&n}),o=t}));return[function(){x(),P(),a&&a[0](),L&&L.disconnect(),N()},function(){L&&L.observe(s),b(),I(),S()},function(){var e={},t=M(),n=T(),r=a&&a[1]();return t&&D$(e,E.apply(0,m$(t,!0))),n&&D$(e,w.apply(0,m$(n,!0))),r&&D$(e,A.apply(0,m$(r,!0))),e},function(e){var t=e("update.ignoreMutation"),n=(0,_.A)(t,1)[0],o=e("update.attributes"),s=(0,_.A)(o,2),l=s[0],p=s[1],f=e("update.elementEvents"),h=(0,_.A)(f,2),m=h[0],v=h[1],b=e("update.debounce"),w=(0,_.A)(b,2),D=w[0],E=w[1];if((v||p)&&(a&&(a[1](),a[0]()),a=lY(c||u,!0,A,{_attributes:g.concat(l||[]),_eventContentChange:m,_nestedTargetSelector:fY,_ignoreContentChange:function(e,t){var r=e.target,i=e.attributeName;return!(t||!i||d)&&N$(r,fY,hY)||!!R$(r,".".concat(hQ))||!!function(e){return o$(n)&&n(e)}(e)}})),E)if(y._flush(),s$(D)){var k=D[0],C=D[1];r=r$(k)&&k,i=r$(C)&&C}else r$(D)?(r=D,i=!1):(r=!1,i=!1)}]},bY={x:0,y:0},wY=function(e,t){var n=$Q(t,{}),r=zG(),i=(0,_.A)(r,3),a=i[0],o=i[1],s=i[2],u=ZQ(e),c=(0,_.A)(u,3),l=c[0],d=c[1],p=c[2],f=GQ(function(e,t){return{_padding:{t:0,r:0,b:0,l:0},_paddingAbsolute:!1,_isInverted:t.isInverted,_viewportPaddingStyle:{marginRight:0,marginBottom:0,marginLeft:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0},_overflowEdge:bY,_overflowAmount:bY,_overflowStyle:{x:"hidden",y:"hidden"},_hasOverflow:{x:!1,y:!1},_heightIntrinsic:!1,_directionIsRTL:AG(e._host)}}(l,t)),h=(0,_.A)(f,2),m=h[0],v=h[1],g=function(e,t){var n=e._target,r=e._viewport,i=e._viewportAddRemoveClass,a=e._viewportIsTarget,o=UQ(),s=o._nativeScrollbarsHiding,u=o._nativeScrollbarsOverlaid,c=o._flexboxGlue,l=!s&&(u.x||u.y),d=[JQ(e,t),eY(e,t),uY(e,t)];return function(e,t,o){var s=cY(D$({_sizeChanged:!1,_paddingStyleChanged:!1,_directionChanged:!1,_heightIntrinsicChanged:!1,_overflowEdgeChanged:!1,_overflowAmountChanged:!1,_overflowStyleChanged:!1,_hostMutation:!1,_contentMutation:!1,_appear:!1},t),{},o),u=l||!c,p=u&&S$(r),f=u&&T$(r);i("",nQ,!0);var h=s;return f$(d,(function(t){h=cY(h,t(h,e,!!o)||{},o)})),S$(r,p),T$(r,f),i("",nQ),a||(S$(n,0),T$(n,0)),h}}(l,f),y=function(e,t,n){var r=w$(e).some((function(t){return!!e[t]}))||!A$(t)||n;return r&&s("u",[e,t,n]),r},b=yY(l,v,(function(e){return y(g(n,e),{},!1)})),w=(0,_.A)(b,4),D=w[0],A=w[1],E=w[2],k=w[3],C=m.bind(0);return C._addOnUpdatedListener=function(e){return a("u",e)},C._appendElements=function(){var e=l._target,t=l._viewport,n=l._documentElm,r=l._isBody?n.documentElement:e,i=S$(r),a=T$(r);A(),d(),S$(t,i),T$(t,a)},C._elements=l,[function(e,n){var r=$Q(t,e,n);return k(r),y(g(r,E(),n),e,!!n)},C,function(){o(),D(),p()}]},DY=Math.round,AY="pointerup pointerleave pointercancel lostpointercapture",EY=function(e,t){return RG(e,"mousedown",RG.bind(0,t,"click",NG,{_once:!0,_capture:!0}),{_capture:!0})},kY=function(e,t,n,r,i,a,o){var s=UQ()._rtlScrollBehavior,u=r._handle,c=r._track,l=r._scrollbar,d="scroll".concat(o?"Left":"Top"),p="client".concat(o?"X":"Y"),f=o?"width":"height",h=o?"left":"top",m=o?"w":"h",v=o?"x":"y";return RG(c,"pointerdown",(function(r){var g,y,b=R$(r.target,".".concat(bQ))===u,w=b?u:c;if(x$(t,XG,tQ,!0),function(e,t,n){var r=t.scrollbars,i=e.button,a=e.isPrimary,o=e.pointerType,s=r.pointers;return 0===i&&a&&r[n?"dragScroll":"clickScroll"]&&(s||[]).includes(o)}(r,e,b)){var D=!b&&r.shiftKey,A=function(){return OG(u)},E=function(){return OG(c)},k=function(e,t){return(e||A())[h]-(t||E())[h]},C=(g=i[d]||0,y=1/function(e){var t=OG(e),n=t.width,r=t.height,i=xG(e),a=i.w,o=i.h;return{x:DY(n)/a||1,y:DY(r)/o||1}}(i)[v],function(e){var t=a()._overflowAmount,n=xG(c)[m]-xG(u)[m],r=y*e/n*t[v],p=AG(l)&&o?s.n||s.i?1:-1:1;i[d]=g+r*p}),_=r[p],x=A(),S=E(),T=x[f],F=k(x,S)+T/2,O=_-S[h],P=b?0:O-F,I=function(e){y$(B),w.releasePointerCapture(e.pointerId)},B=[x$.bind(0,t,XG,tQ),RG(n,AY,I),RG(n,"selectstart",(function(e){return MG(e)}),{_passive:!1}),RG(c,AY,I),RG(c,"pointermove",(function(e){var t=e[p]-_;(b||D)&&C(P+t)}))];if(D)C(P);else if(!b){var R=OQ()[NQ];R&&m$(B,R._(C,k,P,T,O))}w.setPointerCapture(r.pointerId)}}))},CY=Math.min,_Y=Math.max,xY=Math.round,SY=function(e,t,n,r){if(r){var i=n?"x":"y",a=r._overflowAmount,o=r._overflowEdge[i],s=a[i];return _Y(0,CY(1,o/(o+s)))}var u=n?"width":"height",c=OG(e)[u],l=OG(t)[u];return _Y(0,CY(1,c/l))},TY=function(e,t,n,r){return t&&e.animate(n,{timeline:t,composite:r})},FY=function(e,t){return(0,h.A)({transform:[kG("0%",t),kG(t&&e?"100%":"-100%",t)]},t?e?"right":"left":"top",["0%","100%"])},OY=function(e){return"".concat(Math.max(0,e-.5),"px")},PY=function(e,t,n,r){return TY(e,t,{transform:[kG("0px",r),kG(OY(n),r)]},"add")},IY=function(e,t){return tG?new tG({source:e,axis:t}):null},BY=function(e,t,n){var r=UQ(),i=r._getDefaultInitialization,a=r._cssCustomProperties,o=i().scrollbars.slot,s=t._documentElm,u=t._target,c=t._host,l=t._viewport,d=t._targetIsElm,p=t._scrollOffsetElement,f=t._isBody,m=t._viewportIsTarget,v=((d?{}:e).scrollbars||{}).slot,g=new Map,y=IY(p,"x"),b=IY(p,"y"),w=qQ([u,c,l],(function(){return m&&f?u:c}),o,v),D=function(e){return m&&!f&&B$(e)===l},A=function(e){g.forEach((function(t,n){(!e||h$(s$(e)?e:[e],n)>-1)&&((t||[]).forEach((function(e){e&&e.cancel()})),g.delete(n))}))},E=function(e,t,n){var r=n?sG:oG;f$(e,(function(e){r(e._scrollbar,t)}))},k=function(e,t){f$(e,(function(e){var n=t(e),r=(0,_.A)(n,2);wG(r[0],r[1])}))},C=function(e,t,n){k(e,(function(e){var r=e._handle,i=e._track;return[r,(0,h.A)({},n?"width":"height","".concat((100*SY(r,i,n,t)).toFixed(3),"%"))]}))},x=function(e,t,n){b||b||k(e,(function(e){var r=e._handle,i=e._track,a=e._scrollbar,o=function(e,t,n,r,i,a){var o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=UQ()._rtlScrollBehavior,u=a?"x":"y",c=a?"Left":"Top",l=r._overflowAmount,d=xY(l[u]),p=o?-1*n["scroll".concat(c)]:n["scroll".concat(c)],f=CY(d,_Y(0,p)),h=a&&i,m=s.i?f:d-f,v=CY(1,(h?m:f)/d),g=SY(e,t,a);return 1/g*(1-g)*v}(r,i,p,t,AG(a),n,t._isInverted);return[r,{transform:o==o?kG("".concat((100*o).toFixed(3),"%"),n):""}]}))},S=function(e){var t=e._scrollbar,n=D(t)&&t;return[n,{transform:n?kG(["".concat(S$(p),"px"),"".concat(T$(p),"px")]):""}]},T=[],F=[],O=[],P=function(e,t,n){var r=a$(n),i=!r||!n;(!r||n)&&E(F,e,t),i&&E(O,e,t)},I=function(e){var t=e?vQ:gQ,r=e?F:O,i=g$(r)?AQ:"",o=z$("".concat(hQ," ").concat(t," ").concat(i)),u=z$(yQ),l=z$(bQ),d={_scrollbar:o,_track:u,_handle:l};return a||sG(o,"os-no-css-vars"),L$(o,u),L$(u,l),m$(r,d),m$(T,[U$.bind(0,o),A,n(d,P,s,c,p,e?y:b,e)]),d},B=I.bind(0,!0),R=I.bind(0,!1);return B(),R(),[{_refreshScrollbarsHandleLength:function(e){C(F,e,!0),C(O,e)},_refreshScrollbarsHandleOffset:function(e){x(F,e,!0),x(O,e,!1)},_refreshScrollbarsHandleOffsetTimeline:function(){var e=function(e,t){var n=t._scrollbar,r=t._handle;A(r),g.set(r,[TY(r,e?y:b,FY(e&&AG(n),e))])};F.forEach(e.bind(0,!0)),O.forEach(e.bind(0,!1))},_refreshScrollbarsScrollbarOffsetTimeline:function(e){var t=e._overflowAmount;O.concat(F).forEach((function(e){var n=e._scrollbar;A(n),D(n)&&g.set(n,[PY(n,y,t.x,!0),PY(n,b,t.y)])}))},_refreshScrollbarsScrollbarOffset:function(){b||b||(m&&k(F,S),m&&k(O,S))},_scrollbarsAddRemoveClass:P,_horizontal:{_scrollTimeline:y,_scrollbarStructures:F,_clone:B,_style:k.bind(0,F)},_vertical:{_scrollTimeline:b,_scrollbarStructures:O,_clone:R,_style:k.bind(0,O)}},function(){L$(w,F[0]._scrollbar),L$(w,O[0]._scrollbar),nG((function(){P(AQ)}),300)},y$.bind(0,T)]},RY=function(e){return"mouse"===e.pointerType},NY=function(e,t,n,r){var i,a,o,s,u,c=fG,l=0,d=GQ({}),p=(0,_.A)(d,1)[0],f=hG(),h=(0,_.A)(f,2),m=h[0],v=h[1],g=hG(),y=(0,_.A)(g,2),b=y[0],w=y[1],D=hG(100),A=(0,_.A)(D,2),E=A[0],k=A[1],C=hG(100),x=(0,_.A)(C,2),S=x[0],T=x[1],F=hG(100),O=(0,_.A)(F,2),P=O[0],I=O[1],B=hG((function(){return l})),R=(0,_.A)(B,2),N=R[0],M=R[1],L=BY(e,n._elements,function(e,t){return function(n,r,i,a,o,s,u){var c=n._scrollbar,l=hG(333),d=(0,_.A)(l,2),p=d[0],f=d[1],h=!!o.scrollBy,m=!0;return y$.bind(0,[RG(c,"pointerenter",(function(){r(EQ,!0)})),RG(c,"pointerleave pointercancel",(function(){r(EQ)})),RG(c,"wheel",(function(e){var t=e.deltaX,n=e.deltaY,i=e.deltaMode;h&&m&&0===i&&B$(c)===a&&o.scrollBy({left:t,top:n,behavior:"smooth"}),m=!1,r(xQ,!0),p((function(){m=!0,r(xQ)})),MG(e)}),{_passive:!1,_capture:!0}),EY(c,i),kY(e,a,i,n,o,t,u),f])}}(t,n)),j=(0,_.A)(L,3),U=j[0],z=j[1],V=j[2],q=n._elements,H=q._host,W=q._scrollEventElement,K=q._isBody,$=U._scrollbarsAddRemoveClass,G=U._refreshScrollbarsHandleLength,Q=U._refreshScrollbarsHandleOffset,Y=U._refreshScrollbarsHandleOffsetTimeline,X=U._refreshScrollbarsScrollbarOffsetTimeline,Z=U._refreshScrollbarsScrollbarOffset,J=function(e){$(CQ,e,!0),$(CQ,e,!1)},ee=function(e,t){if(M(),e)$(_Q);else{var n=function(){return $(_Q,!0)};l>0&&!t?N(n):n()}},te=function(e){RY(e)&&(s=a)&&ee(!0)},ne=[k,M,T,I,w,v,V,RG(H,"pointerover",te,{_once:!0}),RG(H,"pointerenter",te),RG(H,"pointerleave",(function(e){RY(e)&&(s=!1,a&&ee(!1))})),RG(H,"pointermove",(function(e){RY(e)&&i&&m((function(){k(),ee(!0),S((function(){i&&ee(!1)}))}))})),RG(W,"scroll",(function(e){b((function(){Q(n()),o&&ee(!0),E((function(){o&&!s&&ee(!1)}))})),r(e),Z()}))],re=p.bind(0);return re._elements=U,re._appendElements=z,[function(e,r,s){var d=s._overflowEdgeChanged,p=s._overflowAmountChanged,f=s._overflowStyleChanged,h=s._directionChanged,m=s._appear,v=UQ()._nativeScrollbarsOverlaid,g=$Q(t,e,r),y=n(),b=y._overflowAmount,w=y._overflowStyle,D=y._directionIsRTL,A=y._hasOverflow,E=g("showNativeOverlaidScrollbars"),k=(0,_.A)(E,2),C=k[0],x=k[1],S=g("scrollbars.theme"),T=(0,_.A)(S,2),F=T[0],O=T[1],I=g("scrollbars.visibility"),B=(0,_.A)(I,2),R=B[0],N=B[1],M=g("scrollbars.autoHide"),L=(0,_.A)(M,2),j=L[0],U=L[1],z=g("scrollbars.autoHideSuspend"),V=(0,_.A)(z,2),q=V[0],H=V[1],te=g("scrollbars.autoHideDelay"),ne=(0,_.A)(te,1)[0],re=g("scrollbars.dragScroll"),ie=(0,_.A)(re,2),ae=ie[0],oe=ie[1],se=g("scrollbars.clickScroll"),ue=(0,_.A)(se,2),ce=ue[0],le=ue[1],de=m&&!r,pe=A.x||A.y,fe=d||p||h,he=f||N,me=C&&v.x&&v.y,ve=function(e,t){var n="visible"===R||"auto"===R&&"scroll"===e;return $(wQ,n,t),n};if(l=ne,de&&(q&&pe?(J(!1),c(),P((function(){c=RG(W,"scroll",J.bind(0,!0),{_once:!0})}))):J(!0)),x&&$("os-theme-none",me),O&&($(u),$(F,!0),u=F),H&&!q&&J(!0),U&&(i="move"===j,a="leave"===j,ee(!(o="never"!==j),!0)),oe&&$(TQ,ae),le&&$(SQ,ce),he){var ge=ve(w.x,!0),ye=ve(w.y,!1);$(DQ,!(ge&&ye))}fe&&(G(y),Q(y),Y(y),X(y),Z(),$(kQ,!b.x,!0),$(kQ,!b.y,!1),$(mQ,D&&!K))},re,function(){y$(ne),c()}]},MY=function(e,t,n){o$(e)&&e(t||void 0,n||void 0)},LY=function(e,t,n){var r=UQ(),i=r._getDefaultOptions,a=r._getDefaultInitialization,o=r._addZoomListener,s=r._addResizeListener,u=OQ(),c=d$(e),l=c?e:e.target,d=WQ(l);if(t&&!d){var p=!1,f=function(e){var t=OQ()[IQ],n=t&&t._;return n?n(e,!0):e},h=D$({},i(),f(t)),m=zG(n),v=(0,_.A)(m,3),g=v[0],y=v[1],b=v[2],w=wY(e,h),D=(0,_.A)(w,3),A=D[0],E=D[1],k=D[2],C=NY(e,h,E,(function(e){return b("scroll",[N,e])})),x=(0,_.A)(C,3),S=x[0],T=x[1],F=x[2],O=function(e,t){return A(e,!!t)},P=O.bind(0,{},!0),I=o(P),B=s(P),R=function(e){!function(e){HQ.delete(e)}(l),I(),B(),F(),k(),p=!0,b("destroyed",[N,!!e]),y()},N={options:function(e,t){if(e){var n=t?i():{},r=HG(h,D$(n,f(e)));A$(r)||(D$(h,r),O(r))}return D$({},h)},on:g,off:function(e,t){e&&t&&y(e,t)},state:function(){var e=E(),t=e._overflowEdge,n=e._overflowAmount,r=e._overflowStyle,i=e._hasOverflow,a=e._padding,o=e._paddingAbsolute,s=e._directionIsRTL;return D$({},{overflowEdge:t,overflowAmount:n,overflowStyle:r,hasOverflow:i,padding:a,paddingAbsolute:o,directionRTL:s,destroyed:p})},elements:function(){var e=E._elements,t=e._target,n=e._host,r=e._padding,i=e._viewport,a=e._content,o=e._scrollOffsetElement,s=e._scrollEventElement,u=T._elements,c=u._horizontal,l=u._vertical,d=function(e){var t=e._handle,n=e._track;return{scrollbar:e._scrollbar,track:n,handle:t}},p=function(e){var t=e._scrollbarStructures,n=e._clone,r=d(t[0]);return D$({},r,{clone:function(){var e=d(n());return S({},!0,{}),e}})};return D$({},{target:t,host:n,padding:r||i,viewport:i,content:a||i,scrollOffsetElement:o,scrollEventElement:s,scrollbarHorizontal:p(c),scrollbarVertical:p(l)})},update:function(e){return O({},e)},destroy:R.bind(0)};return E._addOnUpdatedListener((function(e,t,n){S(t,n,e)})),function(e,t){HQ.set(e,t)}(l,N),f$(w$(u),(function(e){return MY(u[e],0,N)})),function(e,t,n){var r=n||{},i=r.nativeScrollbarsOverlaid,a=r.body,o=UQ(),s=o._nativeScrollbarsOverlaid,u=o._nativeScrollbarsHiding,c=t.nativeScrollbarsOverlaid,l=t.body,d=null!=i?i:c,p=t$(a)?l:a,f=(s.x||s.y)&&d,h=e&&(n$(p)?!u:p);return!!f||!!h}(E._elements._isBody,a().cancel,!c&&e.cancel)?(R(!0),N):(E._appendElements(),T._appendElements(),b("initialized",[N]),E._addOnUpdatedListener((function(e,t,n){var r=e._sizeChanged,i=e._directionChanged,a=e._heightIntrinsicChanged,o=e._overflowEdgeChanged,s=e._overflowAmountChanged,u=e._overflowStyleChanged,c=e._contentMutation,l=e._hostMutation;b("updated",[N,{updateHints:{sizeChanged:r,directionChanged:i,heightIntrinsicChanged:a,overflowEdgeChanged:o,overflowAmountChanged:s,overflowStyleChanged:u,contentMutation:c,hostMutation:l},changedOptions:t,force:n}])})),N.update(!0),N)}return d};LY.plugin=function(e){var t,n;f$((n=[],f$(s$(t=e)?t:[t],(function(e){f$(w$(e),(function(t){m$(n,FQ[t]=e[t])}))})),n),(function(e){return MY(e,LY)}))},LY.valid=function(e){var t=e&&e.elements,n=o$(t)&&t();return l$(n)&&!!WQ(n.target)},LY.env=function(){var e=UQ(),t=e._nativeScrollbarsSize,n=e._nativeScrollbarsOverlaid,r=e._nativeScrollbarsHiding,i=e._rtlScrollBehavior,a=e._flexboxGlue,o=e._cssCustomProperties,s=e._scrollTimeline,u=e._staticDefaultInitialization,c=e._staticDefaultOptions,l=e._getDefaultInitialization,d=e._setDefaultInitialization,p=e._getDefaultOptions,f=e._setDefaultOptions;return D$({},{scrollbarsSize:t,scrollbarsOverlaid:n,scrollbarsHiding:r,rtlScrollBehavior:i,flexboxGlue:a,cssCustomProperties:o,scrollTimeline:s,staticDefaultInitialization:u,staticDefaultOptions:c,getDefaultInitialization:l,setDefaultInitialization:d,getDefaultOptions:p,setDefaultOptions:f})};var jY=function(){if("undefined"==typeof window){var e=function(){};return[e,e]}var t,n,r=window,i="function"==typeof r.requestIdleCallback,a=r.requestAnimationFrame,o=r.cancelAnimationFrame,s=i?r.requestIdleCallback:a,u=i?r.cancelIdleCallback:o,c=function(){u(t),o(n)};return[function(e,r){c(),t=s(i?function(){c(),n=a(e)}:e,"object"===(0,C.A)(r)?r:{timeout:2233})},c]},UY=["element","options","events","defer","children"],zY=function(e,t){var n=e.element,r=void 0===n?"div":n,i=e.options,a=e.events,o=e.defer,s=e.children,u=(0,Ae.A)(e,UY),l=r,d=(0,c.useRef)(null),p=(0,c.useRef)(null),f=(0,c.useState)(!1),h=(0,_.A)(f,2),m=h[0],v=h[1],g=function(e){var t=e||{},n=t.options,r=t.events,i=t.defer,a=(0,c.useMemo)(jY,[]),o=(0,_.A)(a,2),s=o[0],u=o[1],l=(0,c.useRef)(null),d=(0,c.useRef)(i),p=(0,c.useRef)(n),f=(0,c.useRef)(r);return(0,c.useEffect)((function(){d.current=i}),[i]),(0,c.useEffect)((function(){var e=l.current;p.current=n,LY.valid(e)&&e.options(n||{},!0)}),[n]),(0,c.useEffect)((function(){var e=l.current;f.current=r,LY.valid(e)&&e.on(r||{},!0)}),[r]),(0,c.useEffect)((function(){return function(){var e;u(),null===(e=l.current)||void 0===e||e.destroy()}}),[]),(0,c.useMemo)((function(){return[function(e){var t=l.current;if(!LY.valid(t)){var n=d.current,r=p.current||{},i=f.current||{},a=function(){return l.current=LY(e,r,i)};n?s(a,n):a()}},function(){return l.current}]}),[])}({options:i,events:a,defer:o}),y=(0,_.A)(g,2),b=y[0],w=y[1];return(0,c.useEffect)((function(){v(!0)}),[]),(0,c.useEffect)((function(){var e=d.current,t=p.current;return m&&e&&t&&b({target:e,elements:{viewport:t,content:t}}),function(){var e;return null===(e=w())||void 0===e?void 0:e.destroy()}}),[m,b,r]),(0,c.useImperativeHandle)(t,(function(){return{osInstance:w,getElement:function(){return d.current}}}),[]),c.createElement(l,cy({"data-overlayscrollbars-initialize":"",ref:d},u),m?c.createElement("div",{ref:p,"data-overlayscrollbars-contents":!0},s):s)},VY=(0,c.forwardRef)(zY);function qY(){var e=(0,c.useState)(!1),t=(0,_.A)(e,2),n=t[0],r=t[1],i=(0,c.useContext)(QK).chatMain;return i?c.createElement(c.Fragment,null,c.createElement(aP,{content:Mie("Send Sticker",'"Send Sticker" button tooltip',"bp-better-messages")},c.createElement("div",{className:"bm-stickers",onClick:function(){r(!n)}},c.createElement(IN,null))),(0,rT.createPortal)(c.createElement(Rb,null,n&&c.createElement(WY,{close:function(){r(!1)}})),i)):null}var HY=new Map;function WY(e){var t=(0,c.useContext)(QK).threadId,n=(0,c.useState)(!1),r=(0,_.A)(n,2),i=r[0],a=r[1],o=(0,c.useRef)(!1),s=(0,c.useState)(!1),u=(0,_.A)(s,2),l=u[0],d=u[1],p=(0,c.useState)([]),f=(0,_.A)(p,2),h=f[0],m=f[1],v=(0,c.useState)([]),g=(0,_.A)(v,2),y=g[0],b=g[1],w=(0,c.useState)("latest"),D=(0,_.A)(w,2),A=D[0],E=D[1],k=(0,c.useState)(""),C=(0,_.A)(k,2),x=C[0],S=C[1],T=(0,c.useState)(!1),F=(0,_.A)(T,2),O=F[0],P=F[1],I=(0,c.useState)([]),B=(0,_.A)(I,2),R=B[0],N=B[1],M=(0,c.useRef)(0),L=(0,c.useRef)(0),j=(0,c.useState)(),U=(0,_.A)(j,2),V=U[0],q=U[1],H=(0,c.useRef)(!1),W=(0,c.useState)(!1),K=(0,_.A)(W,2),$=(K[0],K[1],GK(x,300)),G=(0,_.A)($,1)[0],Q=(0,c.useRef)(null);(0,c.useEffect)((function(){V&&V.addEventListener("scroll",(function(){Y(V)}))}),[V]);var Y=function(e){var t=e.scrollHeight-(e.scrollTop+e.clientHeight);if(!o.current&&!H.current&&t<=100){H.current=!0;var n=L.current+1;n<=M.current&&zK(Q.current,n).then((function(e){H.current=!1,L.current=n,N((function(t){return[].concat((0,z.A)(t),(0,z.A)(Object.entries(e.stickers)))}))}))}};(0,c.useEffect)((function(){(function(){return jK.apply(this,arguments)})().then((function(e){m(Object.entries(e.packs)),b(Object.entries(e.stickers)),HY.set("latest",Object.entries(e.stickers)),a(!0),d(!0)})).catch((function(){e.close()}))}),[]),(0,c.useEffect)((function(){HY.has(A)?b(HY.get(A)):"latest"!==A&&"search"!==A&&(d(!1),function(e){return UK.apply(this,arguments)}(Number(A)).then((function(e){b(Object.entries(e)),HY.set(A,Object.entries(e)),d(!0)})))}),[A]),(0,c.useEffect)((function(){""!==G&&(P(!1),Q.current=G,zK(G).then((function(e){P(!0),M.current=e.pages,L.current=1,N(Object.entries(e.stickers))})))}),[G]);return c.createElement(Ix.div,{initial:{y:"100%"},animate:{y:"0%"},transition:{duration:.2},exit:{y:"100%"},className:"bpbm-stickers-selector",role:"application"},!1===i&&c.createElement("div",{style:{margin:"10px 0"}},c.createElement(VN,null)),!1!==i&&c.createElement(c.Fragment,null,c.createElement("div",{className:"bpbm-stickers-head"},c.createElement(VY,{options:{overflow:{x:"scroll"}},className:"bpbm-stickers-tabs",events:{initialized:function(e){var t=e.elements().padding,n=t.querySelectorAll("span"),r=0;Array.from(n).map((function(e){r+=e.getBoundingClientRect().width})),t.style.width=r+"px"}}},c.createElement(aP,{content:Mie("Latest","Stickers selector","bp-better-messages")},c.createElement("span",{className:"latest"===A?"bpbm-stickers-tabs-active":"",onClick:function(){E("latest")}},c.createElement(MV,null))),c.createElement(aP,{content:Mie("Search","Stickers selector","bp-better-messages")},c.createElement("span",{className:"search"===A?"bpbm-stickers-tabs-active":"",onClick:function(){E("search")}},c.createElement(LV,null))),h.map((function(e){var t=(0,_.A)(e,2),n=t[0],r=t[1];return c.createElement("span",{key:n,className:A===n?"bpbm-stickers-tabs-active":"",onClick:function(){E(n)}},c.createElement("img",{src:r.packageImg,alt:r.packageName}))}))),c.createElement(aP,{content:Mie("Close","Stickers selector","bp-better-messages")},c.createElement("span",{className:"bpbm-stickers-close",onClick:e.close},c.createElement(RV,null)))),"search"===A&&c.createElement("span",{className:"bpbm-stickers-search"},c.createElement("input",{type:"text",name:"search",value:x,onChange:function(e){return S(e.target.value)},placeholder:Mie("Search","Stickers selector - Search Input Placeholder","bp-better-messages")})),c.createElement(VY,{className:"bpbm-stickers-selector-sticker-container",events:{initialized:function(e){q(e.elements().scrollEventElement)}}},"search"===A&&c.createElement(c.Fragment,null,c.createElement("span",{className:"bpbm-stickers-selector-sticker-list"},""===x&&c.createElement("span",{className:"bpbm-stickers-selector-empty"},Mie("Search results will display here","Stickers selector","bp-better-messages")),""!==x&&c.createElement(c.Fragment,null,!O&&c.createElement(VN,{showText:!1}),O&&c.createElement(c.Fragment,null,0===R.length&&c.createElement("span",{className:"bpbm-stickers-selector-empty"},Mie("No stickers found","Stickers selector","bp-better-messages")),R.length>0&&c.createElement(c.Fragment,null,R.map((function(n){var r=(0,_.A)(n,2),i=r[0],a=r[1];return c.createElement("span",{key:i,className:"bpbm-stickers-selector-sticker",onClick:function(){qK(t,i,a.stickerImg),e.close()}},c.createElement("img",{src:a.stickerImg,alt:""}))}))))))),"search"!==A&&c.createElement("span",{className:"bpbm-stickers-selector-sticker-list"},!l&&c.createElement(VN,{showText:!1}),l&&c.createElement(c.Fragment,null,0===y.length&&c.createElement(c.Fragment,null,"latest"===A&&c.createElement("span",{className:"bpbm-stickers-selector-empty"},Mie("You have not used any stickers yet","Stickers selector","bp-better-messages")),"latest"!==A&&c.createElement("span",{className:"bpbm-stickers-selector-empty"},Mie("No stickers found","Stickers selector","bp-better-messages"))),y.length>0&&c.createElement(c.Fragment,null,y.map((function(n){var r=(0,_.A)(n,2),i=r[0],a=r[1];return c.createElement("span",{key:i,className:"bpbm-stickers-selector-sticker",onClick:function(){qK(t,i,a.stickerImg),e.close()}},c.createElement("img",{src:a.stickerImg,alt:""}))}))))))))}var KY=__webpack_require__(71679),$Y=__webpack_require__.n(KY);function GY(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 512 512"},"child":[{"tag":"path","attr":{"d":"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"}}]})(e)}function QY(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 512 512"},"child":[{"tag":"path","attr":{"d":"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"}}]})(e)}function YY(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 576 512"},"child":[{"tag":"path","attr":{"d":"M160 448c-25.6 0-51.2-22.4-64-32-64-44.8-83.2-60.8-96-70.4V480c0 17.67 14.33 32 32 32h256c17.67 0 32-14.33 32-32V345.6c-12.8 9.6-32 25.6-96 70.4-12.8 9.6-38.4 32-64 32zm128-192H32c-17.67 0-32 14.33-32 32v16c25.6 19.2 22.4 19.2 115.2 86.4 9.6 6.4 28.8 25.6 44.8 25.6s35.2-19.2 44.8-22.4c92.8-67.2 89.6-67.2 115.2-86.4V288c0-17.67-14.33-32-32-32zm256-96H224c-17.67 0-32 14.33-32 32v32h96c33.21 0 60.59 25.42 63.71 57.82l.29-.22V416h192c17.67 0 32-14.33 32-32V192c0-17.67-14.33-32-32-32zm-32 128h-64v-64h64v64zm-352-96c0-35.29 28.71-64 64-64h224V32c0-17.67-14.33-32-32-32H96C78.33 0 64 14.33 64 32v192h96v-32z"}}]})(e)}function XY(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 512 512"},"child":[{"tag":"path","attr":{"d":"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"}}]})(e)}function ZY(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 448 512"},"child":[{"tag":"path","attr":{"d":"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"}}]})(e)}function JY(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 512 512"},"child":[{"tag":"path","attr":{"d":"M16 128h416c8.84 0 16-7.16 16-16V48c0-8.84-7.16-16-16-16H16C7.16 32 0 39.16 0 48v64c0 8.84 7.16 16 16 16zm480 80H80c-8.84 0-16 7.16-16 16v64c0 8.84 7.16 16 16 16h416c8.84 0 16-7.16 16-16v-64c0-8.84-7.16-16-16-16zm-64 176H16c-8.84 0-16 7.16-16 16v64c0 8.84 7.16 16 16 16h416c8.84 0 16-7.16 16-16v-64c0-8.84-7.16-16-16-16z"}}]})(e)}function eX(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 512 512"},"child":[{"tag":"path","attr":{"d":"M370.72 133.28C339.458 104.008 298.888 87.962 255.848 88c-77.458.068-144.328 53.178-162.791 126.85-1.344 5.363-6.122 9.15-11.651 9.15H24.103c-7.498 0-13.194-6.807-11.807-14.176C33.933 94.924 134.813 8 256 8c66.448 0 126.791 26.136 171.315 68.685L463.03 40.97C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.749zM32 296h134.059c21.382 0 32.09 25.851 16.971 40.971l-41.75 41.75c31.262 29.273 71.835 45.319 114.876 45.28 77.418-.07 144.315-53.144 162.787-126.849 1.344-5.363 6.122-9.15 11.651-9.15h57.304c7.498 0 13.194 6.807 11.807 14.176C478.067 417.076 377.187 504 256 504c-66.448 0-126.791-26.136-171.315-68.685L48.97 471.03C33.851 486.149 8 475.441 8 454.059V320c0-13.255 10.745-24 24-24z"}}]})(e)}function tX(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 352 512"},"child":[{"tag":"path","attr":{"d":"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"}}]})(e)}function nX(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 496 512"},"child":[{"tag":"path","attr":{"d":"M248 104c-53 0-96 43-96 96s43 96 96 96 96-43 96-96-43-96-96-96zm0 144c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm0-240C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 448c-49.7 0-95.1-18.3-130.1-48.4 14.9-23 40.4-38.6 69.6-39.5 20.8 6.4 40.6 9.6 60.5 9.6s39.7-3.1 60.5-9.6c29.2 1 54.7 16.5 69.6 39.5-35 30.1-80.4 48.4-130.1 48.4zm162.7-84.1c-24.4-31.4-62.1-51.9-105.1-51.9-10.2 0-26 9.6-57.6 9.6-31.5 0-47.4-9.6-57.6-9.6-42.9 0-80.6 20.5-105.1 51.9C61.9 339.2 48 299.2 48 256c0-110.3 89.7-200 200-200s200 89.7 200 200c0 43.2-13.9 83.2-37.3 115.9z"}}]})(e)}function rX(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 512 512"},"child":[{"tag":"path","attr":{"d":"M480 480H32c-17.7 0-32-14.3-32-32s14.3-32 32-32h448c17.7 0 32 14.3 32 32s-14.3 32-32 32z"}}]})(e)}function iX(e){return jx({"tag":"svg","attr":{"version":"1.2","baseProfile":"tiny","viewBox":"0 0 24 24"},"child":[{"tag":"path","attr":{"d":"M12 16c2.206 0 4-1.795 4-4v-6c0-2.206-1.794-4-4-4s-4 1.794-4 4v6c0 2.205 1.794 4 4 4zM19 12v-2c0-.552-.447-1-1-1s-1 .448-1 1v2c0 2.757-2.243 5-5 5s-5-2.243-5-5v-2c0-.552-.447-1-1-1s-1 .448-1 1v2c0 3.52 2.613 6.432 6 6.92v1.08h-3c-.553 0-1 .447-1 1s.447 1 1 1h8c.553 0 1-.447 1-1s-.447-1-1-1h-3v-1.08c3.387-.488 6-3.4 6-6.92z"}}]})(e)}function aX(e){return jx({"tag":"svg","attr":{"version":"1.1","viewBox":"0 0 16 16"},"child":[{"tag":"path","attr":{"d":"M6 2c0-1.105 0.895-2 2-2s2 0.895 2 2c0 1.105-0.895 2-2 2s-2-0.895-2-2zM10.243 3.757c0-1.105 0.895-2 2-2s2 0.895 2 2c0 1.105-0.895 2-2 2s-2-0.895-2-2zM13 8c0-0.552 0.448-1 1-1s1 0.448 1 1c0 0.552-0.448 1-1 1s-1-0.448-1-1zM11.243 12.243c0-0.552 0.448-1 1-1s1 0.448 1 1c0 0.552-0.448 1-1 1s-1-0.448-1-1zM7 14c0 0 0 0 0 0 0-0.552 0.448-1 1-1s1 0.448 1 1c0 0 0 0 0 0 0 0.552-0.448 1-1 1s-1-0.448-1-1zM2.757 12.243c0 0 0 0 0 0 0-0.552 0.448-1 1-1s1 0.448 1 1c0 0 0 0 0 0 0 0.552-0.448 1-1 1s-1-0.448-1-1zM2.257 3.757c0 0 0 0 0 0 0-0.828 0.672-1.5 1.5-1.5s1.5 0.672 1.5 1.5c0 0 0 0 0 0 0 0.828-0.672 1.5-1.5 1.5s-1.5-0.672-1.5-1.5zM0.875 8c0-0.621 0.504-1.125 1.125-1.125s1.125 0.504 1.125 1.125c0 0.621-0.504 1.125-1.125 1.125s-1.125-0.504-1.125-1.125z"}}]})(e)}function oX(e,t,n){return sX.apply(this,arguments)}function sX(){return(sX=(0,o.A)(u().mark((function e(t,n,r){var i,a,o,s,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wK(r);case 2:if(""!==(i=e.sent).trim()){e.next=6;break}return db(Mie("The message you were trying to send was empty","User tried to send empty message error","bp-better-messages"),3e3),e.abrupt("return",!1);case 6:return a="thread/"+t+"/save",o={message_id:n,message:i},e.prev=8,e.next=11,pie.post(a,o);case 11:return s=e.sent,c=s.data,bK(r),e.next=16,gK(c);case 16:return e.abrupt("return",!0);case 19:e.prev=19,e.t0=e.catch(8),db(e.t0.response.data.message);case 22:case"end":return e.stop()}}),e,null,[[8,19]])})))).apply(this,arguments)}function uX(e){var t="bm-mention";return Jy()===e.user_id&&(t+=" bm-mention-current"),c.createElement("span",{className:t},c.createElement(rM,{user_id:e.user_id,size:16,link:!1}),c.createElement(vM,{user_id:e.user_id,link:!1}))}function cX(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return lX(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lX(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function lX(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function dX(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,n=[];return e.map((function(e){if(c.isValidElement(e)&&n.push(e),"string"==typeof e){var r=[],i=[],a=pX(e);e=a.string;var o="";IV&&IV.custom&&(o+=IV.custom.join("|")+"|"),o+=/[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26D3\uFE0F?(?:\u200D\uD83D\uDCA5)?|\u26F9(?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF43\uDF45-\uDF4A\uDF4C-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDF44(?:\u200D\uD83D\uDFEB)?|\uDF4B(?:\u200D\uD83D\uDFE9)?|\uDFC3(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4\uDEB5](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC25\uDC27-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE41\uDE43\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDC-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC08(?:\u200D\u2B1B)?|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC26(?:\u200D(?:\u2B1B|\uD83D\uDD25))?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE])))?))?|\uDC6F(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDD75(?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?|\uDE42(?:\u200D[\u2194\u2195]\uFE0F?)?|\uDEB6(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF8](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE7C\uDE80-\uDE89\uDE8F-\uDEC2\uDEC6\uDECE-\uDEDC\uDEDF-\uDEE9]|\uDD3C(?:\u200D[\u2640\u2642]\uFE0F?|\uD83C[\uDFFB-\uDFFF])?|\uDDCE(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1|\uDDD1\u200D\uD83E\uDDD2(?:\u200D\uD83E\uDDD2)?|\uDDD2(?:\u200D\uD83E\uDDD2)?))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?)/g.source;var s,u=new RegExp(o,"g"),l=cX(e.matchAll(u));try{for(l.s();!(s=l.n()).done;){var d=s.value,p=d[0];r.push({emoji:p,index:d.index,length:p.length})}}catch(e){l.e(e)}finally{l.f()}var f=0;r.map((function(n,r){e.substring(f,n.index).length>0&&i.push(e.substring(f,n.index)),i.push(function(e){var t=IV;if(!t||!t.natives)return null;var n=t.natives[e.emoji],r=t.emojis[n];if(!r&&t.custom&&t.custom.includes(e.emoji)){var i=e.emoji.replace(/:/g,""),a=t.emojis[i].skins[0],o=e.useImportant&&Hie("better_messages_emoji_important",!0),s="display:inline-block;vertical-align:middle;background-image:url('"+a.src+"');background-size:contain;background-repeat:no-repeat;background-position: center;";return'<img style="'+(s+="width:"+e.size+"px;height:"+e.size+"px;")+'" alt="'+e.emoji+'" data-size="'+e.size+'" data-useImportant="'+o+'" draggable="false" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" class="bm-emoji-img" />'}if(!r)return e.emoji;var u=r.skins.filter((function(t){return t.native===e.emoji}));u=u.length>0?u[0]:r.skins[0];var c=e.useImportant&&Hie("better_messages_emoji_important",!0),l="display:inline-block;vertical-align:middle;background-image:url('"+OV+"');background-size:"+100*t.sheet.cols+"% "+100*t.sheet.rows+"%;";return l+="width:"+e.size+"px;height:"+e.size+"px;",'<img style="'+(l+="background-position:"+100/(t.sheet.cols-1)*u.x+"% "+100/(t.sheet.rows-1)*u.y+"%;")+'" alt="'+e.emoji+'" data-size="'+e.size+'" data-useImportant="'+c+'" draggable="false" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" class="bm-emoji-img" />'}({emoji:n.emoji,size:t,useImportant:!0})),f=n.index+n.length})),a.iframes.length>0&&a.iframes.map((function(t){e=e.replace("%%%iframe%%%",t)})),0===f?n.push(e):(i.push(e.substring(f)),n.push(i.join("")))}})),n}function pX(e){var t={iframes:arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],string:e},n=e.indexOf('<span class="bp-messages-iframe-container">');if(n>=0){var r=e.indexOf("</span>",n),i=e.substring(n,r+7);t.iframes.push(i),t.string=e.substring(0,n)+"%%%iframe%%%"+e.substring(r+7),t=pX(t.string,t.iframes)}return t}function fX(e){var t=(0,c.useRef)(null),n=(0,c.useRef)(null),r=(0,c.useRef)(null),i=(0,c.useState)(!1),a=(0,_.A)(i,2),o=a[0],s=a[1];(0,c.useEffect)((function(){r.current=t.current.querySelector("video"),t.current.addEventListener("bm-play-gif",u)}),[t]);var u=function(){r.current.play(),s(!0)};return c.createElement("span",{ref:t,className:"bpbm-gif"},!o&&c.createElement("span",{ref:n,onTouchStart:function(){u()},onClick:function(){u()},className:"bpbm-gif-play"},c.createElement(ZY,null)),Gg(e.video))}function hX(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 512 512"},"child":[{"tag":"path","attr":{"d":"M217.9 256L345 129c9.4-9.4 9.4-24.6 0-33.9-9.4-9.4-24.6-9.3-34 0L167 239c-9.1 9.1-9.3 23.7-.7 33.1L310.9 417c4.7 4.7 10.9 7 17 7s12.3-2.3 17-7c9.4-9.4 9.4-24.6 0-33.9L217.9 256z"}}]})(e)}function mX(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 512 512"},"child":[{"tag":"path","attr":{"d":"M436.9 364.8c-14.7-14.7-50-36.8-67.4-45.1-20.2-9.7-27.6-9.5-41.9.8-11.9 8.6-19.6 16.6-33.3 13.6-13.7-2.9-40.7-23.4-66.9-49.5-26.2-26.2-46.6-53.2-49.5-66.9-2.9-13.8 5.1-21.4 13.6-33.3 10.3-14.3 10.6-21.7.8-41.9C184 125 162 89.8 147.2 75.1c-14.7-14.7-18-11.5-26.1-8.6 0 0-12 4.8-23.9 12.7-14.7 9.8-22.9 18-28.7 30.3-5.7 12.3-12.3 35.2 21.3 95 27.1 48.3 53.7 84.9 93.2 124.3l.1.1.1.1c39.5 39.5 76 66.1 124.3 93.2 59.8 33.6 82.7 27 95 21.3 12.3-5.7 20.5-13.9 30.3-28.7 7.9-11.9 12.7-23.9 12.7-23.9 2.9-8.1 6.2-11.4-8.6-26.1z"}}]})(e)}function vX(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 512 512"},"child":[{"tag":"path","attr":{"d":"M450.6 153.6c-3.3 0-6.5.9-9.3 2.7l-86.5 54.6c-2.5 1.6-4 4.3-4 7.2v76c0 2.9 1.5 5.6 4 7.2l86.5 54.6c2.8 1.7 6 2.7 9.3 2.7h20.8c4.8 0 8.6-3.8 8.6-8.5v-188c0-4.7-3.9-8.5-8.6-8.5h-20.8zM273.5 384h-190C55.2 384 32 360.8 32 332.6V179.4c0-28.3 23.2-51.4 51.4-51.4h190c28.3 0 51.4 23.2 51.4 51.4v153.1c.1 28.3-23 51.5-51.3 51.5z"}}]})(e)}function gX(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 512 512"},"child":[{"tag":"path","attr":{"d":"M405 136.798L375.202 107 256 226.202 136.798 107 107 136.798 226.202 256 107 375.202 136.798 405 256 285.798 375.202 405 405 375.202 285.798 256z"}}]})(e)}function yX(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 20 20","fill":"currentColor","aria-hidden":"true"},"child":[{"tag":"path","attr":{"d":"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"}}]})(e)}function bX(){return c.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 24 24",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg"},c.createElement("path",{fillRule:"evenodd",d:"M15.22 3.22a.75.75 0 011.06 0L18 4.94l1.72-1.72a.75.75 0 111.06 1.06L19.06 6l1.72 1.72a.75.75 0 01-1.06 1.06L18 7.06l-1.72 1.72a.75.75 0 11-1.06-1.06L16.94 6l-1.72-1.72a.75.75 0 010-1.06zM1.5 4.5a3 3 0 013-3h1.372c.86 0 1.61.586 1.819 1.42l1.105 4.423a1.875 1.875 0 01-.694 1.955l-1.293.97c-.135.101-.164.249-.126.352a11.285 11.285 0 006.697 6.697c.103.038.25.009.352-.126l.97-1.293a1.875 1.875 0 011.955-.694l4.423 1.105c.834.209 1.42.959 1.42 1.82V19.5a3 3 0 01-3 3h-2.25C8.552 22.5 1.5 15.448 1.5 6.75V4.5z",clipRule:"evenodd"}))}__webpack_require__(43359);var wX={"o/":"","</3":"","<3":"","8-D":"","8D":"",":-D":"",":-3":"",":3":"",":D":"","B^D":"","X-D":"",XD:"","x-D":"",xD:"",":')":"",":'-)":"",":-))":"","8)":"",":)":"",":-)":"",":]":"",":^)":"",":c)":"",":o)":"",":}":"",":)":"","0:)":"","0:-)":"","0:-3":"","0:3":"","0;^)":"","O:-)":"","3:)":"","3:-)":"","}:)":"","}:-)":"","*)":"","*-)":"",":-,":"",";)":"",";-)":"",";-]":"",";D":"",";]":"",";^)":"",":-|":"",":|":"",":(":"",":-(":"",":-<":"",":-[":"",":-c":"",":<":"",":[":"",":c":"",":{":"",":C":"","%)":"","%-)":"",":-P":"",":-b":"",":-p":"",":-":"",":-":"",":P":"",":b":"",":p":"",":":"",":":"",";(":"","X-P":"",XP:"","d:":"","x-p":"",xp:"",":-||":"",":@":"",":-.":"",":-/":"",":/":"",":L":"",":S":"",":\\":"",":'(":"",":'-(":"","^5":"","^<_<":"","o/\\o":"","|-O":"","|;-)":"",":###..":"",":#":"",":-###..":"","D-':":"",D8:"","D:":"","D:<":"","D;":"",DX:"","v.v":"","8-0":"",":-O":"",":-o":"",":O":"",":o":"","O-O":"",O_O:"",O_o:"","o-o":"",o_O:"",o_o:"",":$":"","#-)":"",":&":"",":-#":"",":-&":"",":-X":"",":X":"",":-J":"",":*":"",":^*":"","_":"","*\\0/*":"","\\o/":"",":>":"",">.<":"",">:(":"",">:)":"",">:-)":"",">:/":"",">:O":"",">:P":"",">:[":"",">:\\":"",">;)":"",">_>^":"","^^":"",":sweat:":"",":smile:":"",":laughing:":"",":blush:":"",":smiley:":"",":relaxed:":"",":smirk:":"",":heart_eyes:":"",":kissing_heart:":"",":kissing_closed_eyes:":"",":flushed:":"",":relieved:":"",":satisfied:":"",":grin:":"",":wink:":"",":stuck_out_tongue_winking_eye:":"",":stuck_out_tongue_closed_eyes:":"",":grinning:":"",":kissing:":"",":kissing_smiling_eyes:":"",":stuck_out_tongue:":"",":sleeping:":"",":worried:":"",":frowning:":"",":anguished:":"",":open_mouth:":"",":grimacing:":"",":confused:":"",":hushed:":"",":expressionless:":"",":unamused:":"",":sweat_smile:":"",":disappointed_relieved:":"",":weary:":"",":pensive:":"",":disappointed:":"",":confounded:":"",":fearful:":"",":cold_sweat:":"",":persevere:":"",":cry:":"",":sob:":"",":joy:":"",":astonished:":"",":scream:":"",":tired_face:":"",":angry:":"",":rage:":"",":triumph:":"",":sleepy:":"",":yum:":"",":mask:":"",":sunglasses:":"",":dizzy_face:":"",":imp:":"",":smiling_imp:":"",":neutral_face:":"",":no_mouth:":"",":innocent:":"",":alien:":"",":yellow_heart:":"",":blue_heart:":"",":purple_heart:":"",":heart:":"",":green_heart:":"",":broken_heart:":"",":heartbeat:":"",":heartpulse:":"",":two_hearts:":"",":revolving_hearts:":"",":cupid:":"",":sparkling_heart:":"",":sparkles:":"",":star:":"",":star2:":"",":dizzy:":"",":boom:":"",":collision:":"",":anger:":"",":exclamation:":"",":question:":"",":grey_exclamation:":"",":grey_question:":"",":zzz:":"",":dash:":"",":sweat_drops:":"",":notes:":"",":musical_note:":"",":fire:":"",":hankey:":"",":poop:":"",":shit:":"",":+1:":"",":thumbsup:":"",":-1:":"",":thumbsdown:":"",":ok_hand:":"",":punch:":"",":facepunch:":"",":fist:":"",":v:":"",":wave:":"",":hand:":"",":raised_hand:":"",":open_hands:":"",":point_up:":"",":point_down:":"",":point_left:":"",":point_right:":"",":raised_hands:":"",":pray:":"",":point_up_2:":"",":clap:":"",":muscle:":"",":metal:":"",":fu:":"",":walking:":"",":runner:":"",":running:":"",":couple:":"",":family:":"",":two_men_holding_hands:":"",":two_women_holding_hands:":"",":dancer:":"",":dancers:":"",":no_good:":"",":information_desk_person:":"",":raising_hand:":"",":bride_with_veil:":"",":bow:":"",":couplekiss:":"",":couple_with_heart:":"",":massage:":"",":haircut:":"",":nail_care:":"",":boy:":"",":girl:":"",":woman:":"",":man:":"",":baby:":"",":older_woman:":"",":older_man:":"",":man_with_gua_pi_mao:":"",":construction_worker:":"",":cop:":"",":angel:":"",":princess:":"",":smiley_cat:":"",":smile_cat:":"",":heart_eyes_cat:":"",":kissing_cat:":"",":smirk_cat:":"",":scream_cat:":"",":crying_cat_face:":"",":joy_cat:":"",":pouting_cat:":"",":japanese_ogre:":"",":japanese_goblin:":"",":see_no_evil:":"",":hear_no_evil:":"",":speak_no_evil:":"",":skull:":"",":feet:":"",":lips:":"",":kiss:":"",":droplet:":"",":ear:":"",":eyes:":"",":nose:":"",":tongue:":"",":love_letter:":"",":bust_in_silhouette:":"",":busts_in_silhouette:":"",":speech_balloon:":"",":thought_balloon:":"",":sunny:":"",":umbrella:":"",":cloud:":"",":snowflake:":"",":snowman:":"",":zap:":"",":cyclone:":"",":foggy:":"",":ocean:":"",":cat:":"",":dog:":"",":mouse:":"",":hamster:":"",":rabbit:":"",":wolf:":"",":frog:":"",":tiger:":"",":koala:":"",":bear:":"",":pig:":"",":pig_nose:":"",":cow:":"",":boar:":"",":monkey_face:":"",":monkey:":"",":horse:":"",":racehorse:":"",":camel:":"",":sheep:":"",":elephant:":"",":panda_face:":"",":snake:":"",":bird:":"",":baby_chick:":"",":hatched_chick:":"",":hatching_chick:":"",":chicken:":"",":penguin:":"",":turtle:":"",":bug:":"",":honeybee:":"",":ant:":"",":beetle:":"",":snail:":"",":octopus:":"",":tropical_fish:":"",":fish:":"",":whale:":"",":whale2:":"",":dolphin:":"",":cow2:":"",":ram:":"",":rat:":"",":water_buffalo:":"",":tiger2:":"",":rabbit2:":"",":dragon:":"",":goat:":"",":rooster:":"",":dog2:":"",":pig2:":"",":mouse2:":"",":ox:":"",":dragon_face:":"",":blowfish:":"",":crocodile:":"",":dromedary_camel:":"",":leopard:":"",":cat2:":"",":poodle:":"",":paw_prints:":"",":bouquet:":"",":cherry_blossom:":"",":tulip:":"",":four_leaf_clover:":"",":rose:":"",":sunflower:":"",":hibiscus:":"",":maple_leaf:":"",":leaves:":"",":fallen_leaf:":"",":herb:":"",":mushroom:":"",":cactus:":"",":palm_tree:":"",":evergreen_tree:":"",":deciduous_tree:":"",":chestnut:":"",":seedling:":"",":blossom:":"",":ear_of_rice:":"",":shell:":"",":globe_with_meridians:":"",":sun_with_face:":"",":full_moon_with_face:":"",":new_moon_with_face:":"",":new_moon:":"",":waxing_crescent_moon:":"",":first_quarter_moon:":"",":waxing_gibbous_moon:":"",":full_moon:":"",":waning_gibbous_moon:":"",":last_quarter_moon:":"",":waning_crescent_moon:":"",":last_quarter_moon_with_face:":"",":first_quarter_moon_with_face:":"",":moon:":"",":earth_africa:":"",":earth_americas:":"",":earth_asia:":"",":volcano:":"",":milky_way:":"",":partly_sunny:":"",":bamboo:":"",":gift_heart:":"",":dolls:":"",":school_satchel:":"",":mortar_board:":"",":flags:":"",":fireworks:":"",":sparkler:":"",":wind_chime:":"",":rice_scene:":"",":jack_o_lantern:":"",":ghost:":"",":santa:":"",":christmas_tree:":"",":gift:":"",":bell:":"",":no_bell:":"",":tanabata_tree:":"",":tada:":"",":confetti_ball:":"",":balloon:":"",":crystal_ball:":"",":cd:":"",":dvd:":"",":floppy_disk:":"",":camera:":"",":video_camera:":"",":movie_camera:":"",":computer:":"",":tv:":"",":iphone:":"",":phone:":"",":telephone:":"",":telephone_receiver:":"",":pager:":"",":fax:":"",":minidisc:":"",":vhs:":"",":sound:":"",":speaker:":"",":mute:":"",":loudspeaker:":"",":mega:":"",":hourglass:":"",":hourglass_flowing_sand:":"",":alarm_clock:":"",":watch:":"",":radio:":"",":satellite:":"",":loop:":"",":mag:":"",":mag_right:":"",":unlock:":"",":lock:":"",":lock_with_ink_pen:":"",":closed_lock_with_key:":"",":key:":"",":bulb:":"",":flashlight:":"",":high_brightness:":"",":low_brightness:":"",":electric_plug:":"",":battery:":"",":calling:":"",":email:":"",":mailbox:":"",":postbox:":"",":bath:":"",":bathtub:":"",":shower:":"",":toilet:":"",":wrench:":"",":nut_and_bolt:":"",":hammer:":"",":seat:":"",":moneybag:":"",":yen:":"",":dollar:":"",":pound:":"",":euro:":"",":credit_card:":"",":money_with_wings:":"",":e-mail:":"",":inbox_tray:":"",":outbox_tray:":"",":envelope:":"",":incoming_envelope:":"",":postal_horn:":"",":mailbox_closed:":"",":mailbox_with_mail:":"",":mailbox_with_no_mail:":"",":package:":"",":door:":"",":smoking:":"",":bomb:":"",":gun:":"",":hocho:":"",":pill:":"",":syringe:":"",":page_facing_up:":"",":page_with_curl:":"",":bookmark_tabs:":"",":bar_chart:":"",":chart_with_upwards_trend:":"",":chart_with_downwards_trend:":"",":scroll:":"",":clipboard:":"",":calendar:":"",":date:":"",":card_index:":"",":file_folder:":"",":open_file_folder:":"",":scissors:":"",":pushpin:":"",":paperclip:":"",":black_nib:":"",":pencil2:":"",":straight_ruler:":"",":triangular_ruler:":"",":closed_book:":"",":green_book:":"",":blue_book:":"",":orange_book:":"",":notebook:":"",":notebook_with_decorative_cover:":"",":ledger:":"",":books:":"",":bookmark:":"",":name_badge:":"",":microscope:":"",":telescope:":"",":newspaper:":"",":football:":"",":basketball:":"",":soccer:":"",":baseball:":"",":tennis:":"",":8ball:":"",":rugby_football:":"",":bowling:":"",":golf:":"",":mountain_bicyclist:":"",":bicyclist:":"",":horse_racing:":"",":snowboarder:":"",":swimmer:":"",":surfer:":"",":ski:":"",":spades:":"",":hearts:":"",":clubs:":"",":diamonds:":"",":gem:":"",":ring:":"",":trophy:":"",":musical_score:":"",":musical_keyboard:":"",":violin:":"",":space_invader:":"",":video_game:":"",":black_joker:":"",":flower_playing_cards:":"",":game_die:":"",":dart:":"",":mahjong:":"",":clapper:":"",":memo:":"",":pencil:":"",":book:":"",":art:":"",":microphone:":"",":headphones:":"",":trumpet:":"",":saxophone:":"",":guitar:":"",":shoe:":"",":sandal:":"",":high_heel:":"",":lipstick:":"",":boot:":"",":shirt:":"",":tshirt:":"",":necktie:":"",":womans_clothes:":"",":dress:":"",":running_shirt_with_sash:":"",":jeans:":"",":kimono:":"",":bikini:":"",":ribbon:":"",":tophat:":"",":crown:":"",":womans_hat:":"",":mans_shoe:":"",":closed_umbrella:":"",":briefcase:":"",":handbag:":"",":pouch:":"",":purse:":"",":eyeglasses:":"",":fishing_pole_and_fish:":"",":coffee:":"",":tea:":"",":sake:":"",":baby_bottle:":"",":beer:":"",":beers:":"",":cocktail:":"",":tropical_drink:":"",":wine_glass:":"",":fork_and_knife:":"",":pizza:":"",":hamburger:":"",":fries:":"",":poultry_leg:":"",":meat_on_bone:":"",":spaghetti:":"",":curry:":"",":fried_shrimp:":"",":bento:":"",":sushi:":"",":fish_cake:":"",":rice_ball:":"",":rice_cracker:":"",":rice:":"",":ramen:":"",":stew:":"",":oden:":"",":dango:":"",":egg:":"",":bread:":"",":doughnut:":"",":custard:":"",":icecream:":"",":ice_cream:":"",":shaved_ice:":"",":birthday:":"",":cake:":"",":cookie:":"",":chocolate_bar:":"",":candy:":"",":lollipop:":"",":honey_pot:":"",":apple:":"",":green_apple:":"",":tangerine:":"",":lemon:":"",":cherries:":"",":grapes:":"",":watermelon:":"",":strawberry:":"",":peach:":"",":melon:":"",":banana:":"",":pear:":"",":pineapple:":"",":sweet_potato:":"",":eggplant:":"",":tomato:":"",":corn:":"",":house:":"",":house_with_garden:":"",":school:":"",":office:":"",":post_office:":"",":hospital:":"",":bank:":"",":convenience_store:":"",":love_hotel:":"",":hotel:":"",":wedding:":"",":church:":"",":department_store:":"",":european_post_office:":"",":city_sunrise:":"",":city_sunset:":"",":japanese_castle:":"",":european_castle:":"",":tent:":"",":factory:":"",":tokyo_tower:":"",":japan:":"",":mount_fuji:":"",":sunrise_over_mountains:":"",":sunrise:":"",":stars:":"",":statue_of_liberty:":"",":bridge_at_night:":"",":carousel_horse:":"",":rainbow:":"",":ferris_wheel:":"",":fountain:":"",":roller_coaster:":"",":ship:":"",":speedboat:":"",":boat:":"",":sailboat:":"",":rowboat:":"",":anchor:":"",":rocket:":"",":airplane:":"",":helicopter:":"",":steam_locomotive:":"",":tram:":"",":mountain_railway:":"",":bike:":"",":aerial_tramway:":"",":suspension_railway:":"",":mountain_cableway:":"",":tractor:":"",":blue_car:":"",":oncoming_automobile:":"",":car:":"",":red_car:":"",":taxi:":"",":oncoming_taxi:":"",":articulated_lorry:":"",":bus:":"",":oncoming_bus:":"",":rotating_light:":"",":police_car:":"",":oncoming_police_car:":"",":fire_engine:":"",":ambulance:":"",":minibus:":"",":truck:":"",":train:":"",":station:":"",":train2:":"",":bullettrain_front:":"",":bullettrain_side:":"",":light_rail:":"",":monorail:":"",":railway_car:":"",":trolleybus:":"",":ticket:":"",":fuelpump:":"",":vertical_traffic_light:":"",":traffic_light:":"",":warning:":"",":construction:":"",":beginner:":"",":atm:":"",":slot_machine:":"",":busstop:":"",":barber:":"",":hotsprings:":"",":checkered_flag:":"",":crossed_flags:":"",":izakaya_lantern:":"",":moyai:":"",":circus_tent:":"",":performing_arts:":"",":round_pushpin:":"",":triangular_flag_on_post:":"",":jp:":"",":kr:":"",":cn:":"",":us:":"",":fr:":"",":es:":"",":it:":"",":ru:":"",":gb:":"",":uk:":"",":de:":"",":one:":"1",":two:":"2",":three:":"3",":four:":"4",":five:":"5",":six:":"6",":seven:":"7",":eight:":"8",":nine:":"9",":keycap_ten:":"",":1234:":"",":zero:":"0",":hash:":"#",":symbols:":"",":arrow_backward:":"",":arrow_down:":"",":arrow_forward:":"",":arrow_left:":"",":capital_abcd:":"",":abcd:":"",":abc:":"",":arrow_lower_left:":"",":arrow_lower_right:":"",":arrow_right:":"",":arrow_up:":"",":arrow_upper_left:":"",":arrow_upper_right:":"",":arrow_double_down:":"",":arrow_double_up:":"",":arrow_down_small:":"",":arrow_heading_down:":"",":arrow_heading_up:":"",":leftwards_arrow_with_hook:":"",":arrow_right_hook:":"",":left_right_arrow:":"",":arrow_up_down:":"",":arrow_up_small:":"",":arrows_clockwise:":"",":arrows_counterclockwise:":"",":rewind:":"",":fast_forward:":"",":information_source:":"",":ok:":"",":twisted_rightwards_arrows:":"",":repeat:":"",":repeat_one:":"",":new:":"",":top:":"",":up:":"",":cool:":"",":free:":"",":ng:":"",":cinema:":"",":koko:":"",":signal_strength:":"",":u5272:":"",":u5408:":"",":u55b6:":"",":u6307:":"",":u6708:":"",":u6709:":"",":u6e80:":"",":u7121:":"",":u7533:":"",":u7a7a:":"",":u7981:":"",":sa:":"",":restroom:":"",":mens:":"",":womens:":"",":baby_symbol:":"",":no_smoking:":"",":parking:":"",":wheelchair:":"",":metro:":"",":baggage_claim:":"",":accept:":"",":wc:":"",":potable_water:":"",":put_litter_in_its_place:":"",":secret:":"",":congratulations:":"",":m:":"",":passport_control:":"",":left_luggage:":"",":customs:":"",":ideograph_advantage:":"",":cl:":"",":sos:":"",":id:":"",":no_entry_sign:":"",":underage:":"",":no_mobile_phones:":"",":do_not_litter:":"",":non-potable_water:":"",":no_bicycles:":"",":no_pedestrians:":"",":children_crossing:":"",":no_entry:":"",":eight_spoked_asterisk:":"",":sparkle:":"",":eight_pointed_black_star:":"",":heart_decoration:":"",":vs:":"",":vibration_mode:":"",":mobile_phone_off:":"",":chart:":"",":currency_exchange:":"",":aries:":"",":taurus:":"",":gemini:":"",":cancer:":"",":leo:":"",":virgo:":"",":libra:":"",":scorpius:":"",":sagittarius:":"",":capricorn:":"",":aquarius:":"",":pisces:":"",":ophiuchus:":"",":six_pointed_star:":"",":negative_squared_cross_mark:":"",":a:":"",":b:":"",":ab:":"",":o2:":"",":diamond_shape_with_a_dot_inside:":"",":recycle:":"",":end:":"",":back:":"",":on:":"",":soon:":"",":clock1:":"",":clock130:":"",":clock10:":"",":clock1030:":"",":clock11:":"",":clock1130:":"",":clock12:":"",":clock1230:":"",":clock2:":"",":clock230:":"",":clock3:":"",":clock330:":"",":clock4:":"",":clock430:":"",":clock5:":"",":clock530:":"",":clock6:":"",":clock630:":"",":clock7:":"",":clock730:":"",":clock8:":"",":clock830:":"",":clock9:":"",":clock930:":"",":heavy_dollar_sign:":"",":copyright:":"",":registered:":"",":tm:":"",":x:":"",":heavy_exclamation_mark:":"",":bangbang:":"",":interrobang:":"",":o:":"",":heavy_multiplication_x:":"",":heavy_plus_sign:":"",":heavy_minus_sign:":"",":heavy_division_sign:":"",":white_flower:":"",":100:":"",":heavy_check_mark:":"",":ballot_box_with_check:":"",":radio_button:":"",":link:":"",":curly_loop:":"",":wavy_dash:":"",":part_alternation_mark:":""},DX=new Set(["__defineGetter__","__defineSetter__","__lookupGetter__","__lookupSetter__","__proto__","constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]);function AX(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"...",r=/[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26D3\uFE0F?(?:\u200D\uD83D\uDCA5)?|\u26F9(?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF43\uDF45-\uDF4A\uDF4C-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDF44(?:\u200D\uD83D\uDFEB)?|\uDF4B(?:\u200D\uD83D\uDFE9)?|\uDFC3(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4\uDEB5](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC25\uDC27-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE41\uDE43\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDC-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC08(?:\u200D\u2B1B)?|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC26(?:\u200D(?:\u2B1B|\uD83D\uDD25))?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE])))?))?|\uDC6F(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDD75(?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?|\uDE42(?:\u200D[\u2194\u2195]\uFE0F?)?|\uDEB6(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF8](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE7C\uDE80-\uDE89\uDE8F-\uDEC2\uDEC6\uDECE-\uDEDC\uDEDF-\uDEE9]|\uDD3C(?:\u200D[\u2640\u2642]\uFE0F?|\uD83C[\uDFFB-\uDFFF])?|\uDDCE(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1|\uDDD1\u200D\uD83E\uDDD2(?:\u200D\uD83E\uDDD2)?|\uDDD2(?:\u200D\uD83E\uDDD2)?))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?)/g,i=(0,z.A)(e.matchAll(r)),a=0,o="",s=0,u=0;u<e.length;u++)if(s<i.length&&u===i[s].index){var c=i[s][0];if(a+c.length>t)break;o+=c,a+=c.length,u+=c.length-1,s++}else{if(a+1>t)break;o+=e[u],a+=1}return o.length<e.length?o+n:e}function EX(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 24 24"},"child":[{"tag":"path","attr":{"d":"M6.45455 19L2 22.5V4C2 3.44772 2.44772 3 3 3H21C21.5523 3 22 3.44772 22 4V18C22 18.5523 21.5523 19 21 19H6.45455ZM4 18.3851L5.76282 17H20V5H4V18.3851ZM13.4142 11L15.8891 13.4749L14.4749 14.8891L12 12.4142L9.52513 14.8891L8.11091 13.4749L10.5858 11L8.11091 8.52513L9.52513 7.11091L12 9.58579L14.4749 7.11091L15.8891 8.52513L13.4142 11Z"}}]})(e)}function kX(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 24 24"},"child":[{"tag":"path","attr":{"d":"M4.92893 19.0711C3.11929 17.2614 2 14.7614 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22H2L4.92893 19.0711ZM11 6V18H13V6H11ZM7 9V15H9V9H7ZM15 9V15H17V9H15Z"}}]})(e)}function CX(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 24 24"},"child":[{"tag":"path","attr":{"d":"M6.45455 19L2 22.5V4C2 3.44772 2.44772 3 3 3H21C21.5523 3 22 3.44772 22 4V18C22 18.5523 21.5523 19 21 19H6.45455ZM14 10.25V8H7V14H14V11.75L17 14V8L14 10.25Z"}}]})(e)}function _X(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 24 24"},"child":[{"tag":"path","attr":{"d":"M13.8273 1.68994L22.3126 10.1752L20.8984 11.5894L20.1913 10.8823L15.9486 15.125L15.2415 18.6605L13.8273 20.0747L9.58466 15.8321L4.63492 20.7818L3.2207 19.3676L8.17045 14.4179L3.92781 10.1752L5.34202 8.76101L8.87756 8.0539L13.1202 3.81126L12.4131 3.10416L13.8273 1.68994ZM14.5344 5.22548L9.86358 9.89631L7.0417 10.4607L13.5418 16.9608L14.1062 14.1389L18.7771 9.46812L14.5344 5.22548Z"}}]})(e)}function xX(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 24 24"},"child":[{"tag":"path","attr":{"d":"M20.9701 17.1715 19.5559 18.5858 16.0214 15.0513 15.9476 15.125 15.2405 18.6605 13.8263 20.0747 9.58369 15.8321 4.63394 20.7818 3.21973 19.3676 8.16947 14.4179 3.92683 10.1752 5.34105 8.76101 8.87658 8.0539 8.95029 7.98019 5.41373 4.44362 6.82794 3.02941 20.9701 17.1715ZM10.3645 9.3944 9.86261 9.89631 7.04072 10.4607 13.5409 16.9608 14.1052 14.1389 14.6071 13.637 10.3645 9.3944ZM18.7761 9.46812 17.4356 10.8086 18.8498 12.2228 20.1903 10.8823 20.8974 11.5894 22.3116 10.1752 13.8263 1.68994 12.4121 3.10416 13.1192 3.81126 11.7787 5.15176 13.1929 6.56597 14.5334 5.22548 18.7761 9.46812Z"}}]})(e)}function SX(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 24 24"},"child":[{"tag":"path","attr":{"d":"M17 6H22V8H20V21C20 21.5523 19.5523 22 19 22H5C4.44772 22 4 21.5523 4 21V8H2V6H7V3C7 2.44772 7.44772 2 8 2H16C16.5523 2 17 2.44772 17 3V6ZM18 8H6V20H18V8ZM13.4142 13.9997L15.182 15.7675L13.7678 17.1817L12 15.4139L10.2322 17.1817L8.81802 15.7675L10.5858 13.9997L8.81802 12.232L10.2322 10.8178L12 12.5855L13.7678 10.8178L15.182 12.232L13.4142 13.9997ZM9 4V6H15V4H9Z"}}]})(e)}function TX(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var FX={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function OX(e){FX=e}var PX=/[&<>"']/,IX=new RegExp(PX.source,"g"),BX=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,RX=new RegExp(BX.source,"g"),NX={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},MX=function(e){return NX[e]};function LX(e,t){if(t){if(PX.test(e))return e.replace(IX,MX)}else if(BX.test(e))return e.replace(RX,MX);return e}var jX=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function UX(e){return e.replace(jX,(function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""}))}var zX=/(^|[^\[])\^/g;function VX(e,t){var n="string"==typeof e?e:e.source;t=t||"";var r={replace:function(e,t){var i="string"==typeof t?t:t.source;return i=i.replace(zX,"$1"),n=n.replace(e,i),r},getRegex:function(){return new RegExp(n,t)}};return r}function qX(e){try{e=encodeURI(e).replace(/%25/g,"%")}catch(e){return null}return e}var HX={exec:function(){return null}};function WX(e,t){var n=e.replace(/\|/g,(function(e,t,n){for(var r=!1,i=t;--i>=0&&"\\"===n[i];)r=!r;return r?"|":" |"})).split(/ \|/),r=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),t)if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n}function KX(e,t,n){var r=e.length;if(0===r)return"";for(var i=0;i<r;){var a=e.charAt(r-i-1);if(a!==t||n){if(a===t||!n)break;i++}else i++}return e.slice(0,r-i)}function $X(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return GX(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?GX(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function GX(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function QX(e,t,n,r){var i=t.href,a=t.title?LX(t.title):null,o=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){r.state.inLink=!0;var s={type:"link",raw:n,href:i,title:a,text:o,tokens:r.inlineTokens(o)};return r.state.inLink=!1,s}return{type:"image",raw:n,href:i,title:a,text:LX(o)}}var YX=function(){return(0,f.A)((function e(t){(0,p.A)(this,e),this.options=t||FX}),[{key:"space",value:function(e){var t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}},{key:"code",value:function(e){var t=this.rules.block.code.exec(e);if(t){var n=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:KX(n,"\n")}}}},{key:"fences",value:function(e){var t=this.rules.block.fences.exec(e);if(t){var n=t[0],r=function(e,t){var n=e.match(/^(\s+)(?:```)/);if(null===n)return t;var r=n[1];return t.split("\n").map((function(e){var t=e.match(/^\s+/);return null===t?e:(0,_.A)(t,1)[0].length>=r.length?e.slice(r.length):e})).join("\n")}(n,t[3]||"");return{type:"code",raw:n,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:r}}}},{key:"heading",value:function(e){var t=this.rules.block.heading.exec(e);if(t){var n=t[2].trim();if(/#$/.test(n)){var r=KX(n,"#");this.options.pedantic?n=r.trim():r&&!/ $/.test(r)||(n=r.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n,tokens:this.lexer.inline(n)}}}},{key:"hr",value:function(e){var t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}},{key:"blockquote",value:function(e){var t=this.rules.block.blockquote.exec(e);if(t){var n=t[0].replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,"\n    $1");n=KX(n.replace(/^ *>[ \t]?/gm,""),"\n");var r=this.lexer.state.top;this.lexer.state.top=!0;var i=this.lexer.blockTokens(n);return this.lexer.state.top=r,{type:"blockquote",raw:t[0],tokens:i,text:n}}}},{key:"list",value:function(e){var t=this.rules.block.list.exec(e);if(t){var n=t[1].trim(),r=n.length>1,i={type:"list",raw:"",ordered:r,start:r?+n.slice(0,-1):"",loose:!1,items:[]};n=r?"\\d{1,9}\\".concat(n.slice(-1)):"\\".concat(n),this.options.pedantic&&(n=r?n:"[*+-]");for(var a=new RegExp("^( {0,3}".concat(n,")((?:[\t ][^\\n]*)?(?:\\n|$))")),o="",s="",u=!1;e;){var c=!1;if(!(t=a.exec(e)))break;if(this.rules.block.hr.test(e))break;o=t[0],e=e.substring(o.length);var l=t[2].split("\n",1)[0].replace(/^\t+/,(function(e){return" ".repeat(3*e.length)})),d=e.split("\n",1)[0],p=0;this.options.pedantic?(p=2,s=l.trimStart()):(p=(p=t[2].search(/[^ ]/))>4?1:p,s=l.slice(p),p+=t[1].length);var f=!1;if(!l&&/^ *$/.test(d)&&(o+=d+"\n",e=e.substring(d.length+1),c=!0),!c)for(var h=new RegExp("^ {0,".concat(Math.min(3,p-1),"}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))")),m=new RegExp("^ {0,".concat(Math.min(3,p-1),"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)")),v=new RegExp("^ {0,".concat(Math.min(3,p-1),"}(?:```|~~~)")),g=new RegExp("^ {0,".concat(Math.min(3,p-1),"}#"));e;){var y=e.split("\n",1)[0];if(d=y,this.options.pedantic&&(d=d.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),v.test(d))break;if(g.test(d))break;if(h.test(d))break;if(m.test(e))break;if(d.search(/[^ ]/)>=p||!d.trim())s+="\n"+d.slice(p);else{if(f)break;if(l.search(/[^ ]/)>=4)break;if(v.test(l))break;if(g.test(l))break;if(m.test(l))break;s+="\n"+d}f||d.trim()||(f=!0),o+=y+"\n",e=e.substring(y.length+1),l=d.slice(p)}i.loose||(u?i.loose=!0:/\n *\n *$/.test(o)&&(u=!0));var b=null,w=void 0;this.options.gfm&&(b=/^\[[ xX]\] /.exec(s))&&(w="[ ] "!==b[0],s=s.replace(/^\[[ xX]\] +/,"")),i.items.push({type:"list_item",raw:o,task:!!b,checked:w,loose:!1,text:s,tokens:[]}),i.raw+=o}i.items[i.items.length-1].raw=o.trimEnd(),i.items[i.items.length-1].text=s.trimEnd(),i.raw=i.raw.trimEnd();for(var D=0;D<i.items.length;D++)if(this.lexer.state.top=!1,i.items[D].tokens=this.lexer.blockTokens(i.items[D].text,[]),!i.loose){var A=i.items[D].tokens.filter((function(e){return"space"===e.type})),E=A.length>0&&A.some((function(e){return/\n.*\n/.test(e.raw)}));i.loose=E}if(i.loose)for(var k=0;k<i.items.length;k++)i.items[k].loose=!0;return i}}},{key:"html",value:function(e){var t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:"pre"===t[1]||"script"===t[1]||"style"===t[1],text:t[0]}}},{key:"def",value:function(e){var t=this.rules.block.def.exec(e);if(t){var n=t[1].toLowerCase().replace(/\s+/g," "),r=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",i=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:n,raw:t[0],href:r,title:i}}}},{key:"table",value:function(e){var t=this,n=this.rules.block.table.exec(e);if(n&&/[:|]/.test(n[2])){var r=WX(n[1]),i=n[2].replace(/^\||\| *$/g,"").split("|"),a=n[3]&&n[3].trim()?n[3].replace(/\n[ \t]*$/,"").split("\n"):[],o={type:"table",raw:n[0],header:[],align:[],rows:[]};if(r.length===i.length){var s,u=$X(i);try{for(u.s();!(s=u.n()).done;){var c=s.value;/^ *-+: *$/.test(c)?o.align.push("right"):/^ *:-+: *$/.test(c)?o.align.push("center"):/^ *:-+ *$/.test(c)?o.align.push("left"):o.align.push(null)}}catch(e){u.e(e)}finally{u.f()}var l,d=$X(r);try{for(d.s();!(l=d.n()).done;){var p=l.value;o.header.push({text:p,tokens:this.lexer.inline(p)})}}catch(e){d.e(e)}finally{d.f()}var f,h=$X(a);try{for(h.s();!(f=h.n()).done;){var m=f.value;o.rows.push(WX(m,o.header.length).map((function(e){return{text:e,tokens:t.lexer.inline(e)}})))}}catch(e){h.e(e)}finally{h.f()}return o}}}},{key:"lheading",value:function(e){var t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}},{key:"paragraph",value:function(e){var t=this.rules.block.paragraph.exec(e);if(t){var n="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:n,tokens:this.lexer.inline(n)}}}},{key:"text",value:function(e){var t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}},{key:"escape",value:function(e){var t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:LX(t[1])}}},{key:"tag",value:function(e){var t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}},{key:"link",value:function(e){var t=this.rules.inline.link.exec(e);if(t){var n=t[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;var r=KX(n.slice(0,-1),"\\");if((n.length-r.length)%2==0)return}else{var i=function(e,t){if(-1===e.indexOf(t[1]))return-1;for(var n=0,r=0;r<e.length;r++)if("\\"===e[r])r++;else if(e[r]===t[0])n++;else if(e[r]===t[1]&&--n<0)return r;return-1}(t[2],"()");if(i>-1){var a=(0===t[0].indexOf("!")?5:4)+t[1].length+i;t[2]=t[2].substring(0,i),t[0]=t[0].substring(0,a).trim(),t[3]=""}}var o=t[2],s="";if(this.options.pedantic){var u=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o);u&&(o=u[1],s=u[3])}else s=t[3]?t[3].slice(1,-1):"";return o=o.trim(),/^</.test(o)&&(o=this.options.pedantic&&!/>$/.test(n)?o.slice(1):o.slice(1,-1)),QX(t,{href:o?o.replace(this.rules.inline.anyPunctuation,"$1"):o,title:s?s.replace(this.rules.inline.anyPunctuation,"$1"):s},t[0],this.lexer)}}},{key:"reflink",value:function(e,t){var n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){var r=t[(n[2]||n[1]).replace(/\s+/g," ").toLowerCase()];if(!r){var i=n[0].charAt(0);return{type:"text",raw:i,text:i}}return QX(n,r,n[0],this.lexer)}}},{key:"emStrong",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=this.rules.inline.emStrongLDelim.exec(e);if(r&&((!r[3]||!n.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDD40-\uDD65\uDD6F-\uDD85\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDED0-\uDEE3\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0\uDFF0-\uDFF9]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDF50-\uDF59\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D\uDD30-\uDD39]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDD70-\uDD79\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD833[\uDCF0-\uDCF9]|\uD834[\uDEC0-\uDED3\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDCD0-\uDCEB\uDCF0-\uDCF9\uDDD0-\uDDED\uDDF0-\uDDFA\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])/))&&(!(r[1]||r[2]||"")||!n||this.rules.inline.punctuation.exec(n)))){var i,a,o=(0,z.A)(r[0]).length-1,s=o,u=0,c="*"===r[0][0]?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(c.lastIndex=0,t=t.slice(-1*e.length+o);null!=(r=c.exec(t));)if(i=r[1]||r[2]||r[3]||r[4]||r[5]||r[6])if(a=(0,z.A)(i).length,r[3]||r[4])s+=a;else if(!((r[5]||r[6])&&o%3)||(o+a)%3){if(!((s-=a)>0)){a=Math.min(a,a+s+u);var l=(0,z.A)(r[0])[0].length,d=e.slice(0,o+r.index+l+a);if(Math.min(o,a)%2){var p=d.slice(1,-1);return{type:"em",raw:d,text:p,tokens:this.lexer.inlineTokens(p)}}var f=d.slice(2,-2);return{type:"strong",raw:d,text:f,tokens:this.lexer.inlineTokens(f)}}}else u+=a}}},{key:"codespan",value:function(e){var t=this.rules.inline.code.exec(e);if(t){var n=t[2].replace(/\n/g," "),r=/[^ ]/.test(n),i=/^ /.test(n)&&/ $/.test(n);return r&&i&&(n=n.substring(1,n.length-1)),n=LX(n,!0),{type:"codespan",raw:t[0],text:n}}}},{key:"br",value:function(e){var t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}},{key:"del",value:function(e){var t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}},{key:"autolink",value:function(e){var t,n,r=this.rules.inline.autolink.exec(e);if(r)return n="@"===r[2]?"mailto:"+(t=LX(r[1])):t=LX(r[1]),{type:"link",raw:r[0],text:t,href:n,tokens:[{type:"text",raw:t,text:t}]}}},{key:"url",value:function(e){var t;if(t=this.rules.inline.url.exec(e)){var n,r;if("@"===t[2])r="mailto:"+(n=LX(t[0]));else{var i;do{var a,o;i=t[0],t[0]=null!==(a=null===(o=this.rules.inline._backpedal.exec(t[0]))||void 0===o?void 0:o[0])&&void 0!==a?a:""}while(i!==t[0]);n=LX(t[0]),r="www."===t[1]?"http://"+t[0]:t[0]}return{type:"link",raw:t[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}}},{key:"inlineText",value:function(e){var t,n=this.rules.inline.text.exec(e);if(n)return t=this.lexer.state.inRawBlock?n[0]:LX(n[0]),{type:"text",raw:n[0],text:t}}}])}();function XX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ZX(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?XX(Object(n),!0).forEach((function(t){(0,h.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XX(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var JX=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,eZ=/(?:[*+-]|\d{1,9}[.)])/,tZ=VX(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,eZ).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),nZ=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,rZ=/(?!\s*\])(?:\\.|[^\[\]\\])+/,iZ=VX(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",rZ).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),aZ=VX(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,eZ).getRegex(),oZ="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",sZ=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,uZ=VX("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",sZ).replace("tag",oZ).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),cZ=VX(nZ).replace("hr",JX).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",oZ).getRegex(),lZ={blockquote:VX(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",cZ).getRegex(),code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,def:iZ,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:JX,html:uZ,lheading:tZ,list:aZ,newline:/^(?: *(?:\n|$))+/,paragraph:cZ,table:HX,text:/^[^\n]+/},dZ=VX("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",JX).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",oZ).getRegex(),pZ=ZX(ZX({},lZ),{},{table:dZ,paragraph:VX(nZ).replace("hr",JX).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",dZ).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",oZ).getRegex()}),fZ=ZX(ZX({},lZ),{},{html:VX("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",sZ).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:HX,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:VX(nZ).replace("hr",JX).replace("heading"," *#{1,6} *[^\n]").replace("lheading",tZ).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()}),hZ=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,mZ=/^( {2,}|\\)\n(?!\s*$)/,vZ="\\p{P}\\p{S}",gZ=VX(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,vZ).getRegex(),yZ=VX(/^(?:\*{2,}(?:((?!\*)[punct])|[^\s*]))|^_{2,}(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,vZ).getRegex(),bZ=VX("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,vZ).getRegex(),wZ=VX("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,vZ).getRegex(),DZ=VX(/\\([punct])/,"gu").replace(/punct/g,vZ).getRegex(),AZ=VX(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),EZ=VX(sZ).replace("(?:--\x3e|$)","--\x3e").getRegex(),kZ=VX("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",EZ).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),CZ=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,_Z=VX(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",CZ).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),xZ=VX(/^!?\[(label)\]\[(ref)\]/).replace("label",CZ).replace("ref",rZ).getRegex(),SZ=VX(/^!?\[(ref)\](?:\[\])?/).replace("ref",rZ).getRegex(),TZ={_backpedal:HX,anyPunctuation:DZ,autolink:AZ,blockSkip:/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,br:mZ,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:HX,emStrongLDelim:yZ,emStrongRDelimAst:bZ,emStrongRDelimUnd:wZ,escape:hZ,link:_Z,nolink:SZ,punctuation:gZ,reflink:xZ,reflinkSearch:VX("reflink|nolink(?!\\()","g").replace("reflink",xZ).replace("nolink",SZ).getRegex(),tag:kZ,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:HX},FZ=ZX(ZX({},TZ),{},{link:VX(/^!?\[(label)\]\((.*?)\)/).replace("label",CZ).getRegex(),reflink:VX(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",CZ).getRegex()}),OZ=ZX(ZX({},TZ),{},{escape:VX(hZ).replace("])","~|])").getRegex(),url:VX(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),PZ=ZX(ZX({},OZ),{},{br:VX(mZ).replace("{2,}","*").getRegex(),text:VX(OZ.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()}),IZ={normal:lZ,gfm:pZ,pedantic:fZ},BZ={normal:TZ,gfm:OZ,breaks:PZ,pedantic:FZ},RZ=function(){function e(t){(0,p.A)(this,e),this.tokens=[],this.tokens.links=Object.create(null),this.options=t||FX,this.options.tokenizer=this.options.tokenizer||new YX,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var n={block:IZ.normal,inline:BZ.normal};this.options.pedantic?(n.block=IZ.pedantic,n.inline=BZ.pedantic):this.options.gfm&&(n.block=IZ.gfm,this.options.breaks?n.inline=BZ.breaks:n.inline=BZ.gfm),this.tokenizer.rules=n}return(0,f.A)(e,[{key:"lex",value:function(e){e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);for(var t=0;t<this.inlineQueue.length;t++){var n=this.inlineQueue[t];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}},{key:"blockTokens",value:function(e){var t,n,r,i,a=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,(function(e,t,n){return t+"    ".repeat(n.length)}));for(var s,u=function(){if(a.options.extensions&&a.options.extensions.block&&a.options.extensions.block.some((function(n){return!!(t=n.call({lexer:a},e,o))&&(e=e.substring(t.raw.length),o.push(t),!0)})))return 0;if(t=a.tokenizer.space(e))return e=e.substring(t.raw.length),1===t.raw.length&&o.length>0?o[o.length-1].raw+="\n":o.push(t),0;if(t=a.tokenizer.code(e))return e=e.substring(t.raw.length),!(n=o[o.length-1])||"paragraph"!==n.type&&"text"!==n.type?o.push(t):(n.raw+="\n"+t.raw,n.text+="\n"+t.text,a.inlineQueue[a.inlineQueue.length-1].src=n.text),0;if(t=a.tokenizer.fences(e))return e=e.substring(t.raw.length),o.push(t),0;if(t=a.tokenizer.heading(e))return e=e.substring(t.raw.length),o.push(t),0;if(t=a.tokenizer.hr(e))return e=e.substring(t.raw.length),o.push(t),0;if(t=a.tokenizer.blockquote(e))return e=e.substring(t.raw.length),o.push(t),0;if(t=a.tokenizer.list(e))return e=e.substring(t.raw.length),o.push(t),0;if(t=a.tokenizer.html(e))return e=e.substring(t.raw.length),o.push(t),0;if(t=a.tokenizer.def(e))return e=e.substring(t.raw.length),!(n=o[o.length-1])||"paragraph"!==n.type&&"text"!==n.type?a.tokens.links[t.tag]||(a.tokens.links[t.tag]={href:t.href,title:t.title}):(n.raw+="\n"+t.raw,n.text+="\n"+t.raw,a.inlineQueue[a.inlineQueue.length-1].src=n.text),0;if(t=a.tokenizer.table(e))return e=e.substring(t.raw.length),o.push(t),0;if(t=a.tokenizer.lheading(e))return e=e.substring(t.raw.length),o.push(t),0;if(r=e,a.options.extensions&&a.options.extensions.startBlock){var s,u=1/0,c=e.slice(1);a.options.extensions.startBlock.forEach((function(e){"number"==typeof(s=e.call({lexer:a},c))&&s>=0&&(u=Math.min(u,s))})),u<1/0&&u>=0&&(r=e.substring(0,u+1))}if(a.state.top&&(t=a.tokenizer.paragraph(r)))return n=o[o.length-1],i&&"paragraph"===n.type?(n.raw+="\n"+t.raw,n.text+="\n"+t.text,a.inlineQueue.pop(),a.inlineQueue[a.inlineQueue.length-1].src=n.text):o.push(t),i=r.length!==e.length,e=e.substring(t.raw.length),0;if(t=a.tokenizer.text(e))return e=e.substring(t.raw.length),(n=o[o.length-1])&&"text"===n.type?(n.raw+="\n"+t.raw,n.text+="\n"+t.text,a.inlineQueue.pop(),a.inlineQueue[a.inlineQueue.length-1].src=n.text):o.push(t),0;if(e){var l="Infinite loop on byte: "+e.charCodeAt(0);if(a.options.silent)return console.error(l),1;throw new Error(l)}};e&&(0===(s=u())||1!==s););return this.state.top=!0,o}},{key:"inline",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return this.inlineQueue.push({src:e,tokens:t}),t}},{key:"inlineTokens",value:function(e){var t,n,r,i,a,o,s=this,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],c=e;if(this.tokens.links){var l=Object.keys(this.tokens.links);if(l.length>0)for(;null!=(i=this.tokenizer.rules.inline.reflinkSearch.exec(c));)l.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(c=c.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(i=this.tokenizer.rules.inline.blockSkip.exec(c));)c=c.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(i=this.tokenizer.rules.inline.anyPunctuation.exec(c));)c=c.slice(0,i.index)+"++"+c.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(var d,p=function(){if(a||(o=""),a=!1,s.options.extensions&&s.options.extensions.inline&&s.options.extensions.inline.some((function(n){return!!(t=n.call({lexer:s},e,u))&&(e=e.substring(t.raw.length),u.push(t),!0)})))return 0;if(t=s.tokenizer.tag(e))return e=e.substring(t.raw.length),(n=u[u.length-1])&&"text"===t.type&&"text"===n.type?(n.raw+=t.raw,n.text+=t.text):u.push(t),0;if(t=s.tokenizer.link(e))return e=e.substring(t.raw.length),u.push(t),0;if(t=s.tokenizer.reflink(e,s.tokens.links))return e=e.substring(t.raw.length),(n=u[u.length-1])&&"text"===t.type&&"text"===n.type?(n.raw+=t.raw,n.text+=t.text):u.push(t),0;if(t=s.tokenizer.emStrong(e,c,o))return e=e.substring(t.raw.length),u.push(t),0;if(t=s.tokenizer.codespan(e))return e=e.substring(t.raw.length),u.push(t),0;if(t=s.tokenizer.br(e))return e=e.substring(t.raw.length),u.push(t),0;if(t=s.tokenizer.del(e))return e=e.substring(t.raw.length),u.push(t),0;if(t=s.tokenizer.autolink(e))return e=e.substring(t.raw.length),u.push(t),0;if(!s.state.inLink&&(t=s.tokenizer.url(e)))return e=e.substring(t.raw.length),u.push(t),0;if(r=e,s.options.extensions&&s.options.extensions.startInline){var i,l=1/0,d=e.slice(1);s.options.extensions.startInline.forEach((function(e){"number"==typeof(i=e.call({lexer:s},d))&&i>=0&&(l=Math.min(l,i))})),l<1/0&&l>=0&&(r=e.substring(0,l+1))}if(t=s.tokenizer.inlineText(r))return e=e.substring(t.raw.length),"_"!==t.raw.slice(-1)&&(o=t.raw.slice(-1)),a=!0,(n=u[u.length-1])&&"text"===n.type?(n.raw+=t.raw,n.text+=t.text):u.push(t),0;if(e){var p="Infinite loop on byte: "+e.charCodeAt(0);if(s.options.silent)return console.error(p),1;throw new Error(p)}};e&&(0===(d=p())||1!==d););return u}}],[{key:"rules",get:function(){return{block:IZ,inline:BZ}}},{key:"lex",value:function(t,n){return new e(n).lex(t)}},{key:"lexInline",value:function(t,n){return new e(n).inlineTokens(t)}}])}(),NZ=(__webpack_require__(79978),function(){return(0,f.A)((function e(t){(0,p.A)(this,e),this.options=t||FX}),[{key:"code",value:function(e,t,n){var r,i=null===(r=(t||"").match(/^\S*/))||void 0===r?void 0:r[0];return e=e.replace(/\n$/,"")+"\n",i?'<pre><code class="language-'+LX(i)+'">'+(n?e:LX(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:LX(e,!0))+"</code></pre>\n"}},{key:"blockquote",value:function(e){return"<blockquote>\n".concat(e,"</blockquote>\n")}},{key:"html",value:function(e,t){return e}},{key:"heading",value:function(e,t,n){return"<h".concat(t,">").concat(e,"</h").concat(t,">\n")}},{key:"hr",value:function(){return"<hr>\n"}},{key:"list",value:function(e,t,n){var r=t?"ol":"ul";return"<"+r+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+r+">\n"}},{key:"listitem",value:function(e,t,n){return"<li>".concat(e,"</li>\n")}},{key:"checkbox",value:function(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}},{key:"paragraph",value:function(e){return"<p>".concat(e,"</p>\n")}},{key:"table",value:function(e,t){return t&&(t="<tbody>".concat(t,"</tbody>")),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}},{key:"tablerow",value:function(e){return"<tr>\n".concat(e,"</tr>\n")}},{key:"tablecell",value:function(e,t){var n=t.header?"th":"td";return(t.align?"<".concat(n,' align="').concat(t.align,'">'):"<".concat(n,">"))+e+"</".concat(n,">\n")}},{key:"strong",value:function(e){return"<strong>".concat(e,"</strong>")}},{key:"em",value:function(e){return"<em>".concat(e,"</em>")}},{key:"codespan",value:function(e){return"<code>".concat(e,"</code>")}},{key:"br",value:function(){return"<br>"}},{key:"del",value:function(e){return"<del>".concat(e,"</del>")}},{key:"link",value:function(e,t,n){var r=qX(e);if(null===r)return n;var i='<a href="'+(e=r)+'"';return t&&(i+=' title="'+t+'"'),i+=">"+n+"</a>"}},{key:"image",value:function(e,t,n){var r=qX(e);if(null===r)return n;var i='<img src="'.concat(e=r,'" alt="').concat(n,'"');return t&&(i+=' title="'.concat(t,'"')),i+=">"}},{key:"text",value:function(e){return e}}])}()),MZ=function(){return(0,f.A)((function e(){(0,p.A)(this,e)}),[{key:"strong",value:function(e){return e}},{key:"em",value:function(e){return e}},{key:"codespan",value:function(e){return e}},{key:"del",value:function(e){return e}},{key:"html",value:function(e){return e}},{key:"text",value:function(e){return e}},{key:"link",value:function(e,t,n){return""+n}},{key:"image",value:function(e,t,n){return""+n}},{key:"br",value:function(){return""}}])}(),LZ=function(){function e(t){(0,p.A)(this,e),this.options=t||FX,this.options.renderer=this.options.renderer||new NZ,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new MZ}return(0,f.A)(e,[{key:"parse",value:function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n="",r=0;r<e.length;r++){var i=e[r];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]){var a=i,o=this.options.extensions.renderers[a.type].call({parser:this},a);if(!1!==o||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(a.type)){n+=o||"";continue}}switch(i.type){case"space":var s=(i.raw.match(/\n/g)||[]).length-1;s<0&&(s=0);for(var u=0;u<s;u++)n+=this.renderer.br();continue;case"hr":n+=this.renderer.hr();continue;case"heading":var c=i;n+=this.renderer.heading(this.parseInline(c.tokens),c.depth,UX(this.parseInline(c.tokens,this.textRenderer)));continue;case"code":var l=i;n+=this.renderer.code(l.text,l.lang,!!l.escaped);continue;case"table":for(var d=i,p="",f="",h=0;h<d.header.length;h++)f+=this.renderer.tablecell(this.parseInline(d.header[h].tokens),{header:!0,align:d.align[h]});p+=this.renderer.tablerow(f);for(var m="",v=0;v<d.rows.length;v++){var g=d.rows[v];f="";for(var y=0;y<g.length;y++)f+=this.renderer.tablecell(this.parseInline(g[y].tokens),{header:!1,align:d.align[y]});m+=this.renderer.tablerow(f)}n+=this.renderer.table(p,m);continue;case"blockquote":var b=i,w=this.parse(b.tokens);n+=this.renderer.blockquote(w);continue;case"list":for(var D=i,A=D.ordered,E=D.start,k=D.loose,C="",_=0;_<D.items.length;_++){var x=D.items[_],S=x.checked,T=x.task,F="";if(x.task){var O=this.renderer.checkbox(!!S);k?x.tokens.length>0&&"paragraph"===x.tokens[0].type?(x.tokens[0].text=O+" "+x.tokens[0].text,x.tokens[0].tokens&&x.tokens[0].tokens.length>0&&"text"===x.tokens[0].tokens[0].type&&(x.tokens[0].tokens[0].text=O+" "+x.tokens[0].tokens[0].text)):x.tokens.unshift({type:"text",text:O+" "}):F+=O+" "}F+=this.parse(x.tokens,k),C+=this.renderer.listitem(F,T,!!S)}n+=this.renderer.list(C,A,E);continue;case"html":var P=i;n+=this.renderer.html(P.text,P.block);continue;case"paragraph":var I=i;n+=this.renderer.paragraph(this.parseInline(I.tokens)).replaceAll("\n","<br/>");continue;case"text":for(var B=i,R=B.tokens?this.parseInline(B.tokens):B.text;r+1<e.length&&"text"===e[r+1].type;)R+="\n"+((B=e[++r]).tokens?this.parseInline(B.tokens):B.text);n+=t?this.renderer.paragraph(R):R;continue;default:var N='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(N),"";throw new Error(N)}}return n}},{key:"parseInline",value:function(e,t){t=t||this.renderer;for(var n="",r=0;r<e.length;r++){var i=e[r];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]){var a=this.options.extensions.renderers[i.type].call({parser:this},i);if(!1!==a||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){n+=a||"";continue}}switch(i.type){case"escape":var o=i;n+=t.text(o.text);break;case"html":var s=i;n+=t.html(s.text);break;case"link":var u=i;n+=t.link(u.href,u.title,this.parseInline(u.tokens,t));break;case"image":var c=i;n+=t.image(c.href,c.title,c.text);break;case"strong":var l=i;n+=t.strong(this.parseInline(l.tokens,t));break;case"em":var d=i;n+=t.em(this.parseInline(d.tokens,t));break;case"codespan":var p=i;n+=t.codespan(p.text);break;case"br":n+=t.br();break;case"del":var f=i;n+=t.del(this.parseInline(f.tokens,t));break;case"text":var h=i;n+=t.text(h.text);break;default:var m='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(m),"";throw new Error(m)}}return n}}],[{key:"parse",value:function(t,n){return new e(n).parse(t)}},{key:"parseInline",value:function(t,n){return new e(n).parseInline(t)}}])}(),jZ=function(){return(0,f.A)((function e(t){(0,p.A)(this,e),this.options=t||FX}),[{key:"preprocess",value:function(e){return e}},{key:"postprocess",value:function(e){return e}},{key:"processAllTokens",value:function(e){return e}}])}();function UZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?UZ(Object(n),!0).forEach((function(t){(0,h.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UZ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function VZ(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return qZ(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qZ(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function qZ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function HZ(e,t){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.add(e)}function WZ(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}(0,h.A)(jZ,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));var KZ=new WeakSet,$Z=function(){return(0,f.A)((function e(){(0,p.A)(this,e),HZ(this,KZ),(0,h.A)(this,"defaults",{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}),(0,h.A)(this,"options",this.setOptions),(0,h.A)(this,"parse",WZ(KZ,this,GZ).call(this,RZ.lex,LZ.parse)),(0,h.A)(this,"parseInline",WZ(KZ,this,GZ).call(this,RZ.lexInline,LZ.parseInline)),(0,h.A)(this,"Parser",LZ),(0,h.A)(this,"Renderer",NZ),(0,h.A)(this,"TextRenderer",MZ),(0,h.A)(this,"Lexer",RZ),(0,h.A)(this,"Tokenizer",YX),(0,h.A)(this,"Hooks",jZ),this.use.apply(this,arguments)}),[{key:"walkTokens",value:function(e,t){var n,r=this,i=[],a=VZ(e);try{var o=function(){var e=n.value;switch(i=i.concat(t.call(r,e)),e.type){case"table":var a,o=e,s=VZ(o.header);try{for(s.s();!(a=s.n()).done;){var u=a.value;i=i.concat(r.walkTokens(u.tokens,t))}}catch(e){s.e(e)}finally{s.f()}var c,l=VZ(o.rows);try{for(l.s();!(c=l.n()).done;){var d,p=VZ(c.value);try{for(p.s();!(d=p.n()).done;){var f=d.value;i=i.concat(r.walkTokens(f.tokens,t))}}catch(e){p.e(e)}finally{p.f()}}}catch(e){l.e(e)}finally{l.f()}break;case"list":var h=e;i=i.concat(r.walkTokens(h.items,t));break;default:var m,v=e;null!==(m=r.defaults.extensions)&&void 0!==m&&null!==(m=m.childTokens)&&void 0!==m&&m[v.type]?r.defaults.extensions.childTokens[v.type].forEach((function(e){var n=v[e].flat(1/0);i=i.concat(r.walkTokens(n,t))})):v.tokens&&(i=i.concat(r.walkTokens(v.tokens,t)))}};for(a.s();!(n=a.n()).done;)o()}catch(e){a.e(e)}finally{a.f()}return i}},{key:"use",value:function(){for(var e=this,t=this.defaults.extensions||{renderers:{},childTokens:{}},n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return r.forEach((function(n){var r=zZ({},n);if(r.async=e.defaults.async||r.async||!1,n.extensions&&(n.extensions.forEach((function(e){if(!e.name)throw new Error("extension name required");if("renderer"in e){var n=t.renderers[e.name];t.renderers[e.name]=n?function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var a=e.renderer.apply(this,r);return!1===a&&(a=n.apply(this,r)),a}:e.renderer}if("tokenizer"in e){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");var r=t[e.level];r?r.unshift(e.tokenizer):t[e.level]=[e.tokenizer],e.start&&("block"===e.level?t.startBlock?t.startBlock.push(e.start):t.startBlock=[e.start]:"inline"===e.level&&(t.startInline?t.startInline.push(e.start):t.startInline=[e.start]))}"childTokens"in e&&e.childTokens&&(t.childTokens[e.name]=e.childTokens)})),r.extensions=t),n.renderer){var i=e.defaults.renderer||new NZ(e.defaults),a=function(){if(!(o in i))throw new Error("renderer '".concat(o,"' does not exist"));if("options"===o)return 1;var e=o,t=n.renderer[e],r=i[e];i[e]=function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];var o=t.apply(i,n);return!1===o&&(o=r.apply(i,n)),o||""}};for(var o in n.renderer)a();r.renderer=i}if(n.tokenizer){var s=e.defaults.tokenizer||new YX(e.defaults),u=function(){if(!(c in s))throw new Error("tokenizer '".concat(c,"' does not exist"));if(["options","rules","lexer"].includes(c))return 1;var e=c,t=n.tokenizer[e],r=s[e];s[e]=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var a=t.apply(s,n);return!1===a&&(a=r.apply(s,n)),a}};for(var c in n.tokenizer)u();r.tokenizer=s}if(n.hooks){var l=e.defaults.hooks||new jZ,d=function(){if(!(p in l))throw new Error("hook '".concat(p,"' does not exist"));if("options"===p)return 1;var t=p,r=n.hooks[t],i=l[t];jZ.passThroughHooks.has(p)?l[t]=function(t){if(e.defaults.async)return Promise.resolve(r.call(l,t)).then((function(e){return i.call(l,e)}));var n=r.call(l,t);return i.call(l,n)}:l[t]=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=r.apply(l,t);return!1===a&&(a=i.apply(l,t)),a}};for(var p in n.hooks)d();r.hooks=l}if(n.walkTokens){var f=e.defaults.walkTokens,h=n.walkTokens;r.walkTokens=function(e){var t=[];return t.push(h.call(this,e)),f&&(t=t.concat(f.call(this,e))),t}}e.defaults=zZ(zZ({},e.defaults),r)})),this}},{key:"setOptions",value:function(e){return this.defaults=zZ(zZ({},this.defaults),e),this}},{key:"lexer",value:function(e,t){return RZ.lex(e,null!=t?t:this.defaults)}},{key:"parser",value:function(e,t){return LZ.parse(e,null!=t?t:this.defaults)}}])}();function GZ(e,t){var n=this;return function(r,i){var a=zZ({},i),o=zZ(zZ({},n.defaults),a);!0===n.defaults.async&&!1===a.async&&(o.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),o.async=!0);var s=WZ(KZ,n,QZ).call(n,!!o.silent,!!o.async);if(null==r)return s(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof r)return s(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));if(o.hooks&&(o.hooks.options=o),o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(r):r).then((function(t){return e(t,o)})).then((function(e){return o.hooks?o.hooks.processAllTokens(e):e})).then((function(e){return o.walkTokens?Promise.all(n.walkTokens(e,o.walkTokens)).then((function(){return e})):e})).then((function(e){return t(e,o)})).then((function(e){return o.hooks?o.hooks.postprocess(e):e})).catch(s);try{o.hooks&&(r=o.hooks.preprocess(r));var u=e(r,o);o.hooks&&(u=o.hooks.processAllTokens(u)),o.walkTokens&&n.walkTokens(u,o.walkTokens);var c=t(u,o);return o.hooks&&(c=o.hooks.postprocess(c)),c}catch(e){return s(e)}}}function QZ(e,t){return function(n){if(n.message+="\nPlease report this to https://github.com/markedjs/marked.",e){var r="<p>An error occurred:</p><pre>"+LX(n.message+"",!0)+"</pre>";return t?Promise.resolve(r):r}if(t)return Promise.reject(n);throw n}}var YZ=new $Z;function XZ(e,t){return YZ.parse(e,t)}XZ.options=XZ.setOptions=function(e){return YZ.setOptions(e),XZ.defaults=YZ.defaults,OX(XZ.defaults),XZ},XZ.getDefaults=TX,XZ.defaults=FX,XZ.use=function(){return YZ.use.apply(YZ,arguments),XZ.defaults=YZ.defaults,OX(XZ.defaults),XZ},XZ.walkTokens=function(e,t){return YZ.walkTokens(e,t)},XZ.parseInline=YZ.parseInline,XZ.Parser=LZ,XZ.parser=LZ.parse,XZ.Renderer=NZ,XZ.TextRenderer=MZ,XZ.Lexer=RZ,XZ.lexer=RZ.lex,XZ.Tokenizer=YX,XZ.Hooks=jZ,XZ.parse=XZ;XZ.options,XZ.setOptions,XZ.use,XZ.walkTokens,XZ.parseInline,LZ.parse,RZ.lex;const ZZ=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,JZ=/[\0-\x1F\x7F-\x9F]/,eJ=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,tJ=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/;function nJ(e){return Array.prototype.slice.call(arguments,1).forEach((function(t){t&&Object.keys(t).forEach((function(n){e[n]=t[n]}))})),e}function rJ(e){return Object.prototype.toString.call(e)}function iJ(e){return"[object Function]"===rJ(e)}function aJ(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}const oJ={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};const sJ={"http:":{validate:function(e,t,n){const r=e.slice(t);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,n){const r=e.slice(t);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?t>=3&&":"===e[t-3]||t>=3&&"/"===e[t-3]?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,n){const r=e.slice(t);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},uJ="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function cJ(e){const t=e.re=function(e){const t={};e=e||{},t.src_Any=ZZ.source,t.src_Cc=JZ.source,t.src_Z=eJ.source,t.src_P=tJ.source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");const n="[><]";return t.src_pseudo_letter="(?:(?![><]|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|[><]|"+t.src_ZPCc+")(?!"+(e["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|"+n+"|[()[\\]{}.,\"'?!\\-;]).|\\[(?:(?!"+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+t.src_ZCc+"|[.]|$)|"+(e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+t.src_ZCc+"|$)|;(?!"+t.src_ZCc+"|$)|\\!+(?!"+t.src_ZCc+"|[!]|$)|\\?(?!"+t.src_ZCc+"|[?]|$))+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy='(^|[><]|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+t.src_ZPCc+"))((?![$+<=>^`|])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+t.src_ZPCc+"))((?![$+<=>^`|])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}(e.__opts__),n=e.__tlds__.slice();function r(e){return e.replace("%TLDS%",t.src_tlds)}e.onCompile(),e.__tlds_replaced__||n.push("a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]"),n.push(t.src_xn),t.src_tlds=n.join("|"),t.email_fuzzy=RegExp(r(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(r(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(r(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(r(t.tpl_host_fuzzy_test),"i");const i=[];function a(e,t){throw new Error('(LinkifyIt) Invalid schema "'+e+'": '+t)}e.__compiled__={},Object.keys(e.__schemas__).forEach((function(t){const n=e.__schemas__[t];if(null===n)return;const r={validate:null,link:null};if(e.__compiled__[t]=r,"[object Object]"===rJ(n))return!function(e){return"[object RegExp]"===rJ(e)}(n.validate)?iJ(n.validate)?r.validate=n.validate:a(t,n):r.validate=function(e){return function(t,n){const r=t.slice(n);return e.test(r)?r.match(e)[0].length:0}}(n.validate),void(iJ(n.normalize)?r.normalize=n.normalize:n.normalize?a(t,n):r.normalize=function(e,t){t.normalize(e)});!function(e){return"[object String]"===rJ(e)}(n)?a(t,n):i.push(t)})),i.forEach((function(t){e.__compiled__[e.__schemas__[t]]&&(e.__compiled__[t].validate=e.__compiled__[e.__schemas__[t]].validate,e.__compiled__[t].normalize=e.__compiled__[e.__schemas__[t]].normalize)})),e.__compiled__[""]={validate:null,normalize:function(e,t){t.normalize(e)}};const o=Object.keys(e.__compiled__).filter((function(t){return t.length>0&&e.__compiled__[t]})).map(aJ).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+t.src_ZPCc+"))("+o+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+t.src_ZPCc+"))("+o+")","ig"),e.re.schema_at_start=RegExp("^"+e.re.schema_search.source,"i"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),function(e){e.__index__=-1,e.__text_cache__=""}(e)}function lJ(e,t){const n=e.__index__,r=e.__last_index__,i=e.__text_cache__.slice(n,r);this.schema=e.__schema__.toLowerCase(),this.index=n+t,this.lastIndex=r+t,this.raw=i,this.text=i,this.url=i}function dJ(e,t){const n=new lJ(e,t);return e.__compiled__[n.schema].normalize(n,e),n}function pJ(e,t){if(!(this instanceof pJ))return new pJ(e,t);var n;t||(n=e,Object.keys(n||{}).reduce((function(e,t){return e||oJ.hasOwnProperty(t)}),!1)&&(t=e,e={})),this.__opts__=nJ({},oJ,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=nJ({},sJ,e),this.__compiled__={},this.__tlds__=uJ,this.__tlds_replaced__=!1,this.re={},cJ(this)}pJ.prototype.add=function(e,t){return this.__schemas__[e]=t,cJ(this),this},pJ.prototype.set=function(e){return this.__opts__=nJ(this.__opts__,e),this},pJ.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;let t,n,r,i,a,o,s,u,c;if(this.re.schema_test.test(e))for(s=this.re.schema_search,s.lastIndex=0;null!==(t=s.exec(e));)if(i=this.testSchemaAt(e,t[2],s.lastIndex),i){this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+i;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(u=e.search(this.re.host_fuzzy_test),u>=0&&(this.__index__<0||u<this.__index__)&&null!==(n=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(a=n.index+n[1].length,(this.__index__<0||a<this.__index__)&&(this.__schema__="",this.__index__=a,this.__last_index__=n.index+n[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(c=e.indexOf("@"),c>=0&&null!==(r=e.match(this.re.email_fuzzy))&&(a=r.index+r[1].length,o=r.index+r[0].length,(this.__index__<0||a<this.__index__||a===this.__index__&&o>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=a,this.__last_index__=o))),this.__index__>=0},pJ.prototype.pretest=function(e){return this.re.pretest.test(e)},pJ.prototype.testSchemaAt=function(e,t,n){return this.__compiled__[t.toLowerCase()]?this.__compiled__[t.toLowerCase()].validate(e,n,this):0},pJ.prototype.match=function(e){const t=[];let n=0;this.__index__>=0&&this.__text_cache__===e&&(t.push(dJ(this,n)),n=this.__last_index__);let r=n?e.slice(n):e;for(;this.test(r);)t.push(dJ(this,n)),r=r.slice(this.__last_index__),n+=this.__last_index__;return t.length?t:null},pJ.prototype.matchAtStart=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return null;const t=this.re.schema_at_start.exec(e);if(!t)return null;const n=this.testSchemaAt(e,t[2],t[0].length);return n?(this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+n,dJ(this,0)):null},pJ.prototype.tlds=function(e,t){return e=Array.isArray(e)?e:[e],t?(this.__tlds__=this.__tlds__.concat(e).sort().filter((function(e,t,n){return e!==n[t-1]})).reverse(),cJ(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,cJ(this),this)},pJ.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),"mailto:"!==e.schema||/^mailto:/i.test(e.url)||(e.url="mailto:"+e.url)},pJ.prototype.onCompile=function(){};const fJ=pJ;function hJ(e,t){var n=e.match(t);if(n&&n.length)return n[0]}function mJ(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"stack",r=e.message;if("\x3c!-- BM-DELETED-MESSAGE --\x3e"===(r=CO(r))&&!Array.isArray(e.meta.files))return[c.createElement("span",{key:"message_"+e.message_id+"_deleted",className:"bm-message-content-centered bm-deleted-message"},c.createElement(EX,null)," ",Rie("This message was deleted","bp-better-messages"))];var i,a,o,s=[];if(r.endsWith("<br />")&&(r=r.substring(0,r.length-6)),a=(i=r)&&i.trimStart().split(" "),o=[],a&&a.forEach((function(e){var t=e;e in DX?t=e:e in wX&&(t=wX[e]),o.push(t)})),(r=o.join(" ")).startsWith('<div class="bpbm-voice-message"')&&("undefined"!=typeof WaveSurfer||"undefined"!=typeof BetterMessagesVoiceMessages))return"";var u='<span class="bpbm-gif">';if(r.startsWith(u)){var l=r.substring(23,r.length-7);return c.createElement(fX,{video:l})}if(r.startsWith('<span class="bpbm-call bpbm-call-video missed'))return c.createElement("span",{className:"bm-message-content-centered"},c.createElement(aS,null)," ",Gg(r));if(r.startsWith('<span class="bpbm-call bpbm-call-video'))return c.createElement("span",{className:"bm-message-content-centered"},c.createElement(vX,null)," ",Gg(r));if(r.startsWith('<span class="bpbm-call bpbm-call-audio missed'))return c.createElement("span",{className:"bm-message-content-centered"},c.createElement(bX,null)," ",Gg(r));if(r.startsWith('<span class="bpbm-call bpbm-call-audio'))return c.createElement("span",{className:"bm-message-content-centered"},c.createElement(yX,null)," ",Gg(r));if((r=r.replace(/^[\u200B\u200C\u200D\u200E\u200F\uFEFF]/,"")).length>1){var d=function(e){var t=[],n=0,r=0;for(;-1!==(n=e.indexOf("<a",n));){var i=e.indexOf("</a>",n);if(-1===i)break;var a=e.substring(n,i+4);t.push(a);var o="{{LINK_PLACEHOLDER_".concat(r++,"}}");e=e.substring(0,n)+o+e.substring(i+4),n+=o.length}return{modifiedString:e,links:t}}(r),p=d.modifiedString,f=d.links;r=function(e,t){return t.forEach((function(t,n){var r="{{LINK_PLACEHOLDER_".concat(n,"}}");e=e.replace(r,t)})),e}(r=XZ.parse(p,{breaks:!1,silent:!0}),f)}for(;r.trim().endsWith("<br/>");)r=r.trim().slice(0,-5);"onsite"===n&&(r=AX(r=(r=r.replace(/<br\/>/g," ")).replace(/(<([^>]+)>)/gi,""),50)),"pinned"===n&&(r=AX(r=(r=r.replace(/<br\/>/g," ")).replace(/(<([^>]+)>)/gi,""),250));var h=[r];return"stack"===n&&(h=function(e){var t='<span class="bm-mention" data-user-id="',n=new RegExp(t,"gi");if(-1===e.indexOf(t))return[e];for(var r=[],i=0,a=0;n.exec(e);){var o=n.lastIndex,s=o-39,u=e.indexOf('">',s),l=e.indexOf("</span>",s),d=Number(e.substring(o,u));e.substring(i,s).length>0&&r.push(e.substring(i,s)),a++,r.push(c.createElement(uX,{key:"message_mention_"+a,user_id:d})),i=l+7}return 0===i?[e]:(r.push(e.substring(i)),r)}(r)),(h=dX(h,t)).map((function(e,t){if((0,c.isValidElement)(e)&&s.push(e),"string"==typeof e){var n=0;s.push(Gg(e,{trim:!0,replace:function(e){if(e.attribs&&"bm-emoji-img"===e.attribs.class){var t="emoji_"+ ++n,r="true"===e.attribs["data-useimportant"],i=e.attribs["data-size"],a=(0,$g.attributesToProps)(e.attribs);return c.createElement("img",cy({key:t,ref:function(e){e&&r&&(e.style.setProperty("width",i+"px","important"),e.style.setProperty("height",i+"px","important"))}},a))}},transform:function(e,t){if("object"===(0,C.A)(e)&&(0,c.isValidElement)(e)){n++;var r=e.key?e.key:"";return r=n+"_"+r,(0,c.cloneElement)(e,{key:r})}return e}}))}})),s}function vJ(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 1024 1024"},"child":[{"tag":"path","attr":{"d":"M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 0 0 .6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0 0 46.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z"}}]})(e)}function gJ(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 1024 1024"},"child":[{"tag":"path","attr":{"d":"M697.8 481.4c33.6-35 54.2-82.3 54.2-134.3v-10.2C752 229.3 663.9 142 555.3 142H259.4c-15.1 0-27.4 12.3-27.4 27.4v679.1c0 16.3 13.2 29.5 29.5 29.5h318.7c117 0 211.8-94.2 211.8-210.5v-11c0-73-37.4-137.3-94.2-175.1zM328 238h224.7c57.1 0 103.3 44.4 103.3 99.3v9.5c0 54.8-46.3 99.3-103.3 99.3H328V238zm366.6 429.4c0 62.9-51.7 113.9-115.5 113.9H328V542.7h251.1c63.8 0 115.5 51 115.5 113.9v10.8z"}}]})(e)}function yJ(e){return jx({"tag":"svg","attr":{"t":"1569682881658","viewBox":"0 0 1024 1024","version":"1.1"},"child":[{"tag":"defs","attr":{},"child":[]},{"tag":"path","attr":{"d":"M573 421c-23.1 0-41 17.9-41 40s17.9 40 41 40c21.1 0 39-17.9 39-40s-17.9-40-39-40zM293 421c-23.1 0-41 17.9-41 40s17.9 40 41 40c21.1 0 39-17.9 39-40s-17.9-40-39-40z"}},{"tag":"path","attr":{"d":"M894 345c-48.1-66-115.3-110.1-189-130v0.1c-17.1-19-36.4-36.5-58-52.1-163.7-119-393.5-82.7-513 81-96.3 133-92.2 311.9 6 439l0.8 132.6c0 3.2 0.5 6.4 1.5 9.4 5.3 16.9 23.3 26.2 40.1 20.9L309 806c33.5 11.9 68.1 18.7 102.5 20.6l-0.5 0.4c89.1 64.9 205.9 84.4 313 49l127.1 41.4c3.2 1 6.5 1.6 9.9 1.6 17.7 0 32-14.3 32-32V753c88.1-119.6 90.4-284.9 1-408zM323 735l-12-5-99 31-1-104-8-9c-84.6-103.2-90.2-251.9-11-361 96.4-132.2 281.2-161.4 413-66 132.2 96.1 161.5 280.6 66 412-80.1 109.9-223.5 150.5-348 102z m505-17l-8 10 1 104-98-33-12 5c-56 20.8-115.7 22.5-171 7l-0.2-0.1C613.7 788.2 680.7 742.2 729 676c76.4-105.3 88.8-237.6 44.4-350.4l0.6 0.4c23 16.5 44.1 37.1 62 62 72.6 99.6 68.5 235.2-8 330z"}},{"tag":"path","attr":{"d":"M433 421c-23.1 0-41 17.9-41 40s17.9 40 41 40c21.1 0 39-17.9 39-40s-17.9-40-39-40z"}}]})(e)}function bJ(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 1024 1024"},"child":[{"tag":"path","attr":{"d":"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]})(e)}function wJ(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 1024 1024"},"child":[{"tag":"path","attr":{"d":"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0 0 42 42h216v494z"}}]})(e)}function DJ(e){return jx({"tag":"svg","attr":{"t":"1569683621237","viewBox":"0 0 1024 1024","version":"1.1"},"child":[{"tag":"defs","attr":{},"child":[]},{"tag":"path","attr":{"d":"M944 299H692c-4.4 0-8 3.6-8 8v406c0 4.4 3.6 8 8 8h59.2c4.4 0 8-3.6 8-8V549.9h168.2c4.4 0 8-3.6 8-8V495c0-4.4-3.6-8-8-8H759.2V364.2H944c4.4 0 8-3.6 8-8V307c0-4.4-3.6-8-8-8zM588 300h-56c-4.4 0-8 3.6-8 8v406c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V308c0-4.4-3.6-8-8-8zM452 500.9H290.5c-4.4 0-8 3.6-8 8v43.7c0 4.4 3.6 8 8 8h94.9l-0.3 8.9c-1.2 58.8-45.6 98.5-110.9 98.5-76.2 0-123.9-59.7-123.9-156.7 0-95.8 46.8-155.2 121.5-155.2 54.8 0 93.1 26.9 108.5 75.4h76.2c-13.6-87.2-86-143.4-184.7-143.4C150 288 72 375.2 72 511.9 72 650.2 149.1 736 273 736c114.1 0 187-70.7 187-181.6v-45.5c0-4.4-3.6-8-8-8z"}}]})(e)}function AJ(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 1024 1024"},"child":[{"tag":"path","attr":{"d":"M946.5 505L560.1 118.8l-25.9-25.9a31.5 31.5 0 0 0-44.4 0L77.5 505a63.9 63.9 0 0 0-18.8 46c.4 35.2 29.7 63.3 64.9 63.3h42.5V940h691.8V614.3h43.4c17.1 0 33.2-6.7 45.3-18.8a63.6 63.6 0 0 0 18.7-45.3c0-17-6.7-33.1-18.8-45.2zM568 868H456V664h112v204zm217.9-325.7V868H632V640c0-22.1-17.9-40-40-40H432c-22.1 0-40 17.9-40 40v228H238.1V542.3h-96l370-369.7 23.1 23.1L882 542.3h-96.1z"}}]})(e)}function EJ(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 1024 1024"},"child":[{"tag":"path","attr":{"d":"M798 160H366c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h181.2l-156 544H229c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h432c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8H474.4l156-544H798c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"}}]})(e)}function kJ(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 1024 1024"},"child":[{"tag":"path","attr":{"d":"M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 0 0 .6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0 0 46.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3zM664.8 561.6l36.1 210.3L512 672.7 323.1 772l36.1-210.3-152.8-149L417.6 382 512 190.7 606.4 382l211.2 30.7-152.8 148.9z"}}]})(e)}function CJ(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 1024 1024"},"child":[{"tag":"path","attr":{"d":"M952 474H569.9c-10-2-20.5-4-31.6-6-15.9-2.9-22.2-4.1-30.8-5.8-51.3-10-82.2-20-106.8-34.2-35.1-20.5-52.2-48.3-52.2-85.1 0-37 15.2-67.7 44-89 28.4-21 68.8-32.1 116.8-32.1 54.8 0 97.1 14.4 125.8 42.8 14.6 14.4 25.3 32.1 31.8 52.6 1.3 4.1 2.8 10 4.3 17.8.9 4.8 5.2 8.2 9.9 8.2h72.8c5.6 0 10.1-4.6 10.1-10.1v-1c-.7-6.8-1.3-12.1-2-16-7.3-43.5-28-81.7-59.7-110.3-44.4-40.5-109.7-61.8-188.7-61.8-72.3 0-137.4 18.1-183.3 50.9-25.6 18.4-45.4 41.2-58.6 67.7-13.5 27.1-20.3 58.4-20.3 92.9 0 29.5 5.7 54.5 17.3 76.5 8.3 15.7 19.6 29.5 34.1 42H72c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h433.2c2.1.4 3.9.8 5.9 1.2 30.9 6.2 49.5 10.4 66.6 15.2 23 6.5 40.6 13.3 55.2 21.5 35.8 20.2 53.3 49.2 53.3 89 0 35.3-15.5 66.8-43.6 88.8-30.5 23.9-75.6 36.4-130.5 36.4-43.7 0-80.7-8.5-110.2-25-29.1-16.3-49.1-39.8-59.7-69.5-.8-2.2-1.7-5.2-2.7-9-1.2-4.4-5.3-7.5-9.7-7.5h-79.7c-5.6 0-10.1 4.6-10.1 10.1v1c.2 2.3.4 4.2.6 5.7 6.5 48.8 30.3 88.8 70.7 118.8 47.1 34.8 113.4 53.2 191.8 53.2 84.2 0 154.8-19.8 204.2-57.3 25-18.9 44.2-42.2 57.1-69 13-27.1 19.7-57.9 19.7-91.5 0-31.8-5.8-58.4-17.8-81.4-5.8-11.2-13.1-21.5-21.8-30.8H952c4.4 0 8-3.6 8-8v-60a8 8 0 0 0-8-7.9z"}}]})(e)}function _J(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 1024 1024"},"child":[{"tag":"path","attr":{"d":"M824 804H200c-4.4 0-8 3.4-8 7.6v60.8c0 4.2 3.6 7.6 8 7.6h624c4.4 0 8-3.4 8-7.6v-60.8c0-4.2-3.6-7.6-8-7.6zm-312-76c69.4 0 134.6-27.1 183.8-76.2C745 602.7 772 537.4 772 468V156c0-6.6-5.4-12-12-12h-60c-6.6 0-12 5.4-12 12v312c0 97-79 176-176 176s-176-79-176-176V156c0-6.6-5.4-12-12-12h-60c-6.6 0-12 5.4-12 12v312c0 69.4 27.1 134.6 76.2 183.8C377.3 701 442.6 728 512 728z"}}]})(e)}function xJ(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 1024 1024"},"child":[{"tag":"path","attr":{"d":"M858.5 763.6a374 374 0 0 0-80.6-119.5 375.63 375.63 0 0 0-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 0 0-80.6 119.5A371.7 371.7 0 0 0 136 901.8a8 8 0 0 0 8 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 0 0 8-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"}}]})(e)}function SJ(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e.meta||(e.meta={});var n=e.message;return t&&t.blocked?Mie("Message hidden","Messages from blocked user","bp-better-messages"):n.startsWith('<span class="bpbm-sticker"')?c.createElement("div",{className:"last-message-rich"},c.createElement(IN,null)," ",Rie("Sticker","bp-better-messages")," "):n.startsWith('<span class="bpbm-gif"')?c.createElement("div",{className:"last-message-rich"},c.createElement(DJ,{style:{fontSize:18}})):n.startsWith('<div class="bpbm-voice-message"')?c.createElement("div",{className:"last-message-rich"},c.createElement(iX,null)," ",Rie("Voice Message","bp-better-messages")," "):(n=mJ(e,14,"onsite"),e.message.includes('<span class="bp-messages-iframe-container">')&&n.push(c.createElement("div",{className:"last-message-rich",key:"rich-content-"+e.message_id},c.createElement(kN,null)," ",Rie("Rich Content","bp-better-messages"))),e.meta.files&&n.push(c.createElement("div",{className:"last-message-rich",key:"file-attachments-"+e.message_id},c.createElement(Qx,null)," ",Lie(Nie("%s attachment","%s attachments",e.meta.files.length,"Conversations list item","bp-better-messages"),e.meta.files.length))),n)}function TJ(){return FJ.apply(this,arguments)}function FJ(){return FJ=(0,o.A)(u().mark((function e(){var t,n,r,i,a=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:1,n=a.length>1&&void 0!==a[1]?a[1]:"",e.prev=2,r="gifs?page="+t,""!==n&&(r+="&search="+n),e.next=7,pie.get(r);case 7:return i=e.sent,e.abrupt("return",i.data);case 11:throw e.prev=11,e.t0=e.catch(2),hb(e.t0),e.t0;case 15:case"end":return e.stop()}}),e,null,[[2,11]])}))),FJ.apply(this,arguments)}function OJ(e,t){return PJ.apply(this,arguments)}function PJ(){return(PJ=(0,o.A)(u().mark((function e(t,n){var r,i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pie.post("gifs/"+t+"/send",{gif_id:n});case 3:return r=e.sent,(i=r.data).errors?db(Object.values(i.errors)):i.update&&(q8(i.update.messages),K9(i.update.users),a=i.update.messages[0],A7(t,{lastTime:a.created_at,lastMessage:a.message_id})),e.abrupt("return",i.data);case 9:throw e.prev=9,e.t0=e.catch(0),hb(e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function IJ(){var e=(0,c.useState)(!1),t=(0,_.A)(e,2),n=t[0],r=t[1],i=(0,c.useContext)(QK).chatMain;return i?c.createElement(c.Fragment,null,c.createElement(aP,{content:Mie("Send GIF",'"Send GIF" button tooltip',"bp-better-messages")},c.createElement("span",{className:"bm-gif",onClick:function(){r(!n)}},c.createElement(oM,null))),(0,rT.createPortal)(c.createElement(Rb,null,n&&c.createElement(RJ,{close:function(){r(!1)}})),i)):null}XZ.use(function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=new fJ(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e);return function(e,t){var n=t.tlds;delete t.tlds;var r=t.tldsKeepOld;delete t.tldsKeepOld,n&&e.tlds(n,r)}(t,e),{extensions:[{name:"autolink",level:"inline",start:function(e){var n=hJ(t,e);if(n)return n.index},tokenizer:function(e){if(!this.lexer.state.inLink){var n,r=hJ(t,e);if(r)if(0===r.index?n=r.raw:1===r.index&&"<"===e.charAt(0)&&">"===e.charAt(r.lastIndex)&&(n="<".concat(r.raw,">")),n)return{type:"link",raw:n,text:r.text,href:r.url,tokens:[{type:"text",raw:r.text,text:r.text}]}}}}]}}());var BJ=new Map;function RJ(e){var t=(0,c.useContext)(QK).threadId,n=(0,c.useState)(!1),r=(0,_.A)(n,2),i=(r[0],r[1],(0,c.useState)(!1)),a=(0,_.A)(i,2),s=a[0],l=a[1],d=(0,c.useRef)(!1),p=(0,c.useState)(!1),f=(0,_.A)(p,2),h=f[0],m=f[1],v=(0,c.useState)([]),g=(0,_.A)(v,2),y=g[0],b=g[1],w=(0,c.useRef)(1),D=(0,c.useState)("trending"),A=(0,_.A)(D,2),E=A[0],k=A[1],C=(0,c.useState)(""),x=(0,_.A)(C,2),S=x[0],T=x[1],F=(0,c.useState)(!1),O=(0,_.A)(F,2),P=O[0],I=O[1],B=(0,c.useState)([]),R=(0,_.A)(B,2);R[0],R[1];(0,c.useEffect)((function(){TJ(w.current).then((function(e){b(e.gifs),BJ.set("trending",e.gifs),l(!0),m(!0)})).catch((function(){e.close()}))}),[]),(0,c.useEffect)((function(){BJ.has(E)?b(BJ.get(E)):"trending"!==E&&"search"!==E&&m(!1)}),[E]);var N=(0,c.useState)(),M=(0,_.A)(N,2),L=M[0],j=M[1],U=(0,c.useRef)(!1),V=(0,c.useState)(!1),q=(0,_.A)(V,2);q[0],q[1];(0,c.useEffect)((function(){L&&L.addEventListener("scroll",(function(){H(L)}))}),[L]);var H=function(e){var t=e.scrollHeight-(e.scrollTop+e.clientHeight);!d.current&&!U.current&&t<=100&&G()},W=GK(S,300),K=(0,_.A)(W,1)[0],$=(0,c.useRef)(""),G=function(){var e=(0,o.A)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!U.current){e.next=2;break}return e.abrupt("return");case 2:return U.current=!0,w.current++,e.next=6,TJ(w.current,$.current);case 6:(t=e.sent).gifs.length<20&&(d.current=!0),b((function(e){return U.current=!1,[].concat((0,z.A)(e),(0,z.A)(t.gifs))}));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){""!==K&&(I(!1),TJ(1,K).then((function(e){b(e.gifs),m(!0),I(!0)}))),$.current=K}),[K]),c.createElement(Ix.div,{initial:{y:"100%"},animate:{y:"0%"},transition:{duration:.2},exit:{y:"100%"},className:"bpbm-gifs-selector",role:"application"},!1===s&&c.createElement("div",{style:{margin:"10px 0"}},c.createElement(VN,null)),!1!==s&&c.createElement(c.Fragment,null,c.createElement("div",{className:"bpbm-gifs-head"},c.createElement("div",{className:"bpbm-gifs-tabs"},c.createElement(aP,{content:Mie("Trending","Gifs selector","bp-better-messages")},c.createElement("span",{className:"trending"===E?"bpbm-gifs-tabs-active":"",onClick:function(){k("trending")}},c.createElement(iS,{className:"bm-svg"}))),c.createElement("span",{"data-package-id":"search",className:"search"===E?"bpbm-gifs-tabs-active":"",onClick:function(){k("search")}},c.createElement("input",{type:"text",name:"search",value:S,onChange:function(e){return T(e.target.value)},placeholder:Mie("Search","Gifs selector","bp-better-messages")}))),c.createElement(aP,{content:Mie("Close","Gifs selector","bp-better-messages")},c.createElement("span",{className:"bpbm-gifs-close",onClick:e.close},c.createElement(RV,{className:"bm-svg"})))),c.createElement(VY,{className:"bpbm-gifs-selector-gif-container",events:{initialized:function(e){j(e.elements().scrollEventElement)}}},"search"===E&&c.createElement(c.Fragment,null,c.createElement("span",{className:"bpbm-gifs-selector-gif-list "+(""===S||P&&0===y.length?"empty":"")},""===S&&c.createElement("span",{className:"bpbm-gifs-selector-empty"},Mie("Search results will display here","Gifs selector","bp-better-messages")),""!==S&&c.createElement(c.Fragment,null,!P&&c.createElement("span",{style:{position:"absolute",left:0,right:0,top:0,bottom:0,margin:"auto"}},c.createElement(VN,{showText:!1})),P&&c.createElement(c.Fragment,null,0===y.length&&c.createElement("span",{className:"bpbm-gifs-selector-empty"},Mie("No gifs found","Gifs selector","bp-better-messages")),y.length>0&&c.createElement(c.Fragment,null,y.map((function(n){return c.createElement("span",{key:n.id,className:"bpbm-gifs-selector-gif",onClick:function(){OJ(t,n.id),e.close()}},c.createElement("img",{src:n.url,alt:""}))}))))))),"search"!==E&&c.createElement("span",{className:"bpbm-gifs-selector-gif-list"},!h&&c.createElement(VN,{showText:!1}),h&&c.createElement(c.Fragment,null,0===y.length&&c.createElement(c.Fragment,null,"trending"===E&&c.createElement("span",{className:"bpbm-gifs-selector-empty"},Mie("You have not used any gifs yet","Gifs selector","bp-better-messages")),"trending"!==E&&c.createElement("span",{className:"bpbm-gifs-selector-empty"},Mie("No gifs found","Gifs selector","bp-better-messages"))),y.length>0&&c.createElement(c.Fragment,null,y.map((function(n){return c.createElement("span",{key:n.id,className:"bpbm-gifs-selector-gif",onClick:function(){OJ(t,n.id),e.close()}},c.createElement("img",{src:n.url,alt:""}))}))))))))}function NJ(e,t){return MJ.apply(this,arguments)}function MJ(){return MJ=(0,o.A)(u().mark((function e(t,n){var r,i,a,o,s,c,l,d,p,f,h,m,v;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(rb(t),r=nb(t),!(i=window.getSelection())){e.next=42;break}if(!i.rangeCount){e.next=42;break}return e.next=7,H9(n);case 7:if(a=e.sent){e.next=10;break}return e.abrupt("return");case 10:if(o=i.getRangeAt(0),s=o.commonAncestorContainer.nodeValue){e.next=14;break}return e.abrupt("return");case 14:c=o.startOffset,l=s.slice(0,c),d=l.lastIndexOf("@"),-1===(p=s.indexOf(" ",d))&&(p=0),s.slice(0,d),p>0&&s.slice(p),o.collapse(!0),(f=o.cloneRange()).selectNodeContents(r),f.setStart(o.commonAncestorContainer,d),p&&f.setEnd(o.commonAncestorContainer,p),f.deleteContents(),h="",a.avatar&&(h+='<img src="'+a.avatar+'" class="avatar avatar-16" width="16" height="16" alt="" />'),h+=a.name,(m=document.createElement("span")).className="bm-inline-mention",m.dataset.userId=String(a.user_id),m.contentEditable="false",m.innerHTML=h,m.onclick=function(e){Jv()&&(e.preventDefault(),e.stopImmediatePropagation(),ab(r))},f.insertNode(m),(v=document.createRange()).setStartAfter(m),i.removeAllRanges(),i.addRange(v);case 42:case"end":return e.stop()}}),e)}))),MJ.apply(this,arguments)}const LJ=function(e){var t=(0,c.useRef)([]),n=(0,c.useState)(!0),r=(0,_.A)(n,2),i=r[0],a=r[1],o=e.args,s=o.editor,u=(o.mention,o.setMention),l=o.search,d=o.mentionIndex,p=o.setMentionIndex,f=o.mentionResults,h=WF({placement:"top",open:i,transform:!1,elements:{reference:e.reference},onOpenChange:a,middleware:[YT(0-tP()),ZT(),XT({padding:0})],whileElementsMounted:UT}),m=(h.x,h.y,h.refs),v=h.floatingStyles,g=(h.strategy,ZF([tO(h.context,{activeIndex:d,listRef:t})])),y=g.getFloatingProps,b=g.getItemProps;return null===l?null:c.createElement(Ix.div,cy({initial:{y:"100%"},animate:{y:"0%"},transition:{duration:.2},exit:{y:"100%"},ref:m.setFloating,className:"bm-mentions",style:v},y()),f.map((function(e,n){return c.createElement(Ix.div,cy({key:"mention_suggestion_"+e.user_id,ref:function(e){t.current[n]=e},onMouseDown:function(e){e.preventDefault()},onHoverStart:function(){p(n)},onClick:function(){NJ(s,e.user_id),u(null)}},b,{className:"bm-mention"+(d===n?" bm-mention-active":"")}),c.createElement(rM,{user_id:e.user_id,size:20,link:!1}),c.createElement(vM,{user_id:e.user_id,link:!1}))})))};function jJ(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return UJ(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?UJ(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function UJ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function zJ(){return(zJ=(0,o.A)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(n=CO(t)).replace(/\n/g,(function(e,t,n){return 0===t?e:"<br/>"})),e.next=4,VJ(n);case 4:return n=e.sent,e.next=7,HJ(n);case 7:return n=e.sent,e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function VJ(e){return qJ.apply(this,arguments)}function qJ(){return qJ=(0,o.A)(u().mark((function e(t){var n,r,i,a,o,s,c,l;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=new Set,r=jJ(t.matchAll(/[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26D3\uFE0F?(?:\u200D\uD83D\uDCA5)?|\u26F9(?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF43\uDF45-\uDF4A\uDF4C-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDF44(?:\u200D\uD83D\uDFEB)?|\uDF4B(?:\u200D\uD83D\uDFE9)?|\uDFC3(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4\uDEB5](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC25\uDC27-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE41\uDE43\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDC-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC08(?:\u200D\u2B1B)?|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC26(?:\u200D(?:\u2B1B|\uD83D\uDD25))?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE])))?))?|\uDC6F(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDD75(?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?|\uDE42(?:\u200D[\u2194\u2195]\uFE0F?)?|\uDEB6(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF8](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE7C\uDE80-\uDE89\uDE8F-\uDEC2\uDEC6\uDECE-\uDEDC\uDEDF-\uDEE9]|\uDD3C(?:\u200D[\u2640\u2642]\uFE0F?|\uD83C[\uDFFB-\uDFFF])?|\uDDCE(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1|\uDDD1\u200D\uD83E\uDDD2(?:\u200D\uD83E\uDDD2)?|\uDDD2(?:\u200D\uD83E\uDDD2)?))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?)/g));try{for(r.s();!(i=r.n()).done;)a=i.value,o=a[0],n.has(o)||(s=qV(o),"object"===(0,C.A)(s)&&(c="width: 20px; height: 20px; background-image: url('"+OV+" '); vertical-align: middle; background-size: "+100*s.sheet.cols+"% "+100*s.sheet.rows+"%; background-position: "+100/(s.sheet.cols-1)*s.emoji.x+"% "+100/(s.sheet.rows-1)*s.emoji.y+"%",l='<img class="bm-inline-emoji" alt="'+o+'" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=" style="'+c+'">',t=t.replace(new RegExp(o,"g"),l)),n.add(o))}catch(e){r.e(e)}finally{r.f()}return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),qJ.apply(this,arguments)}function HJ(e){return WJ.apply(this,arguments)}function WJ(){return WJ=(0,o.A)(u().mark((function e(t){var n,r,i,a,o,s,c,l,d,p,f;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(-1!==(n=t.indexOf('<span class="bm-mention"'))){e.next=6;break}return e.abrupt("return",t);case 6:if(-1!==(r=t.indexOf("</span>",n))){e.next=9;break}return e.abrupt("return",t);case 9:return i=t.slice(n,r+7),a='data-user-id="',o=i.indexOf(a),o+=14,s=i.indexOf('"',o),c=Number(i.slice(o,s)),l=i.indexOf(">@"),l+=2,d=i.indexOf("<",o),p=i.slice(l,d),f='<span class="bm-inline-mention" data-user-id="'+c+'" contenteditable="false">'+p+"</span>",t=t.replace(i,f),e.abrupt("return",HJ(t));case 23:case"end":return e.stop()}}),e)}))),WJ.apply(this,arguments)}function KJ(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":"2","strokeLinecap":"round","strokeLinejoin":"round"},"child":[{"tag":"path","attr":{"d":"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"}}]})(e)}function $J(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":"2","strokeLinecap":"round","strokeLinejoin":"round"},"child":[{"tag":"polyline","attr":{"points":"15 3 21 3 21 9"}},{"tag":"polyline","attr":{"points":"9 21 3 21 3 15"}},{"tag":"line","attr":{"x1":"21","y1":"3","x2":"14","y2":"10"}},{"tag":"line","attr":{"x1":"3","y1":"21","x2":"10","y2":"14"}}]})(e)}function GJ(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":"2","strokeLinecap":"round","strokeLinejoin":"round"},"child":[{"tag":"path","attr":{"d":"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"}}]})(e)}function QJ(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":"2","strokeLinecap":"round","strokeLinejoin":"round"},"child":[{"tag":"polyline","attr":{"points":"4 14 10 14 10 20"}},{"tag":"polyline","attr":{"points":"20 10 14 10 14 4"}},{"tag":"line","attr":{"x1":"14","y1":"10","x2":"21","y2":"3"}},{"tag":"line","attr":{"x1":"3","y1":"21","x2":"10","y2":"14"}}]})(e)}function YJ(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":"2","strokeLinecap":"round","strokeLinejoin":"round"},"child":[{"tag":"path","attr":{"d":"M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"}}]})(e)}function XJ(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":"2","strokeLinecap":"round","strokeLinejoin":"round"},"child":[{"tag":"path","attr":{"d":"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}},{"tag":"circle","attr":{"cx":"8.5","cy":"7","r":"4"}},{"tag":"line","attr":{"x1":"20","y1":"8","x2":"20","y2":"14"}},{"tag":"line","attr":{"x1":"23","y1":"11","x2":"17","y2":"11"}}]})(e)}function ZJ(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":"2","strokeLinecap":"round","strokeLinejoin":"round"},"child":[{"tag":"path","attr":{"d":"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}},{"tag":"circle","attr":{"cx":"8.5","cy":"7","r":"4"}},{"tag":"line","attr":{"x1":"18","y1":"8","x2":"23","y2":"13"}},{"tag":"line","attr":{"x1":"23","y1":"8","x2":"18","y2":"13"}}]})(e)}function JJ(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":"2","strokeLinecap":"round","strokeLinejoin":"round"},"child":[{"tag":"path","attr":{"d":"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}},{"tag":"circle","attr":{"cx":"9","cy":"7","r":"4"}},{"tag":"path","attr":{"d":"M23 21v-2a4 4 0 0 0-3-3.87"}},{"tag":"path","attr":{"d":"M16 3.13a4 4 0 0 1 0 7.75"}}]})(e)}function e0(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":"2","strokeLinecap":"round","strokeLinejoin":"round"},"child":[{"tag":"polygon","attr":{"points":"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}},{"tag":"path","attr":{"d":"M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"}}]})(e)}function t0(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":"2","strokeLinecap":"round","strokeLinejoin":"round"},"child":[{"tag":"polygon","attr":{"points":"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}},{"tag":"line","attr":{"x1":"23","y1":"9","x2":"17","y2":"15"}},{"tag":"line","attr":{"x1":"17","y1":"9","x2":"23","y2":"15"}}]})(e)}function n0(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":"2","strokeLinecap":"round","strokeLinejoin":"round"},"child":[{"tag":"path","attr":{"d":"M5 12.55a11 11 0 0 1 14.08 0"}},{"tag":"path","attr":{"d":"M1.42 9a16 16 0 0 1 21.16 0"}},{"tag":"path","attr":{"d":"M8.53 16.11a6 6 0 0 1 6.95 0"}},{"tag":"line","attr":{"x1":"12","y1":"20","x2":"12.01","y2":"20"}}]})(e)}function r0(){var e=(0,c.useContext)(pN),t=e.isMaximized,n=e.setIsMaximized,r=e.fullScreened;return c.createElement(c.Fragment,null,c.createElement(aP,{showOnMobile:!1,content:Mie("Back",'"Back" Button Tooltip',"bp-better-messages")},c.createElement(rN,{to:"/",className:"back"},c.createElement(hX,null))),c.createElement("span",{id:"bm-new-thread-title"},Mie("Bulk Messages","Bulk messaging screen","bp-better-messages")),Sie.fullScreen&&c.createElement(c.Fragment,null,!t&&c.createElement(c.Fragment,null,c.createElement(aP,{showOnMobile:!1,content:Mie("Maximize",'"Maximize messages window" Button Tooltip',"bp-better-messages")},c.createElement("span",{onClick:function(){n(!0)},className:"bpbm-maximize"},c.createElement($J,{className:"bm-svg"})))),t&&!r&&c.createElement(c.Fragment,null,c.createElement(aP,{showOnMobile:!1,content:Mie("Minimize",'"Minimize messages window" Button Tooltip',"bp-better-messages")},c.createElement("span",{onClick:function(){n(!1)},className:"bpbm-minimize"},c.createElement(QJ,{className:"bm-svg"}))))))}function i0(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return a0(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a0(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function a0(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var o0=(0,c.createContext)(!1);function s0(){var e=(0,c.useRef)(null),t=(0,c.useRef)(null),n=(0,c.useState)(!0),r=(0,_.A)(n,2),i=(r[0],r[1]),a=(0,c.useState)("all"),s=(0,_.A)(a,2),l=s[0],d=s[1],p=(0,c.useState)(null),f=(0,_.A)(p,2),h=f[0],m=f[1],v=(0,c.useState)(""),g=(0,_.A)(v,2),y=g[0],b=g[1],w=(0,c.useState)(),D=(0,_.A)(w,2),A=D[0],E=D[1],k=(0,c.useState)(),C=(0,_.A)(k,2),x=C[0],S=C[1],T=(0,c.useState)(0),F=(0,_.A)(T,2),O=F[0],P=F[1],I=(0,c.useState)(!1),B=(0,_.A)(I,2),R=B[0],N=B[1],M=(0,c.useRef)(!1);(0,c.useEffect)((function(){M.current=R}),[R]);var L=(0,c.useState)(0),j=(0,_.A)(L,2),U=j[0],z=j[1];(0,c.useEffect)((function(){pie.get("bulkMessages").then((function(e){var t=e.data;m(t.reports),E(t.roles),S(t.groups),V()}))}),[]),(0,c.useEffect)((function(){V()}),[l]);var V=function(){var t=(0,o.A)(u().mark((function t(){var n,r,i;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new FormData(e.current),t.next=3,pie.post("bulkMessages/preview",{selectors:q(n)});case 3:r=t.sent,i=r.data,P(i);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),q=function(e){var t,n={},r=i0(e);try{for(r.s();!(t=r.n()).done;){var i=(0,_.A)(t.value,2),a=i[0],o=i[1];void 0!==n[a]?(Array.isArray(n[a])||(n[a]=[n[a]]),n[a].push(o)):n[a]=o}}catch(e){r.e(e)}finally{r.f()}return n},H=function(){var n=(0,o.A)(u().mark((function n(){var r,i,a,o,s,c,l,d;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=new FormData(e.current),i=q(r),a=[],n.prev=3,N(!0),n.next=7,wK(t);case 7:return o=n.sent,n.next=10,pie.post("bulkMessages/start",{selectors:i,message:o});case 10:s=n.sent,c=s.data,l=Math.ceil(c.total/20),d=1;case 14:if(!(d<l+1)){n.next=27;break}if(!M.current){n.next=23;break}return n.next=18,W(c.report_id,d);case 18:n.sent.map((function(e){return a.push(e)})),z(Math.ceil(d/l*100)),n.next=24;break;case 23:return n.abrupt("break",27);case 24:d++,n.next=14;break;case 27:n.next=32;break;case 29:n.prev=29,n.t0=n.catch(3),hb(n.t0);case 32:return n.prev=32,N(!1),i.hideThread&&setTimeout((function(){zre.threads.find({selector:{thread_id:{$in:a}}}).remove().catch(RM),zre.messages.find({selector:{thread_id:{$in:a}}}).remove().catch(RM)}),1e3),pie.get("bulkMessages").then((function(e){var t=e.data;m(t.reports)})),n.finish(32);case 37:case"end":return n.stop()}}),n,null,[[3,29,32,37]])})));return function(){return n.apply(this,arguments)}}(),W=function(){var e=(0,o.A)(u().mark((function e(t,n){var r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pie.post("bulkMessages/send",{report_id:t,per_page:20,page:n});case 3:return r=e.sent,i=r.data,e.abrupt("return",i);case 8:e.prev=8,e.t0=e.catch(0),hb(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),K=function(){var e=(0,o.A)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:N(!1);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=(0,o.A)(u().mark((function e(t,n,r){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pie.post("bulkMessages/changeReport",{report_id:t,property:n,value:r});case 2:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),G=function(){var e=(0,o.A)(u().mark((function e(t,n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Lie(Mie("Are you sure you want to delete %s conversation(s) and report?","Bulk Messages Page","bp-better-messages"),n),!confirm(r)){e.next=5;break}return e.next=4,pie.post("bulkMessages/deleteReport",{report_id:t});case 4:m((function(e){return e.filter((function(e){return e.id!==t}))}));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Q=(0,c.useState)(!1),Y=(0,_.A)(Q,2),X=Y[0],Z=Y[1],J=(0,c.useState)(!1),ee=(0,_.A)(J,2),te=ee[0],ne=ee[1];return c.createElement(c.Fragment,null,c.createElement(o0.Provider,{value:!0},c.createElement("div",{className:"chat-header"},c.createElement(r0,null)),c.createElement(VY,{className:"bulk-message"},c.createElement("div",{className:"bm-not-in-progress",style:{display:R?"none":"block"}},c.createElement("div",{className:"reports"},c.createElement("h3",null,Mie("Reports","Bulk Messages Page","bp-better-messages")),null===h&&c.createElement(VN,null),null!==h&&0===h.length&&c.createElement("p",null,Mie("No reports yet.","Bulk Messages Page","bp-better-messages")),null!==h&&h.length>0&&c.createElement("table",{className:"reports-list"},c.createElement("thead",null,c.createElement("tr",null,c.createElement("th",null,Mie("ID","Bulk Messages Page","bp-better-messages")),c.createElement("th",null,Mie("Subject","Bulk Messages Page","bp-better-messages")),c.createElement("th",null,Mie("Sender","Bulk Messages Page","bp-better-messages")),c.createElement("th",null,Mie("Sent","Bulk Messages Page","bp-better-messages")),c.createElement("th",null,Mie("Read","Bulk Messages Page","bp-better-messages")),c.createElement("th",null,Mie("Date","Bulk Messages Page","bp-better-messages")),c.createElement("th",null,Mie("Disable Reply","Bulk Messages Page","bp-better-messages")),c.createElement("th",null))),c.createElement("tbody",null,h.map((function(e){return c.createElement("tr",{key:"report-"+e.id},c.createElement("td",null,e.id),c.createElement("td",null,e.subject),c.createElement("td",null,c.createElement(vM,{link:!1,user_id:e.sender})),c.createElement("td",null,e.count),c.createElement("td",null,e.read),c.createElement("td",null,e.date),c.createElement("td",null,c.createElement("input",{id:"report-disable-reply-"+e.id,className:"disableReply bpbm-checkbox",type:"checkbox",defaultChecked:e.disableReply,onChange:function(t){$(e.id,"disableReply",t.target.checked?"1":"0")}}),c.createElement("label",{htmlFor:"report-disable-reply-"+e.id})),c.createElement("td",null,c.createElement(aP,{content:Mie("Delete","Bulk Messages Page","bp-better-messages")},c.createElement("span",{className:"delete",onClick:function(){G(e.id,e.count)}},c.createElement(aM,null)))))}))))),c.createElement("form",{ref:e},c.createElement("div",null,c.createElement("label",{className:"bm-bold"},Mie("Send to","Bulk Messages Page","bp-better-messages")),c.createElement("div",{className:"box"},c.createElement("ul",{className:"send-to"},c.createElement("li",null,c.createElement("input",{className:"bpbm-radio",type:"radio",name:"sent-to",id:"sent-to-all",value:"all",checked:"all"===l,onChange:function(){d("all")}}),c.createElement("label",{htmlFor:"sent-to-all"},Mie("All Users","Bulk Messages Page","bp-better-messages"))),A&&A.length>0&&c.createElement("li",null,c.createElement("input",{className:"bpbm-radio",type:"radio",name:"sent-to",id:"sent-to-role",value:"role",checked:"role"===l,onChange:function(){d("role")}}),c.createElement("label",{htmlFor:"sent-to-role"},Mie("Users with Role","Bulk Messages Page","bp-better-messages")),"role"===l&&c.createElement("div",{className:"roles"},c.createElement("ul",{className:"rolesSelector"},A.map((function(e){return c.createElement("li",{key:"role-"+e.slug},c.createElement("input",{className:"bpbm-checkbox",type:"checkbox",name:"roles",id:"role-"+e.slug,value:e.slug,onChange:function(){V()}}),c.createElement("label",{htmlFor:"role-"+e.slug},e.name))}))))),x&&x.length>0&&c.createElement("li",null,c.createElement("input",{className:"bpbm-radio",type:"radio",name:"sent-to",id:"sent-to-group",value:"group",checked:"group"===l,onChange:function(){d("group")}}),c.createElement("label",{htmlFor:"sent-to-group"},Mie("Group","Bulk Messages Page","bp-better-messages")),"group"===l&&c.createElement("div",{className:"groups"},c.createElement("select",{name:"group",onChange:function(){V()},defaultValue:x[0].id},x.map((function(e,t){return c.createElement("option",{key:"group-"+e.id,value:e.id},e.name)})))))),c.createElement("p",{id:"users-selected"},Mie("Users selected:","Bulk Messages Page","bp-better-messages")," ",c.createElement("b",null,O)))),c.createElement("div",null,c.createElement("label",{className:"bm-bold"},Mie("Options","Bulk Messages Page","bp-better-messages")),c.createElement("div",{className:"box"},c.createElement("ul",{className:"options"},c.createElement("li",null,c.createElement("input",{className:"bpbm-checkbox",type:"checkbox",name:"hideThread",id:"hideThread",value:"1",defaultChecked:!0}),c.createElement("label",{htmlFor:"hideThread"},Mie("Hide this conversation from your conversation list","Bulk Messages Page","bp-better-messages")),c.createElement("p",null,Mie("If you are messaging to many users better to hide new threads from your conversation list.","Bulk Messages Page","bp-better-messages"))),c.createElement("li",null,c.createElement("input",{className:"bpbm-checkbox",type:"checkbox",name:"disableReply",id:"disableReply",value:"1",defaultChecked:!0}),c.createElement("label",{htmlFor:"disableReply"},Mie("Disable replies to this message","Bulk Messages Page","bp-better-messages"))),c.createElement("li",null,c.createElement("input",{className:"bpbm-checkbox",type:"checkbox",name:"useExistingThread",disabled:te,id:"sameThread",onChange:function(e){Z(e.target.checked)},value:"1"}),c.createElement("label",{htmlFor:"sameThread"},Mie("Do not create a new conversation if it already exists","Bulk Messages Page","bp-better-messages"))),c.createElement("li",null,c.createElement("input",{className:"bpbm-checkbox",type:"checkbox",name:"singleThread",checked:te,id:"singleThread",value:"1",onChange:function(e){ne(e.target.checked)},disabled:X}),c.createElement("label",{htmlFor:"singleThread"},Mie("Add all recipients to one conversation","Bulk Messages Page","bp-better-messages")))))),Sie.subjects&&c.createElement("div",null,c.createElement("label",{htmlFor:"subject-input",className:"bm-bold"},Mie("Subject","Bulk Messages Page","bp-better-messages")),c.createElement("input",{onChange:function(e){b(e.target.value)},type:"text",tabIndex:3,name:"subject",className:"subject-input",id:"subject-input",autoComplete:"off",value:y}),c.createElement("span",{className:"clearfix"})),c.createElement("div",null,c.createElement("label",{htmlFor:"message-input",className:"bm-bold"},Mie("Message","Bulk Messages Page","bp-better-messages")),c.createElement("div",null,c.createElement(p0,{ref:t,setEditorEmpty:i})),c.createElement("span",{className:"clearfix"})),c.createElement("button",{type:"submit",onClick:function(e){e.preventDefault(),H()}},Mie("Start Messaging","Bulk Messages Page","bp-better-messages")))),c.createElement("div",{className:"bm-in-progress",style:{display:R?"block":"none"}},c.createElement("div",{className:"progress"},c.createElement("div",{className:"progress-value",style:{width:U+"%"}}),c.createElement("span",{className:"progress-text"},U,"%")),c.createElement("button",{type:"submit",onClick:function(e){e.preventDefault(),K()}},Mie("Stop Messaging","Bulk Messages Page","bp-better-messages"))))))}var u0=new Map,c0=c.forwardRef((function(e,t){var n=e.setEditorEmpty,r=void 0===n?null:n,i=e.isDisabled,a=void 0!==i&&i,o=e.initialMessage,s=void 0===o?"":o,u=(0,c.useContext)(QK),l=u.reply,d=u.threadId,p=u.thread,f=u.action,h=u.setAction,m=(0,c.useContext)(d8),v=m.sendMessage,g=m.saveMessage,y=(0,c.useContext)(o0),b=(0,c.useContext)(pN).mobileView,w=(0,c.useState)(""),D=(0,_.A)(w,2),A=D[0],E=D[1],k=(0,c.useState)(),C=(0,_.A)(k,2),x=C[0],S=C[1],T=(0,c.useState)(null),F=(0,_.A)(T,2),O=F[0],P=F[1],I=(0,c.useState)([]),B=(0,_.A)(I,2),R=B[0],N=B[1],M=(0,c.useRef)(null);(0,c.useEffect)((function(){f&&("reply_message"!==f.action?bK(t):b||rb(t),"edit_message"===f.action&&function(e){return zJ.apply(this,arguments)}(f.message.message).then((function(e){!function(e,t){var n=nb(e);n&&(n.innerHTML=t)}(t,e),b||rb(t)})))}),[f]),(0,c.useEffect)((function(){if(x&&p){var e={selector:{user_id:{$in:p.participants}}},t=new RegExp(".*"+A+".*","i");Jre()||(e.selector.name={$regex:".*"+A+".*",$options:"i"}),zre.users.find(e).exec().then((function(e){var n=[];e.length>0&&(e.map((function(e){e.user_id!==Jy()&&t.test(e.name)&&n.push({user_id:e.user_id,label:e.name})})),N(n)),pie.post("thread/"+p.thread_id+"/mentionsSuggestions",{search:A.toLowerCase()}).then((function(e){var t=e.data;if(t.length>0){var r=!1;t.map((function(e){0===n.filter((function(t){return""===A||t.user_id===e.user_id})).length&&(n.push(e),r=!0)})),r&&N(n)}}))}))}else E(null)}),[x,A]);var L=function(){try{var e=window.getSelection(),t=e.anchorOffset,n=e.anchorNode.textContent,r=n.slice(0,t),i=n.slice(t),a=r.split(" "),o=i.split(" "),s=a.pop()+o.shift();if(s.startsWith("@")){var u=s.slice(1);u.length>0?(E(u),S(e.getRangeAt(0))):(E(null),S(null))}else S(null),E(null)}catch(e){}},j=(0,c.useRef)(!1),U=function(){try{if(j.current)return;j.current=!0;var e=nb(t);if(e){var n=""!==e.innerText.trim(),i=e.innerHTML.includes("<img")||e.innerHTML.includes("<span");r(!n&&!i)}else r(!0)}finally{j.current=!1}},z=(0,c.useState)(!1),V=(0,_.A)(z,2),q=V[0],H=V[1];(0,c.useEffect)((function(){return document.addEventListener("mouseup",W),document.addEventListener("keyup",W),function(){document.removeEventListener("mouseup",W),document.removeEventListener("keyup",W)}}),[]);var W=function(){var e,n,r=(e=nb(t),!(n=document.getSelection()).isCollapsed&&(e.contains(n.anchorNode)?n.getRangeAt(0).getBoundingClientRect():void 0));H(r)};return c.createElement("div",{ref:t,className:"bm-editor"},l&&(0,rT.createPortal)(c.createElement(LJ,{reference:l,args:{editor:t,mention:x,setMention:S,search:A,setSearch:E,mentionIndex:O,setMentionIndex:P,mentionResults:R,setMentionResults:N}}),l),c.createElement(l0,{initialMessage:s,onSelection:function(){W()},disabled:a,onChange:function(){y||setTimeout((function(){U(),L()}),33)},onKeyDown:function(e){if(!y)if(setTimeout((function(){U(),L()}),33),x)switch(e.key){case"ArrowDown":e.preventDefault();var n=O>=R.length-1?0:O+1;P(n);break;case"ArrowUp":e.preventDefault();var r=O<=0?R.length-1:O-1;P(r);break;case"Tab":case"Enter":e.preventDefault(),NJ(t,R[O].user_id),S(null);break;case"Escape":e.preventDefault(),S(null)}else(b&&Sie.touchEnter||!b&&!Sie.disableEnter)&&!e.shiftKey&&13==e.keyCode?(e.preventDefault(),f&&"edit_message"===f.action?g(d,f.message.id,t):v(d,t)):27==e.keyCode&&f?h(!1):(!u0.has(d)||u0.get(d)+1e3<Date.now())&&(u0.set(d,Date.now()),b9.emit("writing",d,""))}}),q&&(0,rT.createPortal)(c.createElement("div",{className:"bm-editor-format-tooltip",ref:M,style:{opacity:1,top:"".concat(q.top+window.pageYOffset-35,"px"),left:"".concat(q.left+window.pageXOffset-70+q.width/2,"px")}},c.createElement("span",{onMouseDown:function(e){e.preventDefault()},onClick:function(){document.execCommand("bold")}},c.createElement(gJ,null)),c.createElement("span",{onMouseDown:function(e){e.preventDefault()},onClick:function(){document.execCommand("italic")}},c.createElement(EJ,null)),c.createElement("span",{onMouseDown:function(e){e.preventDefault()},onClick:function(){document.execCommand("underline")}},c.createElement(_J,null)),c.createElement("span",{onMouseDown:function(e){e.preventDefault()},onClick:function(){document.execCommand("strikeThrough")}},c.createElement(CJ,null))),document.body))})),l0=c.memo(d0);function d0(e){var t=e.disabled,n=void 0!==t&&t,r=e.onKeyDown,i=void 0===r?null:r,a=e.onChange,o=void 0===a?null:a,s=e.onSelection,u=void 0===s?null:s,l=e.initialMessage,d=void 0===l?"":l,p=(0,c.useRef)(null);return(0,c.useEffect)((function(){p.current.addEventListener("better-messages-changed",o)}),[p]),(0,c.useEffect)((function(){d&&""!==d.trim()&&""===p.current.innerHTML.trim()&&queueMicrotask((function(){p.current.innerHTML=d}))}),[d]),c.createElement("div",{ref:p,className:"bm-editor-content notranslate wp-exclude-emoji",placeholder:Mie("Write your message","Reply area placeholder","bp-better-messages"),"data-no-translation":!0,contentEditable:!n,suppressContentEditableWarning:!0,onMouseUp:u,onKeyUp:u,onChange:o,onBeforeInput:function(e){if("windows"!==Gv.name.toLowerCase()){var t=qV(e.data.trim());"string"!=typeof t&&(e.preventDefault(),WV(p.current,t.emoji.native))}},onInput:o,onKeyDown:i,onFocus:function(){document.body.classList.add("bm-reply-area-focused")},onBlur:function(){document.body.classList.remove("bm-reply-area-focused")},onClick:function(e){if(Jv()){var t=Array.from(e.target.childNodes);if(t.length>0)"bm-inline-mention"===t.pop().className&&(e.preventDefault(),ab(p.current))}},onPaste:function(e){e.preventDefault(),o();var t=(e.originalEvent||e).clipboardData,n=t.getData("text/plain").trim(),r=qV(n);if("string"!=typeof r)return e.preventDefault(),void WV(p.current,r.emoji.native);t.types.includes("text/uri-list")&&(n+="\n"+t.getData("text/uri-list").trim());n=n.trim().replace(/^\n+|\n+$/g,"");var i=document.getSelection().getRangeAt(0);i.deleteContents(),n.split("\n").reverse().map((function(e){i.insertNode(document.createElement("br")),i.insertNode(document.createTextNode(e))})),i.collapse(!1);var a=window.getSelection();a.removeAllRanges(),a.addRange(i),t.files.length>0&&Array.from(t.files).map((function(t){var n={type:t.type,data:t};void 0!==t.name&&"undefined"!==t.name?n.name=t.name:n.name="",e.target.closest(".bm-reply").dispatchEvent(new CustomEvent("better-message-editor-paste-file",{detail:{file:n}}))}))}})}const p0=c0;var f0=__webpack_require__(56078),h0=__webpack_require__.n(f0),m0=__webpack_require__(47335),v0=__webpack_require__.n(m0);function g0(e){return y0.apply(this,arguments)}function y0(){return y0=(0,o.A)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=new Promise((function(e,n){pie.post("thread/"+t+"/restore").then(function(){var n=(0,o.A)(u().mark((function n(r){return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:Cie(t,!1),e(!0);case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()).catch((function(e){n(e.response.data.message)}))})),Hy.promise(n,{pending:{render:function(){return Mie("Restoring conversation","Thread restoring","bp-better-messages")},theme:"dark"},success:{render:function(){return c.createElement("div",{className:"bm-deleted-thread"},c.createElement("p",null,Mie("Conversation restored","Thread restoring","bp-better-messages")))},autoClose:5e3,theme:"colored",type:"success"},error:{render:function(e){var t=e.data;return Gg(t)},theme:"colored",type:"error",autoClose:!1}},{className:"bm-toasts",position:"bottom-right",autoClose:3e4,theme:"colored",hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 2:case"end":return e.stop()}}),e)}))),y0.apply(this,arguments)}function b0(e){var t=e.thread,n=[];if(v0()(t.permissions.canReplyMsg)>0&&h0()(t.permissions.canReplyMsg,(function(e,r){n.push(c.createElement("div",{key:"cant_reply_"+r},Gg(e),"thread_archived"===r&&c.createElement("div",{style:{marginTop:5}},c.createElement("button",{onClick:function(e){e.preventDefault(),g0(t.thread_id)}},Rie("Recover","bp-better-messages")))))})),n.length>0)return c.createElement("div",{className:"bm-reply-restricted"},n)}function w0(){return c.createElement("div",{className:"bm-lds-ellipsis"},c.createElement("div",null),c.createElement("div",null),c.createElement("div",null),c.createElement("div",null))}function D0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A0(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D0(Object(n),!0).forEach((function(t){(0,h.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D0(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E0(e){e=A0(A0({},{opacity:.6}),e);return c.createElement(c.Fragment,null,c.createElement("div",{className:"threads-list",style:{paddingTop:0,marginTop:0,opacity:e.opacity,overflow:"hidden"}},(0,z.A)(Array(10)).map((function(e,t){return c.createElement("div",{key:"messages-placeholder-"+t,className:"thread"},c.createElement("div",{className:"pic",style:{top:"0"}},c.createElement("span",{className:"avatar bbpm-avatar"},c.createElement("div",{className:"bm-placeholder-wrapper",style:{position:"relative",width:30,height:30,borderRadius:"4px",overflow:"hidden"}},c.createElement(qN,null)))),c.createElement("div",{className:"bm-info"},c.createElement("h4",{className:"name"},c.createElement("div",{className:"bm-placeholder-wrapper",style:{position:"relative",width:"100px",height:"15px",borderRadius:"4px",overflow:"hidden"}},c.createElement(qN,null))),c.createElement("h4",null,c.createElement("div",{className:"bm-placeholder-wrapper",style:{position:"relative",width:"80px",height:"10px",borderRadius:"4px",overflow:"hidden"}},c.createElement(qN,null))),c.createElement("div",{className:"last-message"},c.createElement("div",{className:"bm-last-message-content"},c.createElement("div",{className:"bm-placeholder-wrapper",style:{position:"relative",minWidth:"150px",maxWidth:"350px",width:"100%",height:"15px",borderRadius:"4px",overflow:"hidden"}},c.createElement(qN,null))))),c.createElement("div",{className:"time"},c.createElement("span",{className:"time-wrapper"},c.createElement("div",{className:"bm-placeholder-wrapper",style:{position:"relative",width:"50px",height:"15px",borderRadius:"4px",overflow:"hidden"}},c.createElement(qN,null)))),c.createElement("div",{className:"actions"},c.createElement("span",{className:"delete"})))}))))}const k0=c.memo(E0);function C0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _0(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C0(Object(n),!0).forEach((function(t){(0,h.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C0(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const x0=(0,c.memo)((function(e){e=_0(_0({},{hidden:!1}),e);var t=(0,c.useRef)(),n=(0,c.useState)(!1),r=(0,_.A)(n,2),i=r[0],a=r[1],s=(0,c.useRef)(!1),l=(0,c.useState)(!1),d=(0,_.A)(l,2),p=d[0],f=d[1];(0,c.useEffect)((function(){s.current=p}),[p]);var h=(0,c.useRef)(null),m=(0,c.useState)(20),v=(0,_.A)(m,2),g=v[0],y=v[1];(0,c.useEffect)((function(){h.current=g}),[g]);var b=m7(),w=Sie.newThread,D={};e.hidden&&(D.display="none");var A=(0,c.useRef)(null),E=function(e){var t=(0,c.useState)(void 0),n=(0,_.A)(t,2),r=n[0],i=n[1],a=(0,c.useState)(0),o=(0,_.A)(a,2),s=o[0],u=o[1];return(0,c.useEffect)((function(){var e=b7.subscribe({next:function(e){u((function(e){return e+1}))}});return function(){e.unsubscribe()}}),[]),(0,c.useLayoutEffect)((function(){var t=Hie("better_messages_threads_list_selector",{isDeleted:0,isHidden:0,adminAccess:{$exists:!1}}),n=zre.threads.find({selector:t,sort:[{isPinned:"desc"},{lastTime:"desc"}],limit:e}).$.subscribe({next:function(e){var t=[];e.map((function(e){t.push(e.toMutableJSON())})),i(t)},error:function(e){console.error("An error occurred, trying to reset database",e),lie()}});return function(){n.unsubscribe()}}),[e,s]),r}(g);A.current=E;var k=function(){var e=(0,o.A)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A.current&&!s.current){e.next=2;break}return e.abrupt("return");case 2:if(!i){e.next=4;break}return e.abrupt("return");case 4:return a(!0),e.next=7,k7();case 7:if(!(e.sent>h.current)){e.next=12;break}y(h.current+20),e.next=14;break;case 12:return e.next=14,x();case 14:setTimeout((function(){a(!1)}),100);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=(0,c.useRef)(!1),x=function(){var e=(0,o.A)(u().mark((function e(){var t,n,r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!C.current&&!s.current){e.next=2;break}return e.abrupt("return");case 2:return C.current=!0,e.prev=3,e.next=6,S7();case 6:return t=e.sent,e.next=9,pie.post("threads",{exclude:t});case 9:return n=e.sent,r=n.data,e.next=13,N7(r.threads,!0);case 13:return e.next=15,K9(r.users);case 15:return e.next=17,q8(r.messages);case 17:return n.data.threads.length<20&&f(!0),e.next=20,k7();case 20:i=e.sent,y(i),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(3),hb(e.t0);case 27:C.current=!1;case 28:case"end":return e.stop()}}),e,null,[[3,24]])})));return function(){return e.apply(this,arguments)}}(),S=Array.isArray(E)&&(E.length>0||b),T=(0,c.useState)(!1),F=(0,_.A)(T,2),O=F[0],P=F[1],I=S&&(E&&E.length>0||O),B=(0,c.useRef)(0),R=(0,c.useState)([]),N=(0,_.A)(R,2),M=N[0],L=N[1];return(0,c.useEffect)((function(){if(Sie.suggestedConversations){var e=Sie.suggestedConversations;if(S&&E.length<=10&&e.length>0){var t=Jy(),n=[];E.length>0&&E.map((function(e){2===e.participants.length&&e.participants.map((function(e){e!==t&&n.push(e)}))}));var r=e.filter((function(e){return!n.includes(e)&&e!==t}));L(r),P(r.length>0)}else L([]),P(!1)}}),[E,S]),(0,c.useEffect)((function(){var e=t.current;e&&(e.scrollTop=B.current)}),[E]),c.createElement(VY,{events:{initialized:function(e){var n=e.elements().viewport;t.current=n},scroll:function(e,t){var n=t.target;B.current=n.scrollTop;var r=n.scrollHeight-(n.scrollTop+n.clientHeight);!i&&r<=100&&k()}},style:D,className:"threads-list-wrapper",role:"application"},!S&&c.createElement(k0,null),S&&c.createElement(c.Fragment,null,I&&(E.length>0||O)&&c.createElement("div",{className:"threads-list"},E.length>0&&c.createElement(c.Fragment,null,E.map((function(e){return c.createElement(o7,{key:"thread_"+e.thread_id,thread:e})}))),M.length>0&&c.createElement(c.Fragment,null,M.map((function(t){return c.createElement("div",{key:"suggestion_user_"+t,className:"thread",onClick:function(){oee(t,e.inRouter,!1,!0)}},c.createElement("div",{className:"pic"},c.createElement(rM,{link:!Yv(),size:30,user_id:t})),c.createElement("div",{className:"bm-info"},c.createElement("h4",{className:"name"},c.createElement(vM,{user_id:t,link:!1,raw:!0}))),c.createElement("div",{className:"time"}),c.createElement("div",{className:"actions"}))})))),!I&&"select_thread"===e.emptyType&&c.createElement("div",{className:"thread-not-selected empty"},c.createElement("div",{className:"empty"},c.createElement("p",{className:"bpbm-empty-icon"},c.createElement(Hx,null)),c.createElement("p",{className:"bpbm-empty-message"},Mie("Select conversation to display messages","Starting Messages Screen (No threads selected)","bp-better-messages")),e.inRouter&&w&&c.createElement(c.Fragment,null,c.createElement("p",{className:"bpbm-empty-or"},Mie("or","Starting Messages Screen (No threads selected)","bp-better-messages")),c.createElement("p",{className:"bpbm-empty-link"},c.createElement(rN,{to:"new-conversation"},Mie("Start a new conversation","Starting Messages Screen (No threads selected)","bp-better-messages")))))),!I&&"no_messages"===e.emptyType&&c.createElement("div",{className:"threads-list empty"},c.createElement("div",{className:"empty"},c.createElement("p",{className:"bpbm-empty-icon"},c.createElement(Hx,null)),c.createElement("p",{className:"bpbm-empty-message"},Mie("No conversations yet","Empty thread list","bp-better-messages")),e.inRouter&&w&&c.createElement("p",{className:"bpbm-empty-link"},c.createElement(rN,{to:"new-conversation"},Mie("Start a new conversation","Empty thread list","bp-better-messages"))))),!p&&I&&g<=E.length&&c.createElement("div",{className:"threads-list-loading-more"},c.createElement(w0,null))))}));var S0=c.createContext({searchText:null,setSearchText:null,searchResults:null,setSearchResults:null});function T0(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];oee(e,n,!n,!0,t)}var F0=!1;function O0(e){F0=e}function P0(){return I0.apply(this,arguments)}function I0(){return I0=(0,o.A)(u().mark((function e(){var t,n,r,i,a,o,s,c=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]&&c[0],n=Jy(),r=String(Sie.hash),e.prev=3,e.next=6,Wy("settingsHash");case 6:i=e.sent,e.next=17;break;case 9:if(e.prev=9,e.t0=e.catch(3),!String(e.t0).includes("did not allow mutations")){e.next=14;break}return e.next=14,iie();case 14:return e.next=16,Wy("settingsHash");case 16:i=e.sent;case 17:if(t||Qte||i&&r===i){e.next=23;break}return e.next=20,lie();case 20:return e.next=22,$y("settingsHash",Sie.hash);case 22:i=Sie.hash;case 23:if(!isNaN(n)){e.next=25;break}return e.abrupt("return");case 25:return e.next=27,Wy("databaseUserId");case 27:if(void 0!==(a=e.sent)){e.next=39;break}return e.next=31,$y("databaseUserId",n);case 31:if(i){e.next=34;break}return e.next=34,$y("settingsHash",Sie.hash);case 34:if(Qte){e.next=37;break}return e.next=37,Yte.postMessage({type:"update_settings",settings:Sie});case 37:e.next=50;break;case 39:if(Number(a)===n){e.next=50;break}if(t){e.next=43;break}return e.next=43,lie();case 43:return e.next=45,$y("settingsHash",Sie.hash);case 45:return e.next=47,$y("databaseUserId",n);case 47:if(Qte){e.next=50;break}return e.next=50,Yte.postMessage({type:"update_settings",settings:Sie});case 50:return e.next=52,Wy("lastThreadsPull");case 52:if(o=e.sent,s=!1,void 0===o&&(0!==n||0===n&&Sie.guestAuth)&&(s=!0),!s){e.next=58;break}return e.next=58,N0();case 58:h7(!0),O0(!0),Sie.realtime&&ete(),Sie.badWords&&IK(),zV();case 63:case"end":return e.stop()}}),e,null,[[3,9]])}))),I0.apply(this,arguments)}function B0(){return R0.apply(this,arguments)}function R0(){return(R0=(0,o.A)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!F0){e.next=4;break}return e.abrupt("return",null);case 4:return e.next=6,Dee(25);case 6:return e.abrupt("return",B0());case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N0(){return M0.apply(this,arguments)}function M0(){return(M0=(0,o.A)(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pie.get("threads");case 3:return t=e.sent,n=t.data,e.next=7,Promise.all([N7(n.threads),K9(n.users,!0),q8(n.messages)]);case 7:if(!n.emojis){e.next=10;break}return e.next=10,$y("emojies-data",structuredClone({data:n.emojis,hash:window.Better_Messages.emojiHash,set:window.Better_Messages.emojiSet}));case 10:return e.next=12,$y("lastUpdate",n.serverTime);case 12:return e.next=14,$y("lastThreadsPull",_i.local({zone:"utc"}).toFormat("yyyy-LL-dd HH:mm:ss"));case 14:return e.abrupt("return",!0);case 17:e.prev=17,e.t0=e.catch(0),hb(e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})))).apply(this,arguments)}var L0=!1;function j0(){return j0=(0,o.A)(u().mark((function e(){var t,n,r,i,a=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]&&a[0],!L0||t){e.next=3;break}return e.abrupt("return");case 3:return L0=!0,e.prev=4,e.next=7,B0();case 7:return e.next=9,pie.get("getFriends");case 9:return n=e.sent,r=n.data,e.next=13,K9(r);case 13:return i=r.map((function(e){return e.user_id})),e.next=16,zre.users.find({selector:{user_id:{$nin:i}}}).update({$set:{isFriend:0}}).catch(RM);case 16:return e.abrupt("return",!0);case 17:return e.prev=17,e.finish(17);case 19:case"end":return e.stop()}}),e,null,[[4,,17,19]])}))),j0.apply(this,arguments)}function U0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z0(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U0(Object(n),!0).forEach((function(t){(0,h.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U0(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function V0(e){e=z0(z0({},{opacity:.3}),e);return c.createElement(c.Fragment,null,c.createElement("div",{className:"threads-list",style:{paddingTop:0,marginTop:0,opacity:e.opacity,overflow:"hidden"}},(0,z.A)(Array(20)).map((function(e,t){return c.createElement("div",{key:"messages-placeholder-"+t,className:"user"},c.createElement("div",{className:"pic",style:{top:"0"}},c.createElement("span",{className:"avatar bbpm-avatar"},c.createElement("div",{className:"bm-placeholder-wrapper",style:{position:"relative",width:30,height:30,borderRadius:"4px",overflow:"hidden"}},c.createElement(qN,null)))),c.createElement("div",{className:"bm-placeholder-wrapper",style:{padding:0,position:"relative",width:"150px",height:"20px",borderRadius:"4px",overflow:"hidden"}},c.createElement(qN,null)),c.createElement("div",{className:"actions"}))}))))}const q0=c.memo(V0);var H0=c.createContext(!1);const W0=(0,c.memo)((function(){var e,t,n,r,i=(0,c.useState)(20),a=(0,_.A)(i,2),s=a[0],l=a[1],d=(0,c.useRef)(20),p=(0,c.useRef)(null),f=(0,c.useState)(),h=(0,_.A)(f,2),m=h[0],v=h[1],g=(0,c.useState)(""),y=(0,_.A)(g,2),b=y[0],w=y[1],D=(e=(0,c.useState)(void 0),t=(0,_.A)(e,2),n=t[0],r=t[1],(0,c.useLayoutEffect)((function(){var e=zre.users.count({selector:{isFriend:1}}).$.subscribe({next:function(e){r(e)},error:function(e){console.error("An error occurred, trying to reset database",e),lie()}});return function(){e.unsubscribe()}}),[]),n);p.current=D;var A=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=(0,c.useState)(void 0),r=(0,_.A)(n,2),i=r[0],a=r[1];return(0,c.useLayoutEffect)((function(){var n={selector:{isFriend:1},limit:e,sort:[{lastActive:"desc"}]};""!==t&&(n=Jre()?{selector:{isFriend:1},sort:[{lastActive:"desc"}]}:{selector:{$and:[{isFriend:{$eq:1}},{name:{$regex:".*"+t+".*",$options:"i"}}]},limit:e,sort:[{lastActive:"desc"}]});var r=zre.users.find(n).$.subscribe({next:function(n){var r=[];n.map((function(e){""!==t&&Jre()?e.name.toLowerCase().includes(t.toLowerCase())&&r.push(e.toMutableJSON()):r.push(e.toMutableJSON())})),""!==t&&Jre()&&(r=r.slice(0,e)),a(r)},error:function(e){console.error("An error occurred, trying to reset database",e),lie()}});return function(){r.unsubscribe()}}),[e,t]),i}(s,b.trim());(0,c.useEffect)((function(){m&&(m.addEventListener("scroll",(function(){S(m)})),C(m))}),[m]);var E=(0,c.useRef)(!1),k=(0,c.useRef)(null),C=function(){var e=(0,o.A)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!E.current){e.next=2;break}return e.abrupt("return");case 2:if(null!==p.current){e.next=6;break}return e.next=5,Dee(200);case 5:return e.abrupt("return",C(t));case 6:if(!(t.clientHeight>=t.scrollHeight&&k.current!==t.scrollHeight)){e.next=15;break}if(!(p.current>d.current)){e.next=13;break}return l((function(e){return d.current=e+20,e+20})),k.current=t.scrollHeight,e.next=12,Dee(50);case 12:return e.abrupt("return",C(t));case 13:e.next=16;break;case 15:E.current=!0;case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=(0,c.useRef)(!1),S=function(e){x.current||e.scrollHeight-(e.scrollTop+e.clientHeight)<=100&&p.current>d.current&&(x.current=!0,l((function(e){return d.current=e+20,e+20})),setTimeout((function(){x.current=!1}),100))};return(0,c.useEffect)((function(){!function(){j0.apply(this,arguments)}()}),[]),A&&(A=A.slice(0,d.current)),c.createElement(c.Fragment,null,c.createElement(H0.Provider,{value:!0},c.createElement(VY,{className:"bp-messages-user-list",events:{initialized:function(e){v(e.elements().scrollEventElement)}}},!A&&c.createElement(c.Fragment,null,c.createElement("div",{className:"bpbm-search-in-list"},c.createElement("input",{type:"text",name:"bpbm-search",disabled:!0,placeholder:Mie("Search...","Friends list","bp-better-messages")})),c.createElement(q0,null)),A&&c.createElement(c.Fragment,null,D>0&&c.createElement("div",{className:"bpbm-search-in-list"},c.createElement("input",{type:"text",name:"bpbm-search",onChange:function(e){w(e.target.value)},value:b,placeholder:Mie("Search...","Friends list","bp-better-messages")})),0===A.length&&c.createElement(c.Fragment,null,c.createElement("div",{className:"bp-messages-user-list empty"},c.createElement("div",{className:"bpbm-empty-icon"},c.createElement(JJ,null)),""===b&&c.createElement("div",{className:"bpbm-empty-text"},Mie("No friends added yet","Empty friends list","bp-better-messages")),""!==b&&c.createElement("div",{className:"bpbm-empty-text"},Mie("No friends found","Empty friends list","bp-better-messages")))),A.length>0&&c.createElement(c.Fragment,null,A.map((function(e){return c.createElement(K0,{key:"friends-list-user-"+e.user_id,user:e})})))))))}));function K0(e){var t=e.user,n=(0,c.useContext)(pN).routerType,r=(0,c.useContext)(H0);return c.createElement("div",{key:"user_"+t.user_id,className:"user",onClick:function(e){(null==e?void 0:e.target).closest("a")||oee(t.user_id,n,!1,!0)}},c.createElement("div",{className:"pic"},c.createElement(rM,{user_id:t.user_id,size:30})),c.createElement(vM,{user_id:t.user_id,raw:r}),c.createElement("div",{className:"actions"},!Sie.callRestrict&&!!t.canAudio&&c.createElement(aP,{content:Mie("Audio Call","Users List","bp-better-messages")},c.createElement("span",{onClick:function(e){e.stopPropagation(),T0(t.user_id,"audio",n)},className:"bpbm-audio-call"},c.createElement(Vx,null))),!Sie.callRestrict&&!!t.canVideo&&c.createElement(aP,{content:Mie("Video Call","Users List","bp-better-messages")},c.createElement("span",{onClick:function(e){e.stopPropagation(),T0(t.user_id,"video",n)},className:"bpbm-video-call"},c.createElement(oS,null))),c.createElement(aP,{content:Mie("User profile","Users List","bp-better-messages")},c.createElement("a",{href:t.url,className:"open-profile"},c.createElement(xJ,null)))))}var $0=c.createContext(!1);function G0(){var e=(0,c.useContext)(S0).searchResults;return c.createElement(VY,{className:"bm-search-results"},c.createElement($0.Provider,{value:!0},e&&c.createElement(c.Fragment,null,"loading"===e&&c.createElement(VN,null),"loading"!==e&&c.createElement(c.Fragment,null,Array.isArray(e)&&0===e.length&&c.createElement(c.Fragment,null,c.createElement("div",{className:"empty bpbm-search-empty"},c.createElement("p",{className:"bpbm-empty-icon"},c.createElement(eS,null)),c.createElement("p",{className:"bpbm-empty-message"},Mie("Nothing found","Search Results","bp-better-messages")))),e.friends&&c.createElement("div",{className:"bm-search-results-section"},c.createElement("div",{className:"bm-search-results-header"},Mie("Friends","Search Results","bp-better-messages")),c.createElement("div",{className:"bp-messages-user-list"},e.friends.map((function(e){return c.createElement(K0,{key:"user_"+e.user_id,user:e})})))),e.users&&c.createElement("div",{className:"bm-search-results-section"},c.createElement("div",{className:"bm-search-results-header"},Mie("Members","Search Results","bp-better-messages")),c.createElement("div",{className:"bp-messages-user-list"},e.users.map((function(e){return c.createElement(K0,{key:"user_"+e.user_id,user:e})})))),e.messages&&c.createElement("div",{className:"bm-search-results-section"},c.createElement("div",{className:"bm-search-results-header"},Mie("Conversations","Search Results","bp-better-messages")),c.createElement("div",{className:"threads-list"},e.messages.map((function(t){var n=e.updateData.threads.filter((function(e){return e.thread_id===t.thread_id}));return n.length>0?(n=n.shift(),c.createElement(o7,{key:"search_thread_"+t.message_id,thread:n,forceMessage:t.message_id})):c.createElement(c.Fragment,null)}))))))))}function Q0(e){var t=(0,c.useContext)(S0),n=t.searchText,r=t.setSearchText,i=(0,c.useState)(!1),a=(0,_.A)(i,2),o=WF({placement:"bottom-end",open:a[0],onOpenChange:a[1],middleware:[YT(0-tP()),ZT(),XT({padding:0})],whileElementsMounted:UT}),s=o.context,u=o.refs,l=o.floatingStyles,d=ZF([eO(s,{role:"menu"})]),p=d.getReferenceProps,f=d.getFloatingProps;return c.createElement("div",cy({ref:u.setReference},p(),{className:"bpbm-search"}),c.createElement("form",null,c.createElement("input",{title:"Search",onChange:function(e){r(e.target.value)},placeholder:Mie("Search...","Search input field placeholder","bp-better-messages"),type:"text",name:"search",value:n,autoComplete:"off"}),e.sideSearch&&c.createElement("span",{className:"close",style:{display:""!==n?"block":"none"},onClick:function(){r("")}},c.createElement($x,null)),!e.sideSearch&&c.createElement("span",{className:"close",style:{display:"block"},onClick:function(){r(""),e.onClose()}},c.createElement($x,null))),!e.sideSearch&&""!==n&&c.createElement("div",cy({ref:u.setFloating,className:"bp-messages-wrap bm-search-popup",style:l},f()),c.createElement(G0,null)))}function Y0(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 24 24","strokeWidth":"2","stroke":"currentColor","fill":"none","strokeLinecap":"round","strokeLinejoin":"round"},"child":[{"tag":"path","attr":{"stroke":"none","d":"M0 0h24v24H0z","fill":"none"}},{"tag":"path","attr":{"d":"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"}},{"tag":"path","attr":{"d":"M5.7 5.7l12.6 12.6"}}]})(e)}function X0(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 24 24","strokeWidth":"2","stroke":"currentColor","fill":"none","strokeLinecap":"round","strokeLinejoin":"round"},"child":[{"tag":"path","attr":{"stroke":"none","d":"M0 0h24v24H0z","fill":"none"}},{"tag":"path","attr":{"d":"M11 7h8a1 1 0 0 1 1 1v7c0 .27 -.107 .516 -.282 .696"}},{"tag":"path","attr":{"d":"M16 16h-11a1 1 0 0 1 -1 -1v-7a1 1 0 0 1 1 -1h2"}},{"tag":"path","attr":{"d":"M7 16v4"}},{"tag":"path","attr":{"d":"M7.5 16l4.244 -4.244"}},{"tag":"path","attr":{"d":"M13.745 9.755l2.755 -2.755"}},{"tag":"path","attr":{"d":"M13.5 16l1.249 -1.249"}},{"tag":"path","attr":{"d":"M16.741 12.759l3.259 -3.259"}},{"tag":"path","attr":{"d":"M4 13.5l4.752 -4.752"}},{"tag":"path","attr":{"d":"M17 17v3"}},{"tag":"path","attr":{"d":"M5 20h4"}},{"tag":"path","attr":{"d":"M15 20h4"}},{"tag":"path","attr":{"d":"M17 7v-2"}},{"tag":"path","attr":{"d":"M3 3l18 18"}}]})(e)}function Z0(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 24 24","strokeWidth":"2","stroke":"currentColor","fill":"none","strokeLinecap":"round","strokeLinejoin":"round"},"child":[{"tag":"path","attr":{"stroke":"none","d":"M0 0h24v24H0z","fill":"none"}},{"tag":"path","attr":{"d":"M4 7m0 1a1 1 0 0 1 1 -1h14a1 1 0 0 1 1 1v7a1 1 0 0 1 -1 1h-14a1 1 0 0 1 -1 -1z"}},{"tag":"path","attr":{"d":"M7 16v4"}},{"tag":"path","attr":{"d":"M7.5 16l9 -9"}},{"tag":"path","attr":{"d":"M13.5 16l6.5 -6.5"}},{"tag":"path","attr":{"d":"M4 13.5l6.5 -6.5"}},{"tag":"path","attr":{"d":"M17 16v4"}},{"tag":"path","attr":{"d":"M5 20h4"}},{"tag":"path","attr":{"d":"M15 20h4"}},{"tag":"path","attr":{"d":"M17 7v-2"}},{"tag":"path","attr":{"d":"M7 7v-2"}}]})(e)}function J0(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 24 24","strokeWidth":"2","stroke":"currentColor","fill":"none","strokeLinecap":"round","strokeLinejoin":"round"},"child":[{"tag":"path","attr":{"stroke":"none","d":"M0 0h24v24H0z","fill":"none"}},{"tag":"path","attr":{"d":"M5 12l5 5l10 -10"}}]})(e)}function e1(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 24 24","strokeWidth":"2","stroke":"currentColor","fill":"none","strokeLinecap":"round","strokeLinejoin":"round"},"child":[{"tag":"path","attr":{"stroke":"none","d":"M0 0h24v24H0z","fill":"none"}},{"tag":"path","attr":{"d":"M21 12a9 9 0 1 0 -9.972 8.948c.32 .034 .644 .052 .972 .052"}},{"tag":"path","attr":{"d":"M12 7v5l2 2"}},{"tag":"path","attr":{"d":"M18.42 15.61a2.1 2.1 0 0 1 2.97 2.97l-3.39 3.42h-3v-3l3.42 -3.39z"}}]})(e)}function t1(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 24 24","strokeWidth":"2","stroke":"currentColor","fill":"none","strokeLinecap":"round","strokeLinejoin":"round"},"child":[{"tag":"path","attr":{"stroke":"none","d":"M0 0h24v24H0z","fill":"none"}},{"tag":"path","attr":{"d":"M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1"}},{"tag":"path","attr":{"d":"M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z"}},{"tag":"path","attr":{"d":"M16 5l3 3"}}]})(e)}function n1(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 24 24","strokeWidth":"2","stroke":"currentColor","fill":"none","strokeLinecap":"round","strokeLinejoin":"round"},"child":[{"tag":"path","attr":{"stroke":"none","d":"M0 0h24v24H0z","fill":"none"}},{"tag":"path","attr":{"d":"M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4"}},{"tag":"path","attr":{"d":"M13.5 6.5l4 4"}}]})(e)}function r1(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 24 24","strokeWidth":"2","stroke":"currentColor","fill":"none","strokeLinecap":"round","strokeLinejoin":"round"},"child":[{"tag":"path","attr":{"stroke":"none","d":"M0 0h24v24H0z","fill":"none"}},{"tag":"path","attr":{"d":"M11 19h-6a2 2 0 0 1 -2 -2v-10a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v4"}},{"tag":"path","attr":{"d":"M14 14m0 1a1 1 0 0 1 1 -1h5a1 1 0 0 1 1 1v3a1 1 0 0 1 -1 1h-5a1 1 0 0 1 -1 -1z"}},{"tag":"path","attr":{"d":"M7 9l4 4"}},{"tag":"path","attr":{"d":"M7 12v-3h3"}}]})(e)}function i1(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 24 24","strokeWidth":"2","stroke":"currentColor","fill":"none","strokeLinecap":"round","strokeLinejoin":"round"},"child":[{"tag":"path","attr":{"stroke":"none","d":"M0 0h24v24H0z","fill":"none"}},{"tag":"path","attr":{"d":"M11 19h-6a2 2 0 0 1 -2 -2v-10a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v4"}},{"tag":"path","attr":{"d":"M14 14m0 1a1 1 0 0 1 1 -1h5a1 1 0 0 1 1 1v3a1 1 0 0 1 -1 1h-5a1 1 0 0 1 -1 -1z"}},{"tag":"path","attr":{"d":"M7 9l4 4"}},{"tag":"path","attr":{"d":"M8 13h3v-3"}}]})(e)}function a1(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 24 24","strokeWidth":"2","stroke":"currentColor","fill":"none","strokeLinecap":"round","strokeLinejoin":"round"},"child":[{"tag":"path","attr":{"stroke":"none","d":"M0 0h24v24H0z","fill":"none"}},{"tag":"path","attr":{"d":"M15 4.5l-4 4l-4 1.5l-1.5 1.5l7 7l1.5 -1.5l1.5 -4l4 -4"}},{"tag":"path","attr":{"d":"M9 15l-4.5 4.5"}},{"tag":"path","attr":{"d":"M14.5 4l5.5 5.5"}}]})(e)}function o1(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 24 24","strokeWidth":"2","stroke":"currentColor","fill":"none","strokeLinecap":"round","strokeLinejoin":"round"},"child":[{"tag":"path","attr":{"stroke":"none","d":"M0 0h24v24H0z","fill":"none"}},{"tag":"path","attr":{"d":"M3 3l18 18"}},{"tag":"path","attr":{"d":"M15 4.5l-3.249 3.249m-2.57 1.433l-2.181 .818l-1.5 1.5l7 7l1.5 -1.5l.82 -2.186m1.43 -2.563l3.25 -3.251"}},{"tag":"path","attr":{"d":"M9 15l-4.5 4.5"}},{"tag":"path","attr":{"d":"M14.5 4l5.5 5.5"}}]})(e)}function s1(e,t){var n="bp-better-messages-mini-mobile-container";e.id===n&&(e.style.display="none"),window.location.hash&&(window.location.hash=""),t(!1),e.id===n&&(e.classList.remove("bm-initialized"),setTimeout((function(){var t=e._reactRootContainer;t&&t.unmount()}),300))}function u1(){return(u1=(0,o.A)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pie.get("markAllRead");case 2:zre.threads.find({selector:{unread:{$gt:0}}}).update({$set:{unread:0}}).catch(RM);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c1(){var e=(0,c.useContext)(pN),t=e.root,n=e.reactRoot;return c.createElement("span",{className:"bm-close",onClick:function(){document.body.classList.remove("bp-messages-full-screen"),n.unmount(),t.remove()}},c.createElement(gX,{className:"bm-svg"}))}function l1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d1(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l1(Object(n),!0).forEach((function(t){(0,h.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l1(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p1(e){e=d1(d1({},{forceThreads:!1}),e);var t,n,r,i,a=(0,c.useContext)(pN),o=a.root,s=a.sideThreads,u=a.isMaximized,l=a.fullScreened,d=a.setIsMaximized,p=a.mobileView,f=a.setMobileView,h=(a.reactRoot,(0,c.useState)(!1)),m=(0,_.A)(h,2),v=m[0],g=m[1],y=(t=(0,c.useState)(0),n=(0,_.A)(t,2),r=n[0],i=n[1],(0,c.useLayoutEffect)((function(){var e=zre.threads.find({selector:{unread:{$gt:0},isHidden:0,isDeleted:0}}).$.subscribe({next:function(e){var t=0,n=0;e.map((function(e){t+=e.get("unread"),n++})),Sie.unreadCounter?i(n):i(t)},error:function(e){console.error("An error occurred, trying to reset database",e),lie()}});return function(){e.unsubscribe()}}),[]),r),b=Zy(),w=!yb()||b;return c.createElement(c.Fragment,null,w&&c.createElement(c.Fragment,null,(!s||e.forceThreads)&&Sie.newThread&&c.createElement(aP,{showOnMobile:!1,content:Mie("New Conversation",'"New Conversation" Button Tooltip',"bp-better-messages")},c.createElement(rN,{className:"new-message",to:"new-conversation"},c.createElement(t1,{className:"bm-svg"}))),c.createElement("span",{style:{marginRight:"auto"}}),y>0&&c.createElement(aP,{showOnMobile:!1,content:Mie("Mark all as read",'"Mark all as read" Button Tooltip',"bp-better-messages")},c.createElement("span",{className:"bm-btn",onClick:function(){!function(){u1.apply(this,arguments)}()}},c.createElement(Wx,{className:"bm-svg"}))),Sie.favorite&&c.createElement(aP,{showOnMobile:!1,content:Mie("Favorited",'"Favorited" Button Tooltip',"bp-better-messages")},c.createElement(rN,{className:"starred-messages",to:"favorited"},c.createElement(kJ,{className:"bm-svg"}))),(!s||e.forceThreads)&&Sie.search&&c.createElement(c.Fragment,null,!v&&c.createElement(aP,{showOnMobile:!1,content:Mie("Search",'"Search" Button Tooltip',"bp-better-messages")},c.createElement("span",{className:"bm-search-btn",onClick:function(){g(!0)}},c.createElement(eS,{className:"bm-svg"}))),v&&c.createElement(Q0,{sideSearch:!1,onClose:function(){g(!1)}})),!p&&Sie.fullScreen&&c.createElement(c.Fragment,null,!u&&c.createElement(c.Fragment,null,c.createElement(aP,{showOnMobile:!1,content:Mie("Maximize",'"Maximize messages window" Button Tooltip',"bp-better-messages")},c.createElement("span",{onClick:function(){d(!0)},className:"bpbm-maximize"},c.createElement($J,{className:"bm-svg"})))),u&&!l&&c.createElement(c.Fragment,null,c.createElement(aP,{showOnMobile:!1,content:Mie("Minimize",'"Minimize messages window" Button Tooltip',"bp-better-messages")},c.createElement("span",{onClick:function(){d(!1)},className:"bpbm-minimize"},c.createElement(QJ,{className:"bm-svg"}))))),l&&c.createElement(c1,null),p&&c.createElement(c.Fragment,null,Sie.userSettings&&(Sie.mobileFriends||Sie.mobileGroups)&&c.createElement(c.Fragment,null,c.createElement(aP,{showOnMobile:!1,content:Mie("Settings",'"User Settings" Button Tooltip',"bp-better-messages")},c.createElement(rN,{className:"settings",to:"settings"},c.createElement(tS,{className:"bm-svg"})))),c.createElement("span",{className:"mobileClose",onClick:function(){s1(o,f)}},c.createElement(gX,{className:"bm-svg"})))),!w&&c.createElement(c.Fragment,null,c.createElement("span",{style:{marginRight:"auto"}}),l&&c.createElement(c1,null),c.createElement("span",{className:"mobileClose",onClick:function(){s1(o,f)}},c.createElement(gX,{className:"bm-svg"}))))}function f1(e){switch(e.icon){case"stop":return c.createElement(PN,{style:{color:e.color}});case"moon":return c.createElement(yN,{style:{color:e.color}});default:return c.createElement(EN,{style:{color:e.color}})}}function h1(){return(h1=(0,o.A)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pie.post("userSettings/save",{"option":"online_status","value":t});case 3:return K9([e.sent.data.message]),e.abrupt("return",!0);case 8:e.prev=8,e.t0=e.catch(0),db(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function m1(){var e=(0,c.useState)(!1),t=(0,_.A)(e,2),n=t[0],r=t[1],i=!1,a=V9(Jy());if(!a)return null;if(0===a.user_id)return null;a&&Sie.userStatuses&&a.status&&(i=Sie.userStatuses.filter((function(e){return a.status.slug===e.slug})).shift());var o={};return Sie.myProfile&&Sie.me&&Sie.me.url&&(o.myProfile=c.createElement("a",{href:Sie.me.url,className:"bpbm-user-me-popup-list-item"},c.createElement("span",{className:"bpbm-user-me-popup-list-item-title"},c.createElement(nX,null)," ",Mie("My profile","My profile button","bp-better-messages")))),Sie.userStatuses&&(o.userStatuses=c.createElement(c.Fragment,null,c.createElement("span",{className:"bpbm-user-me-popup-list-hr"}),Sie.userStatuses.map((function(e){return c.createElement("span",{onClick:function(){!function(e){h1.apply(this,arguments)}(e.slug)},key:"user-status"+e.slug,className:"bpbm-user-me-popup-list-item"},c.createElement("span",{className:"bpbm-user-me-popup-list-item-title"},c.createElement(f1,{icon:e.icon,color:e.color}),e.name),e.desc&&c.createElement("span",{className:"bpbm-user-me-popup-list-item-desc"},e.desc))})))),c.createElement(c.Fragment,null,Jy()&&a&&Object.keys(o).length>0&&c.createElement("span",{className:"bpbm-user-me"+(n?" bpbm-open":""),onClick:function(){r(!n)}},c.createElement("span",{className:"bpbm-user-me-avatar"},c.createElement(rM,{user_id:Jy(),link:!1,size:30})),c.createElement("span",{className:"bpbm-user-info"},c.createElement("span",{className:"bpbm-user-me-name"},c.createElement(vM,{user_id:Jy(),link:!1})),Sie.userStatuses&&c.createElement("span",{className:"bpbm-status"},c.createElement("span",{className:"current-status"},i&&c.createElement(c.Fragment,null,c.createElement(f1,{icon:i.icon,color:i.color}),i.name)))),Object.keys(o).length>0&&c.createElement(Rb,null,n&&c.createElement(Ix.span,{initial:{y:"5px",opacity:0},animate:{y:"0px",opacity:1},transition:{duration:.2},exit:{y:"5px",opacity:0},className:"bpbm-user-me-popup"},c.createElement("span",{className:"bpbm-user-me-popup-list"},Object.keys(o).map((function(e){return c.createElement(c.Fragment,{key:e},o[e])})))))))}function v1(){return c.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 24 24",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg"},c.createElement("path",{fill:"none",strokeWidth:"2",d:"M12,13 C14.209139,13 16,11.209139 16,9 C16,6.790861 14.209139,5 12,5 C9.790861,5 8,6.790861 8,9 C8,11.209139 9.790861,13 12,13 Z M6,22 L6,19 C6,15.6862915 8.6862915,13 12,13 C15.3137085,13 18,15.6862915 18,19 L18,22 M13,5 C13.4037285,3.33566165 15.0151447,2 17,2 C19.172216,2 20.98052,3.790861 21,6 C20.98052,8.209139 19.172216,10 17,10 L16,10 L17,10 C20.287544,10 23,12.6862915 23,16 L23,18 M11,5 C10.5962715,3.33566165 8.98485529,2 7,2 C4.82778404,2 3.01948003,3.790861 3,6 C3.01948003,8.209139 4.82778404,10 7,10 L8,10 L7,10 C3.71245602,10 1,12.6862915 1,16 L1,18"}))}function g1(e){return y1.apply(this,arguments)}function y1(){return y1=(0,o.A)(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pie.post(window.Better_Messages.restUrl+"guests/update",t);case 2:if(n=e.sent,!(r=n.data)){e.next=13;break}return e.next=7,$y("guest-auth",n.data);case 7:Tie.set("bm-guest-auth",n.data),window.Better_Messages.guestAuth=r,Xy.next(!0),Gie(window.Better_Messages),K9([n.data.user]),$y("databaseUserId",Jy());case 13:return e.abrupt("return",n.data);case 14:case"end":return e.stop()}}),e)}))),y1.apply(this,arguments)}function b1(e){!function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e);var t=(0,c.useRef)(),n=(0,c.useState)(""),r=(0,_.A)(n,2),i=r[0],a=r[1],s=(0,c.useState)(!1),l=(0,_.A)(s,2),d=l[0],p=l[1];return(0,c.useEffect)((function(){Wy("guest-auth",!1).then((function(e){t.current=e,a(e.name)}))}),[]),(0,c.useEffect)((function(){t.current&&t.current.name!==i?p(!0):p(!1)}),[i]),c.createElement("div",{className:"bm-guest-settings-modal"},c.createElement("div",{className:"bm-guest-settings"},c.createElement("div",{className:"bm-guest-settings-form"},c.createElement("div",{className:"bm-guest-settings-form-input"},c.createElement("label",null,Rie("Display Name","bp-better-messages")),c.createElement("input",{type:"text",value:i,onChange:function(e){a(e.target.value)}})),c.createElement("div",{className:"bm-guest-settings-form-input"},c.createElement("button",{className:"bm-button",disabled:!d,onClick:(0,o.A)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g1({name:i});case 3:lP("guest-settings-panel"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),hb(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))},Rie("Save","bp-better-messages"))))))}function w1(){var e=(0,c.useContext)(pN),t=e.mobileView,n=e.sideTab,r=e.setSideTab,i=function(){var e=[];return yb()||(Sie.mobileFriends&&e.push("friends"),Sie.mobileGroups&&e.push("groups")),e}();return c.createElement(c.Fragment,null,(!t||0===i.length)&&c.createElement("div",{className:"chat-footer"},!yb()&&c.createElement(c.Fragment,null,Sie.userSettings&&c.createElement(aP,{content:Mie("Settings",'"User Settings" Button Tooltip',"bp-better-messages")},c.createElement(rN,{className:"settings",to:"settings"},c.createElement(tS,null)))),yb()&&c.createElement(c.Fragment,null,c.createElement(aP,{content:Mie("Settings",'"User Settings" Button Tooltip',"bp-better-messages")},c.createElement("a",{className:"settings",href:"#",onClick:function(e){e.preventDefault(),cP("guest-settings-panel",Mie("Guest Settings","Moderation actions","bp-better-messages"),c.createElement(b1,null))}},c.createElement(tS,null)))),c.createElement(m1,null)),t&&i.length>0&&c.createElement("div",{className:"chat-tabs chat-tabs-border-top bpbm-mobile-only"},c.createElement("div",{key:"mobile-threads-list","data-tab":"threads-list",className:"messages"===n?"active":"",onClick:function(){r("messages")}},c.createElement(yJ,null)," ",Mie("Messages","Mobile view tabs","bp-better-messages")),i.map((function(e){return"friends"===e?c.createElement("div",{key:"mobile-friends-list",className:"friends"===n?"active":"",onClick:function(){r("friends")},"data-tab":"bm-friends-list"},c.createElement(JJ,null)," ",Mie("Friends","Mobile view tabs","bp-better-messages")):"groups"===e?c.createElement("div",{key:"mobile-groups-list",className:"groups"===n?"active":"",onClick:function(){r("groups")},"data-tab":"bm-groups-list"},c.createElement(v1,null)," ",Mie("Groups","Mobile view tabs","bp-better-messages")):void 0}))))}function D1(e){return A1.apply(this,arguments)}function A1(){return(A1=(0,o.A)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.length>0)){e.next=3;break}return e.next=3,zre.groups.bulkUpsert(t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var E1=!1;function k1(){return k1=(0,o.A)(u().mark((function e(){var t,n,r,i,a=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]&&a[0],!E1||t){e.next=3;break}return e.abrupt("return");case 3:return E1=!0,e.prev=4,e.next=7,B0();case 7:return e.next=9,pie.get("getGroups");case 9:return n=e.sent,r=n.data,e.next=13,D1(r);case 13:if(!((i=r.map((function(e){return e.group_id}))).length>0)){e.next=19;break}return e.next=17,zre.groups.find({selector:{group_id:{$nin:i}}}).remove().catch(RM);case 17:e.next=21;break;case 19:return e.next=21,zre.groups.find().remove().catch(RM);case 21:return e.abrupt("return",!0);case 22:return e.prev=22,e.finish(22);case 24:case"end":return e.stop()}}),e,null,[[4,,22,24]])}))),k1.apply(this,arguments)}function C1(e){var t=(0,c.useContext)(pN).routerType;return c.createElement("div",{key:"group_"+e.group.group_id,className:"group",onClick:function(n){(null==n?void 0:n.target).closest("a")||(1===e.group.messages&&e.group.thread_id?Lee(e.group.thread_id,t):zee(e.group.url))}},c.createElement("div",{className:"pic"},c.createElement("img",{src:e.group.image,alt:e.group.name})),c.createElement("div",{className:"name"},e.group.name),c.createElement("div",{className:"actions"},c.createElement(aP,{content:Mie("Group Homepage","Groups List","bp-better-messages")},c.createElement("a",{href:e.group.url,className:"open-profile"},c.createElement(AJ,null)))))}function _1(){var e=(0,c.useState)(20),t=(0,_.A)(e,2),n=t[0],r=t[1],i=(0,c.useRef)(20),a=(0,c.useRef)(null),s=(0,c.useState)(),l=(0,_.A)(s,2),d=l[0],p=l[1],f=(0,c.useState)(""),h=(0,_.A)(f,2),m=h[0],v=h[1],g=function(){var e=(0,c.useState)(void 0),t=(0,_.A)(e,2),n=t[0],r=t[1];return(0,c.useEffect)((function(){var e=zre.groups.count().$.subscribe({next:function(e){r(e)},error:function(e){console.error("An error occurred, trying to reset database",e),lie()}});return function(){e.unsubscribe()}}),[]),n}();a.current=g;var y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=(0,c.useState)(void 0),r=(0,_.A)(n,2),i=r[0],a=r[1];return(0,c.useEffect)((function(){var n={limit:e};""!==t&&(n=Jre()?{}:{selector:{$and:[{name:{$regex:".*"+t+".*",$options:"i"}}]},limit:e});var r=zre.groups.find(n).$.subscribe({next:function(n){var r=[];n.map((function(e){""!==t&&Jre()?e.name.toLowerCase().includes(t.toLowerCase())&&r.push(e.toMutableJSON()):r.push(e.toMutableJSON())})),""!==t&&Jre()&&(r=r.slice(0,e)),a(r)},error:function(e){console.error("An error occurred, trying to reset database",e),lie()}});return function(){r.unsubscribe()}}),[e,t]),i}(n,m.trim());(0,c.useEffect)((function(){d&&(d.addEventListener("scroll",(function(){E(d)})),D(d))}),[d]);var b=(0,c.useRef)(!1),w=(0,c.useRef)(null),D=function(){var e=(0,o.A)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!b.current){e.next=2;break}return e.abrupt("return");case 2:if(null!==a.current){e.next=6;break}return e.next=5,Dee(200);case 5:return e.abrupt("return",D(t));case 6:if(!(t.clientHeight>=t.scrollHeight&&w.current!==t.scrollHeight)){e.next=15;break}if(!(a.current>i.current)){e.next=13;break}return r((function(e){return i.current=e+20,e+20})),w.current=t.scrollHeight,e.next=12,Dee(50);case 12:return e.abrupt("return",D(t));case 13:e.next=16;break;case 15:b.current=!0;case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=(0,c.useRef)(!1),E=function(e){A.current||e.scrollHeight-(e.scrollTop+e.clientHeight)<=100&&a.current>i.current&&(A.current=!0,r((function(e){return i.current=e+20,e+20})),setTimeout((function(){A.current=!1}),100))};return(0,c.useEffect)((function(){!function(){k1.apply(this,arguments)}()}),[]),c.createElement(c.Fragment,null,c.createElement(VY,{className:"bp-messages-group-list",events:{initialized:function(e){p(e.elements().scrollEventElement)}}},!y&&c.createElement(c.Fragment,null,c.createElement("div",{className:"bpbm-search-in-list"},c.createElement("input",{type:"text",name:"bpbm-search",disabled:!0,placeholder:Mie("Search...","Groups list","bp-better-messages")})),c.createElement(q0,null)),y&&c.createElement(c.Fragment,null,g>0&&c.createElement("div",{className:"bpbm-search-in-list"},c.createElement("input",{type:"text",name:"bpbm-search",onChange:function(e){v(e.target.value)},value:m,placeholder:Mie("Search...","Groups list","bp-better-messages")})),0===y.length&&c.createElement("div",{className:"bp-messages-user-list empty"},c.createElement("div",{className:"bpbm-empty-icon"},c.createElement(v1,null)),""===m&&c.createElement("div",{className:"bpbm-empty-text"},Mie("No groups added yet","Empty groups list","bp-better-messages")),""!==m&&c.createElement("div",{className:"bpbm-empty-text"},Mie("No groups found","Empty groups list","bp-better-messages"))),y.length>0&&c.createElement(c.Fragment,null,y.map((function(e){return c.createElement(C1,{key:"group-list-"+e.group_id,group:e})}))))))}var x1=new Ml(!1);function S1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T1(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S1(Object(n),!0).forEach((function(t){(0,h.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S1(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function F1(e){e=T1(T1({},{forceThreads:!1}),e);var t=(0,c.useContext)(pN),n=t.sideThreads,r=t.mobileView,i=t.sideTab,a=Sie.newThread,o=(0,c.useState)(1),s=(0,_.A)(o,2),u=s[0],l=s[1],d=(0,c.useRef)(null),p=(0,c.useState)(!1),f=(0,_.A)(p,2),h=f[0],m=f[1],v=(0,c.useState)(!1),g=(0,_.A)(v,2),y=g[0],b=g[1],w=function(){var e=(0,c.useState)(x1.getValue()),t=(0,_.A)(e,2),n=t[0],r=t[1];return(0,c.useEffect)((function(){var e=x1.subscribe({next:function(e){r(e)}});return function(){e.unsubscribe()}}),[]),n}();(0,c.useEffect)((function(){r&&("friends"===i?(l(2),m(!0)):"groups"===i?(l(3),b(!0)):l(1))}),[i]);var D=Hie("better_messages_header_element",c.createElement(p1,{forceThreads:e.forceThreads}),"index",r);"string"==typeof D&&(D=Gg(D));var A=Hie("better_messages_footer_element",c.createElement(w1,null),"index",r);return"string"==typeof A&&(A=Gg(A)),c.createElement(c.Fragment,null,c.createElement("div",{className:"chat-header"},D),r&&c.createElement(c.Fragment,null,c.createElement(Ix.div,{ref:d,className:"bm-slide-container",transition:{duration:.2},animate:{left:"-"+(100*u-100)+"%"},style:{height:"calc( 100% - 80px )"}},w&&c.createElement("div",{className:"bm-loading-background"},Gg('<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 256 256" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M140,32V64a12,12,0,0,1-24,0V32a12,12,0,0,1,24,0Zm84,84H192a12,12,0,0,0,0,24h32a12,12,0,0,0,0-24Zm-42.26,48.77a12,12,0,1,0-17,17l22.63,22.63a12,12,0,0,0,17-17ZM128,180a12,12,0,0,0-12,12v32a12,12,0,0,0,24,0V192A12,12,0,0,0,128,180ZM74.26,164.77,51.63,187.4a12,12,0,0,0,17,17l22.63-22.63a12,12,0,1,0-17-17ZM76,128a12,12,0,0,0-12-12H32a12,12,0,0,0,0,24H64A12,12,0,0,0,76,128ZM68.6,51.63a12,12,0,1,0-17,17L74.26,91.23a12,12,0,0,0,17-17Z"></path></svg>')),c.createElement("div",{className:"bm-slide"},c.createElement(x0,{emptyType:"no_messages",inRouter:!0})),c.createElement("div",{className:"bm-slide"},h&&c.createElement(W0,null)),c.createElement("div",{className:"bm-slide"},y&&c.createElement(_1,null))),A),!r&&c.createElement(c.Fragment,null,(!n||e.forceThreads)&&c.createElement(c.Fragment,null,c.createElement(x0,{emptyType:"no_messages",inRouter:!0}),A),n&&!e.forceThreads&&c.createElement(Ix.div,{initial:{x:"-100%"},animate:{x:"0%"},transition:{duration:.2},exit:{x:"-100%"},className:"thread-not-selected empty"},c.createElement("div",{className:"empty"},c.createElement("p",{className:"bpbm-empty-icon"},c.createElement(Hx,null)),c.createElement("p",{className:"bpbm-empty-message"},Mie("Select a conversation to display messages","Starting Messages Screen (No threads selected)","bp-better-messages")),a&&c.createElement(c.Fragment,null,c.createElement("p",{className:"bpbm-empty-or"},Mie("or","Starting Messages Screen (No threads selected)","bp-better-messages")),c.createElement("p",{className:"bpbm-empty-link"},c.createElement(rN,{to:"new-conversation"},Mie("Start a new conversation","Starting Messages Screen (No threads selected)","bp-better-messages"))))))))}var O1=navigator.mediaDevices&&"getDisplayMedia"in navigator.mediaDevices,P1=(!Yv()&&document,new Map([["microphone","unknown"],["camera","unknown"]])),I1=navigator.mediaDevices,B1=!1;var R1=new Wc,N1=new Map,M1=new Map,L1=new Map,j1=!1;function U1(){var e=(0,c.useState)(N1),t=(0,_.A)(e,2),n=t[0],r=t[1];return(0,c.useEffect)((function(){var e=R1.subscribe({next:function(){r(N1)}});return function(){e.unsubscribe()}}),[]),n}function z1(){var e=(0,c.useState)(M1),t=(0,_.A)(e,2),n=t[0],r=t[1];return(0,c.useEffect)((function(){var e=R1.subscribe({next:function(){r(M1)}});return function(){e.unsubscribe()}}),[]),n}function V1(){var e=(0,c.useState)(L1),t=(0,_.A)(e,2),n=t[0],r=t[1];return(0,c.useEffect)((function(){var e=R1.subscribe({next:function(){r(L1)}});return function(){e.unsubscribe()}}),[]),n}function q1(){var e=(0,c.useState)(j1),t=(0,_.A)(e,2),n=t[0],r=t[1];return(0,c.useEffect)((function(){var e=R1.subscribe({next:function(){r(j1)}});return function(){e.unsubscribe()}}),[]),n}function H1(){return W1.apply(this,arguments)}function W1(){return W1=(0,o.A)(u().mark((function e(){var t,n,r,i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"object"===(0,C.A)(I1)&&"function"==typeof I1.enumerateDevices){e.next=7;break}return j1=!1,P1.set("camera","unknown"),P1.set("microphone","unknown"),R1.next(),e.abrupt("return");case 7:return e.next=9,Promise.all([K1("camera"),K1("microphone"),I1.enumerateDevices()]);case 9:t=e.sent,n=(0,_.A)(t,3),r=n[0],i=n[1],a=n[2],P1.set("camera",r),P1.set("microphone",i),N1.clear(),M1.clear(),L1.clear(),a.forEach((function(e){if(e.deviceId)switch(e.kind){case"videoinput":N1.set(e.deviceId,e);break;case"audioinput":M1.set(e.deviceId,e);break;case"audiooutput":L1.set(e.deviceId,e)}})),j1=N1.size>0||M1.size>0||L1.size>0,R1.next();case 22:return e.prev=22,!B1&&I1&&I1.ondevicechange&&(B1=!0,navigator.mediaDevices.ondevicechange=function(e){H1()}),e.finish(22);case 25:case"end":return e.stop()}}),e,null,[[0,,22,25]])}))),W1.apply(this,arguments)}function K1(e){return $1.apply(this,arguments)}function $1(){return $1=(0,o.A)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=(0,o.A)(u().mark((function e(n,r){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{navigator.permissions.query({name:t}).then((function(e){n(e.state)})).catch((function(e){n("unknown")}))}catch(e){n("unknown")}case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)}))),$1.apply(this,arguments)}function G1(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return console.error(e),t||(t=Mie("Camera or Microphone","Calling Features - Device Name when error triggered","bp-better-messages")),e&&"name"in e?"NotFoundError"===e.name||"DevicesNotFoundError"===e.name?Lie(Mie("%s not found","Calling Features - Device not found error","bp-better-messages"),t):"NotAllowedError"===e.name||"PermissionDeniedError"===e.name?Lie(Mie("No permission to access %s. Please ensure access to %s is allowed in your browser settings.","Calling Features - Device no permission error","bp-better-messages"),t.toLowerCase(),t.toLowerCase()):"NotReadableError"===e.name||"TrackStartError"===e.name?Lie(Mie("%s is already in use. Ensure that its not used by other application or select other %s if available.","Calling Features - Device already in use error","bp-better-messages"),t,t):Lie(Mie("Unknown error while trying to access %s","Calling Features - Device unknown error","bp-better-messages"),t.toLowerCase()):""}function Q1(e,t,n){return Y1.apply(this,arguments)}function Y1(){return(Y1=(0,o.A)(u().mark((function e(t,n,r){var i,a,o,s,c,l,d,p;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(__webpack_require__.bind(__webpack_require__,32223));case 2:return i=e.sent,a=i.VideoPresets,o=i.createLocalTracks,e.prev=5,s={deviceId:"default"},c={resolution:a.h1080.resolution,deviceId:"default"},t?c.deviceId=t:c.facingMode=r,n&&(s.deviceId=n),e.next=12,o({audio:s,video:c});case 12:return l=e.sent,d=new Map([]),l.forEach((function(e){"audio"===e.kind&&d.set("audio",e),"video"===e.kind&&d.set("video",e)})),e.abrupt("return",d);case 18:return e.prev=18,e.t0=e.catch(5),e.next=22,H1();case 22:throw p=[],"denied"===P1.get("camera")&&p.push(G1(e.t0,Mie("Camera","Media Inputs","bp-better-messages"))),"denied"===P1.get("microphone")&&p.push(G1(e.t0,Mie("Microphone","Media Inputs","bp-better-messages"))),0===p.length&&p.push(G1(e.t0)),p;case 27:case"end":return e.stop()}}),e,null,[[5,18]])})))).apply(this,arguments)}function X1(e,t){return Z1.apply(this,arguments)}function Z1(){return(Z1=(0,o.A)(u().mark((function e(t,n){var r,i,a,o,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.resolve().then(__webpack_require__.bind(__webpack_require__,32223));case 3:return r=e.sent,i=r.VideoPresets,a=r.createLocalVideoTrack,o={resolution:i.h1080.resolution,deviceId:"default"},t?o.deviceId=t:o.facingMode=n,e.next=10,a(o);case 10:return s=e.sent,e.abrupt("return",s);case 14:throw e.prev=14,e.t0=e.catch(0),G1(e.t0,Mie("Camera","Media Inputs","bp-better-messages"));case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}function J1(){return e2.apply(this,arguments)}function e2(){return(e2=(0,o.A)(u().mark((function e(){var t,n,r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.resolve().then(__webpack_require__.bind(__webpack_require__,32223));case 3:return t=e.sent,n=t.createLocalScreenTracks,e.next=7,n({audio:{echoCancellation:!1,noiseSuppression:!1},video:!0,contentHint:"detail"});case 7:return r=e.sent,i=new Map([]),r.forEach((function(e){"audio"===e.kind&&i.set("audio",e),"video"===e.kind&&i.set("video",e)})),e.abrupt("return",i);case 13:throw e.prev=13,e.t0=e.catch(0),G1(e.t0,Mie("Screen","Media Inputs","bp-better-messages"));case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function t2(e){return n2.apply(this,arguments)}function n2(){return(n2=(0,o.A)(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.resolve().then(__webpack_require__.bind(__webpack_require__,32223));case 3:return n=e.sent,r=n.createLocalAudioTrack,t||(t="default"),e.next=8,r({channelCount:2,echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0,deviceId:t});case 8:return e.abrupt("return",e.sent);case 11:throw e.prev=11,e.t0=e.catch(0),G1(e.t0,Mie("Microphone","Media Inputs","bp-better-messages"));case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function r2(){return i2.apply(this,arguments)}function i2(){return i2=(0,o.A)(u().mark((function e(){var t,n,r,i,a=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:null,n=a.length>1?a[1]:void 0,e.prev=2,e.next=5,pie.post("callCreate",{thread_id:t,type:n});case 5:if(r=e.sent,"not_allowed"!==(i=r.data).result){e.next=13;break}return Hie("better_messages_call_create_not_allowed",!0,t,n)&&db(i.errors),e.abrupt("return",!1);case 13:if("allowed"!==i.result){e.next=15;break}return e.abrupt("return",{message_id:i.message_id,user_ids:i.user_ids,thread_id:i.thread_id,token:i.token,encryption_key:i.encryption_key});case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(2),hb(e.t0);case 20:case"end":return e.stop()}}),e,null,[[2,17]])}))),i2.apply(this,arguments)}H1();var a2=__webpack_require__(76342);function o2(){var e=(0,c.useState)(Vre.getValue()),t=(0,_.A)(e,2),n=t[0],r=t[1];return(0,c.useEffect)((function(){var e=Vre.subscribe({next:function(e){r(e)}});return function(){e.unsubscribe()}}),[]),[n,r]}var s2=function(e,t,n){var r=window.innerHeight,i={hideSideThreads:!1,height:"100%"},a=document.querySelector("#wpadminbar");a&&(r-=a.getBoundingClientRect().height),Sie.headerHeight&&parseInt(Sie.headerHeight)>0&&(r-=parseInt(Sie.headerHeight));var o=e.getBoundingClientRect();o.width/2<parseInt(Sie.sideWidth)&&(i.hideSideThreads=!0);var s=o.height,u=Sie.maxHeight,c=Sie.minHeight;return(r<s||r>s)&&(s=r),s<c?s=c:s>u&&(s=u),s-=20,(t||n)&&(s="100%"),i.height=n||t?"100%":s,i};function u2(e){var t=e.height,n=e.setMobileView;return c.createElement("div",{className:"bp-messages-mobile-tap",style:{lineHeight:t+"px",opacity:Sie.tapToOpen?"1":"0"},onClick:function(){n(!0)}},c.createElement("span",null,Mie("Tap to open messages","Mobile view","bp-better-messages")))}function c2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(c2=function(){return!!e})()}var l2=(0,c.createContext)(null),d2={didCatch:!1,error:null},p2=function(e){function t(e){var n;return(0,p.A)(this,t),(n=function(e,t,n){return t=(0,S.A)(t),(0,x.A)(e,c2()?Reflect.construct(t,n||[],(0,S.A)(e).constructor):t.apply(e,n))}(this,t,[e])).resetErrorBoundary=n.resetErrorBoundary.bind(n),n.state=d2,n}return(0,T.A)(t,e),(0,f.A)(t,[{key:"resetErrorBoundary",value:function(){if(null!==this.state.error){for(var e,t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];null===(e=(t=this.props).onReset)||void 0===e||e.call(t,{args:r,reason:"imperative-api"}),this.setState(d2)}}},{key:"componentDidCatch",value:function(e,t){var n,r;null===(n=(r=this.props).onError)||void 0===n||n.call(r,e,t)}},{key:"componentDidUpdate",value:function(e,t){var n,r,i=this.state.didCatch,a=this.props.resetKeys;i&&null!==t.error&&function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.length!==t.length||e.some((function(e,n){return!Object.is(e,t[n])}))}(e.resetKeys,a)&&(null===(n=(r=this.props).onReset)||void 0===n||n.call(r,{next:a,prev:e.resetKeys,reason:"keys"}),this.setState(d2))}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.fallbackRender,r=e.FallbackComponent,i=e.fallback,a=this.state,o=a.didCatch,s=a.error,u=t;if(o){var l={error:s,resetErrorBoundary:this.resetErrorBoundary};if("function"==typeof n)u=n(l);else if(r)u=(0,c.createElement)(r,l);else{if(void 0===i)throw s;u=i}}return(0,c.createElement)(l2.Provider,{value:{didCatch:o,error:s,resetErrorBoundary:this.resetErrorBoundary}},u)}}],[{key:"getDerivedStateFromError",value:function(e){return{didCatch:!0,error:e}}}])}(c.Component);var f2=(0,c.createContext)(null);function h2(e){e.children;var t=Zy();return yb()&&!t?c.createElement("div",{className:"bm-guest-wall"},c.createElement("div",{className:"bm-guest-wall-content"},c.createElement("div",{className:"bm-heading"},Rie("Authorization required","bp-better-messages")),c.createElement(eee,null))):null}function m2(){var e=(0,c.useState)(!1),t=(0,_.A)(e,2),n=t[0],r=t[1];return(0,c.useEffect)((function(){n?bee():wee()}),[n]),[n,r]}function v2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g2(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v2(Object(n),!0).forEach((function(t){(0,h.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v2(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y2(e){e=g2(g2({},{mobileApp:!1,forceMobile:!1,maximized:!1,animated:!1,fullScreened:!1}),e);var t=(0,c.useState)(null),n=(0,_.A)(t,2),r=n[0],i=n[1],a=(0,c.useState)(null),s=(0,_.A)(a,2),l=s[0],d=s[1],p=(0,c.useState)(e.maximized),f=(0,_.A)(p,2),h=f[0],m=f[1],v=(0,c.useState)(e.forceMobile),g=(0,_.A)(v,2),y=g[0],b=g[1],w=(0,c.useState)("messages"),D=(0,_.A)(w,2),A=D[0],E=D[1],k=o2(),C=(0,_.A)(k,2),x=C[0],S=C[1],T=m2(),F=(0,_.A)(T,2),O=F[0],P=F[1],I=Number(e.root.dataset.userId),B=YV(e.root.dataset.threadId),R=(0,_.A)(B,3),N=R[0],M=R[1],L=R[2],j=(0,c.useState)(),U=(0,_.A)(j,2),z=U[0],V=U[1],q=(0,c.useRef)(),H=(0,c.useState)(!1),W=(0,_.A)(H,2),K=W[0],$=W[1],G=yb(),Q=Zy(),Y=!G||Q,X=function(){var e=(0,o.A)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(V(null),!(L.current||G&&!Q)){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,$(!0),e.next=7,uee(I,!0);case 7:(t=e.sent)&&M(t),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),V(e.t0);case 14:return e.prev=14,$(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[3,11,14,17]])})));return function(){return e.apply(this,arguments)}}();(0,c.useEffect)((function(){return X(),N&&Hee.set("single-thread-"+N,N),function(){Hee.delete("single-thread-"+N)}}),[N,Q]);var Z=(0,c.useState)(),J=(0,_.A)(Z,2),ee=J[0],te=J[1];(0,c.useEffect)((function(){d(q.current)}),[q]);var ne=(0,c.useState)(Sie.minHeight+"px"),re=(0,_.A)(ne,2),ie=re[0],ae=re[1],oe=function(){if(q.current){var e=Iie&&Yv()&&y,t=s2(q.current,h,e),n=(t.hideSideThreads,t.height);ae(n);var r=q.current.closest(".bp-messages-single-thread-wrap");r&&(r.style.height=null)}};(0,c.useLayoutEffect)((function(){oe()})),(0,c.useEffect)((function(){var t=document.createElement("div");t.classList.add("bm-placeholder-anchor"),t.style.display="none",e.root.parentNode.insertBefore(t,e.root),te(t)}),[]),(0,c.useEffect)((function(){return window.addEventListener("resize",oe),function(){window.removeEventListener("resize",oe)}}),[l]),(0,c.useEffect)((function(){Iie&&(y?(document.body.appendChild(e.root),e.root.classList.add("bp-messages-mobile"),document.querySelector("body").classList.add("bp-messages-mobile"),oe(),H6()):(ee&&ee.parentNode.insertBefore(e.root,ee),e.root.classList.remove("bp-messages-mobile"),document.querySelector("body").classList.remove("bp-messages-mobile"),oe()))}),[y]),(0,c.useEffect)((function(){h?(document.body.appendChild(e.root),document.querySelector("body").classList.add("bp-messages-full-screen"),oe(),H6()):(ee&&ee.parentNode.insertBefore(e.root,ee),document.querySelector("body").classList.remove("bp-messages-full-screen"),oe())}),[h]);var se="bp-messages-wrap";return Iie&&(se+=" mobile-ready"),y&&(se+=" bp-messages-mobile"),h&&(se+=" bp-messages-full-screen"),O&&(se+=" bpbm-call-view"),c.createElement(c.StrictMode,null,c.createElement(p2,{FallbackComponent:function(){return S(!1),gie()?setTimeout((function(){return S(!0)}),500):yie().then((function(){S(!0)})),null}},c.createElement(f2.Provider,{value:N},x&&!K&&c.createElement(pN.Provider,{value:{reactRoot:e.reactRoot,root:e.root,header:r,setHeader:i,wrapper:l,setWrapper:d,isMaximized:h,setIsMaximized:m,useRouter:!1,callActive:O,setCallActive:P,mobileView:y,setMobileView:b,sideTab:A,setSideTab:E,sideThreads:!1,routerType:!1,fullScreened:e.fullScreened}},c.createElement(Ix.div,{initial:{scale:e.animated?0:1},animate:{scale:1},exit:{scale:e.animated?0:1},className:se,ref:q,style:{height:ie}},c.createElement("div",{className:"bp-messages-threads-wrapper threads-hidden",style:{display:"block",height:ie}},c.createElement("div",{className:"bp-messages-column"},Y&&N&&c.createElement(c.Fragment,null,c.createElement(q5,{threadId:N,initialAnimation:!1}),c.createElement(u2,{height:ie,setMobileView:b})),z&&Array.isArray(z)&&c.createElement("div",{className:"bm-errors"},z.map((function(e,t){return c.createElement("div",{className:"bm-error",key:t},Gg(e))})))),c.createElement(h2,null)))),(!x||K)&&c.createElement(c.Fragment,null,Gg(e.placeholder)))))}function b2(e){return w2.apply(this,arguments)}function w2(){return w2=(0,o.A)(u().mark((function e(t){var n,r,i,a=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.length>1&&void 0!==a[1]?a[1]:"conversation",!Iie){e.next=5;break}Lee(t),e.next=22;break;case 5:(r=document.createElement("div")).className="bp-messages-full-screen-thread-wrap",r.dataset.threadId=String(t),(i=a2.createRoot(r)).render(c.createElement(y2,{reactRoot:i,root:r,maximized:!0,fullScreened:!0,animated:!0,placeholder:""})),document.body.append(r),e.t0=n,e.next="video"===e.t0?14:"audio"===e.t0?16:"group-video"===e.t0?18:"group-audio"===e.t0?20:22;break;case 14:return D2(r,".bp-messages-wrap .chat-header .video-call"),e.abrupt("break",22);case 16:return D2(r,".bp-messages-wrap .chat-header .audio-call"),e.abrupt("break",22);case 18:return D2(r,".bp-messages-wrap .chat-header .group-call"),e.abrupt("break",22);case 20:return D2(r,".bp-messages-wrap .chat-header .group-audio-call"),e.abrupt("break",22);case 22:case"end":return e.stop()}}),e)}))),w2.apply(this,arguments)}function D2(e,t){var n=e.querySelector(t);n?n.click():setTimeout((function(){D2(e,t)}),250)}var A2=new Map;function E2(e){return k2.apply(this,arguments)}function k2(){return k2=(0,o.A)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!A2.has(t.message_id)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Hie("BetterMessagesShowIncomingCall",!0,t.thread_id,t.message_id);case 4:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:n=Hy(c.createElement(c.Fragment,null,c.createElement("div",{className:"bm-toast-site-call-container"},c.createElement("div",{className:"bm-toast-site-call-avatar"},c.createElement(rM,{user_id:t.user_id,size:45,link:!1})),c.createElement("div",{className:"bm-toast-site-call-info"},c.createElement("div",{className:"bm-toast-site-call-title"},c.createElement(vM,{user_id:t.user_id,fallback:t.name,link:!1})),c.createElement("div",{className:"bm-toast-site-call-content"},c.createElement("div",{className:"bm-toast-site-call-text"},"video"===t.type&&c.createElement(c.Fragment,null,Mie("Incoming Video Call","Private Call - On Site Message","bp-better-messages")),"audio"===t.type&&c.createElement(c.Fragment,null,Mie("Incoming Audio Call","Private Call - On Site Message","bp-better-messages"))),c.createElement(aP,{content:Mie("Answer","Private Call Screen","bp-better-messages")},c.createElement("div",{className:"bm-toast-site-call-action-answer",onClick:function(){b2(t.thread_id),Hy.dismiss(n)}},c.createElement(BN,null))),c.createElement(aP,{content:Mie("Reject","Private Call Screen","bp-better-messages")},c.createElement("div",{className:"bm-toast-site-call-action-reject",onClick:function(){S2(t.user_id,t.thread_id,t.message_id)}},c.createElement(BN,null))))))),{className:"bm-toasts bm-toast-site-call",position:mb(),draggableDirection:vb(),draggablePercent:gb(),autoClose:!1,onClick:function(e){},onOpen:function(){},onClose:function(){},theme:"colored",hideProgressBar:!0,closeOnClick:!1,closeButton:!1,pauseOnHover:!0,draggable:!1,progress:void 0}),A2.set(t.message_id,{toastId:n});case 8:case"end":return e.stop()}}),e)}))),k2.apply(this,arguments)}function C2(e,t){return _2.apply(this,arguments)}function _2(){return(_2=(0,o.A)(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!A2.has(n)){e.next=7;break}return e.next=3,Hie("BetterMessagesHideIncomingCall",!0,t,n);case 3:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:Hy.dismiss(A2.get(n).toastId),A2.delete(n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var x2=new Set;function S2(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"rejected";x2.add(n),"rejected"===r&&b9.emit("callEvent",{event:"user_reject",to:e,thread_id:t,message_id:n}),"busy"===r&&b9.emit("callEvent",{event:"user_busy",to:e,thread_id:t,message_id:n})}function T2(e,t){dK(),C2(e,t),Wie("better_messages_call_aborted",t,e)}var F2=new Map;function O2(e,t){tb()||function(){lK.apply(this,arguments)}(),F2.has(t)&&clearTimeout(F2.get(t)),function(e){P2.has(e)?P2.set(e,P2.get(e)+1):P2.set(e,1)}(t),F2.set(t,window.setTimeout((function(){T2(e,t)}),5e3))}var P2=new Map;function I2(e){return P2.has(e)?P2.get(e):0}function B2(e,t,n){return R2.apply(this,arguments)}function R2(){return R2=(0,o.A)(u().mark((function e(t,n,r){var i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pie.post("joinCall",{thread_id:t,message_id:n,type:r});case 3:if(i=e.sent,"not_allowed"!==(a=i.data).result){e.next=11;break}return Hie("better_messages_call_join_not_allowed",!0,t,r)&&db(a.errors),e.abrupt("return",!1);case 11:if("allowed"!==a.result){e.next=13;break}return e.abrupt("return",{token:a.token,encryption_key:a.encryption_key});case 13:e.next=19;break;case 15:return e.prev=15,e.t0=e.catch(0),hb(e.t0),e.abrupt("return",!1);case 19:case"end":return e.stop()}}),e,null,[[0,15]])}))),R2.apply(this,arguments)}function N2(e){var t=e.label,n=e.devices,r=e.selectedDevice,i=e.setSelectedDevice,a=[];return n.forEach((function(e){var t="";"default"===e.deviceId&&(t+=Mie("Same as system","Media Inputs","bp-better-messages")+" - "),"communications"===e.deviceId&&(t+=Mie("Communications","Media Inputs","bp-better-messages")+" - "),t+=e.label,a.push(c.createElement("option",{key:"device-"+e.deviceId,value:e.deviceId,"data-label":t},t))})),c.createElement(c.Fragment,null,c.createElement("div",{className:"bpbm-call-setting bpbm-switch-device"},c.createElement("label",null,t),c.createElement("div",{className:"bpbm-switch-device-select-wrap"},c.createElement("select",{value:r,onChange:function(e){i(e.target.value)}},c.createElement("option",{value:""},Mie("Default","Media Inputs","bp-better-messages")),a))))}__webpack_require__(80630),__webpack_require__(35701);var M2="bits",L2="bytes",j2="",U2="jedec",z2="round",V2="string",q2={symbol:{iec:{bits:["bit","Kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],bytes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},jedec:{bits:["bit","Kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}},fullform:{iec:["","kibi","mebi","gibi","tebi","pebi","exbi","zebi","yobi"],jedec:["","kilo","mega","giga","tera","peta","exa","zetta","yotta"]}};function H2(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.bits,r=void 0!==n&&n,i=t.pad,a=void 0!==i&&i,o=t.base,s=void 0===o?-1:o,u=t.round,c=void 0===u?2:u,l=t.locale,d=void 0===l?j2:l,p=t.localeOptions,f=void 0===p?{}:p,h=t.separator,m=void 0===h?j2:h,v=t.spacer,g=void 0===v?" ":v,y=t.symbols,b=void 0===y?{}:y,w=t.standard,D=void 0===w?j2:w,A=t.output,E=void 0===A?V2:A,k=t.fullform,_=void 0!==k&&k,x=t.fullforms,S=void 0===x?[]:x,T=t.exponent,F=void 0===T?-1:T,O=t.roundingMethod,P=void 0===O?z2:O,I=t.precision,B=void 0===I?0:I,R=F,N=Number(e),M=[],L=0,j=j2;"si"===D?(s=10,D=U2):"iec"===D||D===U2?s=2:2===s?D="iec":(s=10,D=U2);var U=10===s?1e3:1024,z=!0===_,V=N<0,q=Math[P];if("bigint"!=typeof e&&isNaN(e))throw new TypeError("Invalid number");if("function"!==(0,C.A)(q))throw new TypeError("Invalid rounding method");if(V&&(N=-N),(-1===R||isNaN(R))&&(R=Math.floor(Math.log(N)/Math.log(U)))<0&&(R=0),R>8&&(B>0&&(B+=8-R),R=8),"exponent"===E)return R;if(0===N)M[0]=0,j=M[1]=q2.symbol[D][r?M2:L2][R];else{L=N/(2===s?Math.pow(2,10*R):Math.pow(1e3,R)),r&&(L*=8)>=U&&R<8&&(L/=U,R++);var H=Math.pow(10,R>0?c:0);M[0]=q(L*H)/H,M[0]===U&&R<8&&-1===F&&(M[0]=1,R++),j=M[1]=10===s&&1===R?r?"kbit":"kB":q2.symbol[D][r?M2:L2][R]}if(V&&(M[0]=-M[0]),B>0&&(M[0]=M[0].toPrecision(B)),M[1]=b[M[1]]||M[1],!0===d?M[0]=M[0].toLocaleString():d.length>0?M[0]=M[0].toLocaleString(d,f):m.length>0&&(M[0]=M[0].toString().replace(".",m)),a&&c>0){var W=M[0].toString(),K=m||(W.match(/(\D)/g)||[]).pop()||".",$=W.toString().split(K),G=$[1]||j2,Q=G.length,Y=c-Q;M[0]="".concat($[0]).concat(K).concat(G.padEnd(Q+Y,"0"))}return z&&(M[1]=S[R]?S[R]:q2.fullform[D][R]+(r?"bit":"byte")+(1===M[0]?j2:"s")),"array"===E?M:"object"===E?{value:M[0],symbol:M[1],exponent:R,unit:j}:M.join(g)}function W2(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 512 512"},"child":[{"tag":"path","attr":{"d":"M142.9 142.9c62.2-62.2 162.7-62.5 225.3-1L327 183c-6.9 6.9-8.9 17.2-5.2 26.2s12.5 14.8 22.2 14.8H463.5c0 0 0 0 0 0H472c13.3 0 24-10.7 24-24V72c0-9.7-5.8-18.5-14.8-22.2s-19.3-1.7-26.2 5.2L413.4 96.6c-87.6-86.5-228.7-86.2-315.8 1C73.2 122 55.6 150.7 44.8 181.4c-5.9 16.7 2.9 34.9 19.5 40.8s34.9-2.9 40.8-19.5c7.7-21.8 20.2-42.3 37.8-59.8zM16 312v7.6 .7V440c0 9.7 5.8 18.5 14.8 22.2s19.3 1.7 26.2-5.2l41.6-41.6c87.6 86.5 228.7 86.2 315.8-1c24.4-24.4 42.1-53.1 52.9-83.7c5.9-16.7-2.9-34.9-19.5-40.8s-34.9 2.9-40.8 19.5c-7.7 21.8-20.2 42.3-37.8 59.8c-62.2 62.2-162.7 62.5-225.3 1L185 329c6.9-6.9 8.9-17.2 5.2-26.2s-12.5-14.8-22.2-14.8H48.4h-.7H40c-13.3 0-24 10.7-24 24z"}}]})(e)}function K2(e){var t=e.children,n=e.className,r=void 0===n?"":n,i=e.resizeDirection,a=e.initialWidth,o=void 0===a?100:a,s=(0,c.useRef)(void 0),u=YV(null),l=(0,_.A)(u,3),d=(l[0],l[1]),p=l[2],f=YV(!1),h=(0,_.A)(f,3),m=h[0],v=h[1],g=h[2],y=YV(!1),b=(0,_.A)(y,3),w=(b[0],b[1]),D=b[2],A=YV(0),E=(0,_.A)(A,3),k=(E[0],E[1]),C=E[2],x=YV(0),S=(0,_.A)(x,3),T=(S[0],S[1]),F=S[2],O=YV(0),P=(0,_.A)(O,3),I=(P[0],P[1]),B=P[2],R=YV(0),N=(0,_.A)(R,3),M=(N[0],N[1]),L=N[2],j=YV(0),U=(0,_.A)(j,3),z=U[0],V=U[1],q=U[2],H=YV(0),W=(0,_.A)(H,3),K=W[0],$=W[1],G=W[2],Q={transform:"translate(".concat(z,"px, ").concat(K,"px)")};(0,c.useEffect)((function(){s.current&&(s.current.style.width="".concat(o,"px"))}),[]),(0,c.useEffect)((function(){function e(e){var t,n,r=e instanceof MouseEvent?e.clientX:null===(t=e.touches[0])||void 0===t?void 0:t.clientX,a=e instanceof MouseEvent?e.clientY:null===(n=e.touches[0])||void 0===n?void 0:n.clientY;if(D.current&&p.current){var o=r-p.current.x,u=a-p.current.y,c=L.current;"top-left"===i||"bottom-left"===i?c=L.current-o:"top-right"!==i&&"bottom-right"!==i||(c=L.current+o);var l=B.current;"top-left"===i||"top-right"===i?l=B.current-u:"bottom-left"!==i&&"bottom-right"!==i||(l=B.current+u),s.current.style.width="".concat(c,"px"),s.current.style.height="".concat(l,"px")}else if(g.current&&p.current){var d=r-p.current.x,f=a-p.current.y;V(C.current+d),$(F.current+f)}}function t(){D.current&&w(!1),g.current&&v(!1)}return window.addEventListener("mousemove",e),window.addEventListener("mouseup",t),window.addEventListener("touchmove",e,{passive:!1}),window.addEventListener("touchend",t),function(){window.removeEventListener("mousemove",e),window.removeEventListener("mouseup",t),window.removeEventListener("touchmove",e),window.removeEventListener("touchend",t)}}),[g,D,p,C,F]);var Y=function(e,t){var n,r,i=e.nativeEvent,a=i instanceof MouseEvent?i.clientX:null===(n=i.touches[0])||void 0===n?void 0:n.clientX,o=i instanceof MouseEvent?i.clientY:null===(r=i.touches[0])||void 0===r?void 0:r.clientY;d({x:a,y:o}),k(q.current),T(G.current),t?(I(s.current.clientHeight),M(s.current.clientWidth),w(!0),v(!1)):(v(!0),w(!1))};return c.createElement("div",{ref:s,className:"bm-smart-container ".concat(r||"").trim(),style:Q},t,"none"!==i&&c.createElement("div",{onMouseDown:function(e){return Y(e,!0)},onTouchStart:function(e){return Y(e,!0)},className:"bm-resizable-handle bm-resizable-handle-"+i}),c.createElement("div",{style:{cursor:m?"grabbing":"grab"},onMouseDown:function(e){return Y(e,!1)},onTouchStart:function(e){return Y(e,!1)},className:"bm-draggable-handle"}))}function $2(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return G2(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?G2(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function G2(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Q2=!Yv()&&"pictureInPictureEnabled"in document;function Y2(){var e=(0,c.useContext)(l3),t=e.thread,n=e.statusMessage,r=e.participants,i=e.action,a=e.errorMessages,s=e.bytesSent,l=e.bytesReceived,d=e.iconsReverted,p=e.endCall,f=e.answerCall,h=e.activeCameraDevice,m=e.selectedCameraDevice,v=e.selectedMicrophoneDevice,g=e.selectedSpeakerDevice,y=e.setSelectedCameraDevice,b=e.setSelectedMicrophoneDevice,w=e.setSelectedSpeakerDevice,D=e.myCameraTrack,A=e.switchingCamera,E=e.myCameraTrackRef,k=e.myMicrophoneTrack,C=(e.myMicrophoneTrackRef,e.myScreenVideoTrack),x=e.myScreenVideoTrackRef,S=e.switchCamera,T=e.enableCamera,F=e.disableCamera,O=e.enableMic,P=e.disableMic,I=e.enableShareScreen,B=e.disableShareScreen,R=e.enableFullScreen,N=e.disableFullScreen,M=e.callDuration,L=e.fullScreenAvailable,j=e.fullScreenEnabled,U=(e.setFullScreenEnabled,q1()),z=U1(),V=z1(),q=V1(),H=(0,c.useState)(!1),W=(0,_.A)(H,2),K=W[0],$=W[1],G=YV(null),Q=(0,_.A)(G,3),Y=Q[0],X=Q[1],Z=(Q[2],YV(null)),J=(0,_.A)(Z,3),ee=J[0],te=J[1],ne=(J[2],(0,c.useState)("screen")),re=(0,_.A)(ne,2),ie=re[0],ae=re[1],oe=(0,c.useState)(null),se=(0,_.A)(oe,2),ue=se[0],ce=se[1];(0,c.useEffect)((function(){var e=null;if(r.size>0){var t,n=$2(r.entries());try{for(n.s();!(t=n.n()).done;){var i=(0,_.A)(t.value,2),a=i[0],o=i[1];if("me"!==a){e=o;break}}}catch(e){n.e(e)}finally{n.f()}}ce(e)}),[r]),(0,c.useEffect)((function(){return Y&&E.current&&(E.current.attachedElements.includes(Y)||E.current.attach(Y)),function(){Y&&E.current&&E.current.attachedElements.includes(Y)&&E.current.detach(Y)}}),[Y]),(0,c.useEffect)((function(){return ee&&x.current&&(x.current.attachedElements.includes(ee)||x.current.attach(ee)),function(){ee&&x.current&&x.current.attachedElements.includes(ee)&&x.current.detach(ee)}}),[ee]);var le=(0,c.useState)(!1),de=(0,_.A)(le,2),pe=de[0],fe=de[1],he=(0,c.useRef)(null),me=YV(null),ve=(0,_.A)(me,3),ge=ve[0],ye=ve[1],be=ve[2],we=(0,c.useState)(null),De=(0,_.A)(we,2),Ae=De[0],Ee=De[1],ke=YV(null),Ce=(0,_.A)(ke,3),_e=Ce[0],xe=Ce[1],Se=(Ce[2],(0,c.useState)(null)),Te=(0,_.A)(Se,2),Fe=Te[0],Oe=Te[1];(0,c.useEffect)((function(){Ae&&Ae.setSinkId&&Ae.setSinkId(g)}),[Ae,g]),(0,c.useEffect)((function(){Fe&&Fe.setSinkId&&Fe.setSinkId(g)}),[Fe,g]);var Pe=(0,c.useState)(!1),Ie=(0,_.A)(Pe,2),Be=Ie[0],Re=Ie[1],Ne=function(){var e=(0,o.A)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=be.current)){e.next=11;break}if(t===document.pictureInPictureElement){e.next=8;break}return e.next=5,t.requestPictureInPicture();case 5:Re(!0),e.next=11;break;case 8:return e.next=10,document.exitPictureInPicture();case 10:Re(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Me=function(){ae((function(e){return"screen"===e?"camera":"screen"}))};(0,c.useEffect)((function(){ue&&ue.video&&!ue.video.attachedElements.includes(ge)&&ue.video.attach(ge)}),[ge,ue]),(0,c.useEffect)((function(){ue&&ue.audio&&!ue.audio.attachedElements.includes(Ae)&&ue.audio.attach(Ae)}),[Ae,ue]),(0,c.useEffect)((function(){ue&&ue.screen&&!ue.screen.attachedElements.includes(_e)&&ue.screen.attach(_e)}),[_e,ue]),(0,c.useEffect)((function(){ue&&ue.screenAudio&&!ue.screenAudio.attachedElements.includes(Fe)&&ue.screenAudio.attach(Fe)}),[Fe,ue]),(0,c.useEffect)((function(){Ae&&Ae.setSinkId&&Ae.setSinkId(g)}),[Ae,g]),(0,c.useEffect)((function(){Fe&&Fe.setSinkId&&Fe.setSinkId(g)}),[Fe,g]);var Le=(0,c.useState)(!1),je=(0,_.A)(Le,2),Ue=je[0],ze=je[1],Ve=(0,c.useRef)(null);return(0,c.useEffect)((function(){"call_in_progress"===i&&(ze(!0),clearTimeout(Ve.current),Ve.current=window.setTimeout((function(){ze(!1)}),15e3))}),[i]),c.createElement("div",{onTouchStart:function(){clearTimeout(he.current),fe(!0),he.current=window.setTimeout((function(){fe(!1)}),5e3)},className:(Yv()&&pe?"bpbm-tapped ":"")+"bp-messages-video-container bp-messages-private-call bp-messages-call-container"},("outgoing_call"===i||"incoming_call"===i)&&c.createElement(c.Fragment,null,!!D&&!!C&&c.createElement(K2,{className:"bp-messages-small-video",resizeDirection:"top-left"},c.createElement("video",{ref:X,datatype:"camera",autoPlay:!0,playsInline:!0,muted:!0})),c.createElement("div",{className:"bp-messages-main-placeholder"},!!D&&!C&&c.createElement("div",{className:"bp-messages-placeholder-video"},c.createElement("video",{ref:X,datatype:"camera",autoPlay:!0,playsInline:!0,muted:!0})),!!C&&c.createElement("div",{className:"bp-messages-placeholder-video bm-video-contain"},c.createElement("video",{ref:te,datatype:"screen",autoPlay:!0,playsInline:!0,muted:!0})),c.createElement("div",{className:"bp-messages-call-animation "},c.createElement(rM,{user_id:t.participants[0],link:!1,size:100})),c.createElement("div",{className:"bp-messages-placeholder-message"},n&&c.createElement("span",{className:"bp-messages-placeholder-status"},n),!n&&c.createElement(c.Fragment,null,"incoming_call"===i&&c.createElement("span",{className:"bp-messages-placeholder-incoming-text"},Mie("Incoming Call","Private Call Screen","bp-better-messages")),"outgoing_call"===i&&c.createElement("span",{className:"bp-messages-placeholder-outgoing-text"},Mie("Calling...","Private Call Screen","bp-better-messages")))),a.length>0&&c.createElement("div",{className:"bp-messages-placeholder-no-access-message"},c.createElement("div",{className:"bp-messages-placeholder-no-access-message-icon"},c.createElement(QY,null)),c.createElement("div",{className:"bp-messages-placeholder-no-access-message-text"},a.map((function(e,t){return c.createElement("p",{key:"error_"+t,style:{margin:0}},e)})))))),("call_in_progress"===i||"connecting"===i)&&c.createElement(c.Fragment,null,c.createElement("div",{className:"bp-messages-main-video"},(!ue||!ue.video&&!ue.screen)&&c.createElement("div",{className:"bp-messages-main-placeholder"},c.createElement("div",{className:"bp-messages-call-animation bp-messages-animation-pause"},c.createElement(rM,{user_id:t.participants[0],link:!1,size:100})),c.createElement("div",{className:"bp-messages-placeholder-message"},"connecting"===i&&c.createElement("span",{className:"bp-messages-placeholder-status"},n),"call_in_progress"===i&&c.createElement("span",{className:"bp-messages-timer"},Vee(M))),!Ue&&ue&&!ue.audio&&"lost"!==ue.quality&&c.createElement("div",{className:"bp-messages-placeholder-no-source-message"},c.createElement(gN,null),c.createElement("div",{className:"bp-messages-placeholder-participant-no-source-message-text"},Mie("The microphone and camera not enabled at the other side","Call Screen","bp-better-messages")))),!Ue&&ue&&"lost"===ue.quality&&c.createElement(c.Fragment,null,c.createElement("div",{className:"bp-messages-placeholder-participant-lost-message"},c.createElement(dM,null),c.createElement("div",{className:"bp-messages-placeholder-participant-lost-message-text"},Mie("The other side lost connection","Call Screen","bp-better-messages")))),!!ue&&c.createElement(c.Fragment,null,ue.video&&!ue.screen&&c.createElement("video",{ref:ye,datatype:"camera",autoPlay:!0,playsInline:!0,className:"video1",muted:!1}),ue.screen&&c.createElement(c.Fragment,null,"screen"===ie&&c.createElement("video",{ref:xe,datatype:"screen",autoPlay:!0,playsInline:!0,className:"video2",muted:!1}),"camera"===ie&&c.createElement("video",{ref:ye,datatype:"camera",autoPlay:!0,playsInline:!0,className:"video1",muted:!1})),ue.audio&&c.createElement("audio",{ref:Ee,autoPlay:!0,playsInline:!0,className:"audio1",muted:!1,style:{display:"none"}}),ue.screenAudio&&c.createElement("audio",{ref:Oe,autoPlay:!0,playsInline:!0,className:"audio2",muted:!1,style:{display:"none"}}))),!!D&&c.createElement(c.Fragment,null,c.createElement(K2,{className:"bp-messages-small-video",resizeDirection:"top-left"},c.createElement("video",{ref:X,datatype:"camera",autoPlay:!0,playsInline:!0,muted:!0}))),!!ue&&ue.video&&ue.screen&&c.createElement(c.Fragment,null,"screen"===ie&&c.createElement(K2,{className:"bp-messages-small-video-2",resizeDirection:"top-right"},c.createElement("span",{className:"bm-switch-videos",onClick:Me},c.createElement(eX,null)),c.createElement("video",{ref:ye,autoPlay:!0,playsInline:!0,muted:!0})),"camera"===ie&&c.createElement(K2,{className:"bp-messages-small-video-2",resizeDirection:"top-right"},c.createElement("span",{className:"bm-switch-videos",onClick:Me},c.createElement(eX,null)),c.createElement("video",{ref:xe,autoPlay:!0,playsInline:!0,muted:!0}))),C&&c.createElement(K2,{className:"bp-messages-small-video-3",resizeDirection:"bottom-left"},c.createElement("video",{ref:te,datatype:"screen",autoPlay:!0,playsInline:!0,muted:!0}))),c.createElement("div",{className:("call_in_progress"!==i&&"connecting"!==i||Yv()?"":"bm-show-on-hover ")+("call_in_progress"!==i&&"connecting"!==i||!Yv()?"":"show-on-tap ")+"bp-messages-call-controls"},!0===K&&c.createElement(c.Fragment,null,c.createElement("div",{className:"bpbm-call-settings"},c.createElement("div",{className:"bpbm-call-setting"},c.createElement("label",null,Rie("Statistics","bp-better-messages")),c.createElement("div",{className:"bm-call-statistics"},c.createElement("div",{className:"bm-call-traffic"},c.createElement("span",null,Rie("Downloaded","bp-better-messages"),": ",H2(l)),c.createElement("span",null,Rie("Uploaded","bp-better-messages"),": ",H2(s)))))),c.createElement("div",{className:"bpbm-call-settings"},c.createElement(N2,{label:Mie("Camera","Media Inputs","bp-better-messages"),devices:z,selectedDevice:h,setSelectedDevice:y}),c.createElement(N2,{label:Mie("Microphone","Media Inputs","bp-better-messages"),devices:V,selectedDevice:v,setSelectedDevice:b}),c.createElement(N2,{label:Mie("Speaker","Media Inputs","bp-better-messages"),devices:q,selectedDevice:g,setSelectedDevice:w}))),c.createElement("div",{className:"bpbm-call-buttons"},"incoming_call"===i&&c.createElement(aP,{content:Mie("Answer","Private Call Screen","bp-better-messages")},c.createElement("span",{onTouchStart:f,onClick:f,className:"bpbm-answer"},c.createElement(BN,null))),U&&c.createElement(aP,{content:Mie("Configure","Private Call Screen","bp-better-messages")},c.createElement("span",{onClick:function(){$(!K)},className:"bpbm-configure-call"},c.createElement(nS,null))),!m&&(D||A)&&Yv()&&c.createElement(aP,{content:Mie("Switch Camera","Private Call Screen","bp-better-messages")},c.createElement("span",{onClick:S,className:"bpbm-switch-camera-video"},c.createElement(W2,null))),D&&c.createElement(aP,{content:Mie("Disable Camera","Private Call Screen","bp-better-messages")},c.createElement("span",{onClick:F,className:"bpbm-disable-video"},!d&&c.createElement(DN,null),d&&c.createElement(wN,null))),!D&&c.createElement(aP,{content:Mie("Enable Camera","Private Call Screen","bp-better-messages")},c.createElement("span",{onClick:T,className:"bpbm-enable-video"},!d&&c.createElement(wN,null),d&&c.createElement(DN,null))),k&&c.createElement(aP,{content:Mie("Disable Microphone","Private Call Screen","bp-better-messages")},c.createElement("span",{onClick:P,className:"bpbm-disable-mic"},!d&&c.createElement(gN,null),d&&c.createElement(vN,null))),!k&&c.createElement(aP,{content:Mie("Enable Microphone","Private Call Screen","bp-better-messages")},c.createElement("span",{onClick:O,className:"bpbm-enable-mic"},!d&&c.createElement(vN,null),d&&c.createElement(gN,null))),"call_in_progress"===i&&Q2&&!!ue&&(ue.video||ue.screen)&&c.createElement(c.Fragment,null,c.createElement(aP,{content:Mie("Picture In Picture","Private Call Screen","bp-better-messages")},c.createElement("span",{onClick:Ne,className:"bpbm-pic-in-pic"},!Be&&c.createElement(i1,null),Be&&c.createElement(r1,null)))),O1&&c.createElement(c.Fragment,null,!C&&c.createElement(aP,{content:Mie("Share Screen","Private Call Screen","bp-better-messages")},c.createElement("span",{onClick:I,className:"bpbm-switch-share-screen"},c.createElement(uM,null))),C&&c.createElement(aP,{content:Mie("Stop Screen Sharing","Private Call Screen","bp-better-messages")},c.createElement("span",{onClick:B,className:"bpbm-switch-share-screen"},c.createElement(cM,null)))),L&&c.createElement(c.Fragment,null,!j&&c.createElement(aP,{content:Mie("Switch to Full Screen Mode","Private Call Screen","bp-better-messages")},c.createElement("span",{onClick:R,className:"bpbm-fs-enable"},c.createElement(GJ,null))),j&&c.createElement(aP,{content:Mie("Exit Full Screen Mode","Private Call Screen","bp-better-messages")},c.createElement("span",{onClick:N,className:"bpbm-fs-disable"},c.createElement(YJ,null)))),"outgoing_call"===i&&c.createElement(aP,{content:Mie("Cancel","Private Call Screen","bp-better-messages")},c.createElement("span",{onTouchStart:function(){return p("abort")},onClick:function(){return p("abort")},className:"bpbm-cancel"},c.createElement(BN,null))),"incoming_call"===i&&c.createElement(aP,{content:Mie("Reject","Private Call Screen","bp-better-messages")},c.createElement("span",{onTouchStart:function(){return p("reject")},onClick:function(){return p("reject")},className:"bpbm-cancel"},c.createElement(BN,null))),("call_in_progress"===i||"connecting"===i)&&c.createElement(aP,{content:Mie("End Call","Private Call Screen","bp-better-messages")},c.createElement("span",{onTouchStart:function(){return p()},onClick:function(){return p()},className:"bpbm-cancel"},c.createElement(BN,null))))))}__webpack_require__(3296),__webpack_require__(27208);var X2=new Map;function Z2(e){return J2.apply(this,arguments)}function J2(){return J2=(0,o.A)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=(0,o.A)(u().mark((function e(n,r){var i,a,o,s,c,l,d,p;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===window.BetterMessagesAppUpdateScripts){e.next=20;break}if(!X2.has(t)){e.next=5;break}return i=X2.get(t),a=new Worker(i),e.abrupt("return",n(a));case 5:return e.next=7,fetch(t);case 7:if((o=e.sent).ok){e.next=10;break}return e.abrupt("return",r("Failed to fetch file from ".concat(t,": ").concat(o.statusText)));case 10:return e.next=12,o.text();case 12:s=e.sent,c=new Blob([s],{type:"application/javascript"}),l=URL.createObjectURL(c),X2.set(t,l),d=new Worker(l),n(d),e.next=22;break;case 20:p=new Worker(t),n(p);case 22:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)}))),J2.apply(this,arguments)}function e3(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 24 24","fill":"none"},"child":[{"tag":"path","attr":{"opacity":"0.2","fillRule":"evenodd","clipRule":"evenodd","d":"M12 19C15.866 19 19 15.866 19 12C19 8.13401 15.866 5 12 5C8.13401 5 5 8.13401 5 12C5 15.866 8.13401 19 12 19ZM12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z","fill":"currentColor"}},{"tag":"path","attr":{"d":"M2 12C2 6.47715 6.47715 2 12 2V5C8.13401 5 5 8.13401 5 12H2Z","fill":"currentColor"}}]})(e)}const t3=function(e){var t=e.state,n=e.quality,r=(0,c.useState)(""),i=(0,_.A)(r,2),a=i[0],o=i[1],s=(0,c.useState)(!1),u=(0,_.A)(s,2),l=u[0],d=u[1],p=(0,c.useRef)(null),f=(0,c.useRef)(null);(0,c.useEffect)((function(){var e;t!==a&&(d(!0),null===(e=f.current)||void 0===e||e.classList.add("bm-opacity"),p.current=window.setTimeout((function(){d(!1)}),3e3),o(t));return function(){p.current&&window.clearTimeout(p.current)}}),[t]);var h=c.createElement(n0,null);"reconnecting"===t||"connecting"===t||"signalReconnecting"===t?h=c.createElement(e3,{className:"bm-svg-animate"}):"disconnected"===t&&(h=c.createElement(tX,null)),"signalReconnecting"===t&&(t="reconnecting"),"connected"===t&&"unknown"!==n&&(t=t+" ("+n+")");var m="bm-connection-quality bm-state-"+t+" bm-quality-"+n;return l&&(m+=" bm-opacity"),c.createElement("div",{className:"bm-connection-control"},c.createElement(aP,{content:Mie("Connection Status (Quality)","Group Call Screen","bp-better-messages")},c.createElement("span",{ref:f,className:m},h,c.createElement("span",null,t))))};function n3(e){var t=e.unique_key,n=e.participant,r=e.width,i=e.height,a=e.x,s=e.y,l=(0,c.useRef)(null),d=(0,c.useContext)(l3),p=d.connectionState,f=d.adminMode,h=d.callInfo,m=d.selectedSpeakerDevice,v=YV(null),g=(0,_.A)(v,3),y=g[0],b=g[1],w=(g[2],(0,c.useState)(null)),D=(0,_.A)(w,2),A=D[0],E=D[1],k=(0,c.useState)(null),C=(0,_.A)(k,2),x=C[0],S=C[1];(0,c.useEffect)((function(){A&&A.setSinkId&&A.setSinkId(m)}),[A,m]),(0,c.useEffect)((function(){x&&x.setSinkId&&x.setSinkId(m)}),[x,m]),(0,c.useEffect)((function(){y&&n&&n.video&&!n.video.attachedElements.includes(y)&&n.video.attach(y)}),[y,n]),(0,c.useEffect)((function(){A&&n&&n.audio&&!n.audio.attachedElements.includes(A)&&n.audio.attach(A)}),[A,n]),(0,c.useEffect)((function(){x&&n&&n.screen&&!n.screen.attachedElements.includes(x)&&(n.screen.attach(x),"me"!==t&&n.screenAudio&&!n.screenAudio.attachedElements.includes(x)&&n.screenAudio.attach(x))}),[x,n]);var T="bp-messages-group-call-input-video",F="bp-messages-group-call-input-video-inner";n.screen&&(T+=" bp-messages-group-call-input-video-screen"),"me"===t&&(T+=" bp-messages-group-call-input-mine");var O={width:r+"%",height:i+"%",top:s+"%",left:a+"%"},P={backgroundImage:"url('"+n.avatar+"')"};if((n.video||n.screen)&&delete P.backgroundImage,n.isSpeaking){var I=100*n.audioLevel*4;I>80&&(I=80),I<20&&(I=20);var B=Fee(Sie.color,I/100);F+=" bpbm-active-speaker",P.boxShadow="0 1px 5px 1px "+B}var R=Jy();t.startsWith("user_")&&(R=Number(t.substring(5)));var N=function(){var e=(0,o.A)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pie.post("groupCallAdmin",{"token":h.token,"thread_id":h.thread_id,"act":"remove_participant","identity":t,"type":"video"});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),hb(e.t0),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=(0,o.A)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pie.post("groupCallAdmin",{"token":h.token,"thread_id":h.thread_id,"act":"mute_participant","identity":t,"type":"video"});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),hb(e.t0),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=(0,o.A)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pie.post("groupCallAdmin",{"token":h.token,"thread_id":h.thread_id,"act":"unmute_participant","identity":t,"type":"video"});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),hb(e.t0),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),j=(0,c.useRef)(!1),U=function(){var e=(0,o.A)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!j.current){e.next=2;break}return e.abrupt("return");case 2:return j.current=!0,e.prev=3,e.next=6,pie.post("groupCallAdmin",{"token":h.token,"thread_id":h.thread_id,"act":"pin_participant","identity":t,"type":"video"});case 6:return n=e.sent,e.abrupt("return",n.data);case 10:return e.prev=10,e.t0=e.catch(3),hb(e.t0),e.abrupt("return",!1);case 14:return e.prev=14,j.current=!1,e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[3,10,14,17]])})));return function(t){return e.apply(this,arguments)}}(),z=(0,c.useRef)(!1),V=function(){var e=(0,o.A)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!z.current){e.next=2;break}return e.abrupt("return");case 2:return z.current=!0,e.prev=3,e.next=6,pie.post("groupCallAdmin",{"token":h.token,"thread_id":h.thread_id,"act":"unpin_participant","identity":t,"type":"video"});case 6:return n=e.sent,e.abrupt("return",n.data);case 10:return e.prev=10,e.t0=e.catch(3),hb(e.t0),e.abrupt("return",!1);case 14:return e.prev=14,z.current=!1,e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[3,10,14,17]])})));return function(t){return e.apply(this,arguments)}}();return c.createElement("div",{ref:l,"data-key":t,className:T,style:O},c.createElement(aP,{content:n.name},c.createElement("div",{className:F,style:P},f&&"connected"===p&&c.createElement("span",{className:"bpbm-admin-controls"},!n.isPinned&&c.createElement(aP,{content:Mie("Pin Participant","Group Video Chat","bp-better-messages")},c.createElement("span",{onClick:function(){return U(n.identity)},style:{position:"relative"}},c.createElement(a1,{className:"bm-svg"}))),n.isPinned&&c.createElement(aP,{content:Mie("Unpin Participant","Group Video Chat","bp-better-messages")},c.createElement("span",{onClick:function(){return V(n.identity)},style:{position:"relative"}},c.createElement(o1,{className:"bm-svg"}))),"me"!==t&&c.createElement(c.Fragment,null,n.canPublish&&c.createElement(aP,{content:Mie("Block Broadcast","Group Video Chat","bp-better-messages")},c.createElement("span",{onClick:function(){return M(n.identity)},style:{position:"relative"}},c.createElement(X0,{className:"bm-svg"}))),!n.canPublish&&c.createElement(aP,{content:Mie("Allow Broadcast","Group Video Chat","bp-better-messages")},c.createElement("span",{onClick:function(){return L(n.identity)}},c.createElement(Z0,{className:"bm-svg"}))),c.createElement(aP,{content:Mie("Kick User","Group Video Chat","bp-better-messages")},c.createElement("span",{onClick:function(){return N(n.identity)}},c.createElement(Y0,{className:"bm-svg"}))))),"connected"===p&&!n.audio&&!n.screenAudio&&c.createElement("span",{className:"bpbm-caller-status"},c.createElement(aP,{content:Mie("Microphone Disabled","Group Video Chat","bp-better-messages")},c.createElement("span",{className:"bpbm-mic-disabled"},c.createElement(gN,null)))),(!0===f&&"me"!==t||!n.video)&&c.createElement("div",{className:"bpbm-group-call-input-video-inner-info"},c.createElement("span",{className:"bpbm-caller-info",style:{}},c.createElement("span",{className:"bpbm-info-name"},c.createElement("span",{className:"bpbm-name"},c.createElement(vM,{user_id:R}))))),c.createElement("div",{className:"bpbm-media-container"+(n.screen?" bpbm-screen-shared":"")},!!n.screen&&c.createElement("video",{ref:S,datatype:"screen",autoPlay:!0,playsInline:!0}),!!n.video&&!!n.screen&&c.createElement(K2,{className:"bm-small-video",resizeDirection:"none"},c.createElement("video",{ref:b,datatype:"camera",autoPlay:!0,playsInline:!0,muted:"me"===t})),!!n.video&&!n.screen&&c.createElement("video",{ref:b,datatype:"camera",autoPlay:!0,playsInline:!0}),!!n.audio&&"me"!==t&&c.createElement("audio",{ref:E,autoPlay:!0,playsInline:!0,muted:!1,style:{display:"none"}})))))}function r3(){var e=(0,c.useRef)(null),t=(0,c.useState)(void 0),n=(0,_.A)(t,2),r=n[0],i=n[1],a=(0,c.useRef)(0),o=(0,c.useRef)(0),s=(0,c.useState)(new Map),u=(0,_.A)(s,2),l=u[0],d=u[1],p=(0,c.useState)(new Map),f=(0,_.A)(p,2),h=f[0],m=f[1],v=(0,c.useContext)(l3),g=v.wrapper,y=v.participants,b=v.participantsRef,w=YV(0),D=(0,_.A)(w,3),A=D[0],E=D[1],k=D[2],C=YV(0),x=(0,_.A)(C,3),S=x[0],T=x[1],F=x[2],O=YV(new Set),P=(0,_.A)(O,3),I=P[0],B=P[1],R=P[2],N=(0,c.useRef)(null);(0,c.useEffect)((function(){return window.addEventListener("resize",j),N.current=window.setInterval(M,1e3),function(){window.removeEventListener("resize",j),window.clearInterval(N.current)}}),[]);var M=function(){var t=g.current.getBoundingClientRect().width,n=g.current.getBoundingClientRect().height-e.current.parentElement.querySelector(".bp-messages-group-call-controls-v2").getBoundingClientRect().height-4;a.current===n&&o.current===t||j()},L=(0,c.useRef)([]),j=function(){var t=g.current.getBoundingClientRect().width,n=g.current.getBoundingClientRect().height,r=e.current.parentElement.querySelector(".bp-messages-group-call-controls-v2"),s=window.getComputedStyle(r),u=n-r.getBoundingClientRect().height-parseInt(s.getPropertyValue("bottom"))-4,c=t;if(i(u),a.current=u,o.current=c,0!==b.current.size){if(R.current.size>0){var l=function(e,t){var n=100,r=1.77,i=1.77,a=new Map,o=R.current.size,s=o===b.current.size;R.current.forEach((function(e){var t=b.current.get(e);if(t&&t.videoPub){var n=t.videoPub.dimensions.width/t.videoPub.dimensions.height;t.videoPub.videoDimensions&&(n=t.videoPub.videoDimensions.width/t.videoPub.videoDimensions.height),n<r&&(r=n),n>i&&(i=n)}}));var u=e/r,c=t-u;if(Yv()&&(u=t-n,c=n),c<n&&(u=t-n,c=n),s&&(u=t,c=0),E(u),T(c),e<0||t<0)throw new Error("Container must have a non-negative area");var l=Math.ceil(Math.sqrt(o)),d=Math.ceil(o/l);s&&2===o?(d=2,l=1):Yv()&&(d=R.current.size,l=1);var p=o/d,f=0,h=0,m=100/l,v=100/d;return R.current.forEach((function(e){f>=p&&(h++,f=0);var t=f*m,n=h*v;a.set(e,{x:t,y:n,width:m,height:v}),f++})),{primaryRowHeight:u,secondaryRowHeight:c,positions:a}}(c,u);E(l.primaryRowHeight),T(l.secondaryRowHeight),d(l.positions)}else E(0),T(u);var p=function(e,t){var n=new Map;if(e<0||t<0)return n;var r=b.current.size-R.current.size;if(r<1||!Number.isInteger(r))return n;var i=1.77,a=1.77;b.current.forEach((function(e,t){if(!R.current.has(t)&&e.videoPub){var n=e.videoPub.dimensions.width/e.videoPub.dimensions.height;n<i&&(i=n),n>a&&(a=n)}}));for(var o=100*a,s=Math.ceil(Math.sqrt(r)),u=Math.ceil(r/s),c=100/s,l=100/u,d=e*c/100,p=t*l/100;d<o&&s>1;)s--,d=e*(c=100/s)/100;for(;p<100&&u>1;)u--,p=t*(l=100/u)/100;2===r&&(c=100,l=50,u=2,s=1),2===s&&d<e/2&&(s=1,u=r,c=100,l=100/r);var f=t*l/100,h=i*(e*c/100),m=new Map(b.current),v=0,g=new Set,y=new Set,w=new Set;m.forEach((function(e,t){R.current.has(t)||((e.video||e.screen)&&y.add(t),e.isSpeaking&&w.add(t))})),L.current=L.current.filter((function(e){return b.current.has(e)}));var D=[].concat((0,z.A)(L.current.filter((function(e){return y.has(e)}))),(0,z.A)(L.current.filter((function(e){return w.has(e)&&!y.has(e)}))),(0,z.A)(L.current.filter((function(e){return!y.has(e)&&!w.has(e)}))),(0,z.A)(Array.from(m.keys()).filter((function(e){return!L.current.includes(e)}))));if(L.current=D,k.current>0&&f<h){var A=Math.ceil(t/h),E=t/A*i,C=Math.ceil(e/E);c=100/C,l=100/A;var _=r/A,x=0;return D.forEach((function(e){if(!R.current.has(e)){v>_&&(x++,v=0);var t=v*c,r=x*l;t>=100&&g.add(e),n.set(e,{x:t,y:r,width:c,height:l}),v++}})),n}var S=s*u;if(m.has("me"))if(L.current=L.current.filter((function(e){return"me"!==e})),m.size<=S)L.current.push("me");else{var T=L.current[S-1],F=m.get(T);if(!F.video&&!F.screen&&!F.isSpeaking){var O=L.current.slice(0,S-1),P=L.current.slice(S-1);L.current=[].concat((0,z.A)(O),["me"],(0,z.A)(P))}}var I=1,B=0;return L.current.map((function(e){if(!R.current.has(e)){var t=Math.floor(v/s),r=v%s*c,i=t*l;I>1?(r=100+(I-1-1)*c,i=(++B-1)*l,B>=u&&(B=0,I++)):++v===S&&(I++,v=0),n.set(e,{x:r,y:i,width:c,height:l})}})),n}(c,F.current);m(p)}};(0,c.useEffect)((function(){var e=new Set;y.forEach((function(t,n){t.isPinned&&e.add(n)})),B(e),j()}),[y]);var U=(0,z.A)(I).map((function(e){var t=y.get(e);if(!t)return null;var n=l.get(e);if(!n)return null;var r=n.width,i=n.height,a=n.x,o=n.y;return c.createElement(n3,{key:e,unique_key:e,participant:t,width:r,height:i,x:a,y:o})})),V=(0,z.A)(y).map((function(e){var t=e[0],n=h.get(t);if(!n)return null;var r=n.width,i=n.height,a=n.x,o=n.y;return c.createElement(n3,{key:t,unique_key:t,participant:e[1],width:r,height:i,x:a,y:o})}));return c.createElement("div",{ref:e,className:"bp-messages-group-call-videos-grid",style:{height:r}},c.createElement("div",{className:"bp-messages-group-call-videos-grid-primary",style:{height:A}},U),c.createElement("div",{className:"bp-messages-group-call-videos-grid-secondary",style:{height:S}},V))}function i3(){var e=(0,c.useContext)(l3),t=(e.thread,e.statusMessage,e.participants),n=(e.action,e.errorMessages,e.bytesSent,e.bytesReceived,e.iconsReverted),r=e.endCall,i=(e.answerCall,e.activeCameraDevice),a=(e.selectedCameraDevice,e.selectedMicrophoneDevice),o=e.selectedSpeakerDevice,s=e.setSelectedCameraDevice,u=e.setSelectedMicrophoneDevice,l=e.setSelectedSpeakerDevice,d=e.myCameraTrack,p=e.myCameraTrackRef,f=e.myMicrophoneTrack,h=e.myMicrophoneTrackRef,m=e.myScreenVideoTrack,v=e.myScreenVideoTrackRef,g=e.enableCamera,y=e.disableCamera,b=e.enableMic,w=e.disableMic,D=e.enableShareScreen,A=e.disableShareScreen,E=e.enableFullScreen,k=e.disableFullScreen,C=(e.callDuration,e.fullScreenAvailable),x=e.fullScreenEnabled,S=(e.setFullScreenEnabled,e.connectionState),T=e.canPublish,F=(0,c.useState)(!1),O=(0,_.A)(F,2),P=O[0],I=O[1],B=q1(),R=U1(),N=z1(),M=V1(),L=t.has("me")?t.get("me"):null,j=L?L.quality:"connecting";return(0,c.useEffect)((function(){T||(p.current&&y(),h.current&&w(),v.current&&A())}),[T]),c.createElement("div",{className:"bp-messages-group-call-container bp-messages-call-container",style:{display:"block"}},c.createElement(r3,null),!0===P&&c.createElement(c.Fragment,null,c.createElement("div",{className:"bpbm-call-settings"},c.createElement(N2,{label:Mie("Camera","Media Inputs","bp-better-messages"),devices:R,selectedDevice:i,setSelectedDevice:s}),c.createElement(N2,{label:Mie("Microphone","Media Inputs","bp-better-messages"),devices:N,selectedDevice:a,setSelectedDevice:u}),c.createElement(N2,{label:Mie("Speaker","Media Inputs","bp-better-messages"),devices:M,selectedDevice:o,setSelectedDevice:l}))),c.createElement("div",{className:"bp-messages-group-call-controls-v2"},c.createElement(t3,{state:S,quality:j}),c.createElement("div",{className:"bp-messages-group-call-controls-buttons"},"connected"===S&&c.createElement(c.Fragment,null,B&&c.createElement(aP,{content:Mie("Configure","Group Video Chat","bp-better-messages")},c.createElement("span",{onClick:function(){I(!P)},className:"bpbm-configure-call"},c.createElement(nS,null))),T&&c.createElement(c.Fragment,null,d&&c.createElement(aP,{content:Mie("Disable Camera","Group Video Chat","bp-better-messages")},c.createElement("span",{onClick:y,className:"bpbm-disable-video"},!n&&c.createElement(DN,null),n&&c.createElement(wN,null))),!d&&c.createElement(aP,{content:Mie("Enable Camera","Group Video Chat","bp-better-messages")},c.createElement("span",{onClick:g,className:"bpbm-enable-video"},!n&&c.createElement(wN,null),n&&c.createElement(DN,null)))),T&&c.createElement(c.Fragment,null,f&&c.createElement(aP,{content:Mie("Disable Microphone","Group Video Chat","bp-better-messages")},c.createElement("span",{onClick:w,className:"bpbm-disable-mic"},!n&&c.createElement(gN,null),n&&c.createElement(vN,null))),!f&&c.createElement(aP,{content:Mie("Enable Microphone","Group Video Chat","bp-better-messages")},c.createElement("span",{onClick:b,className:"bpbm-enable-mic"},!n&&c.createElement(vN,null),n&&c.createElement(gN,null)))),C&&c.createElement(c.Fragment,null,!x&&c.createElement(aP,{content:Mie("Switch to Full Screen Mode","Group Video Chat","bp-better-messages")},c.createElement("span",{onClick:E,className:"bpbm-fs-enable"},c.createElement(GJ,null))),x&&c.createElement(aP,{content:Mie("Exit Full Screen Mode","Group Video Chat","bp-better-messages")},c.createElement("span",{onClick:k,className:"bpbm-fs-disable"},c.createElement(YJ,null)))),T&&O1&&c.createElement(c.Fragment,null,!m&&c.createElement(aP,{content:Mie("Share Screen","Group Video Chat","bp-better-messages")},c.createElement("span",{onClick:D,className:"bpbm-switch-share-screen"},c.createElement(uM,null))),m&&c.createElement(aP,{content:Mie("Stop Screen Sharing","Group Video Chat","bp-better-messages")},c.createElement("span",{onClick:A,className:"bpbm-switch-share-screen"},c.createElement(cM,null))))),c.createElement(aP,{content:Mie("Exit Chat","Group Video Chat","bp-better-messages")},c.createElement("span",{onClick:function(){return r()},className:"bpbm-exit-room"},c.createElement(MN,{className:"bm-svg"}))))))}function a3(e){var t=e.unique_key,n=e.participant,r=(0,c.useRef)(null),i=(0,c.useContext)(l3),a=(i.connectionState,i.adminMode),s=i.callInfo,l=i.selectedSpeakerDevice,d=(0,c.useState)(null),p=(0,_.A)(d,2),f=p[0],h=p[1],m=(0,c.useState)(null),v=(0,_.A)(m,2),g=v[0],y=v[1];(0,c.useEffect)((function(){f&&f.setSinkId&&f.setSinkId(l)}),[f,l]),(0,c.useEffect)((function(){g&&g.setSinkId&&g.setSinkId(l)}),[g,l]),(0,c.useEffect)((function(){f&&n&&n.audio&&!n.audio.attachedElements.includes(f)&&n.audio.attach(f)}),[f,n]),(0,c.useEffect)((function(){g&&n&&n.screen&&!n.screen.attachedElements.includes(g)&&(n.screen.attach(g),"me"!==t&&n.screenAudio&&!n.screenAudio.attachedElements.includes(g)&&n.screenAudio.attach(g))}),[g,n]);var b="bp-messages-group-call-input-audio",w="bp-messages-group-call-input-audio-inner";n.screen&&(b+=" bp-messages-group-call-input-audio-screen"),"me"===t&&(b+=" bp-messages-group-call-input-mine");var D={};if(n.isSpeaking){var A=100*n.audioLevel*4;A>80&&(A=80),A<20&&(A=20);var E=Fee(Sie.color,A/100);w+=" bpbm-active-speaker",D.boxShadow="0 1px 5px 1px "+E}var k=Jy();t.startsWith("user_")&&(k=Number(t.substring(5)));var C=function(){var e=(0,o.A)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pie.post("groupCallAdmin",{"token":s.token,"thread_id":s.thread_id,"act":"remove_participant","identity":t,"type":"audio"});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),hb(e.t0),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=(0,o.A)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pie.post("groupCallAdmin",{"token":s.token,"thread_id":s.thread_id,"act":"mute_participant","identity":t,"type":"audio"});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),hb(e.t0),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=(0,o.A)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pie.post("groupCallAdmin",{"token":s.token,"thread_id":s.thread_id,"act":"unmute_participant","identity":t,"type":"audio"});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),hb(e.t0),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();(0,c.useRef)(!1),(0,c.useRef)(!1);return c.createElement(Ix.div,cy({ref:r},{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{type:"linear",duration:.3}},{layout:!0,"data-key":t,className:b,style:{}}),c.createElement("div",{className:w,style:D},!!n.screen&&c.createElement("div",{className:"bp-messages-group-call-input-audio-screen"},c.createElement("div",{className:"bp-messages-group-call-input-audio-screen-wrapper"},c.createElement("video",{ref:y,datatype:"screen",autoPlay:!0,playsInline:!0,muted:"me"===t}))),c.createElement("div",{className:"bp-messages-group-call-input-audio-inner-info"},c.createElement("span",{className:"bpbm-caller-info"},c.createElement("span",{className:"bpbm-info-avatar"},c.createElement(rM,{user_id:k,size:45})),c.createElement("span",{className:"bpbm-info-name"},c.createElement("span",{className:"bpbm-name"},c.createElement(vM,{user_id:k}))),c.createElement("span",{className:"bpbm-caller-actions"},a&&"me"!==t&&c.createElement("span",{className:"bpbm-admin-controls"},c.createElement(aP,{content:Mie("Kick User","Group Audio Chat","bp-better-messages")},c.createElement("span",{onClick:function(){return C(t)}},c.createElement(Y0,{className:"bm-svg"}))),n.canPublish&&c.createElement(aP,{content:Mie("Block Broadcast","Group Audio Chat","bp-better-messages")},c.createElement("span",{onClick:function(){return x(t)},style:{position:"relative"}},c.createElement(X0,{className:"bm-svg"}))),!n.canPublish&&c.createElement(aP,{content:Mie("Allow Broadcast","Group Audio Chat","bp-better-messages")},c.createElement("span",{onClick:function(){return S(t)}},c.createElement(Z0,{className:"bm-svg"})))),c.createElement("span",{className:"bpbm-mic-status"},!n.audio&&c.createElement(aP,{content:Mie("Microphone Disabled","Group Audio Chat","bp-better-messages")},c.createElement("span",{className:"bpbm-mic-disabled"},c.createElement(gN,null))),n.audio&&c.createElement(aP,{content:Mie("Microphone Enabled","Group Audio Chat","bp-better-messages")},c.createElement("span",{className:"bpbm-mic-enabled"},c.createElement(vN,null))))))),c.createElement("div",{className:"bpbm-media-container"+(n.screen?" bpbm-screen-shared":""),style:{display:"none"}},!!n.audio&&"me"!==t&&c.createElement("audio",{ref:h,autoPlay:!0,playsInline:!0,muted:!1,style:{display:"none"}}))))}function o3(){var e=(0,c.useRef)(null),t=(0,c.useRef)(0),n=(0,c.useRef)(0),r=YV([]),i=(0,_.A)(r,3),a=i[0],o=i[1],s=(i[2],(0,c.useContext)(l3)),u=s.wrapper,l=s.participants,d=s.participantsRef,p=(0,c.useRef)(null);(0,c.useEffect)((function(){return window.addEventListener("resize",m),p.current=window.setInterval(f,1e3),function(){window.removeEventListener("resize",m),window.clearInterval(p.current)}}),[]);var f=function(){var r=u.current.getBoundingClientRect().width,i=u.current.getBoundingClientRect().height-e.current.parentElement.querySelector(".bp-messages-group-call-controls-v2").getBoundingClientRect().height-4;t.current===i&&n.current===r||m()},h=(0,c.useRef)([]),m=function(){var r=u.current.getBoundingClientRect().width,i=u.current.getBoundingClientRect().height,a=e.current.parentElement.querySelector(".bp-messages-group-call-controls-v2"),s=window.getComputedStyle(a),c=i-a.getBoundingClientRect().height-parseInt(s.getPropertyValue("bottom"))-4,l=r;if(t.current=c,n.current=l,0!==d.current.size){var p=[];d.current.forEach((function(e,t){var n=e.audioLevel;n=e.audio?1:0,e.screen&&(n=999),p.push([t,n])})),p.sort((function(e,t){return t[1]-e[1]}));var f=[],m=[];for(var v in p){var g=p[v][0];p[v][1]>0?f.push(g):m.push(g)}var y=[].concat(f);h.current.forEach((function(e){!f.includes(e)&&m.includes(e)&&y.push(e)})),m.forEach((function(e){y.includes(e)||y.push(e)})),h.current=y,o(y)}};(0,c.useEffect)((function(){m()}),[l]);var v=(0,z.A)(a).map((function(e){var t=l.get(e);return t?c.createElement(a3,{key:e,unique_key:e,participant:t}):null}));return c.createElement(Ix.div,{layout:!0,layoutRoot:Yv(),ref:e,className:"bp-messages-group-call-audios-grid"},c.createElement(Rb,null,v))}function s3(){var e=(0,c.useContext)(l3),t=(e.thread,e.statusMessage,e.participants),n=(e.action,e.errorMessages,e.bytesSent,e.bytesReceived,e.iconsReverted),r=e.endCall,i=(e.answerCall,e.activeCameraDevice,e.selectedCameraDevice,e.selectedMicrophoneDevice),a=e.selectedSpeakerDevice,o=(e.setSelectedCameraDevice,e.setSelectedMicrophoneDevice),s=e.setSelectedSpeakerDevice,u=(e.myCameraTrack,e.myCameraTrackRef),l=e.myMicrophoneTrack,d=e.myMicrophoneTrackRef,p=e.myScreenVideoTrack,f=e.myScreenVideoTrackRef,h=(e.enableCamera,e.disableCamera),m=e.enableMic,v=e.disableMic,g=e.enableShareScreen,y=e.disableShareScreen,b=e.enableFullScreen,w=e.disableFullScreen,D=(e.callDuration,e.fullScreenAvailable),A=e.fullScreenEnabled,E=(e.setFullScreenEnabled,e.connectionState),k=e.canPublish,C=(0,c.useState)(!1),x=(0,_.A)(C,2),S=x[0],T=x[1],F=q1(),O=(U1(),z1()),P=V1(),I=t.has("me")?t.get("me"):null,B=I?I.quality:"connecting";return(0,c.useEffect)((function(){k||(u.current&&h(),d.current&&v(),f.current&&y())}),[k]),c.createElement("div",{className:"bp-messages-group-call-container bp-messages-call-container",style:{display:"block"}},c.createElement(o3,null),!0===S&&c.createElement(c.Fragment,null,c.createElement("div",{className:"bpbm-call-settings"},c.createElement(N2,{label:Mie("Microphone","Media Inputs","bp-better-messages"),devices:O,selectedDevice:i,setSelectedDevice:o}),c.createElement(N2,{label:Mie("Speaker","Media Inputs","bp-better-messages"),devices:P,selectedDevice:a,setSelectedDevice:s}))),c.createElement("div",{className:"bp-messages-group-call-controls-v2"},c.createElement(t3,{state:E,quality:B}),c.createElement("div",{className:"bp-messages-group-call-controls-buttons"},"connected"===E&&c.createElement(c.Fragment,null,F&&c.createElement(aP,{content:Mie("Configure","Group Video Chat","bp-better-messages")},c.createElement("span",{onClick:function(){T(!S)},className:"bpbm-configure-call"},c.createElement(nS,null))),k&&c.createElement(c.Fragment,null,l&&c.createElement(aP,{content:Mie("Disable Microphone","Group Video Chat","bp-better-messages")},c.createElement("span",{onClick:v,className:"bpbm-disable-mic"},!n&&c.createElement(gN,null),n&&c.createElement(vN,null))),!l&&c.createElement(aP,{content:Mie("Enable Microphone","Group Video Chat","bp-better-messages")},c.createElement("span",{onClick:m,className:"bpbm-enable-mic"},!n&&c.createElement(vN,null),n&&c.createElement(gN,null)))),D&&c.createElement(c.Fragment,null,!A&&c.createElement(aP,{content:Mie("Switch to Full Screen Mode","Group Video Chat","bp-better-messages")},c.createElement("span",{onClick:b,className:"bpbm-fs-enable"},c.createElement(GJ,null))),A&&c.createElement(aP,{content:Mie("Exit Full Screen Mode","Group Video Chat","bp-better-messages")},c.createElement("span",{onClick:w,className:"bpbm-fs-disable"},c.createElement(YJ,null)))),k&&O1&&c.createElement(c.Fragment,null,!p&&c.createElement(aP,{content:Mie("Share Screen","Group Video Chat","bp-better-messages")},c.createElement("span",{onClick:g,className:"bpbm-switch-share-screen"},c.createElement(uM,null))),p&&c.createElement(aP,{content:Mie("Stop Screen Sharing","Group Video Chat","bp-better-messages")},c.createElement("span",{onClick:y,className:"bpbm-switch-share-screen"},c.createElement(cM,null))))),c.createElement(aP,{content:Mie("Exit Chat","Group Video Chat","bp-better-messages")},c.createElement("span",{onClick:function(){return r()},className:"bpbm-exit-room"},c.createElement(MN,{className:"bm-svg"}))))))}var u3={thread_id:void 0,message_id:void 0,token:void 0,user_ids:void 0,type:void 0,caller_id:void 0,encryption_key:void 0},c3=__webpack_require__(99169).A,l3=(0,c.createContext)({wrapper:null,thread:null,callInfo:u3,adminMode:!1,canPublish:!1,statusMessage:"",participants:new Map,participantsRef:null,action:null,errorMessages:[],connectionState:"disconnected",callDuration:0,bytesReceived:0,bytesSent:0,endCall:null,answerCall:null,activeCameraDevice:"",setActiveCameraDevice:null,selectedCameraDevice:"",setSelectedCameraDevice:null,selectedMicrophoneDevice:"",setSelectedMicrophoneDevice:null,selectedSpeakerDevice:"",setSelectedSpeakerDevice:null,myCameraTrack:null,myCameraTrackRef:null,myMicrophoneTrack:null,myMicrophoneTrackRef:null,myScreenVideoTrack:null,myScreenVideoTrackRef:null,enableCamera:null,switchCamera:null,switchingCamera:!1,disableCamera:null,fullScreenEnabled:null,setFullScreenEnabled:null,enableMic:null,disableMic:null,enableFullScreen:null,disableFullScreen:null,enableShareScreen:null,disableShareScreen:null,iconsReverted:null,fullScreenAvailable:null}),d3=parseInt(window.Better_Messages.callRequestTimeLimit),p3=(0,c.forwardRef)((function(e,t){var n=e.thread,r=(e.onCallEnd,e.autoStart,e.incoming,e.chatShown,e.chatToggle),i=void 0===r?null:r,a=(0,c.useRef)(void 0),s="wss://"+Sie.video_server,l=(0,c.useContext)(pN).setCallActive,d=(0,c.useRef)(!1),p=(0,c.useRef)(void 0),f=(0,c.useState)(!1),h=(0,_.A)(f,2),m=h[0],v=h[1],g=(0,c.useState)(!1),y=(0,_.A)(g,2),b=y[0],w=y[1],D=YV("disconnected"),A=(0,_.A)(D,3),E=A[0],k=A[1],x=A[2],S=YV("private"),T=(0,_.A)(S,3),F=T[0],O=T[1],P=T[2],I=(0,c.useRef)(u3),B=YV(0),R=(0,_.A)(B,3),N=R[0],M=R[1],L=R[2],j=(0,c.useState)([]),U=(0,_.A)(j,2),z=U[0],V=U[1],q=YV("user"),H=(0,_.A)(q,3),W=H[0],K=H[1],$=H[2],G=(0,c.useState)(""),Q=(0,_.A)(G,2),Y=Q[0],X=Q[1],Z=(0,c.useState)(""),J=(0,_.A)(Z,2),ee=J[0],te=J[1],ne=(0,c.useState)(""),re=(0,_.A)(ne,2),ie=re[0],ae=re[1],oe=(0,c.useState)(""),se=(0,_.A)(oe,2),ue=se[0],ce=se[1],le=(0,c.useState)(""),de=(0,_.A)(le,2),pe=de[0],fe=de[1],he=YV(new Map),me=(0,_.A)(he,3),ve=me[0],ge=me[1],ye=me[2],be=YV(0),we=(0,_.A)(be,3),De=we[0],Ae=we[1],Ee=we[2],ke=YV(0),Ce=(0,_.A)(ke,3),_e=Ce[0],xe=Ce[1],Se=Ce[2],Te=YV(null),Fe=(0,_.A)(Te,3),Oe=Fe[0],Pe=Fe[1],Ie=Fe[2],Be=YV(),Re=(0,_.A)(Be,3),Ne=Re[0],Me=Re[1],Le=Re[2],je=YV(),Ue=(0,_.A)(je,3),ze=Ue[0],Ve=Ue[1],qe=Ue[2],He=YV(),We=(0,_.A)(He,3),Ke=We[0],$e=We[1],Ge=We[2],Qe=YV(),Ye=(0,_.A)(Qe,3),Xe=Ye[0],Ze=Ye[1],Je=Ye[2],et=(0,c.useState)(!1),tt=(0,_.A)(et,2),nt=tt[0],rt=tt[1],it=(0,c.useRef)(new Map),at=(0,c.useRef)(new Map),ot=function(){qie("better_messages_call_show_notification","better_messages_call_container"),qie("better_messages_call_answer_force","better_messages_call_container"),Vie("better_messages_call_user_rejected","better_messages_call_container"),Vie("better_messages_call_self_rejected","better_messages_call_container"),Vie("better_messages_call_accepted","better_messages_call_container"),Vie("better_messages_call_aborted","better_messages_call_container")};(0,c.useEffect)((function(){return c3.addEventListener("fullscreenchange",fn),function(){c3.removeEventListener("fullscreenchange",fn),ot()}}),[]),(0,c.useEffect)((function(){return zie("better_messages_call_show_notification","better_messages_call_container",(function(e,t){return t.thread_id===n.thread_id?(Kt(t),!1):e})),Uie("better_messages_call_user_rejected","better_messages_call_container",(function(e,t,n){I.current.message_id===e&&I.current.thread_id===t&&(Eee&&kee===I.current.message_id||nn("rejected"))})),Uie("better_messages_call_self_rejected","better_messages_call_container",(function(e,t){I.current.message_id===e&&I.current.thread_id===t&&nn()})),Uie("better_messages_call_accepted","better_messages_call_container",(function(e,t){I.current.message_id===e&&I.current.thread_id===t&&(fe(Mie("Connecting...","Call Screen","bp-better-messages")),Pe("connecting"))})),Uie("better_messages_call_aborted","better_messages_call_container",(function(e,t){I.current.message_id===e&&I.current.thread_id===t&&nn()})),zie("better_messages_call_answer_force","better_messages_call_container",function(){var e=(0,o.A)(u().mark((function e(t,n,r){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I.current.message_id!==n||I.current.thread_id!==r){e.next=4;break}return e.next=3,Kt(null,!0);case 3:return e.abrupt("return",!0);case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()),function(){ot()}}),[n]);var st=(0,c.useRef)(new Map),ut=function(){var e=(0,o.A)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!st.current.has(t)){e.next=2;break}return e.abrupt("return",st.current.get(t));case 2:return n=p.current.localParticipant.publishTrack(t).finally((function(){st.current.delete(t)})),st.current.set(t,n),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ct=function(){var e=(0,o.A)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!st.current.has(t)){e.next=4;break}return e.next=3,st.current.get(t);case 3:st.current.delete(t);case 4:return e.abrupt("return",p.current.localParticipant.unpublishTrack(t));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();(0,c.useEffect)((function(){return Ne&&p.current&&"connected"===x.current&&!p.current.localParticipant.videoTrackPublications.has(Ne.sid)&&ut(Ne),function(){Ne&&p.current&&(p.current.localParticipant.videoTrackPublications.has(Ne.sid)||st.current.has(Ne))&&ct(Ne)}}),[Ne]),(0,c.useEffect)((function(){return ze&&p.current&&"connected"===x.current&&!p.current.localParticipant.audioTrackPublications.has(ze.sid)&&ut(ze),function(){p.current&&ze&&(p.current.localParticipant.audioTrackPublications.has(ze.sid)||st.current.has(ze))&&ct(ze)}}),[ze]),(0,c.useEffect)((function(){return Ke&&p.current&&"connected"===x.current&&!p.current.localParticipant.videoTrackPublications.has(Ke.sid)&&ut(Ke),function(){Ke&&p.current&&(p.current.localParticipant.videoTrackPublications.has(Ke.sid)||st.current.has(Ke))&&ct(Ke)}}),[Ke]),(0,c.useEffect)((function(){return Xe&&p.current&&"connected"===x.current&&!p.current.localParticipant.audioTrackPublications.has(Xe.sid)&&ut(Xe),function(){p.current&&Xe&&(p.current.localParticipant.audioTrackPublications.has(Xe.sid)||st.current.has(Xe))&&ct(Xe)}}),[Xe]);var lt=(0,c.useRef)(!1);(0,c.useEffect)((function(){"connected"===E?(lt.current||(lt.current=!0),Ne&&!p.current.localParticipant.videoTrackPublications.has(Ne.sid)&&ut(Ne),ze&&!p.current.localParticipant.audioTrackPublications.has(ze.sid)&&ut(ze),Ke&&!p.current.localParticipant.videoTrackPublications.has(Ke.sid)&&ut(Ke),Xe&&!p.current.localParticipant.audioTrackPublications.has(Xe.sid)&&ut(Xe)):"disconnected"===E&&lt.current&&(nn(),lt.current=!1)}),[E]),(0,c.useEffect)((function(){ee&&X(ee),Le.current&&Le.current.getDeviceId().then((function(e){e!==ee&&dn().finally((function(){an()}))}))}),[ee]),(0,c.useEffect)((function(){qe.current&&qe.current.getDeviceId().then((function(e){e!==ie&&qe.current.setDeviceId(ie)}))}),[ie]);var dt=function(){var e=(0,o.A)(u().mark((function e(){var t,n,r,i,a,o,s,c,l;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(__webpack_require__.bind(__webpack_require__,32223));case 2:if(t=e.sent,n=t.Room,r=t.VideoPresets,i=t.RoomEvent,a=t.ExternalE2EEKeyProvider,o=t.LogLevel,(0,t.setLogLevel)(o.error),s={adaptiveStream:{pixelDensity:"screen"},dynacast:!0,publishDefaults:{videoCodec:"vp9"},videoCaptureDefaults:{resolution:r.h1080.resolution},disconnectOnPageLeave:!1},!I.current.encryption_key){e.next=19;break}return e.next=14,Z2(window.Better_Messages.assets+"js/workers/e2ee.worker.js?v="+Oie);case 14:c=e.sent,(l=new a).setKey(I.current.encryption_key),s.e2ee={keyProvider:l,worker:c},void 0!==window.RTCRtpScriptTransform&&(s.publishDefaults.videoCodec="vp8");case 19:p.current=new n(s),s.e2ee&&p.current.setE2EEEnabled(!0),p.current.on(i.AudioPlaybackStatusChanged,ht),p.current.on(i.Connected,mt),p.current.on(i.ConnectionStateChanged,St),p.current.on(i.ParticipantConnected,Tt),p.current.on(i.ParticipantDisconnected,Bt),p.current.on(i.ParticipantMetadataChanged,Ft),p.current.on(i.ParticipantPermissionsChanged,Ft),p.current.on(i.ParticipantNameChanged,Ft),p.current.on(i.ParticipantAttributesChanged,Ft),p.current.on(i.TrackSubscribed,kt),p.current.on(i.TrackUnsubscribed,Ct),p.current.on(i.TrackPublished,wt),p.current.on(i.TrackUnpublished,Et),p.current.on(i.LocalTrackPublished,Dt),p.current.on(i.LocalTrackUnpublished,At),p.current.on(i.ConnectionQualityChanged,xt),p.current.on(i.ParticipantEncryptionStatusChanged,_t),p.current.on(i.ActiveSpeakersChanged,yt);case 39:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pt=function(){var e=(0,o.A)(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(__webpack_require__.bind(__webpack_require__,32223));case 2:if(t=e.sent,n=t.RoomEvent,!p.current){e.next=25;break}return p.current.off(n.AudioPlaybackStatusChanged,ht),p.current.off(n.Connected,mt),p.current.off(n.ConnectionQualityChanged,xt),p.current.off(n.ParticipantConnected,Tt),p.current.off(n.ParticipantDisconnected,Bt),p.current.off(n.ParticipantMetadataChanged,Ft),p.current.off(n.ParticipantPermissionsChanged,Ft),p.current.off(n.ParticipantNameChanged,Ft),p.current.off(n.ParticipantAttributesChanged,Ft),p.current.off(n.TrackSubscribed,kt),p.current.off(n.TrackUnsubscribed,Ct),p.current.off(n.TrackPublished,wt),p.current.off(n.TrackUnpublished,Et),p.current.off(n.LocalTrackPublished,Dt),p.current.off(n.LocalTrackUnpublished,At),p.current.off(n.ConnectionStateChanged,St),p.current.off(n.ParticipantEncryptionStatusChanged,_t),p.current.off(n.ActiveSpeakersChanged,yt),e.next=25,p.current.disconnect();case 25:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ft=(0,c.useRef)(void 0),ht=function(e){p.current.canPlaybackAudio?ft.current&&(Hy.dismiss(ft.current),ft.current=void 0):ft.current=Hy.info(c.createElement(c.Fragment,null,Mie("Sound playback is blocked by your browser. Please click this message to enable it.","Call Screen","bp-better-messages")),{className:"bm-toasts",position:mb(),draggableDirection:vb(),draggablePercent:gb(),autoClose:!1,theme:"colored",hideProgressBar:!0,onClick:function(){p.current.startAudio().then((function(){Hy.dismiss()}))},closeOnClick:!1,pauseOnHover:!0,draggable:!1,progress:void 0})},mt=function(){var e=(0,o.A)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.current.remoteParticipants.forEach((function(e){jt(e)})),jt(p.current.localParticipant);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),vt=(0,c.useRef)(new Set),gt=(0,c.useRef)(new Map),yt=function(e){var t=new Set;e.forEach((function(e){var n=e.isLocal?"me":e.identity;gt.current.has(n)&&(window.clearTimeout(gt.current.get(n)),gt.current.delete(n)),vt.current.add(n),t.add(n),jt(e)})),vt.current.forEach((function(e){t.has(e)||(gt.current.set(e,window.setTimeout((function(){bt(e)}),3e3)),vt.current.delete(e))}))},bt=function(e){if(gt.current.has(e)){var t=new Map(ye.current);if(t.has(e)){var n=t.get(e);n.isSpeaking=!1,n.audioLevel=0,t.set(e,n)}ge(t)}},wt=function(e,t){jt(t)},Dt=function(e,t){jt(t)},At=function(e,t){jt(t)},Et=function(e,t){jt(t,e)},kt=function(e,t,n){e.addListener("videoDimensionsChanged",(function(){jt(n)})),jt(n)},Ct=function(e,t,n){e.removeAllListeners("videoDimensionsChanged"),jt(n,t)},_t=function(e){jt(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)},xt=function(e,t){jt(t)},St=function(e){k(e)},Tt=function(e){"outgoing_call"!==Ie.current&&"connecting"!==Ie.current||(Pe("call_in_progress"),d.current&&Pt()),jt(e)},Ft=function(e,t){jt(t)},Ot=(0,c.useRef)(null),Pt=function(){var e=(0,o.A)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={"thread_id":I.current.thread_id,"message_id":I.current.message_id,"type":I.current.type},e.next=4,pie.post("callStarted",t);case 4:e.next=12;break;case 6:return e.prev=6,e.t0=e.catch(0),hb(e.t0),e.next=11,nn();case 11:return e.abrupt("return");case 12:Ot.current=window.setTimeout(It,5e3);case 13:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),It=function(){var e=(0,o.A)(u().mark((function e(){var t,n,r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(clearTimeout(Ot.current),t=!1,e.prev=2,0!==L.current){e.next=5;break}return e.abrupt("return");case 5:return n={"thread_id":I.current.thread_id,"message_id":I.current.message_id,"duration":L.current/1e3,"stats":{"bytes_sent":Se.current,"bytes_received":Ee.current}},e.next=8,pie.post("callUsage",n);case 8:r=e.sent,i=r.data,"object"===(0,C.A)(i)&&i.action&&"end_call"===i.action&&(t=!0,nn(),i.reason&&db(i.reason)),e.next=15;break;case 13:e.prev=13,e.t0=e.catch(2);case 15:return e.prev=15,t||(Ot.current=window.setTimeout(It,5e3)),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,13,15,18]])})));return function(){return e.apply(this,arguments)}}(),Bt=function(e){"private"===P.current&&(e.isLocal||nn()),zt(e.identity)},Rt=(0,c.useRef)(null),Nt=(0,c.useRef)(null);(0,c.useEffect)((function(){return Oe||Mt(),"outgoing_call"!==Oe&&mK(),"incoming_call"!==Oe&&dK(),"call_in_progress"===Oe&&(Rt.current=window.setTimeout(Lt,2e3),Nt.current=window.setInterval((function(){M((function(e){return e+1e3}))}),1e3)),function(){"call_in_progress"===Oe&&(clearInterval(Rt.current),clearInterval(Nt.current))}}),[Oe]);var Mt=function(){I.current=u3,Gt.current=0,Qt.current&&(clearInterval(Qt.current),Qt.current=null),M(0),Ae(0),xe(0),k("disconnected"),it.current.clear(),at.current.clear(),ge(new Map)},Lt=function(){var e=(0,o.A)(u().mark((function e(){var t,n,r,i,a,s,c,l,d,f,h,m,v,g,y,b;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!qe.current){e.next=6;break}return e.next=4,qe.current.getSenderStats();case 4:(t=e.sent)&&it.current.set(t.streamId,t.bytesSent);case 6:if(!Le.current){e.next=11;break}return e.next=9,Le.current.getSenderStats();case 9:(n=e.sent).length>0&&n.forEach((function(e){it.current.set(e.streamId,e.bytesSent)}));case 11:if(!Ge.current){e.next=16;break}return e.next=14,Ge.current.getSenderStats();case 14:(r=e.sent).length>0&&r.forEach((function(e){it.current.set(e.streamId,e.bytesSent)}));case 16:if(!Je.current){e.next=21;break}return e.next=19,Je.current.getSenderStats();case 19:(i=e.sent)&&it.current.set(i.streamId,i.bytesSent);case 21:if(a=0,it.current.size>0&&it.current.forEach((function(e){a+=e})),xe(a),s=0,!p.current){e.next=51;break}c=[],l=[],p.current.remoteParticipants.size>0&&p.current.remoteParticipants.forEach((function(e){e.audioTrackPublications.size>0&&e.audioTrackPublications.forEach(function(){var e=(0,o.A)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.track,c.push(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.videoTrackPublications.size>0&&e.videoTrackPublications.forEach(function(){var e=(0,o.A)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.track,l.push(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})),d=0,f=c;case 30:if(!(d<f.length)){e.next=40;break}if(!(h=f[d])||"function"!=typeof h.getReceiverStats){e.next=37;break}return e.next=35,h.getReceiverStats();case 35:(m=e.sent)&&at.current.set(h.sid,m.bytesReceived);case 37:d++,e.next=30;break;case 40:v=0,g=l;case 41:if(!(v<g.length)){e.next=51;break}if(!(y=g[v])||"function"!=typeof y.getReceiverStats){e.next=48;break}return e.next=46,y.getReceiverStats();case 46:(b=e.sent)&&at.current.set(y.sid,b.bytesReceived);case 48:v++,e.next=41;break;case 51:at.current.size>0&&at.current.forEach((function(e){s+=e})),Ae(s);case 53:return e.prev=53,Rt.current=window.setTimeout(Lt,2e3),e.finish(53);case 56:case"end":return e.stop()}}),e,null,[[0,,53,56]])})));return function(){return e.apply(this,arguments)}}(),jt=function(e){if(!tn.current){var t=JSON.parse(e.metadata),n=!!t.canAdmin&&t.canAdmin,r=!!t.isPinned&&t.isPinned,i=!!e.permissions&&e.permissions.canPublish,a=e.isSpeaking,o=e.audioLevel,s={identity:e.identity,name:t.name,avatar:t.avatar,link:t.link,audioLevel:o,isSpeaking:a,quality:e.connectionQuality,isPinned:r,canAdmin:n,canPublish:i,video:null,videoPub:null,audio:null,audioPub:null,screen:null,screenPub:null,screenAudio:null,screenAudioPub:null};e.videoTrackPublications.size>0&&e.videoTrackPublications.forEach((function(e){"screen_share"===e.source?(s.screen=e.track,s.screenPub=e):(s.video=e.track,s.videoPub=e)})),e.audioTrackPublications.size>0?e.audioTrackPublications.forEach((function(e){"screen_share_audio"===e.source?(s.screenAudio=e.track,s.screenAudioPub=e):(s.audio=e.track,s.audioPub=e)})):(s.isSpeaking=!1,s.audioLevel=0),e.isLocal?(v(n),w(i),Ut("me",s)):Ut(e.identity,s)}},Ut=function(e,t){var n=new Map(ye.current);if(n.has(e)){for(var r=n.get(e),i=0,a=Object.entries(t);i<a.length;i++){var o=(0,_.A)(a[i],2),s=o[0],u=o[1];r[s]=u}n.set(e,r)}else n.set(e,t);ge(n)},zt=function(e){var t=new Map(ye.current);t.has(e)&&t.delete(e),ge(t)},Vt=(0,c.useRef)(!1),qt=function(){var e=(0,o.A)(u().mark((function e(t){var r,i,a,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A9){e.next=4;break}return e.next=3,Dee(50);case 3:return e.abrupt("return",qt(t));case 4:if(!Eee&&!See()){e.next=6;break}return e.abrupt("return",!1);case 6:return r=new Map,i=RK(),a={identity:"user_"+i.user_id,name:DM(i.name),avatar:DM(i.avatar),link:DM(i.url),audioLevel:0,isSpeaking:!1,isPinned:!1,quality:"excellent",video:null,videoPub:null,audio:null,audioPub:null,screen:null,screenPub:null,screenAudio:null,screenAudioPub:null,canPublish:!0,canAdmin:!1},r.set("me",a),ge(r),wn(),l(!0),k("connecting"),O("audio"===t?"group-audio":"group-video"),e.prev=15,e.next=18,pie.post("groupCallStart",{thread_id:n.thread_id,type:t});case 18:return o=e.sent,I.current.token=o.data,I.current.thread_id=n.thread_id,I.current.type=t,I.current.encryption_key=void 0,_ee(I.current.thread_id),e.next=26,dt();case 26:return e.next=28,Xt();case 28:if(e.sent){e.next=32;break}return nn(),e.abrupt("return",!1);case 32:e.next=36;break;case 34:e.prev=34,e.t0=e.catch(15);case 36:case"end":return e.stop()}}),e,null,[[15,34]])})));return function(t){return e.apply(this,arguments)}}(),Ht=function(){var e=(0,o.A)(u().mark((function e(t){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Vt.current=!1,!Sie.callRestrict){e.next=5;break}return db(Sie.callRestrict),nn(),e.abrupt("return",!1);case 5:if(A9){e.next=9;break}return e.next=8,Dee(50);case 8:return e.abrupt("return",Ht(t));case 9:if(b9.connected){e.next=15;break}return lb(Rie("Realtime connection not established. Please wait until you will be connected to realtime server and try again","bp-better-messages")),nn(),e.abrupt("return",!1);case 15:if(!Eee&&!See()){e.next=19;break}return e.abrupt("return",!1);case 19:if(void 0!==navigator.mediaDevices){e.next=23;break}return db(Rie("This browser not support video calls feature. Please use another browser.","bp-better-messages")),nn(),e.abrupt("return",!1);case 23:return wn(),d.current=!0,O("private"),l(!0),Pe("outgoing_call"),fe(Mie("Starting the call...","Call Screen","bp-better-messages")),e.prev=29,e.next=32,Wt(t);case 32:if(e.sent){e.next=36;break}return nn(),e.abrupt("return",!1);case 36:return e.next=38,Zt(n.thread_id,t);case 38:if(r=e.sent,Vt.current&&en(),r&&!Vt.current){e.next=43;break}return nn(),e.abrupt("return",!1);case 43:return _ee(I.current.thread_id,I.current.message_id),e.next=46,dt();case 46:return e.next=48,Xt();case 48:if(e.sent&&!Vt.current){e.next=52;break}return nn(),e.abrupt("return",!1);case 52:return fe(""),e.next=55,Yt();case 55:hK(),e.next=62;break;case 58:e.prev=58,e.t0=e.catch(29),Array.isArray(e.t0)||(e.t0=[e.t0]),e.t0.forEach((function(e){console.error(e),db(e)}));case 62:return e.prev=62,Vt.current&&mK(),e.finish(62);case 65:case"end":return e.stop()}}),e,null,[[29,58,62,65]])})));return function(t){return e.apply(this,arguments)}}(),Wt=function(){var e=(0,o.A)(u().mark((function e(t){var n,r,i,a,o,s=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=s.length>1&&void 0!==s[1]?s[1]:"outgoing",e.prev=1,"video"!==t){e.next=26;break}return e.next=5,Q1(ee,ie,$.current);case 5:if(r=e.sent,i=r.get("video"),a=r.get("audio"),!Vt.current){e.next=12;break}return i.stop(),a.stop(),e.abrupt("return",!1);case 12:return Me(i),Ve(a),e.t0=X,e.next=17,i.getDeviceId();case 17:return e.t1=e.sent,(0,e.t0)(e.t1),e.t2=ae,e.next=22,a.getDeviceId();case 22:e.t3=e.sent,(0,e.t2)(e.t3),e.next=34;break;case 26:if("audio"!==t){e.next=34;break}return e.next=29,t2(ie);case 29:if(o=e.sent,Ve(o),!Vt.current){e.next=34;break}return o.stop(),e.abrupt("return",!1);case 34:return e.abrupt("return",!0);case 37:return e.prev=37,e.t4=e.catch(1),Array.isArray(e.t4)||(e.t4=[e.t4]),"incoming"===n?V(e.t4):e.t4.forEach((function(e){console.error(e),db(e)})),e.abrupt("return",!1);case 42:return e.prev=42,H1(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[1,37,42,45]])})));return function(t){return e.apply(this,arguments)}}(),Kt=function(){var e=(0,o.A)(u().mark((function e(){var t,n,r=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.length>0&&void 0!==r[0]?r[0]:null,n=r.length>1&&void 0!==r[1]&&r[1],!Ie.current){e.next=4;break}return e.abrupt("return");case 4:if(d.current=!1,!t){e.next=14;break}return I.current.caller_id=t.user_id,I.current.message_id=t.message_id,I.current.thread_id=t.thread_id,I.current.type=t.type,e.next=12,Hie("better_messages_call_show_incoming_screen",!0,t);case 12:if(e.sent){e.next=14;break}return e.abrupt("return",!1);case 14:if(l(!0),!n){e.next=21;break}return Pe("connecting"),e.next=19,Dee(1e3);case 19:e.next=22;break;case 21:Pe("incoming_call");case 22:return e.next=24,Wt(I.current.type,"incoming");case 24:if(!n){e.next=27;break}return e.next=27,Jt();case 27:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$t=(0,c.useRef)(null),Gt=(0,c.useRef)(0),Qt=(0,c.useRef)(null),Yt=function(){var e=(0,o.A)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(clearTimeout($t.current),"outgoing_call"===Ie.current){e.next=3;break}return e.abrupt("return");case 3:if(Qt.current){e.next=7;break}Qt.current=window.setInterval((function(){Gt.current+=1}),1e3),e.next=10;break;case 7:if(!(Gt.current>=d3)){e.next=10;break}return nn("abort"),e.abrupt("return");case 10:b9.emit("callEvent",{event:"outgoing_call",user_ids:I.current.user_ids,thread_id:n.thread_id,message_id:I.current.message_id,type:I.current.type}),$t.current=window.setTimeout(Yt,2500);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Xt=function(){var e=(0,o.A)(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(__webpack_require__.bind(__webpack_require__,32223));case 2:return t=e.sent,n=t.ConnectionError,e.prev=4,e.next=7,p.current.connect(s,I.current.token,{websocketTimeout:6e4,peerConnectionTimeout:6e4});case 7:return e.abrupt("return",!0);case 10:if(e.prev=10,e.t0=e.catch(4),console.log(e.t0),!(e.t0 instanceof n)){e.next=15;break}return e.abrupt("return",!1);case 15:db(e.t0);case 16:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(){return e.apply(this,arguments)}}(),Zt=function(){var e=(0,o.A)(u().mark((function e(t,n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r2(t,n);case 3:if(!(r=e.sent)){e.next=14;break}return I.current.thread_id=r.thread_id,I.current.message_id=r.message_id,I.current.token=r.token,I.current.user_ids=r.user_ids,I.current.type=n,I.current.encryption_key=r.encryption_key,e.abrupt("return",!0);case 14:return e.abrupt("return",!1);case 15:e.next=21;break;case 17:return e.prev=17,e.t0=e.catch(0),db(e.t0),e.abrupt("return",!1);case 21:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(t,n){return e.apply(this,arguments)}}(),Jt=function(){var e=(0,o.A)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Pe("connecting"),fe(Mie("Connecting...","Call Screen","bp-better-messages")),b9.emit("callEvent",{event:"call_accepted",to:I.current.caller_id,thread_id:I.current.thread_id,message_id:I.current.message_id}),n=I.current.message_id,x2.add(n),F2.has(n)&&clearTimeout(F2.get(n)),_ee(I.current.thread_id,I.current.message_id),e.next=8,B2(I.current.thread_id,I.current.message_id,I.current.type);case 8:if(t=e.sent){e.next=11;break}return e.abrupt("return",!1);case 11:return I.current.token=t.token,I.current.encryption_key=t.encryption_key,e.next=15,dt();case 15:return e.next=17,Xt();case 17:return Pe("call_in_progress"),e.abrupt("return",!0);case 21:return e.prev=21,e.t0=e.catch(0),e.abrupt("return",!1);case 24:return e.prev=24,fe(""),e.finish(24);case 27:case"end":return e.stop()}var n}),e,null,[[0,21,24,27]])})));return function(){return e.apply(this,arguments)}}(),en=function(){pie.post("callMissed",{"thread_id":I.current.thread_id,"type":I.current.type,"message_id":I.current.message_id,"duration":Gt.current}),Gt.current=0},tn=(0,c.useRef)(!1),nn=function(){var e=(0,o.A)(u().mark((function e(){var t,n=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.length>0&&void 0!==n[0]?n[0]:null,!tn.current){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,tn.current=!0,Wie("better_messages_call_end",I.current.message_id,I.current.thread_id,t),clearTimeout(Ot.current),d.current&&I.current.message_id&&("rejected"===t||"abort"===t)&&en(),"abort"===t&&(Vt.current=!0,r=I.current.user_ids,i=I.current.thread_id,a=I.current.message_id,b9.emit("callEvent",{event:"call_cancelled",user_ids:r,thread_id:i,message_id:a})),"reject"===t&&I.current.caller_id&&S2(I.current.caller_id,I.current.thread_id,I.current.message_id),pn(),mK(),clearInterval(Qt.current),Qt.current=null,clearTimeout($t.current),Le.current&&(Le.current.stop(),Me(null)),qe.current&&(qe.current.stop(),Ve(null)),Ge.current&&(Ge.current.stop(),$e(null)),Je.current&&(Je.current.stop(),Ze(null)),Pe(null),l(!1),e.next=20,pt();case 20:return e.prev=20,xee(),tn.current=!1,d.current=!1,e.finish(20);case 25:case"end":return e.stop()}var r,i,a}),e,null,[[3,,20,25]])})));return function(){return e.apply(this,arguments)}}(),rn=(0,c.useRef)(!1),an=function(){var e=(0,o.A)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Le.current&&!rn.current){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,rn.current=!0,e.next=6,X1(ee,$.current);case 6:t=e.sent,X(t.mediaStreamTrack.getSettings().deviceId),Me(t),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),db(e.t0);case 14:return e.prev=14,rn.current=!1,H1(),e.finish(14);case 18:case"end":return e.stop()}}),e,null,[[2,11,14,18]])})));return function(){return e.apply(this,arguments)}}(),on=(0,c.useState)(!1),sn=(0,_.A)(on,2),un=sn[0],cn=sn[1],ln=function(){var e=(0,o.A)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ne){e.next=2;break}return e.abrupt("return");case 2:return cn(!0),K("user"===W?"environment":"user"),e.prev=4,e.next=7,dn();case 7:return e.next=9,an();case 9:return e.prev=9,cn(!1),e.finish(9);case 12:case"end":return e.stop()}}),e,null,[[4,,9,12]])})));return function(){return e.apply(this,arguments)}}(),dn=function(){var e=(0,o.A)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ne){e.next=2;break}return e.abrupt("return");case 2:Ne.stop(),Me(null);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pn=function(){if(c3.fullscreenEnabled)try{null!==c3.fullscreenElement&&c3.exitFullscreen()}catch(e){db(e)}},fn=function(e){c3.fullscreenEnabled&&(null!==c3.fullscreenElement?rt(!0):rt(!1))},hn=(0,c.useRef)(!1),mn=function(){var e=(0,o.A)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ze&&!hn.current){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,hn.current=!0,e.next=6,t2(ie);case 6:t=e.sent,ae(t.mediaStreamTrack.getSettings().deviceId),Ve(t),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),db(e.t0);case 14:return e.prev=14,hn.current=!1,H1(),e.finish(14);case 18:case"end":return e.stop()}}),e,null,[[2,11,14,18]])})));return function(){return e.apply(this,arguments)}}(),vn=function(){var e=(0,o.A)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ze){e.next=2;break}return e.abrupt("return");case 2:ze.stop(),Ve(null);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),gn=(0,c.useRef)(!1),yn=function(){var e=(0,o.A)(u().mark((function e(){var t,n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ke&&!gn.current){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,gn.current=!0,e.next=6,J1();case 6:t=e.sent,n=t.get("video"),$e(n),t.get("audio")&&(r=t.get("audio"),Ze(r)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),db(e.t0);case 15:return e.prev=15,gn.current=!1,e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})));return function(){return e.apply(this,arguments)}}(),bn=function(){var e=(0,o.A)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ke&&(Ke.stop(),$e(null)),Xe&&(Xe.stop(),Ze(null));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,c.useImperativeHandle)(t,(function(){return{startCall:Ht,startGroupCall:qt,endCall:nn}}),[n]);var wn=function(){try{var e=a.current;if(e){var t=e.closest(".bpbm-chat-content");if(t){var n=t.clientWidth,r=e.clientWidth;if(0===r)setTimeout(wn,300);else r<n-r&&i(!1)}}}catch(e){}},Dn="bp-messages-call-wrap";return"group-video"===F&&(Dn+=" bp-messages-call-wrap-group"),"group-audio"===F&&(Dn+=" bp-messages-group-audio-call-container"),c.createElement(l3.Provider,{value:{wrapper:a,thread:n,callInfo:I.current,adminMode:m,canPublish:b,statusMessage:pe,participants:ve,participantsRef:ye,action:Oe,switchingCamera:un,errorMessages:z,callDuration:N,bytesSent:_e,bytesReceived:De,connectionState:E,endCall:nn,answerCall:Jt,activeCameraDevice:Y,setActiveCameraDevice:X,selectedCameraDevice:ee,setSelectedCameraDevice:te,selectedMicrophoneDevice:ie,setSelectedMicrophoneDevice:ae,selectedSpeakerDevice:ue,setSelectedSpeakerDevice:ce,myCameraTrack:Ne,myCameraTrackRef:Le,myMicrophoneTrack:ze,myMicrophoneTrackRef:qe,myScreenVideoTrack:Ke,myScreenVideoTrackRef:Ge,switchCamera:ln,enableCamera:an,disableCamera:dn,enableMic:mn,disableMic:vn,enableShareScreen:yn,disableShareScreen:bn,enableFullScreen:function(){if(c3.fullscreenEnabled)try{c3.requestFullscreen(a.current)}catch(e){db(e)}},disableFullScreen:pn,fullScreenEnabled:nt,setFullScreenEnabled:rt,iconsReverted:Sie.callsRevertIcons,fullScreenAvailable:c3.fullscreenEnabled}},c.createElement("div",{className:Dn,ref:a},i&&c.createElement(aP,{content:Mie("Toggle Chat Screen","Calling Features - Toggle Chat Screen","bp-better-messages")},c.createElement("span",{onClick:function(){i((function(e){return!e}))},className:"bpbm-switch-chat"},c.createElement(mN,null))),"private"===F&&c.createElement(Y2,null),"group-video"===F&&c.createElement(i3,null),"group-audio"===F&&c.createElement(s3,null)))}));const f3=p3;function h3(){return h3=(0,o.A)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:confirm(Rie("Are you sure you want to mute this conversation?","bp-better-messages"))&&(A7(t,{"isMuted":!0}),pie.post("thread/"+t+"/mute").catch((function(e){db(e),A7(t,{"isMuted":!1})})));case 2:case"end":return e.stop()}}),e)}))),h3.apply(this,arguments)}function m3(){return m3=(0,o.A)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:confirm(Rie("Are you sure you want to unmute this conversation?","bp-better-messages"))&&(A7(t,{isMuted:!1}),pie.post("thread/"+t+"/unmute").catch((function(e){db(e),A7(t,{isMuted:!0})})));case 2:case"end":return e.stop()}}),e)}))),m3.apply(this,arguments)}const v3=function(e){var t=e.innerProps,n=e.data,r=e.innerRef,i="bm_user_selector__option";return e.isFocused&&(i+=" bm_user_selector__option_focused"),e.isSelected&&(i+=" bm_user_selector__option_selected"),"number"==typeof n.value?c.createElement("div",cy({ref:r,className:i},t,{"aria-disabled":"false",tabIndex:-1,key:"user_option_"+n.value}),c.createElement(rM,{user_id:n.value,link:!1,size:30}),c.createElement("div",{className:"bm_user_selector__option_name"},c.createElement(vM,{link:!1,user_id:n.value}))):"string"==typeof n.value?c.createElement("div",cy({ref:r,className:i},t,{"aria-disabled":"false",tabIndex:-1,key:"user_option_"+n.value}),c.createElement("div",{className:"bm_user_selector__option_name"},Gg(Lie(Mie("Add <strong>%s</strong>","New threads screen","bp-better-messages"),n.value)))):void 0};var g3=__webpack_require__(42184);var y3=__webpack_require__(24063);for(var b3={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},w3=function(e){return mj("span",cy({css:b3},e))},D3={guidance:function(e){var t=e.isSearchable,n=e.isMulti,r=e.tabSelectsValue,i=e.context,a=e.isInitialFocus;switch(i){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(r?", press Tab to select the option and exit the menu":"",".");case"input":return a?"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,n=e.label,r=void 0===n?"":n,i=e.labels,a=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(r,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(i.length>1?"s":""," ").concat(i.join(","),", selected.");case"select-option":return"option ".concat(r,a?" is disabled. Select another option.":", selected.");default:return""}},onFocus:function(e){var t=e.context,n=e.focused,r=e.options,i=e.label,a=void 0===i?"":i,o=e.selectValue,s=e.isDisabled,u=e.isSelected,c=e.isAppleDevice,l=function(e,t){return e&&e.length?"".concat(e.indexOf(t)+1," of ").concat(e.length):""};if("value"===t&&o)return"value ".concat(a," focused, ").concat(l(o,n),".");if("menu"===t&&c){var d=s?" disabled":"",p="".concat(u?" selected":"").concat(d);return"".concat(a).concat(p,", ").concat(l(r,n),".")}return""},onFilter:function(e){var t=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(t?" for search term "+t:"",".")}},A3=function(e){var t=e.ariaSelection,n=e.focusedOption,r=e.focusedValue,i=e.focusableOptions,a=e.isFocused,o=e.selectValue,s=e.selectProps,u=e.id,l=e.isAppleDevice,d=s.ariaLiveMessages,p=s.getOptionLabel,f=s.inputValue,h=s.isMulti,m=s.isOptionDisabled,v=s.isSearchable,g=s.menuIsOpen,y=s.options,b=s.screenReaderStatus,w=s.tabSelectsValue,D=s.isLoading,A=s["aria-label"],E=s["aria-live"],k=(0,c.useMemo)((function(){return zM(zM({},D3),d||{})}),[d]),C=(0,c.useMemo)((function(){var e="";if(t&&k.onChange){var n=t.option,r=t.options,i=t.removedValue,a=t.removedValues,s=t.value,u=i||n||function(e){return Array.isArray(e)?null:e}(s),c=u?p(u):"",l=r||a||void 0,d=l?l.map(p):[],f=zM({isDisabled:u&&m(u,o),label:c,labels:d},t);e=k.onChange(f)}return e}),[t,k,m,o,p]),_=(0,c.useMemo)((function(){var e="",t=n||r,a=!!(n&&o&&o.includes(n));if(t&&k.onFocus){var s={focused:t,label:p(t),isDisabled:m(t,o),isSelected:a,options:i,context:t===n?"menu":"value",selectValue:o,isAppleDevice:l};e=k.onFocus(s)}return e}),[n,r,p,m,k,i,o,l]),x=(0,c.useMemo)((function(){var e="";if(g&&y.length&&!D&&k.onFilter){var t=b({count:i.length});e=k.onFilter({inputValue:f,resultsMessage:t})}return e}),[i,f,g,k,y,b,D]),S="initial-input-focus"===(null==t?void 0:t.action),T=(0,c.useMemo)((function(){var e="";if(k.guidance){var t=r?"value":g?"menu":"input";e=k.guidance({"aria-label":A,context:t,isDisabled:n&&m(n,o),isMulti:h,isSearchable:v,tabSelectsValue:w,isInitialFocus:S})}return e}),[A,n,r,h,m,v,g,k,o,w,S]),F=mj(c.Fragment,null,mj("span",{id:"aria-selection"},C),mj("span",{id:"aria-focused"},_),mj("span",{id:"aria-results"},x),mj("span",{id:"aria-guidance"},T));return mj(c.Fragment,null,mj(w3,{id:u},S&&F),mj(w3,{"aria-live":E,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},a&&!S&&F))},E3=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],k3=new RegExp("["+E3.map((function(e){return e.letters})).join("")+"]","g"),C3={},_3=0;_3<E3.length;_3++)for(var x3=E3[_3],S3=0;S3<x3.letters.length;S3++)C3[x3.letters[S3]]=x3.base;var T3=function(e){return e.replace(k3,(function(e){return C3[e]}))},F3=(0,y3.A)(T3),O3=function(e){return e.replace(/^\s+|\s+$/g,"")},P3=function(e){return"".concat(e.label," ").concat(e.value)},I3=["innerRef"];function B3(e){var t=e.innerRef,n=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=Object.entries(e).filter((function(e){var t=(0,_.A)(e,1)[0];return!n.includes(t)}));return i.reduce((function(e,t){var n=(0,_.A)(t,2),r=n[0],i=n[1];return e[r]=i,e}),{})}((0,Ae.A)(e,I3),"onExited","in","enter","exit","appear");return mj("input",cy({ref:t},n,{css:vj({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var R3=["boxSizing","height","overflow","paddingRight","position"],N3={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function M3(e){e.cancelable&&e.preventDefault()}function L3(e){e.stopPropagation()}function j3(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;0===e?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function U3(){return"ontouchstart"in window||navigator.maxTouchPoints}var z3=!("undefined"==typeof window||!window.document||!window.document.createElement),V3=0,q3={capture:!1,passive:!1};var H3=function(e){var t=e.target;return t.ownerDocument.activeElement&&t.ownerDocument.activeElement.blur()},W3={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function K3(e){var t=e.children,n=e.lockEnabled,r=e.captureEnabled,i=function(e){var t=e.isEnabled,n=e.onBottomArrive,r=e.onBottomLeave,i=e.onTopArrive,a=e.onTopLeave,o=(0,c.useRef)(!1),s=(0,c.useRef)(!1),u=(0,c.useRef)(0),l=(0,c.useRef)(null),d=(0,c.useCallback)((function(e,t){if(null!==l.current){var u=l.current,c=u.scrollTop,d=u.scrollHeight,p=u.clientHeight,f=l.current,h=t>0,m=d-p-c,v=!1;m>t&&o.current&&(r&&r(e),o.current=!1),h&&s.current&&(a&&a(e),s.current=!1),h&&t>m?(n&&!o.current&&n(e),f.scrollTop=d,v=!0,o.current=!0):!h&&-t>c&&(i&&!s.current&&i(e),f.scrollTop=0,v=!0,s.current=!0),v&&function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()}(e)}}),[n,r,i,a]),p=(0,c.useCallback)((function(e){d(e,e.deltaY)}),[d]),f=(0,c.useCallback)((function(e){u.current=e.changedTouches[0].clientY}),[]),h=(0,c.useCallback)((function(e){var t=u.current-e.changedTouches[0].clientY;d(e,t)}),[d]),m=(0,c.useCallback)((function(e){if(e){var t=!!Bj&&{passive:!1};e.addEventListener("wheel",p,t),e.addEventListener("touchstart",f,t),e.addEventListener("touchmove",h,t)}}),[h,f,p]),v=(0,c.useCallback)((function(e){e&&(e.removeEventListener("wheel",p,!1),e.removeEventListener("touchstart",f,!1),e.removeEventListener("touchmove",h,!1))}),[h,f,p]);return(0,c.useEffect)((function(){if(t){var e=l.current;return m(e),function(){v(e)}}}),[t,m,v]),function(e){l.current=e}}({isEnabled:void 0===r||r,onBottomArrive:e.onBottomArrive,onBottomLeave:e.onBottomLeave,onTopArrive:e.onTopArrive,onTopLeave:e.onTopLeave}),a=function(e){var t=e.isEnabled,n=e.accountForScrollbars,r=void 0===n||n,i=(0,c.useRef)({}),a=(0,c.useRef)(null),o=(0,c.useCallback)((function(e){if(z3){var t=document.body,n=t&&t.style;if(r&&R3.forEach((function(e){var t=n&&n[e];i.current[e]=t})),r&&V3<1){var a=parseInt(i.current.paddingRight,10)||0,o=document.body?document.body.clientWidth:0,s=window.innerWidth-o+a||0;Object.keys(N3).forEach((function(e){var t=N3[e];n&&(n[e]=t)})),n&&(n.paddingRight="".concat(s,"px"))}t&&U3()&&(t.addEventListener("touchmove",M3,q3),e&&(e.addEventListener("touchstart",j3,q3),e.addEventListener("touchmove",L3,q3))),V3+=1}}),[r]),s=(0,c.useCallback)((function(e){if(z3){var t=document.body,n=t&&t.style;V3=Math.max(V3-1,0),r&&V3<1&&R3.forEach((function(e){var t=i.current[e];n&&(n[e]=t)})),t&&U3()&&(t.removeEventListener("touchmove",M3,q3),e&&(e.removeEventListener("touchstart",j3,q3),e.removeEventListener("touchmove",L3,q3)))}}),[r]);return(0,c.useEffect)((function(){if(t){var e=a.current;return o(e),function(){s(e)}}}),[t,o,s]),function(e){a.current=e}}({isEnabled:n});return mj(c.Fragment,null,n&&mj("div",{onClick:H3,css:W3}),t((function(e){i(e),a(e)})))}var $3={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},G3=function(e){var t=e.name,n=e.onFocus;return mj("input",{required:!0,name:t,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:$3,value:"",onChange:function(){}})};function Q3(e){var t;return"undefined"!=typeof window&&null!=window.navigator&&e.test((null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.platform)||window.navigator.platform)}function Y3(){return Q3(/^Mac/i)}function X3(){return Q3(/^iPhone/i)||Q3(/^iPad/i)||Y3()&&navigator.maxTouchPoints>1}var Z3={clearIndicator:nU,container:function(e){var t=e.isDisabled;return{label:"container",direction:e.isRtl?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},control:function(e,t){var n=e.isDisabled,r=e.isFocused,i=e.theme,a=i.colors,o=i.borderRadius;return zM({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:i.spacing.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},t?{}:{backgroundColor:n?a.neutral5:a.neutral0,borderColor:n?a.neutral10:r?a.primary:a.neutral20,borderRadius:o,borderStyle:"solid",borderWidth:1,boxShadow:r?"0 0 0 1px ".concat(a.primary):void 0,"&:hover":{borderColor:r?a.primary:a.neutral30}})},dropdownIndicator:tU,group:function(e,t){var n=e.theme.spacing;return t?{}:{paddingBottom:2*n.baseUnit,paddingTop:2*n.baseUnit}},groupHeading:function(e,t){var n=e.theme,r=n.colors,i=n.spacing;return zM({label:"group",cursor:"default",display:"block"},t?{}:{color:r.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:3*i.baseUnit,paddingRight:3*i.baseUnit,textTransform:"uppercase"})},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(e,t){var n=e.isDisabled,r=e.theme,i=r.spacing.baseUnit,a=r.colors;return zM({label:"indicatorSeparator",alignSelf:"stretch",width:1},t?{}:{backgroundColor:n?a.neutral10:a.neutral20,marginBottom:2*i,marginTop:2*i})},input:function(e,t){var n=e.isDisabled,r=e.value,i=e.theme,a=i.spacing,o=i.colors;return zM(zM({visibility:n?"hidden":"visible",transform:r?"translateZ(0)":""},lU),t?{}:{margin:a.baseUnit/2,paddingBottom:a.baseUnit/2,paddingTop:a.baseUnit/2,color:o.neutral80})},loadingIndicator:function(e,t){var n=e.isFocused,r=e.size,i=e.theme,a=i.colors,o=i.spacing.baseUnit;return zM({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:r,lineHeight:1,marginRight:r,textAlign:"center",verticalAlign:"middle"},t?{}:{color:n?a.neutral60:a.neutral20,padding:2*o})},loadingMessage:$j,menu:function(e,t){var n,r=e.placement,i=e.theme,a=i.borderRadius,o=i.spacing,s=i.colors;return zM((n={label:"menu"},(0,h.A)(n,function(e){return e?{bottom:"top",top:"bottom"}[e]:"bottom"}(r),"100%"),(0,h.A)(n,"position","absolute"),(0,h.A)(n,"width","100%"),(0,h.A)(n,"zIndex",1),n),t?{}:{backgroundColor:s.neutral0,borderRadius:a,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:o.menuGutter,marginTop:o.menuGutter})},menuList:function(e,t){var n=e.maxHeight,r=e.theme.spacing.baseUnit;return zM({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},t?{}:{paddingBottom:r,paddingTop:r})},menuPortal:function(e){var t=e.rect,n=e.offset,r=e.position;return{left:t.left,position:r,top:n,width:t.width,zIndex:1}},multiValue:function(e,t){var n=e.theme,r=n.spacing,i=n.borderRadius,a=n.colors;return zM({label:"multiValue",display:"flex",minWidth:0},t?{}:{backgroundColor:a.neutral10,borderRadius:i/2,margin:r.baseUnit/2})},multiValueLabel:function(e,t){var n=e.theme,r=n.borderRadius,i=n.colors,a=e.cropWithEllipsis;return zM({overflow:"hidden",textOverflow:a||void 0===a?"ellipsis":void 0,whiteSpace:"nowrap"},t?{}:{borderRadius:r/2,color:i.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},multiValueRemove:function(e,t){var n=e.theme,r=n.spacing,i=n.borderRadius,a=n.colors,o=e.isFocused;return zM({alignItems:"center",display:"flex"},t?{}:{borderRadius:i/2,backgroundColor:o?a.dangerLight:void 0,paddingLeft:r.baseUnit,paddingRight:r.baseUnit,":hover":{backgroundColor:a.dangerLight,color:a.danger}})},noOptionsMessage:Kj,option:function(e,t){var n=e.isDisabled,r=e.isFocused,i=e.isSelected,a=e.theme,o=a.spacing,s=a.colors;return zM({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},t?{}:{backgroundColor:i?s.primary:r?s.primary25:"transparent",color:n?s.neutral20:i?s.neutral0:"inherit",padding:"".concat(2*o.baseUnit,"px ").concat(3*o.baseUnit,"px"),":active":{backgroundColor:n?void 0:i?s.primary:s.primary50}})},placeholder:function(e,t){var n=e.theme,r=n.spacing,i=n.colors;return zM({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},t?{}:{color:i.neutral50,marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2})},singleValue:function(e,t){var n=e.isDisabled,r=e.theme,i=r.spacing,a=r.colors;return zM({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t?{}:{color:n?a.neutral40:a.neutral80,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},valueContainer:function(e,t){var n=e.theme.spacing,r=e.isMulti,i=e.hasValue,a=e.selectProps.controlShouldRenderValue;return zM({alignItems:"center",display:r&&i&&a?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},t?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(2*n.baseUnit,"px")})}};var J3={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}},e4={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:Fj(),captureMenuScroll:!Fj(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function(e){return function(t,n){if(t.data.__isNew__)return!0;var r=zM({ignoreCase:!0,ignoreAccents:!0,stringify:P3,trim:!0,matchFrom:"any"},e),i=r.ignoreCase,a=r.ignoreAccents,o=r.stringify,s=r.trim,u=r.matchFrom,c=s?O3(n):n,l=s?O3(o(t)):o(t);return i&&(c=c.toLowerCase(),l=l.toLowerCase()),a&&(c=F3(c),l=T3(l)),"start"===u?l.substr(0,c.length)===c:l.indexOf(c)>-1}}(),formatGroupLabel:function(e){return e.label},getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value},isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:function(e){return!!e.isDisabled},loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(e){return!1}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(1!==t?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function t4(e,t,n,r){return{type:"option",data:t,isDisabled:c4(e,t,n),isSelected:l4(e,t,n),label:s4(e,t),value:u4(e,t),index:r}}function n4(e,t){return e.options.map((function(n,r){if("options"in n){var i=n.options.map((function(n,r){return t4(e,n,t,r)})).filter((function(t){return a4(e,t)}));return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var a=t4(e,n,t,r);return a4(e,a)?a:void 0})).filter(Rj)}function r4(e){return e.reduce((function(e,t){return"group"===t.type?e.push.apply(e,(0,z.A)(t.options.map((function(e){return e.data})))):e.push(t.data),e}),[])}function i4(e,t){return e.reduce((function(e,n){return"group"===n.type?e.push.apply(e,(0,z.A)(n.options.map((function(e){return{data:e.data,id:"".concat(t,"-").concat(n.index,"-").concat(e.index)}})))):e.push({data:n.data,id:"".concat(t,"-").concat(n.index)}),e}),[])}function a4(e,t){var n=e.inputValue,r=void 0===n?"":n,i=t.data,a=t.isSelected,o=t.label,s=t.value;return(!p4(e)||!a)&&d4(e,{label:o,value:s,data:i},r)}var o4=function(e,t){var n;return(null===(n=e.find((function(e){return e.data===t})))||void 0===n?void 0:n.id)||null},s4=function(e,t){return e.getOptionLabel(t)},u4=function(e,t){return e.getOptionValue(t)};function c4(e,t,n){return"function"==typeof e.isOptionDisabled&&e.isOptionDisabled(t,n)}function l4(e,t,n){if(n.indexOf(t)>-1)return!0;if("function"==typeof e.isOptionSelected)return e.isOptionSelected(t,n);var r=u4(e,t);return n.some((function(t){return u4(e,t)===r}))}function d4(e,t,n){return!e.filterOption||e.filterOption(t,n)}var p4=function(e){var t=e.hideSelectedOptions,n=e.isMulti;return void 0===t?n:t},f4=1,h4=function(e){(0,T.A)(n,e);var t=function(e){var t=(0,g3.A)();return function(){var n,r=(0,S.A)(e);if(t){var i=(0,S.A)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,x.A)(this,n)}}(n);function n(e){var r;if((0,p.A)(this,n),(r=t.call(this,e)).state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},r.blockOptionHover=!1,r.isComposing=!1,r.commonProps=void 0,r.initialTouchX=0,r.initialTouchY=0,r.openAfterFocus=!1,r.scrollToFocusedOptionOnUpdate=!1,r.userIsDragging=void 0,r.isAppleDevice=Y3()||X3(),r.controlRef=null,r.getControlRef=function(e){r.controlRef=e},r.focusedOptionRef=null,r.getFocusedOptionRef=function(e){r.focusedOptionRef=e},r.menuListRef=null,r.getMenuListRef=function(e){r.menuListRef=e},r.inputRef=null,r.getInputRef=function(e){r.inputRef=e},r.focus=r.focusInput,r.blur=r.blurInput,r.onChange=function(e,t){var n=r.props,i=n.onChange,a=n.name;t.name=a,r.ariaOnChange(e,t),i(e,t)},r.setValue=function(e,t,n){var i=r.props,a=i.closeMenuOnSelect,o=i.isMulti,s=i.inputValue;r.onInputChange("",{action:"set-value",prevInputValue:s}),a&&(r.setState({inputIsHiddenAfterUpdate:!o}),r.onMenuClose()),r.setState({clearFocusValueOnUpdate:!0}),r.onChange(e,{action:t,option:n})},r.selectOption=function(e){var t=r.props,n=t.blurInputOnSelect,i=t.isMulti,a=t.name,o=r.state.selectValue,s=i&&r.isOptionSelected(e,o),u=r.isOptionDisabled(e,o);if(s){var c=r.getOptionValue(e);r.setValue(o.filter((function(e){return r.getOptionValue(e)!==c})),"deselect-option",e)}else{if(u)return void r.ariaOnChange(e,{action:"select-option",option:e,name:a});i?r.setValue([].concat((0,z.A)(o),[e]),"select-option",e):r.setValue(e,"select-option")}n&&r.blurInput()},r.removeValue=function(e){var t=r.props.isMulti,n=r.state.selectValue,i=r.getOptionValue(e),a=n.filter((function(e){return r.getOptionValue(e)!==i})),o=Nj(t,a,a[0]||null);r.onChange(o,{action:"remove-value",removedValue:e}),r.focusInput()},r.clearValue=function(){var e=r.state.selectValue;r.onChange(Nj(r.props.isMulti,[],null),{action:"clear",removedValues:e})},r.popValue=function(){var e=r.props.isMulti,t=r.state.selectValue,n=t[t.length-1],i=t.slice(0,t.length-1),a=Nj(e,i,i[0]||null);n&&r.onChange(a,{action:"pop-value",removedValue:n})},r.getFocusedOptionId=function(e){return o4(r.state.focusableOptionsWithIds,e)},r.getFocusableOptionsWithIds=function(){return i4(n4(r.props,r.state.selectValue),r.getElementId("option"))},r.getValue=function(){return r.state.selectValue},r.cx=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Dj.apply(void 0,[r.props.classNamePrefix].concat(t))},r.getOptionLabel=function(e){return s4(r.props,e)},r.getOptionValue=function(e){return u4(r.props,e)},r.getStyles=function(e,t){var n=r.props.unstyled,i=Z3[e](t,n);i.boxSizing="border-box";var a=r.props.styles[e];return a?a(i,t):i},r.getClassNames=function(e,t){var n,i;return null===(n=(i=r.props.classNames)[e])||void 0===n?void 0:n.call(i,t)},r.getElementId=function(e){return"".concat(r.state.instancePrefix,"-").concat(e)},r.getComponents=function(){return e=r.props,zM(zM({},yU),e.components);var e},r.buildCategorizedOptions=function(){return n4(r.props,r.state.selectValue)},r.getCategorizedOptions=function(){return r.props.menuIsOpen?r.buildCategorizedOptions():[]},r.buildFocusableOptions=function(){return r4(r.buildCategorizedOptions())},r.getFocusableOptions=function(){return r.props.menuIsOpen?r.buildFocusableOptions():[]},r.ariaOnChange=function(e,t){r.setState({ariaSelection:zM({value:e},t)})},r.onMenuMouseDown=function(e){0===e.button&&(e.stopPropagation(),e.preventDefault(),r.focusInput())},r.onMenuMouseMove=function(e){r.blockOptionHover=!1},r.onControlMouseDown=function(e){if(!e.defaultPrevented){var t=r.props.openMenuOnClick;r.state.isFocused?r.props.menuIsOpen?"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&r.onMenuClose():t&&r.openMenu("first"):(t&&(r.openAfterFocus=!0),r.focusInput()),"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&e.preventDefault()}},r.onDropdownIndicatorMouseDown=function(e){if(!(e&&"mousedown"===e.type&&0!==e.button||r.props.isDisabled)){var t=r.props,n=t.isMulti,i=t.menuIsOpen;r.focusInput(),i?(r.setState({inputIsHiddenAfterUpdate:!n}),r.onMenuClose()):r.openMenu("first"),e.preventDefault()}},r.onClearIndicatorMouseDown=function(e){e&&"mousedown"===e.type&&0!==e.button||(r.clearValue(),e.preventDefault(),r.openAfterFocus=!1,"touchend"===e.type?r.focusInput():setTimeout((function(){return r.focusInput()})))},r.onScroll=function(e){"boolean"==typeof r.props.closeMenuOnScroll?e.target instanceof HTMLElement&&Cj(e.target)&&r.props.onMenuClose():"function"==typeof r.props.closeMenuOnScroll&&r.props.closeMenuOnScroll(e)&&r.props.onMenuClose()},r.onCompositionStart=function(){r.isComposing=!0},r.onCompositionEnd=function(){r.isComposing=!1},r.onTouchStart=function(e){var t=e.touches,n=t&&t.item(0);n&&(r.initialTouchX=n.clientX,r.initialTouchY=n.clientY,r.userIsDragging=!1)},r.onTouchMove=function(e){var t=e.touches,n=t&&t.item(0);if(n){var i=Math.abs(n.clientX-r.initialTouchX),a=Math.abs(n.clientY-r.initialTouchY);r.userIsDragging=i>5||a>5}},r.onTouchEnd=function(e){r.userIsDragging||(r.controlRef&&!r.controlRef.contains(e.target)&&r.menuListRef&&!r.menuListRef.contains(e.target)&&r.blurInput(),r.initialTouchX=0,r.initialTouchY=0)},r.onControlTouchEnd=function(e){r.userIsDragging||r.onControlMouseDown(e)},r.onClearIndicatorTouchEnd=function(e){r.userIsDragging||r.onClearIndicatorMouseDown(e)},r.onDropdownIndicatorTouchEnd=function(e){r.userIsDragging||r.onDropdownIndicatorMouseDown(e)},r.handleInputChange=function(e){var t=r.props.inputValue,n=e.currentTarget.value;r.setState({inputIsHiddenAfterUpdate:!1}),r.onInputChange(n,{action:"input-change",prevInputValue:t}),r.props.menuIsOpen||r.onMenuOpen()},r.onInputFocus=function(e){r.props.onFocus&&r.props.onFocus(e),r.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(r.openAfterFocus||r.props.openMenuOnFocus)&&r.openMenu("first"),r.openAfterFocus=!1},r.onInputBlur=function(e){var t=r.props.inputValue;r.menuListRef&&r.menuListRef.contains(document.activeElement)?r.inputRef.focus():(r.props.onBlur&&r.props.onBlur(e),r.onInputChange("",{action:"input-blur",prevInputValue:t}),r.onMenuClose(),r.setState({focusedValue:null,isFocused:!1}))},r.onOptionHover=function(e){if(!r.blockOptionHover&&r.state.focusedOption!==e){var t=r.getFocusableOptions().indexOf(e);r.setState({focusedOption:e,focusedOptionId:t>-1?r.getFocusedOptionId(e):null})}},r.shouldHideSelectedOptions=function(){return p4(r.props)},r.onValueInputFocus=function(e){e.preventDefault(),e.stopPropagation(),r.focus()},r.onKeyDown=function(e){var t=r.props,n=t.isMulti,i=t.backspaceRemovesValue,a=t.escapeClearsValue,o=t.inputValue,s=t.isClearable,u=t.isDisabled,c=t.menuIsOpen,l=t.onKeyDown,d=t.tabSelectsValue,p=t.openMenuOnFocus,f=r.state,h=f.focusedOption,m=f.focusedValue,v=f.selectValue;if(!(u||"function"==typeof l&&(l(e),e.defaultPrevented))){switch(r.blockOptionHover=!0,e.key){case"ArrowLeft":if(!n||o)return;r.focusValue("previous");break;case"ArrowRight":if(!n||o)return;r.focusValue("next");break;case"Delete":case"Backspace":if(o)return;if(m)r.removeValue(m);else{if(!i)return;n?r.popValue():s&&r.clearValue()}break;case"Tab":if(r.isComposing)return;if(e.shiftKey||!c||!d||!h||p&&r.isOptionSelected(h,v))return;r.selectOption(h);break;case"Enter":if(229===e.keyCode)break;if(c){if(!h)return;if(r.isComposing)return;r.selectOption(h);break}return;case"Escape":c?(r.setState({inputIsHiddenAfterUpdate:!1}),r.onInputChange("",{action:"menu-close",prevInputValue:o}),r.onMenuClose()):s&&a&&r.clearValue();break;case" ":if(o)return;if(!c){r.openMenu("first");break}if(!h)return;r.selectOption(h);break;case"ArrowUp":c?r.focusOption("up"):r.openMenu("last");break;case"ArrowDown":c?r.focusOption("down"):r.openMenu("first");break;case"PageUp":if(!c)return;r.focusOption("pageup");break;case"PageDown":if(!c)return;r.focusOption("pagedown");break;case"Home":if(!c)return;r.focusOption("first");break;case"End":if(!c)return;r.focusOption("last");break;default:return}e.preventDefault()}},r.state.instancePrefix="react-select-"+(r.props.instanceId||++f4),r.state.selectValue=Aj(e.value),e.menuIsOpen&&r.state.selectValue.length){var i=r.getFocusableOptionsWithIds(),a=r.buildFocusableOptions(),o=a.indexOf(r.state.selectValue[0]);r.state.focusableOptionsWithIds=i,r.state.focusedOption=a[o],r.state.focusedOptionId=o4(i,a[o])}return r}return(0,f.A)(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&Tj(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isDisabled,r=t.menuIsOpen,i=this.state.isFocused;(i&&!n&&e.isDisabled||i&&r&&!e.menuIsOpen)&&this.focusInput(),i&&n&&!e.isDisabled?this.setState({isFocused:!1},this.onMenuClose):i||n||!e.isDisabled||this.inputRef!==document.activeElement||this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(Tj(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(e,t){this.props.onInputChange(e,t)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(e){var t=this,n=this.state,r=n.selectValue,i=n.isFocused,a=this.buildFocusableOptions(),o="first"===e?0:a.length-1;if(!this.props.isMulti){var s=a.indexOf(r[0]);s>-1&&(o=s)}this.scrollToFocusedOptionOnUpdate=!(i&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:a[o],focusedOptionId:this.getFocusedOptionId(a[o])},(function(){return t.onMenuOpen()}))}},{key:"focusValue",value:function(e){var t=this.state,n=t.selectValue,r=t.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var i=n.indexOf(r);r||(i=-1);var a=n.length-1,o=-1;if(n.length){switch(e){case"previous":o=0===i?0:-1===i?a:i-1;break;case"next":i>-1&&i<a&&(o=i+1)}this.setState({inputIsHidden:-1!==o,focusedValue:n[o]})}}}},{key:"focusOption",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",t=this.props.pageSize,n=this.state.focusedOption,r=this.getFocusableOptions();if(r.length){var i=0,a=r.indexOf(n);n||(a=-1),"up"===e?i=a>0?a-1:r.length-1:"down"===e?i=(a+1)%r.length:"pageup"===e?(i=a-t)<0&&(i=0):"pagedown"===e?(i=a+t)>r.length-1&&(i=r.length-1):"last"===e&&(i=r.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:r[i],focusedValue:null,focusedOptionId:this.getFocusedOptionId(r[i])})}}},{key:"getTheme",value:function(){return this.props.theme?"function"==typeof this.props.theme?this.props.theme(J3):zM(zM({},J3),this.props.theme):J3}},{key:"getCommonProps",value:function(){var e=this.clearValue,t=this.cx,n=this.getStyles,r=this.getClassNames,i=this.getValue,a=this.selectOption,o=this.setValue,s=this.props,u=s.isMulti,c=s.isRtl,l=s.options;return{clearValue:e,cx:t,getStyles:n,getClassNames:r,getValue:i,hasValue:this.hasValue(),isMulti:u,isRtl:c,options:l,selectOption:a,selectProps:s,setValue:o,theme:this.getTheme()}}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var e=this.props,t=e.isClearable,n=e.isMulti;return void 0===t?n:t}},{key:"isOptionDisabled",value:function(e,t){return c4(this.props,e,t)}},{key:"isOptionSelected",value:function(e,t){return l4(this.props,e,t)}},{key:"filterOption",value:function(e,t){return d4(this.props,e,t)}},{key:"formatOptionLabel",value:function(e,t){if("function"==typeof this.props.formatOptionLabel){var n=this.props.inputValue,r=this.state.selectValue;return this.props.formatOptionLabel(e,{context:t,inputValue:n,selectValue:r})}return this.getOptionLabel(e)}},{key:"formatGroupLabel",value:function(e){return this.props.formatGroupLabel(e)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var e=this.props,t=e.isDisabled,n=e.isSearchable,r=e.inputId,i=e.inputValue,a=e.tabIndex,o=e.form,s=e.menuIsOpen,u=e.required,l=this.getComponents().Input,d=this.state,p=d.inputIsHidden,f=d.ariaSelection,h=this.commonProps,m=r||this.getElementId("input"),v=zM(zM(zM({"aria-autocomplete":"list","aria-expanded":s,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":u,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},s&&{"aria-controls":this.getElementId("listbox")}),!n&&{"aria-readonly":!0}),this.hasValue()?"initial-input-focus"===(null==f?void 0:f.action)&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return n?c.createElement(l,cy({},h,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:m,innerRef:this.getInputRef,isDisabled:t,isHidden:p,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:a,form:o,type:"text",value:i},v)):c.createElement(B3,cy({id:m,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:bj,onFocus:this.onInputFocus,disabled:t,tabIndex:a,inputMode:"none",form:o,value:""},v))}},{key:"renderPlaceholderOrValue",value:function(){var e=this,t=this.getComponents(),n=t.MultiValue,r=t.MultiValueContainer,i=t.MultiValueLabel,a=t.MultiValueRemove,o=t.SingleValue,s=t.Placeholder,u=this.commonProps,l=this.props,d=l.controlShouldRenderValue,p=l.isDisabled,f=l.isMulti,h=l.inputValue,m=l.placeholder,v=this.state,g=v.selectValue,y=v.focusedValue,b=v.isFocused;if(!this.hasValue()||!d)return h?null:c.createElement(s,cy({},u,{key:"placeholder",isDisabled:p,isFocused:b,innerProps:{id:this.getElementId("placeholder")}}),m);if(f)return g.map((function(t,o){var s=t===y,l="".concat(e.getOptionLabel(t),"-").concat(e.getOptionValue(t));return c.createElement(n,cy({},u,{components:{Container:r,Label:i,Remove:a},isFocused:s,isDisabled:p,key:l,index:o,removeProps:{onClick:function(){return e.removeValue(t)},onTouchEnd:function(){return e.removeValue(t)},onMouseDown:function(e){e.preventDefault()}},data:t}),e.formatOptionLabel(t,"value"))}));if(h)return null;var w=g[0];return c.createElement(o,cy({},u,{data:w,isDisabled:p}),this.formatOptionLabel(w,"value"))}},{key:"renderClearIndicator",value:function(){var e=this.getComponents().ClearIndicator,t=this.commonProps,n=this.props,r=n.isDisabled,i=n.isLoading,a=this.state.isFocused;if(!this.isClearable()||!e||r||!this.hasValue()||i)return null;var o={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return c.createElement(e,cy({},t,{innerProps:o,isFocused:a}))}},{key:"renderLoadingIndicator",value:function(){var e=this.getComponents().LoadingIndicator,t=this.commonProps,n=this.props,r=n.isDisabled,i=n.isLoading,a=this.state.isFocused;if(!e||!i)return null;return c.createElement(e,cy({},t,{innerProps:{"aria-hidden":"true"},isDisabled:r,isFocused:a}))}},{key:"renderIndicatorSeparator",value:function(){var e=this.getComponents(),t=e.DropdownIndicator,n=e.IndicatorSeparator;if(!t||!n)return null;var r=this.commonProps,i=this.props.isDisabled,a=this.state.isFocused;return c.createElement(n,cy({},r,{isDisabled:i,isFocused:a}))}},{key:"renderDropdownIndicator",value:function(){var e=this.getComponents().DropdownIndicator;if(!e)return null;var t=this.commonProps,n=this.props.isDisabled,r=this.state.isFocused,i={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return c.createElement(e,cy({},t,{innerProps:i,isDisabled:n,isFocused:r}))}},{key:"renderMenu",value:function(){var e=this,t=this.getComponents(),n=t.Group,r=t.GroupHeading,i=t.Menu,a=t.MenuList,o=t.MenuPortal,s=t.LoadingMessage,u=t.NoOptionsMessage,l=t.Option,d=this.commonProps,p=this.state.focusedOption,f=this.props,h=f.captureMenuScroll,m=f.inputValue,v=f.isLoading,g=f.loadingMessage,y=f.minMenuHeight,b=f.maxMenuHeight,w=f.menuIsOpen,D=f.menuPlacement,A=f.menuPosition,E=f.menuPortalTarget,k=f.menuShouldBlockScroll,C=f.menuShouldScrollIntoView,_=f.noOptionsMessage,x=f.onMenuScrollToTop,S=f.onMenuScrollToBottom;if(!w)return null;var T,F=function(t,n){var r=t.type,i=t.data,a=t.isDisabled,o=t.isSelected,s=t.label,u=t.value,f=p===i,h=a?void 0:function(){return e.onOptionHover(i)},m=a?void 0:function(){return e.selectOption(i)},v="".concat(e.getElementId("option"),"-").concat(n),g={id:v,onClick:m,onMouseMove:h,onMouseOver:h,tabIndex:-1,role:"option","aria-selected":e.isAppleDevice?void 0:o};return c.createElement(l,cy({},d,{innerProps:g,data:i,isDisabled:a,isSelected:o,key:v,label:s,type:r,value:u,isFocused:f,innerRef:f?e.getFocusedOptionRef:void 0}),e.formatOptionLabel(t.data,"menu"))};if(this.hasOptions())T=this.getCategorizedOptions().map((function(t){if("group"===t.type){var i=t.data,a=t.options,o=t.index,s="".concat(e.getElementId("group"),"-").concat(o),u="".concat(s,"-heading");return c.createElement(n,cy({},d,{key:s,data:i,options:a,Heading:r,headingProps:{id:u,data:t.data},label:e.formatGroupLabel(t.data)}),t.options.map((function(e){return F(e,"".concat(o,"-").concat(e.index))})))}if("option"===t.type)return F(t,"".concat(t.index))}));else if(v){var O=g({inputValue:m});if(null===O)return null;T=c.createElement(s,d,O)}else{var P=_({inputValue:m});if(null===P)return null;T=c.createElement(u,d,P)}var I={minMenuHeight:y,maxMenuHeight:b,menuPlacement:D,menuPosition:A,menuShouldScrollIntoView:C},B=c.createElement(qj,cy({},d,I),(function(t){var n=t.ref,r=t.placerProps,o=r.placement,s=r.maxHeight;return c.createElement(i,cy({},d,I,{innerRef:n,innerProps:{onMouseDown:e.onMenuMouseDown,onMouseMove:e.onMenuMouseMove},isLoading:v,placement:o}),c.createElement(K3,{captureEnabled:h,onTopArrive:x,onBottomArrive:S,lockEnabled:k},(function(t){return c.createElement(a,cy({},d,{innerRef:function(n){e.getMenuListRef(n),t(n)},innerProps:{role:"listbox","aria-multiselectable":d.isMulti,id:e.getElementId("listbox")},isLoading:v,maxHeight:s,focusedOption:p}),T)})))}));return E||"fixed"===A?c.createElement(o,cy({},d,{appendTo:E,controlElement:this.controlRef,menuPlacement:D,menuPosition:A}),B):B}},{key:"renderFormField",value:function(){var e=this,t=this.props,n=t.delimiter,r=t.isDisabled,i=t.isMulti,a=t.name,o=t.required,s=this.state.selectValue;if(o&&!this.hasValue()&&!r)return c.createElement(G3,{name:a,onFocus:this.onValueInputFocus});if(a&&!r){if(i){if(n){var u=s.map((function(t){return e.getOptionValue(t)})).join(n);return c.createElement("input",{name:a,type:"hidden",value:u})}var l=s.length>0?s.map((function(t,n){return c.createElement("input",{key:"i-".concat(n),name:a,type:"hidden",value:e.getOptionValue(t)})})):c.createElement("input",{name:a,type:"hidden",value:""});return c.createElement("div",null,l)}var d=s[0]?this.getOptionValue(s[0]):"";return c.createElement("input",{name:a,type:"hidden",value:d})}}},{key:"renderLiveRegion",value:function(){var e=this.commonProps,t=this.state,n=t.ariaSelection,r=t.focusedOption,i=t.focusedValue,a=t.isFocused,o=t.selectValue,s=this.getFocusableOptions();return c.createElement(A3,cy({},e,{id:this.getElementId("live-region"),ariaSelection:n,focusedOption:r,focusedValue:i,isFocused:a,selectValue:o,focusableOptions:s,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var e=this.getComponents(),t=e.Control,n=e.IndicatorsContainer,r=e.SelectContainer,i=e.ValueContainer,a=this.props,o=a.className,s=a.id,u=a.isDisabled,l=a.menuIsOpen,d=this.state.isFocused,p=this.commonProps=this.getCommonProps();return c.createElement(r,cy({},p,{className:o,innerProps:{id:s,onKeyDown:this.onKeyDown},isDisabled:u,isFocused:d}),this.renderLiveRegion(),c.createElement(t,cy({},p,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:u,isFocused:d,menuIsOpen:l}),c.createElement(i,cy({},p,{isDisabled:u}),this.renderPlaceholderOrValue(),this.renderInput()),c.createElement(n,cy({},p,{isDisabled:u}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps,r=t.clearFocusValueOnUpdate,i=t.inputIsHiddenAfterUpdate,a=t.ariaSelection,o=t.isFocused,s=t.prevWasFocused,u=t.instancePrefix,c=e.options,l=e.value,d=e.menuIsOpen,p=e.inputValue,f=e.isMulti,h=Aj(l),m={};if(n&&(l!==n.value||c!==n.options||d!==n.menuIsOpen||p!==n.inputValue)){var v=d?function(e,t){return r4(n4(e,t))}(e,h):[],g=d?i4(n4(e,h),"".concat(u,"-option")):[],y=r?function(e,t){var n=e.focusedValue,r=e.selectValue.indexOf(n);if(r>-1){if(t.indexOf(n)>-1)return n;if(r<t.length)return t[r]}return null}(t,h):null,b=function(e,t){var n=e.focusedOption;return n&&t.indexOf(n)>-1?n:t[0]}(t,v);m={selectValue:h,focusedOption:b,focusedOptionId:o4(g,b),focusableOptionsWithIds:g,focusedValue:y,clearFocusValueOnUpdate:!1}}var w=null!=i&&e!==n?{inputIsHidden:i,inputIsHiddenAfterUpdate:void 0}:{},D=a,A=o&&s;return o&&!A&&(D={value:Nj(f,h,h[0]||null),options:h,action:"initial-input-focus"},A=!s),"initial-input-focus"===(null==a?void 0:a.action)&&(D=null),zM(zM(zM({},m),w),{},{prevProps:e,ariaSelection:D,prevWasFocused:A})}}]),n}(c.Component);h4.defaultProps=e4;var m4=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];var v4=["defaultOptions","cacheOptions","loadOptions","options","isLoading","onInputChange","filterOption"];var g4=(0,c.forwardRef)((function(e,t){var n=function(e){var t=e.defaultOptions,n=void 0!==t&&t,r=e.cacheOptions,i=void 0!==r&&r,a=e.loadOptions;e.options;var o=e.isLoading,s=void 0!==o&&o,u=e.onInputChange,l=e.filterOption,d=void 0===l?null:l,p=(0,Ae.A)(e,v4),f=p.inputValue,m=(0,c.useRef)(void 0),v=(0,c.useRef)(!1),g=(0,c.useState)(Array.isArray(n)?n:void 0),y=(0,_.A)(g,2),b=y[0],w=y[1],D=(0,c.useState)(void 0!==f?f:""),A=(0,_.A)(D,2),E=A[0],k=A[1],C=(0,c.useState)(!0===n),x=(0,_.A)(C,2),S=x[0],T=x[1],F=(0,c.useState)(void 0),O=(0,_.A)(F,2),P=O[0],I=O[1],B=(0,c.useState)([]),R=(0,_.A)(B,2),N=R[0],M=R[1],L=(0,c.useState)(!1),j=(0,_.A)(L,2),U=j[0],z=j[1],V=(0,c.useState)({}),q=(0,_.A)(V,2),H=q[0],W=q[1],K=(0,c.useState)(void 0),$=(0,_.A)(K,2),G=$[0],Q=$[1],Y=(0,c.useState)(void 0),X=(0,_.A)(Y,2),Z=X[0],J=X[1];i!==Z&&(W({}),J(i)),n!==G&&(w(Array.isArray(n)?n:void 0),Q(n)),(0,c.useEffect)((function(){return v.current=!0,function(){v.current=!1}}),[]);var ee=(0,c.useCallback)((function(e,t){if(!a)return t();var n=a(e,t);n&&"function"==typeof n.then&&n.then(t,(function(){return t()}))}),[a]);(0,c.useEffect)((function(){!0===n&&ee(E,(function(e){v.current&&(w(e||[]),T(!!m.current))}))}),[]);var te=(0,c.useCallback)((function(e,t){var n=function(e,t,n){if(n){var r=n(e,t);if("string"==typeof r)return r}return e}(e,t,u);if(!n)return m.current=void 0,k(""),I(""),M([]),T(!1),void z(!1);if(i&&H[n])k(n),I(n),M(H[n]),T(!1),z(!1);else{var r=m.current={};k(n),T(!0),z(!P),ee(n,(function(e){v&&r===m.current&&(m.current=void 0,T(!1),I(n),M(e||[]),z(!1),W(e?zM(zM({},H),{},(0,h.A)({},n,e)):H))}))}}),[i,ee,P,H,u]),ne=U?[]:E&&P?N:b||[];return zM(zM({},p),{},{options:ne,isLoading:S||s,onInputChange:te,filterOption:d})}(e),r=function(e){var t=e.defaultInputValue,n=void 0===t?"":t,r=e.defaultMenuIsOpen,i=void 0!==r&&r,a=e.defaultValue,o=void 0===a?null:a,s=e.inputValue,u=e.menuIsOpen,l=e.onChange,d=e.onInputChange,p=e.onMenuClose,f=e.onMenuOpen,h=e.value,m=(0,Ae.A)(e,m4),v=(0,c.useState)(void 0!==s?s:n),g=(0,_.A)(v,2),y=g[0],b=g[1],w=(0,c.useState)(void 0!==u?u:i),D=(0,_.A)(w,2),A=D[0],E=D[1],k=(0,c.useState)(void 0!==h?h:o),C=(0,_.A)(k,2),x=C[0],S=C[1],T=(0,c.useCallback)((function(e,t){"function"==typeof l&&l(e,t),S(e)}),[l]),F=(0,c.useCallback)((function(e,t){var n;"function"==typeof d&&(n=d(e,t)),b(void 0!==n?n:e)}),[d]),O=(0,c.useCallback)((function(){"function"==typeof f&&f(),E(!0)}),[f]),P=(0,c.useCallback)((function(){"function"==typeof p&&p(),E(!1)}),[p]),I=void 0!==s?s:y,B=void 0!==u?u:A,R=void 0!==h?h:x;return zM(zM({},m),{},{inputValue:I,menuIsOpen:B,onChange:T,onInputChange:F,onMenuClose:P,onMenuOpen:O,value:R})}(n);return c.createElement(h4,cy({ref:t},r))})),y4=g4;function b4(e,t){return w4.apply(this,arguments)}function w4(){return w4=(0,o.A)(u().mark((function e(t,n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=new Promise((function(e,r){pie.post("thread/"+t+"/addParticipant",{user_id:n}).then(function(){var t=(0,o.A)(u().mark((function t(n){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.data?e(!0):r(Mie("Error while adding participants","Add participant action","bp-better-messages"));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){r(pb(e,Mie("Error while adding participants","Add participant action","bp-better-messages")))}))}));try{Hy.promise(r,{pending:{render:function(){return Mie("Adding participants","Add participant action","bp-better-messages")},theme:"dark"},success:{render:function(){return c.createElement("div",{className:"bm-deleted-message"},c.createElement("p",null,Mie("Participants added","Add participant action","bp-better-messages")))},theme:"colored",type:"info"},error:{render:function(e){var t=e.data;return Gg(t)},theme:"colored",type:"error",autoClose:!1}},{className:"bm-toasts",position:"bottom-right",autoClose:5e3,theme:"colored",hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}catch(e){hb(e)}case 2:case"end":return e.stop()}}),e)}))),w4.apply(this,arguments)}function D4(){return(D4=(0,o.A)(u().mark((function e(t,n){var r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],e.next=3,pie.get("suggestions",{params:{search:t,threadId:n}});case 3:return K9((i=e.sent).data),i.data.map((function(e){O9.users.add(Number(e.user_id)),r.push({value:e.user_id})})),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A4(e){var t=(0,c.useState)([]),n=(0,_.A)(t,2),r=n[0],i=n[1],a=(0,c.useState)(!1),s=(0,_.A)(a,2),l=s[0];s[1];return c.createElement("div",{className:"bm-add-participant-panel"},c.createElement(y4,{autoFocus:!0,defaultMenuIsOpen:!1,className:"bm_user_selector",classNamePrefix:"bm_user_selector",isMulti:!0,placeholder:Mie("Start typing to search members","Add Participants Panel","bp-better-messages"),loadOptions:function(t){return function(e,t){return D4.apply(this,arguments)}(t,e.threadId)},onChange:function(e,t){i(e.map((function(e){return e.value})))},components:{ValueContainer:function(e){return c.createElement(c.Fragment,null,c.createElement(yU.ValueContainer,e))},DropdownIndicator:function(){return null},IndicatorSeparator:function(){return null},MultiValueLabel:function(e){return c.createElement(c.Fragment,{key:"user_"+e.data.value},c.createElement(rM,{key:"label_avatar_"+e.data.value,user_id:e.data.value,link:!1,size:20})," ",c.createElement(vM,{key:"label_username_"+e.data.value,link:!1,user_id:e.data.value}))},NoOptionsMessage:function(e){return c.createElement("div",{className:"bm_user_selector__menu-notice bm_user_selector__menu-notice--no-options"},l&&Mie("Loading...","Add Participants Panel","bp-better-messages"),!l&&Mie("No members found","Add Participants Panel","bp-better-messages"))},LoadingMessage:function(e){return c.createElement("div",{className:"bm_user_selector__menu-loading"},Mie("Loading...","Add Participants Panel","bp-better-messages"))},Option:v3}}),c.createElement("div",{className:"bm-action-buttons"},c.createElement(dP,{onClick:(0,o.A)(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b4(e.threadId,r);case 3:lP("add-participant"),t.next=8;break;case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])}))),label:Mie("Add participants","Add Participants Panel","bp-better-messages"),disabled:0===r.length})))}function E4(e){return k4.apply(this,arguments)}function k4(){return(k4=(0,o.A)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pie.post("thread/".concat(t,"/clearMessages"));case 3:if(n=e.sent,!(n.data>0)){e.next=9;break}return e.abrupt("return",E4(t));case 9:return e.abrupt("return",!0);case 10:e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(0),new Error(Mie("Error while clearing messages","Clear Messages Action","bp-better-messages"));case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function C4(){return C4=(0,o.A)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Hy.promise(E4(t),{pending:{render:function(){return Mie("Clearing messages","Clear Messages Action","bp-better-messages")},theme:"dark"},success:{render:function(){return c.createElement("div",{className:"bm-deleted-message"},c.createElement("p",null,Mie("Messages cleared","Clear Messages Action","bp-better-messages")))},theme:"colored",type:"info"},error:{render:function(e){var t=e.data;return Gg(t)},theme:"colored",type:"error",autoClose:!1}},{className:"bm-toasts",position:"bottom-right",autoClose:5e3,theme:"colored",hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),hb(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])}))),C4.apply(this,arguments)}function _4(){return _4=(0,o.A)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=new Promise((function(e,n){pie.post("thread/"+t+"/erase").then(function(){var r=(0,o.A)(u().mark((function r(i){return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:i.data?(e(!0),_7(t)):n(Mie("Error while deleting conversation","Delete Conversation Action","bp-better-messages"));case 1:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()).catch((function(e){n(Mie("Error while deleting conversation","Delete Conversation Action","bp-better-messages"))}))}));try{Hy.promise(n,{pending:{render:function(){return Mie("Deleting conversation","Delete Conversation Action","bp-better-messages")},theme:"dark"},success:{render:function(){return c.createElement("div",{className:"bm-deleted-message"},c.createElement("p",null,Mie("Conversation deleted","Delete Conversation Action","bp-better-messages")))},theme:"colored",type:"info"},error:{render:function(e){var t=e.data;return Gg(t)},theme:"colored",type:"error",autoClose:!1}},{className:"bm-toasts",position:"bottom-right",autoClose:5e3,theme:"colored",hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}catch(e){hb(e)}case 2:case"end":return e.stop()}}),e)}))),_4.apply(this,arguments)}function x4(){return x4=(0,o.A)(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pie.post("/chat/"+t+"/leave");case 3:n=e.sent,r=n.data,Wie("better_messages_chat_room_leave",r,t),gK(r),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),hb(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),x4.apply(this,arguments)}function S4(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 24 24"},"child":[{"tag":"path","attr":{"d":"M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zM4 12c0-1.846.634-3.542 1.688-4.897l11.209 11.209A7.946 7.946 0 0 1 12 20c-4.411 0-8-3.589-8-8zm14.312 4.897L7.103 5.688A7.948 7.948 0 0 1 12 4c4.411 0 8 3.589 8 8a7.954 7.954 0 0 1-1.688 4.897z"}}]})(e)}function T4(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 24 24"},"child":[{"tag":"path","attr":{"d":"m2.586 15.408 4.299 4.299a.996.996 0 0 0 .707.293h12.001v-2h-6.958l7.222-7.222c.78-.779.78-2.049 0-2.828L14.906 3a2.003 2.003 0 0 0-2.828 0l-4.75 4.749-4.754 4.843a2.007 2.007 0 0 0 .012 2.816zM13.492 4.414l4.95 4.95-2.586 2.586L10.906 7l2.586-2.586zM8.749 9.156l.743-.742 4.95 4.95-4.557 4.557a1.026 1.026 0 0 0-.069.079h-1.81l-4.005-4.007 4.748-4.837z"}}]})(e)}function F4(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 24 24"},"child":[{"tag":"path","attr":{"d":"m21.707 20.293-2.023-2.023A9.566 9.566 0 0 0 21.999 12c0-4.091-2.472-7.453-5.999-9v2c2.387 1.386 3.999 4.047 3.999 7a8.113 8.113 0 0 1-1.672 4.913l-1.285-1.285C17.644 14.536 18 13.19 18 12c0-1.771-.775-3.9-2-5v7.586l-2-2V4a1 1 0 0 0-1.554-.832L7.727 6.313l-4.02-4.02-1.414 1.414 18 18 1.414-1.414zM12 5.868v4.718L9.169 7.755 12 5.868zM4 17h2.697l5.748 3.832a1.004 1.004 0 0 0 1.027.05A1 1 0 0 0 14 20v-1.879l-2-2v2.011l-4.445-2.964c-.025-.017-.056-.02-.082-.033a.986.986 0 0 0-.382-.116C7.059 15.016 7.032 15 7 15H4V9h.879L3.102 7.223A1.995 1.995 0 0 0 2 9v6c0 1.103.897 2 2 2z"}}]})(e)}function O4(e){return jx({"tag":"svg","attr":{"viewBox":"0 0 512 512"},"child":[{"tag":"path","attr":{"d":"M217 28.098v455.804l142-42.597V70.697zm159.938 26.88l.062 2.327V87h16V55zM119 55v117.27h18V73h62V55zm258 50v16h16v-16zm0 34v236h16V139zm-240 58.727V233H41v46h96v35.273L195.273 256zM244 232c6.627 0 12 10.745 12 24s-5.373 24-12 24-12-10.745-12-24 5.373-24 12-24zM137 339.73h-18V448h18zM377 393v14h16v-14zm0 32v23h16v-23zM32 471v18h167v-18zm290.652 0l-60 18H480v-18z"}}]})(e)}function P4(e){return I4.apply(this,arguments)}function I4(){return I4=(0,o.A)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(confirm(Mie("Are you sure you want to block user from sending you messages?","Block user action","bp-better-messages"))){e.next=2;break}return e.abrupt("return",!1);case 2:n=new Promise((function(e,n){pie.post("blockUser",{user_id:t}).then(function(){var r=(0,o.A)(u().mark((function r(i){return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:i.data?(G9(t,{blocked:1}),e(!0)):n(Mie("Error while blocking user","Block user action","bp-better-messages"));case 1:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()).catch((function(e){n(pb(e,Mie("Error while blocking user","Block user action","bp-better-messages")))}))}));try{Hy.promise(n,{pending:{render:function(){return Mie("Blocking user","Block user action","bp-better-messages")},theme:"dark"},success:{render:function(){return c.createElement("div",{className:"bm-deleted-message"},c.createElement("p",null,Mie("This user has been blocked","Block user action","bp-better-messages")))},theme:"colored",type:"info"},error:{render:function(e){var t=e.data;return Gg(t)},theme:"colored",type:"error",autoClose:!1}},{className:"bm-toasts",position:"bottom-right",autoClose:5e3,theme:"colored",hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}catch(e){hb(e)}case 4:case"end":return e.stop()}}),e)}))),I4.apply(this,arguments)}function B4(){return B4=(0,o.A)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(confirm(Mie("Are you sure you want to leave this conversation?","Leave conversation action","bp-better-messages"))){e.next=2;break}return e.abrupt("return",!1);case 2:n=new Promise((function(e,n){pie.post("thread/"+t+"/leaveThread").then(function(){var r=(0,o.A)(u().mark((function r(i){return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:i.data?(_7(t),e(!0)):n(Mie("Error while leaving conversation","Leave conversation action","bp-better-messages"));case 1:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()).catch((function(e){n(pb(e,Mie("Error while leaving conversation","Leave conversation action","bp-better-messages")))}))}));try{Hy.promise(n,{pending:{render:function(){return Mie("Leaving conversation","Leave conversation action","bp-better-messages")},theme:"dark"},success:{render:function(){return c.createElement("div",{className:"bm-deleted-message"},c.createElement("p",null,Mie("You left the conversation","Leave conversation action","bp-better-messages")))},theme:"colored",type:"info"},error:{render:function(e){var t=e.data;return Gg(t)},theme:"colored",type:"error",autoClose:!1}},{className:"bm-toasts",position:"bottom-right",autoClose:5e3,theme:"colored",hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}catch(e){hb(e)}case 4:case"end":return e.stop()}}),e)}))),B4.apply(this,arguments)}function R4(e){return N4.apply(this,arguments)}function N4(){return N4=(0,o.A)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(confirm(Mie("Are you sure you want to unblock user from sending you messages?","Unblock user action","bp-better-messages"))){e.next=2;break}return e.abrupt("return",!1);case 2:n=new Promise((function(e,n){pie.post("unblockUser",{user_id:t}).then(function(){var r=(0,o.A)(u().mark((function r(i){return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:i.data?(G9(t,{blocked:0}),e(!0)):n(Mie("Error while unblocking user","Unblock user action","bp-better-messages"));case 1:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()).catch((function(e){n(pb(e,Mie("Error while unblocking user","Unblock user action","bp-better-messages")))}))}));try{Hy.promise(n,{pending:{render:function(){return Mie("Unblocking user","Unblock user action","bp-better-messages")},theme:"dark"},success:{render:function(){return c.createElement("div",{className:"bm-deleted-message"},c.createElement("p",null,Mie("This user has been unblocked","Unblock user action","bp-better-messages")))},theme:"colored",type:"info"},error:{render:function(e){var t=e.data;return Gg(t)},theme:"colored",type:"error",autoClose:!1}},{className:"bm-toasts",position:"bottom-right",autoClose:5e3,theme:"colored",hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}catch(e){hb(e)}case 4:case"end":return e.stop()}}),e)}))),N4.apply(this,arguments)}function M4(e){return L4.apply(this,arguments)}function L4(){return L4=(0,o.A)(u().mark((function e(t){var n,r,i=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]&&i[1],e.next=3,H9(t);case 3:(r=e.sent)&&zee(r.url,n);case 5:case"end":return e.stop()}}),e)}))),L4.apply(this,arguments)}function j4(){return j4=(0,o.A)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=new Promise((function(e,n){pie.post("thread/"+t+"/delete").then(function(){var n=(0,o.A)(u().mark((function n(r){return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:_7(t),e(!0);case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()).catch((function(e){n(e.response.data.message)}))})),Hy.promise(n,{pending:{render:function(){return Mie("Deleting conversation","Thread deleting","bp-better-messages")},theme:"dark"},success:{render:function(){return c.createElement("div",{className:"bm-deleted-thread"},c.createElement("p",null,Mie("Conversation deleted","Thread deleting","bp-better-messages"),c.createElement("br",null),c.createElement("span",{onClick:function(){g0(t)},className:"bm-deleted-thread-restore"},Mie("Restore?","Thread deleting","bp-better-messages"))))},theme:"colored",type:"info"},error:{render:function(e){var t=e.data;return Gg(t)},theme:"colored",type:"error",autoClose:!1}},{className:"bm-toasts",position:"bottom-right",autoClose:1e4,theme:"colored",hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 2:case"end":return e.stop()}}),e)}))),j4.apply(this,arguments)}function U4(){return U4=(0,o.A)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:pie.post("thread/"+t+"/makePinned").then(function(){var e=(0,o.A)(u().mark((function e(n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:A7(t,{"isPinned":1});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){db(e)}));case 1:case"end":return e.stop()}}),e)}))),U4.apply(this,arguments)}function z4(){return z4=(0,o.A)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:pie.post("thread/"+t+"/unmakePinned").then(function(){var e=(0,o.A)(u().mark((function e(n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:A7(t,{"isPinned":0});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){db(e)}));case 1:case"end":return e.stop()}}),e)}))),z4.apply(this,arguments)}function V4(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=[];return e&&(n&&e&&"thread"===e.type&&2===e.participantsCount&&t&&t.url&&r.push({key:"open-profile",showInThread:!0,showInList:!1,label:Mie("Open Member Profile","Mini Chat","bp-better-messages"),icon:c.createElement(nX,null),classes:"bpbm-unmute-conversation",onClick:function(){M4(t.user_id,!1)},onAuxClick:function(){M4(t.user_id,!0)}}),e.permissions&&Sie.pinning&&(e.isPinned?r.push({key:"pin",showInThread:!1,showInList:!0,tooltip:"",label:Mie("Unpin from top",'"Unpin thread" Button',"bp-better-messages"),icon:c.createElement(xN,null),classes:"bm-pin-thread",onClick:function(){!function(e){z4.apply(this,arguments)}(e.thread_id)},onAuxClick:function(){}}):r.push({key:"unpin",showInThread:!1,showInList:!0,tooltip:"",label:Mie("Pin to top",'"Pin thread" Button',"bp-better-messages"),icon:c.createElement(xN,null),classes:"bm-unpin-thread",onClick:function(){!function(e){U4.apply(this,arguments)}(e.thread_id)},onAuxClick:function(){}})),!yb()&&e.permissions&&e.permissions.canMuteThread&&(e.isMuted?r.push({key:"unmute",showInThread:!0,showInList:!0,tooltip:Mie("Unmute conversation notifications",'"Unmute thread" Button Tooltip',"bp-better-messages"),label:Mie("Unmute conversation",'"Unmute thread" Button',"bp-better-messages"),icon:c.createElement(e0,null),classes:"bpbm-unmute-conversation",onClick:function(){!function(e){m3.apply(this,arguments)}(e.thread_id)},onAuxClick:function(){}}):r.push({key:"mute",showInThread:!0,showInList:!0,tooltip:Mie("Mute conversation notifications",'"Mute thread" Button Tooltip',"bp-better-messages"),label:Mie("Mute conversation",'"Mute thread" Button',"bp-better-messages"),icon:c.createElement(t0,null),classes:"bpbm-mute-thread",onClick:function(){!function(e){h3.apply(this,arguments)}(e.thread_id)},onAuxClick:function(){}})),t&&e.permissions&&e.permissions.canBlockUser&&(t.blocked?r.push({key:"block",showInThread:!0,showInList:!0,tooltip:Mie("Unblock user",'"Unblock user" Button Tooltip',"bp-better-messages"),label:Mie("Unblock user",'"Unblock user" Button',"bp-better-messages"),icon:c.createElement(S4,null),classes:"bpbm-unblock-user",onClick:function(){R4(t.user_id)},onAuxClick:function(){}}):r.push({key:"block",showInThread:!0,showInList:!0,tooltip:Mie("Block user",'"Block user" Button Tooltip',"bp-better-messages"),label:Mie("Block user",'"Block user" Button',"bp-better-messages"),icon:c.createElement(S4,null),classes:"bpbm-block-user",onClick:function(){P4(t.user_id)},onAuxClick:function(){}})),e.permissions&&e.permissions.canInvite&&r.push({key:"add-participants",showInThread:!0,showInList:!1,tooltip:Mie("Add new participants to current conversation",'"Add new participants" Button Tooltip',"bp-better-messages"),label:Mie("Add new participants",'"Add new participants" Button',"bp-better-messages"),icon:c.createElement(XJ,null),classes:"bpbm-invite-conversation",onClick:function(){cP("add-participant",Mie("Add new participant","Conversation Settings","bp-better-messages"),c.createElement(A4,{threadId:e.thread_id}))},onAuxClick:function(){}}),e.permissions&&e.permissions.canLeave&&r.push({key:"leave-thread",showInThread:!0,showInList:!0,tooltip:Mie("Leave this conversation",'"Leave conversation" Button Tooltip',"bp-better-messages"),label:Mie("Leave conversation",'"Leave conversation" Button',"bp-better-messages"),icon:c.createElement(O4,null),classes:"bm-leave-conversation",onClick:function(){!function(e){B4.apply(this,arguments)}(e.thread_id)},onAuxClick:function(){}}),e.permissions&&e.permissions.deleteAllowed&&r.push({key:"archive-thread",showInThread:!0,showInList:!0,tooltip:Mie("Delete conversation",'"Delete thread" Button Tooltip',"bp-better-messages"),label:Mie("Delete conversation","Delete conversation tooltip","bp-better-messages"),icon:c.createElement(bJ,null),classes:"bpbm-delete-conversation",onClick:function(){!function(e){j4.apply(this,arguments)}(e.thread_id)},onAuxClick:function(){}}),e.permissions&&e.permissions.canClearThread&&r.push({key:"clear-thread",showInThread:!0,showInList:!0,tooltip:Mie("Delete all messages in this conversation",'"Clear messages" Button Tooltip',"bp-better-messages"),label:Mie("Clear messages",'"Clear messages" Button',"bp-better-messages"),icon:c.createElement(T4,null),classes:"bpbm-clear-conversation",onClick:function(){confirm(Mie("Are you sure you want to delete all messages in this conversation? (This action is irreversible)","Clear Messages Action","bp-better-messages"))&&function(e){C4.apply(this,arguments)}(e.thread_id)},onAuxClick:function(){}}),e.permissions&&e.permissions.canEraseThread&&"thread"===e.type&&r.push({key:"delete-thread",showInThread:!0,showInList:!0,tooltip:Mie("Erase conversation and all messages",'"Erase thread" Button Tooltip',"bp-better-messages"),label:Mie("Erase conversation",'"Erase thread" Button',"bp-better-messages"),icon:c.createElement(SX,null),classes:"bpbm-delete-conversation",onClick:function(){confirm(Mie("Are you sure you want to delete this conversation? (This action is irreversible)","Delete Conversation Action","bp-better-messages"))&&function(e){_4.apply(this,arguments)}(e.thread_id)},onAuxClick:function(){}}),e.chatRoom&&"chat-room"===e.type&&e.chatRoom.isJoined&&!e.chatRoom.autoJoin&&r.push({key:"leave-room",showInThread:!0,showInList:!0,tooltip:Mie("Leave chat room",'"Leave Chat Room" Button Tooltip',"bp-better-messages"),label:Mie("Leave chat room",'"Leave Chat Room" Button',"bp-better-messages"),icon:c.createElement(Yx,null),classes:"bpbm-leave-chat-room",onClick:function(){!function(e){x4.apply(this,arguments)}(e.chatRoom.id)},onAuxClick:function(){}})),Hie("better_messages_thread_context_menu",r,e,t,n)}function q4(){var e,t=(0,c.useContext)(pN),n=t.isMaximized,r=t.setIsMaximized,i=t.fullScreened,a=(0,c.useContext)(QK),o=a.thread,s=a.call,u=(a.groupVideo,a.groupAudio,QB());u&&(e=eR());var l=(0,c.useRef)(),d=(0,c.useState)(!1),p=(0,_.A)(d,2),f=p[0],h=p[1],m=(0,c.useCallback)((function(e){var t=e.target;l.current&&(l.current.closest(".expandingButtons").contains(t)||h(!1))}),[]);(0,c.useEffect)((function(){document.removeEventListener("click",m)}),[]),(0,c.useEffect)((function(){f?document.addEventListener("click",m):document.removeEventListener("click",m)}),[f]);var v=q9(o),g=V4(o,v).filter((function(e){return!0===e.showInThread})),y=null,b=function(e){var t=Date.now(),n=function(){s&&s.startCall?s.startCall(e):Date.now()-t<5e3&&(y=setTimeout(n,50))};y&&clearTimeout(y),n()},w=function(e){var t=Date.now(),n=function(){s&&s.startGroupCall?s.startGroupCall(e):Date.now()-t<5e3&&(y=setTimeout(n,50))};y&&clearTimeout(y),n()};return c.createElement(c.Fragment,null,!Sie.callRestrict&&!!o&&o.permissions&&"thread"===o.type&&2===o.participantsCount&&c.createElement(c.Fragment,null,o&&o.permissions.canAudioCall&&c.createElement(c.Fragment,null,!0===o.permissions.canAudioCall&&c.createElement(aP,{showOnMobile:!1,content:Mie("Audio Call",'"Audio Call" Button Tooltip',"bp-better-messages")},c.createElement("span",{className:"audio-call",onClick:function(){b("audio")}},c.createElement(mX,null))),"string"==typeof o.permissions.canAudioCall&&c.createElement(aP,{showOnMobile:!1,content:o.permissions.canAudioCall},c.createElement("span",{className:"audio-call bm-disabled-button",onClick:function(){db(o.permissions.canAudioCall)}},c.createElement(mX,null)))),o&&o.permissions.canVideoCall&&c.createElement(c.Fragment,null,!0===o.permissions.canVideoCall&&c.createElement(aP,{showOnMobile:!1,content:Mie("Video Call",'"Video Call" Button Tooltip',"bp-better-messages")},c.createElement("span",{className:"video-call",onClick:function(){b("video")}},c.createElement(vX,null))),"string"==typeof o.permissions.canVideoCall&&c.createElement(aP,{showOnMobile:!1,content:o.permissions.canVideoCall},c.createElement("span",{className:"video-call bm-disabled-button",onClick:function(){db(o.permissions.canVideoCall)}},c.createElement(vX,null))))),o&&o.permissions&&o.permissions.canGroupAudio&&c.createElement(aP,{showOnMobile:!1,content:Mie("Audio Chat",'"Audio Chat" Button Tooltip',"bp-better-messages")},c.createElement("span",{className:"group-audio-call",onClick:function(){w("audio")}},c.createElement(kX,null))),o&&o.permissions&&o.permissions.canGroupVideo&&c.createElement(aP,{showOnMobile:!1,content:Mie("Video Chat",'"Video Chat" Button Tooltip',"bp-better-messages")},c.createElement("span",{className:"group-call",onClick:function(){w("video")}},c.createElement(CX,null))),o&&o.permissions.canMinimize&&!Yv()&&!n&&!i&&c.createElement(aP,{showOnMobile:!1,content:Mie("Minimize chat",'"Minimize conversation" Button Tooltip',"bp-better-messages")},c.createElement("span",{onClick:function(){See()||(X6(o.thread_id,!0),u&&e("/"))},className:"bpbm-minimize"},c.createElement(rX,null))),Sie.fullScreen&&c.createElement(c.Fragment,null,!n&&!i&&c.createElement(c.Fragment,null,c.createElement(aP,{showOnMobile:!1,content:Mie("Maximize",'"Maximize messages window" Button Tooltip',"bp-better-messages")},c.createElement("span",{onClick:function(){r(!0)},className:"bpbm-maximize"},c.createElement($J,{className:"bm-svg"})))),n&&!i&&c.createElement(c.Fragment,null,c.createElement(aP,{showOnMobile:!1,content:Mie("Minimize",'"Minimize messages window" Button Tooltip',"bp-better-messages")},c.createElement("span",{onClick:function(){r(!1)},className:"bpbm-minimize"},c.createElement(QJ,{className:"bm-svg"}))))),g.length>0&&c.createElement(aP,{content:Mie("More",'"Additional options" Button Tooltip',"bp-better-messages")},c.createElement("div",{className:"expandingButtons"+(f?" expandingButtonsOpen":""),onClick:function(){h(!f)}},c.createElement(RN,null),c.createElement(Rb,null,f&&c.createElement(c.Fragment,null,c.createElement(Ix.div,{ref:l,initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},exit:{opacity:0},className:"bpbm-dropdown-menu"},g.map((function(e){return c.createElement(aP,{key:e.key,content:e.tooltip},c.createElement("span",{onClick:e.onClick,className:"bpbm-dropdown-item "+e.classes},c.createElement("span",{className:"bpbm-dropdown-item-icon"},"string"==typeof e.icon?Gg(e.icon):e.icon),c.createElement("span",{className:"bpbm-dropdown-item-label"},e.label)))}))))))))}function H4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W4(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H4(Object(n),!0).forEach((function(t){(0,h.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H4(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function K4(e){var t=(e=W4(W4({},{userIds:[]}),e)).userIds,n=[],r=function(e){if(0===e.length)return[];var t=(0,c.useState)(null),n=(0,_.A)(t,2),r=n[0],i=n[1];return(0,c.useLayoutEffect)((function(){var t=zre.users.find({selector:{user_id:{$in:e}}}).$.subscribe({next:function(e){var t=[];e.map((function(e){t.push(e.toMutableJSON())})),i(t)},error:function(e){console.error("An error occurred, trying to reset database",e),lie()}});return function(){t.unsubscribe()}}),[e]),r}(t);return r&&r.length>0&&(n=r.map((function(e){return eP(e.name).result}))),c.createElement("div",{className:"bm-typing-container"},c.createElement("div",{className:"bm-typing bm-is-typing-active"},c.createElement("span",{className:"bm-typing__bullet"}),c.createElement("span",{className:"bm-typing__bullet"}),c.createElement("span",{className:"bm-typing__bullet"})),c.createElement("div",{className:"bm-typing-text"},0===t.length&&Mie("typing","Typing indicator (private conversation)","bp-better-messages"),t.length>0&&n.length>0&&n.length<=2&&c.createElement(c.Fragment,null,Lie(Nie("%s typing","%s typing",t.length,"Typing indicator (Username 1, Username 2 typing)","bp-better-messages"),n.join(", "))),t.length>0&&0===n.length&&c.createElement(c.Fragment,null,Lie(Nie("%s typing","%s typing",t.length,"Typing indicator (3 or more typing)","bp-better-messages"),t.length))))}function $4(e){var t=e.user;if(Sie.userStatuses&&t.status){var n=Sie.userStatuses.filter((function(e){return t.status.slug===e.slug}));if(n.length>0){var r=n.shift(),i=r.color,a=r.name;return c.createElement("div",{className:"last-online online-now",style:{color:i}},a)}}return c.createElement("div",{className:"last-online online-now"},Mie("Online","User online status","bp-better-messages"))}function G4(e){var t=wb(),n=V9(e.user_id,!1),r=GN(e.user_id),i=(0,c.useRef)();return(0,c.useEffect)((function(){i.current&&clearInterval(i.current),!n||r||n.lastActive.startsWith("1970-01-01")||(i.current=window.setInterval((function(){t()}),5e3))}),[n]),c.createElement(c.Fragment,null,n&&c.createElement(c.Fragment,null,r&&c.createElement($4,{user:n}),!r&&!n.lastActive.startsWith("1970-01-01")&&c.createElement("div",{className:"last-online"},Lie(Mie("Active %s","User online status (was active ago)","bp-better-messages"),yM(n.lastActive).toRelative({style:"short"})))))}function Q4(e){var t=function(e){var t=(0,c.useState)(0),n=(0,_.A)(t,2),r=n[0],i=n[1],a=function(e){var t=0;e.map((function(e){WN.has(e)&&t++})),i(t)};return(0,c.useEffect)((function(){a(e);var t=$N.subscribe({next:function(t){e.includes(t)&&a(e)}});return function(){t.unsubscribe()}}),[e]),r}((0,c.useMemo)((function(){var t=[];return e.thread.participants.map((function(e){t.push(e)})),t}),[e.thread.participants]));return c.createElement(c.Fragment,null,c.createElement("div",{className:"group-online"},Lie(Nie("%s participant","%s participants",e.thread.participantsCount,"Group Thread Participants Count","bp-better-messages"),e.thread.participantsCount),!!t&&t>0&&c.createElement("span",{className:"group-online-count"},Lie(" ("+Mie("%s online","Group Thread Online Participants Count","bp-better-messages")+")",t))))}function Y4(e){var t=e.typing,n=e.thread,r=e.showSubject,i=void 0===r||r,a=wb();(0,c.useEffect)((function(){return document.addEventListener("better-message-settings-changed",a),function(){document.removeEventListener("better-message-settings-changed",a)}}),[]);var o=!!Sie.ws,s=Sie.subName,u="hide"===s||!!n.botId,l=o&&"online"===s,d=null;if("thread"===n.type)if(2===n.participantsCount){var p=[];o&&t.length>0&&p.push(c.createElement(c.Fragment,{key:"typing-indicator"},c.createElement(K4,null))),u||0!==t.length||(!0===l&&p.push(c.createElement(c.Fragment,{key:"other-info"},c.createElement(G4,{user_id:n.participants[0]}))),!1===l&&""!==n.subject.trim()&&i&&p.push(c.createElement(c.Fragment,{key:"other-info"},n.subject))),p.length>0&&(d=c.createElement(c.Fragment,null,p))}else n.participantsCount>=3&&(d=c.createElement(c.Fragment,null,o&&t.length>0&&c.createElement(K4,{userIds:t}),0===t.length&&c.createElement(Q4,{thread:n})));else("group"===n.type||"chat-room"===n.type)&&(d=c.createElement(c.Fragment,null,o&&t.length>0&&c.createElement(K4,{userIds:t}),0===t.length&&c.createElement(Q4,{thread:n})));return d?c.createElement("div",{className:"sub-name"},d):null}var X4=new Wc,Z4=new Map;function J4(e){var t=new Map;return Z4.has(e)?t=Z4.get(e):Z4.set(e,t),t}function e5(){return t5.apply(this,arguments)}function t5(){return t5=(0,o.A)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:clearTimeout(undefined),Z4.size>0&&(t=_i.now().minus(3e3),Z4.forEach((function(e,n){e.forEach((function(n,r){n<=t&&e.delete(r)})),Z4.set(n,e),X4.next(n)}))),window.setTimeout((function(){e5()}),3e3);case 3:case"end":return e.stop()}}),e)}))),t5.apply(this,arguments)}function n5(e){var t=(0,c.useState)([]),n=(0,_.A)(t,2),r=n[0],i=n[1],a=function(){var t=J4(e),n=(0,z.A)(t.keys());i(n)};return(0,c.useEffect)((function(){a();var t=X4.subscribe({next:function(t){t===e&&a()}});return function(){t.unsubscribe()}}),[e]),r}function r5(e){var t=e.headerWidth,n=(0,c.useContext)(pN),r=n.root,i=n.callActive,a=n.mobileView,o=n.setMobileView,s=n.fullScreened,u=(0,c.useContext)(QK),l=u.threadId,d=u.thread,p=u.screen,f=u.setScreen,h=QB(),m=(0,c.useRef)(null),v=(0,c.useRef)(null),g=XW(m),y=(0,_.A)(g,1)[0].width,b=XW(v),w=(0,_.A)(b,1)[0].width,D=n5(l),A=(0,c.useMemo)((function(){return t-y-w}),[t,y,w]);if(isNaN(l)||0===l)return c.createElement(c.Fragment,null);var E={maxWidth:A},k=!1;d&&(d.participantsCount>=3&&(k=!0),d.adminAccess&&(k=!0));var C=null;if(d.image)if(d.image.startsWith("html:")){var x=d.image.substring(5);C=c.createElement("div",{className:"avatar bbpm-avatar",dangerouslySetInnerHTML:{__html:x}})}else C=c.createElement("span",{className:"avatar bbpm-avatar"},c.createElement("img",{src:d.image,className:"avatar avatar-30 photo",width:"30",height:"30",alt:d.title}));return c.createElement(c.Fragment,null,"messages"!==p&&c.createElement(c.Fragment,null,c.createElement("span",{onClick:function(){f("messages")},className:"back"},c.createElement(hX,null)),c.createElement("span",{className:"bm-chat-header-title"},Rie("Conversation information","bp-better-messages"))),"messages"===p&&c.createElement(c.Fragment,null,h&&!i&&c.createElement(aP,{showOnMobile:!1,content:Mie("Back",'"Back" Button Tooltip',"bp-better-messages")},c.createElement(rN,{ref:m,to:"/",className:"back"},c.createElement(hX,null))),c.createElement(aP,{placement:"top-start",content:Rie("Conversation information","bp-better-messages")},c.createElement("div",{onClick:function(){f("settings")},className:"thread-info",style:E},d&&c.createElement(c.Fragment,null,c.createElement(c.Fragment,null,"thread"===d.type&&c.createElement(c.Fragment,null,1===d.participantsCount&&c.createElement(c.Fragment,null,Rie("Deleted user","bp-better-messages")),!1===k&&d.participantsCount>1&&c.createElement(c.Fragment,null,c.createElement(rM,{user_id:d.participants[0],link:!1,size:30}),c.createElement("div",{className:"thread-info-data"},c.createElement(vM,{link:!1,user_id:d.participants[0]}),c.createElement(Y4,{typing:D,thread:d}))),!0===k&&c.createElement(c.Fragment,null,c.createElement("div",{className:"avatar-group avatars-count-"+d.participants.length},d.participants.slice(0,4).map((function(e){return c.createElement(rM,{key:"avatar_"+e,user_id:e,link:!1,size:15})}))),c.createElement("div",{className:"thread-info-data"},""!==d.subject&&c.createElement(c.Fragment,null,c.createElement("div",{className:"name",title:d.title},c.createElement("strong",null,d.subject))),""===d.subject&&c.createElement(c.Fragment,null,Lie(Nie("%s participant","%s participants",d.participantsCount,"Group Thread Participants Count","bp-better-messages"),d.participantsCount)),c.createElement(Y4,{typing:D,thread:d})))),"group"===d.type&&c.createElement(c.Fragment,null,d.image&&C,c.createElement("div",{className:"thread-info-data"},c.createElement("div",{className:"name"},d.title),c.createElement(Y4,{typing:D,thread:d}))),"chat-room"===d.type&&c.createElement(c.Fragment,null,d.image&&C,!d.image&&c.createElement("div",{className:"avatar-group"},d.participants.slice(0,4).map((function(e){return c.createElement(rM,{key:"avatar_"+e,user_id:e,link:!1,size:15})}))),c.createElement("div",{className:"thread-info-data"},c.createElement("div",{className:"name",title:d.title},d.title),c.createElement(Y4,{typing:D,thread:d}))))))),c.createElement("div",{className:"thread-actions",ref:v},!d&&c.createElement(c.Fragment,null,c.createElement("div",{style:{position:"relative",width:"200px",height:"20px",marginRight:"10px",borderRadius:"4px",overflow:"hidden"}},c.createElement(qN,null))),"messages"===p&&c.createElement(q4,null),"messages"!==p&&c.createElement(c.Fragment,null,c.createElement(aP,{showOnMobile:!1,content:Mie("Close",'"Close" Button Tooltip',"bp-better-messages")},c.createElement("span",{onClick:function(){f("messages")},className:"participants",style:{cursor:"pointer"}},c.createElement($x,null)))),s&&!i&&c.createElement(c1,null),a&&"messages"===p&&!i&&c.createElement("span",{className:"mobileClose",onClick:function(){s1(r,o)}},c.createElement(gX,{className:"bm-svg"})))))}function i5(e){return a5.apply(this,arguments)}function a5(){return a5=(0,o.A)(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!yb()){e.next=4;break}return e.next=4,Y9(!0,{chatId:t});case 4:return e.next=6,pie.post("/chat/"+t+"/join");case 6:n=e.sent,r=n.data,Wie("better_messages_chat_room_join",r.result,t),gK(r),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),hb(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),a5.apply(this,arguments)}function o5(){var e=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,c.useState)(t),r=(0,_.A)(n,2),i=r[0],a=r[1];return(0,c.useEffect)((function(){var n=zre.settings.findOne(e).$.subscribe({next:function(e){a(e?JSON.parse(e.get("value")):t)},error:function(e){console.error("An error occurred, trying to reset database",e),lie()}});return function(){n.unsubscribe()}}),[e]),i}("guest-auth",!1);return e?c.createElement("div",{className:"bm-guest-info"},c.createElement("div",{className:"bm-guest-info-label"},Mie("Chatting as","Not logged-in user","bp-better-messages")," ",c.createElement("strong",null,e.name),c.createElement("span",{className:"bm-open-guest-settings",onClick:function(){cP("guest-settings-panel",Mie("Guest Settings","Moderation actions","bp-better-messages"),c.createElement(b1,null))}},"(",Rie("Change","bp-better-messages"),")")),c.createElement("div",{className:"bm-guest-info-actions"},c.createElement("a",{href:Sie.loginUrl},Rie("Login","bp-better-messages")),Sie.registerUrl&&c.createElement("a",{href:Sie.registerUrl},Rie("Register","bp-better-messages")))):null}function s5(e){var t=e.thread,n=(0,c.useState)(!1),r=(0,_.A)(n,2),i=r[0],a=r[1];return c.createElement(dP,{label:t.chatRoom.guestButtonText,classes:"bm-no-link-style bpbm-join-to-chat-button",disabled:i,onClick:(0,o.A)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:cP("guest-settings-panel",Rie("Continue as guest","bp-better-messages"),c.createElement(tee,{showLogin:!1,forceGuest:!0,showGuestSubHeader:!1,registerProps:{chatId:t.chatRoom.id},completeAction:(0,o.A)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),e.next=3,i5(t.chatRoom.id);case 3:a(!1);case 4:case"end":return e.stop()}}),e)})))}));case 1:case"end":return e.stop()}}),e)})))})}function u5(e,t){return c5.apply(this,arguments)}function c5(){return(c5=(0,o.A)(u().mark((function e(t,n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pie.post("thread/"+t+"/changeSubject",{subject:n});case 3:r=e.sent,gK(r.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),hb(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function l5(){return l5=(0,o.A)(u().mark((function e(t,n){var r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H9(n);case 2:if(r=e.sent){e.next=5;break}return e.abrupt("return");case 5:if(confirm(Lie(Mie("Make %s moderator in this conversation?","Making user a moderator in the conversation","bp-better-messages"),r.name))){e.next=7;break}return e.abrupt("return",!1);case 7:i=new Promise((function(e,r){pie.post("thread/"+t+"/makeModerator",{user_id:n}).then(function(){var t=(0,o.A)(u().mark((function t(n){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.data?e(!0):r(Mie("Error while making moderator","Making user a moderator in the conversation","bp-better-messages"));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){r(pb(e,Mie("Error while making moderator","Making user a moderator in the conversation","bp-better-messages")))}))}));try{Hy.promise(i,{pending:{render:function(){return Lie(Mie("Making %s moderator","Making user a moderator in the conversation","bp-better-messages"),r.name)},theme:"dark"},success:{render:function(){return c.createElement("div",{className:"bm-deleted-message"},c.createElement("p",null,Lie(Mie("%s is moderator now","Making user a moderator in the conversation","bp-better-messages"),r.name)))},theme:"colored",type:"info"},error:{render:function(e){var t=e.data;return Gg(t)},theme:"colored",type:"error",autoClose:!1}},{className:"bm-toasts",position:"bottom-right",autoClose:5e3,theme:"colored",hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}catch(e){hb(e)}case 9:case"end":return e.stop()}}),e)}))),l5.apply(this,arguments)}function d5(){return d5=(0,o.A)(u().mark((function e(t,n){var r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H9(n);case 2:if(r=e.sent){e.next=5;break}return e.abrupt("return");case 5:if(confirm(Lie(Mie("Unmake %s moderator in this conversation?","Unmaking user a moderator in the conversation","bp-better-messages"),r.name))){e.next=7;break}return e.abrupt("return",!1);case 7:i=new Promise((function(e,r){pie.post("thread/"+t+"/unmakeModerator",{user_id:n}).then(function(){var t=(0,o.A)(u().mark((function t(n){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.data?e(!0):r(Mie("Error while unmaking moderator","Unmaking user a moderator in the conversation","bp-better-messages"));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){r(pb(e,Mie("Error while unmaking moderator","Unmaking user a moderator in the conversation","bp-better-messages")))}))}));try{Hy.promise(i,{pending:{render:function(){return Lie(Mie("Unmaking %s moderator","Unmaking user a moderator in the conversation","bp-better-messages"),r.name)},theme:"dark"},success:{render:function(){return c.createElement("div",{className:"bm-deleted-message"},c.createElement("p",null,Lie(Mie("%s is not moderator anymore","Unmaking user a moderator in the conversation","bp-better-messages"),r.name)))},theme:"colored",type:"info"},error:{render:function(e){var t=e.data;return Gg(t)},theme:"colored",type:"error",autoClose:!1}},{className:"bm-toasts",position:"bottom-right",autoClose:5e3,theme:"colored",hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}catch(e){hb(e)}case 9:case"end":return e.stop()}}),e)}))),d5.apply(this,arguments)}function p5(){return p5=(0,o.A)(u().mark((function e(t,n){var r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H9(n);case 2:if(r=e.sent){e.next=5;break}return e.abrupt("return");case 5:if(confirm(Lie(Mie("Remove %s from this conversation?","Remove user from the conversation","bp-better-messages"),r.name))){e.next=7;break}return e.abrupt("return",!1);case 7:i=new Promise((function(e,r){pie.post("thread/"+t+"/removeParticipant",{user_id:n}).then(function(){var t=(0,o.A)(u().mark((function t(n){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.data?e(!0):r(Mie("Error while removing participant","Remove participant action","bp-better-messages"));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){r(pb(e,Mie("Error while removing participant","Remove participant action","bp-better-messages")))}))}));try{Hy.promise(i,{pending:{render:function(){return Mie("Removing participant","Remove participant action","bp-better-messages")},theme:"dark"},success:{render:function(){return c.createElement("div",{className:"bm-deleted-message"},c.createElement("p",null,Mie("Participant removed","Remove participant action","bp-better-messages")))},theme:"colored",type:"info"},error:{render:function(e){var t=e.data;return Gg(t)},theme:"colored",type:"error",autoClose:!1}},{className:"bm-toasts",position:"bottom-right",autoClose:5e3,theme:"colored",hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}catch(e){hb(e)}case 9:case"end":return e.stop()}}),e)}))),p5.apply(this,arguments)}var f5=(0,c.createContext)({}),h5=()=>(0,c.useContext)(f5),m5=e=>c.createElement(f5.Provider,{...e});var v5=function(){let e=new Map;return{on(t,n){return e.has(t)?e.get(t).add(n):e.set(t,new Set([n])),this},off(t,n){return e.has(t)&&e.get(t).delete(n),this},emit(t,n){return e.has(t)&&e.get(t).forEach((e=>{e(n)})),this}}}(),g5=()=>(0,c.useRef)(new Map).current,y5=()=>{},b5=["resize","contextmenu","click","scroll","blur"],w5={show({event:e,id:t,props:n,position:r}){e.preventDefault&&e.preventDefault(),v5.emit(0).emit(t,{event:e.nativeEvent||e,props:n,position:r})},hideAll(){v5.emit(0)}};function D5(e){return{show(t){w5.show({...e,...t})},hideAll(){w5.hideAll()}}}function A5(){let e,t,n,r,i=new Map,a=!1;function o(){r[e].node.focus()}function s(){return-1!==e||(u(),!1)}function u(){e+1<r.length?e++:e+1===r.length&&(e=0),a&&c(),o()}function c(){if(s()&&!n){let s=i.get(t);t.classList.remove("contexify_submenu-isOpen"),r=s.items,t=s.parentNode,s.isRoot&&(n=!0,i.clear()),a||(e=s.focusedIndex,o())}}return{init:function(t){r=Array.from(t.values()),e=-1,n=!0},moveDown:u,moveUp:function(){-1===e||0===e?e=r.length-1:e-1<r.length&&e--,a&&c(),o()},openSubmenu:function(){if(s()&&e>=0&&r[e].isSubmenu){let s=Array.from(r[e].submenuRefTracker.values()),{node:u,setSubmenuPosition:c}=r[e];return i.set(u,{isRoot:n,focusedIndex:e,parentNode:t||u,items:r}),c(),u.classList.add("contexify_submenu-isOpen"),t=u,s.length>0?(e=0,r=s):a=!0,n=!1,o(),!0}return!1},closeSubmenu:c,matchKeys:function(e){!function t(n){for(let r of n)r.isSubmenu&&r.submenuRefTracker&&t(Array.from(r.submenuRefTracker.values())),r.keyMatcher&&r.keyMatcher(e)}(r)}}}function E5(e){return"function"==typeof e}function k5(e){return"string"==typeof e}function C5(e,t){return c.Children.map(c.Children.toArray(e).filter(Boolean),(e=>(0,c.cloneElement)(e,t)))}function _5(e,t){return E5(e)?e(t):e}function x5(e,t){return{...e,...E5(t)?t(e):t}}var S5=({id:e,theme:t,style:n,className:r,children:i,animation:a="fade",preventDefaultOnKeydown:o=!0,disableBoundariesCheck:s=!1,onVisibilityChange:u,...l})=>{let[d,p]=(0,c.useReducer)(x5,{x:0,y:0,visible:!1,triggerEvent:{},propsFromTrigger:null,willLeave:!1}),f=(0,c.useRef)(null),h=g5(),[m]=(0,c.useState)((()=>A5())),v=(0,c.useRef)(),g=(0,c.useRef)();function y(e,t){if(f.current&&!s){let{innerWidth:n,innerHeight:r}=window,{offsetWidth:i,offsetHeight:a}=f.current;e+i>n&&(e-=e+i-n),t+a>r&&(t-=t+a-r)}return{x:e,y:t}}function b({event:e,props:t,position:n}){e.stopPropagation();let r=n||function(e){let t={x:e.clientX,y:e.clientY},n=e.changedTouches;return n&&(t.x=n[0].clientX,t.y=n[0].clientY),(!t.x||t.x<0)&&(t.x=0),(!t.y||t.y<0)&&(t.y=0),t}(e),{x:i,y:a}=y(r.x,r.y);(0,rT.flushSync)((()=>{p({visible:!0,willLeave:!1,x:i,y:a,triggerEvent:e,propsFromTrigger:t})})),clearTimeout(g.current),!v.current&&E5(u)&&(u(!0),v.current=!0)}function w(e){null!=e&&(2===e.button||e.ctrlKey)&&"contextmenu"!==e.type||(a&&(k5(a)||"exit"in a&&a.exit)?p((e=>({willLeave:e.visible}))):p((e=>({visible:!e.visible&&e.visible}))),g.current=setTimeout((()=>{E5(u)&&u(!1),v.current=!1})))}(0,c.useEffect)((()=>(v5.on(e,b).on(0,w),()=>{v5.off(e,b).off(0,w)})),[e,a,s]),(0,c.useEffect)((()=>{d.visible?m.init(h):h.clear()}),[d.visible,m,h]),(0,c.useEffect)((()=>{d.visible&&p(y(d.x,d.y))}),[d.visible]),(0,c.useEffect)((()=>{function e(e){o&&e.preventDefault()}function t(t){switch(t.key){case"Enter":case" ":m.openSubmenu()||w();break;case"Escape":w();break;case"ArrowUp":e(t),m.moveUp();break;case"ArrowDown":e(t),m.moveDown();break;case"ArrowRight":e(t),m.openSubmenu();break;case"ArrowLeft":e(t),m.closeSubmenu();break;default:m.matchKeys(t)}}if(d.visible){window.addEventListener("keydown",t);for(let e of b5)window.addEventListener(e,w)}return()=>{window.removeEventListener("keydown",t);for(let e of b5)window.removeEventListener(e,w)}}),[d.visible,m,o]);let{visible:D,triggerEvent:A,propsFromTrigger:E,x:k,y:C,willLeave:_}=d,x=Ey("contexify",r,{[`contexify_theme-${t}`]:t},k5(a)?Ey({[`contexify_willEnter-${a}`]:D&&!_,[`contexify_willLeave-${a} contexify_willLeave-'disabled'`]:D&&_}):a&&"enter"in a&&"exit"in a?Ey({[`contexify_willEnter-${a.enter}`]:a.enter&&D&&!_,[`contexify_willLeave-${a.exit} contexify_willLeave-'disabled'`]:a.exit&&D&&_}):null);return c.createElement(m5,{value:h},D&&c.createElement("div",{...l,className:x,onAnimationEnd:function(){d.willLeave&&d.visible&&(0,rT.flushSync)((()=>p({visible:!1,willLeave:!1})))},style:{...n,left:k,top:C,opacity:1},ref:f,role:"menu"},C5(i,{propsFromTrigger:E,triggerEvent:A})))},T5=({id:e,children:t,className:n,style:r,triggerEvent:i,data:a,propsFromTrigger:o,keyMatcher:s,onClick:u=y5,disabled:l=!1,hidden:d=!1,closeOnClick:p=!0,handlerEvent:f="onClick",...h})=>{let m=(0,c.useRef)(),v=h5(),g={id:e,data:a,triggerEvent:i,props:o},y=_5(l,g);function b(){let e=m.current;e.focus(),e.addEventListener("animationend",(()=>setTimeout(w5.hideAll)),{once:!0}),e.classList.add("contexify_item-feedback"),u(g)}return _5(d,g)?null:c.createElement("div",{...h,[f]:function(e){g.event=e,e.stopPropagation(),y||(p?b():u(g))},className:Ey("contexify_item",n,{"contexify_item-disabled":y}),style:r,onKeyDown:function(e){("Enter"===e.key||" "===e.key)&&(e.stopPropagation(),g.event=e,b())},ref:function(e){e&&!y&&(m.current=e,v.set(e,{node:e,isSubmenu:!1,keyMatcher:!y&&E5(s)&&(e=>{s(e)&&(e.stopPropagation(),e.preventDefault(),g.event=e,b())})}))},tabIndex:-1,role:"menuitem","aria-disabled":y},c.createElement("div",{className:"contexify_itemContent"},t))};function F5(e){var t=e.userId,n=e.showActions,r=void 0!==n&&n,i=V9(t),a=!!Sie.ws;return c.createElement("div",{className:"bm-user-popup"},c.createElement("div",{className:"bm-user-popup-left"},c.createElement("div",{className:"bm-user-popup-avatar"},c.createElement(rM,{user_id:t,size:50,link:!1}))),c.createElement("div",{className:"bm-user-popup-right"},c.createElement("div",{className:"bm-user-popup-user-info"},c.createElement("div",{className:"bm-user-popup-name"},c.createElement(vM,{raw:!0,user_id:t})),a&&c.createElement(G4,{user_id:t})),r&&c.createElement(c.Fragment,null,i&&c.createElement("div",{className:"bm-user-popup-actions"},i.url&&c.createElement("a",{className:"bm-style-btn",target:"_blank",href:i.url},Mie("User profile","Users List","bp-better-messages"))))))}function O5(){return(O5=(0,o.A)(u().mark((function e(t,n,r){var i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pie.post("thread/"+t+"/muteUser",{user_id:n,duration:r});case 3:return gK((i=e.sent).data),e.abrupt("return",i.data);case 8:e.prev=8,e.t0=e.catch(0),hb(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function P5(e){var t=e.threadId,n=e.userId,r=(0,c.useState)(1),i=(0,_.A)(r,2),a=i[0],o=i[1],s=(0,c.useState)(60),u=(0,_.A)(s,2),l=u[0],d=u[1];return c.createElement("div",{className:"bm-moderation-actions-panel"},c.createElement(F5,{userId:n}),c.createElement("div",{className:"bm-moderation-actions-form"},c.createElement("label",null,Mie("Mute user for","Moderation actions","bp-better-messages")),c.createElement("div",{className:"bm-moderation-actions-row"},c.createElement("div",null,c.createElement("input",{type:"number",placeholder:"",value:a,min:1,max:9999,onChange:function(e){var t=e.target.value;if(""===t.trim())o("");else{var n=Number(t);n<1?n=1:n>9999&&(n=9999),o(n)}}})),c.createElement("div",null,c.createElement("select",{value:l,onChange:function(e){d(Number(e.target.value))}},c.createElement("option",{value:1},Rie("Minutes","bp-better-messages")),c.createElement("option",{value:60},Rie("Hours","bp-better-messages")),c.createElement("option",{value:1440},Rie("Days","bp-better-messages"))))),c.createElement(dP,{disabled:!a,onClick:function(){a&&(!function(e,t,n){O5.apply(this,arguments)}(t,n,a*l),lP("moderation-panel"))},classes:"bm-moderation-actions-button",label:Mie("Mute","Moderation actions","bp-better-messages")})))}function I5(){return(I5=(0,o.A)(u().mark((function e(t,n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pie.post("thread/"+t+"/unmuteUser",{user_id:n});case 3:return gK((r=e.sent).data),e.abrupt("return",r.data);case 8:e.prev=8,e.t0=e.catch(0),hb(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function B5(){return(B5=(0,o.A)(u().mark((function e(t,n,r){var i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pie.post("thread/"+t+"/banUser",{user_id:n,duration:r});case 3:return gK((i=e.sent).data),e.abrupt("return",i.data);case 8:e.prev=8,e.t0=e.catch(0),hb(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function R5(e){var t=e.threadId,n=e.userId,r=(0,c.useState)(1),i=(0,_.A)(r,2),a=i[0],o=i[1],s=(0,c.useState)(60),u=(0,_.A)(s,2),l=u[0],d=u[1];return c.createElement("div",{className:"bm-moderation-actions-panel"},c.createElement(F5,{userId:n}),c.createElement("div",{className:"bm-moderation-actions-form"},c.createElement("label",null,Mie("Ban user for","Moderation actions","bp-better-messages")),c.createElement("div",{className:"bm-moderation-actions-row"},c.createElement("div",null,c.createElement("input",{type:"number",placeholder:"",value:a,min:1,max:9999,onChange:function(e){var t=e.target.value;if(""===t.trim())o("");else{var n=Number(t);n<1?n=1:n>9999&&(n=9999),o(n)}}})),c.createElement("div",null,c.createElement("select",{value:l,onChange:function(e){d(Number(e.target.value))}},c.createElement("option",{value:1},Rie("Minutes","bp-better-messages")),c.createElement("option",{value:60},Rie("Hours","bp-better-messages")),c.createElement("option",{value:1440},Rie("Days","bp-better-messages"))))),c.createElement(dP,{disabled:!a,onClick:function(){a&&(!function(e,t,n){B5.apply(this,arguments)}(t,n,a*l),lP("moderation-panel"))},classes:"bm-moderation-actions-button",label:Mie("Ban","Moderation actions","bp-better-messages")})))}function N5(){return(N5=(0,o.A)(u().mark((function e(t,n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pie.post("thread/"+t+"/unbanUser",{user_id:n});case 3:return gK((r=e.sent).data),e.abrupt("return",r.data);case 8:e.prev=8,e.t0=e.catch(0),hb(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function M5(e){var t=e.unique_id,n=e.thread,r=e.user_id,i=e.isThreadLevelModerator,a=e.isModerator,o=e.muted,s=void 0===o?0:o,u=e.banned,l=void 0===u?0:u,d=e.hideButtons,p=void 0!==d&&d,f=V9(r),h=(0,c.useContext)(pN).routerType,m=Jy(),v=D5({id:"user-item-context-"+t+"-"+r}),g=v.show,y=v.hideAll,b=[],w=[];f&&(m>0||m<0&&Sie.guests)&&(r>0||Sie.guests)&&(p?b.push({key:"private-message",label:Mie("Private Message","Users List","bp-better-messages"),icon:c.createElement(qx,null),onClick:function(){oee(f.user_id,h,!1,!0)}}):w.push(c.createElement(aP,{key:"private-message",content:Mie("Private Message","Users List","bp-better-messages")},c.createElement("span",{onClick:function(e){e.stopPropagation();var t=!!e.target.closest(".bp-messages-full-screen-thread-wrap");oee(f.user_id,h,t,!0)},className:"bm-private-message"},c.createElement(qx,null))))),yb()||(!Sie.callRestrict&&f&&f.canAudio&&(p?b.push({key:"audio-call",label:Mie("Audio Call","Users List","bp-better-messages"),icon:c.createElement(Vx,null),onClick:function(){T0(f.user_id,"audio",h)}}):w.push(c.createElement(aP,{key:"audio-call",content:Mie("Audio Call","Users List","bp-better-messages")},c.createElement("span",{onClick:function(e){e.stopPropagation(),T0(f.user_id,"audio",h)},className:"bpbm-audio-call"},c.createElement(Vx,null))))),!Sie.callRestrict&&f&&f.canVideo&&(p?b.push({key:"video-call",label:Mie("Video Call","Users List","bp-better-messages"),icon:c.createElement(oS,null),onClick:function(){T0(f.user_id,"video",h)}}):w.push(c.createElement(aP,{key:"video-call",content:Mie("Video Call","Users List","bp-better-messages")},c.createElement("span",{onClick:function(e){e.stopPropagation(),T0(f.user_id,"video",h)},className:"bpbm-video-call"},c.createElement(oS,null)))))),(Sie.isAdmin||i)&&("chat-room"===n.type||"thread"===n.type&&n.participantsCount>2)&&!l&&r>0&&(a?b.push({key:"unmake-moderator",label:Mie("Remove from moderators","Users List","bp-better-messages"),icon:c.createElement(TN,null),onClick:function(e){!function(e,t){d5.apply(this,arguments)}(n.thread_id,r)}}):b.push({key:"make-moderator",label:Mie("Promote to moderator","Users List","bp-better-messages"),icon:c.createElement(FN,null),onClick:function(e){!function(e,t){l5.apply(this,arguments)}(n.thread_id,r)}})),f&&1===f.canBlock&&0===f.blocked&&b.push({key:"block-user",label:Mie("Block user",'"Block user" Button',"bp-better-messages"),icon:c.createElement(ZJ,null),onClick:function(e){P4(f.user_id)}}),f&&1===f.blocked&&b.push({key:"unblock-user",label:Mie("Unblock user",'"Unblock user" Button',"bp-better-messages"),icon:c.createElement(XJ,null),onClick:function(e){R4(f.user_id)}});var D=!!Sie.isAdmin||i;!D||"thread"!==n.type&&"chat-room"!==n.type||(l?b.push({key:"unban-user",label:Mie("Unban user","Moderation actions","bp-better-messages"),icon:c.createElement(pM,null),onClick:function(e){!function(e,t){N5.apply(this,arguments)}(n.thread_id,r)}}):(b.push({key:"remove-participant",label:Mie("Kick participant","Remove user from the conversation","bp-better-messages"),icon:c.createElement(zx,null),onClick:function(e){!function(e,t){p5.apply(this,arguments)}(n.thread_id,r)}}),"chat-room"===n.type&&(s?b.push({key:"unmute-user",label:Mie("Unmute user","Moderation actions","bp-better-messages"),icon:c.createElement(X0,null),onClick:function(e){!function(e,t){I5.apply(this,arguments)}(n.thread_id,r)}}):b.push({key:"mute-user",label:Mie("Mute user","Moderation actions","bp-better-messages"),icon:c.createElement(Z0,null),onClick:function(e){cP("moderation-panel",Mie("Mute user","Moderation actions","bp-better-messages"),c.createElement(P5,{threadId:n.thread_id,userId:r}))}}),b.push({key:"ban-user",label:Mie("Ban user","Moderation actions","bp-better-messages"),icon:c.createElement(pM,null),onClick:function(e){cP("moderation-panel",Mie("Ban user","Moderation actions","bp-better-messages"),c.createElement(R5,{threadId:n.thread_id,userId:r}))}}))));var A=[];if(r<0&&A.push(c.createElement(aP,{key:"anonymous",content:Mie("Anonymous User","Not logged-in user","bp-better-messages")},c.createElement("span",null,c.createElement(CN,null)))),D){if(s){var E=_i.fromSeconds(s,{zone:"UTC"}).toLocal().toLocaleString(_i.DATETIME_MED_WITH_SECONDS);A.push(c.createElement(aP,{key:"muted",content:Lie(Mie("Muted until %s","Moderation actions","bp-better-messages"),E)},c.createElement("span",null,c.createElement(F4,null))))}if(l){var k=_i.fromSeconds(l,{zone:"UTC"}).toLocal().toLocaleString(_i.DATETIME_MED_WITH_SECONDS);A.push(c.createElement("span",{key:"banned",className:"bm-banned-label"}," ",Lie(Mie("Banned until %s","Moderation actions","bp-better-messages"),k)))}}return c.createElement("div",{className:"user threads-list-item not-clickable"},c.createElement("div",{className:"pic"},c.createElement(rM,{user_id:r,size:30})),c.createElement(vM,{user_id:r,moderator:a}),A.length>0&&c.createElement(c.Fragment,null,c.createElement("span",{className:"threads-list-item-note"},A)),r!==m&&c.createElement("div",{className:"actions"},!p&&w.length>0&&c.createElement(c.Fragment,null,w),b.length>0&&c.createElement(c.Fragment,null,c.createElement(aP,{content:Mie("More",'"Additional options" Button Tooltip',"bp-better-messages")},c.createElement("span",{className:"bm-more-actions",onClick:function(e){e.preventDefault(),e.stopPropagation(),document.querySelector("#user-item-context-"+r)?y():g({event:e})}},c.createElement(RN,null))),(0,rT.createPortal)(c.createElement(S5,{style:{zIndex:"1000"},animation:!1,id:"user-item-context-"+t+"-"+r},b.map((function(e){return c.createElement(T5,{key:e.key,onClick:e.onClick},e.icon&&c.createElement(c.Fragment,null,e.icon),c.createElement("span",{style:{marginLeft:e.icon?5:0}},e.label))})),c.createElement("span",{id:"user-item-context-"+t+"-"+r,className:"user-item-context-menu",style:{display:"none"}})),document.querySelector("body")))))}function L5(){return(L5=(0,o.A)(u().mark((function e(t,n,r){var i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pie.post("thread/"+t+"/searchParticipants",{search:n},{signal:r.signal});case 3:return i=e.sent,(a=i.data).length>0&&(K9(a),a.map((function(e){O9.users.add(e.user_id)}))),e.abrupt("return",a);case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function j5(e){var t=e.container,n=(0,c.useContext)(QK).thread,r=(0,c.useState)("participants"),i=(0,_.A)(r,2),a=i[0],o=i[1],s=(0,c.useState)(50),u=(0,_.A)(s,2),l=u[0],d=u[1],p=(0,c.useState)(!1),f=(0,_.A)(p,2),h=f[0],m=f[1],v=(0,c.useState)(""),g=(0,_.A)(v,2),y=g[0],b=g[1],w=(0,c.useState)(),D=(0,_.A)(w,2),A=D[0],E=D[1],k=(0,c.useRef)();(0,c.useEffect)((function(){return t.current.addEventListener("scroll",S),function(){var e;null===(e=t.current)||void 0===e||e.removeEventListener("scroll",S)}}),[t.current]);var C=GK(y,500),x=(0,_.A)(C,1)[0];(0,c.useEffect)((function(){k.current&&k.current.abort(),""===y&&(m(!1),E(null),d(50))}),[y]),(0,c.useEffect)((function(){if(""!==x){var e=new AbortController;k.current=e,m(!0),function(e,t,n){return L5.apply(this,arguments)}(n.thread_id,x,e).then((function(e){e&&E(e.map((function(e){return e.user_id})))})).finally((function(){m(!1),d(50)}))}}),[x]);var S=function(e){var t=e.target;t.scrollHeight-t.clientHeight-t.scrollTop<100&&d((function(e){return e+50}))},T=n.permissions&&n.permissions.isModerator||n.moderators&&n.moderators.length>0&&n.moderators.includes(Jy()),F=(0,c.useMemo)((function(){return n.participants?n.participants.filter((function(e){return e<0})):[]}),[n.participants]),O=(0,c.useMemo)((function(){var e=[];if(n.participants){if(e=(0,z.A)(n.participants),A&&(e=A),D9.map((function(t){var n=e.indexOf(t);-1!==n&&(delete e[n],e.unshift(t))})),"guests"===a&&F.length>0&&(e=e.filter((function(e){return F.includes(e)}))),"moderators"===a&&(e=e.filter((function(e){return n.moderators.includes(e)}))),"chat-room"===n.type&&n.restricted){if("muted"===a&&n.restricted.mute){var t=Object.keys(n.restricted.mute).map(Number);e=e.filter((function(e){return t.includes(e)}))}"banned"===a&&n.restricted.ban&&(e=Object.keys(n.restricted.ban).map(Number))}e=e.slice(0,l)}return e}),[n.participants,n.moderators,F,D9,A,a,l]),P=(0,c.useMemo)((function(){var e=[];return n.moderators&&n.moderators.length>0&&e.push(c.createElement("div",{key:"filter-moderators",className:"bm-thread-info-tab "+("moderators"===a?"bm-thread-info-tab-active":""),onClick:function(){o("moderators"),d(50)}},Mie("Moderators","Users List","bp-better-messages"))),F.length>0&&e.push(c.createElement("div",{key:"filter-guests",className:"bm-thread-info-tab "+("guests"===a?"bm-thread-info-tab-active":""),onClick:function(){o("guests"),d(50)}},Mie("Anonymous","Users List","bp-better-messages"))),n.restricted&&T&&(n.restricted.mute&&e.push(c.createElement("div",{key:"filter-muted",className:"bm-thread-info-tab "+("muted"===a?"bm-thread-info-tab-active":""),onClick:function(){o("muted"),d(50)}},Mie("Muted","Users List","bp-better-messages"))),n.restricted.ban&&e.push(c.createElement("div",{key:"filter-banned",className:"bm-thread-info-tab "+("banned"===a?"bm-thread-info-tab-active":""),onClick:function(){o("banned"),d(50)}},Mie("Banned","Users List","bp-better-messages")))),e}),[n.participants,n.moderators,F,n.restricted,T,a]);return c.createElement("div",{className:"bm-thread-info-tabs"},c.createElement(VY,{options:{overflow:{x:"scroll",y:"hidden"}}},c.createElement("div",{className:"bm-thread-info-tabs-head"},c.createElement("div",{className:"bm-thread-info-tab "+("participants"===a?"bm-thread-info-tab-active":""),onClick:function(){o("participants"),d(50)}},Mie("Participants","Conversation information","bp-better-messages")),P.map((function(e){return e})))),c.createElement("div",{className:"bm-thread-info-tabs-content"},c.createElement("div",{className:"participants-panel"},c.createElement("div",{className:"bp-messages-user-list",style:{height:"auto"}},O&&c.createElement(c.Fragment,null,c.createElement("div",{className:"bm-user-search-wrap"},c.createElement("input",{className:"bm-user-search",type:"text",placeholder:Mie("Search...","Search input field placeholder","bp-better-messages"),value:y,onChange:function(e){b(e.target.value)}})),h&&c.createElement(VN,null),!h&&c.createElement(c.Fragment,null," ",O.map((function(e){var t=n.moderators&&n.moderators.length>0&&n.moderators.includes(e),r=n.restricted&&n.restricted.mute&&void 0!==n.restricted.mute[e]?n.restricted.mute[e]:0,i=n.restricted&&n.restricted.ban&&void 0!==n.restricted.ban[e]?n.restricted.ban[e]:0;return c.createElement(M5,{unique_id:"thread-participants-list-item",key:"user-list-item-thread-"+e,user_id:e,thread:n,muted:r,banned:i,isModerator:t,isThreadLevelModerator:T})}))," "))))))}function U5(){return(U5=(0,o.A)(u().mark((function e(t,n,r){var i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pie.post("thread/"+t+"/changeMeta",{key:n,value:r});case 3:i=e.sent,gK(i.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),hb(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function z5(){var e=(0,c.useContext)(QK),t=e.thread,n=(e.setScreen,(0,c.useRef)()),r=t.permissions&&t.permissions.isModerator,i=Hie("better_messages_participants_list_after","",t),a=q9(t),o=V4(t,a).filter((function(e){return!0===e.showInThread})),s=null;if(t.image)if(t.image.startsWith("html:")){var u=t.image.substring(5);s=c.createElement("div",{className:"avatar bbpm-avatar",dangerouslySetInnerHTML:{__html:u}})}else s=c.createElement("span",{className:"avatar bbpm-avatar"},c.createElement("img",{src:t.image,className:"avatar avatar-30 photo",width:"30",height:"30",alt:t.title}));return c.createElement(Ix.div,{ref:n,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"bm-thread-info-container",onScroll:function(){}},c.createElement("div",{className:"bm-thread-info-general"},"thread"===t.type&&c.createElement(c.Fragment,null,c.createElement(V5,{threadId:t.thread_id,subject:t.subject,isModerator:r}),1===t.participantsCount&&!t.adminAccess&&c.createElement(c.Fragment,null,Rie("Deleted user","bp-better-messages")),t.participantsCount>1&&c.createElement(c.Fragment,null,2===t.participantsCount&&!t.adminAccess&&c.createElement(c.Fragment,null,c.createElement("div",{className:"bm-thread-info-general-avatar"},c.createElement(rM,{user_id:t.participants[0],size:50})),c.createElement(vM,{link:!0,user_id:t.participants[0]})),(t.participantsCount<=2&&!t.adminAccess||t.participantsCount>2)&&c.createElement(Y4,{typing:[],thread:t,showSubject:!1}))),"thread"!==t.type&&c.createElement(c.Fragment,null,t.image&&c.createElement("div",{className:"bm-thread-info-general-avatar"},t.url&&c.createElement(aP,{showOnMobile:!1,content:Lie(Mie("Go to <strong>%s</strong>","Links tooltip","bp-better-messages"),t.title)},c.createElement("a",{href:t.url},s)),!t.url&&s),c.createElement("div",{className:"name bm-name"},c.createElement("span",{className:"user bm-user"},t.title)),c.createElement(Y4,{typing:[],thread:t,showSubject:!1}))),c.createElement("div",{className:"bm-thread-info-actions"},o.map((function(e){return c.createElement(aP,{content:e.tooltip,key:e.key},c.createElement("div",{className:"bm-thread-info-action",onClick:e.onClick},c.createElement("div",{className:"bm-thread-info-action-icon"},"string"==typeof e.icon?Gg(e.icon):e.icon),c.createElement("div",{className:"bm-thread-info-action-label"},e.label)))}))),r&&"thread"===t.type&&t.participantsCount>2&&c.createElement("div",{className:"bm-thread-options"},c.createElement("div",{className:"bm-thread-option"},c.createElement("div",{className:"bm-thread-option-toggle"},c.createElement("input",{id:"allow_invite",className:"bpbm-checkbox",type:"checkbox",value:"yes",onChange:function(e){!function(e,t,n){U5.apply(this,arguments)}(t.thread_id,"allow_invite",e.target.checked?"yes":"no")},defaultChecked:t.meta.allowInvite}),c.createElement("label",{htmlFor:"allow_invite"},Mie("Allow conversation members to invite other members","Conversation Settings","bp-better-messages"))),c.createElement("div",{className:"bm-thread-option-description"},Mie("When enabled, conversation participants will be able to add other users to conversation.","Conversation Settings","bp-better-messages")))),n&&("chat-room"===t.type&&t.chatRoom&&!t.chatRoom.hideParticipants||"chat-room"!==t.type&&(t.participantsCount>2||"thread"!==t.type||t.adminAccess))&&c.createElement(j5,{container:n}),""!==i&&Gg(i))}function V5(e){var t=e.threadId,n=e.subject,r=e.isModerator,i=(0,c.useState)(!1),a=(0,_.A)(i,2),s=a[0],l=a[1],d=YV(!1),p=(0,_.A)(d,3),f=p[0],h=p[1],m=p[2],v=(0,c.useState)(n),g=(0,_.A)(v,2),y=g[0],b=g[1],w=(0,c.useRef)(null);(0,c.useEffect)((function(){s&&w.current&&w.current.focus()}),[s]);var D=function(){var e=(0,o.A)(u().mark((function e(){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!m.current){e.next=2;break}return e.abrupt("return");case 2:if((n=w.current.textContent)===y){e.next=12;break}return e.prev=4,h(!0),e.next=8,u5(t,n);case 8:b(n);case 9:return e.prev=9,h(!1),e.finish(9);case 12:l(!1);case 13:case"end":return e.stop()}}),e,null,[[4,,9,12]])})));return function(){return e.apply(this,arguments)}}();return n||r?c.createElement("div",{className:"name"},c.createElement("span",{className:"bm-subject-container"},c.createElement("strong",{ref:w,contentEditable:s,onPaste:function(e){e.preventDefault();var t=e.clipboardData.getData("text/plain"),n=w.current.textContent.length;n+t.length>100&&(t=t.substring(0,100-n)),document.execCommand("insertHTML",!1,t)},onKeyPress:function(e){e.target.textContent.length>=100&&"Backspace"!==e.key&&e.preventDefault()},"data-placeholder":Rie("No Subject","bp-better-messages"),onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),D())}},n),r&&c.createElement(c.Fragment,null,!s&&c.createElement(aP,{content:Mie("Change conversation subject","Conversation Settings","bp-better-messages")},c.createElement("span",{onClick:function(){l(!0)},className:"bm-subject-container-edit"},c.createElement(n1,null))),s&&c.createElement("span",{onClick:function(){D()},className:"bm-subject-container-edit"},!f&&c.createElement(J0,null),f&&c.createElement(aX,{className:"bm-spin-animation"}))))):null}const q5=(0,c.memo)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{threadId:null,initialAnimation:!0},t=(0,c.useContext)(pN).useRouter,n=e.initialAnimation?"100%":"0%",r=null,i=null;t&&(r=eR(),i=YB());var a,o=function(){let{matches:e}=c.useContext($B),t=e[e.length-1];return t?t.params:{}}();a=e.threadId?e.threadId:Number(o.threadId),a=Number(a),isNaN(a)&&(a=0);var s=(0,c.useRef)(a);s.current=a;var u=(0,c.useState)("messages"),l=(0,_.A)(u,2),d=l[0],p=l[1],f=(0,c.useState)(!1),h=(0,_.A)(f,2),m=h[0],v=(h[1],(0,c.useContext)(pN)),g=v.root,y=v.callActive,b=c.createRef(),w=(0,c.useState)(null),D=(0,_.A)(w,2),A=D[0],E=D[1],k=c.createRef(),C=(0,c.useState)(null),x=(0,_.A)(C,2),S=x[0],T=x[1],F=YV(!1),O=(0,_.A)(F,3),P=O[0],I=O[1],B=O[2],R=(0,c.useState)(!Yv()),N=(0,_.A)(R,2),M=N[0],L=N[1],j=(0,c.useRef)(void 0),U=XW(j),z=(0,_.A)(U,1)[0].width,V=(0,c.useState)(!1),q=(0,_.A)(V,2),H=q[0],W=q[1],K=(0,c.useState)(),$=(0,_.A)(K,2),G=$[0],Q=$[1],Y=(0,c.useRef)(void 0);tK((function(){a>0&&(Q(null),Cie(a,r).then((function(e){s.current===a&&(Q(e),setTimeout((function(){iee(g,i?i.search:null)}),100))})),p("messages"),j7.add(a),H7(),Iee(a))}),[a]),(0,c.useEffect)((function(){T(k.current)}),[k]),(0,c.useEffect)((function(){E(b.current)}),[b]);var X=y7(a),Z={};-1===a&&(Z.display="none");var J="bpbm-chat-content";return y&&(J+=" bpbm-call-view",M||(J+=" bpbm-hide-chat")),c.createElement(QK.Provider,{value:{insideRouter:t,threadId:a,thread:X,chatMain:S,reply:A,screen:d,setScreen:p,call:Y.current,action:P,actionRef:B,setAction:I,syncing:m}},c.createElement(c.Fragment,null,c.createElement("div",{style:Z,ref:j,className:"chat-header"},c.createElement(r5,{headerWidth:z})),c.createElement(Ix.div,{style:Z,initial:{x:n},animate:{x:"0%"},transition:{duration:.2},exit:{x:"100%"},className:J,"data-thread-id":a},c.createElement("div",{ref:k,className:"bpbm-chat-main"},c.createElement(Rb,null,"settings"===d&&c.createElement(z5,null)),c.createElement("div",{className:"bpbm-chat-main-primary"},X&&"chat-room"!==X.type&&a>0&&c.createElement(c.Fragment,null,c.createElement(F8,{threadId:a,thread:X,firstUnreadMessage:G}),c.createElement(p8,{ref:b})),X&&"chat-room"===X.type&&c.createElement(c.Fragment,null,(X.chatRoom.isJoined||!X.chatRoom.isJoined&&!X.chatRoom.onlyJoinedCanRead)&&c.createElement(c.Fragment,null,c.createElement(F8,{threadId:a,thread:X,firstUnreadMessage:G})),!X.chatRoom.isJoined&&X.chatRoom.onlyJoinedCanRead&&c.createElement(c.Fragment,null,c.createElement("div",{className:"empty-thread"},c.createElement(S4,null),c.createElement("span",null,Mie("Only participants can see this chat room messages","Chat Room Screen","bp-better-messages")))),yb()&&c.createElement(o5,null),!X.chatRoom.isJoined&&c.createElement(c.Fragment,null,Jy()<=0&&c.createElement(c.Fragment,null,c.createElement("div",{className:"bm-reply"},c.createElement("ul",{className:"bp-better-messages-restrict-send-message"},c.createElement("li",null,Gg(X.chatRoom.mustLoginText),c.createElement("br",null),c.createElement("a",{href:Sie.loginUrl,className:"bm-button bm-no-link-style bpbm-join-to-chat-button"},X.chatRoom.loginButtonText),X.chatRoom.guestAllowed&&c.createElement(c.Fragment,null,c.createElement("br",null),c.createElement(s5,{thread:X})))))),Jy()>0&&c.createElement(c.Fragment,null,X.chatRoom.canJoin&&c.createElement("div",{className:"bm-reply"},c.createElement("ul",{className:"bp-better-messages-restrict-send-message"},c.createElement("li",null,Gg(X.chatRoom.mustJoinMessage),c.createElement("br",null),c.createElement("span",{onClick:function(){if(X&&X.chatRoom){if(H)return;W(!0),i5(X.chatRoom.id).finally((function(){W(!1)}))}},className:"bpbm-join-to-chat-button "+(H?"bm-button-disabled":"")},X.chatRoom.joinButtonText)))),!X.chatRoom.canJoin&&c.createElement("div",{className:"bm-reply"},c.createElement("ul",{className:"bp-better-messages-restrict-send-message"},c.createElement("li",null,Gg(X.chatRoom.notAllowedText)))))),X.chatRoom.isJoined&&c.createElement(p8,{ref:b})))),!!X&&X.thread_id&&c.createElement(f3,{chatShown:M,chatToggle:L,thread:X,ref:Y}))))}));function H5(){var e=(0,c.useContext)(pN),t=e.isMaximized,n=e.setIsMaximized,r=e.fullScreened;return c.createElement(c.Fragment,null,c.createElement(aP,{showOnMobile:!1,content:Mie("Back",'"Back" Button Tooltip',"bp-better-messages")},c.createElement(rN,{to:"/",className:"back"},c.createElement(hX,null))),c.createElement("span",{id:"bm-new-thread-title"},Mie("Settings","User settings screen","bp-better-messages")),Sie.fullScreen&&c.createElement(c.Fragment,null,!t&&c.createElement(c.Fragment,null,c.createElement(aP,{showOnMobile:!1,content:Mie("Maximize",'"Maximize messages window" Button Tooltip',"bp-better-messages")},c.createElement("span",{onClick:function(){n(!0)},className:"bpbm-maximize"},c.createElement($J,{className:"bm-svg"})))),t&&!r&&c.createElement(c.Fragment,null,c.createElement(aP,{showOnMobile:!1,content:Mie("Minimize",'"Minimize messages window" Button Tooltip',"bp-better-messages")},c.createElement("span",{onClick:function(){n(!1)},className:"bpbm-minimize"},c.createElement(QJ,{className:"bm-svg"}))))))}function W5(e){return K5.apply(this,arguments)}function K5(){return(K5=(0,o.A)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=JSON.stringify(t),e.next=4,Wy("savedPush",!1);case 4:if(e.sent!==n){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,pie.post("pushNotifications/save",{sub:n});case 9:return e.next=11,$y("savedPush",n);case 11:return e.abrupt("return",!0);case 14:return e.prev=14,e.t0=e.catch(0),hb(e.t0),e.abrupt("return",!1);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}function $5(){var e=(0,c.useContext)(pN).mobileView,t=(0,c.useState)(null),n=(0,_.A)(t,2),r=n[0],i=n[1],a=(0,c.useState)(null),s=(0,_.A)(a,2),l=s[0],d=s[1];tK((function(){pie.get("userSettings").then((function(e){i(e.data)}))}),[]);var p=function(e,t){"boolean"==typeof t&&(t=t?"true":"false"),pie.post("userSettings/save",{option:e,value:t}).then((function(e){lb(e.data.message)})).catch((function(e){return hb}))};return(0,c.useEffect)((function(){new Promise((function(e){Sie.PNworker?"serviceWorker"in navigator?navigator.serviceWorker.register(Sie.PNworker+"bpbm-worker.js",{scope:Sie.PNworker}).then((function(t){t.pushManager.getSubscription().then((function(t){null===t?(Qy("savedPush"),e("unsubscribed")):W5(t).then((function(){e("subscribed")}))}))})):e("not available"):e(!1)})).then((function(e){d(e)}))}),[]),c.createElement(c.Fragment,null,c.createElement("div",{className:"chat-header"},c.createElement(H5,null)),c.createElement(VY,{className:"bm-user-settings"},!r&&c.createElement(VN,null),r&&c.createElement("div",{className:"bpbm-user-options"},r.map((function(e,t){return c.createElement("div",{className:"bpbm-options-group",key:"option-group-"+e.id},c.createElement("h4",{className:"bpbm-user-option-title"},e.title),"raw_html"===e.type&&c.createElement("div",{className:"bpbm-user-option"},Gg(e.html)),"settings_group"===e.type&&c.createElement("div",{className:"bpbm-user-option"},e.options.map((function(t){return c.createElement("div",{key:e.id+"_"+t.id,className:"bpbm-user-option-"+t.type},"text"===t.type&&c.createElement(c.Fragment,null,c.createElement("label",{htmlFor:e.id+"_"+t.id},t.label),c.createElement("input",{id:e.id+"_"+t.id,type:"text",defaultValue:t.value})))}))),"checkboxes_radio"===e.type&&c.createElement("div",{className:"bpbm-user-option"},e.options.map((function(t){return c.createElement("div",{key:e.id+"_"+t.id},c.createElement("input",{onChange:function(t){var n=t.target,r=[],i=n.closest(".bpbm-options-group");if("who_can_start_conversations"===e.id){var a=!1;n.checked&&("everyone"===n.value?(r=["everyone"],a=!0):"nobody"===n.value&&(r=["nobody"],a=!0)),a?i.querySelectorAll("input").forEach((function(e){e!==n&&(e.checked=!1)})):i.querySelectorAll("input").forEach((function(e){"nobody"!==e.value&&"everyone"!==e.value||(e.checked=!1),e.checked&&r.push(e.value)}))}p(e.id,r.join(","))},id:e.id+"_"+t.id,className:"bpbm-checkbox",type:"checkbox",defaultChecked:t.checked,value:t.value}),c.createElement("label",{htmlFor:e.id+"_"+t.id},t.label))}))),"checkboxes"===e.type&&c.createElement(c.Fragment,null,e.options.map((function(t){return c.createElement(c.Fragment,{key:e.id+"_"+t.id},"push_notifications"!==t.id&&c.createElement("div",{className:"bpbm-user-option"},c.createElement("input",{id:e.id+"_"+t.id,onChange:function(e){p(t.id,e.target.checked)},className:"bpbm-checkbox",type:"checkbox",defaultChecked:t.checked,value:t.value}),c.createElement("label",{htmlFor:e.id+"_"+t.id},t.label),t.desc&&c.createElement("div",{className:"bpbm-user-option-description"},t.desc)),"push_notifications"===t.id&&"serviceWorker"in navigator&&"PushManager"in window&&c.createElement(c.Fragment,null,c.createElement("label",{htmlFor:e.id+"_"+t.id},t.label),c.createElement("div",{className:"bpbm-user-option"},t.desc&&c.createElement("div",{className:"bpbm-user-option-description"},t.desc),c.createElement("div",{className:"push-notifications-control"},"processing"===l&&c.createElement("button",{disabled:!0},Mie("Waiting...","User settings screen","bp-better-messages")),"unsubscribed"===l&&c.createElement("button",{onClick:function(){d("processing"),new Promise((function(e){"serviceWorker"in navigator?navigator.serviceWorker.register(Sie.PNworker+"bpbm-worker.js",{scope:Sie.PNworker}).then((function(t){t.pushManager.getSubscription().then(function(){var n=(0,o.A)(u().mark((function n(r){return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null!==r){n.next=4;break}t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Uee(Sie.vapidPublicKey)}).then(function(){var t=(0,o.A)(u().mark((function t(n){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e("subscribed"),t.prev=1,t.next=4,W5(n);case 4:lb(Mie("Successfully subscribed to Web Push notifications","Push Notifications","bp-better-messages")),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),hb(t.t0);case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){Qy("savedPush"),e("unsubscribed"),db(Mie("Failed to subscribe to Web Push notifications. Please ensure that your web browser permission settings allows to send notifications at this website.","Push Notifications","bp-better-messages"))})),n.next=8;break;case 4:return n.next=6,W5(r);case 6:lb(Mie("Successfully subscribed to Web Push notifications","Push Notifications","bp-better-messages")),e("subscribed");case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()).catch((function(t){db(t),Qy("savedPush"),e("unsubscribed")}))})).catch((function(t){db(t),Qy("savedPush"),e("unsubscribed")})):e("not available")})).then((function(e){return d(e)}))}},Mie("Enable","User settings screen","bp-better-messages")),"subscribed"===l&&c.createElement("button",{onClick:function(){d("processing"),new Promise((function(e){"serviceWorker"in navigator?navigator.serviceWorker.register(Sie.PNworker+"bpbm-worker.js",{scope:Sie.PNworker}).then((function(t){t.pushManager.getSubscription().then(function(){var t=(0,o.A)(u().mark((function t(n){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===n){t.next=13;break}return t.prev=1,t.next=4,pie.post("pushNotifications/delete",{sub:JSON.stringify(n)});case 4:lb(Mie("Successfully unsubscribed from Web Push notifications","Push Notifications","bp-better-messages")),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),hb(t.t0);case 10:e("unsubscribed"),t.next=14;break;case 13:e("unsubscribed");case 14:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e("unsubscribed")})).finally((function(){Qy("savedPush")}))})).catch((function(t){e("unsubscribed")})).finally((function(){Qy("savedPush")})):e("not available")})).then((function(e){return d(e)}))}},Mie("Disable","User settings screen","bp-better-messages"))))))}))),"blocked_users"===e.type&&c.createElement("div",{className:"bpbm-user-option"},c.createElement("div",{className:"bpbm-user-option-description"},Mie("This is a list of users that you have blocked. You may unblock them from the blocklist below.","User settings screen","bp-better-messages")),c.createElement("div",{className:"bpbm-user-blacklist"},Object.keys(e.users).length>0&&c.createElement("table",null,c.createElement("tbody",null,Object.keys(e.users).map((function(e){return c.createElement("tr",{key:"blocked-user-"+e},c.createElement("td",null,c.createElement(vM,{user_id:Number(e)})),c.createElement("td",null,c.createElement("a",{href:"#",className:"bpbm-unblock-user",onClick:function(n){n.preventDefault(),R4(Number(e)).then((function(){i((function(n){return delete n[t].users[e],(0,z.A)(n)}))}))}},Mie("Unblock user","User settings screen","bp-better-messages"))))})))),0===Object.keys(e.users).length&&c.createElement("div",{className:"bpbm-user-blacklist-empty"},c.createElement(JY,null),Mie("You havent blocked anyone yet","User settings screen","bp-better-messages")))))})),Hie("better_messages_user_settings_after",[]))),e&&c.createElement("div",{className:"chat-footer",style:{marginTop:"auto"}},c.createElement(m1,null)))}function G5(){var e=(0,c.useContext)(pN),t=e.isMaximized,n=e.setIsMaximized,r=e.fullScreened;return c.createElement(c.Fragment,null,c.createElement(aP,{content:Mie("Back",'"Back" Button Tooltip',"bp-better-messages")},c.createElement(rN,{to:"/",className:"back"},c.createElement(hX,null))),c.createElement("span",{id:"bm-new-thread-title",style:{marginRight:"auto"}},Mie("Favorited messages","Favorited messages screen","bp-better-messages")),Sie.fullScreen&&c.createElement(c.Fragment,null,!t&&c.createElement(c.Fragment,null,c.createElement(aP,{showOnMobile:!1,content:Mie("Maximize",'"Maximize messages window" Button Tooltip',"bp-better-messages")},c.createElement("span",{onClick:function(){n(!0)},className:"bpbm-maximize"},c.createElement($J,{className:"bm-svg"})))),t&&!r&&c.createElement(c.Fragment,null,c.createElement(aP,{showOnMobile:!1,content:Mie("Minimize",'"Minimize messages window" Button Tooltip',"bp-better-messages")},c.createElement("span",{onClick:function(){n(!1)},className:"bpbm-minimize"},c.createElement(QJ,{className:"bm-svg"}))))))}function Q5(e){return confirm(e)}function Y5(){return Y5=(0,o.A)(u().mark((function e(t,n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Q5(Mie("Are you sure you want to delete this message?","Messages deleting","bp-better-messages"))){e.next=2;break}return e.abrupt("return");case 2:r=new Promise((function(e,r){pie.post("thread/"+t+"/deleteMessages",{messageIds:n}).then(function(){var t=(0,o.A)(u().mark((function t(n){var i;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n.data,!(Array.isArray(i.deleted)&&i.deleted.length>0)){t.next=6;break}i.deleted.map((function(e){L8(e)})),e(!0),t.next=13;break;case 6:if(!(Array.isArray(i.messages)&&i.messages.length>0)){t.next=12;break}return e(!0),t.next=10,gK(i);case 10:t.next=13;break;case 12:Array.isArray(i.errors)?r(Mie(i.errors.join("\n"),"Messages deleting","bp-better-messages")):r(Mie("Error while deleting message","Messages deleting","bp-better-messages"));case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){r(Mie("Error while deleting message","Messages deleting","bp-better-messages"))}))})),Hy.promise(r,{pending:{render:function(){return Mie("Deleting message","Messages deleting","bp-better-messages")},theme:"dark"},success:{render:function(){return c.createElement("div",{className:"bm-deleted-message"},c.createElement("p",null,Mie("Message deleted","Messages deleting","bp-better-messages")))},theme:"colored",type:"info"},error:{render:function(e){var t=e.data;return Gg(t)},theme:"colored",type:"error",autoClose:!1}},{className:"bm-toasts",position:"bottom-right",autoClose:5e3,theme:"colored",hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 4:case"end":return e.stop()}}),e)}))),Y5.apply(this,arguments)}function X5(e,t,n){return Z5.apply(this,arguments)}function Z5(){return Z5=(0,o.A)(u().mark((function e(t,n,r){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:pie.post("thread/"+t+"/favorite",{messageId:n,type:r}).then(function(){var e=(0,o.A)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:U8(n,{favorited:"star"===r?1:0});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){db(e)})).then((function(){}));case 1:case"end":return e.stop()}}),e)}))),Z5.apply(this,arguments)}function J5(){return"rtl"===document.documentElement.dir}var e6;function t6(){var e=!1;return(navigator.standalone||window.matchMedia("(display-mode: standalone)").matches)&&(e=!0),e}function n6(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return r6(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r6(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function r6(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function i6(e){var t=Math.floor(e/60),n=Math.floor(e%60);return"".concat(t.toString().padStart(2,"0"),":").concat(n.toString().padStart(2,"0"))}function a6(e){var t=e.src,n=(0,c.useRef)(null),r=(0,c.useState)(),i=(0,_.A)(r,2),a=i[0],o=i[1],s=(0,c.useRef)(null),u=(0,c.useRef)(),l=(0,c.useState)(!1),d=(0,_.A)(l,2),p=d[0],f=d[1];return tK((function(){var e,r,i=n.current,a=Sie.color;document.body&&document.body.classList.contains("bm-messages-dark")&&(a=Sie.darkColor);try{e=getComputedStyle(s.current).color,a="#".concat(e.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/).slice(1).map((function(e){return parseInt(e,10).toString(16).padStart(2,"0")})).join(""))}catch(e){}"undefined"!=typeof WaveSurfer?r=WaveSurfer:"undefined"!=typeof BetterMessagesVoiceMessages&&(r=BetterMessagesVoiceMessages.WaveSurfer),u.current=r.create({container:i,height:30,rtl:J5(),"cursorColor":a,"progressColor":a,"waveColor":a,responsive:!0,ignoreSilenceMode:!0,barWidth:3,barMinHeight:1,barRadius:3,cursorWidth:1,barGap:3,normalize:!0}),u.current.on("pause",(function(){f(!1),e6===u.current&&(e6=null),Yv()&&!t6()&&wee()})),u.current.on("ready",(function(){o(i6(parseInt(u.current.getDuration())))})),u.current.on("audioprocess",(function(){var e=u.current.getCurrentTime();o(i6(0===e?parseInt(u.current.getDuration()):parseInt(e)))})),u.current.on("play",(function(){e6&&e6.stop(),f(!0),e6=u.current,Yv()&&!t6()&&bee()})),u.current.on("finish",(function(){!function(e){try{var t,n=e.closest(".bm-message"),r=Number(n.dataset.ts),i=n6(n.closest(".bm-list-content").querySelectorAll(".bm-message"));try{for(i.s();!(t=i.n()).done;){var a=t.value;if(Number(a.dataset.ts)>r){var o=a.querySelector(".bm-voice-message-play");if(o){o.click();break}}}}catch(e){i.e(e)}finally{i.f()}}catch(e){console.error(e)}}(s.current)})),u.current.load(t)}),[]),c.createElement("div",{className:"bm-voice-message"},a&&c.createElement("div",{className:"bm-voice-message-duration"},a),c.createElement("div",{ref:s,className:"bm-voice-message-play",onClick:function(){Yv()||u.current.playPause()},onTouchEnd:function(e){Yv()&&u.current.playPause()}},!p&&c.createElement(Jx,null),p&&c.createElement(Zx,null)),c.createElement("div",{className:"bm-waveform",ref:n}))}var o6=__webpack_require__(55898),s6=__webpack_require__.n(o6);function u6(e){var t=e.message;if(!t)return null;var n=(0,c.useState)(!1),r=(0,_.A)(n,2),i=r[0],a=r[1],o=(0,c.useState)(0),s=(0,_.A)(o,2),u=s[0],l=s[1],d=t.meta.files;if(!eg()&&t.message.startsWith('<div class="bpbm-voice-message"')&&("undefined"!=typeof WaveSurfer||"undefined"!=typeof BetterMessagesVoiceMessages)){var p=d.filter((function(e){return e.mimeType.startsWith("audio/")}));if(p.length>0)return c.createElement(a6,{src:p[0].url})}var f=new Set,h=[],m=[],v=d.filter((function(e){var t=e.mimeType.startsWith("image/");return t&&(f.add(e.id),h.push(e.url),m.push(e.thumb)),t})),g=d.filter((function(e){var t=e.mimeType.startsWith("audio/");return t&&f.add(e.id),t})),y=d.filter((function(e){var t="video/mp4"===e.mimeType||"video/quicktime"===e.mimeType;return t&&f.add(e.id),t}));d=d.filter((function(e){return!f.has(e.id)}));var b=Hie("better_messages_video_preload_attribute","auto");return c.createElement(c.Fragment,null,c.createElement("div",{className:"bm-attachments"},v.length>0&&c.createElement("div",{className:"bm-images"},v.map((function(e,t){return c.createElement("a",{key:"image_"+e.id,href:e.url,target:"_blank",style:{display:"block",backgroundImage:"url("+e.thumb+")",backgroundSize:"cover",backgroundPosition:"center"},onClick:function(e){e.preventDefault(),l(t+1),a((function(e){return!e}))}},c.createElement("img",{src:e.thumb,alt:e.name,loading:"lazy"}))})),(0,rT.createPortal)(c.createElement(s6(),{showThumbsOnMount:m.length>1,toggler:i,sources:h,thumbs:m,type:"image",exitFullscreenOnClose:!0,slide:u,customToolbarButtons:[{viewBox:"0 0 16 16",d:"M0 14h16v2h-16v-2z M8 13l5-5h-3v-8h-4v8h-3z",width:"16px",height:"16px",title:"Download",onClick:function(e){var t=e.props.sources[e.stageIndexes.current],n=document.createElement("a");n.href=t,n.setAttribute("download",""),n.setAttribute("target","_blank"),document.body.appendChild(n),n.click(),document.body.removeChild(n)}}]}),document.body)),y.length>0&&c.createElement("div",{className:"bm-videos"},y.map((function(e){return c.createElement("video",{key:"file_"+e.id,src:e.url,className:"bm-video",preload:b,controls:!0,playsInline:!0})}))),g.length>0&&c.createElement("div",{className:"bm-audios"},g.map((function(e){return c.createElement("audio",{key:"file_"+e.id,src:e.url,className:"bm-audio",controls:!0})}))),d.length>0&&c.createElement("div",{className:"bm-files"},d.map((function(e){return c.createElement("a",{key:"file_"+e.id,href:e.url,target:"_blank",className:"bm-file"},c.createElement(wJ,null)," ",e.name," ",c.createElement("span",{className:"size"},"(",H2(e.size),")"))})))))}var c6=(0,c.createContext)({scrollTo:null,scrollBottom:null,fullHeight:null,fixedToBottom:null,initialLoaded:null,invertedMode:!0,blockAnimation:null});const l6=(0,c.memo)((function(e){var t=e.message_id,n=e.thread_id,r=I8(t,!0),i=(0,c.useContext)(c6).scrollTo;return r?c.createElement("span",{className:"bm-replied-message",onClick:function(e){(null==e?void 0:e.target).closest("a")||i(n,t)}},c.createElement("span",{className:"bm-replied-message-name"},c.createElement(vM,{user_id:r.sender_id})),c.createElement("span",{className:"bm-replied-message-text"},SJ(r))):null}));function d6(){return d6=(0,o.A)(u().mark((function e(t,n){var r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pie.post("reactions/save",{message_id:t,emoji:n});case 3:return r=e.sent,i=r.data,e.next=7,gK(i);case 7:e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),d6.apply(this,arguments)}const p6=(0,c.memo)((function(e){var t=Sie.reactions,n=Object.keys(t),r=wb();return(0,c.useEffect)((function(){return document.addEventListener("better-message-settings-changed",r),function(){document.removeEventListener("better-message-settings-changed",r)}}),[]),c.createElement("div",{className:"bm-reactions-selector"},n.map((function(t){var n=String(t).split("-"),r=[];n.map((function(e){r.push(parseInt(e,16))}));var i=String.fromCodePoint.apply(String,r);return c.createElement("div",{className:"bm-reaction-icon",key:"reaction-"+t,onClick:function(){!function(e,t){d6.apply(this,arguments)}(e.message_id,t)}},c.createElement(HV,{emoji:i,size:12,useImportant:!1}))})))}));var f6=(e=>(e.Mouse="mouse",e.Touch="touch",e.Pointer="pointer",e))(f6||{}),h6=(e=>(e.CancelledByMovement="cancelled-by-movement",e.CancelledByRelease="cancelled-by-release",e.CancelledOutsideElement="cancelled-outside-element",e))(h6||{});const m6=["mousedown","mousemove","mouseup","mouseleave","mouseout"],v6=["touchstart","touchmove","touchend","touchcancel"],g6=["pointerdown","pointermove","pointerup","pointerleave","pointerout"];function y6(e){var t;return v6.includes(null==(t=null==e?void 0:e.nativeEvent)?void 0:t.type)||"touches"in e}function b6(e){return function(e){var t;return m6.includes(null==(t=null==e?void 0:e.nativeEvent)?void 0:t.type)}(e)||y6(e)||function(e){const{nativeEvent:t}=e;return!!t&&(g6.includes(null==t?void 0:t.type)||"pointerId"in t)}(e)}function w6(e){var t;const n=y6(e)?null==(t=null==e?void 0:e.touches)?void 0:t[0]:e;return function(e){return"object"==typeof e&&null!==e&&"pageX"in e&&"number"==typeof e.pageX&&"pageY"in e&&"number"==typeof e.pageY}(n)?{x:n.pageX,y:n.pageY}:null}const D6=(0,c.memo)((function(e){var t=e.thread,n=e.message,r=wb();(0,c.useEffect)((function(){return document.addEventListener("better-message-settings-changed",r),function(){document.removeEventListener("better-message-settings-changed",r)}}),[]);var i=!(!n.meta||!n.meta.lastEdit)&&_i.fromFormat(n.meta.lastEdit,Fie,{zone:"GMT"}),a=t&&t.pinned&&t.pinned.includes(n.message_id),o="bm-message-info";i&&"message"!==Sie.datePosition&&(o+=" bm-message-info-no-margin");var s=yM(n.created_at).toLocal();return c.createElement("span",{className:o},"message"===Sie.datePosition&&c.createElement(aP,{content:s.toLocaleString(_i.DATETIME_MED_WITH_SECONDS),showOnMobile:!0},c.createElement("span",{className:"bm-time"},s.toLocaleString(function(){var e=_i.TIME_24_SIMPLE;window.Better_Messages.timeFormat&&"12"===window.Better_Messages.timeFormat&&(e=_i.TIME_SIMPLE);return e}()))),i&&c.createElement(aP,{content:Lie(Rie("Message was edited at %s","bp-better-messages"),i.toLocal().toLocaleString(_i.DATETIME_MED_WITH_SECONDS)),showOnMobile:!0},c.createElement("span",{className:"bm-edited-label"},c.createElement(e1,null))),a&&c.createElement(aP,{content:Rie("Message is pinned","bp-better-messages"),showOnMobile:!0},c.createElement("span",{className:"bm-pinned-label"},c.createElement(_X,null))))}));var A6=new Wc;const E6=(0,c.memo)((function(e){var t=e.messageId,n=(0,c.useRef)(),r=(0,c.useState)(0),i=(0,_.A)(r,2),a=i[0],o=i[1],s=(0,c.useState)(0),u=(0,_.A)(s,2),l=u[0],d=u[1],p=(0,c.useState)(!1),f=(0,_.A)(p,2),h=f[0],m=f[1];return(0,c.useEffect)((function(){var e=A6.subscribe({next:function(e){e===t&&m(!0)}});return function(){e.unsubscribe()}}),[]),(0,c.useEffect)((function(){if(n.current){var e=n.current,t=e.closest(".bm-messages-list"),r=e.closest(".bm-content"),i=getComputedStyle(r);if(t.classList.contains("bm-template-standard")){var a=e.closest(".bm-message").clientWidth,s=parseInt(i.width.replace("px",""));d(s-a),o(parseInt(i.paddingLeft.replace("px","")))}else o(parseInt(i.paddingLeft.replace("px",""))),d(parseInt(i.paddingRight.replace("px","")))}}),[h,n.current]),c.createElement(Rb,null,h&&c.createElement(Ix.div,{ref:n,initial:{opacity:0},animate:{opacity:.1},exit:{opacity:0},transition:{duration:1.5},onAnimationComplete:function(){m(!1)},className:"bm-message-highlight",style:{left:"-"+a+"px",right:"-"+l+"px",width:"calc(100% + "+(a+l)+"px)",height:"calc(100% + 4px)"}}))}));function k6(){return k6=(0,o.A)(u().mark((function e(t,n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Q5(Mie("Are you sure you want to pin this message?","Messages pinning","bp-better-messages"))){e.next=2;break}return e.abrupt("return");case 2:r=new Promise((function(e,r){pie.post("thread/"+t+"/pinMessage",{messageId:n}).then(function(){var n=(0,o.A)(u().mark((function n(r){return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,A7(t,{pinned:r.data});case 2:e(!0);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()).catch((function(e){r(Mie("Error while pinning message","Messages pinning","bp-better-messages"))}))})),Hy.promise(r,{pending:{render:function(){return Mie("Pinning message","Messages pinning","bp-better-messages")},theme:"dark"},success:{render:function(){return Mie("Message pinned","Messages deleting","bp-better-messages")},theme:"colored",type:"info"},error:{render:function(e){var t=e.data;return Gg(t)},theme:"colored",type:"error",autoClose:!1}},{className:"bm-toasts",position:"bottom-right",autoClose:5e3,theme:"colored",hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 4:case"end":return e.stop()}}),e)}))),k6.apply(this,arguments)}function C6(){return C6=(0,o.A)(u().mark((function e(t,n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Q5(Mie("Are you sure you want to unpin this message?","Messages pinning","bp-better-messages"))){e.next=2;break}return e.abrupt("return");case 2:r=new Promise((function(e,r){pie.post("thread/"+t+"/unpinMessage",{messageId:n}).then(function(){var n=(0,o.A)(u().mark((function n(r){return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,A7(t,{pinned:[]});case 2:e(!0);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()).catch((function(e){r(Mie("Error while unpinning message","Messages pinning","bp-better-messages"))}))})),Hy.promise(r,{pending:{render:function(){return Mie("Unpinning message","Messages pinning","bp-better-messages")},theme:"dark"},success:{render:function(){return Mie("Message unpinned","Messages pinning","bp-better-messages")},theme:"colored",type:"info"},error:{render:function(e){var t=e.data;return Gg(t)},theme:"colored",type:"error",autoClose:!1}},{className:"bm-toasts",position:"bottom-right",autoClose:5e3,theme:"colored",hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 4:case"end":return e.stop()}}),e)}))),C6.apply(this,arguments)}function _6(e){var t=e.threadId,n=I8(e.messageId);return n&&n.thread_id===t?c.createElement("div",{className:"bm-message-reactions-panel"},!n&&c.createElement(VN,null),n&&c.createElement("div",{className:"bm-message-reactions-panel"},n.meta.reactions&&n.meta.reactions.length>0&&c.createElement("div",{className:"bp-messages-user-list"},n.meta.reactions.map((function(e){return c.createElement(c.Fragment,{key:"message-reaction-"+e},e.users.map((function(t){var n=String(e.reaction).split("-"),r=[];n.map((function(e){r.push(parseInt(e,16))}));var i=String.fromCodePoint.apply(String,r);return c.createElement("div",{className:"user not-clickable",key:"message-reaction-"+t},c.createElement("div",{className:"pic",style:{paddingLeft:0}},c.createElement(rM,{user_id:t,size:30})),c.createElement(vM,{user_id:t}),c.createElement("div",{className:"bm-msg-status",style:{marginLeft:"auto"}},c.createElement(HV,{emoji:i,size:13,useImportant:!0})))})))}))))):null}const x6=(0,c.memo)((function(e){var t=e.reactions,n=e.thread_id,r=e.message_id,i=Sie.reactionsList,a={};i&&(a.cursor="pointer");var o=wb();return(0,c.useEffect)((function(){return document.addEventListener("better-message-settings-changed",o),function(){document.removeEventListener("better-message-settings-changed",o)}}),[]),c.createElement("div",{className:"bm-reactions"},t.map((function(e){var t=String(e.reaction).split("-"),o=[];t.map((function(e){o.push(parseInt(e,16))}));var s=String.fromCodePoint.apply(String,o);return c.createElement("span",{key:"reaction-"+e.reaction,className:"bm-reaction",style:a,onClick:function(){i&&cP("message-popup",Mie("Message reactions","Message Reactions Modal","bp-better-messages"),c.createElement(_6,{threadId:n,messageId:r}),!0)}},c.createElement(HV,{emoji:s,size:13,useImportant:!0}),c.createElement("span",{className:"bm-reaction-count"},e.users.length))})))})),S6=(0,c.memo)((function(e){var t=e.menuItems,n=e.message_id,r=e.setSelected;return c.createElement(S5,{style:{zIndex:"10000"},id:"context-menu-message-"+n,animation:!1,onVisibilityChange:function(e){r(e)}},t.map((function(e){return c.createElement(T5,{key:e.key,onClick:e.action,disabled:!!e.disabled&&e.disabled},"string"==typeof e.icon?Gg(e.icon):e.icon,c.createElement("span",{style:{marginLeft:"5px"}},e.label))})),c.createElement("span",{id:"context-menu-message-"+n,style:{display:"none"}}))}));var T6=null,F6=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20;tb()?location.hash="#"+e:T6?T6(e):t<n?setTimeout((function(){F6(e,t+1,n)}),50):location.href=Sie.baseUrl+"#"+e};function O6(e){var t=e.message,n=(0,c.useState)(!1),r=(0,_.A)(n,2),i=r[0],a=r[1],s=(0,c.useState)(void 0),l=(0,_.A)(s,2),d=l[0],p=l[1],f=(0,c.useState)(""),h=(0,_.A)(f,2),m=h[0],v=h[1],g=(0,c.useState)(""),y=(0,_.A)(g,2),b=y[0],w=y[1],D=function(){var e=(0,o.A)(u().mark((function e(){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),e.prev=1,e.next=4,pie.post("reports/reportMessage",{thread_id:t.thread_id,message_id:t.message_id,category:m,description:b});case 4:n=e.sent,lb(n.data),lP("report-message"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),hb(e.t0);case 13:return e.prev=13,a(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=(0,o.A)(u().mark((function e(){var n,r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pie.get("reports/getReasons?thread_id="+t.thread_id+"&message_id="+t.message_id);case 3:n=e.sent,r=n.data,i=Object.entries(r).map((function(e){var t=(0,_.A)(e,2);return{key:t[0],value:t[1]}})),p(i),i.length>0&&v(i[0].key),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),hb(e.t0),lP("report-message");case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return tK((function(){A()}),[]),c.createElement("div",{className:"bm-report-message-panel"},c.createElement("div",{className:"bm-report-message-panel-information"},c.createElement("div",{className:"bm-report-message-panel-category"},c.createElement("label",{htmlFor:"bm-report-message-panel-category-select"},Mie("Reason","User Reports","bp-better-messages")),c.createElement("select",{id:"bm-report-message-panel-category-select",value:m,onChange:function(e){return v(e.target.value)},disabled:void 0===d},void 0===d&&c.createElement("option",null,Mie("Loading","Frontend Scripts","bp-better-messages")),void 0!==d&&d.map((function(e){return c.createElement("option",{key:e.key,value:e.key},e.value)})))),c.createElement("div",{className:"bm-report-message-panel-description"},c.createElement("label",{htmlFor:"bm-report-message-panel-description-textarea"},Mie("Description","User Reports","bp-better-messages")),c.createElement("textarea",{id:"bm-report-message-panel-description-textarea",value:b,onChange:function(e){return w(e.target.value)}}))),c.createElement("div",{className:"bm-report-message-panel-actions"},c.createElement(dP,{disabled:i||void 0===d,onClick:function(){D()},classes:"",label:Mie("Report Message","User Reports","bp-better-messages")})))}function P6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I6(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P6(Object(n),!0).forEach((function(t){(0,h.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P6(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function B6(e){var t=e.message,n=e.thread,r=(0,c.useContext)(QK).setAction,i=(0,c.useRef)(null),a=(0,c.useRef)(null),s=XW(a),l=(0,_.A)(s,1)[0].width,d=(0,c.useContext)(pN).routerType,p=(0,c.useContext)(L6),f=(0,c.useContext)(c6),h=f.invertedMode,m=f.scrollBottom,v=f.fixedToBottom,g=f.initialLoaded,y=f.fullHeight,b=f.blockAnimation,w=(0,c.useState)(Date.now()),D=(0,_.A)(w,2),A=D[0],E=D[1],k=function(){E(Date.now())};(0,c.useEffect)((function(){return document.addEventListener("better-message-settings-changed",k),function(){document.removeEventListener("better-message-settings-changed",k)}}),[]);var C=(0,c.useRef)(null),x=(0,c.useState)(!1),S=(0,_.A)(x,2),T=S[0],F=S[1],O=D5({id:"context-menu-message-"+t.message_id}),P=O.show,I=O.hideAll,B=(0,c.useCallback)(function(){var e=(0,o.A)(u().mark((function e(n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i.current||!cb(i.current,n)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Hie("BetterMessagesSingleMessageContextMenu",!0,t,oe);case 4:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:if(Yv()){e.next=8;break}return e.abrupt("return");case 8:P({event:n});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),R=function(e,{threshold:t=400,captureEvent:n=!1,detect:r=f6.Pointer,cancelOnMovement:i=!1,cancelOutsideElement:a=!0,filterEvents:o,onStart:s,onMove:u,onFinish:l,onCancel:d}={}){const p=(0,c.useRef)(!1),f=(0,c.useRef)(!1),h=(0,c.useRef)(),m=(0,c.useRef)(),v=(0,c.useRef)(e),g=(0,c.useRef)(null),y=(0,c.useCallback)((e=>r=>{f.current||b6(r)&&(void 0!==o&&!o(r)||(n&&r.persist(),null==s||s(r,{context:e}),g.current=w6(r),f.current=!0,h.current=r.currentTarget,m.current=setTimeout((()=>{v.current&&(v.current(r,{context:e}),p.current=!0)}),t)))}),[n,o,s,t]),b=(0,c.useCallback)((e=>(t,r)=>{b6(t)&&f.current&&(g.current=null,n&&t.persist(),p.current?null==l||l(t,{context:e}):f.current&&(null==d||d(t,{context:e,reason:r??h6.CancelledByRelease})),p.current=!1,f.current=!1,void 0!==m.current&&clearTimeout(m.current))}),[n,l,d]),w=(0,c.useCallback)((e=>t=>{if(b6(t)&&(null==u||u(t,{context:e}),!1!==i&&g.current)){const n=w6(t);if(n){const r=!0===i?25:i,a={x:Math.abs(n.x-g.current.x),y:Math.abs(n.y-g.current.y)};(a.x>r||a.y>r)&&b(e)(t,h6.CancelledByMovement)}}}),[b,i,u]),D=(0,c.useCallback)((t=>{if(null===e)return{};switch(r){case f6.Mouse:{const e={onMouseDown:y(t),onMouseMove:w(t),onMouseUp:b(t)};return a&&(e.onMouseLeave=e=>{b(t)(e,h6.CancelledOutsideElement)}),e}case f6.Touch:return{onTouchStart:y(t),onTouchMove:w(t),onTouchEnd:b(t)};case f6.Pointer:{const e={onPointerDown:y(t),onPointerMove:w(t),onPointerUp:b(t)};return a&&(e.onPointerLeave=e=>b(t)(e,h6.CancelledOutsideElement)),e}}}),[e,b,a,r,w,y]);return(0,c.useEffect)((()=>{function e(e){const t=function(e){return{target:e.target,currentTarget:e.currentTarget,nativeEvent:e,persist:()=>{}}}(e);b()(t)}return window.addEventListener("mouseup",e),window.addEventListener("touchend",e),window.addEventListener("pointerup",e),()=>{window.removeEventListener("mouseup",e),window.removeEventListener("touchend",e),window.removeEventListener("pointerup",e)}}),[b]),(0,c.useEffect)((()=>()=>{void 0!==m.current&&clearTimeout(m.current)}),[]),(0,c.useEffect)((()=>{v.current=e}),[e]),D}(B,{detect:"touch",cancelOnMovement:!0,threshold:1e3}),N=J5(),M="\x3c!-- BM-DELETED-MESSAGE --\x3e"===t.message,L=n&&n.pinned&&n.pinned.includes(t.message_id),j=!1,U=n&&(n.permissions&&n.permissions.isModerator||n.moderators&&n.moderators.length>0&&n.moderators.includes(Jy())),z=n&&n.permissions&&n.permissions.canDeleteAllMessages||U,V=n&&n.permissions&&n.permissions.canPinMessages,q=!1,H="bm-message",W="bm-message-content",K=t.message.includes('<span class="bp-messages-iframe-container">');var $=t.message.startsWith('<div class="bpbm-voice-message"')&&("undefined"!=typeof WaveSurfer||"undefined"!=typeof BetterMessagesVoiceMessages),G=t.message.includes('<span class="bpbm-call '),Q=Sie.reports;if(K&&(W+=" has-iframe"),t.meta||(t.meta={}),t.meta.files){var Y=t.meta.files.filter((function(e){return!!e.id}));Y.length>0?(W+=" has-files",t.meta.files=Y):t.meta.files=null}var X=Number(t.sender_id),Z=0===X;X===Jy()&&(H+=" my",j=!0,Q=!1,n&&n.permissions&&n.permissions.canDeleteOwnMessages&&(z=!0),n&&n.permissions&&n.permissions.canEditOwnMessages&&(q=!0)),T&&(H+=" selected");var J=Sie.favorite,ee=Sie.replies,te=!!Sie.reactions;n&&n.permissions&&!1===n.permissions.canReply&&(ee=!1,te=!1),n&&n.permissions&&n.permissions.preventReplies&&(ee=!1),$&&(W+=" voice-message",W+=" bm-hide-background",q=!1),t.message.includes('class="bpbm-sticker"')&&(W+=" bm-hide-background",q=!1),t.message.includes('class="bpbm-gif"')&&(W+=" bm-hide-background",q=!1),(M||G)&&(q=!1,z=!1,V=!1),ee&&(W+=" reply-enabled");var ne=function(){r({"action":"reply_message","message":t})},re=function(){X5(t.thread_id,Number(t.message_id),"star")},ie=function(){X5(t.thread_id,Number(t.message_id),"unstar")},ae=(0,c.useMemo)((function(){return e.fromBlocked?Mie("Message hidden (User blocked)","Messages from blocked user","bp-better-messages"):mJ(t)}),[t.message,t.meta,e.fromBlocked,A]),oe=[];ee&&!j&&oe.push({key:"context-reply-item",icon:c.createElement(SN,null),label:Mie("Reply","Message context menu","bp-better-messages"),action:ne,style:"standard"}),q&&oe.push({key:"context-edit-item",icon:c.createElement(KJ,null),label:Mie("Edit","Message context menu","bp-better-messages"),action:function(){r({"action":"edit_message","message":t})},style:"standard"}),V&&(L?oe.push({key:"context-unpin-item",icon:c.createElement(xX,null),label:Mie("Unpin Message","Message context menu","bp-better-messages"),action:function(){!function(e,t){C6.apply(this,arguments)}(n.thread_id,t.message_id)},style:"standard"}):oe.push({key:"context-pin-item",icon:c.createElement(_X,null),label:Mie("Pin Message","Message context menu","bp-better-messages"),action:function(){!function(e,t){k6.apply(this,arguments)}(n.thread_id,t.message_id)},style:"standard"})),z&&oe.push({key:"context-delete-item",icon:c.createElement(rS,null),label:Mie("Delete","Message context menu","bp-better-messages"),action:function(){!function(e,t){Y5.apply(this,arguments)}(t.thread_id,[Number(t.message_id)])},style:"danger"}),W.includes("bm-hide-background")||oe.unshift({key:"context-copy-item",icon:c.createElement(Gx,null),label:Mie("Copy message text","Message context menu","bp-better-messages"),action:function(){(function(e){return ub.apply(this,arguments)})(i.current.querySelector(".bm-message-content-text")).then((function(){lb(Mie("Text copied to clipboard","Message context menu","bp-better-messages"),1e3)}))},style:"standard"}),Q&&oe.push({style:"standard",key:"context-refund-item",icon:c.createElement(Xx,null),label:Mie("Report","Message context menu","bp-better-messages"),action:function(){cP("report-message",Rie("Report Message","bp-better-messages"),c.createElement(O6,{message:t}),!0)}});var se=(oe=Hie("better_messages_single_message_context_menu",oe,t,n)).length>0;H=Hie("better_messages_single_message_class",H,t);var ue=function(){var e=(0,o.A)(u().mark((function e(n){var r,a,o=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=o.length>1&&void 0!==o[1]&&o[1],a=n.target,r||!Yv()){e.next=4;break}return e.abrupt("return");case 4:if(!i.current||!cb(i.current,n)){e.next=6;break}return e.abrupt("return");case 6:if("AUDIO"!==a.tagName){e.next=8;break}return e.abrupt("return");case 8:if("VIDEO"!==a.tagName){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,Hie("BetterMessagesSingleMessageContextMenu",!0,t,oe);case 12:if(e.sent){e.next=14;break}return e.abrupt("return");case 14:document.querySelector("#context-menu-message-"+t.message_id)?I():P({event:n});case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ce=(0,c.useMemo)((function(){return c.createElement("span",{ref:a,className:"message-controls"},!!Sie.messagesStatus&&j&&!p&&c.createElement(c.Fragment,null,c.createElement(Q8,{key:t.temp_id?"message_"+t.temp_id:"message_"+t.message_id,message:t,detailed:n&&n.participantsCount>2})),J&&c.createElement(c.Fragment,null,1!==t.favorited&&c.createElement(c.Fragment,null,c.createElement(aP,{content:Mie("Mark as Favorited","Mark message as favorite","bp-better-messages")},c.createElement("span",{onClick:re,className:"favorite"},c.createElement(kJ,null)))),1===t.favorited&&c.createElement(c.Fragment,null,c.createElement(aP,{content:Mie("Remove from Favorited","Remove message from favorited","bp-better-messages")},c.createElement("span",{onClick:ie,className:"favorite active"},c.createElement(vJ,null))))),!p&&c.createElement(c.Fragment,null,ee&&!j&&c.createElement(c.Fragment,null,c.createElement(aP,{content:Mie("Reply","Reply to message button","bp-better-messages")},c.createElement("span",{className:"bpbm-reply",onClick:function(){ne()}},c.createElement(SN,null)))),se&&c.createElement(aP,{content:Mie("More","More button","bp-better-messages")},c.createElement("span",{onClick:function(e){ue(e,!0)},className:"bpbm-more"},c.createElement(RN,null)))))}),[J,t.favorited,se,p,ee,j,n]);t.meta.replyTo&&(W=W.replace("bm-hide-background",""));var le={};W.includes("bm-hide-background")||(le=I6(I6({},le),R())),oe.length>0&&(le=I6(I6({},le),{onContextMenu:ue})),p&&(W+=" favorited-page",le.onClick=function(){"memory"===d?F6("/conversation/"+t.thread_id+"/?messageId="+t.message_id):location.href="#/conversation/"+t.thread_id+"/?messageId="+t.message_id}),le=I6(I6({},le),{ref:C,className:W}),"message"!==Sie.datePosition&&(le.title=yM(t.created_at).toLocal().toLocaleString(_i.DATETIME_MED_WITH_SECONDS));var de="message_"+t.message_id;t.temp_id&&(de="message_"+t.temp_id);var pe={};l>0&&(pe.maxWidth="calc(100% - "+l+"px)");var fe=(0,c.useState)(!1),he=(0,_.A)(fe,2),me=he[0],ve=he[1],ge=(0,c.useMemo)((function(){return!(!(!p&&h&&y.current&&g.current&&v.current)||b.current)&&{height:0,opacity:0}}),[]);return c.createElement(Ix.div,{style:{"overflow":me?"hidden":"initial"},initial:ge,animate:{height:"auto",opacity:1},transition:{duration:.2},onAnimationStart:function(){ve(!0)},onAnimationComplete:function(){ve(!1),!p&&v.current&&g.current&&!b.current&&m()},key:"message-item-content-inner"+de,ref:i,className:H,"data-id":t.message_id,"data-ts":t.created_at},c.createElement(E6,{messageId:t.message_id}),c.createElement("div",cy({},le,{style:pe}),!!t.meta.replyTo&&c.createElement(l6,{message_id:t.meta.replyTo,thread_id:t.thread_id}),!N&&"standard"===e.template&&!Z&&c.createElement(D6,{thread:n,message:t}),!N&&"standard"===e.template&&!Z&&ce,c.createElement("span",{className:"bm-message-content-text"},ae),N&&"standard"===e.template&&!Z&&ce,N&&"standard"===e.template&&!Z&&c.createElement(D6,{thread:n,message:t}),t.meta.files&&!Z&&c.createElement(u6,{message:t}),"modern"===e.template&&!Z&&c.createElement(D6,{thread:n,message:t}),!Z&&te&&t.meta.reactions&&t.meta.reactions.length>0&&c.createElement(x6,{reactions:t.meta.reactions,message_id:t.message_id,thread_id:t.thread_id}),!j&&te&&!Z&&c.createElement(p6,{message_id:t.message_id,reference:C})),"modern"===e.template&&!Z&&ce,oe.length>0&&(0,rT.createPortal)(c.createElement(S6,{menuItems:oe,message_id:t.message_id,setSelected:F}),document.querySelector("body")))}function R6(e,t){var n=!0;return jN()(e.message,t.message)&&jN()(e.thread,t.thread)&&jN()(e.fromBlocked,t.fromBlocked)||(n=!1),n}const N6=c.memo(B6,R6),M6=(0,c.memo)((function(e){var t,n=e.thread,r=e.stack,i="bm-messages-stack",a=wb();(0,c.useEffect)((function(){return document.addEventListener("better-message-settings-changed",a),function(){document.removeEventListener("better-message-settings-changed",a)}}),[]),n&&(t=n.participantsCount<=2&&"thread"===n.type);var o=V9(r[0].sender_id),s=Sie.template,u=Sie.layout,l=n&&n.moderators&&n.moderators.length>0&&n.moderators.includes(r[0].sender_id);n&&"chat-room"===n.type&&("default"!==n.chatRoom.template&&(s=n.chatRoom.template),"default"!==n.chatRoom.modernLayout&&(u=n.chatRoom.modernLayout));var d=Number(r[0].sender_id),p=Jy(),f=0===d;"standard"===s?i+=f?" bm-system":d===p?" outgoing":" incoming":"leftAll"===u?i+=f?" bm-system":d===p?" outgoing bm-left-side":" incoming bm-left-side":"left"===u?i+=f?" bm-system":d===p?" outgoing bm-left-side":" incoming bm-right-side":"right"===u&&(i+=f?" bm-system":d===p?" outgoing bm-right-side":" incoming bm-left-side");var h,m=o&&1===o.blocked,v=!0;if(!t||"hide_private"!==Sie.avatars&&"hide"!==Sie.avatars||(v=!1),t||"hide_groups"!==Sie.avatars&&"hide"!==Sie.avatars||(v=!1),f&&(v=!1),v||(i+=" bm-hide-avatars"),m&&(i+=" bm-stack-hidden"),"stack"===Sie.datePosition){var g=yM(r[0].created_at).toLocal();h=c.createElement(aP,{content:g.toLocaleString(_i.DATETIME_MED_WITH_SECONDS),showOnMobile:!0},c.createElement("span",{className:"bm-time"},c.createElement(hN,{time:g,style:"long"})))}return c.createElement("div",{className:i},v&&c.createElement("div",{className:"bm-pic"},c.createElement(rM,{size:35,user_id:r[0].sender_id})),c.createElement("div",{className:"bm-content"},!f&&c.createElement("div",{className:"bm-info"},c.createElement(vM,{user_id:r[0].sender_id,moderator:l}),h),c.createElement("ul",{className:"bm-messages-listing"},r.map((function(e){var t="message_"+e.message_id;return e.temp_id&&(t="message_"+e.temp_id),c.createElement(N6,{key:"message-item-content-"+t,fromBlocked:m,template:s,message:e,thread:n})})))))}));var L6=c.createContext(!1);function j6(){var e,t,n,r,i=_i.now().year,a=(e=(0,c.useState)(void 0),t=(0,_.A)(e,2),n=t[0],r=t[1],(0,c.useLayoutEffect)((function(){var e={selector:{favorited:1},sort:[{created_at:"asc"}]},t=zre.messages.find(e).$.subscribe({next:function(e){var t=[];e.map((function(e){t.push(e.toMutableJSON())})),r(IM(t))},error:function(e){console.error("An error occurred, trying to reset database",e),lie()}});return function(){t.unsubscribe()}}),[]),n);(0,c.useEffect)((function(){pie.get("getFavorited").then(function(){var e=(0,o.A)(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N7((n=t.data).threads),K9(n.users),q8(n.messages,!1),r=n.messages.map((function(e){return e.message_id})),e.next=7,zre.messages.find({selector:{$and:[{favorited:{$eq:1}},{message_id:{$nin:r}}]}}).update({$set:{favorited:0}}).catch(RM);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){hb(e)}))}),[]);var s=(0,c.useMemo)((function(){return jM(a)}),[a]).dates,l="bm-messages-list bm-template-"+Sie.template;return c.createElement(c.Fragment,null,c.createElement("div",{className:"chat-header"},c.createElement(G5,null)),c.createElement(L6.Provider,{value:!0},c.createElement("div",{className:l,role:"application"},c.createElement(VY,{className:"bm-list"},c.createElement("div",{className:"bm-list-content"},!a&&c.createElement(A8,null),a&&c.createElement(c.Fragment,null,0===s.size&&c.createElement("div",{className:"empty bpbm-favorite-empty"},c.createElement("p",{className:"bpbm-empty-icon"},c.createElement(vJ,null)),c.createElement("p",{className:"bpbm-empty-message"},Mie("No favorited messages yet!","Favorited messages screen","bp-better-messages"))),s.size>0&&c.createElement(c.Fragment,null,Array.from(s.entries()).map((function(e){var t=(0,_.A)(e,2),n=t[0],r=t[1],a=_i.fromISO(n),o="MMMM d";return a.year!==i&&(o+=", y"),c.createElement("div",{className:"bm-date-stack",key:"message_stack_date_"+n},c.createElement(aP,{content:a.toLocal().toLocaleString(_i.DATE_HUGE)},c.createElement("div",{className:"bm-sticky-date"},a.toLocal().toFormat(o))),r.map((function(e){return c.createElement(M6,{key:"message_stack_"+e[0].thread_id+"_"+e[0].message_id,thread:null,stack:e})})))})))))))))}function U6(e){var t=e.reactRoot,n=e.root,r=e.placeholder,i=e.forceMobile,a=void 0!==i&&i,o=e.maximized,s=void 0!==o&&o,u=e.fullScreened,l=void 0!==u&&u,d=e.router,p=void 0===d||d,f=e.initialPage,h=void 0===f?"/":f,m=(0,c.useState)(null),v=(0,_.A)(m,2),g=v[0],y=v[1],b=(0,c.useState)(null),w=(0,_.A)(b,2),D=w[0],A=w[1],E=(0,c.useState)(s),k=(0,_.A)(E,2),C=k[0],x=k[1],S=(0,c.useState)(a),T=(0,_.A)(S,2),F=T[0],O=T[1],P=m2(),I=(0,_.A)(P,2),B=I[0],R=I[1],N=(0,c.useState)("messages"),M=(0,_.A)(N,2),L=M[0],j=M[1],U=o2(),z=(0,_.A)(U,2),V=z[0],q=z[1],H=wb();return(0,c.useEffect)((function(){return document.addEventListener("better-message-settings-changed",H),function(){document.removeEventListener("better-message-settings-changed",H)}}),[]),c.createElement(c.StrictMode,null,c.createElement(p2,{FallbackComponent:function(){return q(!1),gie()?setTimeout((function(){return q(!0)}),500):yie().then((function(){q(!0)})),null}},V&&c.createElement(pN.Provider,{value:{reactRoot:t,root:n,header:g,setHeader:y,wrapper:D,setWrapper:A,isMaximized:C,setIsMaximized:x,useRouter:!0,callActive:B,setCallActive:R,mobileView:F,setMobileView:O,sideTab:L,setSideTab:j,sideThreads:Sie.combinedView&&!Yv(),fullScreened:l,routerType:p?"hash":"memory"}},p&&c.createElement(tN,null,c.createElement(z6,{routerType:"hash"})),!p&&c.createElement(mR,{initialEntries:[h]},c.createElement(z6,{routerType:"memory"}))),!V&&c.createElement(c.Fragment,null,Gg(r))))}function z6(e){var t,n=e.routerType,r=(0,c.useContext)(pN),i=r.root,a=r.sideThreads,s=r.isMaximized,l=r.setHeader,d=r.setWrapper,p=r.callActive,f=r.mobileView,h=r.setMobileView,m=r.sideTab,v=r.setSideTab,g=c.createRef(),y=c.createRef(),b=c.createRef(),w=(0,c.useState)(Sie.minHeight+"px"),D=(0,_.A)(w,2),A=D[0],E=D[1],k=eR(),C=YB();(0,c.useEffect)((function(){"memory"===n&&function(e){T6=e}(k)}),[k]),(0,c.useEffect)((function(){"hash"===n&&C.search&&""!==C.search&&iee(i,C.search)}),[C]);var x=function(){if(g.current){var e=Iie&&Yv()&&f,t=s2(g.current,s,e),n=t.hideSideThreads,r=t.height;E(r),O(n);var i=g.current.closest(".bp-messages-wrap-main");i&&(i.style.height=null)}},S=(0,c.useState)((function(){var e=i.querySelector(".bp-messages-wrap");if(e){var t=Iie&&Yv()&&f;return s2(e,s,t).hideSideThreads}return!1})),T=(0,_.A)(S,2),F=T[0],O=T[1];(0,c.useLayoutEffect)((function(){x()}));var P=(0,c.useState)(),I=(0,_.A)(P,2),B=I[0],R=I[1],N=(0,c.useState)(.2),M=(0,_.A)(N,2),L=M[0],j=M[1],U=Iie?window.innerWidth:null===(t=i.querySelector(".bp-messages-threads-wrapper"))||void 0===t?void 0:t.getBoundingClientRect().width,z="bp-messages-wrap",V="bp-messages-threads-wrapper",q=(0,c.useState)("0px"),H=(0,_.A)(q,2),W=H[0],K=H[1],$={height:A};Iie&&(z+=" mobile-ready"),f&&(z+=" bp-messages-mobile"),s&&(z+=" bp-messages-full-screen"),p&&(z+=" bpbm-call-view"),(0,c.useEffect)((function(){if("bp-better-messages-mini-mobile-container"!==i.id){var e=document.createElement("div");e.classList.add("bm-placeholder-anchor"),e.style.display="none",i.parentNode.insertBefore(e,i),R(e),Iie&&Sie.autoFullScreen&&!f&&i.offsetParent&&h(!0)}}),[]);var G=function(){x(),setTimeout((function(){var e;U=Iie?window.innerWidth:null===(e=i.querySelector(".bp-messages-threads-wrapper"))||void 0===e?void 0:e.getBoundingClientRect().width,ye(ve,a)}),300)};(0,c.useEffect)((function(){return window.addEventListener("resize",G),function(){window.removeEventListener("resize",G)}}),[g]),(0,c.useEffect)((function(){Iie&&(f?(document.body.appendChild(i),i.classList.add("bp-messages-mobile"),document.querySelector("body").classList.add("bp-messages-mobile"),x(),H6()):(B&&B.parentNode.insertBefore(i,B),i.classList.remove("bp-messages-mobile"),document.querySelector("body").classList.remove("bp-messages-mobile"),x()))}),[f]),(0,c.useEffect)((function(){s?(document.body.appendChild(i),document.querySelector("body").classList.add("bp-messages-full-screen"),x(),H6()):(B&&B.parentNode.insertBefore(i,B),document.querySelector("body").classList.remove("bp-messages-full-screen"),x())}),[s]),(0,c.useEffect)((function(){l(y.current),d(b.current)}),[y,b]),a&&!F||(V+=" threads-hidden",$.display="block");var Q=(0,c.useState)(""),Y=(0,_.A)(Q,2),X=Y[0],Z=Y[1],J=(0,c.useState)(null),ee=(0,_.A)(J,2),te=ee[0],ne=ee[1],re=GK(X,300),ie=(0,_.A)(re,1)[0];(0,c.useEffect)((function(){""===X.trim()?v("messages"):("search"!==m&&ne("loading"),v("search"))}),[X]),(0,c.useEffect)((function(){""!==ie&&he(ie)}),[ie]);var ae=(0,c.useState)(null),oe=(0,_.A)(ae,2),se=oe[0],ue=oe[1],ce=(0,c.useState)(null),le=(0,_.A)(ce,2),de=le[0],pe=le[1],fe=Sie.mobileSwipeBack,he=function(){var e=(0,o.A)(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,ne("loading"),e.next=4,pie.post("search",{search:t});case 4:n=e.sent,(r=n.data).updateData&&gK(r.updateData),ne(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),me=XB("conversation/:threadId");C.pathname.startsWith("/")||(C.pathname="/"+C.pathname);var ve="/"===C.pathname,ge=0;me&&(ge=Number(me.params.threadId)),me||ve||(ge=-1);var ye=function(e,t){K(e?"0":Iie?-Math.abs(U)+"px":t?"0":"-100%")};(0,c.useEffect)((function(){ye(ve,a)}),[ve,a]),(0,c.useEffect)((function(){me?Hee.set("mainScreen",ge):Hee.delete("mainScreen"),document.dispatchEvent(new CustomEvent("better-messages-main-screen-change"))}),[me]);var be=[],we=yb();return a&&(!we&&Sie.friends&&Sie.combinedFriends&&be.push(c.createElement("div",{"data-tab":"bpbm-friends-list",key:"side-tabs-friends",onClick:function(){v("friends")},className:"friends"===m?"active":""},c.createElement(JJ,null)," ",Mie("Friends","Combined view tabs","bp-better-messages"))),!we&&Sie.groups&&Sie.combinedGroups&&be.push(c.createElement("div",{"data-tab":"bpbm-groups-list",key:"side-tabs-groups",onClick:function(){v("groups")},className:"groups"===m?"active":""},c.createElement(v1,null)," ",Mie("Groups","Combined view tabs","bp-better-messages")))),!a&&ve&&(z+=" bm-index-page"),c.createElement(S0.Provider,{value:{searchText:X,setSearchText:Z,searchResults:te,setSearchResults:ne}},c.createElement("div",{className:z,ref:g,style:{height:A}},c.createElement(Ix.div,{onTouchMove:function(e){var t;if(!ve&&!z.includes("bpbm-call-view")&&Iie&&fe&&(window.getSelection().isCollapsed&&e.target.closest(".bp-messages-wrap")&&(pe(null),se?t=e.targetTouches[0].clientX-se:(ue(e.targetTouches[0].clientX),t=0),t<0&&(t=0),t>20))){var n=-Math.abs(U)+t;j(0),K(n+"px"),pe(e.targetTouches[0].clientX)}},onTouchEnd:function(e){if(!ve&&Iie&&fe)if(K(-Math.abs(U)+"px"),se&&de){var t=se-de,r=t>50;j(.2),t<-70&&!r?"hash"===n?document.location.hash="#":k("/"):K(-Math.abs(U)+"px"),ue(null)}else ue(null)},className:V,transition:{duration:L},animate:{x:W},style:$,ref:b},a&&c.createElement(c.Fragment,null,c.createElement("div",{className:"bp-messages-side-threads"},c.createElement("div",{className:"chat-header side-header"},Sie.newThread&&c.createElement(aP,{content:Mie("New Conversation",'"New Conversation" Button Tooltip',"bp-better-messages")},c.createElement(rN,{className:"new-message",to:"new-conversation"},c.createElement(t1,{className:"bm-svg"}))),Sie.search&&c.createElement(Q0,{sideSearch:!0})),be.length>0&&c.createElement("div",{className:"bm-side-tabs bm-side-tabs-border-bottom "},c.createElement("div",{"data-tab":"threads-list",key:"side-tabs-threads",onClick:function(){v("messages")},className:"messages"===m?"active":""},c.createElement(yJ,null)," ",Mie("Messages","Combined view tabs","bp-better-messages")),be.map((function(e){return e}))),c.createElement("div",{className:"bm-side-content",style:{display:"messages"===m?"block":"none"}},c.createElement(x0,{emptyType:"no_messages",inRouter:!0})),Sie.friends&&Sie.combinedFriends&&"friends"===m&&c.createElement("div",{className:"bm-side-content"},c.createElement(W0,null)),Sie.groups&&"groups"===m&&c.createElement("div",{className:"bm-side-content"},c.createElement(_1,null)),Sie.search&&c.createElement("div",{className:"bm-side-content",style:{display:"search"===m?"block":"none"}},c.createElement(G0,null)),c.createElement(w1,null)),c.createElement("div",{className:"bp-messages-column"},c.createElement(Rb,{initial:!1,mode:"wait"},c.createElement(bR,{location:C},c.createElement(gR,{path:"conversation/:threadId",element:c.createElement(q5,{threadId:ge})}),Sie.newThread&&c.createElement(gR,{path:"new-conversation",element:c.createElement(g8,{inRouter:!0})}),c.createElement(gR,{path:"send-bulk",element:c.createElement(s0,null)}),Sie.userSettings&&c.createElement(gR,{path:"settings",element:c.createElement($5,null)}),c.createElement(gR,{path:"favorited",element:c.createElement(j6,null)}),c.createElement(gR,{path:"*",element:c.createElement(F1,{forceThreads:F})}))))),!a&&c.createElement(c.Fragment,null,c.createElement("div",{style:{position:"absolute",height:"100%"},className:"bp-messages-column"},c.createElement(F1,null),c.createElement(u2,{height:A,setMobileView:h}),f&&c.createElement(h2,null)),c.createElement("div",{style:{position:"absolute",height:"100%",transform:"translateX(100%)"},className:"bp-messages-column"},c.createElement(q5,{threadId:ge}),c.createElement(bR,{location:C},c.createElement(gR,{path:"/",element:c.createElement(c.Fragment,null)}),c.createElement(gR,{path:"conversation/:threadId",element:c.createElement(c.Fragment,null)}),Sie.newThread&&c.createElement(gR,{path:"new-conversation",element:c.createElement(g8,{inRouter:!0})}),c.createElement(gR,{path:"send-bulk",element:c.createElement(s0,null)}),Sie.userSettings&&c.createElement(gR,{path:"settings",element:c.createElement($5,null)}),c.createElement(gR,{path:"favorited",element:c.createElement(j6,null)}),c.createElement(gR,{path:"*",element:c.createElement(vR,{to:"/"})})),c.createElement(u2,{height:A,setMobileView:h})))),!f&&c.createElement(h2,null)))}function V6(){return q6.apply(this,arguments)}function q6(){return q6=(0,o.A)(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=document.getElementById("bp-messages-full-screen-wrap"))||((t=document.createElement("div")).id="bp-messages-full-screen-wrap"),(n=a2.createRoot(t)).render(c.createElement(U6,{reactRoot:n,root:t,maximized:!0,fullScreened:!0,placeholder:""})),document.body.append(t);case 5:case"end":return e.stop()}}),e)}))),q6.apply(this,arguments)}function H6(){if(!Sie.hPBE)return!1;Array.from(document.querySelectorAll("*:not(.bp-messages-hide-on-full-screen)")).map((function(e){if("floating-ui-root"!==e.id&&"better-messages-modals-container"!==e.id&&"bp-messages-full-screen-wrap"!==e.id){var t=e.classList;if(!(t.contains("bp-messages-mobile")||t.contains("bp-messages-wrap")||t.contains("bp-messages-wrap-main")||t.contains("bp-messages-chat-wrap")||t.contains("bp-messages-wrap-group")||t.contains("bm-toasts-container")||t.contains("bp-messages-full-screen-thread-wrap")||e.closest(".uppy-Container")||e.closest(".bp-messages-wrap")||e.closest(".bm-toasts-container"))){var n=getComputedStyle(e).position;"fixed"!==n&&"absolute"!==n&&e.classList.add("bp-messages-hide-on-full-screen")}}}))}function W6(){return K6.apply(this,arguments)}function K6(){return K6=(0,o.A)(u().mark((function e(){var t,n,r,i=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:"/",!tb()){e.next=4;break}return F6(t),e.abrupt("return");case 4:if(Yv()){e.next=6;break}return e.abrupt("return",V6());case 6:if(n=document.getElementById("bp-better-messages-mini-mobile-container")){e.next=10;break}return F6(t,0,0),e.abrupt("return");case 10:n.classList.contains("bm-initialized")||(n.classList.add("bm-initialized"),r=(0,a2.createRoot)(n),n._reactRootContainer=r,n.style.display="block",r.render(c.createElement(U6,{reactRoot:r,root:n,forceMobile:!0,placeholder:n.innerHTML,router:!1,initialPage:t}))),t&&F6(t);case 12:case"end":return e.stop()}}),e)}))),K6.apply(this,arguments)}var $6=new Map,G6=new Wc;var Q6=[];function Y6(){var e=document.querySelector(".bp-better-messages-mini");if(e){var t=window.getComputedStyle(e);return"none"!==t.display&&"hidden"!==t.visibility}return!1}function X6(e,t){return Z6.apply(this,arguments)}function Z6(){return Z6=(0,o.A)(u().mark((function e(t,n){var r,i,a,o,s,c,l,d,p,f,h,m,v=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=v.length>2&&void 0!==v[2]?v[2]:null,Sie.miniChats&&Y6()){e.next=6;break}zee(Sie.url+"#/conversation/"+t),e.next=62;break;case 6:if(!(Q6.indexOf(t)>-1)){e.next=10;break}return e.abrupt("return",!1);case 10:if(i={thread_id:String(t),open:n},!Iie){e.next=15;break}W6("/conversation/"+t),e.next=62;break;case 15:if(!Sie.miniSync){e.next=43;break}if("number"!=typeof t){e.next=23;break}return e.next=19,zre.mini_chats.findOne({selector:{"thread_id":String(t)}}).exec();case 19:if(!(a=e.sent)){e.next=23;break}return t8(a.id),e.abrupt("return",!1);case 23:if(!r){e.next=31;break}return e.next=26,zre.mini_chats.findOne({selector:{"user_id":String(r)}}).exec();case 26:if(!(o=e.sent)){e.next=30;break}return t8(o.id),e.abrupt("return",!1);case 30:i.user_id=String(r);case 31:return s=1,e.next=34,zre.mini_chats.findOne({sort:[{"id":"desc"}]}).exec();case 34:return(c=e.sent)&&(s=Number(c.id)+1),i.id=String(s),e.next=39,zre.mini_chats.insert(i);case 39:return l=e.sent,e.abrupt("return",l.toMutableJSON());case 43:if(d=Array.from($6.values()),"number"!=typeof t){e.next=49;break}if(!(p=d.find((function(e){return e.thread_id===String(t)})))){e.next=49;break}return t8(p.id),e.abrupt("return",!1);case 49:if(!r){e.next=55;break}if(!(f=d.find((function(e){return e.user_id===r})))){e.next=54;break}return t8(f.id),e.abrupt("return",!1);case 54:i.user_id=r;case 55:return h=Math.max.apply(Math,(0,z.A)(Array.from($6.keys()))),(m=1)<=h&&(m=h+1),i.id=String(m),$6.set(i.id,i),G6.next(!0),e.abrupt("return",i);case 62:case"end":return e.stop()}}),e)}))),Z6.apply(this,arguments)}function J6(e){return e8.apply(this,arguments)}function e8(){return(e8=(0,o.A)(u().mark((function e(t){var n,r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Sie.miniSync){e.next=8;break}return e.next=3,zre.mini_chats.findOne({selector:{thread_id:String(t)}}).exec();case 3:if(!(n=e.sent)){e.next=6;break}return e.abrupt("return",n.toMutableJSON());case 6:e.next=12;break;case 8:if(r=Array.from($6.values()),!(i=r.find((function(e){return e.thread_id===t})))){e.next=12;break}return e.abrupt("return",i);case 12:return e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function t8(e){return n8.apply(this,arguments)}function n8(){return(n8=(0,o.A)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=document.querySelector(".bp-better-messages-mini"))&&n.dispatchEvent(new CustomEvent("better-messages-highlight-chat-"+t));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function r8(e,t){return i8.apply(this,arguments)}function i8(){return(i8=(0,o.A)(u().mark((function e(t,n){var r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Sie.miniSync){e.next=7;break}return e.next=3,zre.mini_chats.findOne(t).exec();case 3:(r=e.sent)&&r.incrementalUpdate({$set:n}).catch(RM),e.next=11;break;case 7:i=$6.get(t),Object.keys(n).map((function(e){i[e]=n[e]})),$6.set(t,i),G6.next(!0);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function a8(e){return o8.apply(this,arguments)}function o8(){return(o8=(0,o.A)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Sie.miniSync){e.next=11;break}return e.next=3,zre.mini_chats.findOne(t).exec();case 3:if(!(n=e.sent)){e.next=8;break}return e.abrupt("return",n.incrementalRemove().catch(RM));case 8:return e.abrupt("return",!1);case 9:e.next=13;break;case 11:$6.delete(t),G6.next(!0);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function s8(e){return u8.apply(this,arguments)}function u8(){return(u8=(0,o.A)(u().mark((function e(t){var n,r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Sie.miniSync){e.next=9;break}return e.next=3,zre.mini_chats.findOne({selector:{thread_id:String(t)}}).exec();case 3:if(!(n=e.sent)){e.next=7;break}return e.next=7,n.incrementalRemove();case 7:e.next=12;break;case 9:r=Array.from($6.values()),(i=r.find((function(e){return e.thread_id===t})))&&($6.delete(i.id),G6.next(!0));case 12:return e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l8(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c8(Object(n),!0).forEach((function(t){(0,h.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c8(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d8=c.createContext({uploader:null,reply:null,sendMessage:null,saveMessage:null}),p8=(0,c.forwardRef)((function(e,t){e=l8(l8({},{placeholder:!1,initialMessage:"",subject:null,recipients:[]}),e);var n=(0,c.useContext)(QK),r=n.insideRouter,i=n.screen,a=n.thread,s=n.threadId,l=n.action,d=n.actionRef,p=n.setAction,f=n.chatMain,h=(0,c.useContext)(y8).chatId,m=(0,c.useRef)(null),v=(0,c.useRef)(null),g=(0,c.useState)(!1),y=(0,_.A)(g,2),b=y[0],w=y[1],D=YV(!1),A=(0,_.A)(D,3),E=A[0],k=A[1],C=A[2],x=(0,c.useState)(!0),S=(0,_.A)(x,2),T=S[0],F=S[1],O=(0,c.useState)(!1),P=(0,_.A)(O,2),I=P[0],B=P[1],R=(0,c.useState)(!1),N=(0,_.A)(R,2),M=N[0],L=N[1],j=(0,c.useState)(0),U=(0,_.A)(j,2),z=U[0],V=U[1],q=(0,c.useRef)(null);(0,c.useRef)(null);(0,c.useEffect)((function(){M?(V(0),q.current=window.setInterval((function(){V((function(e){return e+1}))}),1e3)):clearInterval(q.current)}),[M]);var H=function(){var e=(0,o.A)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,k(!0),bee(),e.next=5,BetterMessagesVoiceMessages.recorder.startMic();case 5:return e.next=7,BetterMessagesVoiceMessages.recorder.startRecording();case 7:L(!0),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),wee(),db(e.t0);case 14:return e.prev=14,k(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,10,14,17]])})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=(0,o.A)(u().mark((function e(){var t,n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(!1),wee(),k(!0),e.prev=3,e.next=6,BetterMessagesVoiceMessages.recorder.stopRecording(!0);case 6:return t=e.sent,e.next=9,BetterMessagesVoiceMessages.recorder.stopMic();case 9:return(n=new FormData).append("data",t),l&&"reply_message"===l.action&&((r={}).reply_to=l.message.message_id,n.append("meta",JSON.stringify(r))),e.next=14,pie.post("thread/"+s+"/sendVoice",n,{requestType:"upload",headers:{"Content-Type":"multipart/form-data"}});case 14:return e.prev=14,l&&p(!1),k(!1),e.finish(14);case 18:case"end":return e.stop()}}),e,null,[[3,,14,18]])})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=(0,o.A)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,BetterMessagesVoiceMessages.recorder.stopRecording(!1);case 3:return e.next=5,BetterMessagesVoiceMessages.recorder.stopMic();case 5:return e.prev=5,wee(),L(!1),e.finish(5);case 9:case"end":return e.stop()}}),e,null,[[0,,5,9]])})));return function(){return e.apply(this,arguments)}}(),$=("function"==typeof window.BMrecordVoiceMessage||"undefined"!=typeof BetterMessagesVoiceMessages)&&s>0&&!Sie.disableVoiceMessages&&!(a.permissions&&a.permissions.preventVoiceMessages),G=Sie.attachments;a&&"newThread"!==i&&(a.permissions&&!a.permissions.canUpload&&(G=void 0),G&&"chat-room"===a.type&&!a.chatRoom.enableFiles&&(G=void 0)),tK((function(){t.current.addEventListener("better-message-editor-paste-file",(function(e){v.current&&v.current.addFile(e.detail.file)}))}),[]),(0,c.useEffect)((function(){bK(m),M&&K()}),[s]);var Q,Y,X=(0,c.useRef)(null),Z=(0,c.useRef)(null);X.current=e.subject,Z.current=e.recipients,r&&(Q=eR(),Y=YB()),null===s&&(s=0);var J=function(){var e=(0,o.A)(u().mark((function e(){var t,n,i,o,c,l;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!C.current){e.next=2;break}return e.abrupt("return");case 2:return t=!!v.current&&v.current.getFilesCount()>0,n={},i=t||!Sie.fast,r&&Y.pathname.includes("new-conversation")&&(i=!0),e.next=8,Hie("better_messages_before_message_sent",!1,s,a);case 8:if(!e.sent){e.next=11;break}return e.abrupt("return");case 11:if(e.prev=11,0!==s){e.next=34;break}if(o=new Set,!t){e.next=21;break}return i=!0,k(!0),e.next=19,v.current.uploadFiles(s);case 19:e.sent.successful.map((function(e){o.add(Number(e.meta.id))}));case 21:return e.next=23,MK(s,m,null,o,Z.current,X.current);case 23:if(!(c=e.sent)){e.next=32;break}if(!r){e.next=29;break}Q("/conversation/"+c.thread_id),e.next=32;break;case 29:if($Y()(h)){e.next=32;break}return e.next=32,r8(h,{thread_id:String(c.thread_id)});case 32:e.next=55;break;case 34:if(d&&d.current&&"reply_message"===d.current.action&&(n.reply_to=d.current.message.message_id),l=new Set,!t){e.next=43;break}return i=!0,k(!0),e.next=41,v.current.uploadFiles(s);case 41:e.sent.successful.map((function(e){l.add(Number(e.meta.id))}));case 43:return e.next=45,MK(s,m,n,l,[],"");case 45:if(!e.sent){e.next=54;break}if(!r){e.next=51;break}Y.pathname.includes("new-conversation")&&Q("/conversation/"+s),e.next=54;break;case 51:if($Y()(h)){e.next=54;break}return e.next=54,r8(h,{thread_id:String(s)});case 54:d.current&&p(!1);case 55:return e.prev=55,i&&k(!1),e.finish(55);case 58:case"end":return e.stop()}}),e,null,[[11,,55,58]])})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=(0,o.A)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!E){e.next=2;break}return e.abrupt("return",!1);case 2:return k(!0),e.prev=3,e.next=6,oX(s,l.message.message_id,m);case 6:return e.prev=6,k(!1),p(!1),e.finish(6);case 10:case"end":return e.stop()}}),e,null,[[3,,6,10]])})));return function(){return e.apply(this,arguments)}}();(0,c.useEffect)((function(){if(l&&"edit_message"===l.action?w(!0):w(!1),v.current&&v.current.getUppy())if(l){if("edit_message"===l.action){var e=l.message;e.meta.files&&e.meta.files.map((function(e){Cs.get(e.url,{responseType:"blob"}).then((function(t){v.current.getUppy().addFile({id:e.id,data:new File([t.data],e.name),name:e.name,type:e.mimeType})}))}))}}else v.current.getUppy().cancelAll({reason:"user"})}),[l]);var te=Hie("better_messages_send_button_after","",a);return c.createElement(d8.Provider,{value:{reply:t.current,uploader:v.current,sendMessage:J,saveMessage:ee}},c.createElement(Rb,null,l&&"edit_message"===l.action&&c.createElement(Ix.div,{style:{zIndex:0},initial:{y:"100%"},animate:{y:"0%"},transition:{duration:.2},exit:{y:"100%"},className:"bpbm-preview-message bpbm-edit-message"},c.createElement("div",{className:"bpbm-preview-message-cancel",onClick:function(){p(!1)}},c.createElement(Kx,{className:"bm-svg"})),c.createElement("div",{className:"bpbm-preview-message-content"},c.createElement("span",{className:"bpbm-preview-message-name"},Mie("Edit message","Edit message panel","bp-better-messages")),c.createElement("div",{className:"bpbm-preview-message-text"},SJ(l.message))))),c.createElement(Rb,null,l&&"reply_message"===l.action&&c.createElement(Ix.div,{style:{zIndex:0},initial:{y:"100%"},animate:{y:"0%"},transition:{duration:.2},exit:{y:"100%"},className:"bpbm-preview-message bpbm-reply-message"},c.createElement("div",{className:"bpbm-preview-message-cancel",onClick:function(){p(!1)}},c.createElement(Kx,{className:"bm-svg"})),c.createElement("div",{className:"bpbm-preview-message-content"},c.createElement("span",{className:"bpbm-preview-message-name"},Mie("Reply to message","Reply message panel","bp-better-messages")),c.createElement("div",{className:"bpbm-preview-message-text"},SJ(l.message))))),c.createElement("div",{ref:t,className:"bm-reply"+(G?" bm-attachments":""),style:{visibility:a||e.placeholder?"visible":"hidden"}},(a||e.placeholder)&&c.createElement(c.Fragment,null,(e.placeholder||a.permissions&&a.permissions.canReply)&&c.createElement(c.Fragment,null,G&&c.createElement(nK,{ref:v,threadId:s,sendMessage:J,chatMain:f,setHasFiles:B,overwriteExtensions:a.permissions.canUploadExtensions?a.permissions.canUploadExtensions:null,overwriteMaxSize:a.permissions.canUploadMaxSize?a.permissions.canUploadMaxSize:null}),c.createElement(p0,{ref:m,isDisabled:E,setEditorEmpty:F,initialMessage:e.initialMessage}),M&&c.createElement("span",{className:"bpbm-record-voice"},c.createElement("span",{className:"bpbm-record-voice-delete",onClick:function(){K()}},c.createElement(Kx,{className:"bm-svg"})),c.createElement("span",{className:"bpbm-record-voice-time"},Vee(1e3*z)),c.createElement("span",{className:"bpbm-record-voice-send",onClick:function(){W()}},c.createElement(Wx,{className:"bm-svg"}))),!M&&c.createElement(c.Fragment,null,Sie.gifs&&c.createElement(IJ,null),Sie.stickers&&c.createElement(qY,null),!Iie&&c.createElement(GV,{editor:m}),!b&&c.createElement(c.Fragment,null,!1===E&&c.createElement(c.Fragment,null,$&&T&&!I&&c.createElement(aP,{content:Rie("Record Voice Message","bp-better-messages")},c.createElement("div",{tabIndex:0,className:"bm-send-message",onClick:function(){H()}},c.createElement(iX,null))),(!$||!T||I)&&c.createElement(aP,{content:Rie("Send Message","bp-better-messages")},c.createElement("div",{tabIndex:0,className:"bm-send-message",onMouseDown:function(e){e.preventDefault()},onClick:function(){J()},onKeyDown:function(e){"Enter"===e.code&&J()}},c.createElement(XY,null)))),E&&c.createElement("div",{className:"bm-send-message"},c.createElement(aX,{className:"bm-spin-animation"}))),b&&c.createElement(aP,{content:Mie("Save Message",'"Edit message" button tooltip',"bp-better-messages")},c.createElement(c.Fragment,null,!E&&c.createElement("div",{className:"bm-send-message",onMouseDown:function(e){e.preventDefault()},onClick:function(){ee()}},c.createElement(GY,null)),E&&c.createElement("div",{className:"bm-send-message"},c.createElement(aX,{className:"bm-spin-animation"})))),Gg(te))),!e.placeholder&&a.permissions&&!a.permissions.canReply&&c.createElement(c.Fragment,null,c.createElement(b0,{thread:a})))))}));function f8(){var e=(0,c.useContext)(pN),t=e.isMaximized,n=e.setIsMaximized,r=e.fullScreened;return c.createElement(c.Fragment,null,c.createElement(aP,{showOnMobile:!1,content:Mie("Back",'"Back" Button Tooltip',"bp-better-messages")},c.createElement(rN,{to:"/",className:"back"},c.createElement(hX,null))),c.createElement("span",{id:"bm-new-thread-title"},Mie("Start a new conversation","New threads screen","bp-better-messages")),Sie.canBulk&&c.createElement(aP,{showOnMobile:!1,content:Mie("Bulk Message","New threads screen","bp-better-messages")},c.createElement(rN,{to:"/send-bulk",className:"mass-message"},c.createElement(YY,null))),Sie.fullScreen&&c.createElement(c.Fragment,null,!t&&c.createElement(c.Fragment,null,c.createElement(aP,{showOnMobile:!1,content:Mie("Maximize",'"Maximize messages window" Button Tooltip',"bp-better-messages")},c.createElement("span",{onClick:function(){n(!0)},className:"bpbm-maximize"},c.createElement($J,{className:"bm-svg"})))),t&&!r&&c.createElement(c.Fragment,null,c.createElement(aP,{showOnMobile:!1,content:Mie("Minimize",'"Minimize messages window" Button Tooltip',"bp-better-messages")},c.createElement("span",{onClick:function(){n(!1)},className:"bpbm-minimize"},c.createElement(QJ,{className:"bm-svg"}))))))}function h8(){return h8=(0,o.A)(u().mark((function e(t){var n,r,i,a=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]&&a[1],e.prev=1,e.next=4,pie.post("thread/suggest",{recipients:t,forceNew:n});case 4:return r=e.sent,(i=r.data).thread_id||(i.thread_id=0),e.abrupt("return",i);case 10:throw e.prev=10,e.t0=e.catch(1),db(e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),h8.apply(this,arguments)}function m8(e){return v8.apply(this,arguments)}function v8(){return(v8=(0,o.A)(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,pie.get("suggestions",{params:{search:t}});case 3:return K9((r=e.sent).data),r.data.map((function(e){O9.users.add(Number(e.user_id)),n.push({value:e.user_id})})),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g8(e){var t=(0,c.useState)(0),n=(0,_.A)(t,2),r=n[0],i=n[1],a=(0,c.useState)(Sie.forceThread),s=(0,_.A)(a,2),l=s[0],d=s[1],p=(0,c.useState)(!1),f=(0,_.A)(p,2),h=f[0],m=f[1],v=(0,c.useState)(!1),g=(0,_.A)(v,2),y=g[0],b=g[1],w=(0,c.useState)([]),D=(0,_.A)(w,2),A=D[0],E=D[1],k=(0,c.useState)([]),C=(0,_.A)(k,2),x=C[0],S=C[1],T=(0,c.createRef)(),F=(0,c.createRef)(),O=(0,c.useState)(null),P=(0,_.A)(O,2),I=P[0],B=P[1],R=(0,c.useState)(!1),N=(0,_.A)(R,2),M=N[0],L=N[1],j=(0,c.useState)([]),U=(0,_.A)(j,2),V=U[0],q=U[1],H=(0,c.useState)(!1),W=(0,_.A)(H,2),K=W[0],$=W[1],G=(0,c.useState)(""),Q=(0,_.A)(G,2),Y=Q[0],X=Q[1],Z=(0,c.useState)(""),J=(0,_.A)(Z,2),ee=J[0],te=J[1],ne=(0,c.createRef)(),re=(0,c.useState)(null),ie=(0,_.A)(re,2),ae=ie[0],oe=ie[1];(0,c.useEffect)((function(){oe(ne.current)}),[ne]),tK((function(){Sie.suggestions&&(b(!0),pie.get("userSuggestions").then((function(e){var t=[];e.data.map((function(e){t.push({value:Number(e)})})),E(t),b(!1)})))}),[]),(0,c.useEffect)((function(){var e=new Proxy(new URLSearchParams(window.location.hash),{get:function(e,t){return e.get(t)}}),t=F.current;if(t&&e.to){var n=e.to.split(",");if(n.length>0){var r=[];(0,z.A)(new Set(n)).map((function(e){r.push({value:Number(e)})})),t.setValue(r)}}e.subject&&X(e.subject),e.message&&te(e.message)}),[window.location.hash]),(0,c.useEffect)((function(){x.length>0?function(e){return h8.apply(this,arguments)}(x,l).then(function(){var e=(0,o.A)(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.thread_id,t.result,(r=t.errors)&&r.length>0?(i(0),q(r),m(!1),$(!1),L(!1)):(i(n),l||0===n?(i(0),m(!0),$(!0),L(!1)):(m(!1),$(!1),L(!0),Cie(n,null)),q([]));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()):(i(0),m(!1),$(!1),L(!1),q([]))}),[x,l]),(0,c.useEffect)((function(){d(Sie.forceThread)}),[x]);var se=y7(r);return(0,c.useEffect)((function(){B(T.current)}),[T]),c.createElement(c.Fragment,null,e.inRouter&&c.createElement("div",{className:"chat-header"},c.createElement(f8,null)),c.createElement(y4,{ref:F,autoFocus:!1,defaultMenuIsOpen:Sie.suggestions,className:"bm_user_selector",classNamePrefix:"bm_user_selector",isMulti:!0,placeholder:Mie("Start typing to search members","New threads screen","bp-better-messages"),defaultOptions:A,loadOptions:m8,onChange:function(e,t){S(e.map((function(e){return e.value})))},components:{ValueContainer:function(e){return c.createElement(c.Fragment,null,c.createElement("span",{className:"bm-to-label"},Mie("To: ","New threads screen","bp-better-messages")),c.createElement(yU.ValueContainer,e))},DropdownIndicator:function(){return null},IndicatorSeparator:function(){return null},MultiValueLabel:(0,c.memo)((function(e){return c.createElement(c.Fragment,{key:"user_"+e.data.value},c.createElement(rM,{key:"label_avatar_"+e.data.value,user_id:e.data.value,link:!1,size:20}),c.createElement(vM,{key:"label_username_"+e.data.value,link:!1,user_id:e.data.value}))}),(function(e,t){return _s(e.data,t.data)})),NoOptionsMessage:function(e){return c.createElement("div",{className:"bm_user_selector__menu-notice bm_user_selector__menu-notice--no-options"},y&&Mie("Loading...","New threads screen","bp-better-messages"),!y&&Mie("No members found","New threads screen","bp-better-messages"))},LoadingMessage:function(e){return c.createElement("div",{className:"bm_user_selector__menu-loading"},Mie("Loading...","New threads screen","bp-better-messages"))},Option:v3}}),Sie.subjects&&K&&c.createElement(Ix.div,{style:{zIndex:0},initial:{y:"-100%"},animate:{y:"0%"},transition:{duration:.2},exit:{y:"-100%"},className:"bm_thread_subject_input"},c.createElement("label",{className:"bm-to-label"},Mie("Subject:","New threads screen","bp-better-messages")),c.createElement("input",{className:"thread_subject__input",type:"text",placeholder:Mie("Enter conversation subject","New threads screen","bp-better-messages"),autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",spellCheck:"false","aria-expanded":"false",onChange:function(e){X(e.target.value)},value:Y})),V.length>0&&c.createElement(Ix.div,{style:{zIndex:0},initial:{y:"-100%"},animate:{y:"0%"},transition:{duration:.2},exit:{y:"-100%"},className:"bm_thread_create_error bm-alert bm-error"},c.createElement("ul",null,V.map((function(e,t){return c.createElement("li",{key:"thread_start_error_"+t},Gg(e))})))),M&&c.createElement(Ix.div,{style:{zIndex:0,flexDirection:"column",textAlign:"center"},initial:{y:"-100%"},animate:{y:"0%"},transition:{duration:.2},exit:{y:"-100%"},className:"bm-conversation-exist bm-alert bm-info"},c.createElement("p",{style:{marginBottom:"5px"}},Mie("You already have a conversation with this member.","New threads screen","bp-better-messages"),c.createElement("br",null),Mie("Type a message below to continue the conversation.","New threads screen","bp-better-messages")),!Sie.singleThread&&c.createElement("button",{onClick:function(e){e.preventDefault(),d(!0)}},Mie("Start a new conversation","New threads screen","bp-better-messages"))),c.createElement(QK.Provider,{value:{syncing:!1,threadId:r,thread:se,reply:I,insideRouter:e.inRouter,screen:"newThread",action:null,actionRef:null,setAction:null,setScreen:null,call:null,chatMain:ae}},c.createElement("div",{className:"bpbm-chat-content"},c.createElement("div",{ref:ne,className:"bpbm-chat-main"},c.createElement("div",{className:"bpbm-chat-main-primary"},se&&!h&&c.createElement(c.Fragment,null,c.createElement(F8,{thread:se,threadId:r}),c.createElement(p8,{ref:T})),h&&c.createElement(c.Fragment,null,c.createElement(F8,{threadId:0,placeholder:!0}),c.createElement(p8,{ref:T,placeholder:!0,initialMessage:ee,recipients:x,subject:Y})),!se&&!h&&c.createElement(c.Fragment,null,c.createElement("div",{style:{height:"100%"}}),c.createElement(p8,{ref:T,placeholder:!0})))))))}var y8=c.createContext({open:null,setOpen:null,chatId:null});function b8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w8(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b8(Object(n),!0).forEach((function(t){(0,h.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b8(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D8(e){(0,c.useContext)(y8);e=w8(w8({},{opacity:.3}),e);return c.createElement(c.Fragment,null,c.createElement("div",{className:"bm-list",style:{paddingTop:0,marginTop:20,opacity:e.opacity,overflow:"hidden"}},(0,z.A)(Array(10)).map((function(e,t){return c.createElement("div",{key:"messages-placeholder-"+t,className:"bm-date-stack"},c.createElement("div",{className:"bm-messages-stack "+(t%2==0?"bm-left-side":"bm-right-side")},c.createElement("div",{className:"bm-pic",style:{top:"0"}},c.createElement("span",{className:"avatar bbpm-avatar"},c.createElement("div",{className:"bm-placeholder-wrapper",style:{position:"relative",width:35,height:35,borderRadius:"4px",overflow:"hidden"}},c.createElement(qN,null)))),c.createElement("div",{className:"bm-content"},c.createElement("div",{className:"bm-info"},c.createElement("div",{className:"name"},c.createElement("div",{className:"bm-placeholder-wrapper",style:{position:"relative",width:"100px",height:"20px",borderRadius:"4px",overflow:"hidden"}},c.createElement(qN,null)))),c.createElement("ul",{className:"bm-messages-listing"},c.createElement("div",{className:"bm-message  my"},c.createElement("div",{className:"bm-message-content no-padding"},c.createElement("span",{className:"bm-message-content-text"},c.createElement("div",{className:"bm-placeholder-wrapper",style:{position:"relative",minWidth:"150px",maxWidth:"350px",width:"100%",height:"25px",borderRadius:"4px",overflow:"hidden"}},c.createElement(qN,null)))))))))}))))}const A8=c.memo(D8);function E8(e){var t=e.messageId,n=e.threadId,r=(0,c.useContext)(c6).scrollTo,i=I8(t,!0);return i?c.createElement("div",{className:"bm-top-pinned-message"},c.createElement("div",{className:"bm-top-pinned-message-content",onClick:function(){r(n,t)}},c.createElement("span",{className:"bm-top-pinned-message-label"},Mie("Pinned Message","Messages pinning","bp-better-messages")),c.createElement("span",{className:"bm-top-pinned-message-text"},function(e){e.meta||(e.meta={});var t=e.message;return t.startsWith('<span class="bpbm-sticker"')?c.createElement("div",{className:"last-message-rich"},c.createElement(IN,null)," ",Rie("Sticker","bp-better-messages")," "):t.startsWith('<span class="bpbm-gif"')?c.createElement("div",{className:"last-message-rich"},c.createElement(DJ,{style:{fontSize:18}})):t.startsWith('<div class="bpbm-voice-message"')?c.createElement("div",{className:"last-message-rich"},c.createElement(iX,null)," ",Rie("Voice Message","bp-better-messages")," "):(t=mJ(e,14,"pinned"),e.meta.files&&t.push(c.createElement("div",{className:"last-message-rich",key:"file-attachments-"+e.message_id},c.createElement(Qx,null)," ",Lie(Nie("%s attachment","%s attachments",e.meta.files.length,"Conversations list item","bp-better-messages"),e.meta.files.length))),t)}(i)))):null}var k8=c.createContext({chatId:null,open:null});function C8(){var e=(0,c.useContext)(QK),t=e.thread,n=e.call,r=(0,c.useContext)(k8).chatId,i=[];t&&t.groupCall&&t.permissions&&(t.groupCall.video&&t.permissions.canGroupVideo&&i.push(c.createElement("div",{key:"pinned-item-group-video-call",className:"bpbm-group-call-in-progress bpbm-group-call-type-video"},c.createElement("span",{className:"bpbm-group-call-in-progress-info"},c.createElement(CX,null),c.createElement("span",{className:"bpbm-group-call-participant-count"},t.groupCall.video)," ",Mie("participants are in group video chat","Group Video Chat","bp-better-messages")),c.createElement("span",{className:"bpbm-group-call-in-progress-join"},c.createElement("button",{onClick:function(){r?b2(t.thread_id,"group-video"):n.startGroupCall("video")}},Mie("Join Video Chat","Group Video Chat","bp-better-messages"))))),t.groupCall.audio&&t.permissions.canGroupAudio&&i.push(c.createElement("div",{key:"pinned-item-group-video-call",className:"bpbm-group-call-in-progress bpbm-group-call-type-audio"},c.createElement("span",{className:"bpbm-group-call-in-progress-info"},c.createElement(kX,null),c.createElement("span",{className:"bpbm-group-call-participant-count"},t.groupCall.audio)," ",Mie("participants are in group audio chat","Group Audio Chat","bp-better-messages")),c.createElement("span",{className:"bpbm-group-call-in-progress-join"},c.createElement("button",{onClick:function(){r?b2(t.thread_id,"group-audio"):n.startGroupCall("audio")}},Mie("Join Audio Chat","Group Audio Chat","bp-better-messages"))))));var a=Hie("better_messages_messages_list_before","",t);return c.createElement("div",{className:"bm-before-message-list"},""!==a&&Gg(a),t.threadInfo&&c.createElement("div",{className:"bm-thread-info"},Gg(t.threadInfo)),t.pinned&&c.createElement(E8,{messageId:t.pinned[0],threadId:t.thread_id}),i.map((function(e){return e})))}const _8=(0,c.memo)((function(e){var t,n=e.thread,r=e.entry,i=e.firstUnreadMessage,a=void 0===i?null:i,o=(0,_.A)(r,2),s=o[0],u=o[1],l=_i.fromISO(s),d=l.toISODate(),p=_i.now().year,f=_i.now().toISODate(),h=_i.now().minus({day:1}).toISODate();return t=d===f?Mie("Today","Messages stack date (today)","bp-better-messages"):d===h?Mie("Yesterday","Messages stack date (yesterday)","bp-better-messages"):l.year!==p?l.toLocal().toFormat(Mie("MMMM d, y","Messages stack date (previous years) https://moment.github.io/luxon/#/formatting?id=table-of-tokens","bp-better-messages")):l.toLocal().toFormat(Mie("MMMM d","Messages stack date (current year) https://moment.github.io/luxon/#/formatting?id=table-of-tokens","bp-better-messages")),c.createElement("div",{className:"bm-date-stack",key:"message_stack_date_"+s},c.createElement(aP,{content:l.toLocal().toLocaleString(_i.DATE_HUGE)},c.createElement("div",{className:"bm-sticky-date"},t)),c.createElement(c.Fragment,{key:"message_stack_date_"+s+"_stacks"},u.map((function(e,t){var r=a&&a===e[0].message_id;return c.createElement(c.Fragment,{key:"message_stack_fragment_"+e[0].thread_id+"_"+t},r&&c.createElement("div",{className:"bm-unread-messages",key:"unread_messages_firstUnreadMessage"},Mie("Unread messages","Messages list unread label","bp-better-messages")),n&&c.createElement(M6,{key:"message_stack_"+e[0].thread_id+"_"+e[0].sender_id+"_"+e[0].created_at,thread:n,stack:e}))}))))}),(function(e,t){var n=!0;return jN()(e.thread,t.thread)&&jN()(e.entry,t.entry)||(n=!1),n}));var x8=40,S8=40,T8=Yv()?20:80;const F8=(0,c.memo)((function(e){var t=e.threadId,n=e.thread,r=void 0!==n&&n,i=e.placeholder,a=void 0!==i&&i,s=e.firstUnreadMessage,l=void 0===s?null:s,d=(0,c.useMemo)((function(){return("iOS"===Gv.name?Wv(Gv.version,"17")>=0:!(!Qv.name||!Qv.name.toLowerCase().includes("safari")))||!Xv()}),[]),p=(0,c.useMemo)((function(){return!d||!Xv()}),[d]),f=(0,c.useRef)(r);f.current=r;var h=(0,c.useState)(null),m=(0,_.A)(h,2),v=m[0],g=m[1],y=(0,c.useRef)(null),b=(0,c.useRef)(0),w=function(e){Tt(),clearTimeout(xt.current),y.current=e,g(e)},D=(0,c.useState)(null),A=(0,_.A)(D,2),E=A[0],k=A[1],C=(0,c.useRef)(null);C.current=E;var x=function(e){var t=YV(null),n=(0,_.A)(t,3),r=(n[0],n[1]),i=n[2];return(0,c.useLayoutEffect)((function(){var t,n=zre.messages.count({selector:{thread_id:e}});return t=n.$.subscribe((function(e){r(e)})),function(){t&&t.unsubscribe()}}),[e]),i}(t),S=YV(0),T=(0,_.A)(S,3),F=T[0],O=T[1],P=T[2],I=(0,c.useRef)(null),B=null;if(QB()){var R=uN(),N=(0,_.A)(R,2),M=N[0];N[1];B=Number(M.get("messageId"))}var L=(0,c.useState)(!1),j=(0,_.A)(L,2),U=j[0],V=j[1],q=(0,c.useRef)(null),H=(0,c.useRef)(null),W=(0,c.useRef)(null),K=(0,c.useRef)(null),$=(0,c.useRef)(!1),G=(0,c.useState)(!1),Q=(0,_.A)(G,2),Y=Q[0],X=Q[1],Z=(0,c.useState)(!1),J=(0,_.A)(Z,2),ee=J[0],te=J[1],ne=YV(!1),re=(0,_.A)(ne,3),ie=re[0],ae=re[1],oe=re[2],se=YV(!1),ue=(0,_.A)(se,3),ce=ue[0],le=ue[1],de=ue[2],pe=(0,c.useRef)(!1),fe=YV(!1),he=(0,_.A)(fe,3),me=he[0],ve=he[1],ge=he[2],ye=YV(!0),be=(0,_.A)(ye,3),we=be[0],De=be[1],Ae=be[2],Ee=(0,c.useRef)(null),ke=(0,c.useState)(!1),Ce=(0,_.A)(ke,2),_e=Ce[0],xe=Ce[1],Se=(0,c.useRef)(null),Te=(0,c.useState)(!1),Fe=(0,_.A)(Te,2),Oe=Fe[0],Pe=Fe[1],Ie=(0,c.useRef)(null),Be=YV(!0),Re=(0,_.A)(Be,3),Ne=Re[0],Me=Re[1],Le=Re[2],je=YV(!1),Ue=(0,_.A)(je,3),ze=Ue[0],Ve=Ue[1],qe=Ue[2],He=(0,c.useRef)(!1),We=(0,c.useRef)(null),Ke=(0,c.useRef)(null),$e=(0,c.useRef)(null),Ge=(0,c.useRef)(null),Qe=function(e){var t=(0,c.useState)(l7.has(e)),n=(0,_.A)(t,2),r=n[0],i=n[1];return(0,c.useLayoutEffect)((function(){var t;return 0===e?i(!0):(i(l7.has(e)),t=d7.subscribe({next:function(t){t===e&&i(l7.has(e))}})),function(){t&&t.unsubscribe()}}),[e]),r}(t),Ye=(0,c.useRef)(!1),Xe=(0,c.useRef)(null),Ze=(0,c.useRef)(null),Je=(0,c.useRef)(null),et=function(){Ye.current||(clearTimeout(Xe.current),Xe.current=setTimeout((function(){Ye.current=!0}),1e3))},tt=function(e){var t=f.current&&f.current.firstLoaded?f.current.firstLoaded:0;return e.filter((function(e){return"string"==typeof e.message_id||e.message_id>=t}))},nt=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,c.useState)(null),r=(0,_.A)(n,2),i=r[0],a=r[1],o=(0,c.useState)(0),s=(0,_.A)(o,2),u=s[0],l=s[1];return(0,c.useLayoutEffect)((function(){var n,r,o={selector:{thread_id:e},sort:[{created_at:"desc"}],limit:T8};t&&delete o.limit;var s=zre.messages.find(o);return n=s.$.subscribe({next:function(e){var t=[];e.map((function(e){t.push(e.toMutableJSON())})),jN()(i,t)||a(t)},error:function(e){console.error("An error occurred, trying to reset database",e),lie()}}),r=SM.subscribe({next:function(t){t===e&&l((function(e){return e+1}))}}),function(){n&&n.unsubscribe(),r&&r.unsubscribe()}}),[e,t]),(0,c.useMemo)((function(){return IM(i,e)}),[u,i,e])}(t,ie);Je.current=nt;var rt=(0,c.useMemo)((function(){return nt?tt(nt):null}),[nt,r]);(0,c.useEffect)((function(){l&&dt(t,l,!1,!1)}),[l]),(0,c.useLayoutEffect)((function(){l&&(He.current=!0,Tt())}),[l]),Ze.current=rt,(0,c.useLayoutEffect)((function(){nt=[],rt=[],Je.current=[],Ze.current=[],ve(!1),V(!1),b.current=0,At.current=!1,Ye.current=!1,it.current=!1,at.current=null,De(!0),ae(!1),w(null),k(null),O(0),et(),X(!1),Me(!0),le(!1),pe.current=!1,Ve(!1),Bt(!0,!0),q.current=null,H.current=null,clearTimeout(mt.current)}),[t]);var it=(0,c.useRef)(!1);(0,c.useEffect)((function(){return I.current&&ut(I.current.getElement()),function(){ct()}}),[I.current]);var at=(0,c.useRef)(null),ot=(0,c.useRef)(null);(0,c.useEffect)((function(){if(Ze.current=rt,Ie.current&&Ie.current.update(),rt){if(Y||X(!0),rt&&rt.length>0){ae(!0);var e=rt[0].message_id;if(e!==E&&k(e),f.current&&(!b.current||b.current<x8&&b.current!==rt.length)){var n=rt.slice(-Math.abs(x8));if(n[0]&&n[0].thread_id===f.current.thread_id){var r=n[0].message_id;r<f.current.firstLoaded&&(r=f.current.firstLoaded),b.current=rt.length,w(r)}}pe.current||rt.length<20?le(!0):le(!1)}if(ot.current!==t&&(at.current=null,ot.current=null),ot.current=t,at.current){var i=!1;if(!I.current)return;I.current.getElement().querySelectorAll(".bm-message").forEach((function(e){var t=Number(e.dataset.ts);if(t>at.current){at.current=t,i=!0;var n=e.querySelector(".bpbm-gif");n&&n.dispatchEvent(new CustomEvent("bm-play-gif"))}})),i&&Bt()}else{var a=(0,z.A)(rt).pop();a&&(at.current=a.created_at,d||Bt())}}Ye.current||d||Bt(),gt()}),[rt]);var st=(0,c.useRef)(null);(0,c.useEffect)((function(){B&&ie&&st.current!==B&&(st.current=B,dt(t,B))}),[rt,ie,B]);var ut=function(e){$e.current=e,e.addEventListener("click",ft),e.addEventListener("touchstart",ft),e.addEventListener("wheel",ft)},ct=function(){$e.current&&($e.current.removeEventListener("click",ft),$e.current.removeEventListener("touchstart",ft),$e.current.removeEventListener("wheel",ft),$e.current=null,Ge.current=null)},lt=(0,c.useRef)(null),dt=function(){var e=(0,o.A)(u().mark((function e(n,r){var i,a,o,s,c,l,d,p,h,m=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=!(m.length>2&&void 0!==m[2])||m[2],a=!(m.length>3&&void 0!==m[3])||m[3],lt.current&&lt.current.abort(),o=new AbortController,lt.current=o,s=o.signal,e.prev=6,t===n){e.next=9;break}return e.abrupt("return");case 9:if(i&&V(!0),Array.isArray(Ze.current)){e.next=18;break}return e.next=13,Dee(333);case 13:if(!s.aborted){e.next=15;break}return e.abrupt("return");case 15:return e.next=17,dt(n,r,i,a);case 17:return e.abrupt("return");case 18:if(He.current=!0,Tt(),oe.current&&y.current&&f.current&&x.current===Je.current.length){e.next=28;break}return e.next=23,Dee(333);case 23:if(!s.aborted){e.next=25;break}return e.abrupt("return");case 25:return e.next=27,dt(n,r,i,a);case 27:return e.abrupt("return");case 28:if(f.current.firstLoaded&&f.current.firstLoaded<=r){e.next=37;break}return V(!0),e.next=33,Pt(r,"until");case 33:if(!s.aborted){e.next=35;break}return e.abrupt("return");case 35:return vt(n,r,!0,a),e.abrupt("return");case 37:if(!1===(c=NM(r,Ze.current))){e.next=54;break}if(l=I.current.getElement(),!l.querySelector('.bm-message[data-id="'+r+'"]')){e.next=46;break}return e.next=44,pt(r,60,a);case 44:e.next=52;break;case 46:d=MM(c,Ze.current),p=LM(c,Ze.current),h=Ze.current[d],w(h.message_id),O((function(e){var t=Ze.current.length-p;return t<0&&(t=0),t})),vt(n,r,i,a);case 52:e.next=63;break;case 54:return V(!0),e.next=57,Pt(r,"until");case 57:if(!s.aborted){e.next=59;break}return e.abrupt("return");case 59:return e.next=61,Dee(333);case 61:return e.next=63,dt(n,r,!0,a);case 63:return e.prev=63,He.current=!1,V(!1),lt.current=null,e.finish(63);case 68:case"end":return e.stop()}}),e,null,[[6,,63,68]])})));return function(t,n){return e.apply(this,arguments)}}(),pt=function(){var e=(0,o.A)(u().mark((function e(t){var n,r,i,a,o,s=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=s.length>1&&void 0!==s[1]?s[1]:60,r=!(s.length>2&&void 0!==s[2])||s[2],i=Ge.current.querySelector('.bm-message[data-id="'+t+'"]')){e.next=5;break}return e.abrupt("return");case 5:Ve(!0),He.current=!0,At.current=!0,a=i.offsetTop,o=a-n,Ge.current.scroll({top:o,behavior:"smooth"}),Tt(),setTimeout((function(){r&&A6.next(Number(t)),He.current=!1,kt(),Tt()}),500);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ft=function(){Ve(!0)},ht=(0,c.useMemo)((function(){return jM(rt,v,F,l)}),[rt,v,F,l]).dates;(0,c.useLayoutEffect)((function(){$.current&&($.current=!1,d?setTimeout((function(){Bt(!1,!0)}),50):Bt(!1,!0)),gt(),Rt()}),[ht]);var mt=(0,c.useRef)(null),vt=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];q.current=t,H.current=e,W.current=n,K.current=r,clearTimeout(mt.current),mt.current=window.setTimeout(yt,300)},gt=function(){clearTimeout(mt.current),q.current&&(mt.current=window.setTimeout(yt,300))},yt=function(){if(q.current){var e=q.current;q.current=null,dt(H.current,e,W.current,K.current).then((function(){K.current&&A6.next(Number(e))}))}},bt=(0,c.useRef)(!1),wt=(0,c.useRef)(null),Dt=(0,c.useRef)(null),At=(0,c.useRef)(!1),Et=(0,c.useRef)(null),kt=function(){At.current=!1},Ct=function(){var e=(0,o.A)(u().mark((function e(){var n,r,i,a,o,s,c,l,p,f,h,m,v;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Pe(!0),clearTimeout(Se.current),Se.current=window.setTimeout((function(){Pe(!1)}),1e3),n=Ge.current){e.next=6;break}return e.abrupt("return");case 6:if(d?(a=Math.abs(n.scrollTop),i=n.clientHeight,r=n.scrollHeight-a-i):(r=Math.abs(n.scrollTop),i=n.clientHeight,a=n.scrollHeight-r-i),o=d?a<Et.current?"down":"up":r>Et.current?"down":"up",r<=0&&(o="up"),Et.current=d?a:r,!qe.current||He.current){e.next=60;break}if(At.current){e.next=60;break}if(!d){e.next=37;break}e.t0=o,e.next="up"===e.t0?16:"down"===e.t0?32:35;break;case 16:if(Dt.current="up",!(r<1e3)){e.next=31;break}if(!(C.current<y.current)){e.next=24;break}s=tt(Ze.current),(c=NM(y.current,s))&&(l=MM(c),p=s[l],At.current=!0,bt.current=!0,wt.current="top",We.current=n.scrollHeight,Ke.current=n.scrollTop,Tt(),w(p.message_id)),e.next=31;break;case 24:if(C.current!==y.current||ge.current){e.next=31;break}return At.current=!0,Tt(),e.next=29,Ft();case 29:if(e.sent){e.next=31;break}kt();case 31:return e.abrupt("break",35);case 32:return Dt.current="down",a<500&&P.current>0&&O((function(e){var t=e-S8;return t<0&&(t=0),t})),e.abrupt("break",35);case 35:e.next=60;break;case 37:e.t1=o,e.next="up"===e.t1?40:"down"===e.t1?57:60;break;case 40:if(Dt.current="up",!(C.current<y.current&&r<=1e3)){e.next=47;break}f=tt(Ze.current),(h=NM(y.current,f))&&(m=MM(h),v=f[m],At.current=!0,bt.current=!0,wt.current="top",We.current=n.scrollHeight,Ke.current=n.scrollTop,Tt(),w(v.message_id)),e.next=56;break;case 47:if(!(C.current===y.current&&r<=1e3)){e.next=56;break}return At.current=!0,Tt(),e.next=52,Ft();case 52:return e.next=54,O8(t);case 54:e.sent>x.current||kt();case 56:return e.abrupt("break",60);case 57:return Dt.current="down",F>0&&a<=1e3&&(At.current=!0,bt.current=!0,wt.current="bottom",We.current=n.scrollHeight,Ke.current=n.scrollTop,O((function(e){var t=e-S8;return t<0&&(t=0),t}))),e.abrupt("break",60);case 60:Le.current&&(a>300||F>0)?Me(!1):!Le.current&&a<100&&Me(!0);case 61:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_t=(0,c.useRef)(!1),xt=(0,c.useRef)(null),St=(0,c.useRef)(null),Tt=function(){_t.current=!0,clearTimeout(St.current),St.current=window.setTimeout((function(){_t.current=!1}),3e3)};(0,c.useLayoutEffect)((function(){clearTimeout(xt.current),Ne&&!He.current&&(xt.current=window.setTimeout((function(){if(Ze.current){var e=Ze.current.slice(-Math.abs(x8));e[0]&&e[0].message_id!==y.current&&(w(e[0].message_id),Tt())}}),1e3))}),[Ne]);var Ft=function(){var e=(0,o.A)(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ge.current&&!de.current){e.next=2;break}return e.abrupt("return");case 2:return t=!1,e.prev=3,n=Ze.current[0],ve(!0),e.next=8,Pt(n.message_id,"more",!0);case 8:t=e.sent;case 9:return e.prev=9,ve(!1),e.finish(9);case 12:return e.abrupt("return",t);case 13:case"end":return e.stop()}}),e,null,[[3,,9,12]])})));return function(){return e.apply(this,arguments)}}(),Ot=(0,c.useRef)(!1),Pt=function(){var e=(0,o.A)(u().mark((function e(){var n,i,a,o,s,c,l,d=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=d.length>0&&void 0!==d[0]?d[0]:null,i=d.length>1&&void 0!==d[1]?d[1]:"more",a=d.length>2&&void 0!==d[2]&&d[2],0!==t){e.next=5;break}return e.abrupt("return");case 5:if(!Ot.current&&!ce){e.next=7;break}return e.abrupt("return");case 7:return Ot.current=!0,e.next=10,B8(t);case 10:return o=(o=e.sent).filter((function(e){return e>=r.firstLoaded})),s={},("more"===i||"until"===i)&&(s={loaded:o,to:n,mode:i}),c=!1,e.prev=15,e.next=18,pie.post("thread/"+t+"/loadMore",s);case 18:if(!((l=e.sent).data.messages.length>0)){e.next=24;break}return c=!0,a&&(At.current=!0,bt.current=!0,wt.current="top",We.current=Ge.current.scrollHeight,Ke.current=Ge.current.scrollTop),e.next=24,q8(l.data.messages,!0);case 24:if(!(l.data.users.length>0)){e.next=27;break}return e.next=27,K9(l.data.users);case 27:"more"===i&&l.data.messages.length<T8&&(pe.current=!0,le(!0)),e.next=33;break;case 30:throw e.prev=30,e.t0=e.catch(15),e.t0;case 33:return e.prev=33,Ot.current=!1,e.finish(33);case 36:return e.abrupt("return",c);case 37:case"end":return e.stop()}}),e,null,[[15,30,33,36]])})));return function(){return e.apply(this,arguments)}}(),It=(0,c.useRef)("auto"),Bt=(0,c.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Ge.current&&!(Ge.current.clientHeight>=Ge.current.scrollHeight||He.current)){if(!t&&!Le.current)return!1;Le.current||Me(!0);var n="auto";e||(n="smooth"),Ye.current||(n="auto");var r=d?0:Ge.current.scrollHeight;r!==Ge.current.scrollTop&&(At.current=!0,It.current=n,Ge.current.scrollTo({top:r,behavior:n}),xe(!0),clearTimeout(Ee.current),Ee.current=setTimeout((function(){kt(),Ct(),xe(!1)}),1e3))}}),[d,Ye.current,Le.current]),Rt=function(){if(d&&Ge.current){var e=Ge.current.querySelector(".bm-list-content");e&&(Ge.current.clientHeight>e.clientHeight?we&&De(!1):we||De(!0))}},Nt="bm-list bm-date-position-"+Sie.datePosition;we||(Nt+=" bm-not-full-height"),d&&(Nt+=" bm-inverted"),Oe&&!_e&&(Nt+=" bm-just-scrolled");var Mt=Sie.template;r&&"chat-room"===r.type&&"default"!==r.chatRoom.template&&(Mt=r.chatRoom.template);var Lt="bm-messages-list bm-template-"+Mt;ze||(Lt+=" not-interacted");var jt=Array.isArray(rt)&&(rt.length>0||Qe);return c.createElement(c6.Provider,{value:{scrollTo:dt,scrollBottom:Bt,fixedToBottom:Le,initialLoaded:Ye,blockAnimation:_t,invertedMode:d,fullHeight:Ae}},c.createElement(C8,null),c.createElement("div",{className:Lt,role:"application",onClick:function(){ze||Ve(!0)}},U&&c.createElement("div",{className:"bm-loading-background"},Gg('<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 256 256" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M140,32V64a12,12,0,0,1-24,0V32a12,12,0,0,1,24,0Zm84,84H192a12,12,0,0,0,0,24h32a12,12,0,0,0,0-24Zm-42.26,48.77a12,12,0,1,0-17,17l22.63,22.63a12,12,0,0,0,17-17ZM128,180a12,12,0,0,0-12,12v32a12,12,0,0,0,24,0V192A12,12,0,0,0,128,180ZM74.26,164.77,51.63,187.4a12,12,0,0,0,17,17l22.63-22.63a12,12,0,1,0-17-17ZM76,128a12,12,0,0,0-12-12H32a12,12,0,0,0,0,24H64A12,12,0,0,0,76,128ZM68.6,51.63a12,12,0,1,0-17,17L74.26,91.23a12,12,0,0,0,17-17Z"></path></svg>')),c.createElement(VY,{ref:I,options:{isInverted:d},events:{initialized:function(e){te(!0);var t=e.elements(),n=t.viewport;t.scrollbarVertical;Ge.current=n,Rt(),d||Bt(!0,!0)},updated:function(e,t){(Rt(),$e.current&&We.current&&!He.current)&&function(e,t){if(bt.current&&!Le.current&&!He.current)try{if(!p)return;var n=t-e;if(0===n)return;switch(wt.current){case"top":var r=d?Ke.current:Ke.current+n;Ge.current.scrollTop=r,Et.current=d?Math.abs(r):r;break;case"bottom":Et.current=Ke.current,Ge.current.scrollTop=Ke.current}}finally{bt.current=!1,kt(),Ct()}}(We.current,Ge.current.scrollHeight);t.updateHints.directionChanged||t.updateHints.hostMutation||(et(),gt(),ze&&!Ne||d||Bt(!Ye.current))},scroll:function(e,t){Ct()}},onWheel:function(){ze||Ve(!0)},className:Nt},c.createElement("div",{className:"bm-list-content"},a&&c.createElement("div",{className:"empty-thread"},c.createElement(Hx,null),c.createElement("span",null,Rie("Write a message to start the conversation","bp-better-messages"))),!a&&c.createElement(c.Fragment,null,(!jt||!ee)&&c.createElement(A8,null),jt&&ee&&c.createElement(c.Fragment,null,0===ht.size&&c.createElement(c.Fragment,null,c.createElement("div",{className:"empty-thread"},c.createElement(Hx,null),c.createElement("span",null,Rie("Write a message to start the conversation","bp-better-messages")))),ht.size>0&&c.createElement(c.Fragment,null,c.createElement("div",{className:"bm-conversation-start",key:"bm-conversation-start-"+r.thread_id},me&&c.createElement("span",null,Mie("Loading...","Label at the start of messages list in conversation while loading","bp-better-messages")),!1===me&&ce&&c.createElement("span",null,Mie("Start of conversation","Label at the start of messages list in conversation","bp-better-messages"))),Array.from(ht.entries()).map((function(e){return c.createElement(_8,{key:"message_stack_date_"+e[0],entry:e,thread:r,firstUnreadMessage:l})}))))))),c.createElement(Rb,null,ze&&!Ne&&c.createElement(Ix.span,{initial:{bottom:"-100px"},animate:{bottom:"15px"},exit:{bottom:"-100px"},className:"bpbm-scroll-down",onClick:function(){var e=Ze.current.slice(-Math.abs(x8));e[0]&&e[0].message_id!==y.current&&(w(e[0].message_id),$.current=!0),P.current>0&&(O(0),$.current=!0),At.current=!0,$.current||Bt(!1,!0)}},c.createElement(AN,null))))," ")}));function O8(e){return P8.apply(this,arguments)}function P8(){return(P8=(0,o.A)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zre.messages.count({selector:{thread_id:t}}).exec();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I8(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=function(){return BM.has(e)?BM.get(e):void 0},r=(0,c.useState)(n),i=(0,_.A)(r,2),a=i[0],o=i[1];return(0,c.useLayoutEffect)((function(){var r;if(e){var i=zre.messages.findOne({selector:{message_id:e}});r=i.$.subscribe({next:function(r){r?o(r.toMutableJSON()):(t&&e>0&&(T9.messages.add(e),B9()),o(n))},error:function(e){console.error("An error occurred, trying to reset database",e),lie()}})}else o(void 0);return function(){r&&r.unsubscribe()}}),[e,t]),a}function B8(e){return R8.apply(this,arguments)}function R8(){return(R8=(0,o.A)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zre.messages.find({selector:{thread_id:t}}).exec();case 2:return n=e.sent,e.abrupt("return",n.map((function(e){return Number(e.message_id)})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N8(e){return M8.apply(this,arguments)}function M8(){return M8=(0,o.A)(u().mark((function e(t){var n,r,i=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]&&i[1],e.next=3,zre.messages.findOne({selector:{message_id:t}}).exec();case 3:if(r=e.sent,n&&!r&&t>0&&(T9.messages.add(t),B9()),!r){e.next=7;break}return e.abrupt("return",r.toMutableJSON());case 7:return e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)}))),M8.apply(this,arguments)}function L8(e){return j8.apply(this,arguments)}function j8(){return(j8=(0,o.A)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return BM.delete(t),e.next=3,zre.messages.findOne({selector:{message_id:t}}).exec();case 3:if(!(n=e.sent)){e.next=9;break}if(n.temp_id&&FM(n.thread_id,n.temp_id,!0),n.deleted){e.next=9;break}return e.next=9,n.incrementalRemove().catch(RM);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U8(e,t){return z8.apply(this,arguments)}function z8(){return(z8=(0,o.A)(u().mark((function e(t,n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zre.messages.findOne({selector:{message_id:t}}).exec();case 2:(r=e.sent)&&r.incrementalUpdate({$set:n}).catch(RM);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var V8=new Map;function q8(e){return H8.apply(this,arguments)}function H8(){return H8=(0,o.A)(u().mark((function e(t){var n,r,i,a,s,c=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!(c.length>1&&void 0!==c[1])||c[1],0!==t.length){e.next=3;break}return e.abrupt("return");case 3:return r=["message"],t=t.map((function(e){return r.map((function(t){void 0!==e[t]&&(e[t]=DM(e[t]))})),e})),i=t.map((function(e){var t=e.message_id,r=e.thread_id;n&&(V8.has(r)?V8.get(r)>t&&V8.set(r,t):V8.set(r,t));return BM.set(t,structuredClone(e)),e.message_id})),a=new Map,e.next=9,zre.messages.find({selector:{message_id:{$in:i}}}).exec();case 9:return e.sent.map((function(e){a.set(e.get("message_id"),e)})),s=new Map,e.next=14,Promise.all(t.map(function(){var e=(0,o.A)(u().mark((function e(t){var n,r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=!1,a.has(t.message_id)&&(delete(r=a.get(t.message_id).toMutableJSON()).id,n=jN()(r,t)),n||((i=structuredClone(t)).temp_id||(i.temp_id=""),i.hasOwnProperty("showOnSite")&&delete i.showOnSite,s.set(i.message_id,i));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 14:if(!(s.size>0)){e.next=17;break}return e.next=17,zre.messages.bulkUpsert(Array.from(s.values()));case 17:n&&V8.forEach((function(e,t){w7(t).then((function(n){n&&(!n.firstLoaded||n.firstLoaded>e)&&A7(t,{firstLoaded:e})}))}));case 18:case"end":return e.stop()}}),e)}))),H8.apply(this,arguments)}function W8(e){var t=e.threadId,n=I8(e.messageId),r=(0,c.useState)([]),i=(0,_.A)(r,2),a=i[0],o=i[1],s=(0,c.useState)(!1),u=(0,_.A)(s,2),l=u[0],d=u[1];return(0,c.useEffect)((function(){n&&b9.emit("/v2/getDeliveryStatus",t,n.created_at,(function(e){d(!0),o(e)}))}),[n]),n&&n.thread_id===t?c.createElement("div",{className:"bm-message-status-panel"},!l&&c.createElement(VN,null),l&&c.createElement("div",{className:"bm-message-status-panel-users"},0===a.length&&c.createElement("div",{className:"bm-message-status-panel-no-results"},Mie("Message is not received or seen by anyone yet","Message Delivery Status Modal","bp-better-messages")),a.length>0&&c.createElement("div",{className:"bp-messages-user-list"},a.map((function(e){var t=yM(n.created_at)<_i.fromISO(e.last_read),r=Mie("Delivered","Message Delivery Status Tooltip","bp-better-messages");return t&&(r=Mie("Seen","Message Delivery Status Tooltip","bp-better-messages")),c.createElement("div",{className:"user not-clickable",key:"message-status-"+e.user_id},c.createElement("div",{className:"pic",style:{paddingLeft:0}},c.createElement(rM,{user_id:e.user_id,size:30})),c.createElement(vM,{user_id:e.user_id}),c.createElement("div",{className:"bm-msg-status",style:{marginLeft:"auto"}},r))}))))):null}var K8=new Map;function $8(e){return G8.apply(this,arguments)}function G8(){return G8=(0,o.A)(u().mark((function e(t){var n,r,i,a,o,s,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.thread_id=Number(t.thread_id),e.next=3,zre.statuses.findOne({selector:{thread_id:t.thread_id}}).exec();case 3:if(!(n=e.sent)){e.next=14;break}if(r=n.toMutableJSON(),i=!1,t.lastDelivered&&(a=_i.fromISO(t.lastDelivered),(!(o=_i.fromISO(r.lastDelivered)).isValid||a>o)&&(r.lastDelivered=t.lastDelivered,i=!0)),t.lastRead&&(s=_i.fromISO(t.lastRead),(!(c=_i.fromISO(r.lastRead)).isValid||s>c)&&(r.lastRead=t.lastRead,i=!0)),!i){e.next=12;break}return e.next=12,n.incrementalPatch({lastDelivered:r.lastDelivered,lastRead:r.lastRead});case 12:e.next=16;break;case 14:return e.next=16,zre.statuses.incrementalUpsert(t);case 16:case"end":return e.stop()}}),e)}))),G8.apply(this,arguments)}var Q8=c.forwardRef((function(e,t){if(!Sie.messagesStatus)return null;var n,r,i,a,o,s,u,l,d,p,f,h=e.detailed&&!!Sie.statusDetails,m=(n=e.message,r=n.thread_id,i=n.message_id,a=function(){return"sent"},o=(0,c.useState)(a),s=(0,_.A)(o,2),u=s[0],l=s[1],d=(0,c.useRef)(u),(0,c.useLayoutEffect)((function(){var e,t=zre.statuses.findOne({selector:{thread_id:r}});return e=t.$.subscribe({next:function(e){if(e){var t=_i.fromISO(e.get("lastDelivered")),i=_i.fromISO(e.get("lastRead")),o=yM(n.created_at);i>=o?l("seen"):t>=o?(l("delivered"),T9.statuses.add(r),N9()):(l("sent"),T9.statuses.add(r),N9())}else T9.statuses.add(r),N9(),l(a)},error:function(e){console.error("An error occurred, trying to reset database",e),lie()}}),function(){e&&e.unsubscribe()}}),[r,i]),d.current=u,u);if(p=function(e){if(Qie[e])return Qie[e];return""}(m),f=function(e){switch(e){case"delivered":return Mie("Delivered","Message Delivery Status Tooltip","bp-better-messages");case"seen":return Mie("Seen","Message Delivery Status Tooltip","bp-better-messages");default:return Mie("Sent","Message Delivery Status Tooltip","bp-better-messages")}}(m),""!==p){var v={};return h&&(v.cursor="pointer"),c.createElement(aP,{content:f},c.createElement("span",{style:v,"data-status":m,className:"bm-status",dangerouslySetInnerHTML:{__html:p},onClick:function(){h&&cP("message-popup",Mie("Message status","Message Delivery Status Modal","bp-better-messages"),c.createElement(W8,{threadId:e.message.thread_id,messageId:e.message.message_id}),!0)}}))}}));function Y8(e){var t=e.thread,n=[];t.image||"thread"!==t.type||(t.participants.length<=2?n.push(t.participants[0]):t.participants.length>2&&t.participants.slice(0,4).map((function(e){n.push(e)}))),t.image||"chat-room"!==t.type||t.participants.slice(0,4).map((function(e){n.push(e)}));var r,i=!1;if("thread"===t.type&&t.participants.length<=1&&(i=!0),t.image)if(t.image.startsWith("html:")){var a=t.image.substring(5);r=c.createElement("div",{className:"pic",dangerouslySetInnerHTML:{__html:a}})}else r=c.createElement("div",{className:"pic"},c.createElement("img",{src:t.image,alt:"",className:"avatar photo"}));return c.createElement(c.Fragment,null,!t.image&&0===n.length&&c.createElement("div",{className:"pic"}),t.image&&r,!t.image&&n.length>0&&c.createElement(c.Fragment,null,!i&&1===n.length&&c.createElement("div",{className:"pic"},c.createElement(rM,{link:!Yv(),size:30,user_id:n[0]})),i&&1===n.length&&c.createElement("div",{className:"pic"}),n.length>1&&c.createElement("div",{className:"pic group"},n.map((function(e){return c.createElement(rM,{link:!Yv(),size:15,key:"avatar_"+e,user_id:e})})))))}function X8(e){var t=e.thread;return t?c.createElement(c.Fragment,null,!!t.isPinned&&c.createElement(aP,{content:Mie("Pinned conversation","Conversations list item","bp-better-messages")},c.createElement("span",{className:"bm-thread-icon"},c.createElement(_N,null))),!!t.isMuted&&c.createElement(aP,{content:Mie("Notifications disabled","Conversations list item","bp-better-messages")},c.createElement("span",{className:"bm-thread-icon"},c.createElement(bN,null)))):null}function Z8(e){var t=e.thread,n=e.lastMessage,r=e.lastUser,i=n5(t.thread_id),a="";if(t.groupCall){var o=[];if(t.groupCall.video&&o.push(Mie("Video","Frontend Scripts","bp-better-messages")),t.groupCall.audio&&o.push(Mie("Audio","Frontend Scripts","bp-better-messages")),o.length>0){var s=o.join(" & ")+" "+Mie("Chat Online","Frontend Scripts","bp-better-messages");a=c.createElement("span",{className:"bm-live-chat-online"},c.createElement("span",{className:"bm-live-chat-online-indicator"}),c.createElement("span",null,s))}}var u=!1;return"thread"===t.type?t.participants.length<=1?u=Rie("Deleted user","bp-better-messages"):2===t.participants.length&&(u=c.createElement(vM,{key:"username_"+t.participants[0],user_id:t.participants[0],link:!1,raw:!0})):t.subject=t.title,c.createElement("div",{className:"bm-info"},u&&c.createElement("h4",{className:"name"},u,c.createElement(X8,{thread:t})),""!==t.subject&&c.createElement("h4",null,t.subject,!u&&c.createElement(X8,{thread:t})),""===t.subject&&t.participantsCount>2&&c.createElement(c.Fragment,null,c.createElement("h4",null,Lie(Mie("%s Participants","Thread Title (when subjects are disabled)","bp-better-messages"),t.participantsCount),!u&&c.createElement(X8,{thread:t}))),i.length>0&&t.participantsCount<=2&&c.createElement(K4,null),i.length>0&&t.participantsCount>2&&c.createElement(K4,{userIds:i}),0===i.length&&!!n&&r&&c.createElement("div",{key:"thread_item_content_last_message_"+n.message_id,className:"last-message"},t.participantsCount>2&&c.createElement("div",{className:"bm-last-message-avatar"},c.createElement(rM,{user_id:n.sender_id,size:15,link:!1})),c.createElement("div",{className:"bm-last-message-content","data-id":n.message_id},SJ(n,r))),a)}const J8=(0,c.createContext)(!1);var e7=function(e){var t=e.useRouter,n=a7(e.thread),r=e.lastMessage,i=e.active,a=e.navigate,o=e.onClick,s="thread",u=(0,c.useContext)(J8),l=wb();(0,c.useEffect)((function(){return document.addEventListener("better-message-settings-changed",l),function(){document.removeEventListener("better-message-settings-changed",l)}}),[]);var d=V4(n,!1,!1).filter((function(e){return!0===e.showInList})),p=D5({id:"thread-context-"+n.thread_id}),f=p.show,h=p.hideAll;i&&(s+=" bp-messages-active-thread"),s=Hie("better_messages_single_thread_class",s,n);var m=yM(n.lastTime),v=function(r){if(o)o();else if(t){var i="/conversation/"+n.thread_id;e.forceMessage&&(i+="?messageId="+e.forceMessage),a(i)}else Lee(r)},g=function(e){e.preventDefault(),e.stopPropagation(),document.querySelector("#thread-context-"+n.thread_id)?h():f({event:e})};return c.createElement("div",{key:"thread_item_content_inner"+n.thread_id,className:s,onClick:function(e){document.querySelector(".thread-context-menu")||v(n.thread_id)},onContextMenu:g},c.createElement(Y8,{thread:n}),c.createElement(Z8,{thread:n,lastUser:e.lastUser,lastMessage:e.lastMessage}),c.createElement("div",{className:"time"},c.createElement(aP,{content:m.toLocal().toLocaleString(_i.DATETIME_MED_WITH_SECONDS)},c.createElement("span",{className:"time-wrapper"},c.createElement(hN,{time:m}))),Sie.listStatus&&!!r&&e.lastUser&&r.sender_id===Jy()&&c.createElement(Q8,{message:r,detailed:!1}),c.createElement(Rb,null,n.unread>0&&c.createElement("div",{className:"bpbm-counter-row"},n.mentions.length>0&&n.mentions.some((function(e){return!e.seen}))&&c.createElement(aP,{content:Mie("You were mentioned in this conversation","Conversations list item","bp-better-messages")},c.createElement(Ix.span,{initial:{scale:0},animate:{scale:1},className:"unread-mention"},c.createElement(NN,null))),c.createElement(Ix.span,{initial:{scale:0},animate:{scale:1},className:"unread-count"},n.unread)))),!u&&c.createElement("div",{className:"actions"},d.length>0&&c.createElement(c.Fragment,null,c.createElement(aP,{content:Mie("More",'"Additional options" Button Tooltip',"bp-better-messages")},c.createElement("span",{className:"bm-more-actions",onClick:g},c.createElement(RN,null))),n&&(0,rT.createPortal)(c.createElement(S5,{style:{zIndex:"1000"},animation:!1,id:"thread-context-"+n.thread_id},d.map((function(e){return c.createElement(T5,{key:e.key,onClick:e.onClick,onAuxClick:e.onAuxClick},"string"==typeof e.icon?Gg(e.icon):e.icon,c.createElement("span",{style:{marginLeft:"5px"}},e.label))})),c.createElement("span",{id:"thread-context-"+n.thread_id,className:"thread-context-menu",style:{display:"none"}})),document.querySelector("body")))))};function t7(e,t){var n=!0;return jN()(e.thread,t.thread)||(n=!1),jN()(e.lastMessage,t.lastMessage)||(n=!1),jN()(e.lastUser,t.lastUser)||(n=!1),Boolean(e.active)!==Boolean(t.active)&&(n=!1),n}const n7=c.memo(e7,t7);function r7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i7(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r7(Object(n),!0).forEach((function(t){(0,h.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r7(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a7(e){return i7(i7({},{isMuted:!1,participants:[],mentions:[],permissions:{deleteAllowed:!1,isModerator:!1}}),e)}function o7(e){var t,n,r,i,a,o,s=(0,c.useContext)(pN).useRouter,u=e.thread,l=!1;e.onClick&&(l=e.onClick),e.forceMessage?t=I8(e.forceMessage):(n=u.thread_id,r=(0,c.useState)(null),i=(0,_.A)(r,2),a=i[0],o=i[1],(0,c.useLayoutEffect)((function(){var e,t=zre.messages.findOne({selector:{thread_id:n},sort:[{created_at:"desc"}]});return e=t.$.subscribe({next:function(e){o(e?e.toMutableJSON():void 0)},error:function(e){console.error("An error occurred, trying to reset database",e),lie()}}),function(){e.unsubscribe()}}),[n]),t=a);var d,p=V9(t&&t.sender_id);(0,c.useEffect)((function(){j7.add(Number(u.thread_id)),H7()}),[u.thread_id]);var f=!1;if(s){d=eR();var h=XB("conversation/:threadId");f=h&&Number(h.params.threadId)===u.thread_id}return c.createElement(n7,{key:"thread_item_content"+u.thread_id,thread:u,lastUser:p,lastMessage:t,useRouter:s,forceMessage:e.forceMessage,active:f,navigate:d,onClick:l})}function s7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u7(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s7(Object(n),!0).forEach((function(t){(0,h.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s7(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c7(e,t){var n=u7(u7({},e),t);if(n.participants){var r=Jy();-1!==n.participants.indexOf(r)&&(n.participants=n.participants.filter((function(e){return e!==r})),n.participants.push(r))}return e.chatRoom&&t.chatRoom&&(n.chatRoom=u7(u7({},e.chatRoom),t.chatRoom)),"number"!=typeof n.isPinned&&(n.isPinned=0),"number"!=typeof n.firstLoaded&&(n.firstLoaded=0),void 0!==n.pinned&&void 0===t.pinned&&delete n.pinned,n}var l7=new Set,d7=new Wc,p7=!1,f7=new Wc;function h7(e){p7=e,f7.next(e)}function m7(){var e=(0,c.useState)(p7),t=(0,_.A)(e,2),n=t[0],r=t[1];return(0,c.useLayoutEffect)((function(){var e,t;return e=f7.subscribe({next:function(e){p7=e,r(e)}}),t=setInterval((function(){r(p7)}),1e3),function(){e&&e.unsubscribe(),t&&clearInterval(t)}}),[]),n}function v7(){return g7.apply(this,arguments)}function g7(){return g7=(0,o.A)(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zre.threads.find({selector:{unread:{$gt:0}}}).exec();case 2:return t=e.sent,n=[],t.map((function(e){n.push(e.toMutableJSON())})),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)}))),g7.apply(this,arguments)}function y7(e){var t=(0,c.useState)(null),n=(0,_.A)(t,2),r=n[0],i=n[1];return(0,c.useLayoutEffect)((function(){var t,n=zre.threads.findOne(String(e));return t=n.$.subscribe({next:function(e){i(e?e.toMutableJSON():null)},error:function(e){console.error("An error occurred, trying to reset database",e),lie()}}),function(){t&&t.unsubscribe()}}),[e]),a7(r)}var b7=new Wc;function w7(e){return D7.apply(this,arguments)}function D7(){return D7=(0,o.A)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zre.threads.findOne(String(t)).exec();case 2:if(!(n=e.sent)){e.next=5;break}return e.abrupt("return",n.toMutableJSON());case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)}))),D7.apply(this,arguments)}function A7(e,t){return E7.apply(this,arguments)}function E7(){return E7=(0,o.A)(u().mark((function e(t,n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zre.threads.findOne(String(t)).exec();case 2:if(!(r=e.sent)){e.next=6;break}return e.next=6,r.incrementalPatch(n).catch(RM);case 6:case"end":return e.stop()}}),e)}))),E7.apply(this,arguments)}function k7(){return C7.apply(this,arguments)}function C7(){return(C7=(0,o.A)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zre.threads.count().exec();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _7(e){return x7.apply(this,arguments)}function x7(){return x7=(0,o.A)(u().mark((function e(t){var n,r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s8(t),location.hash.endsWith("/conversation/"+t)&&(location.hash="#/"),e.next=4,w7(t);case 4:if(!(n=e.sent)||"chat-room"!==n.type){e.next=12;break}n.chatRoom.isJoined=!1,(r=n.chatRoom).isJoined=!1,A7(t,{chatRoom:r}),e.next=17;break;case 12:return e.next=14,zre.threads.findOne(String(t)).exec();case 14:(i=e.sent)&&i.incrementalRemove().catch(RM),zre.messages.find({selector:{thread_id:t}}).remove().catch(RM);case 17:OM(t),W7(t);case 19:case"end":return e.stop()}}),e)}))),x7.apply(this,arguments)}function S7(){return T7.apply(this,arguments)}function T7(){return(T7=(0,o.A)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B0();case 2:return e.next=4,zre.threads.find().exec();case 4:return t=e.sent,e.abrupt("return",t.map((function(e){return Number(e.thread_id)})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F7(){return O7.apply(this,arguments)}function O7(){return(O7=(0,o.A)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B0();case 2:return e.next=4,zre.threads.find({selector:{isDeleted:{$eq:0}}}).exec();case 4:return t=e.sent,e.abrupt("return",t.map((function(e){return Number(e.thread_id)})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P7(e,t){return I7.apply(this,arguments)}function I7(){return I7=(0,o.A)(u().mark((function e(t,n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zre.threads.findOne(String(t)).exec();case 2:if(!(r=e.sent)||r.get("unread")===n){e.next=6;break}return e.next=6,r.incrementalPatch({unread:n});case 6:case"end":return e.stop()}}),e)}))),I7.apply(this,arguments)}function B7(e){return R7.apply(this,arguments)}function R7(){return R7=(0,o.A)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zre.threads.find({selector:{thread_id:{$nin:t},unread:{$ne:0}}}).exec();case 2:(n=e.sent).length>0&&n.map((function(e){var t={unread:0},n=e.get("mentions");if(n&&Array.isArray(n)&&n.length>0){var r=[],i=!1;n.map((function(e){!1===e.seen&&(i=!0),r.push({message_id:e.message_id,type:e.type,seen:!0})})),i&&(t.mentions=r)}A7(e.thread_id,t)}));case 4:case"end":return e.stop()}}),e)}))),R7.apply(this,arguments)}function N7(e){return M7.apply(this,arguments)}function M7(){return M7=(0,o.A)(u().mark((function e(t){var n,r,i,a,s,c=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!(c.length>1&&void 0!==c[1])||c[1],r=c.length>2&&void 0!==c[2]&&c[2],t&&0!==t.length){e.next=4;break}return e.abrupt("return");case 4:return i=["subject","title","image","url"],t=t.map((function(e){return i.map((function(t){void 0!==e[t]&&(e[t]=DM(e[t]))})),e})),a=t.map((function(e){return e.thread_id})),s=new Map,e.next=10,zre.threads.find({selector:{thread_id:{$in:a}}}).exec();case 10:return e.sent.map((function(e){s.set(e.get("thread_id"),e)})),e.next=14,Promise.all(t.map(function(){var e=(0,o.A)(u().mark((function e(t){var i,a,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s.has(t.thread_id)){e.next=12;break}if(i=s.get(t.thread_id).toMutableJSON(),a=t,n&&(a=c7(i,t)),k9()&&(a.unread=i.unread),i.groupCall&&(a.groupCall=i.groupCall),a.mentions&&(r&&0===a.mentions.length||(o=[],i.mentions&&Array.isArray(i.mentions)&&(o=i.mentions),a.mentions.map((function(e){o.some((function(t){return t.message_id===Number(e.message_id)&&t.type===e.type}))||o.push({message_id:Number(e.message_id),type:e.type,seen:!1})})),a.mentions=o)),jN()(i,a)){e.next=10;break}return e.next=10,zre.threads.incrementalUpsert(a);case 10:e.next=14;break;case 12:return e.next=14,zre.threads.incrementalUpsert(t);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 14:case"end":return e.stop()}}),e)}))),M7.apply(this,arguments)}var L7,j7=new Set,U7=new Set,z7=!0;function V7(){return q7.apply(this,arguments)}function q7(){return(q7=(0,o.A)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(clearTimeout(L7),L7=void 0,t=[],!z7){e.next=8;break}return e.next=6,S7();case 6:t=e.sent,z7=!1;case 8:if(j7.forEach((function(e){U7.has(e)||t.push(e)})),!((t=Array.from(new Set(t))).length>0&&b9)){e.next=14;break}return e.next=13,b9.emit("subscribeToThreads",t);case 13:t.map((function(e){U7.add(e)}));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H7(){L7||(L7=window.setTimeout(V7,1e3))}function W7(e){return K7.apply(this,arguments)}function K7(){return(K7=(0,o.A)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!k9()){e.next=5;break}return j7.delete(t),e.next=4,b9.emit("unsubscribeThread",t);case 4:U7.delete(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $7=__webpack_require__(97862),G7=__webpack_require__.n($7);function Q7(){b9.on("writing",(function(e){G7()(e,(function(e,t,n){e.map((function(e){var n={userId:Number(e),lastTime:_i.now()};!function(e,t){var n=J4(e);n.set(t.userId,t.lastTime),Z4.set(e,n),X4.next(e),e5()}(Number(t),n)}))}))}))}function Y7(e,t,n){var r=Sie.subjects?e.subject:n.name;return"chat-room"!==e.type&&"group"!==e.type||(r=e.title),"thread"===e.type&&(r=n.name),!n||"group"!==e.type&&"chat-room"!==e.type||(r+=": "+n.name),Gg(r)}function X7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z7(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X7(Object(n),!0).forEach((function(t){(0,h.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X7(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var J7=new Map;function e9(e){return t9.apply(this,arguments)}function t9(){return t9=(0,o.A)(u().mark((function e(t){var n,r,i,a,o,s,l,d,p,f,h,m,v,g=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=g.length>1&&void 0!==g[1]?g[1]:"ajax",Sie.onSiteNotification){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,N8(t);case 5:if(r=e.sent){e.next=8;break}return e.abrupt("return",!1);case 8:if(r.sender_id!==Jy()){e.next=10;break}return e.abrupt("return",!1);case 10:if(r.created_at&&r.updated_at){e.next=12;break}return e.abrupt("return",!1);case 12:if(r.created_at===r.updated_at){e.next=14;break}return e.abrupt("return",!1);case 14:return e.next=16,w7(r.thread_id);case 16:if(i=e.sent){e.next=19;break}return e.abrupt("return");case 19:if(!i.isHidden){e.next=21;break}return e.abrupt("return");case 21:if("ajax"!==n||0!==i.unread){e.next=23;break}return e.abrupt("return");case 23:if(!i.isMuted){e.next=25;break}return e.abrupt("return");case 25:if(nne.isLeader&&Yte.postMessage({type:"on_site_message",message_id:r.message_id}),!((a=document.querySelector(".bp-messages-wrap .bp-messages-side-threads .threads-list-wrapper"))&&a.offsetParent||document.querySelector(".bp-messages-wrap.bm-index-page"))){e.next=29;break}return e.abrupt("return");case 29:if(!document.querySelector(".bp-better-messages-list .tabs > div.messages-tab.active")){e.next=31;break}return e.abrupt("return");case 31:if(!(o=document.querySelector(".bp-messages-wrap.bp-messages-mobile"))){e.next=35;break}if(!o.classList.contains("bm-index-page")){e.next=35;break}return e.abrupt("return");case 35:if(!Kee(r.thread_id)){e.next=37;break}return e.abrupt("return",!1);case 37:return e.next=39,H9(r.sender_id);case 39:if(s=e.sent,d=Y7(i,0,s),i.image?i.image.startsWith("html:")?(p=i.image.substring(5),l=c.createElement("div",{className:"bm-toast-site-message-image",dangerouslySetInnerHTML:{__html:p}})):l=c.createElement("img",{src:i.image,alt:i.title}):s&&(l=c.createElement(rM,{user_id:s.user_id,size:45,link:!1})),f=c.createElement("div",{className:"bm-toast-site-message-container"},c.createElement("div",{className:"bm-toast-site-message-avatar"},l),c.createElement("div",{className:"bm-toast-site-message-info"},c.createElement("div",{className:"bm-toast-site-message-title"},d),Sie.subjects&&"thread"===i.type&&""!==i.subject&&c.createElement("div",{className:"bm-toast-site-message-subject"},i.subject),c.createElement("div",{className:"bm-toast-site-message-content"},SJ(r,s)))),!J7.has(i.thread_id)){e.next=47;break}return Hy.update(J7.get(i.thread_id).toastId,{render:f}),J7.set(i.thread_id,Z7(Z7({},J7.get(i.thread_id)),{message_id:r.message_id})),e.abrupt("return");case 47:h=Hy(f,{className:"bm-toasts bm-toast-site-message",position:mb(),draggableDirection:vb(),draggablePercent:gb(),autoClose:!1,onClick:function(e){Lee(i.thread_id).then((function(){Hy.dismiss(h)}))},onOpen:function(){document.addEventListener("better-messages-thread-opened",m),document.addEventListener("better-messages-message-deleted",v)},onClose:function(){document.removeEventListener("better-messages-thread-opened",m),document.removeEventListener("better-messages-message-deleted",v),J7.delete(i.thread_id)},theme:"colored",hideProgressBar:!0,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0}),J7.set(i.thread_id,{message_id:r.message_id,toastId:h}),m=function(e){e.detail.threadId===r.thread_id&&Hy.dismiss(h)},v=function(e){Number(e.detail.messageId)===Number(J7.get(i.thread_id).message_id)&&Hy.dismiss(h)};case 51:case"end":return e.stop()}}),e)}))),t9.apply(this,arguments)}var n9=!1;function r9(){return(r9=(0,o.A)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n9=t;case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i9(){return a9.apply(this,arguments)}function a9(){return(a9=(0,o.A)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(document.hidden||!document.hasFocus()){e.next=2;break}return e.abrupt("return",!0);case 2:return n9=!1,e.next=5,Yte.postMessage({type:"visible_tab_request"});case 5:return e.next=7,Dee(250);case 7:return e.abrupt("return",n9);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var o9=new Map;function s9(e,t){return u9.apply(this,arguments)}function u9(){return u9=(0,o.A)(u().mark((function e(t,n){var r,i,a,o,s,c,l,d;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!=typeof t){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,i9();case 4:if(!e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,N8(t);case 9:if(r=e.sent){e.next=12;break}return e.abrupt("return",!1);case 12:if(r.sender_id!==Jy()){e.next=14;break}return e.abrupt("return",!1);case 14:return e.next=16,w7(r.thread_id);case 16:if(i=e.sent){e.next=19;break}return e.abrupt("return",!1);case 19:if(!i.isHidden){e.next=21;break}return e.abrupt("return");case 21:if(!i.isMuted){e.next=23;break}return e.abrupt("return");case 23:return a=!1,e.next=26,H9(r.sender_id);case 26:if(o=e.sent,s=Y7(i,0,o),c={body:eP(CO(r.message)).result,tag:"bm_thread_"+r.thread_id},i.image?c.icon=i.image:o&&(c.icon=o.avatar),n&&(n.title&&(s=n.title),n.body&&(c.body=n.body),a=!0),Wie("better_messages_on_local_notification",r),!tb()){e.next=34;break}return e.abrupt("return",!1);case 34:(l=new Notification(s,c)).onclick=function(e){window.focus(),Lee(r.thread_id,a)},o9.has(r.thread_id)||o9.set(r.thread_id,[]),(d=o9.get(r.thread_id)).push(l),o9.set(r.thread_id,d);case 40:case"end":return e.stop()}}),e)}))),u9.apply(this,arguments)}function c9(e){return l9.apply(this,arguments)}function l9(){return l9=(0,o.A)(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w7(t.thread_id);case 2:if(!(n=e.sent)){e.next=9;break}return r=c7(n,t),e.next=7,zre.threads.incrementalUpsert(r);case 7:e.next=11;break;case 9:return e.next=11,zre.threads.incrementalUpsert(t);case 11:case"end":return e.stop()}}),e)}))),l9.apply(this,arguments)}document.addEventListener("better-messages-thread-opened",(function(e){var t=e.detail.threadId,n=o9.get(t);n&&(n.map((function(e){e.close()})),o9.delete(t))}));var d9=__webpack_require__(14510);function p9(){document.addEventListener("better-messages-thread-opened",(function(e){b9.emit("threadOpen",e.detail.threadId)})),k.on("focus",(function(){$ee().map((function(e){Iee(e)}))}));var e=new d9.A({concurrency:1});b9.on("getUnread",function(){var t=(0,o.A)(u().mark((function t(n){var r;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return document.dispatchEvent(new CustomEvent("better-messages-unread-updated",{detail:{unread:n}})),t.next=3,ene();case 3:if(!t.sent){t.next=6;break}r=[],B0().then((0,o.A)(u().mark((function t(){var i,a;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!((i=Object.keys(n.threads)).length>0)){t.next=6;break}return a=[],i.map((function(t){a.push(new Promise((function(i){var a=n.threads[t],o=Number(t),s=Number(a);r.push(o),e.add((function(){return P7(o,s)})).finally((function(){i(!0)}))})))})),t.next=6,Promise.all(a);case 6:return t.next=8,e.add((function(){return B7(r)}));case 8:case"end":return t.stop()}}),t)}))));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),b9.on("threadInfoChanged",function(){var e=(0,o.A)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ene();case 2:if(!e.sent){e.next=5;break}$y("lastUpdate",t.serverTime),c9(t.thread);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),b9.on("personalThreadUpdate",function(){var e=(0,o.A)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:gK(t),$y("lastUpdate",t.serverTime);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),b9.on("v2/threadEvent",function(){var e=(0,o.A)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ene();case 2:if(!e.sent){e.next=13;break}e.t0=t.type,e.next="thread_cleared"===e.t0?6:"thread_erased"===e.t0?10:12;break;case 6:return zre.messages.find({selector:{thread_id:t.thread_id}}).incrementalRemove().catch(RM),A7(t.thread_id,{unread:0}),OM(t.thread_id),e.abrupt("break",12);case 10:return _7(t.thread_id),e.abrupt("break",12);case 12:$y("lastUpdate",t.serverTime);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}function f9(){return f9=(0,o.A)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Hy(c.createElement("div",{className:"bm-toast-site-notification-container"},c.createElement("div",{className:"bm-toast-site-notification-image"},c.createElement("img",{src:t.image,alt:""})),c.createElement("div",{className:"bm-toast-site-notification-info"},c.createElement("div",{className:"bm-toast-site-notification-title"},t.title),c.createElement("div",{className:"bm-toast-site-notification-content"},t.text))),{className:"bm-toasts bm-toast-site-notification",position:mb(),draggableDirection:vb(),draggablePercent:gb(),autoClose:!1,onClick:function(){zee(t.url)},theme:"colored",hideProgressBar:!0,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0});case 2:case"end":return e.stop()}}),e)}))),f9.apply(this,arguments)}function h9(){b9.on("onSiteNotification",(function(e){e.image=DM(e.image,"ukey"),e.text=DM(e.text,"ukey"),e.url=DM(e.url,"ukey"),e.title=DM(e.title,"ukey"),function(e){f9.apply(this,arguments)}(e)}))}var m9=!1;function v9(){return g9.apply(this,arguments)}function g9(){return g9=(0,o.A)(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!m9){e.next=2;break}return e.abrupt("return",!1);case 2:return e.prev=2,e.next=5,B0();case 5:return e.next=7,zre.threads.find({selector:{"$or":[{type:{"$eq":"group"}},{type:{"$eq":"chat-room"}},{participantsCount:{$gte:3}}]}}).exec();case 7:t=e.sent,n=t.map((function(e){return e.thread_id})),n.length>0&&b9.emit("groupCallStatusesBulk",n,(function(e){Object.keys(e).map((function(t){var n=e[t],r=Number(t);B0().then((0,o.A)(u().mark((function e(){var t,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w7(r);case 2:t=e.sent,i=!1,t&&t.groupCall&&jN()(t.groupCall,n)&&(i=!0),i||A7(r,{groupCall:n});case 6:case"end":return e.stop()}}),e)}))))}))}));case 10:return e.prev=10,m9=!1,e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[2,,10,13]])}))),g9.apply(this,arguments)}var y9,b9,w9=new Map;var D9=[],A9=!1,E9="";function k9(){return!(!b9||!b9.connected)}function C9(){return C9=(0,o.A)(u().mark((function e(){var t,n,r,i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Sie.socket_server){e.next=2;break}return e.abrupt("return",!1);case 2:if(0!==(t=Jy())){e.next=5;break}return e.abrupt("return");case 5:if(e.prev=5,n={sid:Sie.site_id,uid:t,sk:Sie.secret_key,v:Sie.version},r=JSON.stringify(n),E9!==r){e.next=10;break}return e.abrupt("return");case 10:if(E9=r,!b9||!b9.connected){e.next=14;break}return e.next=14,b9.close();case 14:document.dispatchEvent(new CustomEvent("bp-better-messages-before-realtime-connect")),(b9=tB(Sie.socket_server,{secure:!0,timeout:7e3,transports:["websocket"],path:"/websocket",auth:n})).on("connect_error",(function(e){console.debug("Error while connecting to WebSocket messaging server. AJAX mode enabled."),console.error(e),Sie.realtime=!1,clearTimeout(y9),y9=window.setTimeout(_9,1e4)})),b9.on("connect",(function(){console.debug("You was connected to WebSocket messaging server. WebSocket mode enabled."),Sie.realtime=!0,clearTimeout(y9),U7.clear(),V7(),O9.statuses=new Set,Jee(!0),Zte().then((function(){ete(!0)}))})),(a=function(){clearTimeout(i),D9.map((function(e){QN(e)})),XN(),i=window.setTimeout(a,3e4)})(),b9.on("onlineUsers",(function(e){A9=!0,D9=e.map((function(e){return Number(e)})),a(),document.dispatchEvent(new CustomEvent("bp-better-messages-online-fetched")),document.dispatchEvent(new CustomEvent("better-messages-user-online-changed"))})),b9.on("userOnline",(function(e){var t=Number(e);-1===D9.indexOf(t)&&(D9.push(t),QN(t),document.dispatchEvent(new CustomEvent("bp-better-messages-user-online",{detail:{user_id:t}})),document.dispatchEvent(new CustomEvent("better-messages-user-online-changed")))})),b9.on("userOffline",(function(e){var t=Number(e);D9.indexOf(t)>-1&&(D9.splice(D9.indexOf(t),1),YN(t),document.dispatchEvent(new CustomEvent("bp-better-messages-user-offline",{detail:{user_id:t}})),document.dispatchEvent(new CustomEvent("better-messages-user-online-changed")))})),p9(),b9.on("message",function(){var e=(0,o.A)(u().mark((function e(t){var n,r,i,a,o,s,c,l,d;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ene();case 2:if(n=e.sent,r=t.thread,i=t.message,n&&$y("lastUpdate",t.serverTime),!i.message_id){e.next=10;break}if(!n){e.next=10;break}return e.next=10,q8([i]);case 10:if(n){e.next=12;break}return e.abrupt("return");case 12:return e.next=14,K9([t.sender]);case 14:return e.next=16,w7(r.thread_id);case 16:return(a=e.sent)?(o=c7(a,r),t.updateThread&&t.updateThread.mentions&&(s=[],t.updateThread.mentions.map((function(e){s.push({message_id:Number(i.message_id),type:e,seen:!1})})),o.mentions=s)):o=c7({},r),e.next=20,N7([o]);case 20:if(i.sender_id===Jy()){e.next=28;break}return e.next=23,H9(i.sender_id);case 23:return c=e.sent,e.next=26,w7(r.thread_id);case 26:(l=e.sent)&&(d=l.isMuted,l.isHidden&&(d=!0),c.blocked||(!1!==i.showOnSite?(d||(oK(i.thread_id,i.message_id),s9(i.message_id,t.notification)),Kee(i.thread_id)&&k.now()?Iee(i.thread_id):(b9.emit("delivered",i.message_id),Wie("better_messages_message_received",Number(i.message_id)),d||e9(Number(i.message_id),"realtime"))):d||t.notification&&s9(i.message_id,t.notification)));case 28:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),window.addEventListener("focus",(function(){$ee().map((function(e){Iee(e)}))})),k.on("wakeup",(function(){$ee().map((function(e){Iee(e)}))})),b9.on("/v5/fastMsg",function(){var e=(0,o.A)(u().mark((function e(t){var n,r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Sie.fast){e.next=2;break}return e.abrupt("return");case 2:if(!kM.has(t.tempId)){e.next=4;break}return e.abrupt("return");case 4:return(n=t.user).url=DM(n.url),n.name=DM(n.name),n.avatar=DM(n.avatar),e.next=10,H9(n.user_id);case 10:if(e.sent){e.next=13;break}return e.next=13,K9([n]);case 13:t.sender_id!==Jy()&&(Kee(t.threadId)&&k.now()?b9.emit("v2/fastStatus",t.sender_id,t.tempId,t.threadId,"seen"):(K8.has(t.threadId)||K8.set(t.threadId,new Map),(r=K8.get(t.threadId)).set(t.tempId,{sender_id:t.sender_id,temp_id:t.tempId}),K8.set(t.threadId,r),b9.emit("v2/fastStatus",t.sender_id,t.tempId,t.threadId,"delivered"))),i=eP(DM(t.message),{ignoreTags:NK}),TM(t.threadId,{message_id:t.tempId,thread_id:t.threadId,message:EM(i.result),sender_id:t.sender_id,created_at:t.created_at});case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),b9.on("/v2/abortFastMessage",function(){var e=(0,o.A)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:FM(Number(t.thread_id),t.message_id,!0);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),b9.on("message_deleted",(function(e){e.startsWith("tmp_")||(e=Number(e)),L8(e)})),b9.on("v2/messageMetaUpdate",function(){var e=(0,o.A)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $y("lastUpdate",t.serverTime),e.next=3,N8(t.message_id);case 3:if(n=e.sent){e.next=6;break}return e.abrupt("return");case 6:if(n.thread_id===t.thread_id){e.next=8;break}return e.abrupt("return");case 8:U8(n.message_id,{meta:t.meta});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),b9.on("v2/fastStatus",function(){var e=(0,o.A)(u().mark((function e(t,n,r){var i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=_i.local({zone:"UTC"}).toISO(),"delivered"===r?$8({thread_id:n,lastDelivered:i}):"seen"===r&&$8({thread_id:n,lastDelivered:i,lastRead:i});case 2:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()),b9.on("delivered",function(){var e=(0,o.A)(u().mark((function e(t,n,r){var i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=_i.local({zone:"UTC"}).toISO(),$8({thread_id:r,lastDelivered:i});case 2:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()),b9.on("seen",function(){var e=(0,o.A)(u().mark((function e(t,n,r){var i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=_i.local({zone:"UTC"}).toISO(),$8({thread_id:r,lastDelivered:i,lastRead:i});case 2:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()),b9.on("startMessageStream",function(){var e=(0,o.A)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w9.set(t.message_id,"");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),b9.on("messageStream",function(){var e=(0,o.A)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!w9.has(t.message_id)){e.next=7;break}return n=w9.get(t.message_id)+t.data,w9.set(t.message_id,n),e.next=5,ene();case 5:if(!e.sent){e.next=7;break}U8(t.message_id,{message:vO(n)});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Q7(),b9.on("callEvent",function(){var e=(0,o.A)(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.event,e.next="incoming_call"===e.t0?3:"self_rejected"===e.t0?23:"call_aborted"===e.t0?28:"call_accepted"===e.t0?31:"user_rejected"===e.t0?33:"user_busy"===e.t0?37:42;break;case 3:if(n=t.message_id,r=t.thread_id,!Eee||Cee===r||kee&&kee===n){e.next=11;break}return S2(t.user_id,r,n,"busy"),x2.add(n),e.abrupt("return",!1);case 11:if(x2.has(n)){e.next=22;break}return O2(r,n),e.next=15,Hie("better_messages_call_show_notification",!0,t);case 15:if(!e.sent){e.next=20;break}return e.next=18,E2(t);case 18:e.next=22;break;case 20:return e.next=22,C2(r,n);case 22:return e.abrupt("break",42);case 23:return dK(),x2.add(t.message_id),C2(t.thread_id,t.message_id),Wie("better_messages_call_self_rejected",t.message_id,t.thread_id),e.abrupt("break",42);case 28:return xee(),T2(t.thread_id,t.message_id),e.abrupt("break",42);case 31:return Wie("better_messages_call_accepted",t.message_id,t.thread_id),e.abrupt("break",42);case 33:return mK(),xee(),Wie("better_messages_call_user_rejected",t.message_id,t.thread_id,t.user_id),e.abrupt("break",42);case 37:return lb(Mie("User you are trying to call is already in call. Please try later.","Private Call Screen","bp-better-messages")),mK(),xee(),Wie("better_messages_call_user_rejected",t.message_id,t.thread_id,t.user_id),e.abrupt("break",42);case 42:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),h9(),b9.on("groupMediaEvent",(function(e){v9()})),b9.on("userUpdated",function(){var e=(0,o.A)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ene();case 2:if(e.sent){e.next=4;break}return e.abrupt("return");case 4:K9([t.user]);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),b9.on("userStatus",function(){var e=(0,o.A)(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ene();case 2:if(e.sent){e.next=4;break}return e.abrupt("return");case 4:return t=Number(t),e.next=7,G9(t,{status:n});case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),b9.on("realtimeEvent",(function(e){try{Wie("better_messages_realtime_event",JSON.parse(DM(e)))}catch(e){console.error(e)}})),v9(),e.next=43;break;case 36:e.prev=36,e.t0=e.catch(5),console.error(e.t0),console.error("Error connecting to the WebSocket Server. Please contact plugin developer. https://www.wordplus.org/contact/"),Sie.realtime=!1,clearTimeout(y9),y9=window.setTimeout(_9,1e4);case 43:case"end":return e.stop()}}),e,null,[[5,36]])}))),C9.apply(this,arguments)}function _9(){b9.disconnect(),b9.connect()}var x9,S9,T9={messages:new Set,users:new Set,statuses:new Set},F9={statuses:new Set,users:new Set,messages:new Set},O9=F9;function P9(){return I9.apply(this,arguments)}function I9(){return I9=(0,o.A)(u().mark((function e(){var t,n,r,i,a,o,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=500,e.prev=1,window.clearTimeout(x9),x9=void 0,Sie&&F0&&void 0!==Jy()){e.next=6;break}return e.abrupt("return",!1);case 6:if(n=!0,0===Jy()&&(n=!1),n){e.next=10;break}return e.abrupt("return");case 10:if(r={},T9.users.size>0&&(i=Array.from(T9.users).filter((function(e){return!O9.users.has(e)}))).length>0&&(r.users=i),T9.messages.size>0&&(a=Array.from(T9.messages).filter((function(e){return!O9.messages.has(e)}))).length>0&&(r.messages=a),!(Object.keys(r).length>0)){e.next=23;break}return r.messages&&r.messages.length>0&&r.messages.map((function(e){O9.messages.add(e)})),r.users&&r.users.length>0&&r.users.map((function(e){O9.users.add(e)})),e.next=18,pie.post("lazyPool",r);case 18:o=e.sent,(s=o.data).users&&K9(s.users),s.messages&&q8(s.messages,!1),t=1500;case 23:return e.prev=23,(T9.users.size>0||T9.messages.size)&&(x9=window.setTimeout(P9,t)),e.finish(23);case 26:case"end":return e.stop()}}),e,null,[[1,,23,26]])}))),I9.apply(this,arguments)}function B9(){x9||(x9=window.setTimeout(P9,500))}document.addEventListener("better-messages-db-closed",(function(){O9=F9}));var R9=function(e,t,n){var r=!1,i=setTimeout((function(){r||(r=!0,t())}),n);return function(){if(!r){r=!0,clearTimeout(i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];e.apply(undefined,n)}}};function N9(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(S9=void 0),!S9&&T9.statuses.size>0&&(S9=window.setTimeout(M9,500))}function M9(){return L9.apply(this,arguments)}function L9(){return L9=(0,o.A)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.clearTimeout(S9),T9.statuses.size>0&&O9.statuses.forEach((function(e){T9.statuses.has(e)&&T9.statuses.delete(e)})),T9.statuses.size>0&&b9?b9.emit("/v3/getStatuses",Array.from(T9.statuses),R9(function(){var e=(0,o.A)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.length>0&&t.map(function(){var e=(0,o.A)(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:$8({thread_id:t.thread_id,lastDelivered:null!==(n=t.last_delivered)&&void 0!==n?n:"1970-00-00T00:00:00.000Z",lastRead:null!==(r=t.last_seen)&&void 0!==r?r:"1970-00-00T00:00:00.000Z"});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Array.from(T9.statuses).map((function(e){return O9.statuses.add(e)})),N9(!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(){N9(!0)}),3e4)):N9(!0);case 3:case"end":return e.stop()}}),e)}))),L9.apply(this,arguments)}function j9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U9(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j9(Object(n),!0).forEach((function(t){(0,h.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j9(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}new Wc,new Set;var z9=new Map;function V9(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=(0,c.useState)(z9.has(e)?z9.get(e):null),r=(0,_.A)(n,2),i=r[0],a=r[1],o=(0,c.useRef)(null);return(0,c.useLayoutEffect)((function(){var n=zre.users.findOne(String(e)).$.subscribe({next:function(n){var r,i;n?(i=U9({},r=n.toMutableJSON()),t&&delete i.lastActive,jN()(o.current,i)||(a(r),z9.set(e,r))):(e&&(T9.users.add(e),B9()),i=null,a(null)),o.current=i},error:function(e){console.error("An error occurred, trying to reset database",e),lie()}});return function(){n.unsubscribe()}}),[e]),i}function q9(e){var t=(0,c.useState)(null),n=(0,_.A)(t,2),r=n[0],i=n[1];return(0,c.useEffect)((function(){var t;if(e)if(2!==e.participantsCount)i(null);else{var n=(0,z.A)(e.participants).filter((function(e){return e!==Jy()})).pop(),r=zre.users.findOne(String(n));t=r.$.subscribe({next:function(e){i(e?e.toMutableJSON():null)},error:function(e){console.error("An error occurred, trying to reset database",e),lie()}})}else i(null);return function(){t&&t.unsubscribe()}}),[e]),r}function H9(e){return W9.apply(this,arguments)}function W9(){return(W9=(0,o.A)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zre.users.findOne(String(t)).exec();case 2:if(!(n=e.sent)){e.next=5;break}return e.abrupt("return",n.toMutableJSON());case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K9(e){return $9.apply(this,arguments)}function $9(){return $9=(0,o.A)(u().mark((function e(t){var n,r,i,a,s,c=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=c.length>1&&void 0!==c[1]&&c[1],0!==t.length){e.next=3;break}return e.abrupt("return");case 3:if(t.map((function(e){O9.users.add(e.user_id),T9.users.delete(e.user_id)})),r=["avatar","name","url"],t=t.map((function(e){return r.map((function(t){void 0!==e[t]&&(e[t]=DM(e[t]))})),e})),!n){e.next=17;break}return i=t.map((function(e){return e.user_id})),e.next=10,zre.users.find({selector:{user_id:{$in:i}}}).exec();case 10:return a=e.sent,s=[],t.map((function(e){var t=a.find((function(t){return t.user_id===e.user_id}));t?s.push(U9(U9({},t.toJSON()),e)):s.push(e)})),e.next=15,zre.users.bulkUpsert(s);case 15:e.next=19;break;case 17:return e.next=19,Promise.all(t.map(function(){var e=(0,o.A)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H9(t.user_id);case 2:if(n=e.sent){e.next=8;break}return e.next=6,zre.users.incrementalUpsert(t);case 6:e.next=10;break;case 8:return e.next=10,zre.users.incrementalUpsert(U9(U9({},n),t));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 19:case"end":return e.stop()}}),e)}))),$9.apply(this,arguments)}function G9(e,t){return Q9.apply(this,arguments)}function Q9(){return(Q9=(0,o.A)(u().mark((function e(t,n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,zre.users.findOne(String(t)).exec();case 3:if(!(r=e.sent)){e.next=7;break}return e.next=7,r.incrementalUpdate({$set:n});case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),RM(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function Y9(){return X9.apply(this,arguments)}function X9(){return X9=(0,o.A)(u().mark((function e(){var t,n,r,i,a,o,s,c,l,d=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!(d.length>0&&void 0!==d[0])||d[0],n=d.length>1&&void 0!==d[1]?d[1]:{},e.next=4,Wy("guest-auth");case 4:if(!(r=e.sent)){e.next=7;break}return e.abrupt("return",r);case 7:if(!(i=Tie.get("bm-guest-auth"))){e.next=12;break}return e.next=11,$y("guest-auth",i);case 11:return e.abrupt("return",i);case 12:if(t){e.next=14;break}return e.abrupt("return",!1);case 14:return a=window.Better_Messages.restUrl,s=(o=a+"guests/register")+(o.includes("?")?"&":"?")+"nocache="+(new Date).getTime(),e.next=19,Cs.post(s,{registerData:n});case 19:if(c=e.sent,!(l=c.data)||"object"!==(0,C.A)(c.data)){e.next=30;break}return e.next=24,$y("guest-auth",c.data);case 24:Tie.set("bm-guest-auth",c.data),window.Better_Messages.guestAuth=l,Xy.next(!0),Gie(window.Better_Messages,!0),K9([structuredClone(c.data.user)]),$y("databaseUserId",Jy());case 30:return e.abrupt("return",c.data);case 31:case"end":return e.stop()}}),e)}))),X9.apply(this,arguments)}function Z9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J9(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z9(Object(n),!0).forEach((function(t){(0,h.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z9(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function eee(e){var t=e.completeAction,n=void 0===t?null:t,r=e.showLogin,i=void 0===r||r,a=e.showGuestSubHeader,o=void 0===a||a,s=e.forceGuest,u=void 0!==s&&s,l=e.registerProps,d=void 0===l?{}:l,p=(0,c.useState)(!1),f=(0,_.A)(p,2),h=f[0],m=f[1],v=(0,c.useState)(""),g=(0,_.A)(v,2),y=g[0],b=g[1];return c.createElement(c.Fragment,null,i&&c.createElement("div",{className:"bm-guest-login"},c.createElement("div",{className:"bm-subheading"},Rie("Continue with account","bp-better-messages")),c.createElement("div",{className:"bm-guest-login-actions"},c.createElement("a",{href:Sie.loginUrl,className:"bm-button bm-no-link-style"},Rie("Login","bp-better-messages")),Sie.registerUrl&&c.createElement("a",{href:Sie.registerUrl,className:"bm-button bm-no-link-style"},Rie("Register","bp-better-messages")))),(!!Sie.guests||u)&&c.createElement("div",{className:"bm-guest-form"},o&&c.createElement("div",{className:"bm-subheading"},Rie("Continue as guest","bp-better-messages")),c.createElement("form",null,c.createElement("div",null,c.createElement("label",null,Rie("Display Name","bp-better-messages")),c.createElement("input",{className:"",type:"text",value:y,onChange:function(e){b(e.target.value)}})),c.createElement("div",null,c.createElement(dP,{label:Rie("Continue","bp-better-messages"),disabled:!0===h,onClick:function(e){e.preventDefault(),m(!0),Y9(!0,J9(J9({},d),{name:y})).then((function(){lP("guest-settings-panel"),n&&n()})).catch((function(e){hb(e)})).finally((function(){m(!1)}))},classes:"bm-button"})))))}function tee(e){var t=e.completeAction,n=void 0===t?null:t,r=e.showLogin,i=void 0===r||r,a=e.showGuestSubHeader,o=void 0===a||a,s=e.forceGuest,u=void 0!==s&&s,l=e.registerProps,d=void 0===l?{}:l,p=(0,c.useRef)(),f=(0,c.useState)(""),h=(0,_.A)(f,2),m=h[0],v=h[1],g=(0,c.useState)(!1),y=(0,_.A)(g,2),b=(y[0],y[1]);return(0,c.useEffect)((function(){Wy("guest-auth",!1).then((function(e){p.current=e,v(e.name)}))}),[]),(0,c.useEffect)((function(){p.current&&p.current.name!==m?b(!0):b(!1)}),[m]),c.createElement("div",{className:"bm-auth-required-modal"},c.createElement(eee,{registerProps:d,showGuestSubHeader:o,forceGuest:u,showLogin:i,completeAction:n}))}function nee(){var e=zre.threads.find({selector:{unread:{$gt:0},isHidden:0,isDeleted:0}}),t=0;e.$.subscribe((function(e){var n=0;e.map((function(e){var r=Number(e.get("id")),i=Number(e.get("unread"));!function(e,t){Wie("better_messages_update_thread_unread",e,t)}(r,i),n+=i,i>0&&t++})),Sie.unreadCounter?Pee(t):Pee(n)}))}var ree=!1;function iee(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!ree){ree=!0;try{var n,r;if(window.location.search&&(n=window.location.search,r="search"),window.location.hash.includes("?")&&(n=window.location.hash,r="hash"),t&&(r="search",n=t),!n)return!1;var i="videoCall",a="audioCall",o="scrollToContainer",s="openFullScreen",u=n.includes(i),c=n.includes(a),l=n.includes("bmErrors"),d=n.includes(o),p=n.includes(s);if(l)try{var f=new Proxy(new URLSearchParams(n),{get:function(e,t){return e.get(t)}}).bmErrors;if(f){var h=f.length;db(JSON.parse(f.substring(0,h-3)));var m="bmErrors="+encodeURIComponent(f).replace(/%20/g,"+").replace(/%24/g,"$");if("hash"===r&&(window.location.hash=window.location.hash.replace("&"+m,"")),"search"===r){var v=window.location.href.replace("&"+m,"");history.pushState(null,null,v)}}}catch(e){console.error(e)}if(e||(e=document.querySelector(".bp-messages-wrap-main")),!e)return;if(d){var g=30;Sie.headerHeight&&(g+=parseInt(Sie.headerHeight));var y=e.getBoundingClientRect().top+window.scrollY-g;if(window.scroll({top:y,behavior:"smooth"}),"hash"===r&&(window.location.hash=window.location.hash.replace("&"+o,"")),"search"===r){var b=window.location.href.replace("&"+o,"");history.pushState(null,null,b)}Kg(document,"better-messages-autoscroll")}if(p){var w=e.querySelector(".chat-header .bpbm-maximize");if(w&&(w.click(),"hash"===r&&(window.location.hash=window.location.hash.replace("&"+s,"")),"search"===r)){var D=window.location.href.replace("&"+s,"");D=D.replace("?"+s,""),history.pushState(null,null,D)}}if(u)if(Sie.callRestrict)db(Sie.callRestrict),aee(i,r);else{var A=e.querySelector(".chat-header .video-call");A&&(A.click(),aee(i,r))}if(c)if(Sie.callRestrict)db(Sie.callRestrict),aee(a,r);else{var E=e.querySelector(".chat-header .audio-call");E&&(E.click(),aee(a,r))}}finally{ree=!1}}}function aee(e,t){if("hash"===t&&(window.location.hash=window.location.hash.replace("&"+e,"")),"search"===t){var n=window.location.href.replace("&"+e,"");history.pushState(null,null,n)}}function oee(e){return see.apply(this,arguments)}function see(){return see=(0,o.A)(u().mark((function e(t){var n,r,i,a,o,s,c,l,d,p,f,h,m,v,g,y,b=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=b.length>2&&void 0!==b[2]&&b[2],i=b.length>3&&void 0!==b[3]&&b[3],a=b.length>4&&void 0!==b[4]?b[4]:"conversation",o=b.length>5&&void 0!==b[5]?b[5]:"",s=b.length>6&&void 0!==b[6]?b[6]:null,c=b.length>7&&void 0!==b[7]?b[7]:null,l=!1!==(n=b.length>1&&void 0!==b[1]&&b[1]),Sie.miniChats||(l=!0),(d=!Iie&&!l)&&Yv()&&!Sie.mobileFullScreen&&(d=!1),Iie&&(r=!1),r&&(d=!1),e.prev=13,"video"!==a&&"audio"!==a){e.next=18;break}if(!Sie.callRestrict){e.next=18;break}return db(Sie.callRestrict),e.abrupt("return");case 18:if(t=Number(t),f=location.hash,!d){e.next=29;break}return e.next=23,X6("loading_"+t,!0,t,s);case 23:if(h=e.sent,p=h.id){e.next=27;break}return e.abrupt("return",!1);case 27:e.next=37;break;case 29:if(!Iie){e.next=36;break}if(x1.next(!0),"memory"!==n){e.next=34;break}return e.next=34,W6();case 34:e.next=37;break;case 36:l=!0;case 37:return e.next=39,pie.post("getPrivateThread",{user_id:t,create:i,subject:o,uniqueKey:s});case 39:if(m=e.sent,"string"!=typeof(v=m.data)||!d){e.next=45;break}return e.next=44,a8(p);case 44:return e.abrupt("return");case 45:if(g=String(v.thread_id),"video"===a&&(g+="?&scrollToContainer&videoCall"),"audio"===a&&(g+="?&scrollToContainer&audioCall"),"thread_found"!==v.result&&"thread_created"!==v.result){e.next=99;break}return e.next=51,gK(v);case 51:return e.next=53,Wie("better_messages_conversation_with_user_opened",c,v.thread_id,v,s,d);case 53:if(!r){e.next=58;break}return e.next=56,b2(v.thread_id,a);case 56:e.next=97;break;case 58:if(!l){e.next=72;break}if(!Iie){e.next=68;break}if("hash"!==n){e.next=64;break}location.hash="#/conversation/"+g,e.next=66;break;case 64:return e.next=66,W6("/conversation/"+g);case 66:e.next=69;break;case 68:"hash"===n?location.hash="#/conversation/"+g:location.href=Sie.threadUrl+g;case 69:iee(),e.next=97;break;case 72:if(!d){e.next=89;break}return e.next=75,J6(v.thread_id);case 75:if(!(y=e.sent)){e.next=85;break}return e.next=79,a8(p);case 79:return e.next=81,r8(y.id,{user_id:String(t)});case 81:return e.next=83,t8(y.id);case 83:e.next=87;break;case 85:return e.next=87,r8(p,{thread_id:String(v.thread_id)});case 87:e.next=97;break;case 89:if(!Iie){e.next=97;break}if("hash"!==n){e.next=94;break}location.hash="#/conversation/"+g,e.next=96;break;case 94:return e.next=96,W6("/conversation/"+g);case 96:iee();case 97:e.next=100;break;case 99:"not_allowed"===v.result&&(Iie&&(location.hash=f),db(v.errors),d&&a8(p));case 100:e.next=106;break;case 102:e.prev=102,e.t0=e.catch(13),hb(e.t0),d&&a8(p);case 106:return e.prev=106,x1.next(!1),e.finish(106);case 109:case"end":return e.stop()}}),e,null,[[13,102,106,109]])}))),see.apply(this,arguments)}function uee(e){return cee.apply(this,arguments)}function cee(){return cee=(0,o.A)(u().mark((function e(t){var n,r,i,a,o,s=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=s.length>2&&void 0!==s[2]?s[2]:"",i=s.length>3&&void 0!==s[3]?s[3]:null,e.next=5,pie.post("getPrivateThread",{user_id:t,create:n,subject:r,uniqueKey:i});case 5:if(a=e.sent,"thread_found"!==(o=a.data).result&&"thread_created"!==o.result){e.next=17;break}return e.next=10,gK(o);case 10:if(!n){e.next=14;break}return e.abrupt("return",o.thread_id);case 14:case 26:return e.abrupt("return",!0);case 15:e.next=27;break;case 17:if("not_allowed"!==o.result){e.next=21;break}throw o.errors;case 21:if("new_thread"!==o.result){e.next=27;break}if(!n){e.next=26;break}return e.abrupt("return",o.thread_id);case 27:case"end":return e.stop()}}),e)}))),cee.apply(this,arguments)}var lee=function(){return(0,f.A)((function e(){(0,p.A)(this,e),this.enabled=!1}),[{key:"enable",value:function(){throw new Error("NoSleep using SSR/no-op mode; do not call enable.")}},{key:"disable",value:function(){throw new Error("NoSleep using SSR/no-op mode; do not call disable.")}}])}(),dee=function(){return(0,f.A)((function e(){var t=this;(0,p.A)(this,e),this.enabled=!1;var n=function(){return t.wakeLock&&"visible"===document.visibilityState&&t.enable()};document.addEventListener("visibilitychange",n),document.addEventListener("fullscreenchange",n)}),[{key:"enable",value:(e=(0,o.A)(s.mark((function e(){return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.wakeLock.request("screen");case 3:this.wakeLock=e.sent,this.enabled=!0,console.debug("Wake Lock active."),this.wakeLock.addEventListener("release",(function(){console.debug("Wake Lock released.")})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),this.enabled=!1,e.t0 instanceof Error&&console.error("".concat(e.t0.name,", ").concat(e.t0.message));case 12:case"end":return e.stop()}}),e,this,[[0,9]])}))),function(){return e.apply(this,arguments)})},{key:"disable",value:function(){var e;null==(e=this.wakeLock)||e.release(),this.wakeLock=void 0,this.enabled=!1}}]);var e}(),pee=function(){return(0,f.A)((function e(){var t,n=this;(0,p.A)(this,e),this.enabled=!1,this.noSleepVideo=document.createElement("video"),this.noSleepVideo.setAttribute("title","No Sleep"),this.noSleepVideo.setAttribute("playsinline",""),this._addSourceToVideo(this.noSleepVideo,"webm","data:video/webm;base64,GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4EEQoWBAhhTgGcBAAAAAAAVkhFNm3RALE27i1OrhBVJqWZTrIHfTbuMU6uEFlSua1OsggEwTbuMU6uEHFO7a1OsghV17AEAAAAAAACkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAAEUq17GDD0JATYCNTGF2ZjU1LjMzLjEwMFdBjUxhdmY1NS4zMy4xMDBzpJBlrrXf3DCDVB8KcgbMpcr+RImIQJBgAAAAAAAWVK5rAQAAAAAAD++uAQAAAAAAADLXgQFzxYEBnIEAIrWcg3VuZIaFVl9WUDiDgQEj44OEAmJaAOABAAAAAAAABrCBsLqBkK4BAAAAAAAPq9eBAnPFgQKcgQAitZyDdW5khohBX1ZPUkJJU4OBAuEBAAAAAAAAEZ+BArWIQOdwAAAAAABiZIEgY6JPbwIeVgF2b3JiaXMAAAAAAoC7AAAAAAAAgLUBAAAAAAC4AQN2b3JiaXMtAAAAWGlwaC5PcmcgbGliVm9yYmlzIEkgMjAxMDExMDEgKFNjaGF1ZmVudWdnZXQpAQAAABUAAABlbmNvZGVyPUxhdmM1NS41Mi4xMDIBBXZvcmJpcyVCQ1YBAEAAACRzGCpGpXMWhBAaQlAZ4xxCzmvsGUJMEYIcMkxbyyVzkCGkoEKIWyiB0JBVAABAAACHQXgUhIpBCCGEJT1YkoMnPQghhIg5eBSEaUEIIYQQQgghhBBCCCGERTlokoMnQQgdhOMwOAyD5Tj4HIRFOVgQgydB6CCED0K4moOsOQghhCQ1SFCDBjnoHITCLCiKgsQwuBaEBDUojILkMMjUgwtCiJqDSTX4GoRnQXgWhGlBCCGEJEFIkIMGQcgYhEZBWJKDBjm4FITLQagahCo5CB+EIDRkFQCQAACgoiiKoigKEBqyCgDIAAAQQFEUx3EcyZEcybEcCwgNWQUAAAEACAAAoEiKpEiO5EiSJFmSJVmSJVmS5omqLMuyLMuyLMsyEBqyCgBIAABQUQxFcRQHCA1ZBQBkAAAIoDiKpViKpWiK54iOCISGrAIAgAAABAAAEDRDUzxHlETPVFXXtm3btm3btm3btm3btm1blmUZCA1ZBQBAAAAQ0mlmqQaIMAMZBkJDVgEACAAAgBGKMMSA0JBVAABAAACAGEoOogmtOd+c46BZDppKsTkdnEi1eZKbirk555xzzsnmnDHOOeecopxZDJoJrTnnnMSgWQqaCa0555wnsXnQmiqtOeeccc7pYJwRxjnnnCateZCajbU555wFrWmOmkuxOeecSLl5UptLtTnnnHPOOeecc84555zqxekcnBPOOeecqL25lpvQxTnnnE/G6d6cEM4555xzzjnnnHPOOeecIDRkFQAABABAEIaNYdwpCNLnaCBGEWIaMulB9+gwCRqDnELq0ehopJQ6CCWVcVJKJwgNWQUAAAIAQAghhRRSSCGFFFJIIYUUYoghhhhyyimnoIJKKqmooowyyyyzzDLLLLPMOuyssw47DDHEEEMrrcRSU2011lhr7jnnmoO0VlprrbVSSimllFIKQkNWAQAgAAAEQgYZZJBRSCGFFGKIKaeccgoqqIDQkFUAACAAgAAAAABP8hzRER3RER3RER3RER3R8RzPESVREiVREi3TMjXTU0VVdWXXlnVZt31b2IVd933d933d+HVhWJZlWZZlWZZlWZZlWZZlWZYgNGQVAAACAAAghBBCSCGFFFJIKcYYc8w56CSUEAgNWQUAAAIACAAAAHAUR3EcyZEcSbIkS9IkzdIsT/M0TxM9URRF0zRV0RVdUTdtUTZl0zVdUzZdVVZtV5ZtW7Z125dl2/d93/d93/d93/d93/d9XQdCQ1YBABIAADqSIymSIimS4ziOJElAaMgqAEAGAEAAAIriKI7jOJIkSZIlaZJneZaomZrpmZ4qqkBoyCoAABAAQAAAAAAAAIqmeIqpeIqoeI7oiJJomZaoqZoryqbsuq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq4LhIasAgAkAAB0JEdyJEdSJEVSJEdygNCQVQCADACAAAAcwzEkRXIsy9I0T/M0TxM90RM901NFV3SB0JBVAAAgAIAAAAAAAAAMybAUy9EcTRIl1VItVVMt1VJF1VNVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVN0zRNEwgNWQkAkAEAkBBTLS3GmgmLJGLSaqugYwxS7KWxSCpntbfKMYUYtV4ah5RREHupJGOKQcwtpNApJq3WVEKFFKSYYyoVUg5SIDRkhQAQmgHgcBxAsixAsiwAAAAAAAAAkDQN0DwPsDQPAAAAAAAAACRNAyxPAzTPAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABA0jRA8zxA8zwAAAAAAAAA0DwP8DwR8EQRAAAAAAAAACzPAzTRAzxRBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABA0jRA8zxA8zwAAAAAAAAAsDwP8EQR0DwRAAAAAAAAACzPAzxRBDzRAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAEOAAABBgIRQasiIAiBMAcEgSJAmSBM0DSJYFTYOmwTQBkmVB06BpME0AAAAAAAAAAAAAJE2DpkHTIIoASdOgadA0iCIAAAAAAAAAAAAAkqZB06BpEEWApGnQNGgaRBEAAAAAAAAAAAAAzzQhihBFmCbAM02IIkQRpgkAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAGHAAAAgwoQwUGrIiAIgTAHA4imUBAIDjOJYFAACO41gWAABYliWKAABgWZooAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAYcAAACDChDBQashIAiAIAcCiKZQHHsSzgOJYFJMmyAJYF0DyApgFEEQAIAAAocAAACLBBU2JxgEJDVgIAUQAABsWxLE0TRZKkaZoniiRJ0zxPFGma53meacLzPM80IYqiaJoQRVE0TZimaaoqME1VFQAAUOAAABBgg6bE4gCFhqwEAEICAByKYlma5nmeJ4qmqZokSdM8TxRF0TRNU1VJkqZ5niiKommapqqyLE3zPFEURdNUVVWFpnmeKIqiaaqq6sLzPE8URdE0VdV14XmeJ4qiaJqq6roQRVE0TdNUTVV1XSCKpmmaqqqqrgtETxRNU1Vd13WB54miaaqqq7ouEE3TVFVVdV1ZBpimaaqq68oyQFVV1XVdV5YBqqqqruu6sgxQVdd1XVmWZQCu67qyLMsCAAAOHAAAAoygk4wqi7DRhAsPQKEhKwKAKAAAwBimFFPKMCYhpBAaxiSEFEImJaXSUqogpFJSKRWEVEoqJaOUUmopVRBSKamUCkIqJZVSAADYgQMA2IGFUGjISgAgDwCAMEYpxhhzTiKkFGPOOScRUoox55yTSjHmnHPOSSkZc8w556SUzjnnnHNSSuacc845KaVzzjnnnJRSSuecc05KKSWEzkEnpZTSOeecEwAAVOAAABBgo8jmBCNBhYasBABSAQAMjmNZmuZ5omialiRpmud5niiapiZJmuZ5nieKqsnzPE8URdE0VZXneZ4oiqJpqirXFUXTNE1VVV2yLIqmaZqq6rowTdNUVdd1XZimaaqq67oubFtVVdV1ZRm2raqq6rqyDFzXdWXZloEsu67s2rIAAPAEBwCgAhtWRzgpGgssNGQlAJABAEAYg5BCCCFlEEIKIYSUUggJAAAYcAAACDChDBQashIASAUAAIyx1lprrbXWQGettdZaa62AzFprrbXWWmuttdZaa6211lJrrbXWWmuttdZaa6211lprrbXWWmuttdZaa6211lprrbXWWmuttdZaa6211lprrbXWWmstpZRSSimllFJKKaWUUkoppZRSSgUA+lU4APg/2LA6wknRWGChISsBgHAAAMAYpRhzDEIppVQIMeacdFRai7FCiDHnJKTUWmzFc85BKCGV1mIsnnMOQikpxVZjUSmEUlJKLbZYi0qho5JSSq3VWIwxqaTWWoutxmKMSSm01FqLMRYjbE2ptdhqq7EYY2sqLbQYY4zFCF9kbC2m2moNxggjWywt1VprMMYY3VuLpbaaizE++NpSLDHWXAAAd4MDAESCjTOsJJ0VjgYXGrISAAgJACAQUooxxhhzzjnnpFKMOeaccw5CCKFUijHGnHMOQgghlIwx5pxzEEIIIYRSSsaccxBCCCGEkFLqnHMQQgghhBBKKZ1zDkIIIYQQQimlgxBCCCGEEEoopaQUQgghhBBCCKmklEIIIYRSQighlZRSCCGEEEIpJaSUUgohhFJCCKGElFJKKYUQQgillJJSSimlEkoJJYQSUikppRRKCCGUUkpKKaVUSgmhhBJKKSWllFJKIYQQSikFAAAcOAAABBhBJxlVFmGjCRcegEJDVgIAZAAAkKKUUiktRYIipRikGEtGFXNQWoqocgxSzalSziDmJJaIMYSUk1Qy5hRCDELqHHVMKQYtlRhCxhik2HJLoXMOAAAAQQCAgJAAAAMEBTMAwOAA4XMQdAIERxsAgCBEZohEw0JweFAJEBFTAUBigkIuAFRYXKRdXECXAS7o4q4DIQQhCEEsDqCABByccMMTb3jCDU7QKSp1IAAAAAAADADwAACQXAAREdHMYWRobHB0eHyAhIiMkAgAAAAAABcAfAAAJCVAREQ0cxgZGhscHR4fICEiIyQBAIAAAgAAAAAggAAEBAQAAAAAAAIAAAAEBB9DtnUBAAAAAAAEPueBAKOFggAAgACjzoEAA4BwBwCdASqwAJAAAEcIhYWIhYSIAgIABhwJ7kPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99YAD+/6tQgKOFggADgAqjhYIAD4AOo4WCACSADqOZgQArADECAAEQEAAYABhYL/QACIBDmAYAAKOFggA6gA6jhYIAT4AOo5mBAFMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAGSADqOFggB6gA6jmYEAewAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIAj4AOo5mBAKMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAKSADqOFggC6gA6jmYEAywAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIAz4AOo4WCAOSADqOZgQDzADECAAEQEAAYABhYL/QACIBDmAYAAKOFggD6gA6jhYIBD4AOo5iBARsAEQIAARAQFGAAYWC/0AAiAQ5gGACjhYIBJIAOo4WCATqADqOZgQFDADECAAEQEAAYABhYL/QACIBDmAYAAKOFggFPgA6jhYIBZIAOo5mBAWsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAXqADqOFggGPgA6jmYEBkwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIBpIAOo4WCAbqADqOZgQG7ADECAAEQEAAYABhYL/QACIBDmAYAAKOFggHPgA6jmYEB4wAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIB5IAOo4WCAfqADqOZgQILADECAAEQEAAYABhYL/QACIBDmAYAAKOFggIPgA6jhYICJIAOo5mBAjMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAjqADqOFggJPgA6jmYECWwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYICZIAOo4WCAnqADqOZgQKDADECAAEQEAAYABhYL/QACIBDmAYAAKOFggKPgA6jhYICpIAOo5mBAqsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCArqADqOFggLPgA6jmIEC0wARAgABEBAUYABhYL/QACIBDmAYAKOFggLkgA6jhYIC+oAOo5mBAvsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAw+ADqOZgQMjADECAAEQEAAYABhYL/QACIBDmAYAAKOFggMkgA6jhYIDOoAOo5mBA0sAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCA0+ADqOFggNkgA6jmYEDcwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIDeoAOo4WCA4+ADqOZgQObADECAAEQEAAYABhYL/QACIBDmAYAAKOFggOkgA6jhYIDuoAOo5mBA8MAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCA8+ADqOFggPkgA6jhYID+oAOo4WCBA+ADhxTu2sBAAAAAAAAEbuPs4EDt4r3gQHxghEr8IEK"),this._addSourceToVideo(this.noSleepVideo,"mp4","data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"),Object.assign(this.noSleepVideo.style,{position:"absolute",left:"-100%",top:"-100%"}),null==(t=document.querySelector("body"))||t.append(this.noSleepVideo),this.noSleepVideo.addEventListener("loadedmetadata",(function(){n.noSleepVideo.duration<=1?n.noSleepVideo.setAttribute("loop",""):n.noSleepVideo.addEventListener("timeupdate",(function(){n.noSleepVideo.currentTime>.5&&(n.noSleepVideo.currentTime=Math.random())}))}))}),[{key:"_addSourceToVideo",value:function(e,t,n){var r=document.createElement("source");r.src=n,r.type="video/".concat(t),e.appendChild(r)}},{key:"enable",value:(e=(0,o.A)(s.mark((function e(){var t,n;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.noSleepVideo.play(),e.prev=1,e.next=4,t;case 4:return n=e.sent,e.abrupt("return",(this.enabled=!0,n));case 8:e.prev=8,e.t0=e.catch(1),this.enabled=!1,e.t0 instanceof Error&&console.error("".concat(e.t0.name,", ").concat(e.t0.message));case 11:case"end":return e.stop()}}),e,this,[[1,8]])}))),function(){return e.apply(this,arguments)})},{key:"disable",value:function(){this.noSleepVideo.pause(),this.enabled=!1}}]);var e}(),fee=("undefined"==typeof navigator?"undefined":(0,C.A)(navigator))>"u"?lee:"wakeLock"in navigator&&!navigator.standalone?dee:pee;function hee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hee(Object(n),!0).forEach((function(t){(0,h.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var vee=!1,gee=!1,yee=new fee;function bee(){Hie("better_messages_no_sleep_enable",!0)&&(document.removeEventListener("click",bee,!1),vee||(vee=!0,yee.enable()),gee=!1)}function wee(){Hie("better_messages_no_sleep_disable",!0)&&(gee&&(document.removeEventListener("click",bee,!1),gee=!1),vee&&(yee.disable(),vee=!1))}function Dee(e){return new Promise((function(t){return setTimeout(t,e)}))}var Aee,Eee=!1,kee=null,Cee=null;function _ee(e){Eee=!0,Cee=e,kee=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,clearInterval(Aee),Aee=window.setInterval(Tee,1e3)}function xee(){Eee=!1,Cee=null,kee=null,clearInterval(Aee)}function See(){return Boolean(document.querySelector(".bpbm-call-view"))}function Tee(){See()||xee()}function Fee(e,t){var n;if(/^#([A-Fa-f0-9]{3}){1,2}$/.test(e))return 3==(n=e.substring(1).split("")).length&&(n=[n[0],n[0],n[1],n[1],n[2],n[2]]),"rgba("+[(n="0x"+n.join(""))>>16&255,n>>8&255,255&n].join(",")+","+t+")";throw new Error("Bad Hex")}window.addEventListener("beforeunload",(function(e){if(Eee)return e.preventDefault(),e.returnValue="",!1}));var Oee=document.title;function Pee(e){isNaN(e)&&(e=0),document.dispatchEvent(new CustomEvent("bp-better-messages-update-unread",{detail:{unread:e}})),Wie("better_messages_update_unread",e),Sie.total_unread=e,Sie.titleNotifications&&(isNaN(e)||e<=0?document.title=Oee:document.title="("+e+") "+Oee),Array.from(document.querySelectorAll(".bp-better-messages-unread")).map((function(t){var n=t.classList.contains("bpbmuc");t.textContent=String(e),n?t.setAttribute("data-count",String(e)):0===e?t.classList.add("no-count"):t.classList.remove("no-count")}));var t=document.body;if(t&&t.classList.contains("my-account")){var n=document.querySelector("#user-bp_better_messages_tab");if(n){var r=n.querySelector("span.count");if(e>0)if(r)r.textContent=String(e);else{var i=document.createElement("span");i.classList.add("count"),i.textContent=String(e),n.append(i)}else r&&r.remove()}}}function Iee(e){return Bee.apply(this,arguments)}function Bee(){return Bee=(0,o.A)(u().mark((function e(t){var n,r,i,a,o,s=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(s.length>1&&void 0!==s[1])||s[1],e.next=3,B0();case 3:return e.next=5,w7(t);case 5:if(!(r=e.sent)){e.next=9;break}if("chat-room"!==r.type||!r.chatRoom||r.chatRoom.isJoined){e.next=9;break}return e.abrupt("return");case 9:K8.has(t)&&(K8.get(t).forEach((function(e,n){b9.emit("v2/fastStatus",e.sender_id,e.temp_id,t,"seen")})),K8.delete(t)),T9.statuses.add(t),N9(),n&&Yte.postMessage({type:"thread_opened_user_"+window.Better_Messages.user_id,thread_id:t}),Kg(document,"better-messages-thread-opened",{threadId:t}),Kg(document,"better-messages-thread-opened-"+t),r&&(i={unread:0},r.mentions&&(a=[],o=!1,r.mentions.map((function(e){e.seen?a.push(mee({},e)):(o=!0,a.push(mee(mee({},e),{seen:!0})))})),o&&(i.mentions=a)),A7(t,i));case 16:case"end":return e.stop()}}),e)}))),Bee.apply(this,arguments)}function Ree(e){Kg(document,"better-messages-message-deleted",{messageId:e}),nne.isLeader&&Yte.postMessage({type:"message_deleted",message_id:e})}function Nee(e){return Mee.apply(this,arguments)}function Mee(){return(Mee=(0,o.A)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Sie.userStatuses){e.next=6;break}return e.next=3,H9(t);case 3:if(!(n=e.sent)||!n.status||"dnd"!==n.status.slug){e.next=6;break}return e.abrupt("return",!0);case 6:return e.abrupt("return",!1);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lee(e){return jee.apply(this,arguments)}function jee(){return jee=(0,o.A)(u().mark((function e(t){var n,r=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],!Sie.realtime||!Sie.miniChats||Yv()||n){e.next=7;break}return e.next=4,X6(t,!0);case 4:return e.abrupt("return",!0);case 7:if(!Iie){e.next=16;break}if("hash"!==n){e.next=12;break}location.hash="#/conversation/"+t,e.next=14;break;case 12:return e.next=14,W6("conversation/"+t);case 14:e.next=17;break;case 16:location.href=Sie.threadUrl+t+"?&scrollToContainer";case 17:case"end":return e.stop()}}),e)}))),jee.apply(this,arguments)}function Uee(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=window.atob(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}function zee(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null!==t)return t?(window.open(e,"newWindow"),event.preventDefault()):location.href=e,!0;var n=!1;"undefined"!=typeof event&&2===event.which&&(n=!0),n?(window.open(e,"newWindow"),event.preventDefault()):location.href=e}function Vee(e){var t=Math.floor(e/1e3%60),n=Math.floor(e/6e4%60),r=Math.floor(e/36e5%24);return n=n<10?"0"+n:n,t=t<10?"0"+t:t,"00"!==(r=r<10?"0"+r:r)?r+":"+n+":"+t:n+":"+t}window.BPBMurlBase64ToUint8Array=Uee,window.BPBMOpenUrlOrNewTab=zee,window.BBPMOpenPrivateThread=function(e){oee(e,!1,!1,!0)};var qee,Hee=new Map,Wee=new Set;function Kee(e){return(0,z.A)(Hee.values()).includes(e)}function $ee(){return(0,z.A)(Hee.values())}function Gee(){return Qee.apply(this,arguments)}function Qee(){return(Qee=(0,o.A)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Wee.clear(),e.next=3,Yte.postMessage({type:"visible_threads_request"});case 3:return e.next=5,Dee(500);case 5:if(!k.now()){e.next=9;break}return e.abrupt("return",(0,z.A)(new Set([].concat((0,z.A)(Hee.values()),(0,z.A)(Wee.values())))));case 9:return e.abrupt("return",(0,z.A)(new Set((0,z.A)(Wee.values()))));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Yee=function(){var e=(0,o.A)(u().mark((function e(){var t,n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!k9()){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,v7();case 5:if(t=e.sent,n=$ee(),r=[],t.map((function(e){n.includes(e.thread_id)&&r.push(e.thread_id)})),!(r.length>0)){e.next=19;break}return e.prev=10,e.next=13,pie.post("openThreads",{thread_ids:r});case 13:return e.next=15,zre.threads.find({selector:{thread_id:{$in:r}}}).update({$set:{unread:0}}).catch(RM);case 15:e.next=19;break;case 17:e.prev=17,e.t0=e.catch(10);case 19:e.next=23;break;case 21:e.prev=21,e.t1=e.catch(0);case 23:case"end":return e.stop()}}),e,null,[[0,21],[10,17]])})));return function(){return e.apply(this,arguments)}}();k.on("focus",Yee),k.on("wakeup",Yee);var Xee=!1,Zee=!0;function Jee(e){Zee=e}function ete(){return tte.apply(this,arguments)}function tte(){return tte=(0,o.A)(u().mark((function e(){var t,n,r,i,a,s,c,l,d,p,f,h=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=h.length>0&&void 0!==h[0]&&h[0],e.prev=1,Sie&&void 0!==Sie.user_id){e.next=4;break}return e.abrupt("return",!1);case 4:if(n=b9?"websocket":"ajax",r=!0,0===Jy()&&(r=!1),r){e.next=9;break}return e.abrupt("return");case 9:if(window.clearTimeout(qee),t){e.next=13;break}if(!k9()){e.next=13;break}return e.abrupt("return");case 13:return e.next=15,Zte();case 15:return e.next=17,ene();case 17:if(e.sent){e.next=19;break}return e.abrupt("return",!1);case 19:return e.next=21,B0();case 21:if(!Xee){e.next=23;break}return e.abrupt("return",!1);case 23:return Xee=!0,e.prev=24,e.next=27,Wy("lastUpdate",!1);case 27:if(!(!1===(i=e.sent)||i>0)){e.next=61;break}return!1===i&&(i=0),e.next=32,Gee();case 32:return a=e.sent,s={lastUpdate:i,visibleThreads:a},e.next=37,F7();case 37:(c=e.sent).length>0&&(s.threadIds=c);case 39:return e.next=41,pie.post("checkNew",s);case 41:if(l=e.sent,d=l.data,p=d.currentTime,("ajax"===n&&d.mechanism&&"websocket"===d.mechanism||"websocket"===n&&!t)&&Jee(!1),!(d.users&&d.users.length>0)){e.next=48;break}return e.next=48,K9(d.users);case 48:if(!(d.threads&&d.threads.length>0)){e.next=51;break}return e.next=51,N7(d.threads,!0,!0);case 51:if(!(d.messages&&d.messages.length>0)){e.next=55;break}return e.next=54,q8(d.messages);case 54:d.messages.map(function(){var e=(0,o.A)(u().mark((function e(t){var n,r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Wie("better_messages_message_received",t.message_id),e9(t.message_id),t.sender_id===Jy()){e.next=7;break}return e.next=5,w7(t.thread_id);case 5:(n=e.sent)&&(r=n.isMuted,n.isHidden&&(r=!0),r||(i=Number(t.created_at.toString().slice(0,-4)),_i.now().toSeconds()-i<300&&t.created_at===t.updated_at&&oK(t.thread_id,t.message_id)));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 55:if(d.deletedMessages&&d.deletedMessages.length>0&&d.deletedMessages.map((function(e){L8(e),Ree(e)})),d.deletedThreads&&d.deletedThreads.length>0&&d.deletedThreads.map((function(e){_7(e)})),d.missedThreads&&d.missedThreads.length>0&&d.missedThreads.map(function(){var e=(0,o.A)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w7(t);case 2:(n=e.sent)&&!n.adminAccess&&_7(t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),!p){e.next=61;break}return e.next=61,$y("lastUpdate",p);case 61:return e.prev=61,Xee=!1,e.finish(61);case 64:e.next=70;break;case 66:e.prev=66,e.t0=e.catch(1),console.error(e.t0),fb(e.t0);case 70:if(e.prev=70,!Zee){e.next=76;break}return e.next=74,nte();case 74:f=e.sent,qee=window.setTimeout(ete,f);case 76:return e.finish(70);case 77:case"end":return e.stop()}}),e,null,[[1,66,70,77],[24,,61,64]])}))),tte.apply(this,arguments)}function nte(){return rte.apply(this,arguments)}function rte(){return(rte=(0,o.A)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gee();case 2:if(!(e.sent.length>0)){e.next=7;break}return e.abrupt("return",Number(window.Better_Messages.threadRefresh));case 7:return e.abrupt("return",Number(window.Better_Messages.siteRefresh));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ite=Uu((function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}}));function ate(e,t){var n="object"===(0,C.A)(t);return new Promise((function(r,i){var a=new ac({next:function(e){r(e),a.unsubscribe()},error:i,complete:function(){n?r(t.defaultValue):i(new ite)}});e.subscribe(a)}))}var ote=new Map,ste=new WeakMap,ute=new Set;function cte(e){return ul(ote,e,(function(){return new Map}))}function lte(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=function(e,t){return t=t.slice(0),t.unshift(e.identifier),t.join("||")}(e,t);return ul(cte(e.identifier),r,(function(){var t={identifier:e.identifier,cacheKey:r,keepAlive:n,refCount:1,messageChannel:e.messageChannelCreator().then((function(e){return ute.add(e),ste.set(e,t),e}))};return t}),(function(e){e.refCount=e.refCount+1})).messageChannel}function dte(e){var t=sl(ste,e);return t.refCount=t.refCount-1,0!==t.refCount||t.keepAlive?rl:(cte(t.identifier).delete(t.cacheKey),ute.delete(e),e.close())}var pte=function(){function e(e){this.name="remote",this.rxdbVersion=Dv,this.seed=ou(10),this.lastRequestId=0,this.settings=e,"one"===e.mode&&(this.messageChannelIfOneMode=lte(e,[],!0))}var t=e.prototype;return t.getRequestId=function(){var e=this.lastRequestId++;return this.seed+"|"+e},t.createStorageInstance=function(){var e=(0,o.A)(s.mark((function e(t){var n,r,i,a,o,u;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:switch(n="c|"+this.getRequestId(),r=["mode-"+this.settings.mode],this.settings.mode){case"collection":r.push("collection-"+t.collectionName);case"database":r.push("database-"+t.databaseName);case"storage":r.push("seed-"+this.seed)}return e.next=5,this.messageChannelIfOneMode?this.messageChannelIfOneMode:lte(this.settings,r);case 5:return i=e.sent,a=this.getRequestId(),o=ate(i.messages$.pipe(pc((function(e){return e.answerTo===a})))),i.send({connectionId:n,method:"create",version:Dv,requestId:a,params:t}),e.next=11,o;case 11:if(!(u=e.sent).error){e.next=16;break}return e.next=15,dte(i);case 15:throw new Error("could not create instance "+JSON.stringify(u.error));case 16:return e.abrupt("return",new hte(this,t.databaseName,t.collectionName,t.schema,{params:t,connectionId:n,messageChannel:i},t.options));case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.customRequest=function(){var e=(0,o.A)(s.mark((function e(t){var n,r,i,a,o;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.settings.messageChannelCreator();case 2:return n=e.sent,r=this.getRequestId(),i="custom|request|"+r,a=ate(n.messages$.pipe(pc((function(e){return e.answerTo===r})))),n.send({connectionId:i,method:"custom",version:Dv,requestId:r,params:t}),e.next=9,a;case 9:if(!(o=e.sent).error){e.next=16;break}return e.next=13,n.close();case 13:throw new Error("could not run customRequest(): "+JSON.stringify({data:t,error:o.error}));case 16:return e.next=18,n.close();case 18:return e.abrupt("return",o.return);case 19:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),e}();function fte(e){return"getAttachmentData"===e.method?e.return:"string"==typeof e.return?JSON.parse(e.return):e.return}var hte=function(){function e(e,t,n,r,i,a){var o=this;this.changes$=new Wc,this.subs=[],this.storage=e,this.databaseName=t,this.collectionName=n,this.schema=r,this.internals=i,this.options=a,this.messages$=this.internals.messageChannel.messages$.pipe(pc((function(e){return e.connectionId===o.internals.connectionId}))),this.subs.push(this.messages$.subscribe((function(e){"changeStream"===e.method&&o.changes$.next(fte(e))})))}var t=e.prototype;return t.requestRemote=function(){var e=(0,o.A)(s.mark((function e(t,n){var r,i,a,o;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.storage.getRequestId(),i=ate(this.messages$.pipe(pc((function(e){return e.answerTo===r})))),a={connectionId:this.internals.connectionId,requestId:r,version:Dv,method:t,params:n},this.internals.messageChannel.send(a),e.next=6,i;case 6:if(!(o=e.sent).error){e.next=11;break}throw new Error("could not requestRemote: "+JSON.stringify({methodName:t,params:n,error:o.error},null,4));case 11:return e.abrupt("return",fte(o));case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),t.bulkWrite=function(e,t){return this.requestRemote("bulkWrite",[e,t])},t.findDocumentsById=function(e,t){return this.requestRemote("findDocumentsById",[e,t])},t.query=function(e){return this.requestRemote("query",[e])},t.count=function(e){return this.requestRemote("count",[e])},t.getAttachmentData=function(e,t,n){return this.requestRemote("getAttachmentData",[e,t,n])},t.getChangedDocumentsSince=function(e,t){return this.requestRemote("getChangedDocumentsSince",[e,t])},t.changeStream=function(){return this.changes$.asObservable()},t.cleanup=function(e){return this.requestRemote("cleanup",[e])},t.close=function(){var e=(0,o.A)(s.mark((function e(){var t=this;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.closed){e.next=2;break}return e.abrupt("return",this.closed);case 2:return this.closed=(0,o.A)(s.mark((function e(){return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.subs.forEach((function(e){return e.unsubscribe()})),t.changes$.complete(),e.next=4,t.requestRemote("close",[]);case 4:return e.next=6,dte(t.internals.messageChannel);case 6:case"end":return e.stop()}}),e)})))(),e.abrupt("return",this.closed);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.remove=function(){var e=(0,o.A)(s.mark((function e(){var t=this;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.closed){e.next=2;break}throw new Error("already closed");case 2:return this.closed=(0,o.A)(s.mark((function e(){return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.requestRemote("remove",[]);case 2:return e.next=4,dte(t.internals.messageChannel);case 4:case"end":return e.stop()}}),e)})))(),e.abrupt("return",this.closed);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),e}();var mte=__webpack_require__(88967);function vte(e){return t={identifier:"rx-storage-worker-"+e.workerInput,mode:e.mode,messageChannelCreator:function(){var t="function"==typeof e.workerInput?e.workerInput():new mte(e.workerInput,e.workerOptions);if(!(t instanceof mte))throw new Error("no Worker given");var n=[],r=function(e){n.push(e)};t.addEventListener("error",r);var i=new Wc,a=function(e){var t=e.data;i.next(t)};return t.addEventListener("message",a),Promise.resolve({messages$:i,send:function(e){t.postMessage(e)},close:function(){return t.removeEventListener("message",a),t.removeEventListener("error",r),rl}})}},n=Object.assign({mode:"storage"},t),new pte(n);var t,n}var gte={minimumDeletedTime:26784e5,minimumCollectionAge:6e4,runEach:3e5,awaitReplicationsInSync:!0,waitForLeadership:!0},yte=new WeakMap;var bte=el;function wte(){return(wte=(0,o.A)(s.mark((function e(t){var n,r;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.database,r=Object.assign({},gte,n.cleanupPolicy?n.cleanupPolicy:{}),e.next=4,Dte(t,r);case 4:if(!t.closed){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,Ete(t,r);case 8:return e.next=10,Cte(t,r);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dte(e,t){return Ate.apply(this,arguments)}function Ate(){return(Ate=(0,o.A)(s.mark((function e(t,n){return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promiseWait(n.minimumCollectionAge);case 2:if(!t.closed){e.next=4;break}return e.abrupt("return");case 4:if(!n.waitForLeadership){e.next=7;break}return e.next=7,t.database.waitForLeadership();case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ete(e,t){return kte.apply(this,arguments)}function kte(){return(kte=(0,o.A)(s.mark((function e(t,n){var r,i,a,u;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.database,i=t.storageInstance,a=!1;case 3:if(a||t.closed){e.next=17;break}if(!n.awaitReplicationsInSync){e.next=9;break}if(!(u=yte.get(t))){e.next=9;break}return e.next=9,Promise.all(u.map((function(e){if(!e.isStopped())return e.awaitInSync()})));case 9:if(!t.closed){e.next=11;break}return e.abrupt("return");case 11:return bte=bte.then((0,o.A)(s.mark((function e(){return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.closed){e.next=2;break}return e.abrupt("return",!0);case 2:return e.next=4,r.requestIdlePromise();case 4:return e.abrupt("return",i.cleanup(n.minimumDeletedTime));case 5:case"end":return e.stop()}}),e)})))),e.next=14,bte;case 14:a=e.sent,e.next=3;break;case 17:return e.next=19,nu("postCleanup",{collectionName:t.name,databaseName:r.name});case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cte(e,t){return _te.apply(this,arguments)}function _te(){return(_te=(0,o.A)(s.mark((function e(t,n){return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.closed){e.next=11;break}return e.next=3,ate(t.eventBulks$).catch((function(){}));case 3:return e.next=5,t.promiseWait(n.runEach);case 5:if(!t.closed){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,Ete(t,n);case 9:e.next=0;break;case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var xte=el;function Ste(){return(Ste=(0,o.A)(s.mark((function e(t){var n,r,i;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.collection,r=n.database,i=Object.assign({},gte,r.cleanupPolicy?r.cleanupPolicy:{}),e.next=5,Dte(n,i);case 5:if(!n.closed){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,Tte(t,i);case 9:return e.next=11,Ote(t,i);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tte(e,t){return Fte.apply(this,arguments)}function Fte(){return(Fte=(0,o.A)(s.mark((function e(t,n){var r,i,a,u;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.collection,i=r.database,a=!1;case 3:if(a||r.closed){e.next=17;break}if(!n.awaitReplicationsInSync){e.next=9;break}if(!(u=yte.get(r))){e.next=9;break}return e.next=9,Promise.all(u.map((function(e){if(!e.isStopped())return e.awaitInSync()})));case 9:if(!r.closed){e.next=11;break}return e.abrupt("return");case 11:return xte=xte.then((0,o.A)(s.mark((function e(){return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.closed){e.next=2;break}return e.abrupt("return",!0);case 2:return e.next=4,i.requestIdlePromise();case 4:return e.abrupt("return",t._cleanup());case 5:case"end":return e.stop()}}),e)})))),e.next=14,xte;case 14:a=e.sent,e.next=3;break;case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ote(e,t){return Pte.apply(this,arguments)}function Pte(){return(Pte=(0,o.A)(s.mark((function e(t,n){var r;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.collection;case 1:if(r.closed){e.next=12;break}return e.next=4,ate(r.eventBulks$).catch((function(){}));case 4:return e.next=6,r.promiseWait(n.runEach);case 6:if(!r.closed){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,Tte(t,n);case 10:e.next=1;break;case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ite={name:"cleanup",rxdb:!0,prototypes:{RxCollection:function(e){e.cleanup=function(){var e=(0,o.A)(s.mark((function e(t){var n,r;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Object.assign({},gte,this.database.cleanupPolicy?this.database.cleanupPolicy:{}),void 0===t&&(t=n.minimumDeletedTime),r=!1;case 3:if(r||this.closed){e.next=9;break}return e.next=6,this.storageInstance.cleanup(t);case 6:r=e.sent,e.next=3;break;case 9:return e.next=11,nu("postCleanup",{collectionName:this.name,databaseName:this.database.name});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}},hooks:{createRxCollection:{after:function(e){!function(e){wte.apply(this,arguments)}(e.collection)}},createRxState:{after:function(e){!function(e){Ste.apply(this,arguments)}(e.state)}}}},Bte=__webpack_require__(52936);function Rte(e){return Nte.apply(this,arguments)}function Nte(){return Nte=(0,o.A)(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.crypto||!window.crypto.subtle||"function"!=typeof window.crypto.subtle.digest){e.next=8;break}return n=(new TextEncoder).encode(t),e.next=4,crypto.subtle.digest("SHA-256",n);case 4:return r=e.sent,e.abrupt("return",Array.prototype.map.call(new Uint8Array(r),(function(e){return("00"+e.toString(16)).slice(-2)})).join(""));case 8:return e.abrupt("return",Bte.SHA256(t).toString());case 9:case"end":return e.stop()}}),e)}))),Nte.apply(this,arguments)}function Mte(e){var t,n,r,i=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);i--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new Lte(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function Lte(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return Lte=function(e){this.s=e,this.n=e.next},Lte.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},"return":function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},"throw":function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new Lte(e)}function jte(){return jte=(0,o.A)(u().mark((function e(){var t,n,r,i,a,s,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Tie.get("bm-last-storage"),e.t0=!Yv()&&"indexeddb"!==t,!e.t0){e.next=6;break}return e.next=5,new Promise(function(){var e=(0,o.A)(u().mark((function e(t){var n,r,i,a,o,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===navigator.storage||"function"!=typeof navigator.storage.getDirectory){e.next=33;break}return n=setTimeout((function(){t(!1)}),1e3),e.prev=2,e.next=5,navigator.storage.getDirectory();case 5:return r=e.sent,e.next=8,r.getFileHandle("better-messages-test.txt",{create:!0});case 8:return i=e.sent,e.next=11,i.createWritable();case 11:return a=e.sent,e.next=14,a.write("OPFS is working correctly");case 14:return e.next=16,a.close();case 16:return e.next=18,i.getFile();case 18:return o=e.sent,e.next=21,o.text();case 21:s=e.sent,t("OPFS is working correctly"===s),e.next=28;break;case 25:e.prev=25,e.t0=e.catch(2),t(!1);case 28:return e.prev=28,clearTimeout(n),e.finish(28);case 31:e.next=34;break;case 33:t(!1);case 34:case"end":return e.stop()}}),e,null,[[2,25,28,31]])})));return function(t){return e.apply(this,arguments)}}());case 5:e.t0=e.sent;case 6:return r=e.t0,i=Jre(),r?("opfs"!==t&&Tie.set("bm-last-storage","opfs"),a="opfs",i&&(a+="-encrypted"),n=vte({workerInput:Pie+a+".worker.js?v="+Oie}),Hre(Wte)):("indexeddb"!==t&&Tie.set("bm-last-storage","indexeddb"),s="indexeddb",i&&(s+="-encrypted"),n=vte({workerInput:Pie+s+".worker.js?v="+Oie}),Hre($te)),(c={name:Ure,storage:n,eventReduce:!0,ignoreDuplicate:!1,hashFunction:Rte,cleanupPolicy:{minimumDeletedTime:1e3,minimumCollectionAge:6e4,runEach:6e4,awaitReplicationsInSync:!1,waitForLeadership:!0}}).password=window.Better_Messages.ukey,e.abrupt("return",c);case 12:case"end":return e.stop()}}),e)}))),jte.apply(this,arguments)}Mv(Ite);var Ute="Better Messages error deleting database.",zte="Better Messages database deleted successfully",Vte="Better Messages deleting database";function qte(){return Hte.apply(this,arguments)}function Hte(){return Hte=(0,o.A)(u().mark((function e(){var t,n,r,i,a,o,s,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.storage.getDirectory();case 3:t=e.sent,n=!1,r=!1,e.prev=6,a=Mte(t.entries());case 8:return e.next=10,a.next();case 10:if(!(n=!(o=e.sent).done)){e.next=18;break}if(s=(0,_.A)(o.value,1),!(c=s[0]).startsWith("rxdb-"+Ure)){e.next=15;break}return e.next=15,t.removeEntry(c,{recursive:!0});case 15:n=!1,e.next=8;break;case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(6),r=!0,i=e.t0;case 24:if(e.prev=24,e.prev=25,!n||null==a.return){e.next=29;break}return e.next=29,a.return();case 29:if(e.prev=29,!r){e.next=32;break}throw i;case 32:return e.finish(29);case 33:return e.finish(24);case 34:e.next=39;break;case 36:e.prev=36,e.t1=e.catch(0),console.log(e.t1);case 39:case"end":return e.stop()}}),e,null,[[0,36],[6,20,24,34],[25,,29,33]])}))),Hte.apply(this,arguments)}function Wte(){return Kte.apply(this,arguments)}function Kte(){return Kte=(0,o.A)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=(0,o.A)(u().mark((function e(t,n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=setTimeout((0,o.A)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(Ute),e.next=3,qte();case 3:t("timeout");case 4:case"end":return e.stop()}}),e)}))),3e4),console.log(Vte),e.prev=2,e.next=5,hie(!0);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0);case 10:return e.next=12,qte();case 12:console.log(zte),clearTimeout(r),t(!0);case 15:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)}))),Kte.apply(this,arguments)}function $te(){return Gte.apply(this,arguments)}function Gte(){return Gte=(0,o.A)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=(0,o.A)(u().mark((function e(t,n){var r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=setTimeout((0,o.A)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(Ute),t("timeout");case 2:case"end":return e.stop()}}),e)}))),3e4),console.log(Vte),e.next=4,hie();case 4:(i=indexedDB.deleteDatabase(Ure)).onerror=function(){var e=(0,o.A)(u().mark((function e(n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:clearTimeout(r),console.log(Ute),t(n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i.onsuccess=function(){var e=(0,o.A)(u().mark((function e(n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:clearTimeout(r),console.log(zte),t(!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)}))),Gte.apply(this,arguments)}var Qte=!1,Yte=new Tg("better-messages"),Xte=Wg(Yte);function Zte(){return Jte.apply(this,arguments)}function Jte(){return(Jte=(0,o.A)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Zv(),e.t0){e.next=8;break}if(e.t1=Xte,!e.t1){e.next=7;break}return e.next=6,Xte.hasLeader();case 6:e.t1=e.sent;case 7:e.t0=e.t1;case 8:if(!e.t0){e.next=10;break}return e.abrupt("return",!0);case 10:return e.next=12,Dee(500);case 12:return e.abrupt("return",Zte());case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ene(){return tne.apply(this,arguments)}function tne(){return(tne=(0,o.A)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Qte){e.next=2;break}return e.abrupt("return",!0);case 2:if(!Yv()){e.next=4;break}return e.abrupt("return",!0);case 4:if(e.t0=Xte,!e.t0){e.next=9;break}return e.next=8,Xte.hasLeader();case 8:e.t0=!e.sent;case 9:if(!e.t0){e.next=11;break}return e.abrupt("return",!0);case 11:if(e.t2=Xte,!e.t2){e.next=16;break}return e.next=15,Xte.hasLeader();case 15:e.t2=e.sent;case 16:if(e.t1=e.t2,!e.t1){e.next=19;break}e.t1=Xte.isLeader;case 19:if(!e.t1){e.next=21;break}return e.abrupt("return",!0);case 21:return e.abrupt("return",!1);case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Zv()?B0().then((function(){ete()})):Xte.awaitLeadership().then((function(){ete()}));const nne=Xte;var rne,ine=!1;function ane(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return one(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?one(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function one(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}Yte.addEventListener("message",(function(e){if(e.type)switch(e.type){case"visible_threads_request":k.now()&&Yte.postMessage({type:"visible_threads_response",threads:$ee()});break;case"visible_threads_response":e.threads.map((function(e){return Wee.add(e)}));break;case"visible_tab_request":Yte.postMessage({type:"visible_tab_response",visible:!document.hidden&&document.hasFocus()});break;case"visible_tab_response":!0===e.visible&&function(e){r9.apply(this,arguments)}(!0);break;case"on_site_message":Wie("better_messages_message_received",e.message_id),e9(e.message_id);break;case"message_deleted":Ree(e.message_id);break;case"thread_opened":Iee(e.thread_id,!1);break;case"update_settings":window.Better_Messages.ukey=e.settings.ukey,window.Better_Messages.user_id=e.settings.user_id,window.Better_Messages.le=e.settings.le,function(){return jte.apply(this,arguments)}().then((function(e){!function(e){Wre=e}(e)})),Gie(e.settings,!0);break;case"db_reset_start":ine=!0,cie(!0),rne=setTimeout((function(){ine=!1,lie()}),45e3),hie();break;case"db_reset_finish":if(clearTimeout(rne),!ine)return;ine=!1,function(){vie.apply(this,arguments)}(!0)}}));var sne=function(e){return th((function(t,n,r){var i=0;if(sp(n)){var a,o=ane(n);try{for(o.s();!(a=o.n()).done;){i|=1<<a.value}}catch(e){o.e(e)}finally{o.f()}}else i=n;return e(t&i,i)}))},une=sne((function(e,t){return 0==e})),cne=sne((function(e,t){return e==t})),lne=sne((function(e,t){return e<t})),dne=sne((function(e,t){return e>0}));function pne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var fne={cloneMode:"copy",queryOptions:Qp({context:Zp.init().addQueryOps(i).addExpressionOps(t).addExpressionOps(n)})},hne=function(e,t){switch(e){case"deep":return yp(t);case"copy":return lp(t)?new Date(t):sp(t)?(0,z.A)(t):up(t)?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pne(Object(n),!0).forEach((function(t){(0,h.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t):dp(t)?new RegExp(t):t;default:return t}},mne=/^[a-z]+[a-zA-Z0-9]*$/;function vne(e){if(!e.includes(".$"))return[{parent:e,selector:e},[]];var t=e.indexOf(".$"),n=e.indexOf("]"),r=e.substring(0,t),i=e.substring(t+3,n);tp(""===i||mne.test(i),"The filter <identifier> must begin with a lowercase letter and contain only alphanumeric characters.");var a=e.substring(n+2),o=a?vne(a):[],s=(0,_.A)(o,2),u=s[0],c=s[1];return[{selector:e,parent:r,child:i||"$",next:u},[i].concat((0,z.A)(c||[])).filter(Boolean)]}var gne=function(e,t,n,r,i){var a=t.parent,o=t.child,s=t.next;if(!o){var u=!1;return Pp(e,a,(function(e,t){return u=Boolean(r(e,t))||u}),i),u}var c=Sp(e,a);return!!sp(c)&&c.map((function(e,t){return!(n[o]&&!n[o].test((0,h.A)({},o,e)))&&(s?gne(e,s,n,r,i):r(c,t))})).some(Boolean)};function yne(e,t,n,r){for(var i=[],a=function(){var e=(0,_.A)(s[o],2),a=e[0],u=e[1],c=vne(a),l=(0,_.A)(c,2),d=l[0],p=l[1];if(p.length){var f={};t.forEach((function(e){Object.keys(e).forEach((function(t){p.forEach((function(n){(t===n||t.startsWith(n+"."))&&(f[n]=f[n]||{},Object.assign(f[n],(0,h.A)({},t,e[t])))}))}))}));for(var m={},v=0,g=Object.entries(f);v<g.length;v++){var y=(0,_.A)(g[v],2),b=y[0],w=y[1];m[b]=new Yf(w,n.queryOptions)}r(u,d,m)&&i.push(d.parent)}else r(u,d,{})&&i.push(d.parent)},o=0,s=Object.entries(e);o<s.length;o++)a();return i}var bne=function(e,t){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:fne;return yne(t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n,(function(t,r,i){var a={$each:[t]};return up(t)&&gp(t,"$each")&&Object.assign(a,t),gne(e,r,i,(function(e,t){var r=e[t]||(e[t]=[]);return Dp([r,a.$each]).length!==a.$each.length&&(e[t]=hne(n.cloneMode,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Kd,n=ep.init(t);return e.forEach((function(e){return n.set(e,!0)})),Array.from(n.keys())}(r.concat(a.$each))),!0)}),{buildGraph:!0})}))},wne=new Set(["and","or","xor"]),Dne=function(e,t){return yne(t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:fne,(function(t,n,r){var i=Object.keys(t);return tp(1===i.length&&wne.has(i[0]),"Invalid bit operator '".concat(i[0],"'. Must be one of 'and', 'or', or 'xor'.")),gne(e,n,r,(function(e,n){var r=e[n],a=t[i[0]];if(!(void 0===r||op(r)&&op(a)))return!1;switch(r=r||0,i[0]){case"and":e[n]=r&a;break;case"or":e[n]=r|a;break;case"xor":e[n]=r^a}return e[n]!==r}),{buildGraph:!0})}))},Ane=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:fne,i=Date.now();return yne(t,n,r,(function(t,n,r){return gne(e,n,r,(function(e,t){return e[t]=i,!0}),{buildGraph:!0})}))},Ene=function(e,t){return yne(t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:fne,(function(t,n,r){if(!n.child){var i=Sp(e,n.parent);tp(void 0===i||op(i),"cannot apply $inc to a value of non-numeric type")}return gne(e,n,r,(function(e,n){return e[n]=(e[n]||(e[n]=0))+t,!0}),{buildGraph:!0})}))},kne=function(e,t){return yne(t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:fne,(function(t,n,r){return gne(e,n,r,(function(e,n){return!(void 0!==e[n]&&Yd(e[n],t)>-1)&&(e[n]=t,!0)}),{buildGraph:!0})}))},Cne=function(e,t){return yne(t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:fne,(function(t,n,r){return gne(e,n,r,(function(e,n){return!(void 0!==e[n]&&Yd(e[n],t)<1)&&(e[n]=t,!0)}),{buildGraph:!0})}))},_ne=function(e,t){return yne(t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:fne,(function(t,n,r){return gne(e,n,r,(function(e,n){var r=e[n];return e[n]=void 0===e[n]?0:e[n]*t,e[n]!==r}),{buildGraph:!0})}))},xne=function(e,t){return yne(t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:fne,(function(t,n,r){return gne(e,n,r,(function(e,r){var i=e[r];return tp(sp(i),"path '".concat(n.selector,"' contains an element of non-array type.")),!!i.length&&(-1===t?i.splice(0,1):i.pop(),!0)}))}))},Sne=function(e,t){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:fne;return yne(t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n,(function(t,r,i){var a=!up(t)||Object.keys(t).some(Np),o=new Yf(a?{k:t}:t,n.queryOptions),s=a?function(e){return o.test({k:e})}:function(e){return o.test(e)};return gne(e,r,i,(function(e,t){var n=e[t],r=new Array,i=n.map((function(e){var t=s(e);return t||r.push(e),t})).some(Boolean);return!!i&&(e[t]=r,!0)}))}))},Tne=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:fne,i={};return Object.entries(t).forEach((function(e){var t=(0,_.A)(e,2),n=t[0],r=t[1];i[n]={$in:r}})),Sne(e,i,n,r)},Fne=Object.freeze(["$each","$slice","$sort","$position"]),One=function(e,t){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:fne;return yne(t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n,(function(t,r,i){var a={$each:[t]};return up(t)&&Fne.some((function(e){return gp(t,e)}))&&Object.assign(a,t),gne(e,r,i,(function(e,t){var r=e[t]||(e[t]=[]),i=r.slice(0,a.$slice||r.length),o=r.length,s=op(a.$position)?a.$position:r.length;if(r.splice.apply(r,[s,0].concat((0,z.A)(hne(n.cloneMode,a.$each)))),a.$sort){var u=up(a.$sort)?Object.keys(a.$sort||{}).pop():"",c=u?a.$sort[u]:a.$sort,l=u?function(e){return Sp(e,u)}:function(e){return e};r.sort((function(e,t){return c*Yd(l(e),l(t))}))}return op(a.$slice)&&(a.$slice<0?r.splice(0,r.length+a.$slice):r.splice(a.$slice)),o!=r.length||!kp(i,r)}),{descendArray:!0,buildGraph:!0})}))},Pne=function(e,t){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:fne;return yne(t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n,(function(t,r,i){return gne(e,r,i,(function(e,r){return!kp(e[r],t)&&(e[r]=hne(n.cloneMode,t),!0)}),{buildGraph:!0})}))},Ine=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:fne,i=[],a=yne(t,n,r,(function(t,a,o){return gne(e,a,o,(function(a,o){return!!gp(a,o)&&(i.push.apply(i,(0,z.A)(Pne(e,(0,h.A)({},t,a[o]),n,r))),delete a[o],!0)}))}));return Array.from(new Set(a.concat(i)))},Bne=function(e,t){return yne(t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:fne,(function(t,n,r){return gne(e,n,r,(function(e,t){return!!gp(e,t)&&(sp(e)?e[t]=null:delete e[t],!0)}))}))};function Rne(e){return e=null!=e?e:fne,function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e,s=Object.entries(n);tp(1===s.length,"Update expression must contain only one operator.");var u=(0,_.A)(s[0],2),c=u[0],l=u[1];tp(gp(a,c),"Update operator '".concat(c,"' is not supported."));var d=a[c];if(Object.keys(i).length&&!new Yf(i,o.queryOptions).test(t))return[];return d(t,l,r,o)}}var Nne;Rne();function Mne(e,t){if(!Nne){var n=Rne({cloneMode:"none"});Nne=function(e,t){var r=Fs(e);return n(r,t),r}}return Nne(e,t)}function Lne(e){return this.incrementalModify((function(t){return Mne(t,e)}))}function jne(e){var t=this._data,n=Mne(t,e);return this._saveData(n,t)}function Une(e){return zne.apply(this,arguments)}function zne(){return(zne=(0,o.A)(s.mark((function e(t){return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sm(this.asRxQuery,(function(e){return e.update(t)})));case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}var Vne={name:"update",rxdb:!0,prototypes:{RxDocument:function(e){e.update=jne,e.incrementalUpdate=Lne},RxQuery:function(e){e.update=Une}}};function qne(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Ic(e),r=Bc(e,1/0);return Tu((function(t,i){Oc(r)(jc(Nu([t],Ru(e)),n)).subscribe(i)}))}function Hne(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return qne.apply(void 0,Nu([],Ru(e)))}var Wne=new Map;function Kne(e,t,n,r){var i=Wne.get(t);return i||(i={bc:new Tg(["RxDB:",e,n].join("|")),refs:new Set},Wne.set(t,i)),i.refs.add(r),i.bc}function $ne(e,t){var n=Wne.get(e);if(n)return n.refs.delete(t),0===n.refs.size?(Wne.delete(e),n.bc.close()):void 0}function Gne(e,t,n,r){if(t.multiInstance){var i=r||Kne(e,t.databaseInstanceToken,n.databaseName,n),a=new Wc,u=function(n){n.storageName===e&&n.databaseName===t.databaseName&&n.collectionName===t.collectionName&&n.version===t.schema.version&&a.next(n.eventBulk)};i.addEventListener("message",u);var c=n.changeStream(),l=!1,d=c.subscribe((function(n){l||i.postMessage({storageName:e,databaseName:t.databaseName,collectionName:t.collectionName,version:t.schema.version,eventBulk:n})}));n.changeStream=function(){return a.asObservable().pipe(Hne(c))};var p=n.close.bind(n);n.close=(0,o.A)(s.mark((function e(){return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=!0,d.unsubscribe(),i.removeEventListener("message",u),r){e.next=6;break}return e.next=6,$ne(t.databaseInstanceToken,n);case 6:return e.abrupt("return",p());case 7:case"end":return e.stop()}}),e)})));var f=n.remove.bind(n);n.remove=(0,o.A)(s.mark((function e(){return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=!0,d.unsubscribe(),i.removeEventListener("message",u),r){e.next=6;break}return e.next=6,$ne(t.databaseInstanceToken,n);case 6:return e.abrupt("return",f());case 7:case"end":return e.stop()}}),e)})))}}var Qne=new WeakMap,Yne=new WeakMap;function Xne(e){return ul(Yne,e,(function(){return Wg(e)}))}function Zne(){var e=Kne(this.storage.name,this.token,this.name,this),t=this.close.bind(this);this.close=function(){return $ne(this.token,this),t()};var n=Xne(e);return n||(n=Xne(e),Qne.set(this,n)),this.leaderElector=function(){return n},n}function Jne(){return!this.multiInstance||this.leaderElector().isLeader}function ere(){return this.multiInstance?this.leaderElector().awaitLeadership().then((function(){return!0})):el}var tre={name:"leader-election",rxdb:!0,prototypes:{RxDatabase:function(e){e.leaderElector=Zne,e.isLeader=Jne,e.waitForLeadership=ere}},hooks:{preCloseRxDatabase:{after:function(e){var t=Qne.get(e);t&&t.die()}}}},nre=function(e){return Promise.resolve({isEqual:!0})},rre=1e9,ire=1e8,are=-1e7,ore=1e8,sre=3e13,ure=["threads","messages","users","groups","statuses","settings","mini_chats"],cre=[];function lre(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t={threads:{schema:{title:"Threads",version:0,primaryKey:{key:"id",fields:["thread_id"],separator:"|"},type:"object",properties:{id:{type:"string",maxLength:10},thread_id:{"type":"number","minimum":0,"maximum":ire,"multipleOf":1},adminAccess:{type:"boolean"},isDeleted:{"type":"number","minimum":0,"maximum":1,"multipleOf":1},isHidden:{"type":"number","minimum":0,"maximum":1,"multipleOf":1},isPinned:{"type":"number","minimum":0,"maximum":1,"multipleOf":1},unread:{"type":"number","minimum":0,"maximum":99999,"multipleOf":1},participants:{type:"array",items:{type:"number",multipleOf:1}},moderators:{type:"array",items:{type:"number",multipleOf:1}},pinned:{type:"array",items:{type:"number",multipleOf:1}},mentions:{type:"array"},url:{type:"string"},groupCall:{type:"object"},chatRoom:{type:"object"},restricted:{type:"object"},meta:{type:"object"},permissions:{type:"object"},isMuted:{type:"boolean"},botId:{type:"number"},firstLoaded:{"type":"integer","minimum":0,"maximum":rre,"multipleOf":1},participantsCount:{"type":"number","minimum":0,"maximum":1e6,"multipleOf":1},type:{type:"string",maxLength:20},lastTime:{type:"number",minimum:0,maximum:sre,multipleOf:1},title:{type:"string"},subject:{type:"string"},image:{type:"string"},lastMessage:{type:"number"}},indexes:["thread_id","unread","participantsCount",["isDeleted","isHidden"],["isPinned","lastTime"]]},conflictHandler:nre},messages:{schema:{title:"Messages",version:0,primaryKey:{key:"id",fields:["thread_id","message_id"],separator:"|"},type:"object",properties:{id:{type:"string",maxLength:20},message_id:{"type":"number","minimum":0,"maximum":rre,"multipleOf":1},meta:{type:"object"},thread_id:{"type":"number","minimum":0,"maximum":ire,"multipleOf":1},sender_id:{"type":"number","minimum":are,"maximum":ore,"multipleOf":1},favorited:{"type":"number","minimum":0,"maximum":1,"multipleOf":1},message:{type:"string"},created_at:{type:"number",minimum:0,maximum:sre,multipleOf:1},updated_at:{type:"number",minimum:0,maximum:sre,multipleOf:1},temp_id:{type:"string",maxLength:20},date_sent:{type:"string"}},indexes:["message_id","thread_id","sender_id","favorited","created_at",["thread_id","message_id"]]},conflictHandler:nre},users:{schema:{title:"Users",version:0,primaryKey:{key:"id",fields:["user_id"],separator:"|"},type:"object",properties:{id:{type:"string",maxLength:16},user_id:{"type":"number","minimum":are,"maximum":ore,"multipleOf":1},name:{type:"string",maxLength:5e3},isFriend:{"type":"integer","minimum":0,"maximum":1,"multipleOf":1},isContact:{"type":"integer","minimum":0,"maximum":1,"multipleOf":1},lastActive:{type:"string",maxLength:20},verified:{"type":"integer","minimum":0,"maximum":1,"multipleOf":1},status:{type:"object",properties:{slug:{type:"string"},icon:{type:"string"},label:{type:"string"}}},avatar:{type:"string"},url:{type:"string"},canVideo:{"type":"integer","minimum":0,"maximum":1,"multipleOf":1},canAudio:{"type":"integer","minimum":0,"maximum":1,"multipleOf":1},blocked:{"type":"integer","minimum":0,"maximum":1,"multipleOf":1},canBlock:{"type":"integer","minimum":0,"maximum":1,"multipleOf":1},is_bot:{"type":"integer","minimum":0,"maximum":1,"multipleOf":1}},indexes:["user_id","name","isFriend","isContact","lastActive"]},conflictHandler:nre},groups:{schema:{title:"Groups",version:0,primaryKey:{key:"id",fields:["group_id"],separator:"|"},type:"object",properties:{id:{type:"string",maxLength:16},group_id:{"type":"number","minimum":0,"maximum":1e5,"multipleOf":1},name:{type:"string",maxLength:255},url:{type:"string"},image:{type:"string"},messages:{type:"integer",minimum:0,maximum:1,multipleOf:1},thread_id:{"type":"number","minimum":0,"maximum":ire,"multipleOf":1}},indexes:["name"]},conflictHandler:nre},statuses:{schema:{title:"Statuses",version:0,primaryKey:{key:"id",fields:["thread_id"],separator:"|"},type:"object",properties:{id:{type:"string",maxLength:16},thread_id:{"type":"number","minimum":0,"maximum":ire,"multipleOf":1},lastDelivered:{type:"string",maxLength:30},lastRead:{type:"string",maxLength:30}},indexes:["thread_id"]},conflictHandler:nre},settings:{schema:{title:"Settings",version:0,primaryKey:"key",type:"object",properties:{key:{type:"string",maxLength:20},value:{type:"string"}},indexes:[]},conflictHandler:nre},mini_chats:{schema:{title:"MiniChats",version:0,primaryKey:"id",type:"object",properties:{id:{type:"string",maxLength:20},open:{type:"boolean"},thread_id:{type:"string",maxLength:20},user_id:{type:"string",maxLength:20}},indexes:["thread_id","user_id"]},conflictHandler:nre}};return Jre()&&!e&&(t.threads.schema.encrypted=["title","subject","image"],t.messages.schema.encrypted=["message"],t.users.schema.encrypted=["name","avatar","url"],t.groups.schema.encrypted=["name","url","image"],cre=["threads","messages","users","groups"]),t}function dre(e,t){var n=t.map((function(t){var n=wu(e,t);if(!n)throw new Error("not in schema: "+t);var r,i=n.type;"number"!==i&&"integer"!==i||(r=fre(n));var a,o=xs(t),s=n.maxLength?n.maxLength:0;return a="string"===i?function(e){var t=o(e);return t||(t=""),t.padEnd(s," ")}:"boolean"===i?function(e){return o(e)?"1":"0"}:function(e){var t=o(e);return hre(r,t)},{fieldName:t,schemaPart:n,parsedLengths:r,getValue:o,getIndexStringPart:a}}));return n}function pre(e,t){var n=dre(e,t),r=n.length,i=n.map((function(e){return e.getIndexStringPart}));return function(e){for(var t="",n=0;n<r;++n)t+=i[n](e);return t}}function fre(e){var t=Math.floor(e.minimum),n=Math.ceil(e.maximum),r=e.multipleOf,i=(n-t).toString().length,a=r.toString().split("."),o=0;return a.length>1&&(o=a[1].length),{minimum:t,maximum:n,nonDecimals:i,decimals:o,roundedMinimum:t}}function hre(e,t){void 0===t&&(t=0),t<e.minimum&&(t=e.minimum),t>e.maximum&&(t=e.maximum);var n=(Math.floor(t)-e.roundedMinimum).toString().padStart(e.nonDecimals,"0");if(e.decimals>0){var r=t.toString().split(".");n+=(r.length>1?r[1]:"0").padEnd(e.decimals,"0")}return n}function mre(e,t,n){var r="";return t.forEach((function(t,i){var a=wu(e,t),o=n[i],s=a.type;switch(s){case"string":var u=Xc(a.maxLength,"maxLength not set");r+="string"==typeof o?o.padEnd(u," "):"".padEnd(u," ");break;case"boolean":if(null===o)r+="0";else if(o===_d)r+="0";else if(o===Cd)r+="1";else{r+=o?"1":"0"}break;case"number":case"integer":var c=fre(a);if(null===o||o===_d){r+="0".repeat(c.nonDecimals+c.decimals)}else if(o===Cd)r+=hre(c,c.maximum);else{var l=hre(c,o);r+=l}break;default:throw new Error("unknown index type "+s)}})),r}function vre(e,t,n,r,i){for(var a=i+1;r<=i;){var o=r+i>>>1,s=e[o];(void 0!==n?n(s,t):s-t)>=0?(a=o,i=o-1):r=o+1}return a}function gre(e,t,n,r,i){for(var a=i+1;r<=i;){var o=r+i>>>1,s=e[o];(void 0!==n?n(s,t):s-t)>0?(a=o,i=o-1):r=o+1}return a}function yre(e,t,n,r,i){for(var a=r-1;r<=i;){var o=r+i>>>1,s=e[o];(void 0!==n?n(s,t):s-t)<0?(a=o,r=o+1):i=o-1}return a}function bre(e,t,n,r,i){for(var a=r-1;r<=i;){var o=r+i>>>1,s=e[o];(void 0!==n?n(s,t):s-t)<=0?(a=o,r=o+1):i=o-1}return a}function wre(e,t,n,r,i){for(;r<=i;){var a=r+i>>>1,o=e[a],s=void 0!==n?n(o,t):o-t;if(0===s)return a;s<=0?r=a+1:i=a-1}return-1}function Dre(e,t,n,r,i,a){return a(e,t,n,void 0===r?0:0|r,void 0===i?e.length-1:0|i)}function Are(e,t,n,r,i){return Dre(e,t,n,r,i,vre)}function Ere(e,t,n,r,i){return Dre(e,t,n,r,i,gre)}function kre(e,t,n,r,i){return Dre(e,t,n,r,i,yre)}function Cre(e,t,n,r,i){return Dre(e,t,n,r,i,bre)}function _re(e,t,n,r,i){return Dre(e,t,n,r,i,wre)}function xre(e,t,n){return[e,t,n].join("--memory--")}function Sre(e){if(e.internals.removed)throw new Error("removed already "+e.databaseName+" - "+e.collectionName+" - "+e.schema.version)}function Tre(e,t){return e+"||"+t}function Fre(e,t){return e[0]<t[0]?-1:1}function Ore(e,t,n,r,i){t.documents.set(e,r);for(var a=0;a<n.length;++a){var o=n[a],s=o.docsWithIndex,u=o.getIndexableString,c=u(r),l=jl(s,[c,r,e],Fre,0);if(i){var d=u(i);if(d===c){var p=s[l-1];if(p&&p[2]===e)s.splice(l-1,1);else{if(s[l+1][2]!==e)throw $s("SNH",{document:r,args:{byIndex:o}});s.splice(l+1,1)}}else{var f=_re(s,[d],Ire);s.splice(f,1)}}}}function Pre(e,t,n,r){var i=r[e];n.documents.delete(i),Object.values(n.byIndex).forEach((function(e){var t=e.docsWithIndex,n=_re(t,[e.getIndexableString(r)],Ire);t.splice(n,1)}))}function Ire(e,t){var n=e[0],r=t[0];return n<r?-1:n===r?0:1}function Bre(e){return e.join(",")}var Rre=new Set,Nre=function(){function e(e,t,n,r,i,a,o,s){this.closed=!1,this.categorizedByWriteInput=new WeakMap,this.storage=e,this.databaseName=t,this.collectionName=n,this.schema=r,this.internals=i,this.options=a,this.settings=o,this.devMode=s,Rre.add(this),this.primaryPath=Du(this.schema.primaryKey)}var t=e.prototype;return t.bulkWrite=function(e,t){var n=this;this.ensurePersistence(),Sre(this);var r=this.internals,i=this.internals.documents,a=this.primaryPath,o=bl(this,a,i,e,t),s=o.errors,u=Promise.resolve({error:s});if(this.categorizedByWriteInput.set(e,o),this.internals.ensurePersistenceTask=o,this.internals.ensurePersistenceIdlePromise||(this.internals.ensurePersistenceIdlePromise=il().then((function(){n.internals.ensurePersistenceIdlePromise=void 0,n.ensurePersistence()}))),o.eventBulk.events.length>0){var c=Xc(o.newestRow).document;o.eventBulk.checkpoint={id:c[a],lwt:c._meta.lwt},r.changes$.next(o.eventBulk)}return u},t.ensurePersistence=function(){if(this.internals.ensurePersistenceTask){var e=this.internals,t=this.internals.documents,n=this.primaryPath,r=this.internals.ensurePersistenceTask;this.internals.ensurePersistenceTask=void 0;for(var i=Object.values(this.internals.byIndex),a=r.bulkInsertDocs,o=0;o<a.length;++o){var s=a[o].document;Ore(s[n],e,i,s,void 0)}for(var u=r.bulkUpdateDocs,c=0;c<u.length;++c){var l=u[c].document,d=l[n];Ore(d,e,i,l,t.get(d))}if(this.schema.attachments){var p=e.attachments;r.attachmentsAdd.forEach((function(e){p.set(Tre(e.documentId,e.attachmentId),{writeData:e.attachmentData,digest:e.digest})})),this.schema.attachments&&(r.attachmentsUpdate.forEach((function(e){p.set(Tre(e.documentId,e.attachmentId),{writeData:e.attachmentData,digest:e.digest})})),r.attachmentsRemove.forEach((function(e){p.delete(Tre(e.documentId,e.attachmentId))})))}}},t.findDocumentsById=function(e,t){this.ensurePersistence();var n=this.internals.documents,r=[];if(0===n.size)return Promise.resolve(r);for(var i=0;i<e.length;++i){var a=e[i],o=n.get(a);!o||o._deleted&&!t||r.push(o)}return Promise.resolve(r)},t.query=function(e){this.ensurePersistence();var t=e.queryPlan,n=e.query,r=n.skip?n.skip:0,i=r+(n.limit?n.limit:1/0),a=!1;t.selectorSatisfiedByIndex||(a=om(this.schema,e.query));var o=t.index,s=!t.sortSatisfiedByIndex,u=o,c=t.startKeys,l=mre(this.schema,u,c),d=t.endKeys,p=function(e,t,n){var r="";return t.forEach((function(t,i){var a=wu(e,t),o=n[i],s=a.type;switch(s){case"string":var u=Xc(a.maxLength,"maxLength not set");r+="string"==typeof o&&o!==Cd?o.padEnd(u," "):"".padEnd(u,o===_d?" ":Cd);break;case"boolean":r+=null===o||o?"1":"0";break;case"number":case"integer":var c=fre(a);r+=null===o||o===Cd?"9".repeat(c.nonDecimals+c.decimals):o===_d?"0".repeat(c.nonDecimals+c.decimals):hre(c,o);break;default:throw new Error("unknown index type "+s)}})),r}(this.schema,u,d),f=Bre(u);if(!this.internals.byIndex[f])throw new Error("index does not exist "+f);for(var h=this.internals.byIndex[f].docsWithIndex,m=(t.inclusiveStart?Are:Ere)(h,[l],Ire),v=(t.inclusiveEnd?Cre:kre)(h,[p],Ire),g=[],y=!1;!y;){var b=h[m];if(!b||m>v)break;var w=b[1];a&&!a(w)||g.push(w),g.length>=i&&!s&&(y=!0),m++}if(s){var D=am(this.schema,e.query);g=g.sort(D)}return g=g.slice(r,i),Promise.resolve({documents:g})},t.count=function(){var e=(0,o.A)(s.mark((function e(t){var n;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensurePersistence(),e.next=3,this.query(t);case 3:return n=e.sent,e.abrupt("return",{count:n.documents.length,mode:"fast"});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.cleanup=function(e){this.ensurePersistence();for(var t=fl()-e,n=["_deleted","_meta.lwt",this.primaryPath],r=Bre(n),i=this.internals.byIndex[r].docsWithIndex,a=Ere(i,[mre(this.schema,n,[!0,0,""])],Ire),o=!1;!o;){var s=i[a];!s||s[1]._meta.lwt>t?o=!0:(Pre(this.primaryPath,this.schema,this.internals,s[1]),a++)}return el},t.getAttachmentData=function(e,t,n){this.ensurePersistence(),Sre(this);var r=Tre(e,t),i=this.internals.attachments.get(r);if(!n||!i||i.digest!==n)throw new Error("attachment does not exist: "+r);return Promise.resolve(i.writeData.data)},t.changeStream=function(){return Sre(this),this.internals.changes$.asObservable()},t.remove=function(){var e=(0,o.A)(s.mark((function e(){return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.closed){e.next=2;break}throw new Error("closed");case 2:return this.ensurePersistence(),Sre(this),this.internals.removed=!0,this.storage.collectionStates.delete(xre(this.databaseName,this.collectionName,this.schema.version)),e.next=8,this.close();case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.close=function(){return Rre.delete(this),this.ensurePersistence(),this.closed||(this.closed=!0,this.internals.refCount=this.internals.refCount-1),rl},e}();function Mre(e,t,n){var r,i,a,o,s=xre(t.databaseName,t.collectionName,t.schema.version),u=e.collectionStates.get(s);if(u){if(t.devMode&&!_s(u.schema,t.schema))throw new Error("storage was already created with a different schema");u.refCount=u.refCount+1}else u={id:ou(5),schema:t.schema,removed:!1,refCount:1,documents:new Map,attachments:t.schema.attachments?new Map:void 0,byIndex:{},changes$:new Wc},r=u,i=t.schema,a=Du(i.primaryKey),(o=i.indexes?i.indexes.map((function(e){return Bs(e)})):[]).push(["_deleted","_meta.lwt",a]),o.forEach((function(e){r.byIndex[Bre(e)]={index:e,docsWithIndex:[],getIndexableString:pre(i,e)}})),e.collectionStates.set(s,u);var c=new Nre(e,t.databaseName,t.collectionName,t.schema,u,t.options,n,t.devMode);return Promise.resolve(c)}var Lre=new Map;function jre(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{name:"memory",rxdbVersion:Dv,collectionStates:Lre,createStorageInstance:function(t){return kl(t),Mre(this,t,Object.assign({},e,t.options))}}}Mv(Vne),Mv(tre);new Map,new Map,new Map,new Map,new Map;var Ure="bettermessages",zre=null,Vre=new Ml(!1),qre=null;function Hre(e){qre=e}var Wre=null;var Kre;function $re(){clearTimeout(Kre),Kre=setTimeout((function(){0}),2e3)}function Gre(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e&&(Wre=e),Wre)return new Promise(function(){var e=(0,o.A)(u().mark((function e(t){var n,r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!0,!eg()){e.next=5;break}e.next=11;break;case 5:if(!navigator.storage||!navigator.storage.estimate){e.next=11;break}return e.next=8,navigator.storage.estimate();case 8:r=e.sent,r.quota-r.usage<1e6&&(n=!1);case 11:if(!n){e.next=28;break}return e.prev=12,e.next=15,Fv(Wre);case 15:zre=e.sent,i=setTimeout((function(){Xre("timeout root",t)}),3e3),zre.addCollections(lre()).then((function(e){return clearTimeout(i),new Promise((function(){var e=!1,n=!1,r=function(){e||(n=!0,Xre("timeout",t))},i={timeout:setTimeout(r,3e3)};Qre(i,r).then((function(e){n||(Vre.next(!0),t(!0))})).catch((function(n){e=!0,Xre(n,t)})).finally((function(){clearTimeout(i.timeout)}))}))})).catch(function(){var e=(0,o.A)(u().mark((function e(n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Xre(n,t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).finally((function(){clearTimeout(i)})),e.next=26;break;case 20:return e.prev=20,e.t0=e.catch(12),console.error(e.t0),e.next=25,iie();case 25:t(!0);case 26:e.next=31;break;case 28:return e.next=30,iie();case 30:t(!0);case 31:case"end":return e.stop()}}),e,null,[[12,20]])})));return function(t){return e.apply(this,arguments)}}())}function Qre(e,t){return Yre.apply(this,arguments)}function Yre(){return Yre=(0,o.A)(u().mark((function e(t,n){var r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(){clearTimeout(t.timeout),t.timeout=setTimeout(n,3e3)},i=[],ure.map((function(e){i.push(new Promise((function(t,n){zre[e].count().exec().then((function(i){r(),cre.indexOf(e)>-1&&i>0?zre[e].findOne().exec().then((function(n){r(),t("".concat(e," ok"))})).catch((function(e){n(e)})):t("".concat(e," ok"))})).catch((function(e){n(e)}))})))})),e.abrupt("return",Promise.all(i));case 4:case"end":return e.stop()}}),e)}))),Yre.apply(this,arguments)}function Xre(e,t){return Zre.apply(this,arguments)}function Zre(){return Zre=(0,o.A)(u().mark((function e(t,n){var r,i,a,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.error("recoverAttempt",t),cie(!0),r=!1,i=!1,a=function(){i||(r=!0,iie().then((function(){n(!0)})))},s={timeout:setTimeout(a,3e3)},e.next=8,qre();case 8:return $re(),e.next=11,Fv(Wre);case 11:(zre=e.sent).addCollections(lre()).then((function(){Qre(s,a).then((function(e){r||(clearTimeout(s.timeout),Vre.next(!0),n(!0))})).catch(function(){var e=(0,o.A)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=!0,console.error(t),e.next=4,iie();case 4:n(!0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})).catch(function(){var e=(0,o.A)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.error(t),e.next=3,iie();case 3:n(!0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).finally((function(){clearTimeout(s.timeout),cie(!1)}));case 13:case"end":return e.stop()}}),e)}))),Zre.apply(this,arguments)}function Jre(){return"1"===window.Better_Messages.le||!0===window.Better_Messages.le}function eie(){return tie.apply(this,arguments)}function tie(){return(tie=(0,o.A)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zre.threads.find().remove();case 2:return e.next=4,zre.messages.find().remove();case 4:return e.next=6,zre.users.find().remove();case 6:return e.next=8,zre.groups.find().remove();case 8:return e.next=10,zre.statuses.find().remove();case 10:return e.next=12,zre.mini_chats.find().remove();case 12:return e.next=14,zre.settings.find().remove();case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var nie=null,rie=null;function iie(){return aie.apply(this,arguments)}function aie(){return aie=(0,o.A)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!nie){e.next=2;break}return e.abrupt("return",nie);case 2:return nie=new Promise(function(){var e=(0,o.A)(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!rie){e.next=3;break}return e.next=3,rie;case 3:return rie=oie(),e.next=6,rie;case 6:nie=null,rie=null,t();case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",nie);case 4:case"end":return e.stop()}}),e)}))),aie.apply(this,arguments)}function oie(){return sie.apply(this,arguments)}function sie(){return(sie=(0,o.A)(u().mark((function e(){var t,n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.warn("Better Messages using fallback storage, this means its not possible to use browser persistent storage for some reason"),!Qte){e.next=3;break}return e.abrupt("return");case 3:if(Qte=!0,!(t=Vre.getValue())){e.next=9;break}return Vre.next(!1),e.next=9,hie();case 9:return n=jre(),r={name:"bettermessagesram",storage:n},e.next=13,Fv(r);case 13:return zre=e.sent,e.next=16,zre.addCollections(lre(!0));case 16:if(!t){e.next=19;break}return e.next=19,P0();case 19:Vre.next(!0);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var uie=!1;function cie(e){uie=e,e&&(Vre.next(!1),O0(!1))}function lie(){return die.apply(this,arguments)}function die(){return die=(0,o.A)(u().mark((function e(){var t,n=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.length>0&&void 0!==n[0]&&n[0],!uie||t){e.next=3;break}return e.abrupt("return");case 3:return cie(!0),e.next=6,Yte.postMessage({type:"db_reset_start"});case 6:return e.next=8,Yte.postMessage({type:"update_settings",settings:Sie});case 8:return e.next=10,qre();case 10:return $re(),e.next=13,Gre();case 13:return e.next=15,P0(!0);case 15:return e.next=17,Yte.postMessage({type:"db_reset_finish"});case 17:return cie(!1),e.abrupt("return",!0);case 19:case"end":return e.stop()}}),e)}))),die.apply(this,arguments)}var pie,fie=null;function hie(){return mie.apply(this,arguments)}function mie(){return mie=(0,o.A)(u().mark((function e(){var t,n=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.length>0&&void 0!==n[0]&&n[0],!fie){e.next=3;break}return e.abrupt("return",fie);case 3:return fie=new Promise(function(){var e=(0,o.A)(u().mark((function e(n,r){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!zre){e.next=9;break}if(!t){e.next=7;break}return e.next=5,zre.remove();case 5:e.next=9;break;case 7:return e.next=9,zre.close();case 9:n(!0),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.error("Error destroying database",e.t0),n(!1);case 16:return e.prev=16,fie=null,e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[0,12,16,19]])})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",fie);case 5:case"end":return e.stop()}}),e)}))),mie.apply(this,arguments)}function vie(){return vie=(0,o.A)(u().mark((function e(){var t,n=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.length>0&&void 0!==n[0]&&n[0],!uie||t){e.next=3;break}return e.abrupt("return");case 3:return cie(!0),e.next=6,hie();case 6:return e.next=8,Gre();case 8:cie(!1);case 9:case"end":return e.stop()}}),e)}))),vie.apply(this,arguments)}function gie(){return Vre.getValue()}function yie(){return bie.apply(this,arguments)}function bie(){return(bie=(0,o.A)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lie();case 2:return e.abrupt("return",!0);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var wie=!1;function Die(e){(pie=Cs.create(e)).interceptors.request.use((function(e){if(e.baseURL.includes("rest_route=")){var t=e.url.replace(/\?/g,"&");t+="&nocache="+(new Date).getTime(),e.url=t}else{var n=e.url;n.includes("?")?n+="&nocache="+(new Date).getTime():n+="?nocache="+(new Date).getTime(),e.url=n}return Hie("better_messages_api_request_config",e)}),(function(e){return Promise.reject(e)})),pie.interceptors.response.use((function(e){return Hie("better_messages_api_response",e)}),function(){var e=(0,o.A)(u().mark((function e(t){var n,r,i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.config,t.message,r=t.response,n&&r){e.next=3;break}return e.abrupt("return",Cs(n));case 3:if(!r.data||"rest_cookie_invalid_nonce"!==r.data.code){e.next=30;break}if(wie){e.next=27;break}return wie=!0,setTimeout((function(){wie=!1}),36e5),e.prev=7,e.next=10,Zie();case 10:if(i=e.sent,Number(Sie.user_id)!==Number(i.user_id)){e.next=17;break}n.headers["X-WP-Nonce"]=i.nonce,Sie.nonce=i.nonce,Die({baseURL:Sie.restUrl,headers:{"X-WP-Nonce":Sie.nonce,"Cache-Control":"no-cache","Pragma":"no-cache","Expires":"0"}}),e.next=19;break;case 17:return Sie.user_id=0,e.abrupt("return",Promise.reject(t));case 19:e.next=25;break;case 21:return e.prev=21,e.t0=e.catch(7),Sie.user_id=0,e.abrupt("return",Promise.reject(t));case 25:e.next=28;break;case 27:Sie.user_id=0;case 28:e.next=36;break;case 30:if(a=Hie("better_messages_unhandled_api_error",!1,r,n)){e.next=35;break}return e.abrupt("return",Promise.reject(t));case 35:return e.abrupt("return",Cs(a));case 36:return e.abrupt("return",Cs(n));case 37:case"end":return e.stop()}}),e,null,[[7,21]])})));return function(t){return e.apply(this,arguments)}}())}var Aie=new Set;function Eie(e,t){return kie.apply(this,arguments)}function kie(){return(kie=(0,o.A)(u().mark((function e(t,n){var r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n>=10)){e.next=12;break}return r={selector:{thread_id:t},sort:[{created_at:"desc"}],skip:n-1},e.next=4,zre.messages.findOne(r).exec();case 4:if(!(i=e.sent)){e.next=9;break}return e.abrupt("return",i.message_id);case 9:case 12:return e.abrupt("return",null);case 10:e.next=13;break;case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cie(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Promise(function(){var n=(0,o.A)(u().mark((function n(r,i){var a,o,s,c,l,d,p;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,B0();case 2:if(!Aie.has(e)){n.next=4;break}return n.abrupt("return");case 4:return a=!1===l7.has(e),n.next=7,w7(e);case 7:if(o=n.sent,s=o&&o.unread?o.unread:0,a){n.next=17;break}if(!(o&&o.permissions&&o.permissions.canReply)){n.next=17;break}return n.t0=r,n.next=14,Eie(e,s);case 14:return n.t1=n.sent,(0,n.t0)(n.t1),n.abrupt("return",!0);case 17:return n.prev=17,c=[],Aie.add(e),n.prev=20,n.next=23,B8(e);case 23:(c=n.sent)&&o.firstLoaded&&(c=c.filter((function(e){return e>=o.firstLoaded}))),n.next=29;break;case 27:n.prev=27,n.t2=n.catch(20);case 29:return l={messages:c},k9()&&(l.unread=s>=10?s:0),n.next=33,pie.post("thread/"+e,l);case 33:return d=n.sent,A7(e,{mentions:[]}),n.next=37,Promise.all([N7(d.data.threads,!0),K9(d.data.users),q8(d.data.messages,!0)]);case 37:d.data.deleted_messages&&d.data.deleted_messages.map((function(e){L8(e)})),d.data.first_unread?r(Number(d.data.first_unread)):r(null),l7.add(e),d7.next(e),yb()&&(p=d.data.threads.shift()).chatRoom&&!p.chatRoom.isJoined&&p.chatRoom.autoJoin&&p.chatRoom.guestAllowed&&i5(p.chatRoom.id),n.next=49;break;case 44:n.prev=44,n.t3=n.catch(17),hb(n.t3),_ie(n.t3,e,t),r(0);case 49:return n.prev=49,Aie.delete(e),n.finish(49);case 52:case"end":return n.stop()}}),n,null,[[17,44,49,52],[20,27]])})));return function(e,t){return n.apply(this,arguments)}}())}function _ie(e,t){return xie.apply(this,arguments)}function xie(){return xie=(0,o.A)(u().mark((function e(t,n){var r,i=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=i.length>2&&void 0!==i[2]?i[2]:null,!t.response){e.next=8;break}if(!t.response.status){e.next=8;break}if(403!==t.response.status){e.next=8;break}return"rest_thread_forbidden"!==t.response.data.code&&"rest_thread_not_exists"!==t.response.data.code||zre.threads.findOne(String(n)).exec().then((function(e){e&&e.incrementalRemove().catch(RM)})),null!==r&&r("/"),e.next=8,s8(n);case 8:case"end":return e.stop()}}),e)}))),xie.apply(this,arguments)}var Sie,Tie=__webpack_require__(41329),Fie="yyyy-MM-dd HH:mm:ss",Oie=window.Better_Messages.version,Pie=window.Better_Messages.assets+"js/workers/";k.setIdleDuration(10),k.setThrottleDuration(100);var Iie=Yv()&&"1"===window.Better_Messages.mobileFullScreen,Bie=window.wp.i18n,Rie=Bie.__,Nie=(Bie._n,Bie._nx),Mie=Bie._x,Lie=Bie.sprintf,jie=window.wp.hooks,Uie=jie.addAction,zie=jie.addFilter,Vie=jie.removeAction,qie=jie.removeFilter,Hie=jie.applyFilters,Wie=jie.doAction,Kie="en-us",$ie=Kie;void 0!==window.Better_Messages?$ie=window.Better_Messages.locale:"undefined"!=typeof Better_Messages&&($ie=Better_Messages.locale);try{Intl.DateTimeFormat($ie)}catch(e){console.warn("Invalid time format provided");try{$ie=document.documentElement.lang}catch(e){console.warn("Document missing lang attribute"),$ie=Kie}}function Gie(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(void 0===e)return!1;if(void 0!==e.me){var r=Object.keys(e.me);for(var i in r){var a=r[i];try{e.me[a]=(t=e.me[a],decodeURIComponent(atob(t).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join("")))}catch(e){}}}e.user_id&&(e.user_id=Number(e.user_id)),Object.keys(e).forEach((function(t){var n=e[t];if("total_unread"!==t)if("userStatuses"===t){var r=[];Object.keys(n).forEach((function(e){var t=n[e];t.slug=e,r.push(t)})),e[t]=r}else"1"===n?e[t]=!0:"0"===n&&(e[t]=!1)}));var o=!1,s="nonce";if(e.authToken?(s="jwtToken",Sie&&Sie.authToken&&Sie.authToken===e.authToken||(o=!0)):Sie&&Sie.nonce&&Sie.nonce===e.nonce||(o=!0),n||!Sie||Sie.restUrl!==e.restUrl||o){var u={"Cache-Control":"no-cache","Pragma":"no-cache","Expires":"0"};"jwtToken"===s?u.Authorization="BMAuth "+e.authToken:void 0!==e.nonce&&(u["X-WP-Nonce"]=e.nonce),e.guestAuth&&(u["BM-Guest-ID"]=e.guestAuth.id,u["BM-Guest-Secret"]=e.guestAuth.secret),Die({baseURL:e.restUrl,headers:u})}var c=!1;!n&&Sie&&Sie.user_id===e.user_id||(c=!0),Sie=e,Iie=Yv()&&Sie.mobileFullScreen,function(){if(!tb()&&!eg()&&Sie.soundLevels){var e=Sie.soundLevels;e.notification&&e.notification>0&&(aK.notification=new iK({src:[Sie.sounds+"notification.mp3",Sie.sounds+"notification.ogg"],loop:!1,volume:e.notification})),e.sent&&e.sent>0&&(aK.sent=new iK({src:[Sie.sounds+"sent.mp3",Sie.sounds+"sent.ogg"],loop:!1,volume:e.sent})),e.calling&&e.calling>0&&(aK.calling=new iK({src:[Sie.sounds+"calling.mp3",Sie.sounds+"calling.ogg"],loop:!0,volume:e.calling})),e.dialing&&e.dialing>0&&(aK.dialing=new iK({src:[Sie.sounds+"dialing.mp3",Sie.sounds+"dialing.ogg"],loop:!0,volume:e.dialing}))}}(),c&&function(){C9.apply(this,arguments)}()}st.defaultLocale=$ie,document.addEventListener("better-messages-update-setting",(function(e){try{var t=e.detail.key,n=e.detail.value;window.Better_Messages[t]=n,Gie(window.Better_Messages),Kg(document,"better-message-settings-changed")}catch(e){console.error(e)}}));var Qie,Yie=!1,Xie=null;function Zie(){return Jie.apply(this,arguments)}function Jie(){return Jie=(0,o.A)(u().mark((function e(){var t,n,r=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.length>0&&void 0!==r[0]&&r[0],e.prev=1,!Xie){e.next=4;break}return e.abrupt("return",Xie);case 4:if(!Yie&&!t){e.next=8;break}return e.next=7,Dee(50);case 7:return e.abrupt("return",Zie(!0));case 8:return Yie=!0,e.next=11,Cs.request({method:"get",url:Sie.ajaxUrl,params:{action:"better_messages_new_nonce_token",nocache:(new Date).getTime()},withCredentials:!0});case 11:return n=e.sent,Xie=n.data,e.abrupt("return",n.data);case 16:throw e.prev=16,e.t0=e.catch(1),e.t0;case 19:return e.prev=19,Yie=!1,setTimeout((function(){Xie=null}),1e3),e.finish(19);case 23:case"end":return e.stop()}}),e,null,[[1,16,19,23]])}))),Jie.apply(this,arguments)}function eae(e){return"string"==typeof e?e:e.response&&e.response.data&&e.response.data.message?(console.error(e.response.data.message),e.response.data.message):e.request?(console.error(e.request),"The request was made but no response was received"):e.message?(console.error("Error",e.message),e.message):(console.error(e),"An unknown error occurred")}Qie={"seen":'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\nviewBox="0 0 25 16" style="enable-background:new 0 0 25 16;" xml:space="preserve"><g>\n<path fill="currentColor" d="M1.5,9.4c0.1-0.2,0.2-0.5,0.4-0.6C2.3,8.6,2.7,8.6,3,8.9c0.7,0.7,1.5,1.5,2.2,2.2c0.6,0.6,1.2,1.2,1.9,1.9\n\t\tc0,0,0,0,0.1,0.1c0.2-0.3,0.4-0.5,0.7-0.8c1-1.2,1.9-2.3,2.9-3.5c1.5-1.8,3-3.7,4.5-5.5c0.6-0.7,1.2-1.4,1.8-2.1\n\t\tc0.4-0.5,1.3-0.5,1.5,0.2c0.1,0.3,0.1,0.6-0.1,0.9c-0.6,0.8-1.3,1.5-1.9,2.3c-0.9,1.1-1.8,2.2-2.7,3.2c-0.9,1.1-1.8,2.1-2.6,3.2\n\t\tc-0.9,1.1-1.9,2.2-2.8,3.4c-0.2,0.2-0.4,0.4-0.5,0.7C7.6,15.3,7,15.4,6.6,15c-0.6-0.6-1.2-1.2-1.8-1.8c-0.9-0.9-1.8-1.8-2.8-2.8\n\t\tc-0.1-0.1-0.2-0.2-0.3-0.3C1.7,10,1.6,9.9,1.5,9.7C1.5,9.6,1.5,9.5,1.5,9.4z"/><path fill="currentColor"  d="M23.5,1.7c0,0.3-0.3,0.5-0.4,0.7c-1.4,1.7-2.7,3.3-4.1,5c-1.4,1.7-2.9,3.5-4.3,5.2c-0.6,0.7-1.2,1.5-1.8,2.2\n\t\tc-0.4,0.5-0.9,0.5-1.4,0.1c-0.3-0.3-0.6-0.6-0.8-0.8c-0.3-0.3-0.3-0.6-0.2-1c0.1-0.4,0.4-0.5,0.8-0.6c0.2,0,0.5,0.1,0.6,0.2\n\t\tc0.1,0.1,0.1,0.1,0.2,0.2c0.2-0.2,0.3-0.4,0.4-0.5c1-1.2,2-2.4,2.9-3.5c1.3-1.6,2.7-3.2,4-4.8c0.8-1,1.7-2,2.5-3.1\n\t\tc0.2-0.3,0.5-0.4,0.9-0.3c0.4,0.1,0.6,0.3,0.7,0.7c0,0,0,0,0,0C23.5,1.6,23.5,1.7,23.5,1.7z"/></g></svg>',"delivered":'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t viewBox="0 0 25 16" style="enable-background:new 0 0 25 16;" xml:space="preserve">\n<g>\n\t<path fill="currentColor" d="M1.5,9.4c0.1-0.2,0.2-0.5,0.4-0.6C2.3,8.6,2.7,8.6,3,8.9c0.7,0.7,1.5,1.5,2.2,2.2c0.6,0.6,1.2,1.2,1.9,1.9\n\t\tc0,0,0,0,0.1,0.1c0.2-0.3,0.4-0.5,0.7-0.8c1-1.2,1.9-2.3,2.9-3.5c1.5-1.8,3-3.7,4.5-5.5c0.6-0.7,1.2-1.4,1.8-2.1\n\t\tc0.4-0.5,1.3-0.5,1.5,0.2c0.1,0.3,0.1,0.6-0.1,0.9c-0.6,0.8-1.3,1.5-1.9,2.3c-0.9,1.1-1.8,2.2-2.7,3.2c-0.9,1.1-1.8,2.1-2.6,3.2\n\t\tc-0.9,1.1-1.9,2.2-2.8,3.4c-0.2,0.2-0.4,0.4-0.5,0.7C7.6,15.3,7,15.4,6.6,15c-0.6-0.6-1.2-1.2-1.8-1.8c-0.9-0.9-1.8-1.8-2.8-2.8\n\t\tc-0.1-0.1-0.2-0.2-0.3-0.3C1.7,10,1.6,9.9,1.5,9.7C1.5,9.6,1.5,9.5,1.5,9.4z"/>\n\t<path fill="currentColor" d="M23.5,1.7c0,0.3-0.3,0.5-0.4,0.7c-1.4,1.7-2.7,3.3-4.1,5c-1.4,1.7-2.9,3.5-4.3,5.2c-0.6,0.7-1.2,1.5-1.8,2.2\n\t\tc-0.4,0.5-0.9,0.5-1.4,0.1c-0.3-0.3-0.6-0.6-0.8-0.8c-0.3-0.3-0.3-0.6-0.2-1c0.1-0.4,0.4-0.5,0.8-0.6c0.2,0,0.5,0.1,0.6,0.2\n\t\tc0.1,0.1,0.1,0.1,0.2,0.2c0.2-0.2,0.3-0.4,0.4-0.5c1-1.2,2-2.4,2.9-3.5c1.3-1.6,2.7-3.2,4-4.8c0.8-1,1.7-2,2.5-3.1\n\t\tc0.2-0.3,0.5-0.4,0.9-0.3c0.4,0.1,0.6,0.3,0.7,0.7c0,0,0,0,0,0C23.5,1.6,23.5,1.7,23.5,1.7z"/>\n</g>\n</svg>',"sent":'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t viewBox="0 0 25 16" style="enable-background:new 0 0 25 16;" xml:space="preserve">\n<path fill="currentColor" d="M3.9,9.4C4,9.2,4.1,8.9,4.3,8.8c0.4-0.2,0.8-0.2,1.1,0.1c0.7,0.7,1.5,1.5,2.2,2.2c0.6,0.6,1.2,1.2,1.9,1.9\n\tc0,0,0,0,0.1,0.1c0.2-0.3,0.4-0.5,0.7-0.8c1-1.2,1.9-2.3,2.9-3.5c1.5-1.8,3-3.7,4.5-5.5c0.6-0.7,1.2-1.4,1.8-2.1\n\tc0.4-0.5,1.3-0.5,1.5,0.2c0.1,0.3,0.1,0.6-0.1,0.9C20.2,3,19.6,3.7,19,4.5c-0.9,1.1-1.8,2.2-2.7,3.2c-0.9,1.1-1.8,2.1-2.6,3.2\n\tc-0.9,1.1-1.9,2.2-2.8,3.4c-0.2,0.2-0.4,0.4-0.5,0.7C10,15.3,9.4,15.4,9,15c-0.6-0.6-1.2-1.2-1.8-1.8c-0.9-0.9-1.8-1.8-2.8-2.8\n\tc-0.1-0.1-0.2-0.2-0.3-0.3C4.1,10,4,9.9,3.9,9.7C3.9,9.6,3.9,9.5,3.9,9.4z"/>\n</svg>'};var tae=__webpack_require__(94230),nae=(0,tae.F3)("SplashScreen",{web:function(){return Promise.resolve().then(__webpack_require__.bind(__webpack_require__,73255)).then((function(e){return new e.SplashScreenWeb}))}}),rae=(0,tae.F3)("Dialog",{web:function(){return Promise.resolve().then(__webpack_require__.bind(__webpack_require__,96621)).then((function(e){return new e.DialogWeb}))}}),iae=(0,tae.F3)("Device",{web:function(){return Promise.resolve().then(__webpack_require__.bind(__webpack_require__,29291)).then((function(e){return new e.DeviceWeb}))}}),aae=null;function oae(){return sae.apply(this,arguments)}function sae(){return sae=(0,o.A)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!aae){e.next=2;break}return e.abrupt("return",aae);case 2:return e.next=4,iae.getId();case 4:return t=e.sent,aae=t.identifier,e.abrupt("return",t.identifier);case 7:case"end":return e.stop()}}),e)}))),sae.apply(this,arguments)}var uae=null;function cae(){return lae.apply(this,arguments)}function lae(){return lae=(0,o.A)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!uae){e.next=2;break}return e.abrupt("return",uae);case 2:return e.next=4,iae.getLanguageCode();case 4:return t=e.sent,uae=t.value,e.abrupt("return",uae);case 7:case"end":return e.stop()}}),e)}))),lae.apply(this,arguments)}var dae=null;function pae(){return fae.apply(this,arguments)}function fae(){return(fae=(0,o.A)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!dae){e.next=2;break}return e.abrupt("return",dae);case 2:return e.next=4,iae.getInfo();case 4:return dae=e.sent,e.abrupt("return",dae);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var hae=(0,tae.F3)("App",{web:function(){return Promise.resolve().then(__webpack_require__.bind(__webpack_require__,86396)).then((function(e){return new e.AppWeb}))}});__webpack_require__(36456);function mae(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return vae(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vae(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function vae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function gae(e,t,n){return t=(0,S.A)(t),(0,x.A)(e,yae()?Reflect.construct(t,n||[],(0,S.A)(e).constructor):t.apply(e,n))}function yae(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(yae=function(){return!!e})()}var bae,wae=function(e){return e.CapacitorPlatforms=function(e){var t=new Map;t.set("web",{name:"web"});var n=e.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:t};return n.addPlatform=function(e,t){n.platforms.set(e,t)},n.setPlatform=function(e){n.platforms.has(e)&&(n.currentPlatform=n.platforms.get(e))},n}(e)},Dae=wae("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==__webpack_require__.g?__webpack_require__.g:{});Dae.addPlatform,Dae.setPlatform;!function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"}(bae||(bae={}));var Aae=function(e){function t(e,n,r){var i;return(0,p.A)(this,t),(i=gae(this,t,[e])).message=e,i.code=n,i.data=r,i}return(0,T.A)(t,e),(0,f.A)(t)}((0,F.A)(Error)),Eae=function(e){var t,n,r,i,a,s=e.CapacitorCustomPlatform||null,c=e.Capacitor||{},l=c.Plugins=c.Plugins||{},d=e.CapacitorPlatforms,p=(null===(t=null==d?void 0:d.currentPlatform)||void 0===t?void 0:t.getPlatform)||function(){return null!==s?s.name:function(e){var t,n;return(null==e?void 0:e.androidBridge)?"android":(null===(n=null===(t=null==e?void 0:e.webkit)||void 0===t?void 0:t.messageHandlers)||void 0===n?void 0:n.bridge)?"ios":"web"}(e)},f=(null===(n=null==d?void 0:d.currentPlatform)||void 0===n?void 0:n.isNativePlatform)||function(){return"web"!==p()},h=(null===(r=null==d?void 0:d.currentPlatform)||void 0===r?void 0:r.isPluginAvailable)||function(e){var t=v.get(e);return!!(null==t?void 0:t.platforms.has(p()))||!!m(e)},m=(null===(i=null==d?void 0:d.currentPlatform)||void 0===i?void 0:i.getPluginHeader)||function(e){var t;return null===(t=c.PluginHeaders)||void 0===t?void 0:t.find((function(t){return t.name===e}))},v=new Map,g=(null===(a=null==d?void 0:d.currentPlatform)||void 0===a?void 0:a.registerPlugin)||function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=v.get(e);if(n)return console.warn('Capacitor plugin "'.concat(e,'" already registered. Cannot register plugins twice.')),n.proxy;var r,i=p(),a=m(e),d=function(){var e=(0,o.A)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r||!(i in t)){e.next=11;break}if("function"!=typeof t[i]){e.next=7;break}return e.next=4,t[i]();case 4:e.t0=r=e.sent,e.next=8;break;case 7:e.t0=r=t[i];case 8:r=e.t0,e.next=20;break;case 11:if(null===s||r||!("web"in t)){e.next=20;break}if("function"!=typeof t.web){e.next=18;break}return e.next=15,t.web();case 15:e.t1=r=e.sent,e.next=19;break;case 18:e.t1=r=t.web;case 19:r=e.t1;case 20:return e.abrupt("return",r);case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(t){var n,r=function(){for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];var p=d().then((function(r){var o=function(t,n){var r,o;if(!a){if(t)return null===(o=t[n])||void 0===o?void 0:o.bind(t);throw new Aae('"'.concat(e,'" plugin is not implemented on ').concat(i),bae.Unimplemented)}var s=null==a?void 0:a.methods.find((function(e){return n===e.name}));return s?"promise"===s.rtype?function(t){return c.nativePromise(e,n.toString(),t)}:function(t,r){return c.nativeCallback(e,n.toString(),t,r)}:t?null===(r=t[n])||void 0===r?void 0:r.bind(t):void 0}(r,t);if(o){var u=o.apply(void 0,s);return n=null==u?void 0:u.remove,u}throw new Aae('"'.concat(e,".").concat(t,'()" is not implemented on ').concat(i),bae.Unimplemented)}));return"addListener"===t&&(p.remove=(0,o.A)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n());case 1:case"end":return e.stop()}}),e)})))),p};return r.toString=function(){return"".concat(t.toString(),"() { [capacitor code] }")},Object.defineProperty(r,"name",{value:t,writable:!1,configurable:!1}),r},h=f("addListener"),g=f("removeListener"),y=function(e,t){var n=h({eventName:e},t),r=function(){var r=(0,o.A)(u().mark((function r(){var i;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n;case 2:i=r.sent,g({eventName:e,callbackId:i},t);case 4:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),i=new Promise((function(e){return n.then((function(){return e({remove:r})}))}));return i.remove=(0,o.A)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.warn("Using addListener() without 'await' is deprecated."),e.next=3,r();case 3:case"end":return e.stop()}}),e)}))),i},b=new Proxy({},{get:function(e,t){switch(t){case"$$typeof":return;case"toJSON":return function(){return{}};case"addListener":return a?y:h;case"removeListener":return g;default:return f(t)}}});return l[e]=b,v.set(e,{name:e,proxy:b,platforms:new Set([].concat((0,z.A)(Object.keys(t)),(0,z.A)(a?[i]:[])))}),b};return c.convertFileSrc||(c.convertFileSrc=function(e){return e}),c.getPlatform=p,c.handleError=function(t){return e.console.error(t)},c.isNativePlatform=f,c.isPluginAvailable=h,c.pluginMethodNoop=function(e,t,n){return Promise.reject("".concat(n,' does not have an implementation of "').concat(t,'".'))},c.registerPlugin=g,c.Exception=Aae,c.DEBUG=!!c.DEBUG,c.isLoggingEnabled=!!c.isLoggingEnabled,c.platform=c.getPlatform(),c.isNative=c.isNativePlatform(),c},kae=function(e){return e.Capacitor=Eae(e)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==__webpack_require__.g?__webpack_require__.g:{}),Cae=kae.registerPlugin,_ae=(kae.Plugins,function(){return(0,f.A)((function e(t){(0,p.A)(this,e),this.listeners={},this.retainedEventArguments={},this.windowListeners={},t&&(console.warn('Capacitor WebPlugin "'.concat(t.name,'" config object was deprecated in v3 and will be removed in v4.')),this.config=t)}),[{key:"addListener",value:function(e,t){var n=this,r=!1;this.listeners[e]||(this.listeners[e]=[],r=!0),this.listeners[e].push(t);var i=this.windowListeners[e];i&&!i.registered&&this.addWindowListener(i),r&&this.sendRetainedArgumentsForEvent(e);var a=function(){var r=(0,o.A)(u().mark((function r(){return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",n.removeListener(e,t));case 1:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();return Promise.resolve({remove:a})}},{key:"removeAllListeners",value:(t=(0,o.A)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t in this.listeners={},this.windowListeners)this.removeWindowListener(this.windowListeners[t]);this.windowListeners={};case 3:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"notifyListeners",value:function(e,t,n){var r=this.listeners[e];if(r)r.forEach((function(e){return e(t)}));else if(n){var i=this.retainedEventArguments[e];i||(i=[]),i.push(t),this.retainedEventArguments[e]=i}}},{key:"hasListeners",value:function(e){return!!this.listeners[e].length}},{key:"registerWindowListener",value:function(e,t){var n=this;this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:function(e){n.notifyListeners(t,e)}}}},{key:"unimplemented",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"not implemented";return new kae.Exception(e,bae.Unimplemented)}},{key:"unavailable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"not available";return new kae.Exception(e,bae.Unavailable)}},{key:"removeListener",value:(e=(0,o.A)(u().mark((function e(t,n){var r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.listeners[t]){e.next=3;break}return e.abrupt("return");case 3:i=r.indexOf(n),this.listeners[t].splice(i,1),this.listeners[t].length||this.removeWindowListener(this.windowListeners[t]);case 6:case"end":return e.stop()}}),e,this)}))),function(t,n){return e.apply(this,arguments)})},{key:"addWindowListener",value:function(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}},{key:"removeWindowListener",value:function(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}},{key:"sendRetainedArgumentsForEvent",value:function(e){var t=this,n=this.retainedEventArguments[e];n&&(delete this.retainedEventArguments[e],n.forEach((function(n){t.notifyListeners(e,n)})))}}]);var e,t}()),xae=function(e){return encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape)},Sae=function(e){return e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},Tae=function(e){function t(){return(0,p.A)(this,t),gae(this,t,arguments)}return(0,T.A)(t,e),(0,f.A)(t,[{key:"getCookies",value:(s=(0,o.A)(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.cookie,n={},t.split(";").forEach((function(e){if(!(e.length<=0)){var t=e.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE"),r=(0,_.A)(t,2),i=r[0],a=r[1];i=Sae(i).trim(),a=Sae(a).trim(),n[i]=a}})),e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)}))),function(){return s.apply(this,arguments)})},{key:"setCookie",value:(a=(0,o.A)(u().mark((function e(t){var n,r,i,a,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,n=xae(t.key),r=xae(t.value),i="; expires=".concat((t.expires||"").replace("expires=","")),a=(t.path||"/").replace("path=",""),o=null!=t.url&&t.url.length>0?"domain=".concat(t.url):"",document.cookie="".concat(n,"=").concat(r||"").concat(i,"; path=").concat(a,"; ").concat(o,";"),e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),function(e){return a.apply(this,arguments)})},{key:"deleteCookie",value:(i=(0,o.A)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,document.cookie="".concat(t.key,"=; Max-Age=0"),e.next=7;break;case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 7:case"end":return e.stop()}}),e,null,[[0,4]])}))),function(e){return i.apply(this,arguments)})},{key:"clearCookies",value:(r=(0,o.A)(u().mark((function e(){var t,n,r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,t=document.cookie.split(";")||[],n=mae(t);try{for(n.s();!(r=n.n()).done;)i=r.value,document.cookie=i.replace(/^ +/,"").replace(/=.*/,"=;expires=".concat((new Date).toUTCString(),";path=/"))}catch(e){n.e(e)}finally{n.f()}e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),function(){return r.apply(this,arguments)})},{key:"clearAllCookies",value:(n=(0,o.A)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.clearCookies();case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 8:case"end":return e.stop()}}),e,this,[[0,5]])}))),function(){return n.apply(this,arguments)})}]);var n,r,i,a,s}(_ae),Fae=(Cae("CapacitorCookies",{web:function(){return new Tae}}),function(){var e=(0,o.A)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r=new FileReader;r.onload=function(){var t=r.result;e(t.indexOf(",")>=0?t.split(",")[1]:t)},r.onerror=function(e){return n(e)},r.readAsDataURL(t)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Oae=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e)return null;var n=Object.entries(e).reduce((function(e,n){var r,i,a=(0,_.A)(n,2),o=a[0],s=a[1];return Array.isArray(s)?(i="",s.forEach((function(e){r=t?encodeURIComponent(e):e,i+="".concat(o,"=").concat(r,"&")})),i.slice(0,-1)):(r=t?encodeURIComponent(s):s,i="".concat(o,"=").concat(r)),"".concat(e,"&").concat(i)}),"");return n.substr(1)},Pae=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign({method:e.method||"GET",headers:e.headers},t),r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.keys(e),n=Object.keys(e).map((function(e){return e.toLocaleLowerCase()})),r=n.reduce((function(n,r,i){return n[r]=e[t[i]],n}),{});return r}(e.headers),i=r["content-type"]||"";if("string"==typeof e.data)n.body=e.data;else if(i.includes("application/x-www-form-urlencoded")){for(var a=new URLSearchParams,o=0,s=Object.entries(e.data||{});o<s.length;o++){var u=(0,_.A)(s[o],2),c=u[0],l=u[1];a.set(c,l)}n.body=a.toString()}else if(i.includes("multipart/form-data")||e.data instanceof FormData){var d=new FormData;if(e.data instanceof FormData)e.data.forEach((function(e,t){d.append(t,e)}));else for(var p=0,f=Object.keys(e.data);p<f.length;p++){var h=f[p];d.append(h,e.data[h])}n.body=d;var m=new Headers(n.headers);m.delete("content-type"),n.headers=m}else(i.includes("application/json")||"object"===(0,C.A)(e.data))&&(n.body=JSON.stringify(e.data));return n},Iae=function(e){function t(){return(0,p.A)(this,t),gae(this,t,arguments)}return(0,T.A)(t,e),(0,f.A)(t,[{key:"request",value:(s=(0,o.A)(u().mark((function e(t){var n,r,i,a,o,s,c,l,d,p,f;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Pae(t,t.webFetchExtra),r=Oae(t.params,t.shouldEncodeUrlParams),i=r?"".concat(t.url,"?").concat(r):t.url,e.next=5,fetch(i,n);case 5:a=e.sent,o=a.headers.get("content-type")||"",s=a.ok?t:{},c=s.responseType,l=void 0===c?"text":c,o.includes("application/json")&&(l="json"),e.t0=l,e.next="arraybuffer"===e.t0||"blob"===e.t0?12:"json"===e.t0?19:("document"===e.t0||e.t0,23);break;case 12:return e.next=14,a.blob();case 14:return p=e.sent,e.next=17,Fae(p);case 17:return d=e.sent,e.abrupt("break",26);case 19:return e.next=21,a.json();case 21:return d=e.sent,e.abrupt("break",26);case 23:return e.next=25,a.text();case 25:d=e.sent;case 26:return f={},a.headers.forEach((function(e,t){f[t]=e})),e.abrupt("return",{data:d,headers:f,status:a.status,url:a.url});case 29:case"end":return e.stop()}}),e)}))),function(e){return s.apply(this,arguments)})},{key:"get",value:(a=(0,o.A)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.request(Object.assign(Object.assign({},t),{method:"GET"})));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"post",value:function(){var e=(0,o.A)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.request(Object.assign(Object.assign({},t),{method:"POST"})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"put",value:(i=(0,o.A)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.request(Object.assign(Object.assign({},t),{method:"PUT"})));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"patch",value:(r=(0,o.A)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.request(Object.assign(Object.assign({},t),{method:"PATCH"})));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"delete",value:(n=(0,o.A)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.request(Object.assign(Object.assign({},t),{method:"DELETE"})));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})}]);var n,r,i,a,s}(_ae),Bae=(Cae("CapacitorHttp",{web:function(){return new Iae}}),Cae("Crypto")),Rae=(0,tae.F3)("SecureStoragePlugin",{web:function(){return Promise.resolve().then(__webpack_require__.bind(__webpack_require__,48760)).then((function(e){return new e.SecureStoragePluginWeb}))}});function Nae(e,t){return Mae.apply(this,arguments)}function Mae(){return Mae=(0,o.A)(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Rae.set({key:t,value:JSON.stringify(n)});case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,5]])}))),Mae.apply(this,arguments)}var Lae=__webpack_require__(615),jae=__webpack_require__.n(Lae),Uae=(0,tae.F3)("Preferences",{web:function(){return Promise.resolve().then(__webpack_require__.bind(__webpack_require__,4727)).then((function(e){return new e.PreferencesWeb}))}});function zae(e){return Vae.apply(this,arguments)}function Vae(){return(Vae=(0,o.A)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Uae.remove({key:t});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qae(e,t){return Hae.apply(this,arguments)}function Hae(){return Hae=(0,o.A)(u().mark((function e(t,n){var r,i,a,o,s,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Bae.generateKeys();case 3:if((r=e.sent).privateKey&&r.publicKey){e.next=6;break}throw new Error("Failed to generate keys");case 6:return i=Wae(r.publicKey).replace("-----BEGIN PUBLIC KEY-----","").replace("-----END PUBLIC KEY-----","").replace(/(\r\n|\n|\r)/gm,""),a=r.privateKey.replace(/(\r\n|\n|\r)/gm,""),e.next=10,oae();case 10:return e.t0=e.sent,e.next=13,pae();case 13:return e.t1=e.sent,e.next=16,hae.getInfo();case 16:return e.t2=e.sent,e.next=19,cae();case 19:return e.t3=e.sent,e.t4=tae.Ii.DEBUG?"development":"production",e.t5=i,o={id:e.t0,info:e.t1,app:e.t2,lang:e.t3,env:e.t4,key:e.t5},e.next=25,pie.post("/app/login",{username:t,password:n,device:o});case 25:return s=e.sent,c=s.data,e.next=29,Promise.all([Nae("authorization",{user_id:c.auth.user_id,domain:c.auth.domain}),Nae("device_private_key",a),zae("push_notifications_proposed"),zae("push_notifications_token"),zae("voip_notifications_token"),zae("push_notifications_unsubscribed"),window.BetterMessagesAppUpdateScripts(!1,c.manifest)]);case 29:location.reload(),e.next=36;break;case 32:throw e.prev=32,e.t6=e.catch(0),console.error(e.t6),eae(e.t6);case 36:case"end":return e.stop()}}),e,null,[[0,32]])}))),Hae.apply(this,arguments)}function Wae(e){var t=jae().util.decode64(e),n=jae().asn1.fromDer(t),r=jae().pki.publicKeyFromAsn1(n);return jae().pki.publicKeyToPem(r)}var Kae,$ae,Gae=(0,tae.F3)("Browser",{web:function(){return Promise.resolve().then(__webpack_require__.bind(__webpack_require__,50121)).then((function(e){return new e.BrowserWeb}))}});function Qae(){var e=YV(""),t=(0,_.A)(e,3),n=t[0],r=t[1],i=t[2],a=YV(""),s=(0,_.A)(a,3),l=s[0],d=s[1],p=s[2],f=(0,c.useState)(!1),h=(0,_.A)(f,2),m=h[0],v=h[1],g=(0,c.useState)(!Sie.mobile.termsAndConditions),y=(0,_.A)(g,2),b=y[0],w=y[1];(0,c.useEffect)((function(){window.BetterMessagesAppUpdateScripts().then(function(){var e=(0,o.A)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&""===i.current&&p.current;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]);var D=function(){var e=(0,o.A)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),v(!0),e.prev=2,e.next=5,qae(n,l);case 5:e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(2),e.next=11,rae.alert({title:Rie("Error","bp-better-messages"),message:e.t0});case 11:return e.prev=11,v(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[2,7,11,14]])})));return function(t){return e.apply(this,arguments)}}(),A="";"png"===Sie.mobile.loginLogoExtension&&(A="data:image/png;base64,"+Sie.mobile.loginLogo),"svg"===Sie.mobile.loginLogoExtension&&(A="data:image/svg+xml;base64,"+Sie.mobile.loginLogo);var E=Lie(Mie("I agree to %s","Mobile App","bp-better-messages"),"%s");return c.createElement("div",{id:"bm-app-login-screen"},c.createElement("div",{className:"bm-login-form"},c.createElement("div",{className:"bm-login-logo"},c.createElement("img",{src:A,alt:"Logo"})),c.createElement("div",null,c.createElement("div",{className:"bm-form-group"},c.createElement("label",{htmlFor:"username"},Rie("Username","bp-better-messages")),c.createElement("input",{type:"text",id:"username",autoCapitalize:"off",name:"username",autoComplete:"username",disabled:m,value:n,onChange:function(e){return r(e.target.value)}})),c.createElement("div",{className:"bm-form-group"},c.createElement("label",{htmlFor:"password"},Rie("Password","bp-better-messages")),c.createElement("input",{type:"password",id:"password",autoCapitalize:"off",name:"password",autoComplete:"password",disabled:m,value:l,onChange:function(e){return d(e.target.value)}})),!!Sie.mobile.termsAndConditions&&c.createElement("div",{className:"terms-and-conditions-container"},c.createElement("input",{id:"terms-and-conditions",type:"checkbox",checked:b,onChange:function(e){w(e.currentTarget.checked)}}),c.createElement("label",{htmlFor:"terms-and-conditions"},E.split("%s")[0],c.createElement("a",{href:Sie.mobile.termsAndConditions,target:"_blank",onClick:function(e){e.preventDefault(),Gae.open({url:Sie.mobile.termsAndConditions})}},Mie("terms and conditions","Mobile App","bp-better-messages")),E.split("%s")[1])),c.createElement("div",{className:"bm-login-button"},c.createElement("button",{type:"submit",className:"bm-submit",onClick:D,disabled:m||!b},Rie("Login","bp-better-messages"))),Sie.registerUrl&&c.createElement("div",{className:"bm-register-button"},c.createElement("a",{href:Sie.registerUrl,onClick:function(e){e.preventDefault(),Gae.open({url:Sie.registerUrl})}},Rie("Register","bp-better-messages"))))))}!function(e){e.Dark="DARK",e.Light="LIGHT",e.Default="DEFAULT"}(Kae||(Kae={})),function(e){e.Body="body",e.Ionic="ionic",e.Native="native",e.None="none"}($ae||($ae={}));var Yae=(0,tae.F3)("Keyboard");function Xae(e){return Zae.apply(this,arguments)}function Zae(){return Zae=(0,o.A)(u().mark((function e(t){var n,r,i=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:null,e.prev=1,e.next=4,Rae.get({key:t});case 4:return r=e.sent,e.prev=5,e.abrupt("return",JSON.parse(r.value));case 9:return e.prev=9,e.t0=e.catch(5),e.abrupt("return",n);case 12:e.next=17;break;case 14:return e.prev=14,e.t1=e.catch(1),e.abrupt("return",n);case 17:case"end":return e.stop()}}),e,null,[[1,14],[5,9]])}))),Zae.apply(this,arguments)}function Jae(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function eoe(e,t){return e&t}function toe(e,t){return e|t}function noe(e,t){return e^t}function roe(e,t){return e&~t}function ioe(e){if(0==e)return-1;var t=0;return 65535&e||(e>>=16,t+=16),255&e||(e>>=8,t+=8),15&e||(e>>=4,t+=4),3&e||(e>>=2,t+=2),1&e||++t,t}function aoe(e){for(var t=0;0!=e;)e&=e-1,++t;return t}var ooe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function soe(e){var t,n,r="";for(t=0;t+3<=e.length;t+=3)n=parseInt(e.substring(t,t+3),16),r+=ooe.charAt(n>>6)+ooe.charAt(63&n);for(t+1==e.length?(n=parseInt(e.substring(t,t+1),16),r+=ooe.charAt(n<<2)):t+2==e.length&&(n=parseInt(e.substring(t,t+2),16),r+=ooe.charAt(n>>2)+ooe.charAt((3&n)<<4));(3&r.length)>0;)r+="=";return r}function uoe(e){var t,n="",r=0,i=0;for(t=0;t<e.length&&"="!=e.charAt(t);++t){var a=ooe.indexOf(e.charAt(t));a<0||(0==r?(n+=Jae(a>>2),i=3&a,r=1):1==r?(n+=Jae(i<<2|a>>4),i=15&a,r=2):2==r?(n+=Jae(i),n+=Jae(a>>2),i=3&a,r=3):(n+=Jae(i<<2|a>>4),n+=Jae(15&a),r=0))}return 1==r&&(n+=Jae(i<<2)),n}__webpack_require__(63548),__webpack_require__(10287);var coe,loe,doe=function(e){var t;if(void 0===coe){var n="0123456789ABCDEF",r=" \f\n\r\t\u2028\u2029";for(coe={},t=0;t<16;++t)coe[n.charAt(t)]=t;for(n=n.toLowerCase(),t=10;t<16;++t)coe[n.charAt(t)]=t;for(t=0;t<8;++t)coe[r.charAt(t)]=-1}var i=[],a=0,o=0;for(t=0;t<e.length;++t){var s=e.charAt(t);if("="==s)break;if(-1!=(s=coe[s])){if(void 0===s)throw new Error("Illegal character at offset "+t);a|=s,++o>=2?(i[i.length]=a,a=0,o=0):a<<=4}}if(o)throw new Error("Hex encoding incomplete: 4 bits missing");return i},poe={decode:function(e){var t;if(void 0===loe){var n="= \f\n\r\t\u2028\u2029";for(loe=Object.create(null),t=0;t<64;++t)loe["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(t)]=t;for(loe["-"]=62,loe._=63,t=0;t<9;++t)loe[n.charAt(t)]=-1}var r=[],i=0,a=0;for(t=0;t<e.length;++t){var o=e.charAt(t);if("="==o)break;if(-1!=(o=loe[o])){if(void 0===o)throw new Error("Illegal character at offset "+t);i|=o,++a>=4?(r[r.length]=i>>16,r[r.length]=i>>8&255,r[r.length]=255&i,i=0,a=0):i<<=6}}switch(a){case 1:throw new Error("Base64 encoding incomplete: at least 2 bits missing");case 2:r[r.length]=i>>10;break;case 3:r[r.length]=i>>16,r[r.length]=i>>8&255}return r},re:/-----BEGIN [^-]+-----([A-Za-z0-9+\/=\s]+)-----END [^-]+-----|begin-base64[^\n]+\n([A-Za-z0-9+\/=\s]+)====/,unarmor:function(e){var t=poe.re.exec(e);if(t)if(t[1])e=t[1];else{if(!t[2])throw new Error("RegExp out of sync");e=t[2]}return poe.decode(e)}},foe=1e13,hoe=function(){function e(e){this.buf=[+e||0]}return e.prototype.mulAdd=function(e,t){var n,r,i=this.buf,a=i.length;for(n=0;n<a;++n)(r=i[n]*e+t)<foe?t=0:r-=(t=0|r/foe)*foe,i[n]=r;t>0&&(i[n]=t)},e.prototype.sub=function(e){var t,n,r=this.buf,i=r.length;for(t=0;t<i;++t)(n=r[t]-e)<0?(n+=foe,e=1):e=0,r[t]=n;for(;0===r[r.length-1];)r.pop()},e.prototype.toString=function(e){if(10!=(e||10))throw new Error("only base 10 is supported");for(var t=this.buf,n=t[t.length-1].toString(),r=t.length-2;r>=0;--r)n+=(foe+t[r]).toString().substring(1);return n},e.prototype.valueOf=function(){for(var e=this.buf,t=0,n=e.length-1;n>=0;--n)t=t*foe+e[n];return t},e.prototype.simplify=function(){var e=this.buf;return 1==e.length?e[0]:this},e}(),moe=/^(\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/,voe=/^(\d\d\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/;function goe(e,t){return e.length>t&&(e=e.substring(0,t)+""),e}var yoe,boe=function(){function e(t,n){this.hexDigits="0123456789ABCDEF",t instanceof e?(this.enc=t.enc,this.pos=t.pos):(this.enc=t,this.pos=n)}return e.prototype.get=function(e){if(void 0===e&&(e=this.pos++),e>=this.enc.length)throw new Error("Requesting byte offset ".concat(e," on a stream of length ").concat(this.enc.length));return"string"==typeof this.enc?this.enc.charCodeAt(e):this.enc[e]},e.prototype.hexByte=function(e){return this.hexDigits.charAt(e>>4&15)+this.hexDigits.charAt(15&e)},e.prototype.hexDump=function(e,t,n){for(var r="",i=e;i<t;++i)if(r+=this.hexByte(this.get(i)),!0!==n)switch(15&i){case 7:r+="  ";break;case 15:r+="\n";break;default:r+=" "}return r},e.prototype.isASCII=function(e,t){for(var n=e;n<t;++n){var r=this.get(n);if(r<32||r>176)return!1}return!0},e.prototype.parseStringISO=function(e,t){for(var n="",r=e;r<t;++r)n+=String.fromCharCode(this.get(r));return n},e.prototype.parseStringUTF=function(e,t){for(var n="",r=e;r<t;){var i=this.get(r++);n+=i<128?String.fromCharCode(i):i>191&&i<224?String.fromCharCode((31&i)<<6|63&this.get(r++)):String.fromCharCode((15&i)<<12|(63&this.get(r++))<<6|63&this.get(r++))}return n},e.prototype.parseStringBMP=function(e,t){for(var n,r,i="",a=e;a<t;)n=this.get(a++),r=this.get(a++),i+=String.fromCharCode(n<<8|r);return i},e.prototype.parseTime=function(e,t,n){var r=this.parseStringISO(e,t),i=(n?moe:voe).exec(r);return i?(n&&(i[1]=+i[1],i[1]+=+i[1]<70?2e3:1900),r=i[1]+"-"+i[2]+"-"+i[3]+" "+i[4],i[5]&&(r+=":"+i[5],i[6]&&(r+=":"+i[6],i[7]&&(r+="."+i[7]))),i[8]&&(r+=" UTC","Z"!=i[8]&&(r+=i[8],i[9]&&(r+=":"+i[9]))),r):"Unrecognized time: "+r},e.prototype.parseInteger=function(e,t){for(var n,r=this.get(e),i=r>127,a=i?255:0,o="";r==a&&++e<t;)r=this.get(e);if(0===(n=t-e))return i?-1:0;if(n>4){for(o=r,n<<=3;!(128&(+o^a));)o=+o<<1,--n;o="("+n+" bit)\n"}i&&(r-=256);for(var s=new hoe(r),u=e+1;u<t;++u)s.mulAdd(256,this.get(u));return o+s.toString()},e.prototype.parseBitString=function(e,t,n){for(var r=this.get(e),i="("+((t-e-1<<3)-r)+" bit)\n",a="",o=e+1;o<t;++o){for(var s=this.get(o),u=o==t-1?r:0,c=7;c>=u;--c)a+=s>>c&1?"1":"0";if(a.length>n)return i+goe(a,n)}return i+a},e.prototype.parseOctetString=function(e,t,n){if(this.isASCII(e,t))return goe(this.parseStringISO(e,t),n);var r=t-e,i="("+r+" byte)\n";r>(n/=2)&&(t=e+n);for(var a=e;a<t;++a)i+=this.hexByte(this.get(a));return r>n&&(i+=""),i},e.prototype.parseOID=function(e,t,n){for(var r="",i=new hoe,a=0,o=e;o<t;++o){var s=this.get(o);if(i.mulAdd(128,127&s),a+=7,!(128&s)){if(""===r)if((i=i.simplify())instanceof hoe)i.sub(80),r="2."+i.toString();else{var u=i<80?i<40?0:1:2;r=u+"."+(i-40*u)}else r+="."+i.toString();if(r.length>n)return goe(r,n);i=new hoe,a=0}}return a>0&&(r+=".incomplete"),r},e}(),woe=function(){function e(e,t,n,r,i){if(!(r instanceof Doe))throw new Error("Invalid tag value.");this.stream=e,this.header=t,this.length=n,this.tag=r,this.sub=i}return e.prototype.typeName=function(){switch(this.tag.tagClass){case 0:switch(this.tag.tagNumber){case 0:return"EOC";case 1:return"BOOLEAN";case 2:return"INTEGER";case 3:return"BIT_STRING";case 4:return"OCTET_STRING";case 5:return"NULL";case 6:return"OBJECT_IDENTIFIER";case 7:return"ObjectDescriptor";case 8:return"EXTERNAL";case 9:return"REAL";case 10:return"ENUMERATED";case 11:return"EMBEDDED_PDV";case 12:return"UTF8String";case 16:return"SEQUENCE";case 17:return"SET";case 18:return"NumericString";case 19:return"PrintableString";case 20:return"TeletexString";case 21:return"VideotexString";case 22:return"IA5String";case 23:return"UTCTime";case 24:return"GeneralizedTime";case 25:return"GraphicString";case 26:return"VisibleString";case 27:return"GeneralString";case 28:return"UniversalString";case 30:return"BMPString"}return"Universal_"+this.tag.tagNumber.toString();case 1:return"Application_"+this.tag.tagNumber.toString();case 2:return"["+this.tag.tagNumber.toString()+"]";case 3:return"Private_"+this.tag.tagNumber.toString()}},e.prototype.content=function(e){if(void 0===this.tag)return null;void 0===e&&(e=1/0);var t=this.posContent(),n=Math.abs(this.length);if(!this.tag.isUniversal())return null!==this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(t,t+n,e);switch(this.tag.tagNumber){case 1:return 0===this.stream.get(t)?"false":"true";case 2:return this.stream.parseInteger(t,t+n);case 3:return this.sub?"("+this.sub.length+" elem)":this.stream.parseBitString(t,t+n,e);case 4:return this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(t,t+n,e);case 6:return this.stream.parseOID(t,t+n,e);case 16:case 17:return null!==this.sub?"("+this.sub.length+" elem)":"(no elem)";case 12:return goe(this.stream.parseStringUTF(t,t+n),e);case 18:case 19:case 20:case 21:case 22:case 26:return goe(this.stream.parseStringISO(t,t+n),e);case 30:return goe(this.stream.parseStringBMP(t,t+n),e);case 23:case 24:return this.stream.parseTime(t,t+n,23==this.tag.tagNumber)}return null},e.prototype.toString=function(){return this.typeName()+"@"+this.stream.pos+"[header:"+this.header+",length:"+this.length+",sub:"+(null===this.sub?"null":this.sub.length)+"]"},e.prototype.toPrettyString=function(e){void 0===e&&(e="");var t=e+this.typeName()+" @"+this.stream.pos;if(this.length>=0&&(t+="+"),t+=this.length,this.tag.tagConstructed?t+=" (constructed)":!this.tag.isUniversal()||3!=this.tag.tagNumber&&4!=this.tag.tagNumber||null===this.sub||(t+=" (encapsulates)"),t+="\n",null!==this.sub){e+="  ";for(var n=0,r=this.sub.length;n<r;++n)t+=this.sub[n].toPrettyString(e)}return t},e.prototype.posStart=function(){return this.stream.pos},e.prototype.posContent=function(){return this.stream.pos+this.header},e.prototype.posEnd=function(){return this.stream.pos+this.header+Math.abs(this.length)},e.prototype.toHexString=function(){return this.stream.hexDump(this.posStart(),this.posEnd(),!0)},e.decodeLength=function(e){var t=e.get(),n=127&t;if(n==t)return n;if(n>6)throw new Error("Length over 48 bits not supported at position "+(e.pos-1));if(0===n)return null;t=0;for(var r=0;r<n;++r)t=256*t+e.get();return t},e.prototype.getHexStringValue=function(){var e=this.toHexString(),t=2*this.header,n=2*this.length;return e.substr(t,n)},e.decode=function(t){var n;n=t instanceof boe?t:new boe(t,0);var r=new boe(n),i=new Doe(n),a=e.decodeLength(n),o=n.pos,s=o-r.pos,u=null,c=function(){var t=[];if(null!==a){for(var r=o+a;n.pos<r;)t[t.length]=e.decode(n);if(n.pos!=r)throw new Error("Content size is not correct for container starting at offset "+o)}else try{for(;;){var i=e.decode(n);if(i.tag.isEOC())break;t[t.length]=i}a=o-n.pos}catch(e){throw new Error("Exception while decoding undefined length content: "+e)}return t};if(i.tagConstructed)u=c();else if(i.isUniversal()&&(3==i.tagNumber||4==i.tagNumber))try{if(3==i.tagNumber&&0!=n.get())throw new Error("BIT STRINGs with unused bits cannot encapsulate.");u=c();for(var l=0;l<u.length;++l)if(u[l].tag.isEOC())throw new Error("EOC is not supposed to be actual content.")}catch(e){u=null}if(null===u){if(null===a)throw new Error("We can't skip over an invalid tag with undefined length at offset "+o);n.pos=o+Math.abs(a)}return new e(r,s,a,i,u)},e}(),Doe=function(){function e(e){var t=e.get();if(this.tagClass=t>>6,this.tagConstructed=!!(32&t),this.tagNumber=31&t,31==this.tagNumber){var n=new hoe;do{t=e.get(),n.mulAdd(128,127&t)}while(128&t);this.tagNumber=n.simplify()}}return e.prototype.isUniversal=function(){return 0===this.tagClass},e.prototype.isEOC=function(){return 0===this.tagClass&&0===this.tagNumber},e}(),Aoe=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],Eoe=(1<<26)/Aoe[Aoe.length-1],koe=function(){function e(e,t,n){null!=e&&("number"==typeof e?this.fromNumber(e,t,n):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}return e.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var n,r=(1<<t)-1,i=!1,a="",o=this.t,s=this.DB-o*this.DB%t;if(o-- >0)for(s<this.DB&&(n=this[o]>>s)>0&&(i=!0,a=Jae(n));o>=0;)s<t?(n=(this[o]&(1<<s)-1)<<t-s,n|=this[--o]>>(s+=this.DB-t)):(n=this[o]>>(s-=t)&r,s<=0&&(s+=this.DB,--o)),n>0&&(i=!0),i&&(a+=Jae(n));return i?a:"0"},e.prototype.negate=function(){var t=Toe();return e.ZERO.subTo(this,t),t},e.prototype.abs=function(){return this.s<0?this.negate():this},e.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0},e.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+Moe(this[this.t-1]^this.s&this.DM)},e.prototype.mod=function(t){var n=Toe();return this.abs().divRemTo(t,null,n),this.s<0&&n.compareTo(e.ZERO)>0&&t.subTo(n,n),n},e.prototype.modPowInt=function(e,t){var n;return n=e<256||t.isEven()?new _oe(t):new xoe(t),this.exp(e,n)},e.prototype.clone=function(){var e=Toe();return this.copyTo(e),e},e.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},e.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},e.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},e.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},e.prototype.toByteArray=function(){var e=this.t,t=[];t[0]=this.s;var n,r=this.DB-e*this.DB%8,i=0;if(e-- >0)for(r<this.DB&&(n=this[e]>>r)!=(this.s&this.DM)>>r&&(t[i++]=n|this.s<<this.DB-r);e>=0;)r<8?(n=(this[e]&(1<<r)-1)<<8-r,n|=this[--e]>>(r+=this.DB-8)):(n=this[e]>>(r-=8)&255,r<=0&&(r+=this.DB,--e)),128&n&&(n|=-256),0==i&&(128&this.s)!=(128&n)&&++i,(i>0||n!=this.s)&&(t[i++]=n);return t},e.prototype.equals=function(e){return 0==this.compareTo(e)},e.prototype.min=function(e){return this.compareTo(e)<0?this:e},e.prototype.max=function(e){return this.compareTo(e)>0?this:e},e.prototype.and=function(e){var t=Toe();return this.bitwiseTo(e,eoe,t),t},e.prototype.or=function(e){var t=Toe();return this.bitwiseTo(e,toe,t),t},e.prototype.xor=function(e){var t=Toe();return this.bitwiseTo(e,noe,t),t},e.prototype.andNot=function(e){var t=Toe();return this.bitwiseTo(e,roe,t),t},e.prototype.not=function(){for(var e=Toe(),t=0;t<this.t;++t)e[t]=this.DM&~this[t];return e.t=this.t,e.s=~this.s,e},e.prototype.shiftLeft=function(e){var t=Toe();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t},e.prototype.shiftRight=function(e){var t=Toe();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t},e.prototype.getLowestSetBit=function(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this.DB+ioe(this[e]);return this.s<0?this.t*this.DB:-1},e.prototype.bitCount=function(){for(var e=0,t=this.s&this.DM,n=0;n<this.t;++n)e+=aoe(this[n]^t);return e},e.prototype.testBit=function(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:!!(this[t]&1<<e%this.DB)},e.prototype.setBit=function(e){return this.changeBit(e,toe)},e.prototype.clearBit=function(e){return this.changeBit(e,roe)},e.prototype.flipBit=function(e){return this.changeBit(e,noe)},e.prototype.add=function(e){var t=Toe();return this.addTo(e,t),t},e.prototype.subtract=function(e){var t=Toe();return this.subTo(e,t),t},e.prototype.multiply=function(e){var t=Toe();return this.multiplyTo(e,t),t},e.prototype.divide=function(e){var t=Toe();return this.divRemTo(e,t,null),t},e.prototype.remainder=function(e){var t=Toe();return this.divRemTo(e,null,t),t},e.prototype.divideAndRemainder=function(e){var t=Toe(),n=Toe();return this.divRemTo(e,t,n),[t,n]},e.prototype.modPow=function(e,t){var n,r,i=e.bitLength(),a=Noe(1);if(i<=0)return a;n=i<18?1:i<48?3:i<144?4:i<768?5:6,r=i<8?new _oe(t):t.isEven()?new Soe(t):new xoe(t);var o=[],s=3,u=n-1,c=(1<<n)-1;if(o[1]=r.convert(this),n>1){var l=Toe();for(r.sqrTo(o[1],l);s<=c;)o[s]=Toe(),r.mulTo(l,o[s-2],o[s]),s+=2}var d,p,f=e.t-1,h=!0,m=Toe();for(i=Moe(e[f])-1;f>=0;){for(i>=u?d=e[f]>>i-u&c:(d=(e[f]&(1<<i+1)-1)<<u-i,f>0&&(d|=e[f-1]>>this.DB+i-u)),s=n;!(1&d);)d>>=1,--s;if((i-=s)<0&&(i+=this.DB,--f),h)o[d].copyTo(a),h=!1;else{for(;s>1;)r.sqrTo(a,m),r.sqrTo(m,a),s-=2;s>0?r.sqrTo(a,m):(p=a,a=m,m=p),r.mulTo(m,o[d],a)}for(;f>=0&&!(e[f]&1<<i);)r.sqrTo(a,m),p=a,a=m,m=p,--i<0&&(i=this.DB-1,--f)}return r.revert(a)},e.prototype.modInverse=function(t){var n=t.isEven();if(this.isEven()&&n||0==t.signum())return e.ZERO;for(var r=t.clone(),i=this.clone(),a=Noe(1),o=Noe(0),s=Noe(0),u=Noe(1);0!=r.signum();){for(;r.isEven();)r.rShiftTo(1,r),n?(a.isEven()&&o.isEven()||(a.addTo(this,a),o.subTo(t,o)),a.rShiftTo(1,a)):o.isEven()||o.subTo(t,o),o.rShiftTo(1,o);for(;i.isEven();)i.rShiftTo(1,i),n?(s.isEven()&&u.isEven()||(s.addTo(this,s),u.subTo(t,u)),s.rShiftTo(1,s)):u.isEven()||u.subTo(t,u),u.rShiftTo(1,u);r.compareTo(i)>=0?(r.subTo(i,r),n&&a.subTo(s,a),o.subTo(u,o)):(i.subTo(r,i),n&&s.subTo(a,s),u.subTo(o,u))}return 0!=i.compareTo(e.ONE)?e.ZERO:u.compareTo(t)>=0?u.subtract(t):u.signum()<0?(u.addTo(t,u),u.signum()<0?u.add(t):u):u},e.prototype.pow=function(e){return this.exp(e,new Coe)},e.prototype.gcd=function(e){var t=this.s<0?this.negate():this.clone(),n=e.s<0?e.negate():e.clone();if(t.compareTo(n)<0){var r=t;t=n,n=r}var i=t.getLowestSetBit(),a=n.getLowestSetBit();if(a<0)return t;for(i<a&&(a=i),a>0&&(t.rShiftTo(a,t),n.rShiftTo(a,n));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=n.getLowestSetBit())>0&&n.rShiftTo(i,n),t.compareTo(n)>=0?(t.subTo(n,t),t.rShiftTo(1,t)):(n.subTo(t,n),n.rShiftTo(1,n));return a>0&&n.lShiftTo(a,n),n},e.prototype.isProbablePrime=function(e){var t,n=this.abs();if(1==n.t&&n[0]<=Aoe[Aoe.length-1]){for(t=0;t<Aoe.length;++t)if(n[0]==Aoe[t])return!0;return!1}if(n.isEven())return!1;for(t=1;t<Aoe.length;){for(var r=Aoe[t],i=t+1;i<Aoe.length&&r<Eoe;)r*=Aoe[i++];for(r=n.modInt(r);t<i;)if(r%Aoe[t++]==0)return!1}return n.millerRabin(e)},e.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},e.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},e.prototype.fromString=function(t,n){var r;if(16==n)r=4;else if(8==n)r=3;else if(256==n)r=8;else if(2==n)r=1;else if(32==n)r=5;else{if(4!=n)return void this.fromRadix(t,n);r=2}this.t=0,this.s=0;for(var i=t.length,a=!1,o=0;--i>=0;){var s=8==r?255&+t[i]:Roe(t,i);s<0?"-"==t.charAt(i)&&(a=!0):(a=!1,0==o?this[this.t++]=s:o+r>this.DB?(this[this.t-1]|=(s&(1<<this.DB-o)-1)<<o,this[this.t++]=s>>this.DB-o):this[this.t-1]|=s<<o,(o+=r)>=this.DB&&(o-=this.DB))}8==r&&128&+t[0]&&(this.s=-1,o>0&&(this[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),a&&e.ZERO.subTo(this,this)},e.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},e.prototype.dlShiftTo=function(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s},e.prototype.drShiftTo=function(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s},e.prototype.lShiftTo=function(e,t){for(var n=e%this.DB,r=this.DB-n,i=(1<<r)-1,a=Math.floor(e/this.DB),o=this.s<<n&this.DM,s=this.t-1;s>=0;--s)t[s+a+1]=this[s]>>r|o,o=(this[s]&i)<<n;for(s=a-1;s>=0;--s)t[s]=0;t[a]=o,t.t=this.t+a+1,t.s=this.s,t.clamp()},e.prototype.rShiftTo=function(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)t.t=0;else{var r=e%this.DB,i=this.DB-r,a=(1<<r)-1;t[0]=this[n]>>r;for(var o=n+1;o<this.t;++o)t[o-n-1]|=(this[o]&a)<<i,t[o-n]=this[o]>>r;r>0&&(t[this.t-n-1]|=(this.s&a)<<i),t.t=this.t-n,t.clamp()}},e.prototype.subTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]-e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r-=e[n],t[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=r<0?-1:0,r<-1?t[n++]=this.DV+r:r>0&&(t[n++]=r),t.t=n,t.clamp()},e.prototype.multiplyTo=function(t,n){var r=this.abs(),i=t.abs(),a=r.t;for(n.t=a+i.t;--a>=0;)n[a]=0;for(a=0;a<i.t;++a)n[a+r.t]=r.am(0,i[a],n,a,0,r.t);n.s=0,n.clamp(),this.s!=t.s&&e.ZERO.subTo(n,n)},e.prototype.squareTo=function(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var r=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,r,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()},e.prototype.divRemTo=function(t,n,r){var i=t.abs();if(!(i.t<=0)){var a=this.abs();if(a.t<i.t)return null!=n&&n.fromInt(0),void(null!=r&&this.copyTo(r));null==r&&(r=Toe());var o=Toe(),s=this.s,u=t.s,c=this.DB-Moe(i[i.t-1]);c>0?(i.lShiftTo(c,o),a.lShiftTo(c,r)):(i.copyTo(o),a.copyTo(r));var l=o.t,d=o[l-1];if(0!=d){var p=d*(1<<this.F1)+(l>1?o[l-2]>>this.F2:0),f=this.FV/p,h=(1<<this.F1)/p,m=1<<this.F2,v=r.t,g=v-l,y=null==n?Toe():n;for(o.dlShiftTo(g,y),r.compareTo(y)>=0&&(r[r.t++]=1,r.subTo(y,r)),e.ONE.dlShiftTo(l,y),y.subTo(o,o);o.t<l;)o[o.t++]=0;for(;--g>=0;){var b=r[--v]==d?this.DM:Math.floor(r[v]*f+(r[v-1]+m)*h);if((r[v]+=o.am(0,b,r,g,0,l))<b)for(o.dlShiftTo(g,y),r.subTo(y,r);r[v]<--b;)r.subTo(y,r)}null!=n&&(r.drShiftTo(l,n),s!=u&&e.ZERO.subTo(n,n)),r.t=l,r.clamp(),c>0&&r.rShiftTo(c,r),s<0&&e.ZERO.subTo(r,r)}}},e.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(!(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},e.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},e.prototype.exp=function(t,n){if(t>4294967295||t<1)return e.ONE;var r=Toe(),i=Toe(),a=n.convert(this),o=Moe(t)-1;for(a.copyTo(r);--o>=0;)if(n.sqrTo(r,i),(t&1<<o)>0)n.mulTo(i,a,r);else{var s=r;r=i,i=s}return n.revert(r)},e.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},e.prototype.toRadix=function(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),n=Math.pow(e,t),r=Noe(n),i=Toe(),a=Toe(),o="";for(this.divRemTo(r,i,a);i.signum()>0;)o=(n+a.intValue()).toString(e).substr(1)+o,i.divRemTo(r,i,a);return a.intValue().toString(e)+o},e.prototype.fromRadix=function(t,n){this.fromInt(0),null==n&&(n=10);for(var r=this.chunkSize(n),i=Math.pow(n,r),a=!1,o=0,s=0,u=0;u<t.length;++u){var c=Roe(t,u);c<0?"-"==t.charAt(u)&&0==this.signum()&&(a=!0):(s=n*s+c,++o>=r&&(this.dMultiply(i),this.dAddOffset(s,0),o=0,s=0))}o>0&&(this.dMultiply(Math.pow(n,o)),this.dAddOffset(s,0)),a&&e.ZERO.subTo(this,this)},e.prototype.fromNumber=function(t,n,r){if("number"==typeof n)if(t<2)this.fromInt(1);else for(this.fromNumber(t,r),this.testBit(t-1)||this.bitwiseTo(e.ONE.shiftLeft(t-1),toe,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(n);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(e.ONE.shiftLeft(t-1),this);else{var i=[],a=7&t;i.length=1+(t>>3),n.nextBytes(i),a>0?i[0]&=(1<<a)-1:i[0]=0,this.fromString(i,256)}},e.prototype.bitwiseTo=function(e,t,n){var r,i,a=Math.min(e.t,this.t);for(r=0;r<a;++r)n[r]=t(this[r],e[r]);if(e.t<this.t){for(i=e.s&this.DM,r=a;r<this.t;++r)n[r]=t(this[r],i);n.t=this.t}else{for(i=this.s&this.DM,r=a;r<e.t;++r)n[r]=t(i,e[r]);n.t=e.t}n.s=t(this.s,e.s),n.clamp()},e.prototype.changeBit=function(t,n){var r=e.ONE.shiftLeft(t);return this.bitwiseTo(r,n,r),r},e.prototype.addTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]+e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r+=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r+=e[n],t[n++]=r&this.DM,r>>=this.DB;r+=e.s}t.s=r<0?-1:0,r>0?t[n++]=r:r<-1&&(t[n++]=this.DV+r),t.t=n,t.clamp()},e.prototype.dMultiply=function(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},e.prototype.dAddOffset=function(e,t){if(0!=e){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}},e.prototype.multiplyLowerTo=function(e,t,n){var r=Math.min(this.t+e.t,t);for(n.s=0,n.t=r;r>0;)n[--r]=0;for(var i=n.t-this.t;r<i;++r)n[r+this.t]=this.am(0,e[r],n,r,0,this.t);for(i=Math.min(e.t,t);r<i;++r)this.am(0,e[r],n,r,0,t-r);n.clamp()},e.prototype.multiplyUpperTo=function(e,t,n){--t;var r=n.t=this.t+e.t-t;for(n.s=0;--r>=0;)n[r]=0;for(r=Math.max(t-this.t,0);r<e.t;++r)n[this.t+r-t]=this.am(t-r,e[r],n,0,0,this.t+r-t);n.clamp(),n.drShiftTo(1,n)},e.prototype.modInt=function(e){if(e<=0)return 0;var t=this.DV%e,n=this.s<0?e-1:0;if(this.t>0)if(0==t)n=this[0]%e;else for(var r=this.t-1;r>=0;--r)n=(t*n+this[r])%e;return n},e.prototype.millerRabin=function(t){var n=this.subtract(e.ONE),r=n.getLowestSetBit();if(r<=0)return!1;var i=n.shiftRight(r);(t=t+1>>1)>Aoe.length&&(t=Aoe.length);for(var a=Toe(),o=0;o<t;++o){a.fromInt(Aoe[Math.floor(Math.random()*Aoe.length)]);var s=a.modPow(i,this);if(0!=s.compareTo(e.ONE)&&0!=s.compareTo(n)){for(var u=1;u++<r&&0!=s.compareTo(n);)if(0==(s=s.modPowInt(2,this)).compareTo(e.ONE))return!1;if(0!=s.compareTo(n))return!1}}return!0},e.prototype.square=function(){var e=Toe();return this.squareTo(e),e},e.prototype.gcda=function(e,t){var n=this.s<0?this.negate():this.clone(),r=e.s<0?e.negate():e.clone();if(n.compareTo(r)<0){var i=n;n=r,r=i}var a=n.getLowestSetBit(),o=r.getLowestSetBit();if(o<0)t(n);else{a<o&&(o=a),o>0&&(n.rShiftTo(o,n),r.rShiftTo(o,r));var s=function(){(a=n.getLowestSetBit())>0&&n.rShiftTo(a,n),(a=r.getLowestSetBit())>0&&r.rShiftTo(a,r),n.compareTo(r)>=0?(n.subTo(r,n),n.rShiftTo(1,n)):(r.subTo(n,r),r.rShiftTo(1,r)),n.signum()>0?setTimeout(s,0):(o>0&&r.lShiftTo(o,r),setTimeout((function(){t(r)}),0))};setTimeout(s,10)}},e.prototype.fromNumberAsync=function(t,n,r,i){if("number"==typeof n)if(t<2)this.fromInt(1);else{this.fromNumber(t,r),this.testBit(t-1)||this.bitwiseTo(e.ONE.shiftLeft(t-1),toe,this),this.isEven()&&this.dAddOffset(1,0);var a=this,o=function(){a.dAddOffset(2,0),a.bitLength()>t&&a.subTo(e.ONE.shiftLeft(t-1),a),a.isProbablePrime(n)?setTimeout((function(){i()}),0):setTimeout(o,0)};setTimeout(o,0)}else{var s=[],u=7&t;s.length=1+(t>>3),n.nextBytes(s),u>0?s[0]&=(1<<u)-1:s[0]=0,this.fromString(s,256)}},e}(),Coe=function(){function e(){}return e.prototype.convert=function(e){return e},e.prototype.revert=function(e){return e},e.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n)},e.prototype.sqrTo=function(e,t){e.squareTo(t)},e}(),_oe=function(){function e(e){this.m=e}return e.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},e.prototype.revert=function(e){return e},e.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},e.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},e.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},e}(),xoe=function(){function e(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}return e.prototype.convert=function(e){var t=Toe();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(koe.ZERO)>0&&this.m.subTo(t,t),t},e.prototype.revert=function(e){var t=Toe();return e.copyTo(t),this.reduce(t),t},e.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],r=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[n=t+this.m.t]+=this.m.am(0,r,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},e.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},e.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},e}(),Soe=function(){function e(e){this.m=e,this.r2=Toe(),this.q3=Toe(),koe.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e)}return e.prototype.convert=function(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=Toe();return e.copyTo(t),this.reduce(t),t},e.prototype.revert=function(e){return e},e.prototype.reduce=function(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)},e.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},e.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},e}();function Toe(){return new koe(null)}function Foe(e,t){return new koe(e,t)}var Ooe="undefined"!=typeof navigator;Ooe&&"Microsoft Internet Explorer"==navigator.appName?(koe.prototype.am=function(e,t,n,r,i,a){for(var o=32767&t,s=t>>15;--a>=0;){var u=32767&this[e],c=this[e++]>>15,l=s*u+c*o;i=((u=o*u+((32767&l)<<15)+n[r]+(1073741823&i))>>>30)+(l>>>15)+s*c+(i>>>30),n[r++]=1073741823&u}return i},yoe=30):Ooe&&"Netscape"!=navigator.appName?(koe.prototype.am=function(e,t,n,r,i,a){for(;--a>=0;){var o=t*this[e++]+n[r]+i;i=Math.floor(o/67108864),n[r++]=67108863&o}return i},yoe=26):(koe.prototype.am=function(e,t,n,r,i,a){for(var o=16383&t,s=t>>14;--a>=0;){var u=16383&this[e],c=this[e++]>>14,l=s*u+c*o;i=((u=o*u+((16383&l)<<14)+n[r]+i)>>28)+(l>>14)+s*c,n[r++]=268435455&u}return i},yoe=28),koe.prototype.DB=yoe,koe.prototype.DM=(1<<yoe)-1,koe.prototype.DV=1<<yoe;koe.prototype.FV=Math.pow(2,52),koe.prototype.F1=52-yoe,koe.prototype.F2=2*yoe-52;var Poe,Ioe,Boe=[];for(Poe="0".charCodeAt(0),Ioe=0;Ioe<=9;++Ioe)Boe[Poe++]=Ioe;for(Poe="a".charCodeAt(0),Ioe=10;Ioe<36;++Ioe)Boe[Poe++]=Ioe;for(Poe="A".charCodeAt(0),Ioe=10;Ioe<36;++Ioe)Boe[Poe++]=Ioe;function Roe(e,t){var n=Boe[e.charCodeAt(t)];return null==n?-1:n}function Noe(e){var t=Toe();return t.fromInt(e),t}function Moe(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}koe.ZERO=Noe(0),koe.ONE=Noe(1);__webpack_require__(61740);var Loe=function(){function e(){this.i=0,this.j=0,this.S=[]}return e.prototype.init=function(e){var t,n,r;for(t=0;t<256;++t)this.S[t]=t;for(n=0,t=0;t<256;++t)n=n+this.S[t]+e[t%e.length]&255,r=this.S[t],this.S[t]=this.S[n],this.S[n]=r;this.i=0,this.j=0},e.prototype.next=function(){var e;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,e=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=e,this.S[e+this.S[this.i]&255]},e}();var joe,Uoe,zoe=null;if(null==zoe){zoe=[],Uoe=0;var Voe=void 0;if("undefined"!=typeof window&&window.crypto&&window.crypto.getRandomValues){var qoe=new Uint32Array(256);for(window.crypto.getRandomValues(qoe),Voe=0;Voe<qoe.length;++Voe)zoe[Uoe++]=255&qoe[Voe]}var Hoe=0,Woe=function(e){if((Hoe=Hoe||0)>=256||Uoe>=256)window.removeEventListener?window.removeEventListener("mousemove",Woe,!1):window.detachEvent&&window.detachEvent("onmousemove",Woe);else try{var t=e.x+e.y;zoe[Uoe++]=255&t,Hoe+=1}catch(e){}};"undefined"!=typeof window&&(window.addEventListener?window.addEventListener("mousemove",Woe,!1):window.attachEvent&&window.attachEvent("onmousemove",Woe))}function Koe(){if(null==joe){for(joe=new Loe;Uoe<256;){var e=Math.floor(65536*Math.random());zoe[Uoe++]=255&e}for(joe.init(zoe),Uoe=0;Uoe<zoe.length;++Uoe)zoe[Uoe]=0;Uoe=0}return joe.next()}var $oe=function(){function e(){}return e.prototype.nextBytes=function(e){for(var t=0;t<e.length;++t)e[t]=Koe()},e}();var Goe=function(){function e(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}return e.prototype.doPublic=function(e){return e.modPowInt(this.e,this.n)},e.prototype.doPrivate=function(e){if(null==this.p||null==this.q)return e.modPow(this.d,this.n);for(var t=e.mod(this.p).modPow(this.dmp1,this.p),n=e.mod(this.q).modPow(this.dmq1,this.q);t.compareTo(n)<0;)t=t.add(this.p);return t.subtract(n).multiply(this.coeff).mod(this.p).multiply(this.q).add(n)},e.prototype.setPublic=function(e,t){null!=e&&null!=t&&e.length>0&&t.length>0?(this.n=Foe(e,16),this.e=parseInt(t,16)):console.error("Invalid RSA public key")},e.prototype.encrypt=function(e){var t=this.n.bitLength()+7>>3,n=function(e,t){if(t<e.length+11)return console.error("Message too long for RSA"),null;for(var n=[],r=e.length-1;r>=0&&t>0;){var i=e.charCodeAt(r--);i<128?n[--t]=i:i>127&&i<2048?(n[--t]=63&i|128,n[--t]=i>>6|192):(n[--t]=63&i|128,n[--t]=i>>6&63|128,n[--t]=i>>12|224)}n[--t]=0;for(var a=new $oe,o=[];t>2;){for(o[0]=0;0==o[0];)a.nextBytes(o);n[--t]=o[0]}return n[--t]=2,n[--t]=0,new koe(n)}(e,t);if(null==n)return null;var r=this.doPublic(n);if(null==r)return null;for(var i=r.toString(16),a=i.length,o=0;o<2*t-a;o++)i="0"+i;return i},e.prototype.setPrivate=function(e,t,n){null!=e&&null!=t&&e.length>0&&t.length>0?(this.n=Foe(e,16),this.e=parseInt(t,16),this.d=Foe(n,16)):console.error("Invalid RSA private key")},e.prototype.setPrivateEx=function(e,t,n,r,i,a,o,s){null!=e&&null!=t&&e.length>0&&t.length>0?(this.n=Foe(e,16),this.e=parseInt(t,16),this.d=Foe(n,16),this.p=Foe(r,16),this.q=Foe(i,16),this.dmp1=Foe(a,16),this.dmq1=Foe(o,16),this.coeff=Foe(s,16)):console.error("Invalid RSA private key")},e.prototype.generate=function(e,t){var n=new $oe,r=e>>1;this.e=parseInt(t,16);for(var i=new koe(t,16);;){for(;this.p=new koe(e-r,1,n),0!=this.p.subtract(koe.ONE).gcd(i).compareTo(koe.ONE)||!this.p.isProbablePrime(10););for(;this.q=new koe(r,1,n),0!=this.q.subtract(koe.ONE).gcd(i).compareTo(koe.ONE)||!this.q.isProbablePrime(10););if(this.p.compareTo(this.q)<=0){var a=this.p;this.p=this.q,this.q=a}var o=this.p.subtract(koe.ONE),s=this.q.subtract(koe.ONE),u=o.multiply(s);if(0==u.gcd(i).compareTo(koe.ONE)){this.n=this.p.multiply(this.q),this.d=i.modInverse(u),this.dmp1=this.d.mod(o),this.dmq1=this.d.mod(s),this.coeff=this.q.modInverse(this.p);break}}},e.prototype.decrypt=function(e){var t=Foe(e,16),n=this.doPrivate(t);return null==n?null:function(e,t){var n=e.toByteArray(),r=0;for(;r<n.length&&0==n[r];)++r;if(n.length-r!=t-1||2!=n[r])return null;++r;for(;0!=n[r];)if(++r>=n.length)return null;var i="";for(;++r<n.length;){var a=255&n[r];a<128?i+=String.fromCharCode(a):a>191&&a<224?(i+=String.fromCharCode((31&a)<<6|63&n[r+1]),++r):(i+=String.fromCharCode((15&a)<<12|(63&n[r+1])<<6|63&n[r+2]),r+=2)}return i}(n,this.n.bitLength()+7>>3)},e.prototype.generateAsync=function(e,t,n){var r=new $oe,i=e>>1;this.e=parseInt(t,16);var a=new koe(t,16),o=this,s=function(){var t=function(){if(o.p.compareTo(o.q)<=0){var e=o.p;o.p=o.q,o.q=e}var t=o.p.subtract(koe.ONE),r=o.q.subtract(koe.ONE),i=t.multiply(r);0==i.gcd(a).compareTo(koe.ONE)?(o.n=o.p.multiply(o.q),o.d=a.modInverse(i),o.dmp1=o.d.mod(t),o.dmq1=o.d.mod(r),o.coeff=o.q.modInverse(o.p),setTimeout((function(){n()}),0)):setTimeout(s,0)},u=function(){o.q=Toe(),o.q.fromNumberAsync(i,1,r,(function(){o.q.subtract(koe.ONE).gcda(a,(function(e){0==e.compareTo(koe.ONE)&&o.q.isProbablePrime(10)?setTimeout(t,0):setTimeout(u,0)}))}))},c=function(){o.p=Toe(),o.p.fromNumberAsync(e-i,1,r,(function(){o.p.subtract(koe.ONE).gcda(a,(function(e){0==e.compareTo(koe.ONE)&&o.p.isProbablePrime(10)?setTimeout(u,0):setTimeout(c,0)}))}))};setTimeout(c,0)};setTimeout(s,0)},e.prototype.sign=function(e,t,n){var r=function(e,t){if(t<e.length+22)return console.error("Message too long for RSA"),null;for(var n=t-e.length-6,r="",i=0;i<n;i+=2)r+="ff";return Foe("0001"+r+"00"+e,16)}((Qoe[n]||"")+t(e).toString(),this.n.bitLength()/4);if(null==r)return null;var i=this.doPrivate(r);if(null==i)return null;var a=i.toString(16);return 1&a.length?"0"+a:a},e.prototype.verify=function(e,t,n){var r=Foe(t,16),i=this.doPublic(r);return null==i?null:function(e){for(var t in Qoe)if(Qoe.hasOwnProperty(t)){var n=Qoe[t],r=n.length;if(e.substr(0,r)==n)return e.substr(r)}return e}(i.toString(16).replace(/^1f+00/,""))==n(e).toString()},e}();var Qoe={md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",ripemd160:"3021300906052b2403020105000414"};var Yoe={};Yoe.lang={extend:function(e,t,n){if(!t||!e)throw new Error("YAHOO.lang.extend failed, please check that all dependencies are included.");var r=function(){};if(r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e,e.superclass=t.prototype,t.prototype.constructor==Object.prototype.constructor&&(t.prototype.constructor=t),n){var i;for(i in n)e.prototype[i]=n[i];var a=function(){},o=["toString","valueOf"];try{/MSIE/.test(navigator.userAgent)&&(a=function(e,t){for(i=0;i<o.length;i+=1){var n=o[i],r=t[n];"function"==typeof r&&r!=Object.prototype[n]&&(e[n]=r)}})}catch(e){}a(e.prototype,n)}}};var Xoe={};void 0!==Xoe.asn1&&Xoe.asn1||(Xoe.asn1={}),Xoe.asn1.ASN1Util=new function(){this.integerToByteHex=function(e){var t=e.toString(16);return t.length%2==1&&(t="0"+t),t},this.bigIntToMinTwosComplementsHex=function(e){var t=e.toString(16);if("-"!=t.substr(0,1))t.length%2==1?t="0"+t:t.match(/^[0-7]/)||(t="00"+t);else{var n=t.substr(1).length;n%2==1?n+=1:t.match(/^[0-7]/)||(n+=2);for(var r="",i=0;i<n;i++)r+="f";t=new koe(r,16).xor(e).add(koe.ONE).toString(16).replace(/^-/,"")}return t},this.getPEMStringFromHex=function(e,t){return hextopem(e,t)},this.newObject=function(e){var t=Xoe.asn1,n=t.DERBoolean,r=t.DERInteger,i=t.DERBitString,a=t.DEROctetString,o=t.DERNull,s=t.DERObjectIdentifier,u=t.DEREnumerated,c=t.DERUTF8String,l=t.DERNumericString,d=t.DERPrintableString,p=t.DERTeletexString,f=t.DERIA5String,h=t.DERUTCTime,m=t.DERGeneralizedTime,v=t.DERSequence,g=t.DERSet,y=t.DERTaggedObject,b=t.ASN1Util.newObject,w=Object.keys(e);if(1!=w.length)throw"key of param shall be only one.";var D=w[0];if(-1==":bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:seq:set:tag:".indexOf(":"+D+":"))throw"undefined key: "+D;if("bool"==D)return new n(e[D]);if("int"==D)return new r(e[D]);if("bitstr"==D)return new i(e[D]);if("octstr"==D)return new a(e[D]);if("null"==D)return new o(e[D]);if("oid"==D)return new s(e[D]);if("enum"==D)return new u(e[D]);if("utf8str"==D)return new c(e[D]);if("numstr"==D)return new l(e[D]);if("prnstr"==D)return new d(e[D]);if("telstr"==D)return new p(e[D]);if("ia5str"==D)return new f(e[D]);if("utctime"==D)return new h(e[D]);if("gentime"==D)return new m(e[D]);if("seq"==D){for(var A=e[D],E=[],k=0;k<A.length;k++){var C=b(A[k]);E.push(C)}return new v({"array":E})}if("set"==D){for(A=e[D],E=[],k=0;k<A.length;k++){C=b(A[k]);E.push(C)}return new g({"array":E})}if("tag"==D){var _=e[D];if("[object Array]"===Object.prototype.toString.call(_)&&3==_.length){var x=b(_[2]);return new y({tag:_[0],explicit:_[1],obj:x})}var S={};if(void 0!==_.explicit&&(S.explicit=_.explicit),void 0!==_.tag&&(S.tag=_.tag),void 0===_.obj)throw"obj shall be specified for 'tag'.";return S.obj=b(_.obj),new y(S)}},this.jsonToASN1HEX=function(e){return this.newObject(e).getEncodedHex()}},Xoe.asn1.ASN1Util.oidHexToInt=function(e){for(var t="",n=parseInt(e.substr(0,2),16),r=(t=Math.floor(n/40)+"."+n%40,""),i=2;i<e.length;i+=2){var a=("00000000"+parseInt(e.substr(i,2),16).toString(2)).slice(-8);if(r+=a.substr(1,7),"0"==a.substr(0,1))t=t+"."+new koe(r,2).toString(10),r=""}return t},Xoe.asn1.ASN1Util.oidIntToHex=function(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t},n=function(e){var n="",r=new koe(e,10).toString(2),i=7-r.length%7;7==i&&(i=0);for(var a="",o=0;o<i;o++)a+="0";r=a+r;for(o=0;o<r.length-1;o+=7){var s=r.substr(o,7);o!=r.length-7&&(s="1"+s),n+=t(parseInt(s,2))}return n};if(!e.match(/^[0-9.]+$/))throw"malformed oid string: "+e;var r="",i=e.split("."),a=40*parseInt(i[0])+parseInt(i[1]);r+=t(a),i.splice(0,2);for(var o=0;o<i.length;o++)r+=n(i[o]);return r},Xoe.asn1.ASN1Object=function(){this.getLengthHexFromValue=function(){if(void 0===this.hV||null==this.hV)throw"this.hV is null or undefined.";if(this.hV.length%2==1)throw"value hex must be even length: n=0,v="+this.hV;var e=this.hV.length/2,t=e.toString(16);if(t.length%2==1&&(t="0"+t),e<128)return t;var n=t.length/2;if(n>15)throw"ASN.1 length too long to represent by 8x: n = "+e.toString(16);return(128+n).toString(16)+t},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""}},Xoe.asn1.DERAbstractString=function(e){Xoe.asn1.DERAbstractString.superclass.constructor.call(this);this.getString=function(){return this.s},this.setString=function(e){this.hTLV=null,this.isModified=!0,this.s=e,this.hV=stohex(this.s)},this.setStringHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e?this.setString(e):void 0!==e.str?this.setString(e.str):void 0!==e.hex&&this.setStringHex(e.hex))},Yoe.lang.extend(Xoe.asn1.DERAbstractString,Xoe.asn1.ASN1Object),Xoe.asn1.DERAbstractTime=function(e){Xoe.asn1.DERAbstractTime.superclass.constructor.call(this);this.localDateToUTC=function(e){return utc=e.getTime()+6e4*e.getTimezoneOffset(),new Date(utc)},this.formatDate=function(e,t,n){var r=this.zeroPadding,i=this.localDateToUTC(e),a=String(i.getFullYear());"utc"==t&&(a=a.substr(2,2));var o=a+r(String(i.getMonth()+1),2)+r(String(i.getDate()),2)+r(String(i.getHours()),2)+r(String(i.getMinutes()),2)+r(String(i.getSeconds()),2);if(!0===n){var s=i.getMilliseconds();if(0!=s){var u=r(String(s),3);o=o+"."+(u=u.replace(/[0]+$/,""))}}return o+"Z"},this.zeroPadding=function(e,t){return e.length>=t?e:new Array(t-e.length+1).join("0")+e},this.getString=function(){return this.s},this.setString=function(e){this.hTLV=null,this.isModified=!0,this.s=e,this.hV=stohex(e)},this.setByDateValue=function(e,t,n,r,i,a){var o=new Date(Date.UTC(e,t-1,n,r,i,a,0));this.setByDate(o)},this.getFreshValueHex=function(){return this.hV}},Yoe.lang.extend(Xoe.asn1.DERAbstractTime,Xoe.asn1.ASN1Object),Xoe.asn1.DERAbstractStructured=function(e){Xoe.asn1.DERAbstractString.superclass.constructor.call(this);this.setByASN1ObjectArray=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array=e},this.appendASN1Object=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array.push(e)},this.asn1Array=new Array,void 0!==e&&void 0!==e.array&&(this.asn1Array=e.array)},Yoe.lang.extend(Xoe.asn1.DERAbstractStructured,Xoe.asn1.ASN1Object),Xoe.asn1.DERBoolean=function(){Xoe.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV="0101ff"},Yoe.lang.extend(Xoe.asn1.DERBoolean,Xoe.asn1.ASN1Object),Xoe.asn1.DERInteger=function(e){Xoe.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=Xoe.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var t=new koe(String(e),10);this.setByBigInteger(t)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.bigint?this.setByBigInteger(e.bigint):void 0!==e.int?this.setByInteger(e.int):"number"==typeof e?this.setByInteger(e):void 0!==e.hex&&this.setValueHex(e.hex))},Yoe.lang.extend(Xoe.asn1.DERInteger,Xoe.asn1.ASN1Object),Xoe.asn1.DERBitString=function(e){if(void 0!==e&&void 0!==e.obj){var t=Xoe.asn1.ASN1Util.newObject(e.obj);e.hex="00"+t.getEncodedHex()}Xoe.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(e){this.hTLV=null,this.isModified=!0,this.hV=e},this.setUnusedBitsAndHexValue=function(e,t){if(e<0||7<e)throw"unused bits shall be from 0 to 7: u = "+e;var n="0"+e;this.hTLV=null,this.isModified=!0,this.hV=n+t},this.setByBinaryString=function(e){var t=8-(e=e.replace(/0+$/,"")).length%8;8==t&&(t=0);for(var n=0;n<=t;n++)e+="0";var r="";for(n=0;n<e.length-1;n+=8){var i=e.substr(n,8),a=parseInt(i,2).toString(16);1==a.length&&(a="0"+a),r+=a}this.hTLV=null,this.isModified=!0,this.hV="0"+t+r},this.setByBooleanArray=function(e){for(var t="",n=0;n<e.length;n++)1==e[n]?t+="1":t+="0";this.setByBinaryString(t)},this.newFalseArray=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=!1;return t},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e&&e.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(e):void 0!==e.hex?this.setHexValueIncludingUnusedBits(e.hex):void 0!==e.bin?this.setByBinaryString(e.bin):void 0!==e.array&&this.setByBooleanArray(e.array))},Yoe.lang.extend(Xoe.asn1.DERBitString,Xoe.asn1.ASN1Object),Xoe.asn1.DEROctetString=function(e){if(void 0!==e&&void 0!==e.obj){var t=Xoe.asn1.ASN1Util.newObject(e.obj);e.hex=t.getEncodedHex()}Xoe.asn1.DEROctetString.superclass.constructor.call(this,e),this.hT="04"},Yoe.lang.extend(Xoe.asn1.DEROctetString,Xoe.asn1.DERAbstractString),Xoe.asn1.DERNull=function(){Xoe.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},Yoe.lang.extend(Xoe.asn1.DERNull,Xoe.asn1.ASN1Object),Xoe.asn1.DERObjectIdentifier=function(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t},n=function(e){var n="",r=new koe(e,10).toString(2),i=7-r.length%7;7==i&&(i=0);for(var a="",o=0;o<i;o++)a+="0";r=a+r;for(o=0;o<r.length-1;o+=7){var s=r.substr(o,7);o!=r.length-7&&(s="1"+s),n+=t(parseInt(s,2))}return n};Xoe.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.setValueOidString=function(e){if(!e.match(/^[0-9.]+$/))throw"malformed oid string: "+e;var r="",i=e.split("."),a=40*parseInt(i[0])+parseInt(i[1]);r+=t(a),i.splice(0,2);for(var o=0;o<i.length;o++)r+=n(i[o]);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=r},this.setValueName=function(e){var t=Xoe.asn1.x509.OID.name2oid(e);if(""===t)throw"DERObjectIdentifier oidName undefined: "+e;this.setValueOidString(t)},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e?e.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(e):this.setValueName(e):void 0!==e.oid?this.setValueOidString(e.oid):void 0!==e.hex?this.setValueHex(e.hex):void 0!==e.name&&this.setValueName(e.name))},Yoe.lang.extend(Xoe.asn1.DERObjectIdentifier,Xoe.asn1.ASN1Object),Xoe.asn1.DEREnumerated=function(e){Xoe.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=Xoe.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var t=new koe(String(e),10);this.setByBigInteger(t)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.int?this.setByInteger(e.int):"number"==typeof e?this.setByInteger(e):void 0!==e.hex&&this.setValueHex(e.hex))},Yoe.lang.extend(Xoe.asn1.DEREnumerated,Xoe.asn1.ASN1Object),Xoe.asn1.DERUTF8String=function(e){Xoe.asn1.DERUTF8String.superclass.constructor.call(this,e),this.hT="0c"},Yoe.lang.extend(Xoe.asn1.DERUTF8String,Xoe.asn1.DERAbstractString),Xoe.asn1.DERNumericString=function(e){Xoe.asn1.DERNumericString.superclass.constructor.call(this,e),this.hT="12"},Yoe.lang.extend(Xoe.asn1.DERNumericString,Xoe.asn1.DERAbstractString),Xoe.asn1.DERPrintableString=function(e){Xoe.asn1.DERPrintableString.superclass.constructor.call(this,e),this.hT="13"},Yoe.lang.extend(Xoe.asn1.DERPrintableString,Xoe.asn1.DERAbstractString),Xoe.asn1.DERTeletexString=function(e){Xoe.asn1.DERTeletexString.superclass.constructor.call(this,e),this.hT="14"},Yoe.lang.extend(Xoe.asn1.DERTeletexString,Xoe.asn1.DERAbstractString),Xoe.asn1.DERIA5String=function(e){Xoe.asn1.DERIA5String.superclass.constructor.call(this,e),this.hT="16"},Yoe.lang.extend(Xoe.asn1.DERIA5String,Xoe.asn1.DERAbstractString),Xoe.asn1.DERUTCTime=function(e){Xoe.asn1.DERUTCTime.superclass.constructor.call(this,e),this.hT="17",this.setByDate=function(e){this.hTLV=null,this.isModified=!0,this.date=e,this.s=this.formatDate(this.date,"utc"),this.hV=stohex(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=stohex(this.s)),this.hV},void 0!==e&&(void 0!==e.str?this.setString(e.str):"string"==typeof e&&e.match(/^[0-9]{12}Z$/)?this.setString(e):void 0!==e.hex?this.setStringHex(e.hex):void 0!==e.date&&this.setByDate(e.date))},Yoe.lang.extend(Xoe.asn1.DERUTCTime,Xoe.asn1.DERAbstractTime),Xoe.asn1.DERGeneralizedTime=function(e){Xoe.asn1.DERGeneralizedTime.superclass.constructor.call(this,e),this.hT="18",this.withMillis=!1,this.setByDate=function(e){this.hTLV=null,this.isModified=!0,this.date=e,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=stohex(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=stohex(this.s)),this.hV},void 0!==e&&(void 0!==e.str?this.setString(e.str):"string"==typeof e&&e.match(/^[0-9]{14}Z$/)?this.setString(e):void 0!==e.hex?this.setStringHex(e.hex):void 0!==e.date&&this.setByDate(e.date),!0===e.millis&&(this.withMillis=!0))},Yoe.lang.extend(Xoe.asn1.DERGeneralizedTime,Xoe.asn1.DERAbstractTime),Xoe.asn1.DERSequence=function(e){Xoe.asn1.DERSequence.superclass.constructor.call(this,e),this.hT="30",this.getFreshValueHex=function(){for(var e="",t=0;t<this.asn1Array.length;t++){e+=this.asn1Array[t].getEncodedHex()}return this.hV=e,this.hV}},Yoe.lang.extend(Xoe.asn1.DERSequence,Xoe.asn1.DERAbstractStructured),Xoe.asn1.DERSet=function(e){Xoe.asn1.DERSet.superclass.constructor.call(this,e),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var e=new Array,t=0;t<this.asn1Array.length;t++){var n=this.asn1Array[t];e.push(n.getEncodedHex())}return 1==this.sortFlag&&e.sort(),this.hV=e.join(""),this.hV},void 0!==e&&void 0!==e.sortflag&&0==e.sortflag&&(this.sortFlag=!1)},Yoe.lang.extend(Xoe.asn1.DERSet,Xoe.asn1.DERAbstractStructured),Xoe.asn1.DERTaggedObject=function(e){Xoe.asn1.DERTaggedObject.superclass.constructor.call(this),this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(e,t,n){this.hT=t,this.isExplicit=e,this.asn1Object=n,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=n.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,t),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.tag&&(this.hT=e.tag),void 0!==e.explicit&&(this.isExplicit=e.explicit),void 0!==e.obj&&(this.asn1Object=e.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},Yoe.lang.extend(Xoe.asn1.DERTaggedObject,Xoe.asn1.ASN1Object);var Zoe,Joe,ese=(Zoe=function(e,t){return Zoe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Zoe(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Zoe(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),tse=function(e){function t(n){var r=e.call(this)||this;return n&&("string"==typeof n?r.parseKey(n):(t.hasPrivateKeyProperty(n)||t.hasPublicKeyProperty(n))&&r.parsePropertiesFrom(n)),r}return ese(t,e),t.prototype.parseKey=function(e){try{var t=0,n=0,r=/^\s*(?:[0-9A-Fa-f][0-9A-Fa-f]\s*)+$/.test(e)?doe(e):poe.unarmor(e),i=woe.decode(r);if(3===i.sub.length&&(i=i.sub[2].sub[0]),9===i.sub.length){t=i.sub[1].getHexStringValue(),this.n=Foe(t,16),n=i.sub[2].getHexStringValue(),this.e=parseInt(n,16);var a=i.sub[3].getHexStringValue();this.d=Foe(a,16);var o=i.sub[4].getHexStringValue();this.p=Foe(o,16);var s=i.sub[5].getHexStringValue();this.q=Foe(s,16);var u=i.sub[6].getHexStringValue();this.dmp1=Foe(u,16);var c=i.sub[7].getHexStringValue();this.dmq1=Foe(c,16);var l=i.sub[8].getHexStringValue();this.coeff=Foe(l,16)}else{if(2!==i.sub.length)return!1;if(i.sub[0].sub){var d=i.sub[1].sub[0];t=d.sub[0].getHexStringValue(),this.n=Foe(t,16),n=d.sub[1].getHexStringValue(),this.e=parseInt(n,16)}else t=i.sub[0].getHexStringValue(),this.n=Foe(t,16),n=i.sub[1].getHexStringValue(),this.e=parseInt(n,16)}return!0}catch(e){return!1}},t.prototype.getPrivateBaseKey=function(){var e={array:[new Xoe.asn1.DERInteger({"int":0}),new Xoe.asn1.DERInteger({bigint:this.n}),new Xoe.asn1.DERInteger({"int":this.e}),new Xoe.asn1.DERInteger({bigint:this.d}),new Xoe.asn1.DERInteger({bigint:this.p}),new Xoe.asn1.DERInteger({bigint:this.q}),new Xoe.asn1.DERInteger({bigint:this.dmp1}),new Xoe.asn1.DERInteger({bigint:this.dmq1}),new Xoe.asn1.DERInteger({bigint:this.coeff})]};return new Xoe.asn1.DERSequence(e).getEncodedHex()},t.prototype.getPrivateBaseKeyB64=function(){return soe(this.getPrivateBaseKey())},t.prototype.getPublicBaseKey=function(){var e=new Xoe.asn1.DERSequence({array:[new Xoe.asn1.DERObjectIdentifier({oid:"1.2.840.113549.1.1.1"}),new Xoe.asn1.DERNull]}),t=new Xoe.asn1.DERSequence({array:[new Xoe.asn1.DERInteger({bigint:this.n}),new Xoe.asn1.DERInteger({"int":this.e})]}),n=new Xoe.asn1.DERBitString({hex:"00"+t.getEncodedHex()});return new Xoe.asn1.DERSequence({array:[e,n]}).getEncodedHex()},t.prototype.getPublicBaseKeyB64=function(){return soe(this.getPublicBaseKey())},t.wordwrap=function(e,t){if(!e)return e;var n="(.{1,"+(t=t||64)+"})( +|$\n?)|(.{1,"+t+"})";return e.match(RegExp(n,"g")).join("\n")},t.prototype.getPrivateKey=function(){var e="-----BEGIN RSA PRIVATE KEY-----\n";return e+=t.wordwrap(this.getPrivateBaseKeyB64())+"\n",e+="-----END RSA PRIVATE KEY-----"},t.prototype.getPublicKey=function(){var e="-----BEGIN PUBLIC KEY-----\n";return e+=t.wordwrap(this.getPublicBaseKeyB64())+"\n",e+="-----END PUBLIC KEY-----"},t.hasPublicKeyProperty=function(e){return(e=e||{}).hasOwnProperty("n")&&e.hasOwnProperty("e")},t.hasPrivateKeyProperty=function(e){return(e=e||{}).hasOwnProperty("n")&&e.hasOwnProperty("e")&&e.hasOwnProperty("d")&&e.hasOwnProperty("p")&&e.hasOwnProperty("q")&&e.hasOwnProperty("dmp1")&&e.hasOwnProperty("dmq1")&&e.hasOwnProperty("coeff")},t.prototype.parsePropertiesFrom=function(e){this.n=e.n,this.e=e.e,e.hasOwnProperty("d")&&(this.d=e.d,this.p=e.p,this.q=e.q,this.dmp1=e.dmp1,this.dmq1=e.dmq1,this.coeff=e.coeff)},t}(Goe),nse=__webpack_require__(8498),rse=void 0!==nse?null===(Joe=nse.env)||void 0===Joe?void 0:Joe.npm_package_version:void 0,ise=function(){function e(e){void 0===e&&(e={}),e=e||{},this.default_key_size=e.default_key_size?parseInt(e.default_key_size,10):1024,this.default_public_exponent=e.default_public_exponent||"010001",this.log=e.log||!1,this.key=null}return e.prototype.setKey=function(e){this.log&&this.key&&console.warn("A key was already set, overriding existing."),this.key=new tse(e)},e.prototype.setPrivateKey=function(e){this.setKey(e)},e.prototype.setPublicKey=function(e){this.setKey(e)},e.prototype.decrypt=function(e){try{return this.getKey().decrypt(uoe(e))}catch(e){return!1}},e.prototype.encrypt=function(e){try{return soe(this.getKey().encrypt(e))}catch(e){return!1}},e.prototype.sign=function(e,t,n){try{return soe(this.getKey().sign(e,t,n))}catch(e){return!1}},e.prototype.verify=function(e,t,n){try{return this.getKey().verify(e,uoe(t),n)}catch(e){return!1}},e.prototype.getKey=function(e){if(!this.key){if(this.key=new tse,e&&"[object Function]"==={}.toString.call(e))return void this.key.generateAsync(this.default_key_size,this.default_public_exponent,e);this.key.generate(this.default_key_size,this.default_public_exponent)}return this.key},e.prototype.getPrivateKey=function(){return this.getKey().getPrivateKey()},e.prototype.getPrivateKeyB64=function(){return this.getKey().getPrivateBaseKeyB64()},e.prototype.getPublicKey=function(){return this.getKey().getPublicKey()},e.prototype.getPublicKeyB64=function(){return this.getKey().getPublicBaseKeyB64()},e.version=rse,e}();const ase=ise;new WeakMap;var ose=new WeakMap,sse=new Map,use=rl;function cse(e,t){return ul(ose,e,(function(){return{open:function(t){return use=use.then((0,o.A)(s.mark((function n(){var r;return s.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ul(sse,t,(function(){return e.createConnection(t,!1,"no-encryption",1)}));case 2:return r=n.sent,n.next=5,r.open();case 5:return n.abrupt("return",r);case 6:case"end":return n.stop()}}),n)}))))},run:function(e,t){return(0,o.A)(s.mark((function n(){return s.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.run(t.query,t.params,!1);case 2:case"end":return n.stop()}}),n)})))()},all:function(e,t){return(0,o.A)(s.mark((function n(){var r;return s.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.query(t.query,t.params);case 2:return r=n.sent,n.abrupt("return",Xc(r.values));case 4:case"end":return n.stop()}}),n)})))()},setPragma:function(e,t,n){return e.execute("PRAGMA "+t+" = "+n,!1)},close:function(e){return use=use.then((function(){return e.close()}))},journalMode:"android"===t.getPlatform()?"":"WAL"}}))}const lse="function"==typeof Buffer,dse="function"==typeof TextDecoder?new TextDecoder:void 0,pse="function"==typeof TextEncoder?new TextEncoder:void 0,fse=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),hse=(e=>{let t={};return e.forEach(((e,n)=>t[e]=n)),t})(fse),mse=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,vse=String.fromCharCode.bind(String),gse="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):e=>new Uint8Array(Array.prototype.slice.call(e,0)),yse=e=>e.replace(/=/g,"").replace(/[+\/]/g,(e=>"+"==e?"-":"_")),bse=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),wse=e=>{let t,n,r,i,a="";const o=e.length%3;for(let o=0;o<e.length;){if((n=e.charCodeAt(o++))>255||(r=e.charCodeAt(o++))>255||(i=e.charCodeAt(o++))>255)throw new TypeError("invalid character found");t=n<<16|r<<8|i,a+=fse[t>>18&63]+fse[t>>12&63]+fse[t>>6&63]+fse[63&t]}return o?a.slice(0,o-3)+"===".substring(o):a},Dse="function"==typeof btoa?e=>btoa(e):lse?e=>Buffer.from(e,"binary").toString("base64"):wse,Ase=lse?e=>Buffer.from(e).toString("base64"):e=>{let t=[];for(let n=0,r=e.length;n<r;n+=4096)t.push(vse.apply(null,e.subarray(n,n+4096)));return Dse(t.join(""))},Ese=e=>{if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?vse(192|t>>>6)+vse(128|63&t):vse(224|t>>>12&15)+vse(128|t>>>6&63)+vse(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return vse(240|t>>>18&7)+vse(128|t>>>12&63)+vse(128|t>>>6&63)+vse(128|63&t)},kse=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,Cse=e=>e.replace(kse,Ese),_se=lse?e=>Buffer.from(e,"utf8").toString("base64"):pse?e=>Ase(pse.encode(e)):e=>Dse(Cse(e)),xse=(e,t=!1)=>t?yse(_se(e)):_se(e),Sse=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,Tse=e=>{switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return vse(55296+(t>>>10))+vse(56320+(1023&t));case 3:return vse((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return vse((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},Fse=e=>e.replace(Sse,Tse),Ose=e=>{if(e=e.replace(/\s+/g,""),!mse.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(3&e.length));let t,n,r,i="";for(let a=0;a<e.length;)t=hse[e.charAt(a++)]<<18|hse[e.charAt(a++)]<<12|(n=hse[e.charAt(a++)])<<6|(r=hse[e.charAt(a++)]),i+=64===n?vse(t>>16&255):64===r?vse(t>>16&255,t>>8&255):vse(t>>16&255,t>>8&255,255&t);return i},Pse="function"==typeof atob?e=>atob(bse(e)):lse?e=>Buffer.from(e,"base64").toString("binary"):Ose,Ise=lse?e=>gse(Buffer.from(e,"base64")):e=>gse(Pse(e).split("").map((e=>e.charCodeAt(0)))),Bse=lse?e=>Buffer.from(e,"base64").toString("utf8"):dse?e=>dse.decode(Ise(e)):e=>Fse(Pse(e)),Rse=e=>bse(e.replace(/[-_]/g,(e=>"-"==e?"+":"/"))),Nse=e=>Bse(Rse(e));var Mse="16.9.0";var Lse=["$or","$and"];function jse(e,t,n,r){var i=Du(e.primaryKey),a=Object.entries(t).map((function(t){var a=(0,_.A)(t,2),o=a[0],s=a[1];if(!o.startsWith("$"))return function(e){return"object"==(0,C.A)(e)&&e.constructor==Object}(s)?0===Object.keys(s).length?"JSON_QUOTE("+Qse(i,o)+") = '{}'":jse(e,s,n,o):(n.push(s),Qse(i,o)+"="+nue);if(Lse.includes(o)){var u=" "+o.substring(1).toUpperCase()+" ",c=s.map((function(t){return jse(e,t,n,r)}));return c.length>1?"("+c.join(u)+")":c.join(u)}if(!r)throw new Error("cannot have selector operator on the top level "+o);switch(o){case"$eq":return null===s?Qse(i,r)+" IS NULL":(n.push(s),Qse(i,r)+"="+nue);case"$ne":if(null===s)return Qse(i,r)+" IS NOT NULL";n.push(s);var l=Qse(i,r)+"!="+nue;return null===s?l:"("+l+" OR ("+Qse(i,r)+" IS NULL))";case"$gt":return n.push(s),Qse(i,r)+">"+nue;case"$gte":return n.push(s),Qse(i,r)+">="+nue;case"$lt":return n.push(s),Qse(i,r)+"<"+nue;case"$lte":return n.push(s),Qse(i,r)+"<="+nue;case"$exists":return s?(n.push("rand-"+ou(10)),Qse(i,r)+"!="+nue):Qse(i,r)+" IS NULL";case"$in":s.forEach((function(e){return n.push(e)}));var d=wu(e,r);return d&&"array"===d.type?"EXISTS (SELECT 1 FROM json_each("+Qse(i,r)+") WHERE value IN ("+new Array(s.length).fill(nue).join(",")+"))":Qse(i,r)+" IN ("+new Array(s.length).fill(nue).join(",")+")";case"$nin":return s.forEach((function(e){return n.push(e)})),Qse(i,r)+" NOT IN ("+new Array(s.length).fill(nue).join(",")+")";default:var p=new Error("operator "+o+" not implemented");throw p.operator=o,p.isNonImplementedOperatorError=!0,p}}));return"("+(a=a.filter((function(e){return"()"!==e}))).join(" AND ")+")"}var Use=new Map,zse="sqlite";function Vse(e,t){return e+"||"+t}function qse(e,t){var n=Use.get(t);if(n){if(n.sqliteBasics!==e&&":memory:"!==t)throw new Error("opened db with different creator method "+t+" "+n.sqliteBasics.debugId+" "+e.debugId);n.openConnections=n.openConnections+1}else n={database:e.open(t).then(function(){var t=(0,o.A)(s.mark((function t(n){return s.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=e.journalMode,!t.t0){t.next=4;break}return t.next=4,e.setPragma(n,"journal_mode",e.journalMode);case 4:return t.next=6,e.setPragma(n,"synchronous","normal").catch((function(){}));case 6:return t.abrupt("return",n);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),sqliteBasics:e,openConnections:1},Use.set(t,n);return n.database}function Hse(e,t){var n=Use.get(e);if(n&&(n.openConnections=n.openConnections-1,0===n.openConnections))return Use.delete(e),n.database.then((function(e){return t.close(e)}))}var Wse="_";function Kse(e,t,n,r){var i=r.map((function(e){return e.replace(/\./g,"_dot_")}));return"rxdb"+[e,t,n.version].join(Wse)+Wse+i.join(Wse)+"_idx"}function $se(e){return e?Array.isArray(e)?e[4]?e[4]:e[0]:e.data:e}function Gse(e,t,n){var r=n.document;return{query:'\n    UPDATE "'+e+'"\n    SET \n        revision = ?,\n        deleted = ?,\n        lastWriteTime = ?,\n        data = json(?)\n    WHERE\n        id = ?\n    ',params:[r._rev,r._deleted?1:0,r._meta.lwt,JSON.stringify(r),r[t]],context:{method:"getSQLiteUpdateSQL",data:{tableName:e,primaryPath:t}}}}function Qse(e,t){return e===t?"id":"_meta.lwt"===t?"lastWriteTime":"JSON_EXTRACT(data, '$."+t+"')"}function Yse(e,t,n){var r=n?"":" AND deleted = 0";return{query:'\n        SELECT * FROM "'+e+'"\n        WHERE id IN ('+new Array(t.length).fill(nue).join(", ")+")\n        "+r+";\n    ",params:t,context:{method:"getSQLiteFindByIdSQL",data:{tableName:e,docIds:t}}}}var Xse=new WeakMap;function Zse(e,t,n,r){var i=Xse.get(e);return i||(i=rl),i=i.then((0,o.A)(s.mark((function i(){var a;return s.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Jse(e,t);case 2:return i.next=4,n();case 4:return a=i.sent,i.next=7,tue(e,t,a,r);case 7:case"end":return i.stop()}}),i)})))),Xse.set(e,i),i}function Jse(e,t){return eue.apply(this,arguments)}function eue(){return eue=(0,o.A)(s.mark((function e(t,n){var r,i;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=!1;case 1:if(r){e.next=18;break}return e.prev=2,e.next=5,n.run(t,{query:"BEGIN;",params:[],context:{method:"openSqliteTransaction",data:""}});case 5:r=!0,e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(2),console.log("open transaction error (will retry):"),a=e.t0,i={name:a.name,message:a.message,rxdb:a.rxdb,parameters:a.parameters,extensions:a.extensions,code:a.code,url:a.url,stack:a.stack?a.stack.replace(/\n/g," \n "):void 0},console.log(i),console.dir(e.t0),!e.t0.message||!e.t0.message.includes("Database is closed")&&!e.t0.message.includes("API misuse")){e.next=14;break}throw e.t0;case 14:return e.next=16,Jc(0);case 16:e.next=1;break;case 18:case"end":return e.stop()}var a}),e,null,[[2,8]])}))),eue.apply(this,arguments)}function tue(e,t,n,r){return t.run(e,{query:n+";",params:[],context:{method:"finishSqliteTransaction",data:n}}).catch((function(e){throw r&&(console.error("cannot close transaction (mode: "+n+")"),console.log(JSON.stringify(r,null,4))),e}))}var nue="?";function rue(e){if(e.params.length!==e.query.split(nue).length-1)throw new Error("ensureParamsCountIsCorrect() wrong param count: "+JSON.stringify(e))}function iue(e,t){var n,r=Du(e.schema.primaryKey),i=t.limit?"LIMIT "+t.limit:"LIMIT -1",a=t.skip?"OFFSET "+t.skip:"",o=[],s="",u="";t.index&&(u='INDEXED BY "'+Kse(e.databaseName,e.collectionName,e.schema,t.index)+'"');var c=function(e,t){return"ORDER BY "+t.map((function(t){var n=(0,_.A)(Object.entries(t)[0],2),r=n[0],i=n[1];return Qse(e,r)+" "+i.toUpperCase()})).join(", ")}(r,t.sort);try{var l=jse(e.schema,t.selector,o);s=u+" "+(l="()"!==l?" WHERE "+l+" ":"")+c+" "+i+" "+a+" ;"}catch(e){if(!e.isNonImplementedOperatorError)throw e;o=[],n=e.operator,s=u+" "+c+" LIMIT 50 "}return{schema:e.schema,mangoQuery:Fs(t),sqlQuery:{query:s,params:o,context:{method:"prepareQuery",data:{}}},queryWithoutSort:s.replace(c," "),nonImplementedOperator:n}}function aue(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return oue(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oue(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function oue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var sue=0,uue=function(){function e(e,t,n,r,i,a,o,s,u){this.changes$=new Wc,this.instanceId=sue++,this.openWriteCount$=new Ml(0),this.storage=e,this.databaseName=t,this.collectionName=n,this.schema=r,this.internals=i,this.options=a,this.settings=o,this.tableName=s,this.devMode=u,this.sqliteBasics=e.settings.sqliteBasics,this.primaryPath=Du(this.schema.primaryKey)}var t=e.prototype;return t.run=function(e,t){return this.devMode&&rue(t),this.sqliteBasics.run(e,t)},t.all=function(e,t){return this.devMode&&rue(t),this.sqliteBasics.all(e,t)},t.bulkWrite=function(){var e=(0,o.A)(s.mark((function e(t,n){var r,i,a,u,c,l,d=this;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.openWriteCount$.next(this.openWriteCount$.getValue()+1),e.next=3,this.internals.databasePromise;case 3:return r=e.sent,i={error:[]},a=[],u=[],c="("+new Array(5).fill("?").join(", ")+")",l=Rs(t,199.8),e.next=12,Zse(r,this.sqliteBasics,(0,o.A)(s.mark((function e(){return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d.closed){e.next=2;break}throw d.openWriteCount$.next(d.openWriteCount$.getValue()-1),new Error("SQLite.bulkWrite() already closed "+d.tableName+" context: "+n);case 2:return e.next=4,Promise.all(l.map(function(){var e=(0,o.A)(s.mark((function e(o){var l,p,f,h,m,v,g;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=o.map((function(e){return e.document[d.primaryPath]})),e.next=3,d.all(r,{query:'\n                                    SELECT data FROM "'+d.tableName+'" WHERE id IN ('+l.map((function(){return"?"})).join(", ")+")\n                                ",params:l,context:{method:"bulkWrite",data:t}});case 3:p=e.sent,f=new Map,p.forEach((function(e){var t=JSON.parse($se(e)),n=t[d.primaryPath];f.set(n,t)})),h=bl(d,d.primaryPath,f,o,n),u.push(h),i.error=h.errors,m=new Map,h.bulkInsertDocs.length>0&&(v='INSERT INTO "'+d.tableName+'" (\n                                id,\n                                revision,\n                                deleted,\n                                lastWriteTime,\n                                data\n                            ) VALUES '+new Array(h.bulkInsertDocs.length).fill(c).join(", ")+"; ",g=[],h.bulkInsertDocs.forEach((function(e){var t=e.document,n=t[d.primaryPath];m.set(n,t),g.push(n),g.push(t._rev),g.push(t._deleted?1:0),g.push(t._meta.lwt),g.push(JSON.stringify(t))})),a.push(d.all(r,{query:v,params:g,context:{method:"bulkWrite",data:h}}))),h.bulkUpdateDocs.length>0&&h.bulkUpdateDocs.forEach((function(e){var t=e.document[d.primaryPath];m.set(t,e.document),a.push(d.run(r,Gse(d.tableName,d.primaryPath,e)))})),h.attachmentsAdd.forEach((function(e){var t=d.all(r,{query:'\n                                        INSERT INTO "'+d.tableName+'_attachments" (\n                                                docIdWithAttachmentId,\n                                                digest,\n                                                length,\n                                                type,\n                                                data\n                                            )\n                                        VALUES(?, ?, ?, ?, ?); \n                                    ',params:[Vse(e.documentId,e.attachmentId),sl(m,e.documentId)._attachments[e.attachmentId].digest,e.attachmentData.length,e.attachmentData.type,d.storage.base64AttachmentToStoredAttachmentsData(e.attachmentData.data)],context:{method:"bulkWrite attachmentsAdd",data:e.attachmentId}});a.push(t)})),h.attachmentsRemove.forEach((function(e){var t=d.all(r,{query:'\n                                    DELETE FROM\n                                        "'+d.tableName+'_attachments"\n                                    WHERE\n                                        docIdWithAttachmentId = ?\n                                    ',params:[Vse(e.documentId,e.attachmentId)],context:{method:"bulkWrite attachmentsRemove",data:e.attachmentId}});a.push(t)})),h.attachmentsUpdate.forEach((function(e){var t=d.all(r,{query:'\n                                    UPDATE "'+d.tableName+'_attachments"\n                                    SET\n                                        digest = ?,\n                                        length = ?,\n                                        type = ?,\n                                        data = ?\n                                    WHERE\n                                        docIdWithAttachmentId = ?\n                                    ',params:[sl(m,e.documentId)._attachments[e.attachmentId].digest,e.attachmentData.length,e.attachmentData.type,d.storage.base64AttachmentToStoredAttachmentsData(e.attachmentData.data),Vse(e.documentId,e.attachmentId)],context:{method:"bulkWrite attachmentsUpdate",data:e.attachmentId}});a.push(t)}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 4:return e.next=6,Promise.all(a);case 6:return e.abrupt("return",d.closed?(d.openWriteCount$.next(d.openWriteCount$.getValue()-1),"ROLLBACK"):(d.openWriteCount$.next(d.openWriteCount$.getValue()-1),"COMMIT"));case 7:case"end":return e.stop()}}),e)}))),{databaseName:this.databaseName,collectionName:this.collectionName});case 12:return u.forEach((function(e){if(e.eventBulk.events.length>0){var t=Xc(e.newestRow).document;e.eventBulk.checkpoint={id:t[d.primaryPath],lwt:t._meta.lwt},d.changes$.next(e.eventBulk)}})),e.abrupt("return",i);case 14:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),t.modifyQuery=function(e,t){return this.storage.settings.queryModifier?this.storage.settings.queryModifier(t,e):t},t.query=function(){var e=(0,o.A)(s.mark((function e(t){var n,r,i,a,o,u,c,l,d,p;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=iue(this,t.query),e.next=3,this.internals.databasePromise;case 3:return r=e.sent,e.next=6,this.internals.indexCreationPromise;case 6:if(!n.nonImplementedOperator){e.next=16;break}i=n.mangoQuery,a=i.skip?i.skip:0,o=a+(i.limit?i.limit:1/0),u=[],c=om(this.schema,i),l=0,d=!1;case 8:if(!1!==d){e.next=15;break}return e.next=11,this.all(r,this.modifyQuery(n,{query:'SELECT data FROM "'+this.tableName+'" '+n.sqlQuery.query+" OFFSET "+l,params:n.sqlQuery.params,context:{method:"query - bulk iteration",data:n}}));case 11:p=e.sent,l+=p.length,p.forEach((function(e){var t=JSON.parse($se(e));c(t)&&u.push(t)})),(0===p.length||u.length>=o)&&(d=!0);case 13:e.next=8;break;case 15:return e.abrupt("return",{documents:u=u.slice(a,o)});case 16:return e.next=18,this.all(r,this.modifyQuery(n,{query:'SELECT data FROM "'+this.tableName+'" '+n.sqlQuery.query,params:n.sqlQuery.params,context:{method:"query - normal",data:n}}));case 18:return e.t0=e.sent.map((function(e){return JSON.parse($se(e))})),e.abrupt("return",{documents:e.t0});case 20:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.count=function(){var e=(0,o.A)(s.mark((function e(t){var n,r,i,a;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=iue(this,t.query)).nonImplementedOperator){e.next=6;break}return e.next=4,this.query(t);case 4:return e.t0=e.sent.documents.length,e.abrupt("return",{count:e.t0,mode:"slow"});case 6:return e.next=8,this.internals.databasePromise;case 8:return r=e.sent,e.next=11,this.internals.indexCreationPromise;case 11:return e.next=13,this.all(r,this.modifyQuery(n,{query:'SELECT COUNT(1) as count FROM "'+this.tableName+'" '+n.queryWithoutSort,params:n.sqlQuery.params,context:{method:"count",data:n}}));case 13:return i=e.sent[0],Array.isArray(i),a=Array.isArray(i)?i[0]:i.count,e.abrupt("return",{count:a,mode:"fast"});case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.findDocumentsById=function(){var e=(0,o.A)(s.mark((function e(t,n){var r,i,a,o,u;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.internals.databasePromise;case 2:if(r=e.sent,!this.closed){e.next=5;break}throw new Error("SQLite.findDocumentsById() already closed "+this.tableName+" context: "+context);case 5:return e.next=7,this.all(r,Yse(this.tableName,t,n));case 7:i=e.sent,a=[],o=0;case 10:if(!(o<i.length)){e.next=16;break}u=i[o],a.push(JSON.parse($se(u)));case 13:++o,e.next=10;break;case 16:return e.abrupt("return",a);case 17:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),t.changeStream=function(){return this.changes$.asObservable()},t.cleanup=function(){var e=(0,o.A)(s.mark((function e(t){var n,r;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jc(0);case 2:return e.next=4,Jc(0);case 4:return e.next=6,this.internals.databasePromise;case 6:return n=e.sent,e.next=9,this.internals.indexCreationPromise;case 9:return r=(new Date).getTime()-t,e.next=12,this.all(n,{query:'\n                    DELETE FROM\n                        "'+this.tableName+'"\n                    WHERE\n                        deleted = 1\n                        AND\n                        lastWriteTime < ?\n                ',params:[r],context:{method:"cleanup",data:t}});case 12:return e.next=14,this.run(n,{query:"pragma optimize;",params:[],context:{method:"cleanup optimize",data:t}});case 14:return e.abrupt("return",!0);case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.getAttachmentData=function(){var e=(0,o.A)(s.mark((function e(t,n){var r,i,a;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.internals.databasePromise;case 2:return r=e.sent,i='\n        SELECT data\n        FROM "'+this.tableName+'_attachments"\n        WHERE\n            docIdWithAttachmentId = ?\n        LIMIT 1\n        ;',e.next=6,this.all(r,{query:i,params:[Vse(t,n)],context:{method:"getAttachmentData",data:n}});case 6:return a=e.sent[0],e.abrupt("return",Array.isArray(a)?this.storage.storedAttachmentsDataToBase64(a[0]):this.storage.storedAttachmentsDataToBase64(a.data));case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),t.remove=(0,o.A)(s.mark((function e(){var t,n;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.closed){e.next=2;break}throw new Error("closed already");case 2:return e.next=4,this.internals.databasePromise;case 4:return t=e.sent,e.next=7,this.internals.indexCreationPromise;case 7:return n=[this.run(t,{query:'DROP TABLE IF EXISTS "'+this.tableName+'"',params:[],context:{method:"remove",data:this.tableName}})],this.schema.attachments&&n.push(this.run(t,{query:'DROP TABLE IF EXISTS "'+this.tableName+'_attachments"',params:[],context:{method:"remove attachments",data:this.tableName}})),e.next=11,Promise.all(n);case 11:return e.abrupt("return",this.close());case 12:case"end":return e.stop()}}),e,this)}))),t.close=(0,o.A)(s.mark((function e(){var t,n=this;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Xse,e.next=3,this.internals.databasePromise;case 3:if(e.t1=e.sent,t=e.t0.get.call(e.t0,e.t1),e.t2=t,!e.t2){e.next=9;break}return e.next=9,t;case 9:return this.closed||(this.closed=(0,o.A)(s.mark((function e(){var t;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ate(n.openWriteCount$.pipe(pc((function(e){return 0===e}))));case 2:return e.next=4,n.internals.databasePromise;case 4:return t=e.sent,e.next=7,n.internals.indexCreationPromise;case 7:return e.next=9,Zse(t,n.sqliteBasics,(function(){return Promise.resolve("COMMIT")})).catch((function(){}));case 9:return n.changes$.complete(),e.next=12,Hse(n.databaseName,n.storage.settings.sqliteBasics);case 12:case"end":return e.stop()}}),e)})))()),e.abrupt("return",this.closed);case 11:case"end":return e.stop()}}),e,this)}))),e}();function cue(){return cue=(0,o.A)(s.mark((function e(t,n,r){var i,a,u,c,l;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Du(n.schema.primaryKey),a=r.sqliteBasics,u=n.collectionName+"-"+n.schema.version,(c={}).databasePromise=qse(t.settings.sqliteBasics,n.databaseName).then(function(){var e=(0,o.A)(s.mark((function e(t){return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zse(t,a,(0,o.A)(s.mark((function e(){var r,i;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r='\n                CREATE TABLE IF NOT EXISTS "'+u+'"(\n                    id TEXT NOT NULL PRIMARY KEY UNIQUE,\n                    revision TEXT,\n                    deleted BOOLEAN NOT NULL CHECK (deleted IN (0, 1)),\n                    lastWriteTime INTEGER NOT NULL,\n                    data json\n                ) WITHOUT ROWID;\n                ',e.next=3,a.run(t,{query:r,params:[],context:{method:"createSQLiteStorageInstance create tables",data:n.databaseName}});case 3:if(!n.schema.attachments){e.next=7;break}return i='\n                    CREATE TABLE IF NOT EXISTS "'+u+'_attachments"(\n                        docIdWithAttachmentId TEXT NOT NULL PRIMARY KEY UNIQUE,\n                        digest TEXT NOT NULL,\n                        length INTEGER NOT NULL,\n                        type TEXT NOT NULL,\n                        data BLOB\n                    ) WITHOUT ROWID;\n                    ',e.next=7,a.run(t,{query:i,params:[],context:{method:"createSQLiteStorageInstance create tables",data:n.databaseName}});case 7:return e.abrupt("return","COMMIT");case 8:case"end":return e.stop()}}),e)}))),{indexCreation:!1,databaseName:n.databaseName,collectionName:n.collectionName});case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c.indexCreationPromise=c.databasePromise.then(function(){var e=(0,o.A)(s.mark((function e(t){return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jc(0);case 2:return e.next=4,Zse(t,a,(0,o.A)(s.mark((function e(){var r,c,l,d,p,f,h,m,v;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.schema.indexes?n.schema.indexes.map((function(e){return Ns(e)?e:[e]})):[],r.push(["deleted","lastWriteTime"]),c=[],l=aue(r);try{for(l.s();!(d=l.n()).done;)p=d.value,f=Ns(p)?p:[p],h=Kse(n.databaseName,n.collectionName,n.schema,f),m=f.map((function(e){return Qse(i,e)})),v='CREATE INDEX IF NOT EXISTS "'+h+'" ON "'+u+'"('+m.join(", ")+"); ",c.push(v)}catch(e){l.e(e)}finally{l.f()}if(e.t0=c.length>0,!e.t0){e.next=9;break}return e.next=9,Promise.all(c.map(function(){var e=(0,o.A)(s.mark((function e(r){return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.run(t,{query:r,params:[],context:{method:"createSQLiteStorageInstance create indexes table",data:n.databaseName}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 9:return e.abrupt("return","COMMIT");case 10:case"end":return e.stop()}}),e)}))),{indexCreation:!0,databaseName:n.databaseName,collectionName:n.collectionName});case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),l=new uue(t,n.databaseName,n.collectionName,n.schema,c,n.options,r,u,n.devMode),e.next=5,Gne(zse,n,l);case 5:return e.abrupt("return",l);case 6:case"end":return e.stop()}}),e)}))),cue.apply(this,arguments)}var lue=function(){function e(e){this.name=zse,this.rxdbVersion=Mse,this.settings=e}var t=e.prototype;return t.createStorageInstance=function(e){return kl(e),function(e,t,n){return cue.apply(this,arguments)}(this,e,this.settings)},t.base64AttachmentToStoredAttachmentsData=function(e){return this.settings.storeAttachmentsAsBase64String?e:Buffer.from(e,"base64")},t.storedAttachmentsDataToBase64=function(e){return"string"==typeof e?e:e instanceof Uint8Array?function(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,i=0;i<r;i++)t+=String.fromCharCode(n[i]);return btoa(t)}(e):e.toString("base64")},e}();function due(e){if(e.log){var t=0,n=function(t){return Xc(e.log)("## RxStorage SQLite log: "+t)};e=Ss(e);var r=Ss(e.sqliteBasics),i=r.open;r.open=function(e){var r=t++;return n("open("+r+") "+e),i(e).then((function(e){return n("open("+r+") DONE "),e})).catch((function(e){throw n("open("+r+") ERROR "),e}))};var a=r.all;r.all=function(e,r){var i=t++;return n("all("+i+") "+JSON.stringify(r)),a(e,r).then((function(e){return n("all("+i+") DONE "),e})).catch((function(e){throw n("all("+i+") ERROR "),e}))};var o=r.run;r.run=function(e,r){var i=t++;return n("run("+i+") "+JSON.stringify(r)),o(e,r).then((function(e){return n("run("+i+") DONE "),e})).catch((function(e){throw n("run("+i+") ERROR "),e}))};var s=r.setPragma;r.setPragma=function(e,r,i){var a=t++;return n("setPragma("+a+") "+JSON.stringify({key:r,value:i})),s(e,r,i).then((function(e){return n("setPragma("+a+") DONE "),e})).catch((function(e){throw n("setPragma("+a+") ERROR "),e}))},e.sqliteBasics=r}return new lue(e)}function pue(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return fue(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fue(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function fue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var hue=function(){return(0,f.A)((function e(t){(0,p.A)(this,e),this.sqlite=t,this._connectionDict=new Map}),[{key:"initWebStore",value:(U=(0,o.A)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.sqlite.initWebStore();case 3:return e.abrupt("return",Promise.resolve());case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 9:case"end":return e.stop()}}),e,this,[[0,6]])}))),function(){return U.apply(this,arguments)})},{key:"saveToStore",value:(j=(0,o.A)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.sqlite.saveToStore({database:t});case 3:return e.abrupt("return",Promise.resolve());case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 9:case"end":return e.stop()}}),e,this,[[0,6]])}))),function(e){return j.apply(this,arguments)})},{key:"saveToLocalDisk",value:(L=(0,o.A)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.sqlite.saveToLocalDisk({database:t});case 3:return e.abrupt("return",Promise.resolve());case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 9:case"end":return e.stop()}}),e,this,[[0,6]])}))),function(e){return L.apply(this,arguments)})},{key:"getFromLocalDiskToStore",value:(M=(0,o.A)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null==t||t,e.prev=1,e.next=4,this.sqlite.getFromLocalDiskToStore({overwrite:n});case 4:return e.abrupt("return",Promise.resolve());case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,this,[[1,7]])}))),function(e){return M.apply(this,arguments)})},{key:"echo",value:(N=(0,o.A)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.sqlite.echo({value:t});case 3:return n=e.sent,e.abrupt("return",Promise.resolve(n));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(e){return N.apply(this,arguments)})},{key:"isSecretStored",value:(R=(0,o.A)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.sqlite.isSecretStored();case 3:return t=e.sent,e.abrupt("return",Promise.resolve(t));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(){return R.apply(this,arguments)})},{key:"setEncryptionSecret",value:(B=(0,o.A)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.sqlite.setEncryptionSecret({passphrase:t});case 3:return e.abrupt("return",Promise.resolve());case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 9:case"end":return e.stop()}}),e,this,[[0,6]])}))),function(e){return B.apply(this,arguments)})},{key:"changeEncryptionSecret",value:(I=(0,o.A)(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.sqlite.changeEncryptionSecret({passphrase:t,oldpassphrase:n});case 3:return e.abrupt("return",Promise.resolve());case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 9:case"end":return e.stop()}}),e,this,[[0,6]])}))),function(e,t){return I.apply(this,arguments)})},{key:"clearEncryptionSecret",value:(P=(0,o.A)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.sqlite.clearEncryptionSecret();case 3:return e.abrupt("return",Promise.resolve());case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 9:case"end":return e.stop()}}),e,this,[[0,6]])}))),function(){return P.apply(this,arguments)})},{key:"checkEncryptionSecret",value:(O=(0,o.A)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.sqlite.checkEncryptionSecret({passphrase:t});case 3:return n=e.sent,e.abrupt("return",Promise.resolve(n));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(e){return O.apply(this,arguments)})},{key:"addUpgradeStatement",value:(F=(0,o.A)(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.endsWith(".db")&&(t=t.slice(0,-3)),e.next=4,this.sqlite.addUpgradeStatement({database:t,upgrade:n});case 4:return e.abrupt("return",Promise.resolve());case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(e,t){return F.apply(this,arguments)})},{key:"createConnection",value:(T=(0,o.A)(u().mark((function e(t,n,r,i,a){var o,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.endsWith(".db")&&(t=t.slice(0,-3)),e.next=4,this.sqlite.createConnection({database:t,encrypted:n,mode:r,version:i,readonly:a});case 4:return o=new mue(t,a,this.sqlite),s=a?"RO_".concat(t):"RW_".concat(t),this._connectionDict.set(s,o),e.abrupt("return",Promise.resolve(o));case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 13:case"end":return e.stop()}}),e,this,[[0,10]])}))),function(e,t,n,r,i){return T.apply(this,arguments)})},{key:"closeConnection",value:(S=(0,o.A)(u().mark((function e(t,n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.endsWith(".db")&&(t=t.slice(0,-3)),e.next=4,this.sqlite.closeConnection({database:t,readonly:n});case 4:return r=n?"RO_".concat(t):"RW_".concat(t),this._connectionDict.delete(r),e.abrupt("return",Promise.resolve());case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 12:case"end":return e.stop()}}),e,this,[[0,9]])}))),function(e,t){return S.apply(this,arguments)})},{key:"isConnection",value:(x=(0,o.A)(u().mark((function e(t,n){var r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={},t.endsWith(".db")&&(t=t.slice(0,-3)),i=n?"RO_".concat(t):"RW_".concat(t),r.result=this._connectionDict.has(i),e.abrupt("return",Promise.resolve(r));case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return x.apply(this,arguments)})},{key:"retrieveConnection",value:(_=(0,o.A)(u().mark((function e(t,n){var r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.endsWith(".db")&&(t=t.slice(0,-3)),r=n?"RO_".concat(t):"RW_".concat(t),!this._connectionDict.has(r)){e.next=11;break}if(void 0===(i=this._connectionDict.get(r))){e.next=8;break}return e.abrupt("return",Promise.resolve(i));case 8:return e.abrupt("return",Promise.reject("Connection ".concat(t," is undefined")));case 9:e.next=12;break;case 11:return e.abrupt("return",Promise.reject("Connection ".concat(t," does not exist")));case 12:case"end":return e.stop()}}),e,this)}))),function(e,t){return _.apply(this,arguments)})},{key:"getNCDatabasePath",value:(C=(0,o.A)(u().mark((function e(t,n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.sqlite.getNCDatabasePath({path:t,database:n});case 3:return r=e.sent,e.abrupt("return",Promise.resolve(r));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(e,t){return C.apply(this,arguments)})},{key:"createNCConnection",value:(k=(0,o.A)(u().mark((function e(t,n){var r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.sqlite.createNCConnection({databasePath:t,version:n});case 3:return r=new mue(t,!0,this.sqlite),i="RO_".concat(t,")"),this._connectionDict.set(i,r),e.abrupt("return",Promise.resolve(r));case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 12:case"end":return e.stop()}}),e,this,[[0,9]])}))),function(e,t){return k.apply(this,arguments)})},{key:"closeNCConnection",value:(E=(0,o.A)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.sqlite.closeNCConnection({databasePath:t});case 3:return n="RO_".concat(t,")"),this._connectionDict.delete(n),e.abrupt("return",Promise.resolve());case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 11:case"end":return e.stop()}}),e,this,[[0,8]])}))),function(e){return E.apply(this,arguments)})},{key:"isNCConnection",value:(A=(0,o.A)(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},r="RO_".concat(t,")"),n.result=this._connectionDict.has(r),e.abrupt("return",Promise.resolve(n));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return A.apply(this,arguments)})},{key:"retrieveNCConnection",value:(D=(0,o.A)(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._connectionDict.has(t)){e.next=10;break}if(n="RO_".concat(t,")"),void 0===(r=this._connectionDict.get(n))){e.next=7;break}return e.abrupt("return",Promise.resolve(r));case 7:return e.abrupt("return",Promise.reject("Connection ".concat(t," is undefined")));case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject("Connection ".concat(t," does not exist")));case 11:case"end":return e.stop()}}),e,this)}))),function(e){return D.apply(this,arguments)})},{key:"isNCDatabase",value:(w=(0,o.A)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.sqlite.isNCDatabase({databasePath:t});case 3:return n=e.sent,e.abrupt("return",Promise.resolve(n));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(e){return w.apply(this,arguments)})},{key:"retrieveAllConnections",value:(b=(0,o.A)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._connectionDict);case 1:case"end":return e.stop()}}),e,this)}))),function(){return b.apply(this,arguments)})},{key:"closeAllConnections",value:(y=(0,o.A)(u().mark((function e(){var t,n,r,i,a,o,s,c,l;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=new Map,e.prev=1,n=pue(this._connectionDict.keys()),e.prev=3,n.s();case 5:if((r=n.n()).done){e.next=14;break}return i=r.value,a=i.substring(3),o="RO_"===i.substring(0,3),e.next=11,this.sqlite.closeConnection({database:a,readonly:o});case 11:t.set(i,null);case 12:e.next=5;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(3),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:s=pue(t.keys());try{for(s.s();!(c=s.n()).done;)l=c.value,this._connectionDict.delete(l)}catch(e){s.e(e)}finally{s.f()}return e.abrupt("return",Promise.resolve());case 27:return e.prev=27,e.t1=e.catch(1),e.abrupt("return",Promise.reject(e.t1));case 30:case"end":return e.stop()}}),e,this,[[1,27],[3,16,19,22]])}))),function(){return y.apply(this,arguments)})},{key:"checkConnectionsConsistency",value:(g=(0,o.A)(u().mark((function e(){var t,n,r,i,a,o,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,t=(0,z.A)(this._connectionDict.keys()),n=[],r=[],i=pue(t);try{for(i.s();!(a=i.n()).done;)o=a.value,n.push(o.substring(0,2)),r.push(o.substring(3))}catch(e){i.e(e)}finally{i.f()}return e.next=8,this.sqlite.checkConnectionsConsistency({dbNames:r,openModes:n});case 8:return(s=e.sent).result||(this._connectionDict=new Map),e.abrupt("return",Promise.resolve(s));case 13:return e.prev=13,e.t0=e.catch(0),this._connectionDict=new Map,e.abrupt("return",Promise.reject(e.t0));case 17:case"end":return e.stop()}}),e,this,[[0,13]])}))),function(){return g.apply(this,arguments)})},{key:"importFromJson",value:(v=(0,o.A)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.sqlite.importFromJson({jsonstring:t});case 3:return n=e.sent,e.abrupt("return",Promise.resolve(n));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(e){return v.apply(this,arguments)})},{key:"isJsonValid",value:(m=(0,o.A)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.sqlite.isJsonValid({jsonstring:t});case 3:return n=e.sent,e.abrupt("return",Promise.resolve(n));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(e){return m.apply(this,arguments)})},{key:"copyFromAssets",value:(h=(0,o.A)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null==t||t,e.prev=1,e.next=4,this.sqlite.copyFromAssets({overwrite:n});case 4:return e.abrupt("return",Promise.resolve());case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,this,[[1,7]])}))),function(e){return h.apply(this,arguments)})},{key:"getFromHTTPRequest",value:(d=(0,o.A)(u().mark((function e(t,n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=null==n||n,e.prev=1,e.next=4,this.sqlite.getFromHTTPRequest({url:t,overwrite:r});case 4:return e.abrupt("return",Promise.resolve());case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,this,[[1,7]])}))),function(e,t){return d.apply(this,arguments)})},{key:"isDatabaseEncrypted",value:(l=(0,o.A)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.endsWith(".db")&&(t=t.slice(0,-3)),e.prev=1,e.next=4,this.sqlite.isDatabaseEncrypted({database:t});case 4:return n=e.sent,e.abrupt("return",Promise.resolve(n));case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",Promise.reject(e.t0));case 11:case"end":return e.stop()}}),e,this,[[1,8]])}))),function(e){return l.apply(this,arguments)})},{key:"isInConfigEncryption",value:(c=(0,o.A)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.sqlite.isInConfigEncryption();case 3:return t=e.sent,e.abrupt("return",Promise.resolve(t));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(){return c.apply(this,arguments)})},{key:"isInConfigBiometricAuth",value:(s=(0,o.A)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.sqlite.isInConfigBiometricAuth();case 3:return t=e.sent,e.abrupt("return",Promise.resolve(t));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(){return s.apply(this,arguments)})},{key:"isDatabase",value:(a=(0,o.A)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.endsWith(".db")&&(t=t.slice(0,-3)),e.prev=1,e.next=4,this.sqlite.isDatabase({database:t});case 4:return n=e.sent,e.abrupt("return",Promise.resolve(n));case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",Promise.reject(e.t0));case 11:case"end":return e.stop()}}),e,this,[[1,8]])}))),function(e){return a.apply(this,arguments)})},{key:"getDatabaseList",value:(i=(0,o.A)(u().mark((function e(){var t,n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.sqlite.getDatabaseList();case 3:return t=e.sent,(n=t.values).sort(),r={values:n},e.abrupt("return",Promise.resolve(r));case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 13:case"end":return e.stop()}}),e,this,[[0,10]])}))),function(){return i.apply(this,arguments)})},{key:"getMigratableDbList",value:(r=(0,o.A)(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t||"default",e.prev=1,e.next=4,this.sqlite.getMigratableDbList({folderPath:n});case 4:return r=e.sent,e.abrupt("return",Promise.resolve(r));case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",Promise.reject(e.t0));case 11:case"end":return e.stop()}}),e,this,[[1,8]])}))),function(e){return r.apply(this,arguments)})},{key:"addSQLiteSuffix",value:(n=(0,o.A)(u().mark((function e(t,n){var r,i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||"default",i=n||[],e.prev=2,e.next=5,this.sqlite.addSQLiteSuffix({folderPath:r,dbNameList:i});case 5:return a=e.sent,e.abrupt("return",Promise.resolve(a));case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",Promise.reject(e.t0));case 12:case"end":return e.stop()}}),e,this,[[2,9]])}))),function(e,t){return n.apply(this,arguments)})},{key:"deleteOldDatabases",value:(t=(0,o.A)(u().mark((function e(t,n){var r,i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||"default",i=n||[],e.prev=2,e.next=5,this.sqlite.deleteOldDatabases({folderPath:r,dbNameList:i});case 5:return a=e.sent,e.abrupt("return",Promise.resolve(a));case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",Promise.reject(e.t0));case 12:case"end":return e.stop()}}),e,this,[[2,9]])}))),function(e,n){return t.apply(this,arguments)})},{key:"moveDatabasesAndAddSuffix",value:(e=(0,o.A)(u().mark((function e(t,n){var r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||"default",i=n||[],e.abrupt("return",this.sqlite.moveDatabasesAndAddSuffix({folderPath:r,dbNameList:i}));case 3:case"end":return e.stop()}}),e,this)}))),function(t,n){return e.apply(this,arguments)})}]);var e,t,n,r,i,a,s,c,l,d,h,m,v,g,y,b,w,D,A,E,k,C,_,x,S,T,F,O,P,I,B,R,N,M,L,j,U}(),mue=function(){return(0,f.A)((function e(t,n,r){(0,p.A)(this,e),this.dbName=t,this.readonly=n,this.sqlite=r}),[{key:"getConnectionDBName",value:function(){return this.dbName}},{key:"getConnectionReadOnly",value:function(){return this.readonly}},{key:"open",value:(F=(0,o.A)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.sqlite.open({database:this.dbName,readonly:this.readonly});case 3:return e.abrupt("return",Promise.resolve());case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 9:case"end":return e.stop()}}),e,this,[[0,6]])}))),function(){return F.apply(this,arguments)})},{key:"close",value:(T=(0,o.A)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.sqlite.close({database:this.dbName,readonly:this.readonly});case 3:return e.abrupt("return",Promise.resolve());case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 9:case"end":return e.stop()}}),e,this,[[0,6]])}))),function(){return T.apply(this,arguments)})},{key:"beginTransaction",value:(S=(0,o.A)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.sqlite.beginTransaction({database:this.dbName});case 3:return t=e.sent,e.abrupt("return",Promise.resolve(t));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(){return S.apply(this,arguments)})},{key:"commitTransaction",value:(x=(0,o.A)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.sqlite.commitTransaction({database:this.dbName});case 3:return t=e.sent,e.abrupt("return",Promise.resolve(t));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(){return x.apply(this,arguments)})},{key:"rollbackTransaction",value:(_=(0,o.A)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.sqlite.rollbackTransaction({database:this.dbName});case 3:return t=e.sent,e.abrupt("return",Promise.resolve(t));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(){return _.apply(this,arguments)})},{key:"isTransactionActive",value:(k=(0,o.A)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.sqlite.isTransactionActive({database:this.dbName});case 3:return t=e.sent,e.abrupt("return",Promise.resolve(t));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(){return k.apply(this,arguments)})},{key:"loadExtension",value:(E=(0,o.A)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.sqlite.loadExtension({database:this.dbName,path:t,readonly:this.readonly});case 3:return e.abrupt("return",Promise.resolve());case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 9:case"end":return e.stop()}}),e,this,[[0,6]])}))),function(e){return E.apply(this,arguments)})},{key:"enableLoadExtension",value:(A=(0,o.A)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.sqlite.enableLoadExtension({database:this.dbName,toggle:t,readonly:this.readonly});case 3:return e.abrupt("return",Promise.resolve());case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 9:case"end":return e.stop()}}),e,this,[[0,6]])}))),function(e){return A.apply(this,arguments)})},{key:"getUrl",value:(D=(0,o.A)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.sqlite.getUrl({database:this.dbName,readonly:this.readonly});case 3:return t=e.sent,e.abrupt("return",Promise.resolve(t));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(){return D.apply(this,arguments)})},{key:"getVersion",value:(w=(0,o.A)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.sqlite.getVersion({database:this.dbName,readonly:this.readonly});case 3:return t=e.sent,e.abrupt("return",Promise.resolve(t));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(){return w.apply(this,arguments)})},{key:"getTableList",value:(b=(0,o.A)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.sqlite.getTableList({database:this.dbName,readonly:this.readonly});case 3:return t=e.sent,e.abrupt("return",Promise.resolve(t));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(){return b.apply(this,arguments)})},{key:"execute",value:(y=(0,o.A)(u().mark((function e(t){var n,r,i,a=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!(a.length>1&&void 0!==a[1])||a[1],r=!(a.length>2&&void 0!==a[2])||a[2],e.prev=2,this.readonly){e.next=10;break}return e.next=6,this.sqlite.execute({database:this.dbName,statements:t,transaction:n,readonly:!1,isSQL92:r});case 6:return i=e.sent,e.abrupt("return",Promise.resolve(i));case 10:return e.abrupt("return",Promise.reject("not allowed in read-only mode"));case 11:e.next=16;break;case 13:return e.prev=13,e.t0=e.catch(2),e.abrupt("return",Promise.reject(e.t0));case 16:case"end":return e.stop()}}),e,this,[[2,13]])}))),function(e){return y.apply(this,arguments)})},{key:"query",value:(g=(0,o.A)(u().mark((function e(t,n){var r,i,a=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=!(a.length>2&&void 0!==a[2])||a[2],e.prev=1,!(n&&n.length>0)){e.next=8;break}return e.next=5,this.sqlite.query({database:this.dbName,statement:t,values:n,readonly:this.readonly,isSQL92:!0});case 5:i=e.sent,e.next=11;break;case 8:return e.next=10,this.sqlite.query({database:this.dbName,statement:t,values:[],readonly:this.readonly,isSQL92:r});case 10:i=e.sent;case 11:return e.next=13,this.reorderRows(i);case 13:return i=e.sent,e.abrupt("return",Promise.resolve(i));case 17:return e.prev=17,e.t0=e.catch(1),e.abrupt("return",Promise.reject(e.t0));case 20:case"end":return e.stop()}}),e,this,[[1,17]])}))),function(e,t){return g.apply(this,arguments)})},{key:"run",value:(v=(0,o.A)(u().mark((function e(t,n){var r,i,a,o,s=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=!(s.length>2&&void 0!==s[2])||s[2],i=s.length>3&&void 0!==s[3]?s[3]:"no",a=!(s.length>4&&void 0!==s[4])||s[4],e.prev=3,this.readonly){e.next=20;break}if(!(n&&n.length>0)){e.next=11;break}return e.next=8,this.sqlite.run({database:this.dbName,statement:t,values:n,transaction:r,readonly:!1,returnMode:i,isSQL92:!0});case 8:o=e.sent,e.next=14;break;case 11:return e.next=13,this.sqlite.run({database:this.dbName,statement:t,values:[],transaction:r,readonly:!1,returnMode:i,isSQL92:a});case 13:o=e.sent;case 14:return e.next=16,this.reorderRows(o.changes);case 16:return o.changes=e.sent,e.abrupt("return",Promise.resolve(o));case 20:return e.abrupt("return",Promise.reject("not allowed in read-only mode"));case 21:e.next=26;break;case 23:return e.prev=23,e.t0=e.catch(3),e.abrupt("return",Promise.reject(e.t0));case 26:case"end":return e.stop()}}),e,this,[[3,23]])}))),function(e,t){return v.apply(this,arguments)})},{key:"executeSet",value:(m=(0,o.A)(u().mark((function e(t){var n,r,i,a,o=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!(o.length>1&&void 0!==o[1])||o[1],r=o.length>2&&void 0!==o[2]?o[2]:"no",i=!(o.length>3&&void 0!==o[3])||o[3],e.prev=3,this.readonly){e.next=14;break}return e.next=7,this.sqlite.executeSet({database:this.dbName,set:t,transaction:n,readonly:!1,returnMode:r,isSQL92:i});case 7:return a=e.sent,e.next=10,this.reorderRows(a.changes);case 10:return a.changes=e.sent,e.abrupt("return",Promise.resolve(a));case 14:return e.abrupt("return",Promise.reject("not allowed in read-only mode"));case 15:e.next=20;break;case 17:return e.prev=17,e.t0=e.catch(3),e.abrupt("return",Promise.reject(e.t0));case 20:case"end":return e.stop()}}),e,this,[[3,17]])}))),function(e){return m.apply(this,arguments)})},{key:"isExists",value:(h=(0,o.A)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.sqlite.isDBExists({database:this.dbName,readonly:this.readonly});case 3:return t=e.sent,e.abrupt("return",Promise.resolve(t));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(){return h.apply(this,arguments)})},{key:"isTable",value:(d=(0,o.A)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.sqlite.isTableExists({database:this.dbName,table:t,readonly:this.readonly});case 3:return n=e.sent,e.abrupt("return",Promise.resolve(n));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(e){return d.apply(this,arguments)})},{key:"isDBOpen",value:(l=(0,o.A)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.sqlite.isDBOpen({database:this.dbName,readonly:this.readonly});case 3:return t=e.sent,e.abrupt("return",Promise.resolve(t));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(){return l.apply(this,arguments)})},{key:"delete",value:(c=(0,o.A)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.readonly){e.next=7;break}return e.next=4,this.sqlite.deleteDatabase({database:this.dbName,readonly:!1});case 4:return e.abrupt("return",Promise.resolve());case 7:return e.abrupt("return",Promise.reject("not allowed in read-only mode"));case 8:e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 13:case"end":return e.stop()}}),e,this,[[0,10]])}))),function(){return c.apply(this,arguments)})},{key:"createSyncTable",value:(s=(0,o.A)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.readonly){e.next=8;break}return e.next=4,this.sqlite.createSyncTable({database:this.dbName,readonly:!1});case 4:return t=e.sent,e.abrupt("return",Promise.resolve(t));case 8:return e.abrupt("return",Promise.reject("not allowed in read-only mode"));case 9:e.next=14;break;case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 14:case"end":return e.stop()}}),e,this,[[0,11]])}))),function(){return s.apply(this,arguments)})},{key:"setSyncDate",value:(a=(0,o.A)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.readonly){e.next=7;break}return e.next=4,this.sqlite.setSyncDate({database:this.dbName,syncdate:t,readonly:!1});case 4:return e.abrupt("return",Promise.resolve());case 7:return e.abrupt("return",Promise.reject("not allowed in read-only mode"));case 8:e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 13:case"end":return e.stop()}}),e,this,[[0,10]])}))),function(e){return a.apply(this,arguments)})},{key:"getSyncDate",value:(i=(0,o.A)(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.sqlite.getSyncDate({database:this.dbName,readonly:this.readonly});case 3:return t=e.sent,n="",t.syncDate>0&&(n=new Date(1e3*t.syncDate).toISOString()),e.abrupt("return",Promise.resolve(n));case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 12:case"end":return e.stop()}}),e,this,[[0,9]])}))),function(){return i.apply(this,arguments)})},{key:"exportToJson",value:(r=(0,o.A)(u().mark((function e(t){var n,r,i=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]&&i[1],e.prev=1,e.next=4,this.sqlite.exportToJson({database:this.dbName,jsonexportmode:t,readonly:this.readonly,encrypted:n});case 4:return r=e.sent,e.abrupt("return",Promise.resolve(r));case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",Promise.reject(e.t0));case 11:case"end":return e.stop()}}),e,this,[[1,8]])}))),function(e){return r.apply(this,arguments)})},{key:"deleteExportedRows",value:(n=(0,o.A)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.readonly){e.next=7;break}return e.next=4,this.sqlite.deleteExportedRows({database:this.dbName,readonly:!1});case 4:return e.abrupt("return",Promise.resolve());case 7:return e.abrupt("return",Promise.reject("not allowed in read-only mode"));case 8:e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 13:case"end":return e.stop()}}),e,this,[[0,10]])}))),function(){return n.apply(this,arguments)})},{key:"executeTransaction",value:(t=(0,o.A)(u().mark((function e(t){var n,r,i,a,o,s,c,l,d,p,f,h=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!(h.length>1&&void 0!==h[1])||h[1],r=0,this.readonly){e.next=61;break}return e.next=6,this.sqlite.beginTransaction({database:this.dbName});case 6:return e.next=8,this.sqlite.isTransactionActive({database:this.dbName});case 8:if(e.sent){e.next=11;break}return e.abrupt("return",Promise.reject("After Begin Transaction, no transaction active"));case 11:e.prev=11,i=pue(t),e.prev=13,i.s();case 15:if((a=i.n()).done){e.next=37;break}if(o=a.value,"object"===(0,C.A)(o)&&"statement"in o){e.next=19;break}throw new Error("Error a task.statement must be provided");case 19:if(!("values"in o&&o.values&&o.values.length>0)){e.next=29;break}return s=o.statement.toUpperCase().includes("RETURNING")?"all":"no",e.next=23,this.sqlite.run({database:this.dbName,statement:o.statement,values:o.values,transaction:!1,readonly:!1,returnMode:s,isSQL92:n});case 23:if(!((c=e.sent).changes.changes<0)){e.next=26;break}throw new Error("Error in transaction method run ");case 26:r+=c.changes.changes,e.next=35;break;case 29:return e.next=31,this.sqlite.execute({database:this.dbName,statements:o.statement,transaction:!1,readonly:!1});case 31:if(!((l=e.sent).changes.changes<0)){e.next=34;break}throw new Error("Error in transaction method execute ");case 34:r+=l.changes.changes;case 35:e.next=15;break;case 37:e.next=42;break;case 39:e.prev=39,e.t0=e.catch(13),i.e(e.t0);case 42:return e.prev=42,i.f(),e.finish(42);case 45:return e.next=47,this.sqlite.commitTransaction({database:this.dbName});case 47:return d=e.sent,r+=d.changes.changes,p={changes:{changes:r}},e.abrupt("return",Promise.resolve(p));case 53:return e.prev=53,e.t1=e.catch(11),f=e.t1.message?e.t1.message:e.t1,e.next=58,this.sqlite.rollbackTransaction({database:this.dbName});case 58:return e.abrupt("return",Promise.reject(f));case 59:e.next=62;break;case 61:return e.abrupt("return",Promise.reject("not allowed in read-only mode"));case 62:case"end":return e.stop()}}),e,this,[[11,53],[13,39,42,45]])}))),function(e){return t.apply(this,arguments)})},{key:"reorderRows",value:(e=(0,o.A)(u().mark((function e(t){var n,r,i,a,o,s,c,l,d;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t,null!=t&&t.values&&"object"===(0,C.A)(t.values[0])&&Object.keys(t.values[0]).includes("ios_columns")){for(r=t.values[0].ios_columns,i=[],a=1;a<t.values.length;a++){o=t.values[a],s={},c=pue(r);try{for(c.s();!(l=c.n()).done;)d=l.value,s[d]=o[d]}catch(e){c.e(e)}finally{c.f()}i.push(s)}n.values=i}return e.abrupt("return",Promise.resolve(n));case 3:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})}]);var e,t,n,r,i,a,s,c,l,d,h,m,v,g,y,b,w,D,A,E,k,_,x,S,T,F}(),vue=(0,tae.F3)("CapacitorSQLite",{web:function(){return Promise.resolve().then(__webpack_require__.bind(__webpack_require__,4685)).then((function(e){return new e.CapacitorSQLiteWeb}))},electron:function(){return window.CapacitorCustomPlatform.plugins.CapacitorSQLite}});function gue(e,t,n){var r=Su(e)||t||n?{next:e,error:t,complete:n}:e;return r?Tu((function(e,t){var n;null===(n=r.subscribe)||void 0===n||n.call(r);var i=!0;e.subscribe(cc(t,(function(e){var n;null===(n=r.next)||void 0===n||n.call(r,e),t.next(e)}),(function(){var e;i=!1,null===(e=r.complete)||void 0===e||e.call(r),t.complete()}),(function(e){var n;i=!1,null===(n=r.error)||void 0===n||n.call(r,e),t.error(e)}),(function(){var e,t;i&&(null===(e=r.unsubscribe)||void 0===e||e.call(r)),null===(t=r.finalize)||void 0===t||t.call(r)})))})):vc}new Map;function yue(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(e){return e};function a(e){return u.apply(this,arguments)}function u(){return(u=(0,o.A)(s.mark((function e(t){return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",t);case 2:return e.next=4,n(t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c(e){return l.apply(this,arguments)}function l(){return(l=(0,o.A)(s.mark((function e(t){return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",t);case 2:return e.next=4,r(t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return p.apply(this,arguments)}function p(){return p=(0,o.A)(s.mark((function e(t){var n;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=Ss(t)).writeRow=Ss(n.writeRow),!n.documentInDb){e.next=6;break}return e.next=5,c(n.documentInDb);case 5:n.documentInDb=e.sent;case 6:if(!n.writeRow.previous){e.next=10;break}return e.next=9,c(n.writeRow.previous);case 9:n.writeRow.previous=e.sent;case 10:return e.next=12,c(n.writeRow.document);case 12:return n.writeRow.document=e.sent,e.abrupt("return",n);case 14:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}var f,h,m=new Ml(0),v={databaseName:t.databaseName,internals:t.internals,cleanup:t.cleanup.bind(t),options:t.options,close:t.close.bind(t),schema:e,collectionName:t.collectionName,count:t.count.bind(t),remove:t.remove.bind(t),originalStorageInstance:t,bulkWrite:(h=(0,o.A)(s.mark((function e(n,r){var i,u,c,l;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=[],e.next=3,Promise.all(n.map(function(){var e=(0,o.A)(s.mark((function e(t){var n,r,o,u;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.previous?a(t.previous):void 0,a(t.document)]);case 2:n=e.sent,r=(0,_.A)(n,2),o=r[0],u=r[1],i.push({previous:o,document:u});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:return e.next=5,t.bulkWrite(i,r);case 5:return u=e.sent,c={error:[]},l=[],u.error.forEach((function(e){l.push(d(e).then((function(e){return c.error.push(e)})))})),e.next=11,Promise.all(l);case 11:return e.next=13,ate(m.pipe(pc((function(e){return 0===e}))));case 13:return e.abrupt("return",c);case 14:case"end":return e.stop()}}),e)}))),function(e,t){return h.apply(this,arguments)}),query:function(e){return t.query(e).then((function(e){return Promise.all(e.documents.map((function(e){return c(e)})))})).then((function(e){return{documents:e}}))},getAttachmentData:(f=(0,o.A)(s.mark((function e(n,r,a){var o;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getAttachmentData(n,r,a);case 2:return o=e.sent,e.next=5,i(o);case 5:return o=e.sent,e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)}))),function(e,t,n){return f.apply(this,arguments)}),findDocumentsById:function(e,n){return t.findDocumentsById(e,n).then(function(){var e=(0,o.A)(s.mark((function e(t){var n;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,Promise.all(t.map(function(){var e=(0,o.A)(s.mark((function e(t){return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=n,e.next=3,c(t);case 3:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:return e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},getChangedDocumentsSince:t.getChangedDocumentsSince?function(e,n){return t.getChangedDocumentsSince(e,n).then(function(){var e=(0,o.A)(s.mark((function e(t){return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t.checkpoint,e.next=3,Promise.all(t.documents.map((function(e){return c(e)})));case 3:return e.t1=e.sent,e.abrupt("return",{checkpoint:e.t0,documents:e.t1});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}:void 0,changeStream:function(){return t.changeStream().pipe(gue((function(){return m.next(m.getValue()+1)})),Fc(function(){var e=(0,o.A)(s.mark((function e(t){var n,r;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.events.map(function(){var e=(0,o.A)(s.mark((function e(t){var n,r,i,a,o;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([c(t.documentData),c(t.previousDocumentData)]);case 2:return n=e.sent,r=(0,_.A)(n,2),i=r[0],a=r[1],o={operation:t.operation,documentId:t.documentId,documentData:i,previousDocumentData:a,isLocal:!1},e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:return n=e.sent,r={id:t.id,events:n,checkpoint:t.checkpoint,context:t.context},e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),gue((function(){return m.next(m.getValue()-1)})))}};return v}var bue=Bte.AES,wue=Bte.enc;function Due(e,t){return bue.encrypt(e,t).toString()}function Aue(e,t){if("string"!=typeof e)throw $s("SNH",{args:{cipherText:e}});return bue.decrypt(e,t).toString(wue.Utf8)}function Eue(e){return Object.assign({},e.storage,{createStorageInstance:function(t){return(0,o.A)(s.mark((function n(){var r,i,a,o,u,c,l;return s.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(l=function(e){return t.schema.attachments&&t.schema.attachments.encrypted?Aue(Nse(e),i):e},c=function(e){return e=kue(e),Xc(t.schema.encrypted).forEach((function(t){var n=gu(e,t);if(void 0!==n){var r=Aue(n,i),a=JSON.parse(r);yu(e,t,a)}})),e},u=function(e){if(e=kue(e),Xc(t.schema.encrypted).forEach((function(t){var n=gu(e,t);if(void 0!==n){var r=Due(JSON.stringify(n),i);yu(e,t,r)}})),t.schema.attachments&&t.schema.attachments.encrypted){var n={};Object.entries(e._attachments).forEach((function(e){var t,r=(0,_.A)(e,2),a=r[0],o=Ss(r[1]);if(o.data){var s=o.data;o.data=(t=Due(s,i),xse(t))}n[a]=o})),e._attachments=n}return e},void 0!==t.password&&Cue(t.password),Cl(t.schema)){n.next=9;break}return n.next=7,e.storage.createStorageInstance(t);case 7:return r=n.sent,n.abrupt("return",r);case 9:if(t.password){n.next=11;break}throw $s("EN3",{database:t.databaseName,collection:t.collectionName,schema:t.schema});case 11:return i=t.password,delete(a=Fs(t.schema)).encrypted,a.attachments&&(a.attachments.encrypted=!1),Xc(t.schema.encrypted).forEach((function(e){a.properties[e].type="string",delete a.properties[e].properties})),n.next=18,e.storage.createStorageInstance(Object.assign({},t,{schema:a}));case 18:return o=n.sent,n.abrupt("return",yue(t.schema,o,u,c,l));case 20:case"end":return n.stop()}}),n)})))()}})}function kue(e){var t=e._attachments;return delete(e=Ss(e))._attachments,(e=Fs(e))._attachments=t,e}function Cue(e){if("string"!=typeof e)throw Gs("EN1",{password:e});if(e.length<8)throw $s("EN2",{minPassLength:8,password:e})}Mv(Ite);var _ue=new hue(vue);function xue(){return Sue.apply(this,arguments)}function Sue(){return(Sue=(0,o.A)(u().mark((function e(){var t,n,r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Hre(Tue),e.prev=1,e.next=4,_ue.isConnection(Ure,!1);case 4:if(!e.sent){e.next=7;break}return e.next=7,_ue.closeConnection(Ure,!1);case 7:e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:return n=cse(_ue,tae.Ii),r=due({sqliteBasics:n}),t=Jre()?Eue({storage:r}):r,(i={name:Ure,storage:t,eventReduce:!0,hashFunction:Rte,cleanupPolicy:{minimumDeletedTime:0,minimumCollectionAge:6e4,runEach:6e4,awaitReplicationsInSync:!1,waitForLeadership:!0}}).password=window.Better_Messages.ukey,e.abrupt("return",i);case 17:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function Tue(){return Fue.apply(this,arguments)}function Fue(){return Fue=(0,o.A)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="Better Messages error deleting database.",e.abrupt("return",new Promise(function(){var e=(0,o.A)(u().mark((function e(n,r){var i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=setTimeout((0,o.A)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),n("timeout");case 2:case"end":return e.stop()}}),e)}))),3e3),console.log("Better Messages deleting database"),e.next=4,hie();case 4:return e.prev=4,e.next=7,vue.deleteDatabase({database:Ure});case 7:clearTimeout(i),console.log("Better Messages database deleted successfully"),n(!0),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),console.log(t,e.t0);case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t,n){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e)}))),Fue.apply(this,arguments)}function Oue(e){return Pue.apply(this,arguments)}function Pue(){return Pue=(0,o.A)(u().mark((function e(t){var n,r,i,a,o,s,c,l,d;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Xae("authorization");case 3:return n=e.sent,e.next=6,Xae("device_private_key");case 6:if(r=e.sent,!n||!r){e.next=41;break}return i=Math.floor(Date.now()/1e3),(a=new ase).setPrivateKey(r),e.next=13,hae.getInfo();case 13:return o=e.sent,e.next=16,oae();case 16:return e.t0=e.sent,e.t1=o.id,e.t2=n.domain,e.t3=n.user_id,e.t4=i,s={device_id:e.t0,app_id:e.t1,domain:e.t2,user_id:e.t3,timestamp:e.t4},c=Bte.SHA256(JSON.stringify(s)),l=a.sign(c.toString(Bte.enc.Hex),(function(e){return Bte.enc.Hex.parse(e).toString()}),"sha256"),d=JSON.stringify({claims:s,token:l}),window.Better_Messages.user_id=s.user_id,window.Better_Messages.authToken=btoa(d),Gie(window.Better_Messages,!0),e.t5=Gre,e.next=31,xue();case 31:return e.t6=e.sent,e.next=34,(0,e.t5)(e.t6);case 34:return e.next=36,P0();case 36:return ZN(),t(!0),e.abrupt("return");case 41:return t(!1),e.abrupt("return");case 43:e.next=50;break;case 45:return e.prev=45,e.t7=e.catch(0),console.error(e.t7),t(!1),e.abrupt("return");case 50:case"end":return e.stop()}}),e,null,[[0,45]])}))),Pue.apply(this,arguments)}function Iue(){return Bue.apply(this,arguments)}function Bue(){return Bue=(0,o.A)(u().mark((function e(){var t,n,r,i,a,o,s,c,l,d;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xae("authorization");case 2:return t=e.sent,e.next=5,Xae("device_private_key");case 5:if(n=e.sent,!t||!n){e.next=29;break}return r=Math.floor(Date.now()/1e3),(i=new ase).setPrivateKey(n),e.next=12,hae.getInfo();case 12:return a=e.sent,e.next=15,oae();case 15:return e.t0=e.sent,e.t1=a.id,e.t2=t.domain,e.t3=t.user_id,e.t4=r,o={device_id:e.t0,app_id:e.t1,domain:e.t2,user_id:e.t3,timestamp:e.t4},s=Bte.SHA256(JSON.stringify(o)),c=i.sign(s.toString(Bte.enc.Hex),(function(e){return Bte.enc.Hex.parse(e).toString()}),"sha256"),l=JSON.stringify({claims:o,token:c}),d=btoa(l),window.Better_Messages.authToken=d,e.abrupt("return",d);case 29:return e.abrupt("return",!1);case 30:case"end":return e.stop()}}),e)}))),Bue.apply(this,arguments)}var Rue=!1,Nue=0;function Mue(){return Lue.apply(this,arguments)}function Lue(){return(Lue=(0,o.A)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(Rue&&Nue+180>Math.floor(Date.now()/1e3))){e.next=4;break}return e.abrupt("return",Rue);case 4:return e.next=6,Iue();case 6:return Rue=e.sent,Nue=Math.floor(Date.now()/1e3),e.abrupt("return",Rue);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var jue=(0,c.createContext)({pushNotifications:null,setPushNotifications:null}),Uue=Cae("PushNotifications",{});function zue(e){return Vue.apply(this,arguments)}function Vue(){return Vue=(0,o.A)(u().mark((function e(t){var n,r,i,a=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:null,e.next=3,Uae.get({key:t});case 3:if(r=e.sent,null!==(i=r.value)){e.next=9;break}return e.abrupt("return",n);case 9:return e.prev=9,e.abrupt("return",JSON.parse(i));case 13:return e.prev=13,e.t0=e.catch(9),e.abrupt("return",n);case 16:case"end":return e.stop()}}),e,null,[[9,13]])}))),Vue.apply(this,arguments)}function que(e,t){return Hue.apply(this,arguments)}function Hue(){return Hue=(0,o.A)(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Uae.set({key:t,value:JSON.stringify(n)});case 2:case"end":return e.stop()}}),e)}))),Hue.apply(this,arguments)}function Wue(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Kue(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Kue(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Kue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function $ue(e,t,n){return t=(0,S.A)(t),(0,x.A)(e,Gue()?Reflect.construct(t,n||[],(0,S.A)(e).constructor):t.apply(e,n))}function Gue(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Gue=function(){return!!e})()}var Que,Yue=function(e){return e.CapacitorPlatforms=function(e){var t=new Map;t.set("web",{name:"web"});var n=e.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:t};return n.addPlatform=function(e,t){n.platforms.set(e,t)},n.setPlatform=function(e){n.platforms.has(e)&&(n.currentPlatform=n.platforms.get(e))},n}(e)},Xue=Yue("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==__webpack_require__.g?__webpack_require__.g:{});Xue.addPlatform,Xue.setPlatform;!function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"}(Que||(Que={}));var Zue=function(e){function t(e,n,r){var i;return(0,p.A)(this,t),(i=$ue(this,t,[e])).message=e,i.code=n,i.data=r,i}return(0,T.A)(t,e),(0,f.A)(t)}((0,F.A)(Error)),Jue=function(e){var t,n,r,i,a,s=e.CapacitorCustomPlatform||null,c=e.Capacitor||{},l=c.Plugins=c.Plugins||{},d=e.CapacitorPlatforms,p=(null===(t=null==d?void 0:d.currentPlatform)||void 0===t?void 0:t.getPlatform)||function(){return null!==s?s.name:function(e){var t,n;return(null==e?void 0:e.androidBridge)?"android":(null===(n=null===(t=null==e?void 0:e.webkit)||void 0===t?void 0:t.messageHandlers)||void 0===n?void 0:n.bridge)?"ios":"web"}(e)},f=(null===(n=null==d?void 0:d.currentPlatform)||void 0===n?void 0:n.isNativePlatform)||function(){return"web"!==p()},h=(null===(r=null==d?void 0:d.currentPlatform)||void 0===r?void 0:r.isPluginAvailable)||function(e){var t=v.get(e);return!!(null==t?void 0:t.platforms.has(p()))||!!m(e)},m=(null===(i=null==d?void 0:d.currentPlatform)||void 0===i?void 0:i.getPluginHeader)||function(e){var t;return null===(t=c.PluginHeaders)||void 0===t?void 0:t.find((function(t){return t.name===e}))},v=new Map,g=(null===(a=null==d?void 0:d.currentPlatform)||void 0===a?void 0:a.registerPlugin)||function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=v.get(e);if(n)return console.warn('Capacitor plugin "'.concat(e,'" already registered. Cannot register plugins twice.')),n.proxy;var r,i=p(),a=m(e),d=function(){var e=(0,o.A)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r||!(i in t)){e.next=11;break}if("function"!=typeof t[i]){e.next=7;break}return e.next=4,t[i]();case 4:e.t0=r=e.sent,e.next=8;break;case 7:e.t0=r=t[i];case 8:r=e.t0,e.next=20;break;case 11:if(null===s||r||!("web"in t)){e.next=20;break}if("function"!=typeof t.web){e.next=18;break}return e.next=15,t.web();case 15:e.t1=r=e.sent,e.next=19;break;case 18:e.t1=r=t.web;case 19:r=e.t1;case 20:return e.abrupt("return",r);case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(t){var n,r=function(){for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];var p=d().then((function(r){var o=function(t,n){var r,o;if(!a){if(t)return null===(o=t[n])||void 0===o?void 0:o.bind(t);throw new Zue('"'.concat(e,'" plugin is not implemented on ').concat(i),Que.Unimplemented)}var s=null==a?void 0:a.methods.find((function(e){return n===e.name}));return s?"promise"===s.rtype?function(t){return c.nativePromise(e,n.toString(),t)}:function(t,r){return c.nativeCallback(e,n.toString(),t,r)}:t?null===(r=t[n])||void 0===r?void 0:r.bind(t):void 0}(r,t);if(o){var u=o.apply(void 0,s);return n=null==u?void 0:u.remove,u}throw new Zue('"'.concat(e,".").concat(t,'()" is not implemented on ').concat(i),Que.Unimplemented)}));return"addListener"===t&&(p.remove=(0,o.A)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n());case 1:case"end":return e.stop()}}),e)})))),p};return r.toString=function(){return"".concat(t.toString(),"() { [capacitor code] }")},Object.defineProperty(r,"name",{value:t,writable:!1,configurable:!1}),r},h=f("addListener"),g=f("removeListener"),y=function(e,t){var n=h({eventName:e},t),r=function(){var r=(0,o.A)(u().mark((function r(){var i;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n;case 2:i=r.sent,g({eventName:e,callbackId:i},t);case 4:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),i=new Promise((function(e){return n.then((function(){return e({remove:r})}))}));return i.remove=(0,o.A)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.warn("Using addListener() without 'await' is deprecated."),e.next=3,r();case 3:case"end":return e.stop()}}),e)}))),i},b=new Proxy({},{get:function(e,t){switch(t){case"$$typeof":return;case"toJSON":return function(){return{}};case"addListener":return a?y:h;case"removeListener":return g;default:return f(t)}}});return l[e]=b,v.set(e,{name:e,proxy:b,platforms:new Set([].concat((0,z.A)(Object.keys(t)),(0,z.A)(a?[i]:[])))}),b};return c.convertFileSrc||(c.convertFileSrc=function(e){return e}),c.getPlatform=p,c.handleError=function(t){return e.console.error(t)},c.isNativePlatform=f,c.isPluginAvailable=h,c.pluginMethodNoop=function(e,t,n){return Promise.reject("".concat(n,' does not have an implementation of "').concat(t,'".'))},c.registerPlugin=g,c.Exception=Zue,c.DEBUG=!!c.DEBUG,c.isLoggingEnabled=!!c.isLoggingEnabled,c.platform=c.getPlatform(),c.isNative=c.isNativePlatform(),c},ece=function(e){return e.Capacitor=Jue(e)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==__webpack_require__.g?__webpack_require__.g:{}),tce=ece.registerPlugin,nce=(ece.Plugins,function(){return(0,f.A)((function e(t){(0,p.A)(this,e),this.listeners={},this.windowListeners={},t&&(console.warn('Capacitor WebPlugin "'.concat(t.name,'" config object was deprecated in v3 and will be removed in v4.')),this.config=t)}),[{key:"addListener",value:function(e,t){var n=this;this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t);var r=this.windowListeners[e];r&&!r.registered&&this.addWindowListener(r);var i,a=function(){var r=(0,o.A)(u().mark((function r(){return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",n.removeListener(e,t));case 1:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),s=Promise.resolve({remove:a});return Object.defineProperty(s,"remove",{value:(i=(0,o.A)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.warn("Using addListener() without 'await' is deprecated."),e.next=3,a();case 3:case"end":return e.stop()}}),e)}))),function(){return i.apply(this,arguments)})}),s}},{key:"removeAllListeners",value:(t=(0,o.A)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t in this.listeners={},this.windowListeners)this.removeWindowListener(this.windowListeners[t]);this.windowListeners={};case 3:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"notifyListeners",value:function(e,t){var n=this.listeners[e];n&&n.forEach((function(e){return e(t)}))}},{key:"hasListeners",value:function(e){return!!this.listeners[e].length}},{key:"registerWindowListener",value:function(e,t){var n=this;this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:function(e){n.notifyListeners(t,e)}}}},{key:"unimplemented",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"not implemented";return new ece.Exception(e,Que.Unimplemented)}},{key:"unavailable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"not available";return new ece.Exception(e,Que.Unavailable)}},{key:"removeListener",value:(e=(0,o.A)(u().mark((function e(t,n){var r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.listeners[t]){e.next=3;break}return e.abrupt("return");case 3:i=r.indexOf(n),this.listeners[t].splice(i,1),this.listeners[t].length||this.removeWindowListener(this.windowListeners[t]);case 6:case"end":return e.stop()}}),e,this)}))),function(t,n){return e.apply(this,arguments)})},{key:"addWindowListener",value:function(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}},{key:"removeWindowListener",value:function(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}}]);var e,t}()),rce=function(e){return encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape)},ice=function(e){return e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},ace=function(e){function t(){return(0,p.A)(this,t),$ue(this,t,arguments)}return(0,T.A)(t,e),(0,f.A)(t,[{key:"getCookies",value:(s=(0,o.A)(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.cookie,n={},t.split(";").forEach((function(e){if(!(e.length<=0)){var t=e.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE"),r=(0,_.A)(t,2),i=r[0],a=r[1];i=ice(i).trim(),a=ice(a).trim(),n[i]=a}})),e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)}))),function(){return s.apply(this,arguments)})},{key:"setCookie",value:(a=(0,o.A)(u().mark((function e(t){var n,r,i,a,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,n=rce(t.key),r=rce(t.value),i="; expires=".concat((t.expires||"").replace("expires=","")),a=(t.path||"/").replace("path=",""),o=null!=t.url&&t.url.length>0?"domain=".concat(t.url):"",document.cookie="".concat(n,"=").concat(r||"").concat(i,"; path=").concat(a,"; ").concat(o,";"),e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),function(e){return a.apply(this,arguments)})},{key:"deleteCookie",value:(i=(0,o.A)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,document.cookie="".concat(t.key,"=; Max-Age=0"),e.next=7;break;case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 7:case"end":return e.stop()}}),e,null,[[0,4]])}))),function(e){return i.apply(this,arguments)})},{key:"clearCookies",value:(r=(0,o.A)(u().mark((function e(){var t,n,r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,t=document.cookie.split(";")||[],n=Wue(t);try{for(n.s();!(r=n.n()).done;)i=r.value,document.cookie=i.replace(/^ +/,"").replace(/=.*/,"=;expires=".concat((new Date).toUTCString(),";path=/"))}catch(e){n.e(e)}finally{n.f()}e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),function(){return r.apply(this,arguments)})},{key:"clearAllCookies",value:(n=(0,o.A)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.clearCookies();case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 8:case"end":return e.stop()}}),e,this,[[0,5]])}))),function(){return n.apply(this,arguments)})}]);var n,r,i,a,s}(nce),oce=(tce("CapacitorCookies",{web:function(){return new ace}}),function(){var e=(0,o.A)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r=new FileReader;r.onload=function(){var t=r.result;e(t.indexOf(",")>=0?t.split(",")[1]:t)},r.onerror=function(e){return n(e)},r.readAsDataURL(t)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),sce=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e)return null;var n=Object.entries(e).reduce((function(e,n){var r,i,a=(0,_.A)(n,2),o=a[0],s=a[1];return Array.isArray(s)?(i="",s.forEach((function(e){r=t?encodeURIComponent(e):e,i+="".concat(o,"=").concat(r,"&")})),i.slice(0,-1)):(r=t?encodeURIComponent(s):s,i="".concat(o,"=").concat(r)),"".concat(e,"&").concat(i)}),"");return n.substr(1)},uce=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign({method:e.method||"GET",headers:e.headers},t),r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.keys(e),n=Object.keys(e).map((function(e){return e.toLocaleLowerCase()})),r=n.reduce((function(n,r,i){return n[r]=e[t[i]],n}),{});return r}(e.headers),i=r["content-type"]||"";if("string"==typeof e.data)n.body=e.data;else if(i.includes("application/x-www-form-urlencoded")){for(var a=new URLSearchParams,o=0,s=Object.entries(e.data||{});o<s.length;o++){var u=(0,_.A)(s[o],2),c=u[0],l=u[1];a.set(c,l)}n.body=a.toString()}else if(i.includes("multipart/form-data")||e.data instanceof FormData){var d=new FormData;if(e.data instanceof FormData)e.data.forEach((function(e,t){d.append(t,e)}));else for(var p=0,f=Object.keys(e.data);p<f.length;p++){var h=f[p];d.append(h,e.data[h])}n.body=d;var m=new Headers(n.headers);m.delete("content-type"),n.headers=m}else(i.includes("application/json")||"object"===(0,C.A)(e.data))&&(n.body=JSON.stringify(e.data));return n},cce=function(e){function t(){return(0,p.A)(this,t),$ue(this,t,arguments)}return(0,T.A)(t,e),(0,f.A)(t,[{key:"request",value:(s=(0,o.A)(u().mark((function e(t){var n,r,i,a,o,s,c,l,d,p,f;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=uce(t,t.webFetchExtra),r=sce(t.params,t.shouldEncodeUrlParams),i=r?"".concat(t.url,"?").concat(r):t.url,e.next=5,fetch(i,n);case 5:a=e.sent,o=a.headers.get("content-type")||"",s=a.ok?t:{},c=s.responseType,l=void 0===c?"text":c,o.includes("application/json")&&(l="json"),e.t0=l,e.next="arraybuffer"===e.t0||"blob"===e.t0?12:"json"===e.t0?19:("document"===e.t0||e.t0,23);break;case 12:return e.next=14,a.blob();case 14:return p=e.sent,e.next=17,oce(p);case 17:return d=e.sent,e.abrupt("break",26);case 19:return e.next=21,a.json();case 21:return d=e.sent,e.abrupt("break",26);case 23:return e.next=25,a.text();case 25:d=e.sent;case 26:return f={},a.headers.forEach((function(e,t){f[t]=e})),e.abrupt("return",{data:d,headers:f,status:a.status,url:a.url});case 29:case"end":return e.stop()}}),e)}))),function(e){return s.apply(this,arguments)})},{key:"get",value:(a=(0,o.A)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.request(Object.assign(Object.assign({},t),{method:"GET"})));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"post",value:function(){var e=(0,o.A)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.request(Object.assign(Object.assign({},t),{method:"POST"})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"put",value:(i=(0,o.A)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.request(Object.assign(Object.assign({},t),{method:"PUT"})));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"patch",value:(r=(0,o.A)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.request(Object.assign(Object.assign({},t),{method:"PATCH"})));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"delete",value:(n=(0,o.A)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.request(Object.assign(Object.assign({},t),{method:"DELETE"})));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})}]);var n,r,i,a,s}(nce),lce=(tce("CapacitorHttp",{web:function(){return new cce}}),tce("VoipNotifications",{}));function dce(){return pce.apply(this,arguments)}function pce(){return(pce=(0,o.A)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pie.post("/app/savePushToken",{voip_token:yce});case 3:if("OK"!==e.sent.data){e.next=10;break}return e.next=7,que("voip_notifications_token",yce);case 7:return e.abrupt("return",!0);case 10:return e.abrupt("return",!1);case 11:e.next=16;break;case 13:throw e.prev=13,e.t0=e.catch(0),eae(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function fce(){return hce.apply(this,arguments)}function hce(){return(hce=(0,o.A)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pie.post("/app/savePushToken",{voip_token:""});case 3:if("OK"!==e.sent.data){e.next=10;break}return e.next=7,zae("voip_notifications_token");case 7:return e.abrupt("return",!0);case 10:return e.abrupt("return",!1);case 11:e.next=16;break;case 13:throw e.prev=13,e.t0=e.catch(0),eae(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function mce(){return vce.apply(this,arguments)}function vce(){return(vce=(0,o.A)(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zue("voip_notifications_token");case 2:return t=e.sent,e.next=5,zue("push_notifications_unsubscribed",!1);case 5:if(n=e.sent,"granted"!==Nce||!yce||t||n){e.next=11;break}return e.next=9,dce();case 9:case 14:e.next=19;break;case 11:if("granted"===Nce||!t){e.next=16;break}return e.next=14,fce();case 16:if("granted"!==Nce||!t||yce===t||n){e.next=19;break}return e.next=19,dce();case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var gce=new Set,yce=null;function bce(){return(bce=(0,o.A)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("ios"===tae.Ii.getPlatform()){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,lce.register();case 4:return e.next=6,lce.getToken();case 6:return""!==(t=e.sent).token.trim()&&(yce=t.token.trim()),e.next=10,mce();case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var wce=new Map,Dce=!1;function Ace(e,t){return Ece.apply(this,arguments)}function Ece(){return(Ece=(0,o.A)(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hie("better_messages_call_answer_force",!1,t,n);case 2:e.sent||setTimeout((function(){return Ace(t,n)}),1e3);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kce(){return Cce.apply(this,arguments)}function Cce(){return Cce=(0,o.A)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lce.removeAllListeners();case 2:if("ios"!==tae.Ii.getPlatform()){e.next=5;break}return e.next=5,lce.addListener("voipTokenRegistration",(function(e){yce=e.token,mce()}));case 5:if(lce.addListener("voipIncomingCall",function(){var e=(0,o.A)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("voipIncomingCall listener",t),O2(Number(t.threadId),Number(t.messageId)),wce.set(t.messageId,{id:t.id,threadId:t.threadId,callerId:t.callerId,type:t.type});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),lce.addListener("voipCallAnswered",function(){var e=(0,o.A)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.location.hash="#/conversation/"+t.threadId,e.next=3,Dee(1e3);case 3:(n=wce.get(String(t.messageId)))&&(gce.add(String(t.messageId)),lce.cancelledCall({id:n.id})),Ace(Number(t.messageId),Number(t.threadId));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),lce.addListener("voipCallCancelled",function(){var e=(0,o.A)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:gce.has(String(t.messageId))||(S2(Number(t.callerId),Number(t.threadId),Number(t.messageId)),gce.add(String(t.messageId)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),lce.addListener("voipCallStarted",function(){var e=(0,o.A)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log({title:"Call started",message:"Call started from "+t.id});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),!Dce){e.next=11;break}return e.abrupt("return");case 11:Dce=!0,Uie("better_messages_call_self_rejected","better_messages_app",(function(e,t){if(console.log("better_messages_call_self_rejected",t,e),wce.has(String(e))){gce.add(String(e));var n=wce.get(String(e));lce.rejectCall({id:n.id})}})),Uie("better_messages_call_aborted","better_messages_app",(function(e,t){if(console.log("better_messages_call_aborted",t,e),wce.has(String(e))){gce.add(String(e));var n=wce.get(String(e));lce.cancelledCall({id:n.id})}})),Uie("better_messages_call_user_rejected","better_messages_app",(function(e,t,n){if(console.log("better_messages_call_user_rejected",e,t,n),wce.has(String(e))){gce.add(String(e));var r=wce.get(String(e));lce.cancelledCall({id:r.id})}})),Uie("better_messages_call_end","better_messages_app",(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(console.log("better_messages_call_end",e,t,n),wce.has(String(e))){gce.add(String(e));var r=wce.get(String(e));lce.cancelledCall({id:r.id})}}));case 16:case"end":return e.stop()}}),e)}))),Cce.apply(this,arguments)}function _ce(){return _ce=(0,o.A)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:qie("better_messages_no_sleep_enable","better-messages-app"),zie("better_messages_call_show_notification","better_messages",(function(e,n){return"granted"===t?I2(n.message_id)>1&&!wce.has(String(n.message_id)):e})),zie("better_messages_call_show_incoming_screen","better-messages-app",(function(e,n){return"granted"===t?I2(n.message_id)>1&&!wce.has(String(n.message_id)):e})),qie("BetterMessagesPlayIncomingCallSound","better-messages-app"),zie("BetterMessagesPlayIncomingCallSound","better-messages-app",(function(e){return!("granted"===t)&&e}));case 5:case"end":return e.stop()}}),e)}))),_ce.apply(this,arguments)}function xce(){return Sce.apply(this,arguments)}function Sce(){return(Sce=(0,o.A)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={token:Rce},yce&&(t.voip_token=yce),e.next=5,pie.post("/app/savePushToken",t);case 5:if("OK"!==e.sent.data){e.next=15;break}return e.next=9,que("push_notifications_token",Rce);case 9:if(!yce){e.next=12;break}return e.next=12,que("voip_notifications_token",yce);case 12:return e.abrupt("return",!0);case 15:return e.abrupt("return",!1);case 16:e.next=21;break;case 18:throw e.prev=18,e.t0=e.catch(0),eae(e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}function Tce(){return Fce.apply(this,arguments)}function Fce(){return(Fce=(0,o.A)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pie.post("/app/savePushToken",{token:"",voip_token:""});case 3:if("OK"!==e.sent.data){e.next=12;break}return e.next=7,zae("push_notifications_token");case 7:return e.next=9,zae("voip_notifications_token");case 9:return e.abrupt("return",!0);case 12:return e.abrupt("return",!1);case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(0),eae(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})))).apply(this,arguments)}function Oce(){return Pce.apply(this,arguments)}function Pce(){return(Pce=(0,o.A)(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zue("push_notifications_token");case 2:return t=e.sent,e.next=5,zue("push_notifications_unsubscribed",!1);case 5:if(n=e.sent,"granted"!==Nce||!Rce||t||n){e.next=11;break}return e.next=9,xce();case 9:case 14:e.next=19;break;case 11:if("granted"===Nce||!t){e.next=16;break}return e.next=14,Tce();case 16:if("granted"!==Nce||!t||Rce===t||n){e.next=19;break}return e.next=19,xce();case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ice,Bce,Rce=null,Nce=null;function Mce(){return Mce=(0,o.A)(u().mark((function e(t){var n,r,i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="android"===tae.Ii.getPlatform(),r="ios"===tae.Ii.getPlatform(),e.next=4,Uue.checkPermissions();case 4:if(i=e.sent,t(i.receive),Nce=i.receive,hae.addListener("appStateChange",(function(e){e.isActive&&Uue.checkPermissions().then((function(e){t(e.receive),Nce=e.receive}))})),console.log("Permission status: "+i.receive),"prompt"!==i.receive){e.next=20;break}return e.next=12,zue("push_notifications_proposed",!1);case 12:if(e.sent){e.next=20;break}return e.next=15,Uue.requestPermissions();case 15:return i=e.sent,t(i.receive),Nce=i.receive,e.next=20,que("push_notifications_proposed",!0);case 20:return e.next=22,Uue.checkPermissions();case 22:if(a=e.sent,t(a.receive),Nce=a.receive,!n){e.next=28;break}return e.next=28,Lce();case 28:if(!r){e.next=31;break}return e.next=31,Oce();case 31:return e.next=33,Uue.register();case 33:if(!n){e.next=36;break}return e.next=36,Oce();case 36:case"end":return e.stop()}}),e)}))),Mce.apply(this,arguments)}function Lce(){return jce.apply(this,arguments)}function jce(){return jce=(0,o.A)(u().mark((function e(){var t,n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Uue.listChannels();case 2:if(!((t=e.sent).channels.length>0)){e.next=12;break}if(n=t.channels.filter((function(e){return"messages"===e.id})),0!==n.length){e.next=8;break}return e.next=8,Uue.createChannel({id:"messages",name:"Messages",description:"Notifications for new messages",importance:4,visibility:0,sound:"default",lights:!0,vibration:!0});case 8:if(r=t.channels.filter((function(e){return"calls"===e.id})),0!==r.length){e.next=12;break}return e.next=12,Uue.createChannel({id:"calls",name:"Calls",description:"Notifications for incoming calls",importance:5,visibility:1,sound:"calling",lights:!0,vibration:!0});case 12:case"end":return e.stop()}}),e)}))),jce.apply(this,arguments)}function Uce(){return zce.apply(this,arguments)}function zce(){return zce=(0,o.A)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Uue.removeAllListeners();case 2:Uue.addListener("registration",(function(e){console.log("Push registration token: ",e.value),Rce=e.value,Oce()})),Uue.addListener("registrationError",(function(e){console.error("Registration error: ",e.error)})),Uue.addListener("pushNotificationReceived",(function(e){console.log("Push notification received: ",e);var t="NO_CATEGORY";if("ios"===tae.Ii.getPlatform()&&e.data&&e.data.aps&&e.data.aps.category&&(t=e.data.aps.category),"android"===tae.Ii.getPlatform()&&e.data&&e.data.category&&(t=e.data.category),console.log("PUSH CATEGORY ".concat(t)),"INCOMING_CALL"===t)e.data.threadId,e.data.messageId})),Uue.addListener("pushNotificationActionPerformed",(function(e){console.log("Push notification action performed",e);var t,n,r=e.notification,i="NO_CATEGORY";switch("ios"===tae.Ii.getPlatform()&&r.data&&r.data.aps&&r.data.aps.category&&(i=r.data.aps.category),"android"===tae.Ii.getPlatform()&&r.data&&r.data.category&&(i=r.data.category),console.log("PUSH CATEGORY ".concat(i)),i){case"NEW_MESSAGE":t=r.data.threadId,window.location.hash="#/conversation/"+t;break;case"INCOMING_CALL":t=r.data.threadId,n=r.data.messageId,Uue.removeDeliveredNotifications({notifications:[{tag:"call_".concat(t,"_").concat(n),id:"0"}]}),window.location.hash="#/conversation/"+t}}));case 6:case"end":return e.stop()}}),e)}))),zce.apply(this,arguments)}function Vce(e){return qce.apply(this,arguments)}function qce(){return(qce=(0,o.A)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Rae.remove({key:t});case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function Hce(){return Wce.apply(this,arguments)}function Wce(){return Wce=(0,o.A)(u().mark((function e(){var t,n=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]&&n[0],e.prev=1,e.next=4,nae.show({autoHide:!1});case 4:if(t){e.next=13;break}return e.prev=5,e.next=8,Tce();case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(5),console.error("Failed to unsubscribe from push notifications",e.t0);case 13:return e.prev=13,e.next=16,Promise.all([Vce("authorization"),Vce("device_private_key")]);case 16:e.next=20;break;case 18:e.prev=18,e.t1=e.catch(13);case 20:location.hash="#/",location.reload(),e.next=28;break;case 24:throw e.prev=24,e.t2=e.catch(1),console.error(e.t2),eae(e.t2);case 28:case"end":return e.stop()}}),e,null,[[1,24],[5,10],[13,18]])}))),Wce.apply(this,arguments)}!function(e){e.Accessibility="accessibility",e.Account="account",e.AirplaneMode="airplane_mode",e.Apn="apn",e.ApplicationDetails="application_details",e.ApplicationDevelopment="application_development",e.Application="application",e.AppNotification="app_notification",e.BatteryOptimization="battery_optimization",e.Bluetooth="bluetooth",e.Captioning="captioning",e.Cast="cast",e.DataRoaming="data_roaming",e.Date="date",e.Display="display",e.Dream="dream",e.Home="home",e.Keyboard="keyboard",e.KeyboardSubType="keyboard_subtype",e.Locale="locale",e.Location="location",e.ManageApplications="manage_applications",e.ManageAllApplications="manage_all_applications",e.MemoryCard="memory_card",e.Network="network",e.NfcSharing="nfcsharing",e.NfcPayment="nfc_payment",e.NfcSettings="nfc_settings",e.Print="print",e.Privacy="privacy",e.QuickLaunch="quick_launch",e.Search="search",e.Security="security",e.Settings="settings",e.ShowRegulatoryInfo="show_regulatory_info",e.Sound="sound",e.Storage="storage",e.Sync="sync",e.Usage="usage",e.UserDictionary="user_dictionary",e.VoiceInput="voice_input",e.Wifi="wifi",e.WifiIp="wifi_ip",e.Wireless="wireless",e.ZenMode="zen_mode",e.ZenModePriority="zen_mode_priority",e.ZenModeBlockedEffects="zen_mode_blocked_effects"}(Ice||(Ice={})),function(e){e.About="about",e.App="app",e.AppNotification="appNotification",e.AutoLock="autoLock",e.Bluetooth="bluetooth",e.DateTime="dateTime",e.FaceTime="facetime",e.General="general",e.Keyboard="keyboard",e.ICloud="iCloud",e.ICloudStorageBackup="iCloudStorageBackup",e.International="international",e.LocationServices="locationServices",e.Music="music",e.Notes="notes",e.Notifications="notifications",e.Phone="phone",e.Photos="photos",e.ManagedConfigurationList="managedConfigurationList",e.Reset="reset",e.Ringtone="ringtone",e.Sounds="sounds",e.SoftwareUpdate="softwareUpdate",e.Store="store",e.Tracking="tracking",e.Wallpaper="wallpaper",e.WiFi="wifi",e.Tethering="tethering",e.DoNotDisturb="doNotDisturb",e.TouchIdPasscode="touchIdPasscode",e.ScreenTime="screenTime",e.Accessibility="accessibility"}(Bce||(Bce={}));var Kce=(0,tae.F3)("NativeSettings",{web:function(){return Promise.resolve().then(__webpack_require__.bind(__webpack_require__,75928)).then((function(e){return new e.NativeSettingsWeb}))}});function $ce(){return($ce=(0,o.A)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zue("push_notifications_token");case 2:if(e.sent){e.next=7;break}return e.abrupt("return",!1);case 7:return e.abrupt("return",!0);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gce(){var e=(0,c.useContext)(jue),t=e.pushNotifications,n=e.setPushNotifications,r=(0,c.useState)(!1),i=(0,_.A)(r,2),a=i[0],s=i[1],l=(0,c.useState)(!1),d=(0,_.A)(l,2),p=d[0],f=d[1],h=YV(!1),m=(0,_.A)(h,3),v=m[0],g=m[1],y=m[2],b=(0,c.useCallback)((function(){"granted"===t?function(){return $ce.apply(this,arguments)}().then((function(e){s(e)})):s(!1)}),[t]);return(0,c.useEffect)((function(){b()}),[t]),c.createElement(c.Fragment,null,c.createElement("div",{className:"bpbm-options-group bm-app-settings"},c.createElement("h4",{className:"bpbm-user-option-title"},Mie("Push Notifications","Mobile App","bp-better-messages")),"granted"===t&&c.createElement(c.Fragment,null,c.createElement("div",{className:"bpbm-user-option"},c.createElement("div",{className:"bpbm-user-option-description"},Mie("Push Notifications permissions are enabled.","Mobile App","bp-better-messages"))),c.createElement("div",{className:"bpbm-user-option"},a&&c.createElement("button",{disabled:p,onClick:function(){f(!0),Tce().then((0,o.A)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,que("push_notifications_unsubscribed",!0);case 2:b();case 3:case"end":return e.stop()}}),e)})))).finally((function(){f(!1)}))}},Mie("Disable push notifications","Mobile App","bp-better-messages")),!a&&c.createElement("button",{disabled:p,onClick:function(){f(!0),xce().then((0,o.A)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zae("push_notifications_unsubscribed");case 2:b();case 3:case"end":return e.stop()}}),e)})))).finally((function(){f(!1)}))}},Mie("Enable push notifications","Mobile App","bp-better-messages")))),"denied"===t&&c.createElement(c.Fragment,null,c.createElement("div",{className:"bpbm-user-option"},c.createElement("div",{className:"bpbm-user-option-description"},Mie("Push Notifications permissions are denied. Please enable them in your system settings to receive push notifications.","Mobile App","bp-better-messages"))),c.createElement("div",{className:"bpbm-user-option"},c.createElement("button",{onClick:function(){Kce.open({optionAndroid:Ice.ApplicationDetails,optionIOS:Bce.App})}},Mie("Open Settings","Mobile App","bp-better-messages")))),"prompt"===t&&c.createElement(c.Fragment,null,c.createElement("div",{className:"bpbm-user-option"},c.createElement("div",{className:"bpbm-user-option-description"},Mie("Push Notifications permissions are not enabled. Please enable them to receive push notifications.","Mobile App","bp-better-messages"))),c.createElement("div",{className:"bpbm-user-option"},c.createElement("button",{onClick:(0,o.A)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Uue.requestPermissions();case 2:t=e.sent,n(t.receive);case 4:case"end":return e.stop()}}),e)})))},Mie("Enable","Mobile App","bp-better-messages"))))),c.createElement("div",{className:"bpbm-options-group bm-app-settings"},c.createElement("div",{className:"bpbm-user-option"},c.createElement("button",{onClick:(0,o.A)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!confirm(Mie("Are you sure you want to logout?","Mobile App","bp-better-messages"))){e.next=3;break}return e.next=3,Hce();case 3:case"end":return e.stop()}}),e)})))},Mie("Logout","Mobile App","bp-better-messages"))),c.createElement("div",{className:"bpbm-user-option"},c.createElement("span",{className:"bm-user-option-link",onClick:(0,o.A)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!y.current){e.next=2;break}return e.abrupt("return");case 2:return g(!0),e.next=5,Iue();case 5:window.BetterMessagesAppUpdateScripts(!0).finally((function(){window.location.hash="#",window.location.reload(),g(!1)}));case 6:case"end":return e.stop()}}),e)})))},Mie(v?"Reloading":"Reload application","Mobile App","bp-better-messages"))),!!Sie.mobile.deleteAccount&&c.createElement("div",{className:"bpbm-user-option"},c.createElement("span",{className:"bm-user-option-link"},c.createElement("span",{onClick:(0,o.A)(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Iue();case 2:t=e.sent,n=Sie.mobile.deleteAccount+t,Gae.open({url:n});case 5:case"end":return e.stop()}}),e)})))},Mie("Delete Account","Mobile App","bp-better-messages"))))))}var Qce=(0,tae.F3)("KeepAwake",{web:function(){return Promise.resolve().then(__webpack_require__.bind(__webpack_require__,63904)).then((function(e){return new e.KeepAwakeWeb}))}});var Yce,Xce,Zce=(0,tae.F3)("Badge",{web:function(){return Promise.resolve().then(__webpack_require__.bind(__webpack_require__,11648)).then((function(e){return new e.BadgeWeb}))}});!function(e){e.Dark="DARK",e.Light="LIGHT",e.Default="DEFAULT"}(Yce||(Yce={})),function(e){e.None="NONE",e.Slide="SLIDE",e.Fade="FADE"}(Xce||(Xce={}));var Jce=(0,tae.F3)("StatusBar");function ele(){if(window.BetterMessagesWaitingEvents){var e=window.BetterMessagesWaitingEvents;Object.keys(e).forEach((function(t){console.log("Key: ".concat(t,", Value: ").concat(e[t]))}))}}function tle(e){var t=e.reactRoot,n=e.root,r=(0,c.useState)("Restart"),i=(0,_.A)(r,2),a=i[0],o=i[1],s=(0,c.useState)(!1),u=(0,_.A)(s,2),l=u[0],d=u[1],p=function(e){e.preventDefault(),d(!0),o("Downloading scripts from server..."),window.BetterMessagesAppUpdateScripts(!0).then((function(){o("Scripts downloaded. Reloading..."),setTimeout((function(){window.location.reload(),d(!1)}),1e3)})).catch((function(){o("Error while downloading scripts. Reloading..."),setTimeout((function(){window.location.reload(),d(!1)}),1e3)}))};return c.createElement(p2,{FallbackComponent:function(e){var t=e.error;e.resetErrorBoundary;return c.createElement("div",{id:"better-messages-mobile-app"},c.createElement("div",{id:"better-messages-fallback-screen"},c.createElement("div",null,c.createElement("p",null,"Application error"),c.createElement("p",null,c.createElement("button",{id:"better-messages-retry-button",onClick:p,disabled:l},a)),c.createElement("pre",{style:{color:"red",fontSize:12}},t.message))))}},c.createElement(nle,{reactRoot:t,root:n}))}function nle(e){var t=e.reactRoot,n=e.root,r=(0,c.useState)(null),i=(0,_.A)(r,2),a=i[0],s=i[1],l=(0,c.useState)(),d=(0,_.A)(l,2),p=d[0],f=d[1];(0,c.useEffect)((function(){h()}),[]),(0,c.useEffect)((function(){!function(e){_ce.apply(this,arguments)}(p)}),[p]);var h=function(){var e=(0,o.A)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B0().then((function(){nee()})),Uce(),kce(),qie("better_messages_no_sleep_enable","better-messages-app"),zie("better_messages_no_sleep_enable","better-messages-app",(function(e){return Qce.keepAwake(),!1})),qie("better_messages_no_sleep_disable","better-messages-app"),zie("better_messages_no_sleep_disable","better-messages-app",(function(e){return Qce.allowSleep(),!1})),Yae.addListener("keyboardDidShow",(function(){var e=document.activeElement;e&&e!==document.body&&e.scrollIntoView({behavior:"smooth"})})),Vie("better_messages_update_unread","better_messages_app"),Uie("better_messages_update_unread","better_messages_app",(function(e){Zce.set({count:e})})),zie("better_messages_user_settings_after","BetterMessagesApplication",(function(e){return e.push(c.createElement(Gce,{key:"mobile-settings"})),e})),"android"===tae.Ii.getPlatform()&&(Jce.setOverlaysWebView({overlay:!0}),Jce.setStyle({style:Yce.Light})),e.next=10,Promise.all([hae.removeAllListeners(),Yae.removeAllListeners(),nae.show({autoHide:!1}),Oue(s)]);case 10:return ele(),e.next=13,nae.hide();case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){a?(function(e){return Mce.apply(this,arguments)}(f).then((function(){!function(){bce.apply(this,arguments)}()})),zie("better_messages_api_request_config","better_messages_app",function(){var e=(0,o.A)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.requestType&&"upload"===t.requestType&&(t.adapter="capacitor"),e.next=3,Mue();case 3:return n=e.sent,t.headers.Authorization="BMAuth "+n,e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),zie("better_messages_api_response","better_messages_app",(function(e){return console.log("better_messages_api_response",e.headers["x-bm-app-scripts-hash"],window.localManifestHash),"string"==typeof e.headers["x-bm-app-scripts-hash"]&&window.localManifestHash!==e.headers["x-bm-app-scripts-hash"]&&window.BetterMessagesAppUpdateScripts(),e})),zie("better_messages_unhandled_api_error","better_messages_app",(function(e,t,n){return console.log("better_messages_unhandled_api_error",e,t,n),t.data&&"mobile_app_auth"===t.data.code&&Hce(!0),e}))):(qie("better_messages_api_request_config","better_messages_app"),qie("better_messages_api_response","better_messages_app"),qie("better_messages_unhandled_api_error","better_messages_app"))}),[a]),c.createElement(jue.Provider,{value:{pushNotifications:p,setPushNotifications:f}},!1===a&&c.createElement(Qae,null),a&&c.createElement(U6,{reactRoot:t,root:n,placeholder:"",forceMobile:!0}))}window.ResizeObserver||(0,d.ai)(),function(){ile.apply(this,arguments)}();var rle=!1;function ile(){return(ile=(0,o.A)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Gie(window.Better_Messages),rle=!0,sle();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}document.addEventListener("DOMContentLoaded",(function(){sle()}));var ale=!1,ole=!1;function sle(){if(rle)if(document.body){if(Yv()&&(document.body.classList.add("bm-mobile-device"),Gv.name.includes("Android")&&document.body.classList.add("bm-mobile-device-android"),Zv()&&document.body.classList.add("bm-mobile-device-ios"),t6()&&document.body.classList.add("bm-mobile-device-pwa")),eg()&&document.body.classList.add("bm-mobile-device-ios-old"),!ale){var e=document.createElement("div");e.className="bm-toasts-container",document.body.appendChild(e),(0,a2.createRoot)(e).render(c.createElement(Py,null)),ale=!0}if(!ole){var t=document.createElement("div");t.id="better-messages-modals-container",document.body.appendChild(t),(0,a2.createRoot)(t).render(c.createElement(uP,null)),ole=!0}var n=document.getElementById("better-messages-mobile-app");if(!n.classList.contains("bm-initialized")){n.classList.add("bm-initialized");var r=(0,a2.createRoot)(n);r.render(c.createElement(tle,{root:n,reactRoot:r}))}}else window.setTimeout(sle,50)}function ule(){return cle.apply(this,arguments)}function cle(){return(cle=(0,o.A)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hce();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lle(){return dle.apply(this,arguments)}function dle(){return(dle=(0,o.A)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Uue.getDeliveredNotifications();case 2:return t=e.sent,e.abrupt("return",t.notifications);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}})(),__webpack_exports__})()));